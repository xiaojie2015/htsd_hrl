function Dictionary(e){return{}}function dictionary(e){return{}}function int(e){return Math.floor(e)}function singleton(e){if(e&&GConfig.DEBUG)throw Error(GConst.NOT_CREATE_OBJ);return!0}function toChars(e){return void 0==e||null==e?GConst.NULL_STRING:e.toString()}function usable(e){return null==e?!1:void 0==e?!1:e==GConst.NULL_STRING?!1:!0}function errorNull(e){}function wrong(e){}function select(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(e),i.removeAllRanges(),i.addRange(r),t=i.toString()}return t}function codeEditor(){var player=document.getElementById("egret-player");player.style.cssFloat="left",player.style.width="70%",player.style.left="30%";var link=document.createElement("link");link.setAttribute("rel","stylesheet"),link.setAttribute("type","text/css"),link.setAttribute("href","libs/debug/codemirror.css"),document.getElementsByTagName("body")[0].appendChild(link);var codediv=document.createElement("div");codediv.id="codeDiv",codediv.className="codeDiv",codediv.style.cssText="width:29%;height:630px;position:absolute;top:110px;left:0px",codediv.style.border="1px solid grey",codediv.style.background="#cccccc";var editor={},str="",logtxt=document.createElement("textarea");logtxt.id="logTxt",logtxt.className="logTxt",logtxt.style.cssText="float:left;display:inline;width:98%;height:300px;z-index:999999;position:absolute;border:0px;background:none;top:318px;left:0px;",logtxt.disabled=!0,trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];logtxt.value+=e.join()+"\n"};var txt=document.createElement("textarea");txt.className="code",txt.id="code",txt.style.cssText="float:left;display:inline;width:98%;height:630px;z-index:999999;position:absolute;border:0px;background:none;",document.onkeydown=function(e){e.ctrlKey&&13===e.keyCode?(str=editor.getValue(),str&&GameCmd.instance.eval(str)):27===e.keyCode&&editor.setValue("")};var pretty=document.createElement("script");pretty.setAttribute("type","text/javascript"),pretty.setAttribute("src","libs/debug/codemirror.js"),pretty.onload=function(){var js=document.createElement("script");js.setAttribute("type","text/javascript"),js.setAttribute("src","libs/debug/javascript.js"),js.onload=function(){eval("editor = CodeMirror.fromTextArea(txt,{lineNumbers: true,matchBrackets: true,continueComments: 'Enter',extraKeys: { 'Ctrl-Q': 'toggleComment'}});")},document.getElementsByTagName("body")[0].appendChild(js)},document.getElementsByTagName("body")[0].appendChild(pretty),codediv.appendChild(txt),codediv.appendChild(logtxt),document.body.appendChild(codediv),setTimeout(function(){var e=document.createEvent("Event");e.initEvent("resize",!0,!0),player.dispatchEvent(e)},100)}function loadDebugJs(e){var t=document.createElement("script");t.setAttribute("type","text/javascript"),t.setAttribute("src","libs/debug/"+e+".js"),t.onload=function(){trace("test")},document.getElementsByTagName("body")[0].appendChild(t)}function showEditor(){codediv?document.body.appendChild(codediv):codeEditor();var e=document.getElementById("egret-player");if(e){e.style.cssFloat="right",e.style.display="inline",e.style.zIndex="10",e.style.width="70%";var t=document.createEvent("Event");t.initEvent("resize",!0,!0),e.dispatchEvent(t)}}function hideEditor(){codediv&&document.body.removeChild(codediv);var e=document.getElementById("egret-player");if(e){e.style.cssFloat="right",e.style.display="inline",e.style.zIndex="10",e.style.width="100%";var t=document.createEvent("Event");t.initEvent("resize",!0,!0),e.dispatchEvent(t)}}function goto(e){SceneManager.instance.enter(e)}function speedup(e){SpeedupManager.instance.speedup(e)}function testDamage(e){QycO.BP=int(e)}function clearLog(){var e=document.getElementById("logTxt");e&&e.value&&(e.value="")}function cmd(e){return GameCmd.instance.cmd(e)}function openCmd(){eval("var t=document.createElement('textarea');t.style.cssText='width:100%;height:150px;z-index:99999999;position:absolute;top:1px;left:1px';document.body.appendChild(t);document.ondblclick=function(){eval(t.value)}")}function msgTip(e){MessageTipManager.instance.show(e)}function $barToolsInit(){var e=App.IG;e.addBar(MainToolBar.instance),e.addBar(ResourcesBar.instance),e.addBar(TopToolsBar.instance),e.addBar(TaskBar.instance),e.addBar(BottomBtnBar.instance),e.addBar(RightToolsBar.instance),e.addBar(LeftToolsBar.instance),e.addBar(TopRightBar.instance),App.NG.isOpenRecomend()&&e.addBar(WXToolsBar.instance)}function $classRegiste(){GObj.addPools(DamageView),GObj.addPools(SkillView),GObj.addPools(DropView),GObj.addPools(ActionRepel),GObj.addPools(ActionDie),GObj.addPools(ActionFlash),GObj.addPools(ActionJump),GObj.addPools(ActionRepel),GObj.addPools(ActionSprint),GObj.addPools(ActionShake),GObj.addPools(NewGoodsUIEffect),GObj.addPools(MonsterVO),GObj.addPools(DamageDataVO),GObj.addPools(MouseRollHandler)}function $configDataInit(){var e=RES.getRes("config_data_json");if(e.StaticData)for(var t in e.StaticData)StaticData[t]=e.StaticData[t];StaticData.SKILL_INFO_COMMON&&(StaticData.SKILL_INFO_COMMON_LENGTH=StaticData.SKILL_INFO_COMMON.length)}function $dataInit(){if(GConfig.DEBUG?GConfig.LOG_LEVEL=2:GConfig.LOG_LEVEL=3,getUrlParameter("log")){var e=parseInt(getUrlParameter("log"));GConfig.LOG_LEVEL=e}GConfig.UI_EFFECT_DICT=gYq.NR,GConfig.CAMERA_OFF_Y=110,$pathInit(),GConfig.DAMAGE_RULE={sheet:!0,res:"damage_json.",pflag:StringConst.PF,fixed:2,fflag:"d",imgflag:"_png"},GConfig.PLAY_AVATAR_INTERVAL=60,GConfig.GHOST_NUM=5;var t={};t[2]={prefix:!0,pw:66,py:0,space:-4,damage:!0,clz:DamageCommon},t[1]={prefix:!0,pw:84,py:-10,space:0,damage:!1,clz:DamageDodge},t[128]={prefix:!0,pw:84,py:-18,damage:!0,clz:DamageCommon},t[4096]={prefix:!0,pw:64,py:-12,space:-3,damage:!0,clz:DamageCommon},t[262144]={prefix:!0,pw:77,py:-6,space:-3,damage:!0,clz:DamageCommon},t[256]={prefix:!1,damage:!0,clz:DamageCommon},t[512]={prefix:!1,pw:76,py:-36,space:-3,damage:!0,clz:DamageCommon},t[2048]={prefix:!0,pw:64,py:-9,space:-2,damage:!0,clz:DamageCommon},t[1024]={prefix:!1,pw:35,py:0,space:-2,damage:!0,clz:DamageDodge},t[65536]={prefix:!0,pw:165,py:-15,space:-3,damage:!0,clz:DamageCrit},t[131072]={prefix:!0,pw:165,py:-15,space:-3,damage:!0,clz:DamageCrit};for(var n in t)t[n].type=n;GConfig.DAMAGE_CONFIG=t,GConfig.DAMAGE_DEFAULT=512,GConfig.DAMAGE_ORDER=[128,2048,8,4,2,1,16,32,64,256,512,1024,8192,16384,32768,65536,131072]}function $pathInit(){var e=QycO.NH;for(var t in PATH)PATH[t]=e+PATH[t];GConfig.setResRoot(e),PATH.ZO="resource/eui_skins/",GConfig.PATH_SKINS=PATH.ZO,GConfig.PATH_SKINS_UI=GConfig.PATH_SKINS+"ui/"}function $frameRegiste(){var e=App.IG;e.uJG(KqZ.QG,RankFrame,YTU.KC),e.uJG(KqZ.VI,BankFrame,YTU.EH),e.uJG(KqZ.GI,MultipplayerFrame,YTU.FK),e.uJG(KqZ.HW,IndulgeTipsFrame,YTU.EX),e.uJG(KqZ.BA,EvDayReChgFrame,YTU.SS),e.uJG(KqZ.XF,SvippreFrame),e.uJG(KqZ.CM,FunnyFrame,YTU.IL),e.uJG(KqZ.TO,FunnyFestivlActFrame,YTU.IL),e.uJG(KqZ.YP,PacksFrame,YTU.DM),e.uJG(KqZ.RQ,AllTogetherGiftFrame,YTU.DS),e.uJG(KqZ.CZ,GrilFrame,YTU.CI),e.uJG(KqZ.UQ,SoaringFrame,YTU.SK),e.uJG(KqZ.DR,RebateFrame,YTU.MJ),e.uJG(KqZ.CX,MagicDiskFrame,YTU.EE),e.uJG(KqZ.US,GangTreasureFrame,YTU.VJ),e.uJG(KqZ.QB,HardSocietyFrame,YTU.UG),e.uJG(KqZ.QN,OfficialRankFrame,YTU.VN),e.uJG(KqZ.ZC,TreasuryFrame,YTU.WK),e.uJG(KqZ.YT,CollectHallFrame,YTU.ED),e.uJG(KqZ.GE,VolverFrame,YTU.UT),e.uJG(KqZ.BF,AuctionFrame,YTU.WY),e.uJG(KqZ.MI,TreasureHuntingFrame,YTU._B),e.uJG(KqZ.HO,ValentinesSortPopUi,YTU.EIV),e.uJG(KqZ.PC,ContinueChargeFrame,YTU.WA),e.uJG(KqZ.ER,WbFirstShareFrame),e.uJG(KqZ.IE,QzoneCoverFrame,YTU.ZL),e.uJG(KqZ.UT,BindPhoneFrame,YTU.H_),e.uJG(KqZ.GP,WbShareFrame,YTU.XR),e.addSheetRes(10,YTU.ACW),e.addSheetRes(4,YTU.RX),e.addSheetRes(10,YTU.ACW),e.addSheetRes(36,YTU.FQ),e.addSheetRes(100,YTU.RX),e.addSheetRes(101,YTU.ACW,YTU.TW),e.addSheetRes(37,YTU.RX),e.addPopUI(KqZ.HV,ResultsCrossHarryPopUi),e.addPopUI(KqZ.GR,ResultsHarryPopUi),e.addPopUI(KqZ.LL,ResultsCityBattlePopUi),e.addPopUI(KqZ.FV,FightingWinPopUi,YTU.JW),e.addPopUI(KqZ.ON,FightingLosePopUi,YTU.HP),e.addPopUI(KqZ.WL,GameSetPopUi,YTU.WP),e.addPopUI(KqZ.ZN,BulletinPopUi,YTU.UF),e.addPopUI(KqZ.FF,OfflineRevenuePopUi,YTU.QK),e.addPopUI(KqZ.IS,HarryTotalPopUi),e.addPopUI(KqZ.UW,HarryBoxPopUi),e.addPopUI(KqZ.RB,HangUpPopUi,YTU.RL),e.addPopUI(KqZ.KA,CityBattleScoreRewardPopUi),e.addPopUI(KqZ.YW,LuckEggPopUi,YTU.ZD),e.addPopUI(KqZ.KS,OneYuanBuyPopui,YTU.GW),e.addPopUI(KqZ.TI,EightDoorsPopUi,YTU.JZ),e.addPopUI(KqZ.MQ,FourPopUi,YTU.ZM),e.addPopUI(KqZ.HT,MartialartMatchPopUi,YTU.QL),e.addPopUI(KqZ.VB,GrowRewardPopUi,YTU.LX),e.addPopUI(KqZ.NC,SmeltingPopUi,YTU.DY),e.addPopUI(KqZ.PR,ChangeNamesPopUi,YTU.YD),e.addPopUI(KqZ.QL,FirstChargePopUi,YTU.WO),e.addPopUI(KqZ.GF,CollectionPopUi,YTU.HI_),e.addPopUI(KqZ.QWM,RaidPopUi),e.addPopUI(KqZ.TK,CollectionPackPopUi,YTU.GL),e.addPopUI(KqZ.JS,WindowPackPopUi,YTU.NB),e.addPopUI(KqZ.SQ,SuperVipFrame,YTU.PP),e.addPopUI(KqZ.RL,QQCustomerPopUi,YTU.ZH),e.addPopUI(KqZ.HM,DirectCrashPopUi,YTU.DK),e.addFristOpen(KqZ.BT),e.addFristOpen(KqZ.CT),e.addFristOpen(KqZ.CE),e.addFristOpen(KqZ.EK),e.addFristOpen(KqZ.VI),e.addFristOpen(KqZ.V_),e.addFristOpen(KqZ.QB),e.addFristOpen(KqZ.LR),e.addFristOpen(KqZ.UW),e.addFristOpen(KqZ.AK),e.setFristOpen(ziI.MF,ziI),e.setOpenCheck(rRcz.WL,rRcz),e.setOpenViewCheck(rRcz.O_,rRcz),e.addView({type:KqZ.ZM,fid:KqZ.CT,fclz:CommonFrame,vid:10009,clz:RoleEquipSuitView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10009),title:"role_json.role_title_png",selIcon:"role_json.role_btn_selected_png",unselIcon:"role_json.role_btn_unselected_png",res:[YTU.RQ,YTU.UX,YTU.DH,YTU.QD],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.CT,fclz:CommonFrame,vid:10011,clz:PrestigeView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10011),title:"renown_json.renown_title_png",selIcon:"role_json.role_prestige_btn_selected_png",unselIcon:"role_json.role_prestige_btn_unselected_png",res:[YTU.RQ,YTU.PG],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.CT,fclz:CommonFrame,vid:10141,clz:GodSuitFrame,index:2,openData:App.GP.getOpenUIDataTvoByVid(10141),title:"godsuit_json.godsuit_title_png",selIcon:"godsuit_json.godsuit_sel_png",unselIcon:"godsuit_json.godsuit_unsel_png",res:[YTU.RQ,YTU.GN],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.NI,fclz:CommonFrame,vid:10042,clz:DisplayView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10042),title:"magicweapon_json.mw_title_1_png",selIcon:"",unselIcon:"",res:[YTU.TJ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.TFP,fclz:CommonFrame,vid:10002,clz:FashionView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10002),title:"fashion_json.fashion_title_png",selIcon:"fashion_json.fashion_clothes_sel_png",unselIcon:"fashion_json.fashion_clothes_unsel_png",res:[YTU.BW,YTU.PB],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.PY,fclz:CommonFrame,vid:10003,clz:InternalItemListView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10003),title:"immortall_json.immortall_title_png",selIcon:"immortall_json.immortall_magic_sel_1_png",unselIcon:"immortall_json.immortall_magic_unsel_1_png",res:[YTU.QFP,YTU.OE],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.PY,fclz:CommonFrame,vid:10147,clz:PetView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10147),title:"immortall_json.immortall_title_png",selIcon:"immortall_json.immortall_pet_sel_png",unselIcon:"immortall_json.immortall_pet_unsel_png",res:[YTU.QFP,YTU.LG],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KJ,fclz:CommonFrame,vid:10018,clz:BeautyView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10018),title:"beauty_json.beauty_title2_png",selIcon:"beauty_json.beauty_btn_selected_png",unselIcon:"beauty_json.beauty_btn_unselected_png",res:[YTU.EQ,YTU._X],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KJ,fclz:CommonFrame,vid:10140,clz:BeautySkinUpView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10140),title:"beauty_json.beauty_title2_png",selIcon:"beauty_json.beauty_star_sel_png",unselIcon:"beauty_json.beauty_star_unsel_png",res:[YTU.EQ,YTU._X],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KJ,fclz:CommonFrame,vid:10139,clz:BeautySpiritView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10139),title:"beauty_json.beauty_title2_png",selIcon:"beauty_json.beauty_cloth_sel_png",unselIcon:"beauty_json.beauty_cloth_unsel_png",res:[YTU.EQ,YTU._X],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KJ,fclz:CommonFrame,vid:10146,clz:ImmortalEquipView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10146),title:"beauty_json.beauty_title2_png",selIcon:"immortalequip_json.immortalequip_sel_png",unselIcon:"immortalequip_json.immortalequip_unsel_png",res:[YTU.EQ,YTU.IZ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.MU,fclz:CommonFrame,vid:10162,clz:FlyswordView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10162),title:"flysword_json.flysword_title_png",selIcon:"flysword_json.flysword_sel_1_png",unselIcon:"flysword_json.flysword_unsel_1_png",res:[YTU.LD],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.MU,fclz:CommonFrame,vid:10163,clz:FlyswordSkinUpView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10163),title:"flysword_json.flysword_title_png",selIcon:"beauty_json.beauty_star_sel_png",unselIcon:"beauty_json.beauty_star_unsel_png",res:[YTU.LD],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.BT,fclz:CommonFrame,vid:10012,clz:SkillItemListView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10012),title:"skill_json.skill_title_png",selIcon:"skill_json.skill_magic_sel_png",unselIcon:"skill_json.skill_magic_unsel_png",res:[YTU.OE],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.BT,fclz:CommonFrame,vid:10013,clz:RuneView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10013),title:"rune_json.rune_title_png",selIcon:"skill_json.skill_rune_sel_png",unselIcon:"skill_json.skill_rune_unsel_png",res:[YTU.UE],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AG,fclz:CommonFrame,vid:1e4,clz:SuperequipCultureView,index:0,openData:App.GP.getOpenUIDataTvoByVid(1e4),title:"superequip_json.superequip_title_png",selIcon:"superequip_json.superequip_cultrue_sel_png",unselIcon:"superequip_json.superequip_cultrue_unsel_png",res:[YTU.DU,YTU.BW],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AG,fclz:CommonFrame,vid:10001,clz:SuperequipSpectrumView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10001),title:"superequip_json.superequip_title_png",selIcon:"superequip_json.superequip_spectrum_sel_png",unselIcon:"superequip_json.superequip_spectrum_unsel_png",res:[YTU.DU,YTU.BW],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.GY,fclz:CommonFrame,vid:10004,clz:TreasureTrainView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10004),title:"treasure_json.treasure_title_png",selIcon:"treasure_json.treasure_train_sel_png",unselIcon:"treasure_json.treasure_train_unsel_png",res:[YTU.UVP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.GY,fclz:CommonFrame,vid:10005,clz:TreasureBindView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10005),title:"treasure_json.treasure_title_png",selIcon:"treasure_json.treasure_bind_sel_png",unselIcon:"treasure_json.treasure_bind_unsel_png",res:[YTU.UVP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.GY,fclz:CommonFrame,vid:10006,clz:TreasureForgeView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10006),title:"treasure_json.treasure_title_png",selIcon:"treasure_json.treasure_forge_sel_png",unselIcon:"treasure_json.treasure_forge_unsel_png",res:[YTU.UVP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.JB,fclz:CommonFrame,vid:10007,clz:FosterView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10007),title:"cloak_json.cloak_title_png",selIcon:"cloak_json.cloak_foster_sel_png",unselIcon:"cloak_json.cloak_foster_unsel_png",res:[YTU.SH,YTU.BW],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.JB,fclz:CommonFrame,vid:10008,clz:UpgradeStarView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10008),title:"cloak_json.cloak_title_png",selIcon:"cloak_json.cloak_upgrade_sel_png",unselIcon:"cloak_json.cloak_upgrade_unsel_png",res:[YTU.SH,YTU.BW],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.LK,fclz:CommonFrame,vid:10014,clz:KnightCardView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10014),title:"knight_json.knight_title1_png",selIcon:"knight_json.knight_card_sel_png",unselIcon:"knight_json.knight_card_unsel_png",res:[YTU.G_,YTU.ND],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.LK,fclz:CommonFrame,vid:10015,clz:KnightCollectionView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10015),title:"knight_json.knight_title2_png",selIcon:"knight_json.knight_collection_sel_png",unselIcon:"knight_json.knight_collection_unsel_png",res:[YTU.G_,YTU.ND],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.LK,fclz:CommonFrame,vid:10016,clz:CardView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10016),title:"knight_json.knight_title3_png",selIcon:"knight_json.knight_ill_sel_png",unselIcon:"knight_json.knight_ill_unsel_png",res:[YTU.G_],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.LK,fclz:CommonFrame,vid:10017,clz:BeastView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10017),title:"knight_json.knight_title4_png",selIcon:"knight_json.knight_beast_sel_png",unselIcon:"knight_json.knight_beast_unsel_png",res:[YTU.G_,YTU.ST],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AS,fclz:CommonFrame,vid:10019,clz:BagView,clzName:"BagView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10019),title:"bag_json.bag_title_png",selIcon:"bag_json.bag_prop_sel_png",unselIcon:"bag_json.bag_prop_unsel_png",res:[YTU.UA],data:{tabType:1}}),e.addView({type:KqZ.ZM,fid:KqZ.AS,fclz:CommonFrame,vid:10020,clz:BagView,clzName:"BagView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10020),title:"bag_json.bag_title_png",selIcon:"bag_json.bag_equip_sel_png",unselIcon:"bag_json.bag_equip_unsel_png",res:[YTU.UA],data:{tabType:2}}),e.addView({type:KqZ.ZM,fid:KqZ.AS,fclz:CommonFrame,vid:10021,clz:BagView,clzName:"BagView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10021),title:"bag_json.bag_title_png",selIcon:"bag_json.bag_book_sel_png",unselIcon:"bag_json.bag_book_unsel_png",res:[YTU.UA],data:{tabType:3}}),e.addView({type:KqZ.ZM,fid:KqZ.AS,fclz:CommonFrame,vid:10022,clz:BagView,clzName:"BagView",index:3,openData:App.GP.getOpenUIDataTvoByVid(10022),title:"bag_json.bag_title_png",selIcon:"bag_json.bag_stone_sel_png",unselIcon:"bag_json.bag_stone_unsel_png",res:[YTU.UA],data:{tabType:4}}),e.addView({type:KqZ.ZM,fid:KqZ.YY,fclz:CommonFrame,vid:10033,clz:StoreView,clzName:"StoreView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10033),title:"store_json.store_title_png",selIcon:"store_json.store_intensify_sel_png",unselIcon:"store_json.store_intensify_unsel_png",res:[YTU.JG],data:{tabType:1}}),e.addView({type:KqZ.ZM,fid:KqZ.YY,fclz:CommonFrame,vid:10034,clz:StoreView,clzName:"StoreView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10034),title:"store_json.store_title_png",selIcon:"store_json.store_gem_sel_png",unselIcon:"store_json.store_gem_unsel_png",res:[YTU.JG],data:{tabType:2}}),e.addView({type:KqZ.ZM,fid:KqZ.YY,fclz:CommonFrame,vid:10160,clz:StoreUpView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10160),title:"store_json.store_title_png",selIcon:"storeup_json.storeup_select_1_png",unselIcon:"storeup_json.storeup_select_2_png",res:[YTU.QF],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.WO,fclz:CommonFrame,vid:10046,clz:MartialArtSelfView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10046),title:"",selIcon:"",unselIcon:"",res:[YTU.RC,YTU.TD],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.JG,fclz:CommonFrame,vid:10050,clz:TaskLeaderView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10050),title:"task_json.task_title_png",selIcon:"",unselIcon:"",res:[YTU.YM],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.PMR,fclz:CommonFrame,vid:10049,clz:HarryView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10049),title:"harry_json.harry_title_png",selIcon:"",unselIcon:"",res:[YTU.WE],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.FS,fclz:CommonFrame,vid:10048,clz:MartialArtLeaderView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10048),title:"martialart_4_json.martialart_leader_title_png",selIcon:"",unselIcon:"",res:[YTU.TD,YTU.JP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.PT,fclz:CommonFrame,vid:10047,clz:CampaignView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10047),title:"campaign_json.camp_title_png",selIcon:"campaign_json.camp_btn_selected_png",unselIcon:"campaign_json.camp_btn_unselected_png",res:[YTU.YA],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.CJ,fclz:CommonFrame,vid:10051,clz:MartialArtProvokeView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10051),title:"martialart_3_json.martialart_provoke_title_png",selIcon:"martialart_4_json.martialart_clg_sel_png",unselIcon:"martialart_4_json.martialart_clg_unsel_png",res:[YTU.TD,YTU.JP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.HC,fclz:CommonFrame,vid:10052,clz:GodSkillView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10052),title:"godskill_json.god_skill_title_png",selIcon:"godskill_json.god_skill_btn_selected_png",unselIcon:"godskill_json.god_skill_btn_unselected_png",res:[YTU.FP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.IC,fclz:CommonFrame,vid:10068,clz:PreviewView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10068),title:"preview_json.preview_title_png",selIcon:"",unselIcon:"",res:[YTU.DD],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.YD,fclz:CommonFrame,vid:10069,clz:TurnupView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10069),title:"god_json.god_title_png",selIcon:"god_json.god_turn_sel_png",unselIcon:"god_json.god_turn_unsel_png",res:[YTU.NY],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.YD,fclz:CommonFrame,vid:10071,clz:GodView,clzName:"GodView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10071),title:"god_json.god_title_png",selIcon:"god_json.god_daily_sel_png",unselIcon:"god_json.god_daily_unsel_png",res:[YTU.NY],data:{tabType:1}}),e.addView({type:KqZ.ZM,fid:KqZ.YD,fclz:CommonFrame,vid:10072,clz:GodView,clzName:"GodView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10072),title:"god_json.god_title_png",selIcon:"god_json.god_achieve_sel_png",unselIcon:"god_json.god_achieve_unsel_png",res:[YTU.NY],data:{tabType:2}}),e.addView({type:KqZ.ZM,fid:KqZ.FC,fclz:CommonFrame,vid:10053,clz:FamilyFirstView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10053),title:"family_json.family_titile1_png",selIcon:"family_json.family_index_select_png",unselIcon:"family_json.family_index_unselect_png",res:[YTU.BR],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.FC,fclz:CommonFrame,vid:10054,clz:FamilyTaskView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10054),title:"family_json.family_titile1_png",selIcon:"family_json.family_task_select_png",unselIcon:"family_json.family_task_unselect_png",res:[YTU.BR],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.FC,fclz:CommonFrame,vid:10055,clz:FamilyWarGroupView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10055),title:"family_json.family_titile1_png",selIcon:"family_json.family_gobattle_select_png",unselIcon:"family_json.family_gobattle_unselect_png",res:[YTU.AZ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.FC,fclz:CommonFrame,vid:10056,clz:JumpView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10056),title:"family_json.family_titile1_png",selIcon:"family_json.family_shop_select_png",unselIcon:"family_json.family_shop_unselect_png",res:[YTU.BR],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.OL,fclz:CommonFrame,vid:10073,clz:FamilyCreateView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10073),title:"family_json.family_titile1_png",selIcon:"family_json.family_index_select_png",unselIcon:"family_json.family_index_unselect_png",res:[YTU.IH],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.DC,fclz:CommonFrame,vid:10057,clz:WuLinLeagueView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10057),title:"wulin_json.wulin_title_png",selIcon:"",unselIcon:"",res:[YTU.VH],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.RZ,fclz:CommonFrame,vid:10064,clz:ZhenwuView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10064),title:"zhenwu_json.zhenwu_title_png",selIcon:"",unselIcon:"",res:[YTU.GV],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.OO,fclz:CommonFrame,vid:10058,clz:EliteChallengeView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10058),title:"elitechallenge_json.elite_title_png",selIcon:"",unselIcon:"",res:[YTU.YL],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XD,fclz:CommonFrame,vid:10060,clz:EliteCheckpointView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10060),title:"elitechallenge_json.elite_title_png",selIcon:"",unselIcon:"",res:[YTU.YL],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XH,fclz:CommonFrame,vid:10059,clz:EliteLastBossView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10059),title:"elitechallenge_json.elite_title_png",selIcon:"",unselIcon:"",res:[YTU.YL],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.PO,fclz:CommonFrame,vid:10065,clz:WulinTreasuryView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10065),title:"wulintreasury_json.wutr_title_png",selIcon:"",unselIcon:"",res:[YTU.KI],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KU,fclz:CommonFrame,vid:10066,clz:PavilionView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10066),title:"pavilion_json.pavilion_title_png",selIcon:"",unselIcon:"",res:[YTU.XJ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XG,fclz:CommonFrame,vid:10067,clz:WushenTowerView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10067),title:"wushentower_json.wut_title_png",selIcon:"",unselIcon:"",res:[YTU.J_],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AB,fclz:CommonFrame,vid:10061,clz:StuntPracticeView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10061),title:"stunt_json.stunt_title_png",selIcon:"stunt_json.stunt_btn_1_1_png",unselIcon:"stunt_json.stunt_btn_1_png",res:[YTU.PVI],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AB,fclz:CommonFrame,vid:10062,clz:StuntView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10062),title:"stunt_json.stunt_title_png",selIcon:"stunt_json.stunt_btn_2_1_png",unselIcon:"stunt_json.stunt_btn_2_png",res:[YTU.PVI],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AB,fclz:CommonFrame,vid:10063,clz:StuntKnackView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10063),title:"stunt_json.stunt_title_png",selIcon:"stunt_json.stunt_btn_3_1_png",unselIcon:"stunt_json.stunt_btn_3_png",res:[YTU.PVI],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XA,fclz:CommonFrame,vid:10143,clz:PvpView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10143),title:"pvp_json.pvp_title_png",selIcon:"pvp_json.pvp_pvp_sel_png",unselIcon:"pvp_json.pvp_pvp_unsel_png",res:[YTU.XG,YTU.KF],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XA,fclz:CommonFrame,vid:10023,clz:ArenaView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10023),title:"pvp_json.pvp_title_png",selIcon:"pvp_json.pvp_arena_sel_png",unselIcon:"pvp_json.pvp_arena_unsel_png",res:[YTU.XG,YTU.KF],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XA,fclz:CommonFrame,vid:10024,clz:CrossArenaView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10024),title:"pvp_json.pvp_title_png",selIcon:"pvp_json.pvp_cross_sel_png",unselIcon:"pvp_json.pvp_cross_unsel_png",res:[YTU.XG,YTU.JJ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.ZK,fclz:CommonFrame,vid:10025,clz:BossView,clzName:"BossView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10025),title:"boss_json.boss_title_png",selIcon:"boss_json.boss_one_sel_png",unselIcon:"boss_json.boss_one_unsel_png",res:[YTU.KY],data:{tabType:1}}),e.addView({type:KqZ.ZM,fid:KqZ.ZK,fclz:CommonFrame,vid:10026,clz:ManyBossView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10026),title:"boss_json.boss_title_png",selIcon:"boss_json.boss_more_sel_png",unselIcon:"boss_json.boss_more_unsel_png",res:[YTU.KY,YTU.QA],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.ZK,fclz:CommonFrame,vid:10028,clz:TurnupBossView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10028),title:"boss_json.boss_title_png",selIcon:"boss_json.boss_turnup_sel_png",unselIcon:"boss_json.boss_turnup_unsel_png",res:[YTU.KY],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.ZK,fclz:CommonFrame,vid:10039,clz:PalaceBossView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10039),title:"teamcopy_json.teamcopy_palace_title_png",selIcon:"teamcopy_json.teamcopy_palace_sel_png",unselIcon:"teamcopy_json.teamcopy_palace_unsel_png",res:[YTU.WW_],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.PI,fclz:CommonFrame,vid:10161,clz:BossHomeView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10161),title:"boss_json.boss_title_png",selIcon:"bosshome_json.bosshome_sel_png",unselIcon:"bosshome_json.bosshome_unsel_png",res:[YTU._V],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.V_,fclz:CommonFrame,vid:10038,clz:DecisiveBattleYmgView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10038),title:"teamcopy_json.teamcopy_southsky_title_png",selIcon:"teamcopy_json.teamcopy_southsky_sel_png",unselIcon:"teamcopy_json.teamcopy_southsky_unsel_png",res:[YTU.WW_],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.V_,fclz:CommonFrame,vid:10167,clz:TownMagicView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10167),title:"townmagic_json.townmagic_title_png",selIcon:"townmagic_json.townmagic_sel_png",unselIcon:"townmagic_json.townmagic_unsel_png",res:[YTU.PZY],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.V_,fclz:CommonFrame,vid:10145,clz:PurgatoryView,clzName:"PurgatoryView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10145),title:"society_1_json.society_title_2_png",selIcon:"society_1_json.society_sel_2_png",unselIcon:"society_1_json.society_unsel_2_png",res:[YTU.CA,YTU.TDM],data:{tabType:2}}),e.addView({type:KqZ.ZM,fid:KqZ.V_,fclz:CommonFrame,vid:10164,clz:SwordTombView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10164),title:"society_1_json.society_title_3_png",selIcon:"flysword_json.flysword_sel_2_png",unselIcon:"flysword_json.flysword_unsel_2_png",res:[YTU.RM],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.MH,fclz:CommonFrame,vid:10030,clz:CrossHarryView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10030),title:"crossharry_json.cross_harry_title_png",selIcon:"mine_json.mine_btn_2_png",unselIcon:"mine_json.mine_btn_2_1_png",res:[YTU.NM,YTU.ME,YTU.DI],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.MH,fclz:CommonFrame,vid:10029,clz:MineContendView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10029),title:"mine_json.mine_title_png",selIcon:"mine_json.mine_btn_1_png",unselIcon:"mine_json.mine_btn_1_1_png",res:[YTU.ME,YTU.OT],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KW,fclz:CommonFrame,vid:10043,clz:NormalEmailView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10043),title:"email_json.email_title_png",selIcon:"email_json.email_email_sel_png",unselIcon:"email_json.email_email_unsel_png",res:[YTU.TP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.KW,fclz:CommonFrame,vid:10044,clz:GMEmailView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10044),title:"email_json.email_title_png",selIcon:"email_json.email_gmemail_sel_png",unselIcon:"email_json.email_gmemail_unsel_png",res:[YTU.TP],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XW,fclz:CommonFrame,vid:10074,clz:ChatView,clzName:"ChatView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10074),title:"chat_json.chat_title_png",selIcon:"chat_json.chat_tale_sel_png",unselIcon:"chat_json.chat_tale_unsel_png",res:[YTU.BJ],data:{tabType:1}}),e.addView({type:KqZ.ZM,fid:KqZ.XW,fclz:CommonFrame,vid:10075,clz:ChatView,clzName:"ChatView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10075),title:"chat_json.chat_title_png",selIcon:"chat_json.chat_team_sel_png",unselIcon:"chat_json.chat_team_unsel_png",res:[YTU.BJ],data:{tabType:2}}),e.addView({type:KqZ.ZM,fid:KqZ.XW,fclz:CommonFrame,vid:10076,clz:ChatView,clzName:"ChatView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10076),title:"chat_json.chat_title_png",selIcon:"chat_json.chat_system_sel_png",unselIcon:"chat_json.chat_system_unsel_png",res:[YTU.BJ],data:{tabType:3}}),e.addView({type:KqZ.ZM,fid:KqZ.XW,fclz:CommonFrame,vid:10078,clz:ChatView,clzName:"ChatView",index:3,openData:App.GP.getOpenUIDataTvoByVid(10078),title:"chat_json.chat_title_png",selIcon:"chat_json.chat_family_sel_png",unselIcon:"chat_json.chat_family_unsel_png",res:[YTU.BJ],data:{tabType:5}}),e.addView({type:KqZ.ZM,fid:KqZ.AV,fclz:CommonFrame,vid:10079,clz:CrossArenaTopView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10079),title:"crossarenatop_json.crossarena_top_title_png",selIcon:"",unselIcon:"",res:[YTU.KZ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.FZ,fclz:CommonFrame,vid:10041,clz:CityBattleRankView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10041),title:"crossarenatop_json.rank_title_png",selIcon:"",unselIcon:"",res:[YTU.TR,YTU.KZ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.DF,fclz:CommonFrame,vid:10045,clz:HiddenWeaponTrainView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10045),title:"hiddenweapon_json.hw_title_png",selIcon:"hiddenweapon_json.hw_btn_selected_png",unselIcon:"hiddenweapon_json.hw_btn_unselected_png",res:[YTU._X,YTU.EQ],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.AY,fclz:CommonFrame,vid:10082,clz:MartialArtView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10082),title:"martialart_2_json.martialart_title_png",selIcon:"",unselIcon:"",res:[YTU.BU],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.OAO,fclz:CommonFrame,vid:10083,clz:HoroskopGeneralView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10083),title:"horoskopframe_json.horoskop_title_png",selIcon:"horoskopframe_json.horoskop_general_sel_png",unselIcon:"horoskopframe_json.horoskop_general_unsel_png",res:[YTU.MM],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.OAO,fclz:CommonFrame,vid:10084,clz:HoroskopMainView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10084),title:"horoskopframe_json.horoskop_title_png",selIcon:"horoskopframe_json.horoskop_challenge_sel_png",unselIcon:"horoskopframe_json.horoskop_challenge_unsel_png",res:[YTU.MM],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.HJU,fclz:CommonFrame,vid:10085,clz:LimitActivityView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10085),title:"dailyactivity_json.daily_activity_title_png",selIcon:"dailyactivity_json.dailyactivity_limit_sel_png",unselIcon:"dailyactivity_json.dailyactivity_limit_unsel_png",res:[YTU.GB],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.HJU,fclz:CommonFrame,vid:10086,clz:AllDayActivityView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10086),title:"dailyactivity_json.daily_activity_title_png",selIcon:"dailyactivity_json.dailyactivity_allday_sel_png",unselIcon:"dailyactivity_json.dailyactivity_allday_unsel_png",res:[YTU.GB],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.HJU,fclz:CommonFrame,vid:10087,clz:TomorrowActivityView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10087),title:"dailyactivity_json.daily_activity_title_png",selIcon:"dailyactivity_json.dailyactivity_tomorrow_sel_png",unselIcon:"dailyactivity_json.dailyactivity_tomorrow_unsel_png",res:[YTU.GB],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XX,fclz:CommonFrame,vid:10122,clz:MagicBladeView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10122),title:"magicblade_json.magicblade_title_png",selIcon:"magicblade_json.magicblade_advanced_selected_png",unselIcon:"magicblade_json.magicblade_advanced_unselected_png",res:[YTU.OSO],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XX,fclz:CommonFrame,vid:10124,clz:IllusionView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10124),title:"magicblade_json.magicblade_title_png",selIcon:"magicblade_json.magicblade_Illusion_selected_png",unselIcon:"magicblade_json.magicblade_Illusion_unselected_png",res:[YTU.OSO,YTU.MT],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XX,fclz:CommonFrame,vid:10123,clz:FateView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10123),title:"magicblade_json.magicblade_title_png",selIcon:"magicblade_json.magicblade_btn_selected_png",unselIcon:"magicblade_json.magicblade_btn_unselected_png",res:[YTU.OSO],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.XX,fclz:CommonFrame,vid:10142,clz:MagicFairyView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10142),title:"magicblade_json.magicblade_title_png",selIcon:"magicblade_json.magicbalde_sel_png",unselIcon:"magicblade_json.magicblade_unsel_png",res:[YTU.OSO,YTU.XSO],data:{}}),e.addView({type:KqZ.ZM,fid:KqZ.O_,fclz:CommonFrame,vid:10165,clz:FFMountainView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10165),title:"ffmountain_json.ffm_title_png",selIcon:"",unselIcon:"",res:[YTU.DB],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.AN,fclz:CommonEffectFrame,vid:10121,clz:VipView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10121),title:"vip_json.vip_title_2_png",selIcon:"vip_json.vip_sel_2_png",unselIcon:"vip_json.vip_unsel_2_png",res:[YTU.ZE],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.AN,fclz:CommonEffectFrame,vid:10088,clz:SvipView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10088),title:"vip_json.vip_title_png",selIcon:"vip_json.vip_sel_png",unselIcon:"vip_json.vip_unsel_png",res:[YTU.ZE],data:{tabType:0}}),e.addView({type:KqZ.CI,fid:KqZ.AN,fclz:CommonEffectFrame,vid:10089,clz:RechargeView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10089),title:"recharge_json.recharg_title_png",selIcon:"recharge_json.recharge_sel_png",unselIcon:"recharge_json.recharge_unsel_png",res:[YTU.PT],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.AN,fclz:CommonEffectFrame,vid:10103,clz:ShopView,clzName:"ShopView",index:3,openData:App.GP.getOpenUIDataTvoByVid(10103),title:"shop_json.shop_title_png",selIcon:"shop_json.shop_vip_sel_png",unselIcon:"shop_json.shop_vip_unsel_png",res:[YTU.MI],data:{tabType:3}}),e.addView({type:KqZ.CI,fid:KqZ.MX,fclz:CommonEffectFrame,vid:10091,clz:GoalView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10091),title:"goal_json.goal_title_png",selIcon:"",unselIcon:"",res:[YTU.OU],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.YU,fclz:CommonEffectFrame,vid:10102,clz:ShopView,clzName:"ShopView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10102),title:"shop_json.shop_title_png",selIcon:"shop_json.shop_vip_sel_png",unselIcon:"shop_json.shop_vip_unsel_png",res:[YTU.MI],data:{tabType:3}}),e.addView({type:KqZ.CI,fid:KqZ.YU,fclz:CommonEffectFrame,vid:10093,clz:ShopView,clzName:"ShopView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10093),title:"shop_json.shop_title_png",selIcon:"shop_json.shop_treasure_sel_png",unselIcon:"shop_json.shop_treasure_unsel_png",res:[YTU.MI],data:{tabType:4}}),e.addView({type:KqZ.CI,fid:KqZ.YU,fclz:CommonEffectFrame,vid:10099,clz:ShopView,clzName:"ShopView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10099),title:"shop_json.shop_title_png",selIcon:"shop_json.shop_family_sel_png",unselIcon:"shop_json.shop_family_unsel_png",res:[YTU.MI],data:{tabType:11}}),e.addView({type:KqZ.CI,fid:KqZ.YU,fclz:CommonEffectFrame,vid:10104,clz:ShopView,clzName:"ShopView",index:3,openData:App.GP.getOpenUIDataTvoByVid(10104),title:"shop_json.shop_title_png",selIcon:"shop_json.shop_purgatory_sel_png",unselIcon:"shop_json.shop_purgatory_unsel_png",res:[YTU.MI],data:{tabType:14}}),e.addView({type:KqZ.CI,fid:KqZ.EK,fclz:CommonEffectFrame,vid:10110,clz:RewardHallLoginView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10110),title:"rewardhall_json.rewardhall_title_png",selIcon:"rewardhall_json.rewardhall_login_sel_png",unselIcon:"rewardhall_json.rewardhall_login_unsel_png",res:[YTU.XX],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.EK,fclz:CommonEffectFrame,vid:10111,clz:RewardHallCheckInView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10111),title:"rewardhall_json.rewardhall_title_png",selIcon:"rewardhall_json.rewardhall_checkin_sel_png",unselIcon:"rewardhall_json.rewardhall_checkin_unsel_png",res:[YTU.XX],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.EK,fclz:CommonEffectFrame,vid:10112,clz:OnlinePacksView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10112),title:"rewardhall_json.rewardhall_title_png",selIcon:"rewardhall_json.rewardhall_online_sel_png",unselIcon:"rewardhall_json.rewardhall_online_unsel_png",res:[YTU.XX],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.EK,fclz:CommonEffectFrame,vid:10113,clz:RewardHallActivationCodeView,index:3,openData:App.GP.getOpenUIDataTvoByVid(10113),title:"rewardhall_json.rewardhall_title_png",selIcon:"rewardhall_json.rewardhall_activation_sel_png",unselIcon:"rewardhall_json.rewardhall_activation_unsel_png",res:[YTU.XX],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.AK,fclz:CommonEffectFrame,vid:10114,clz:ValentinesView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10114),title:"valentines_json.valentines_title3_png",selIcon:"",unselIcon:"",res:[YTU.EIV],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.QO,fclz:CommonEffectFrame,vid:10115,clz:BuyPackView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10115),title:"rechargegift_json.title_png",selIcon:"",unselIcon:"",res:[YTU.GM],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.PN,fclz:CommonEffectFrame,vid:10116,clz:VowView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10116),title:"vow_json.vow_title_png",selIcon:"",unselIcon:"",res:[YTU.DO],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.IT,fclz:CommonEffectFrame,vid:10117,clz:AchievementRewardView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10117),title:"achievement_json.achievement_title_reward_png",selIcon:"achievement_json.achievement_reward_1_png",unselIcon:"achievement_json.achievement_reward_2_png",res:[YTU.FM],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.IT,fclz:CommonEffectFrame,vid:10118,clz:AchievementTaskView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10118),title:"achievement_json.achievement_title_task_png",selIcon:"achievement_json.achievement_task_1_png",unselIcon:"achievement_json.achievement_task_2_png",res:[YTU.FM],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.IT,fclz:CommonEffectFrame,vid:10119,clz:AchievementRankView,index:2,openData:App.GP.getOpenUIDataTvoByVid(10119),title:"achievement_json.achievement_title_rank_png",selIcon:"achievement_json.achievement_rank_1_png",unselIcon:"achievement_json.achievement_rank_2_png",res:[YTU.FM],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.SW,fclz:CommonEffectFrame,vid:10120,clz:LandingSevenView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10120),title:"landingseven_json.landingseven_title_png",selIcon:"",unselIcon:"",res:[YTU.WD],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.CE,fclz:CommonEffectFrame,vid:10125,clz:SuperCardView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10125),title:"supreme_json.supreme_title_png",selIcon:"monkeykingcard_json.mkc_sel_1_png",unselIcon:"monkeykingcard_json.mkc_unsel_1_png",res:[YTU.YR],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.CE,fclz:CommonEffectFrame,vid:10138,clz:MonkeyKingCardView,index:1,openData:App.GP.getOpenUIDataTvoByVid(10138),title:"supreme_json.supreme_title_png",selIcon:"monkeykingcard_json.mkc_sel_2_png",unselIcon:"monkeykingcard_json.mkc_unsel_2_png",res:[YTU.QM],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.TE,fclz:CommonEffectFrame,vid:10128,clz:SvipGoodMannersView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10128),title:"greatsaint_json.greatsaint_title_png",selIcon:"",unselIcon:"",res:[YTU.UD],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.TOO,fclz:CommonEffectFrame,vid:10144,clz:SvipIVGoodsView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10144),title:"svipiv_json.svipiv_title_png",selIcon:"",unselIcon:"",res:[YTU.LLE],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.EN,fclz:CommonEffectFrame,vid:10133,clz:RevelryBossView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10133),title:"newrevelry_json.revelry_title_png",selIcon:"newrevelry_json.revelry_btn_selected_png",unselIcon:"newrevelry_json.revelry_btn_unselected_png",res:[YTU.YUG],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.EN,fclz:CommonEffectFrame,vid:10132,clz:RevelryCostPointView,clzName:"RevelryCostPointView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10132),title:"newrevelry_json.revelry_title_png",selIcon:"newrevelry_json.revelry_btn2_selected_png",unselIcon:"newrevelry_json.revelry_btn2_unselected_png",res:[YTU.YUG],data:{tabType:1}}),e.addView({type:KqZ.CI,fid:KqZ.EN,fclz:CommonEffectFrame,vid:10137,clz:RevelryCostPointView,clzName:"RevelryCostPointView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10137),title:"newrevelry_json.revelry_title_png",selIcon:"newrevelry_json.revelry_btn3_selected_png",unselIcon:"newrevelry_json.revelry_btn3_unselected_png",res:[YTU.YUG],data:{tabType:3}}),e.addView({type:KqZ.CI,fid:KqZ.EN,fclz:CommonEffectFrame,vid:10134,clz:RevelryUpgradeView,clzName:"RevelryUpgradeView",index:3,openData:App.GP.getOpenUIDataTvoByVid(10134),title:"newrevelry_json.revelry_title_png",selIcon:"newrevelry_json.revelry_btn4_selected_png",unselIcon:"newrevelry_json.revelry_btn4_unselected_png",res:[YTU.YUG],data:{tabType:4}}),e.addView({type:KqZ.CI,fid:KqZ.EN,fclz:CommonEffectFrame,vid:10136,clz:RevelryUpgradeView,clzName:"RevelryUpgradeView",index:4,openData:App.GP.getOpenUIDataTvoByVid(10136),title:"newrevelry_json.revelry_title_png",selIcon:"newrevelry_json.revelry_btn5_selected_png",unselIcon:"newrevelry_json.revelry_btn5_unselected_png",res:[YTU.YUG],data:{tabType:5}}),e.addView({type:KqZ.CI,fid:KqZ.MM,fclz:CommonEffectFrame,vid:10130,clz:WealthDishView,clzName:"WealthDishView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10130),title:"wealthdish_json.wd_searchgod_title_png",selIcon:"wealthdish_json.wd_talisman_sel_png",unselIcon:"wealthdish_json.wd_talisman_unsel_png",res:[YTU.DR],data:{tabType:2}}),e.addView({type:KqZ.CI,fid:KqZ.MM,fclz:CommonEffectFrame,vid:10129,clz:WealthDishView,clzName:"WealthDishView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10129),title:"wealthdish_json.wd_searchgod_title_png",selIcon:"wealthdish_json.wd_best_sel_png",unselIcon:"wealthdish_json.wd_best_unsel_png",res:[YTU.DR],data:{tabType:1}}),e.addView({type:KqZ.CI,fid:KqZ.NZ,fclz:CommonEffectFrame,vid:10135,clz:VipCardView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10135),title:"vipcard_json.vipcard_title_png",selIcon:"",unselIcon:"",res:[YTU.MG],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.SZQ,fclz:CommonEffectFrame,vid:10152,clz:Carnivalview,clzName:"Carnivalview",index:0,openData:App.GP.getOpenUIDataTvoByVid(10152),title:"carnival_json.carnivaltitle_png",selIcon:"carnival_json.carnival_chapter_btn_sel_png",unselIcon:"carnival_json.carnival_chapter_btn_unsel_png",res:[YTU.JRB],data:{tabType:1}}),e.addView({type:KqZ.CI,fid:KqZ.SZQ,fclz:CommonEffectFrame,vid:10148,clz:Carnivalview,clzName:"Carnivalview",index:1,openData:App.GP.getOpenUIDataTvoByVid(10148),title:"carnival_json.carnivaltitle_png",selIcon:"carnival_json.carnival_beauty_btn_sel_png",unselIcon:"carnival_json.carnival_beauty_btn_unsel_png",res:[YTU.JRB],data:{tabType:2}}),e.addView({type:KqZ.CI,fid:KqZ.SZQ,fclz:CommonEffectFrame,vid:10149,clz:Carnivalview,clzName:"Carnivalview",index:2,openData:App.GP.getOpenUIDataTvoByVid(10149),title:"carnival_json.carnivaltitle_png",selIcon:"carnival_json.carnival_fight_btn_sel_png",unselIcon:"carnival_json.carnival_fight_btn_unsel_png",res:[YTU.JRB],data:{tabType:3}}),e.addView({type:KqZ.CI,fid:KqZ.SZQ,fclz:CommonEffectFrame,vid:10150,clz:Carnivalview,clzName:"Carnivalview",index:3,openData:App.GP.getOpenUIDataTvoByVid(10150),title:"carnival_json.carnivaltitle_png",selIcon:"carnival_json.carnival_magic_btn_sel_png",unselIcon:"carnival_json.carnival_magic_btn_unsel_png",res:[YTU.JRB],data:{tabType:4}}),e.addView({type:KqZ.CI,fid:KqZ.SZQ,fclz:CommonEffectFrame,vid:10153,clz:Carnivalview,clzName:"Carnivalview",index:4,openData:App.GP.getOpenUIDataTvoByVid(10153),title:"carnival_json.carnivaltitle_png",selIcon:"carnival_json.carnival_team_btn_sel2_png",unselIcon:"carnival_json.carnival_team_btn_unsel2_png",res:[YTU.JRB],data:{tabType:6}}),e.addView({type:KqZ.CI,fid:KqZ.SZQ,fclz:CommonEffectFrame,vid:10169,clz:Carnivalview,clzName:"Carnivalview",index:5,openData:App.GP.getOpenUIDataTvoByVid(10169),title:"carnival_json.carnivaltitle_png",selIcon:"carnival_json.carnival_townmagic_btn_sel_png",unselIcon:"carnival_json.carnival_townmagic_btn_unsel_png",res:[YTU.JRB],data:{tabType:7}}),e.addView({type:KqZ.CI,fid:KqZ.DA,fclz:CommonEffectFrame,vid:10154,clz:DirectBuyView,clzName:"DirectBuyView",index:0,openData:App.GP.getOpenUIDataTvoByVid(10154),title:"directbuy_json.directbuy_title_png",selIcon:"directbuy_json.directbuy_magic_sel_png",unselIcon:"directbuy_json.directbuy_magic_unsel_png",res:[YTU.SF],data:{tabType:1}}),e.addView({type:KqZ.CI,fid:KqZ.DA,fclz:CommonEffectFrame,vid:10155,clz:DirectBuyView,clzName:"DirectBuyView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10155),title:"directbuy_json.directbuy_title_png",selIcon:"directbuy_json.directbuy_pet_sel_png",unselIcon:"directbuy_json.directbuy_pet_unsel_png",res:[YTU.SF],data:{tabType:2}}),e.addView({type:KqZ.CI,fid:KqZ.DA,fclz:CommonEffectFrame,vid:10156,clz:DirectBuyView,clzName:"DirectBuyView",index:2,openData:App.GP.getOpenUIDataTvoByVid(10156),title:"directbuy_json.directbuy_title_png",selIcon:"directbuy_json.directbuy_beauty_sel_png",unselIcon:"directbuy_json.directbuy_beauty_unsel_png",res:[YTU.SF],data:{tabType:3}}),e.addView({type:KqZ.CI,fid:KqZ.DA,fclz:CommonEffectFrame,vid:10157,clz:DirectBuyView,clzName:"DirectBuyView",index:3,openData:App.GP.getOpenUIDataTvoByVid(10157),title:"directbuy_json.directbuy_title_png",selIcon:"directbuy_json.directbuy_cloak_sel_png",unselIcon:"directbuy_json.directbuy_cloak_unsel_png",res:[YTU.SF],data:{tabType:4}}),e.addView({type:KqZ.CI,fid:KqZ.DA,fclz:CommonEffectFrame,vid:10158,clz:DirectBuyView,clzName:"DirectBuyView",index:4,openData:App.GP.getOpenUIDataTvoByVid(10158),title:"directbuy_json.directbuy_title_png",selIcon:"directbuy_json.directbuy_sword_sel_png",unselIcon:"directbuy_json.directbuy_sword_unsel_png",res:[YTU.SF],data:{tabType:5}}),e.addView({type:KqZ.CI,fid:KqZ.DA,fclz:CommonEffectFrame,vid:10159,clz:DirectBuyView,clzName:"DirectBuyView",index:5,openData:App.GP.getOpenUIDataTvoByVid(10159),title:"directbuy_json.directbuy_title_png",selIcon:"directbuy_json.directbuy_god_sel_png",unselIcon:"directbuy_json.directbuy_god_unsel_png",res:[YTU.SF],data:{tabType:6}}),e.addView({type:KqZ.ZM,fid:KqZ.XU,fclz:CommonFrame,vid:10010,clz:AppellView,index:0,openData:App.GP.getOpenUIDataTvoByVid(10010),title:"style_json.style_title_png",selIcon:"role_json.role_appell_btn_selected_png",unselIcon:"role_json.role_appell_btn_unselected_png",res:[YTU.RQ,YTU.PG],data:{}}),e.addView({type:KqZ.CI,fid:KqZ.XU,fclz:CommonFrame,vid:10166,clz:ChatStyleView,clzName:"ChatStyleView",index:1,openData:App.GP.getOpenUIDataTvoByVid(10166),title:"style_json.style_title_png",selIcon:"style_json.style_sel_png",unselIcon:"style_json.style_unsel_png",res:[YTU.IXW],data:{}}),$dynamicRegiste(e),e.autoLoad=!0,e.cacheFrame=!0,e.reopenFrame=!0
}function $dynamicRegiste(e){}function $gameReady(){if(RES.destroyRes("selectserver_json"),RES.destroyRes("loading_json"),RES.destroyRes("selectrole_json"),RES.destroyRes("selectroleII_json"),fvg.init(RES.getRes("language_zh_cn_json")),App.CN(),StoryInfo.GY(RES.getRes("story_data_json")),SocketManager.instance.start(),PlayerManager.instance.jkU.newbie)SceneManager.instance.enterChapter(!1);else{PlayerManager.instance.noviceProgress(ProgressType._T);var e=GObj.$c(NewbieFrame);e.show()}}function $mapInit(){var e=(App.UY,BattleAction.instance);e.addAction(1,ActionRepel),e.addAction(2,ActionJump),e.addAction(3,ActionSprint),e.addAction(8,ActionFlash),e.addAction(5,ActionDie),e.addAction(6,ActionShake),e.addAction(4,ActionSpur)}function $messageProxyInit(){var e=App.YE;e.open(VolverMsgProxy),e.open(ziI),e.open(NXr),e.open(GoodsMsgProxy),e.open(TaskMsgProxy),e.open(SkillMsgProxy),e.open(StoreMsgProxy),e.open(RankMsgProxy),e.open(ShopMsgProxy),e.open(EmailMsgProxy),e.open(MapMsgProxy),e.open(SupremeMsgProxy),e.open(RewardHallMsgProxy),e.open(WealthDishMsgProxy),e.open(ChatMsgProxy),e.open(TeamCopyMsgProxy),e.open(SocietyMsgProxy),e.open(AjJ),e.open(AppellMsgProxy),e.open(IndulgeMsgProxy),e.open(CampaignMsgProxy),e.open(ActivityMsgProxy),e.open(FunnyMsgProxy),e.open(GoalMsgProxy),e.open(PreviewMsgProxy),e.open(ArenaMsgProxy),e.open(RaidMsgProxy),e.open(HarryMsgProxy),e.open(RuneMsgProxy),e.open(KnightMsgProxy),e.open(RetinueMsgProxy),e.open(TeamMsgProxy),e.open(ConsMsgProxy),e.open(CrossHarryMsgProxy),e.open(CityBattleMsgProxy),e.open(TreasureMsgProxy),e.open(MineMsgProxy),e.open(ExploreMsgProxy),e.open(OfficialMsgProxy),e.open(SpiritMsgProxy),e.open(AuctionMsgProxy),e.open(CloakMsgProxy),e.open(LuckyDrawMsgProxy),e.open(WulinLeagueMsgProxy),e.open(HiddenWeaponMsgProxy),e.open(HoroskopMsgProxy),e.open(TaiyiMsgProxy),e.open(FamilyMsgProxy),e.open(CardMsgProxy),e.open(ValentinesMsgProxy),e.open(RechargeGiftMsgproxy),e.open(AchievementMsgProxy),e.open(MagicBladeProxy),e.open(RevelryMsgProxy),e.open(PvpMsgProxy),e.open(RetinueMsgProxy),e.open(PurgatoryMsgProxy),e.open(SwordTombMsgProxy),e.open(TownMagicMsgProxy)}function $redRegiste(){var e=App.AJ;e.addRed(10001,[UtJ.DV,UtJ.BF],UsU.QE),e.addRed(10002,[UtJ.TS],UsU.WF),e.addRed(10003,[UtJ.DV,UtJ.AVM,UtJ.PP],UsU.V_),e.addRed(10004,[UtJ.DV,UtJ._A,UtJ.SU],UsU.BL,aKF.MM),e.addRed(10005,[UtJ.DV,UtJ._A,UtJ.SU],UsU.CNM),e.addRed(10006,[UtJ.DV,UtJ._A,UtJ.SU],UsU.JK),e.addRed(10007,[UtJ.ZYV,UtJ.RF,UtJ.PP],UsU.MQ),e.addRed(10008,[UtJ.ZYV,UtJ.RF],UsU.VR_),e.addRed(10122,[UtJ.RCV,UtJ.TCN,UtJ.DV,UtJ.DT,UtJ.APK,UtJ.FLN,UtJ.CV,UtJ.PP],UsU.AK),e.addRed(10124,[UtJ.TCN,UtJ.CV,UtJ.DV],UsU.RKF),e.addRed(10123,[UtJ.TCN,UtJ.OE],UsU.BX),e.addRed(10009,[UtJ.DV,UtJ.TS,UtJ._A,UtJ.SU,UtJ.RF,UtJ.ZYV,UtJ.VO,UtJ.EGW,UtJ.DV,UtJ.OC],UsU.UW),e.addRed(10011,[UtJ.XW,UtJ.YL,UtJ.AL],UsU.KX),e.addRed(10013,[UtJ.DV],UsU.PW),e.addRed(10012,[UtJ.CJ,UtJ.A_,UtJ.EHD,UtJ.ND,UtJ.HA,UtJ.DC],UsU.WPZ),e.addRed(10033,[UtJ.HG,UtJ.DV,UtJ.JD],UsU.AS),e.addRed(10034,[UtJ.DV,UtJ.JD],UsU.XT),e.addRed(10035,[UtJ.MF,UtJ._B],UsU.IH),e.addRed(10036,[UtJ.VO,UtJ.VW],UsU.FC),e.addRed(10160,[UtJ.DV],UsU.AZP),e.addRed(10014,[UtJ.LN,UtJ.DV,UtJ.JG,UtJ.ZT],UsU.OCQ),e.addRed(10015,[UtJ.ZR],UsU.VW),e.addRed(10016,[UtJ.NX,UtJ.GW,UtJ.PTT],UsU.US_),e.addRed(10017,[UtJ.CF,UtJ.GK,UtJ.DV],UsU.UXR),e.addRed(10019,[UtJ.DV],UsU.BO),e.addRed(10018,[UtJ.BP,UtJ.DDI,UtJ.XY,UtJ.PP],UsU.ZT),e.addRed(10045,[UtJ.WTM,UtJ.DV],UsU.EJ),e.addRed(10054,[UtJ.RZ,UtJ.BGK,UtJ.ZL],UsU.AU),e.addRed(10053,[UtJ.TA],UsU.TO),e.addRed(10143,[UtJ.XYJ],UsU.ZU),e.addRed(10023,[UtJ.TR],UsU._TQ),e.addRed(10024,[UtJ.EU,UtJ.PT],UsU.BJ),e.addRed(10025,[UtJ.CH],UsU.NJ,1),e.addRed(10026,[UtJ.CH,UtJ.YY],UsU.NJ,2),e.addRed(10028,[UtJ.ZC],UsU.ZW),e.addRed(10037,[UtJ.LO,UtJ.JI,UtJ.DV],UsU.QN),e.addRed(10030,[UtJ.DOU],UsU.EA),e.addRed(10029,[UtJ.VOB],UsU.AO),e.addRed(10117,[UtJ.NTG],UsU.CE),e.addRed(10118,[UtJ._S,UtJ.NTG],UsU.BZ),e.addRed(10110,[UtJ.KUB],UsU.YD),e.addRed(10111,[UtJ.JP],UsU.FY),e.addRed(10112,[UtJ.DL,UtJ.KRG],UsU._Z),e.addRed(10088,[UtJ.HA],UsU.QI),e.addRed(10121,[UtJ.IK],UsU.WY),e.addRed(10069,[UtJ.IYL,UtJ.IN,UtJ.QU,UtJ.JV],UsU.WH),e.addRed(10071,[UtJ.WSU,UtJ.TB,UtJ.I_],UsU.VE),e.addRed(10072,[UtJ.BI],UsU.ZJ),e.addRed(10046,[UtJ.XW,UtJ.TB,UtJ.I_,UtJ.YL,UtJ.CH,UtJ.CT,UtJ.KU,UtJ.DV,UtJ.WSU,UtJ.BI],UsU.YC),e.addRed(10052,[UtJ.RTW,UtJ.AV,UtJ.BH,UtJ.ITK,UtJ.CK,UtJ.FU],UsU.XG),e.addRed(10048,[UtJ.CT],UsU.EB),e.addRed(10049,[UtJ.RN,UtJ.KU],UsU.OIV),e.addRed(10133,[UtJ.VFN],UsU.AC),e.addRed(10132,[UtJ.MXL],UsU.IU),e.addRed(10137,[UtJ.MXL],UsU.PBX),e.addRed(10134,[UtJ.KWI],UsU.ZX,4),e.addRed(10136,[UtJ.KWI],UsU.ZX,5),e.addRed(10141,[UtJ._Q,UtJ.XGU],UsU.VLF),e.addRed(10140,[UtJ.BP],UsU.DM),e.addRed(10139,[UtJ.DDI],UsU.RIB),e.addRed(10146,[UtJ.EN,UtJ.DV],UsU.XBV),e.addRed(10142,[UtJ.ZK,UtJ.XF,UtJ.ZW_,UtJ.DV],UsU._A),e.addRed(10145,[UtJ.OL],UsU.LQ),e.addRed(10152,[UtJ.PP,UtJ.AW],UsU.CL,10056),e.addRed(10149,[UtJ.PP,UtJ.AW],UsU.CL,10059),e.addRed(10148,[UtJ.PP,UtJ.AW],UsU.CL,10058),e.addRed(10150,[UtJ.PP,UtJ.AW],UsU.CL,10057),e.addRed(10151,[UtJ.PP,UtJ.AW],UsU.CL,10060),e.addRed(10153,[UtJ.PP,UtJ.AW],UsU.CL,10062),e.addRed(10169,[UtJ.PP,UtJ.AW],UsU.CL,10063),e.addRed(10040,[UtJ.N_],UsU.OWZ),e.addRed(10020,[UtJ.DV],UsU.OX),e.addRed(10147,[UtJ.JA,UtJ.DV],UsU.DBE),e.addRed(10010,[UtJ.DV,UtJ.OC],UsU.OT),e.addRed(10138,[UtJ.HX_],UsU.KS),e.addRed(10125,[UtJ.HX_],UsU.KU),e.addRed(10130,[UtJ.PNM],UsU.CJ,2),e.addRed(10129,[UtJ.PNM],UsU.CJ,1),e.addRed(10154,[UtJ.PP],UsU.WA,1),e.addRed(10155,[UtJ.PP],UsU.WA,2),e.addRed(10156,[UtJ.PP],UsU.WA,3),e.addRed(10157,[UtJ.PP],UsU.WA,4),e.addRed(10158,[UtJ.PP],UsU.WA,5),e.addRed(10159,[UtJ.PP],UsU.WA,6),e.addRed(10162,[UtJ.BP,UtJ.DDI,UtJ.XY,UtJ.PP],UsU.IA),e.addRed(10163,[UtJ.BP],UsU.WOI),e.addRed(10164,[UtJ.JOW],UsU.RL),e.addRed(10167,[UtJ.HW],UsU.IOT),e.addRed(10038,[UtJ.LO],UsU.MO),e.addRed(10166,[UtJ.EGW],UsU.QS)}function $windowInit(){window.ImageIcon=ImageIcon,window.TextBack=TextBack,window.FrameEffectGroup=FrameEffectGroup,window.FrameGroup=FrameGroup,window.SmallIcon=SmallIcon,window.NumberView=NumberView,window.BaseItemView=BaseItemView,window.GoodsItemView=GoodsItemView,window.PopGroup=PopGroup,window.SizeSelectorView=SizeSelectorView,window.BaseUpgradeIcon=BaseUpgradeIcon,window.CultProgressBar=CultProgressBar,window.BaseIconView=BaseIconView,window.ConsAlertItem=ConsAlertItem,window.ConsItem=ConsItem,window.EliteChallengeItem=EliteChallengeItem,window.BaseHeadView=BaseHeadView,window.FightView=FightView,window.FunnyTreasureItem=FunnyTreasureItem,window.GemUpgradeView=GemUpgradeView,window.ImmortalEquipItemView=ImmortalEquipItemView,window.MagicDishItem=MagicDishItem,window.RuneOrdinaryItem=RuneOrdinaryItem,window.RuneSynthesisItem=RuneSynthesisItem,window.StuntBtnItem=StuntBtnItem,window.TownMagicRewardView=TownMagicRewardView,window.TreasuryBigRItem=TreasuryBigRItem,window.VipCardItemView=VipCardItemView}function addSelf(e,t){t&&e&&!t.parent&&e.addChild(t)}function removeSelf(e){if(e){var t=e.parent;t&&t.removeChild(e)}}function returnInt(e){return parseInt(e,10)}var egret=window.egret;window.hitalkgame20170315=249609115;var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},EffectView=function(e){function t(){var t=e.call(this)||this;return t._enterFrame=0,t.init(),t}return __extends(t,e),t.prototype.init=function(){GApp.avatarLayer.registerEffect(this)},t.prototype.update=function(){this._enterFrame++},t.prototype.dispose=function(){GApp.avatarLayer.unregisterEffect(this),this.parent&&this.parent.removeChild(this)},t}(egret.DisplayObjectContainer);__reflect(EffectView.prototype,"EffectView");var ActionBase=function(){function e(){this._enterFrame=0}return e.prototype.start=function(e,t,n,i,r){this._enterFrame=0,this._tx=t,this._ty=n,this._view=e,this._complete=i,this._thisObject=r,GApp.enterFrameMgr.registeEnterFrame(this.update,this)},e.prototype.update=function(){},Object.defineProperty(e.prototype,"type",{get:function(){return htg.warn("ActionBase.type"),0},enumerable:!0,configurable:!0}),e.prototype.recycle=function(){GApp.enterFrameMgr.unRegisteEnterFrame(this.update,this),this._complete&&this._complete.call(this._thisObject),this._view=null,this._complete=null,this._thisObject=null},e.prototype.dispose=function(){this.recycle()},e}();__reflect(ActionBase.prototype,"ActionBase",["ICache"]);var EffectUI=function(e){function t(){var t=e.call(this)||this;return t._enterFrame=0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.__addToStageHandler,t),t}return __extends(t,e),t.prototype.update=function(){this._enterFrame++},t.prototype.recycle=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.__addToStageHandler,this)},Object.defineProperty(t.prototype,"horizontalCenter",{get:function(){return this._horizontalCenter},set:function(e){this._horizontalCenter=e,this.setCenter()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"verticalCenter",{get:function(){return this._verticalCenter},set:function(e){this._verticalCenter=e,this.setCenter()},enumerable:!0,configurable:!0}),t.prototype.setCenter=function(){if(this.parent){if(!isNaN(this._verticalCenter)){var e=this._verticalCenter||0;this.y=(this.parent.height-this.height)/2+e}if(!isNaN(this._horizontalCenter)){var t=this._horizontalCenter||0;this.x=(this.parent.width-this.width)/2+t}}},t.prototype.$setWidth=function(t){e.prototype.$setWidth.call(this,t),this.setCenter()},t.prototype.$setHeight=function(t){e.prototype.$setHeight.call(this,t),this.setCenter()},t.prototype.__addToStageHandler=function(e){this.setCenter()},t.prototype.dispose=function(){this.recycle()},t}(egret.DisplayObjectContainer);__reflect(EffectUI.prototype,"EffectUI",["IEffectUI"]);var GDispatcher=function(){function e(){this._eventDict={},this._removeCache=[],this._events=0}return e.prototype.$dispatchEvent=function(e,t){var n=this._eventDict[e];if(n){var i=n.length;if(0!=i){this._events+=1;try{for(var r=0;i>r;r++){var a=n[r];this.$check(a)&&a.listener.apply(a.thisObject,t)}}catch(o){htg.warn(o.stack)}this._events-=1,this._events<=0&&(this._removeCache.length=0)}}},e.prototype.$check=function(e){if(!e)return!1;for(var t=0,n=this._removeCache;t<n.length;t++){var i=n[t];if(i&&i.type==e.type&&i.listener==e.listener&&i.thisObject==e.thisObject)return!1}return!0},e.prototype.$addEventListener=function(e,t,n){var i=this._eventDict[e];i?0!=this._events&&(this._eventDict[e]=i=i.concat()):i=this._eventDict[e]=[];for(var r,a=i.length,o=0;a>o;o++)if(r=i[o],r.listener==t&&r.thisObject==n)return;r={type:e,listener:t,thisObject:n},i.push(r)},e.prototype.$removeEventListener=function(e,t,n){var i=this._eventDict[e];if(i){0!=this._events&&(this._eventDict[e]=i=i.concat(),this._removeCache.push({type:e,listener:t,thisObject:n}));for(var r=i.length,a=0;r>a;a++){var o=i[a];if(o.listener==t&&o.thisObject==n)return void i.splice(a,1)}}},e}();__reflect(GDispatcher.prototype,"GDispatcher");var htg;!function(e){function t(){GcManager.instance.execGC()}function n(e){throw Error(e)}function i(e){console.log("[warn]%c "+e,"color:#ff0000")}function r(e){throw Error(e)}function a(e){console.log("[error]%c "+e,"color:#f06a1f")}function o(e){console.log("[info]%c "+e,"color:#808080")}function s(e){console.log("[debug]%c "+e,"color:#2020ff")}function p(e){}e.gc=t,e.$logList=[],e.$warn=n,e.$warnlog=i,e.$error=r,e.$errorlog=a,e.$log=o,e.$debug=s,e.$nothing=p,e.warn=n,e.error=r,e.log=o,e.info=o,e.debug=s}(htg||(htg={}));var BonesDisplay=function(e){function t(t){var n=e.call(this)||this;return n._play=!0,n.addEvent(),n.source=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"source",{set:function(e){usable(e)&&this._source!=e&&(this._display&&(this._display.parent&&this._display.parent.removeChild(this._display),this._display.dispose(),this._display=null,this._animation=null,this._armature=null),usable(this._source)&&GApp.bonesCache.clearBonesDisplay(this._source,this.__bonesCompleteHandler,this),this._source=e,GApp.bonesCache.getBonesDisplay(e,this.__bonesCompleteHandler,this))},enumerable:!0,configurable:!0}),t.prototype.__bonesCompleteHandler=function(e){this._destory,e&&(this._display&&(this._display.parent&&this._display.parent.removeChild(this._display),this._display.dispose(),this._display=null),this._armature&&this._armature.eventDispatcher&&this._armature.eventDispatcher.removeDBEventListener(HUtJ.COMPLETE,this.__armatureComplete,this),this._display=e,this.addChild(this._display),this._animation=this._display.animation,this._armature=this._display.armature,this._armature.eventDispatcher.addDBEventListener(HUtJ.COMPLETE,this.__armatureComplete,this),this._play&&this.play(this._playName,this.times))},t.prototype.__armatureComplete=function(e){this.dispatchEvent(new egret.Event(HUtJ.COMPLETE))},t.prototype.play=function(e,t){this._play=!0,this._playName=e,this.times=t,this._animation&&this._animation.play(e,t)},t.prototype.stop=function(e){this._play=!1,this._animation&&this._animation.stop(e)},t.prototype.getBone=function(e){return this._armature?this._armature.getBone(e):null},t.prototype.__addedToStageHandler=function(e){this._play||this.play()},t.prototype.__DNE=function(e){this._play&&this.stop()},t.prototype.addEvent=function(){this.addEventListener(egret.Event.ADDED_TO_STAGE,this.__addedToStageHandler,this),this.addEventListener(eui.RFS,this.__DNE,this)},t.prototype.removeEvent=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.__addedToStageHandler,this),this.removeEventListener(eui.RFS,this.__DNE,this),this._armature&&this._armature.eventDispatcher&&this._armature.eventDispatcher.removeDBEventListener(HUtJ.COMPLETE,this.__armatureComplete,this)},t.prototype.dispose=function(){this.removeEvent(),this.parent&&this.parent.removeChild(this),this._source&&GApp.bonesCache.clearBonesDisplay(this._source,this.__bonesCompleteHandler,this),this._animation=null,this._armature=null,this._display&&(this._display.parent&&this._display.parent.removeChild(this._display),this._display.dispose(),this._display=null)},t}(egret.DisplayObjectContainer);__reflect(BonesDisplay.prototype,"BonesDisplay");var BgLayer=function(e){function t(t,n,i){var r=e.call(this)||this;return r._resId=0,r._mapW=0,r._mapH=0,r._tileDict={},r._thumbScaleX=1,r._thumbScaleY=1,r._checkW=0,r._checkH=0,r._rowMax=1,r._colMax=1,r._px=-300,r._py=-300,r.init(t,n,i),r.addEvent(),r}return __extends(t,e),t.create=function(e,n,i,r){var a;switch(e){case 1:return a=GObj.$c(BgNoborderLayer),a.init(n,i,r),a;default:return a=GObj.$c(t),a.init(n,i,r),a}},t.prototype.init=function(e,t,n){e&&t&&n&&(this._resId=e,this._mapW=t,this._mapH=n,this._colMax=Math.ceil(t/GConfig.$TILE_SIZE),this._rowMax=Math.ceil(n/GConfig.$TILE_SIZE),this.__resizeHandler(null))},Object.defineProperty(t.prototype,"thumb",{get:function(){return this._thumb},set:function(e){this._thumb!==e&&(this._thumb=e,this._thumb&&(this._thumbScaleX=Math.ceil(this._mapW/this._thumb.textureWidth),this._thumbScaleY=Math.ceil(this._mapH/this._thumb.textureHeight),(!this._thumbScaleX||this._thumbScaleX<0)&&(this._thumbScaleX=1),(!this._thumbScaleY||this._thumbScaleY<0)&&(this._thumbScaleY=1)))},enumerable:!0,configurable:!0}),t.prototype.updateCamera=function(e,t){return Math.abs(e-this._px)>=this._checkW?void this.updateTile(e,t):Math.abs(t-this._py)>=this._checkH?void this.updateTile(e,t):void 0},t.prototype.updateTile=function(e,t){this._px=e,this._py=t,this._checkW=e%GConfig.$TILE_SIZE,this._checkH=t%GConfig.$TILE_SIZE,this._checkW<=0&&(this._checkW=GConfig.$TILE_SIZE),this._checkH<=0&&(this._checkH=GConfig.$TILE_SIZE);var n=int(e/GConfig.$TILE_SIZE)-1,i=int(t/GConfig.$TILE_SIZE)-1;0>n&&(n=0),0>i&&(i=0);var r=i+this._tileRow,a=n+this._tileCol;r*GConfig.$TILE_SIZE>this._mapH&&(r=this._rowMax),a*GConfig.$TILE_SIZE>this._mapW&&(a=this._colMax),this.addTile(n,a,i,r)},t.prototype.addTile=function(e,t,n,i){var r,a;this.tempTile={};for(var o=n;i>o;o++)for(var s=e;t>s;s++)r=o+GConst.STR_+s,this.tempTile[r]=!0,a=this._tileDict[r],a?a.parent||this.addChild(a):(this._tileDict[r]=a=GObj.$c(BgTile),a.mapWidth=this._mapW,a.mapHeight=this._mapH,a.updateThumb(this._thumb,this._thumbScaleX,this._thumbScaleY),a.updatePos(this._resId,o,s),this.addChild(a));for(var r in this._tileDict)this.tempTile[r]||(a=this._tileDict[r],a&&a.parent&&a.parent.removeChild(a))},t.prototype.__resizeHandler=function(e){this._tileRow=GConfig.$TILE_ROW,this._tileCol=GConfig.$TILE_COL,this._checkW=0,this._checkH=0},t.prototype.addEvent=function(){vkG.$a(HUtJ.RESIZE,this.__resizeHandler,this)},t.prototype.removeEvent=function(){vkG.$r(HUtJ.RESIZE,this.__resizeHandler,this)},t.prototype.dispose=function(){if(this.parent&&this.parent.removeChild(this),this._tileDict){var e;for(var t in this._tileDict)e=this._tileDict[t],GObj.$d(e);e=null,this._tileDict=null}},t}(egret.DisplayObjectContainer);__reflect(BgLayer.prototype,"BgLayer");var SkillView=function(e){function t(){var t=e.call(this)||this;return t.soy=0,t._isTo=!1,t._loopCount=1,t._direction8=0,t._effectArr=[],t._bmpArr=[],t._layerArr=[],t._frame=0,t._startTime=0,t._tempTime=0,t._fast=1,t._below=!1,t._round=!1,t._playInterval=GConfig.PLAY_SKILL_INTERVAL,t._effectCount=0,t}return __extends(t,e),t.prototype.init=function(){},Object.defineProperty(t.prototype,"playInterval",{get:function(){return this._playInterval},set:function(e){this._playInterval!=e&&(this._playInterval=int(e),this._playInterval<=0&&(this._playInterval=GConfig.PLAY_SKILL_INTERVAL))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fast",{get:function(){return this._fast},set:function(e){this._fast!=e&&(this._fast=e)},enumerable:!0,configurable:!0}),t.prototype.QWx=function(e){if(e&&this._key==e.key){var n=e.autoAngle&&this._isTo;if(n?this._esvo=e.getBySkillByDir(irK.B_B):this._esvo=e.getBySkillByDir(this._direction8),!this._esvo)return void GObj.$d(this);if(this._below?this._effectArr=this._esvo.belowList:this._effectArr=this._esvo.items,this._effectCount=this._effectArr.length,!this._below)if(this._effectCount<=0){if(this._effectCount=this._esvo.belowList.length,this._effectCount<=0)return void GObj.$d(this);this._below=!0,this._effectArr=this._esvo.belowList}else if(this._esvo.belowList.length>0){var i=GObj.$c(t);i.x=this.x,i.y=this.y,i._below=!0,i.start(this._key,this._direction8)}this.playInterval=e.ftime||0;for(var r,a,o,s=0,p=0;p<this._effectCount;p++)r=this._bmpArr[p],o=this._effectArr[p],r||(r=GObj.$c(GBitmap),this._bmpArr.push(r)),a=this._layerArr[s],a||(a=GObj.$c(egret.DisplayObjectContainer),this._layerArr.push(a)),a.rotation=o.angle||0,a.scaleX=o.sx||1,a.scaleY=o.sy||1,a.x=o.x,a.y=o.y,a.addChild(r),this.addChild(a),s++;if(n){this.y=this.soy||this.y;var l=Math.atan2(this._ty-this.y,this._tx-this.x);l=180*l/Math.PI,0>l?l+=360:l>360&&(l%=360),this.rotation=l}else this.rotation=this._esvo.angle||this.rotation||0;this.scaleX=this._esvo.scaleX||1;for(var c=this._bmpArr.length;c>p;p++)r=this._bmpArr[p],r&&GObj.$d(r);this._bmpArr.length=this._effectCount,this.register()}},t.prototype.start=function(e,t,n,i,r){void 0===n&&(n=1),this._isTo=!(!i&&!r),this._tx=i||0,this._ty=r||0,this._direction8=t,this._tempTime=GApp.timer,this._startTime=GApp.timer,this._key=e,this._effectCount=0,this.rotation=0,(!n||0>=n)&&(this._round=!0,n=1),this._fast=GConfig.$SKILL_FAST,this._loopCount=n,GApp.effectCache.getEffectSheet(this._key,this.QWx,this)},t.prototype.update=function(){if(!(this._effectCount<=0)){this._tempTime=GApp.timer;for(var e,t,n,i,r,a,o=this._effectArr.length,s=0,p=0;o>p;p++)if(t=this._effectArr[p],r=(this._tempTime-this._startTime)*this._fast-t.delay,!(0>r)){if(e=this._bmpArr[p],this._frame=int(r/this._playInterval),t.time&&(n=this._layerArr[p])){var l=int(r/GConfig.FRAME_TIME);n.x=t.x+l*(t.movex||0),n.y=t.y+l*(t.movey||0)}a=t.length,!this._round&&this._frame>=a&&(!t.time||r>=t.time)&&(s++,this._loopCount<=1)?e.parent&&e.parent.removeChild(e):(i=t.ttfs[this._frame%a],i&&(e.texture=i.ttr,e.x=i.offX,e.y=i.offY))}s>=o&&this.complete()}},t.prototype.complete=function(){this._loopCount--,this._loopCount>0?this._startTime=GApp.timer:GObj.$d(this)},t.prototype.register=function(){GApp.avatarLayer.registerEffect(this,this._below)},t.prototype.unregister=function(){GApp.avatarLayer.unregisterEffect(this)},t.prototype.recycle=function(){if(this.unregister(),this._bmpArr){for(var e=this._bmpArr.length,t=0;e>t;t++)GObj.$d(this._bmpArr[t]);this._bmpArr.length=0}this._layerArr,this._fast=GConfig.$SKILL_FAST,this._round=!1,this._below=!1,this._key=null,this._esvo=null,this._effectArr=null,this.parent&&this.parent.removeChild(this)},t.prototype.dispose=function(){this.recycle()},t}(EffectView);__reflect(SkillView.prototype,"SkillView");var AvatarPart=function(e){function t(t){var n=e.call(this)||this;return n._part=null,n._model=null,n._frame=0,n._action=null,n._direction=1,n.frameSize=0,n.startTime=0,n.heady=80,n.headx=0,n.ox=0,n.oy=0,n.setState=n.updateState,n.touchEnabled=!1,n._part=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"part",{get:function(){return this._part},set:function(e){this._part=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},set:function(e){usable(e)&&this._model!=e&&(this._model=e,this.updateState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"action",{get:function(){return this._action},set:function(e){this._action!=e&&(this._action=e,this.updateState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!=e&&(this._direction=e,this.updateState())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frame",{set:function(e){if(this._frame=e,this.frameSize<=0)return void(this.texture=null);if(!this._asvo.jsonObj)return void htg.warn(this._key+" avatar part json null");this._frame=~~(this._frame%this.frameSize);var t=this._asvo.jsonObj.frames[this._frame];t&&(this.texture=this._asvo.ttfs[this._frame],this.x=-t.ox+this.ox,this.y=-t.oy+this.oy)},enumerable:!0,configurable:!0}),t.prototype.QWx=function(e){this._key==e.key&&e.jsonObj&&this.parent&&(this._asvo=e,this.frameSize=e.ttfs.length,this.heady=e.jsonObj.hy,this.headx=e.jsonObj.hx)},t.prototype.updateState=function(){if(this._action&&this._model&&this._part){var e=GConfig.$AVATAR_PART_HIDE[this._action];if(e&&e==this._part)return this._key=null,void(this.frameSize=0);this._tempKey=GConfig.PATH_AVATAR+this._model+GConst.STR_DIR+this._part+this._action,this._action!=irK.ACTION_ROTATE&&(this._tempKey+=this._direction),this._tempKey!=this._key&&(this.startTime=GApp.timer,this._key=this._tempKey,GApp.enterFrameMgr.addDelay(this))}},t.prototype.$delayExecute=function(){if(this._pkey){if(this._pkey==this._key)return;GApp.avatarCache.delCache(this._pkey)}if(this.startTime=GApp.timer,this.frameSize=0,this._pkey=null,this._key){this._pkey=this._key;var e;this.cacheLastPart&&(e=this._part),GApp.avatarCache.addCache(this._key),GApp.avatarCache.getAvatarSheet(this._key,this.QWx,this,e)}},t.prototype.recycle=function(){this.parent&&this.parent.removeChild(this),GApp.avatarCache.delCache(this._key),this.frameSize=0,this.texture=null,this._asvo=null,this._key=null,this._part=null,this._model=null,this._frame=0,this._action=null,this._direction=1},t}(egret.Bitmap);__reflect(AvatarPart.prototype,"AvatarPart",["ICache","IDelay"]);var AvatarView=function(e){function t(){var t=e.call(this)||this;return t.destory=!1,t._mirror=1,t._direction5=1,t._direction8=1,t._action=null,t._actionOver=!1,t._cloakFront=!1,t.init(),t}return __extends(t,e),t.prototype.init=function(){this.touchEnabled=this.touchChildren=!1,this.playInterval=GConfig.PLAY_AVATAR_INTERVAL,this._modelSpr=GObj.$c(egret.DisplayObjectContainer),this.addChild(this._modelSpr),this._partDict={},this._bodyPart=this.createPart(),this._bodyPart.part=irK.PART_BODY,this._modelSpr.addChild(this._bodyPart),this._partDict[irK.PART_BODY]=this._bodyPart},t.prototype.createPart=function(e){return void 0===e&&(e=irK.PART_BODY),GObj.$c(AvatarPart)},t.prototype.show=function(){this.destory||this._show||(this._show=!0,GApp.avatarLayer.register(this))},t.prototype.hide=function(){this._show&&(this._show=!1,GApp.avatarLayer.unregister(this))},t.prototype.updatePart=function(e,t){if(void 0===t&&(t=irK.PART_BODY),!usable(e))return void(t!=irK.PART_BODY&&(GObj.$recycle(this._partDict[t]),delete this._partDict[t]));var n=this._partDict[t];if(!n){if(irK.AVATAR_LAYER.indexOf(t)<0)return;n=this.createPart(t),n.part=t,this._partDict[t]=n;for(var i,r=irK.AVATAR_LAYER.length,a=0;r>a;a++)i=this._partDict[irK.AVATAR_LAYER[a]],i&&this._modelSpr.addChild(i)}n.model=e},Object.defineProperty(t.prototype,"playInterval",{get:function(){return this._playInterval},set:function(e){this._playInterval!=e&&(this._playInterval=int(e),this._playInterval<=0&&(this._playInterval=GConfig.PLAY_AVATAR_INTERVAL))},enumerable:!0,configurable:!0}),t.prototype.update=function(){if(!(this._bodyPart.frameSize<=0)){var e=GApp.timer,t=(e-this._bodyPart.startTime)/this._playInterval;this.setHeady(this._bodyPart.heady);for(var n in this._partDict)this._partDict[n].frame=t;!this._actionOver&&t>this._bodyPart.frameSize&&this.actionOver(this._action)}},t.prototype.actionOver=function(e){this._actionOver=!0},t.prototype.setHeady=function(e){},t.prototype.updateData=function(e){},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!=e&&(this._selected=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heady",{get:function(){return this._bodyPart?this._bodyPart.heady||0:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footy",{get:function(){return this.y},enumerable:!0,configurable:!0}),t.prototype.acrAction=function(){},t.prototype.acrOver=function(){},t.prototype.setDirection=function(e){var t;for(var n in this._partDict)t=this._partDict[n],t&&(t.direction=e);var i=irK.CLOAK_FRONT[e];if(this._cloakFront!=i){this._cloakFront=i,this._partDict[irK.PART_CLOAK]&&this._modelSpr.swapChildren(this._partDict[irK.PART_CLOAK],this._partDict[irK.PART_BODY]);var r=this._partDict[irK.PART_SOUL];r&&(i?this._modelSpr.addChild(r):this._modelSpr.addChildAt(r,0))}},t.prototype.setAction=function(e){this._action=e,this._actionOver=!1;var t;for(var n in this._partDict)t=this._partDict[n],t&&(t.action=e)},Object.defineProperty(t.prototype,"direction8",{get:function(){return this._direction8},set:function(e){this._direction8!=e&&(this._direction8=e,this._direction5=AvatarHelp.direction2res(this._direction8),this._mirror=AvatarHelp.direction2mirror(this._direction8),this._modelSpr.scaleX=this._mirror,this.setDirection(this._direction5))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){if(!this.destory){if(this.destory=!0,this.hide(),this._partDict){for(var e in this._partDict)GObj.$recycle(this._partDict[e]);this._partDict=null}this._bodyPart=null,this._modelSpr=null,this.parent&&this.parent.removeChild(this)}},t}(egret.DisplayObjectContainer);__reflect(AvatarView.prototype,"AvatarView",["IAvatarView","egret.DisplayObject"]);var UIManager=function(){function e(){this.autoLoad=!1,this.cacheFrame=!1,this.reopenFrame=!1,this.clearMapOpenUI=this.enterMapOpenUI,this.addTopUI=this.addTopUISwitchMap,this.removeTopUI=this.removeTopUISwitchMap,this.clearObiter=this.openObiterClose,this.popOpenObiterClose=this.openObiterClose,singleton(e._instacne),e._instacne=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instacne||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._uiDict={},this._uiClz={},this._popuiClz={},this._popuiDict={},this._uiParamDict={},this._uiCloseDict={},this._enterMapDict={},this._topUIList=[],this._barTypeList=[],this._barDict={},this._coexistFrameDict={},this._fristOpenDict={},this._uiResDict={},this._sheetResDict={},this._viewDict={},this._frameDict={}},e.prototype.addBar=function(e){e&&(this._barDict[e.barType]||(this._barDict[e.barType]=e,this._barTypeList.push(e.barType)))},e.prototype.addFristOpen=function(e){this._fristOpenDict[e]=!0},e.prototype.addCoexistFrame=function(e){this._coexistFrameDict[e]=!0},e.prototype.uJG=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this._uiClz[e]=t,this.addResByUI(e,n)},e.prototype.addResByUI=function(e,t){if(t){var n=t.length;if(!(0>=n)){var i=this._uiResDict[e];if(!i)return void(this._uiResDict[e]=t);for(var r=0;n>r;r++){var a=t[r];i.indexOf(a)<=-1&&i.push(a)}}}},e.prototype.addView=function(e){if(e){(this._frameDict[e.vid]||this._uiClz[e.vid])&&htg.warn("frameid exist viewid:"+e.vid),this._viewDict[e.vid]=e;var t=this._frameDict[e.fid];t||(this._frameDict[e.fid]=t=[]),t.indexOf(e)<0&&t.push(e),this._uiClz[e.fid]=e.fclz,this.addResByUI(e.fid,e.res)}},e.prototype.getViewDatByVid=function(e){var t=this._viewDict[e];if(t)return[t];var n=this._frameDict[e];return n||[]},e.prototype.addSheetRes=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&t&&(this._sheetResDict[e]=t)},e.prototype.disposeRes=function(e){if(e){var t=this._sheetResDict[e];if(t)for(var n=0,i=t;n<i.length;n++){var r=i[n];RES.destroyRes(r)}else typeof e==GConst.TOF_STR&&RES.destroyRes(e)}},e.prototype.addPopUI=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];this._popuiClz[e]=t,this.addResByUI(e,n)},e.prototype.setOpenCheck=function(e,t){this._checkCall=e,this._thisObj=t},e.prototype.setOpenViewCheck=function(e,t){this._checkViewCall=e,this._viewThis=t},e.prototype.setTabCheck=function(e,t){this._tabCall=e,this._tabThis=t},e.prototype.setFristOpen=function(e,t){this._fristCall=e,this._fristThis=t},e.prototype.setLoading=function(e){this._loading=e},e.prototype.setExistFrame=function(e,t){this._existFrameCall=e,this._existFrameThis=t
},e.prototype.openMain=function(e,t){void 0===t&&(t=-1);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=!1;return r=n&&n.length>0?this.$openTab(e,t,n):this.$openTab(e,t),r&&this.destroyCacheFrame(),r},e.prototype.openTab=function(e,t){void 0===t&&(t=-1);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return n&&n.length>0?this.$openTab(e,t,n):this.$openTab(e,t)},e.prototype.$openTab=function(e,t,n){if(void 0===t&&(t=-1),this._id==e)return!0;if(-1==t){if(!this.checkOpen(e))return!1}else if(this._tabCall&&!this._tabCall.call(this._tabThis,e,t))return!1;var i;return n&&n.length>0&&(i=n),-1!=t&&(i||(i=[]),i.push(t)),this.$open(e,i)},e.prototype.open=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this._id==e?!0:this.checkOpen(e)?t&&t.length>0?this.$open(e,t):this.$open(e):void 0},e.prototype.checkOpen=function(e){var t=this._viewDict[e];if(t){if(this._checkViewCall&&!this._checkViewCall.call(this._viewThis,t))return!1}else if(this._checkCall&&!this._checkCall.call(this._thisObj,e))return!1;return!0},e.prototype.getViewData=function(e){var t=this._viewDict[e];if(!t){var n=this._frameDict[e];n&&n.length>0&&(t=n[0])}return t},e.prototype.$open=function(e,t){var n=e,i=this.getViewData(e);if(i)n=i.fid;else if(!this._uiClz[e])return htg.warn("UIManager's _uiClz has no id :"+e),!1;this._id=e;var r=this._uiDict[n];if(r){if(this._id=null,this.reopenFrame){if(i&&r.$updateTab){var a=t?t.concat():[];a.unshift(i),r.$updateTab.apply(r,a)}r.loU.apply(r,t)}else this.close(n,!1);return void(this._loading&&this._loading.hide())}if(t&&(this._uiParamDict[n]={id:e,param:t}),this._fristOpenDict[n]&&this._fristCall&&(delete this._fristOpenDict[n],this._fristCall.call(this._fristThis,n)),this.cacheLastFrame(),this.autoLoad)return this.openUI(e),!0;if(RES.isGroupLoaded(n))return this.openUI(e),!0;this._loading&&this._loading.show();var o=(RRUU.$s(n),this[n]=[]);return o.push(n),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),RES.loadGroup(n),!0},e.prototype.cacheLastFrame=function(){if(this.cacheFrame){this.destroyCacheFrame();var e;for(var t in this._uiDict)if(this._uiDict[t]){e=this._uiDict[t],delete this._uiDict[t];break}e&&(e.visible=!1,this._lastFrame=e,this.destroyPopui(e.id))}},e.prototype.destroyCacheFrame=function(){this._lastFrame&&(this.destroyUI(this._lastFrame),this._lastFrame=null)},e.prototype.showCacheFrame=function(){return this._lastFrame?(this._lastFrame.showFrame()&&GApp.layer.uiLayer.addToLayer(this._lastFrame),this._lastFrame.visible=!0,this._uiDict[this._lastFrame.id]=this._lastFrame,this._lastFrame=null,!0):!1},e.prototype.__exmlLoadComplete=function(e,t){this.loadComplete(t)},e.prototype.__resourceLoadComplete=function(e){e.groupName==this._id&&this.loadComplete(this._id)},e.prototype.loadComplete=function(e){var t=this[this._id];if(t){var n=t.indexOf(e);n>=0&&t.splice(n,1),t.length<=0&&(delete this[this._id],this.openUI(this._id))}},e.prototype.openUI=function(e){this._id=null;var t=e,n=this.getViewData(e);n&&(t=n.fid);var i=this._uiClz[t];if(!i)return void htg.warn("uiClz");var r=this._uiDict[t];if(r)return this.close(t,!1),void(this._loading&&this._loading.hide());this._coexistFrameDict[t]||this.$closeAll(),r=GObj.$c(i,t),r.__htg_dispose__=!1,r.showFrame()&&GApp.layer.uiLayer.addToLayer(r),this._uiDict[t]=r;var a=this._frameDict[t];a&&n&&r.$initViewByData&&r.$initViewByData(n,a);var o=this._uiParamDict[t];if(o){if(r.loU.apply(r,o.param),n&&r.$updateTab){var s=o.param?o.param.concat():[];s.unshift(n),r.$updateTab.apply(r,s)}this._uiParamDict[t]=null,delete this._uiParamDict[t]}else if(n&&r.$updateTab){var s=[n];r.$updateTab.apply(r,s)}GApp.avatarLayer.hide(),this._loading&&this._loading.hide(),this._existFrameCall&&this._existFrameCall.call(this._existFrameThis,!0)},e.prototype.popup=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];if(!t)return null;var a=t;if(typeof t==GConst.TOF_STR){if(this._checkCall&&!this._checkCall.call(this._thisObj,t))return;a=this._popuiClz[t]}return n&&(n=[n]),this.$popup(e,a,n,i)},e.prototype.$popup=function(e,t,n,i){var r=e,a=this.getViewData(e);a&&(r=a.fid);var o=GObj.$c(t);if(i&&o.loU.apply(o,i),o.show(),!usable(r))return o;var s=this._popuiDict[r];s||(this._popuiDict[r]=s=[]),s.push(o);var p=this._uiDict[r];return p?(void 0!=n||null!=n)&&p.loU.apply(p,n):(n&&(this._uiParamDict[r]={id:r,param:n}),this.$open(e)),o},e.prototype.openObiterClose=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];return t||n||!this._uiCloseDict[e]?(this._uiCloseDict[e]={uid:t,pop:n,params:i},void(this._uiDict[e]||this.$open(e))):void delete this._uiCloseDict[e]},e.prototype.enterMapOpenUI=function(e,t,n,i){void 0===i&&(i=!0);for(var r=[],a=4;a<arguments.length;a++)r[a-4]=arguments[a];return!t&&this._enterMapDict[e]?void delete this._enterMapDict[e]:void(this._enterMapDict[e]={uid:t,pop:n,isEnter:i,params:r})},e.prototype.$enterMap=function(e,t){if(e){this.barCu(t),this.showTopUI();var n;this.existUI;for(var i in this._enterMapDict)n=this._enterMapDict[i],n?parseInt(i)==e==n.isEnter&&(n.pop?this.$popup(n.uid,n.pop,null,n.params):(n.params&&(this._uiParamDict[n.uid]={id:n.uid,param:n.params}),this.$open(n.uid)),delete this._enterMapDict[i]):delete this._enterMapDict[i]}},e.prototype.barCu=function(e){e=e||0;for(var t,n,i=this._barTypeList.length,r=0;i>r;r++)t=this._barTypeList[r],n=this._barDict[t],e&t?n.hide():n.show();var a;for(var o in this._uiDict)a=this._uiDict[o],a&&a.parent&&a.parent.addChild(a)},e.prototype.showTopUI=function(){var e,t=this._topUIList.length;if(!(0>=t)){for(var n=0;t>n;n++)e=this._topUIList[n],e&&e.parent&&e.parent.addChild(e);this._topUIList.splice(0,t)}},e.prototype.addTopUISwitchMap=function(e){e&&this._topUIList.push(e)},e.prototype.removeTopUISwitchMap=function(e){if(e){var t=this._topUIList.indexOf(e);t>=0&&this._topUIList.splice(t,1)}},e.prototype.closeAll=function(){this.destroyCacheFrame(),this.$closeAll()},e.prototype.$closeAll=function(){for(var e in this._uiDict)this.close(e,!1)},e.prototype.close=function(e,t){if(void 0===t&&(t=!0),GApp.avatarLayer.show(),e){var n,i=this.getViewData(e);n=i?i.fid:"string"==typeof e?e:e.id;var r=this._uiDict[n];r&&(delete this._uiDict[n],this.destroyUI(r));var a=!1,o=this._uiCloseDict[n];o?(t&&!this.existUI&&(o.pop?this.$popup(o.uid,o.pop,null,o.params):(this.$open(o.uid,o.params),a=!0)),delete this._uiCloseDict[n],this.destroyCacheFrame()):t?a=this.showCacheFrame():this.destroyCacheFrame(),this._existFrameCall&&(this.existUI&&(a=!0),this._existFrameCall.call(this._existFrameThis,a)),this.destroyAllUI()}},e.prototype.destroyAllUI=function(){if(!this._lastFrame&&!this.existUI){var e;for(var t in this._uiResDict)if(e=this._uiResDict[t])for(var n=0,i=e;n<i.length;n++){var r=i[n];RES.destroyRes(r)}}},e.prototype.destroyUI=function(e){if(e){var t=e,n=t.id;if(this.destroyPopui(n),t.__htg_dispose__||(t.__htg_dispose__=!0,GObj.$d(t)),t=null,this.autoLoad){var i=this._uiResDict[n];if(i){var r;this._lastFrame&&(r=this._uiResDict[this._lastFrame.id]);for(var a=0,o=i;a<o.length;a++){var s=o[a];(!r||r.indexOf(s)<0)&&RES.destroyRes(s)}}}else RES.destroyRes(n)}},e.prototype.destroyPopui=function(e){var t=this._popuiDict[e];if(t){for(var n=t.length,i=void 0,r=0;n>r;r++)i=t[r],i.destory||GObj.$d(i);i=null,t.length=0}},e.prototype.hasUI=function(e){return this._uiDict[e]?!0:!1},e.prototype.getUIById=function(e){return this._uiDict[e]},Object.defineProperty(e.prototype,"existUI",{get:function(){for(var e in this._uiDict)if(this._uiDict[e])return!0;return!1},enumerable:!0,configurable:!0}),e.prototype.getExistUIFrame=function(){for(var e in this._uiDict)if(this._uiDict[e])return this._uiDict[e];return null},e.prototype.pop=function(e,t,n){if(e){var i=this._popuiDict[e];i||(this._popuiDict[e]=i=[]),i.push(n)}n.show()},e.prototype.popObiter=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=GObj.$c(t);r.showFun(n),r.show(),this.pop(e,null,r);var a=this._uiDict[e];a||this.$open(e)},e}();__reflect(UIManager.prototype,"UIManager",["IUISet"]);var AvatarSheetCache=function(){function e(){this._pools={},this._callDict={},this._urlDict={},this._playerPartDict={},this._cacheUrlDict={},this._notResDict={},this.addCacheUrl=this.addCache,this.delCacheUrl=this.delCache,singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.setLastPart=function(e,t){this._playerPartDict[e]=t},e.prototype.addCache=function(e){var t=this._cacheUrlDict[e];!t||0>=t?t=1:t++,this._cacheUrlDict[e]=t},e.prototype.delCache=function(e){var t=this._cacheUrlDict[e];t&&t>=1&&t--,this._cacheUrlDict[e]=t,(!t||0>=t)&&delete this._cacheUrlDict[e]},e.prototype.getAvatarSheet=function(e,t,n,i){if(this._pools){i&&(this._playerPartDict[i]=e);var r=this._pools[e];if(r)return void(null!=t&&t.call(n,r));if(!this._notResDict[e]){var a=this._callDict[e];if(a||(a=[],this._callDict[e]=a),a.push({compFunc:t,thisObject:n}),!this._urlDict[e]){this._urlDict[e]=!0;var o=e+FileConst.json;LoaderManager.instance.load(o,this.__jsonLoadComplete,this,LoaderConst.PRIORITY_DEFAULT,e,RES.ResourceItem.TYPE_JSON)}}}},e.prototype.__jsonLoadComplete=function(e){var t=GObj.$c(AvatarSheetVO);t.key=e.args,t.jsonObj=e.data,t.jsonLvo=e;var n=t.key+FileConst.png;LoaderManager.instance.load(n,this.__pngLoadComplet,this,LoaderConst.PRIORITY_DEFAULT,t,RES.ResourceItem.TYPE_IMAGE)},e.prototype.__pngLoadComplet=function(e){var t=e.args;if(t){if(t.pngLvo=e,t.jsonObj&&e.data){var n=t.jsonObj.frames;if(n){for(var i=n.length,r=GObj.$c(egret.Rectangle),a=0;i>a;a++){var o=n[a];r.x=o.x,r.y=o.y,r.width=o.w,r.height=o.h,t.ttfs[a]=BitmapUtil.drawToTexture(e.data,r)}GObj.$d(r)}}this._pools[t.key]=t,this._urlDict[t.key]=!1;var s=this._callDict[t.key];if(s){for(var p=s.length,a=0;p>a;a++){var l=s[a];l.compFunc.call(l.thisObject,t)}delete this._callDict[t.key]}}},e.prototype.$delayExecute=function(){if(this._pools){var e,t={};if(this._playerPartDict)for(var n in this._playerPartDict)t[this._playerPartDict[n]]=!0;if(this._cacheUrlDict)for(var n in this._cacheUrlDict)t[n]=!0;for(var n in this._pools)t[n]||(e=this._pools[n],GObj.$d(e));for(var n in this._pools)t[n]||(this._pools[n]=null,delete this._pools[n])}if(this._callDict&&e){var i;for(var n in this._callDict)t[n]||(i=this._callDict[n],i&&(i.length=0,delete this._callDict[e.key]))}},e.prototype.gc=function(){GApp.enterFrameMgr.addDelay(this)},e}();__reflect(AvatarSheetCache.prototype,"AvatarSheetCache",["IGc","IDelay","ICacheQueue"]);var DamageCache=function(){function e(){this._damageDict={},singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.getDamage=function(e,t){var n=this._damageDict[e];if(!n){if(!GConfig.$DAMAGE_CONFIG)return void htg.warn("GConfig.$DAMAGE_CONFIG");var i=GConfig.$DAMAGE_CONFIG[e];if(!i)return this.findDmage(e,t);n=GObj.$c(DamageCacheItem),n.load(i),this._damageDict[e]=n}return n.createDamage(t)},e.prototype.findDmage=function(e,t){if(!GConfig.$DAMAGE_ORDER)return null;for(var n=0,i=GConfig.$DAMAGE_ORDER;n<i.length;n++){var r=i[n];if(e&r){var a=this._damageDict[r];return a?(this._damageDict[r]=a,this.getDamage(r,t)):GConfig.$DAMAGE_CONFIG[r]?this.getDamage(r,t):GConfig.DAMAGE_DEFAULT&&GConfig.$DAMAGE_CONFIG[GConfig.DAMAGE_DEFAULT]?this.getDamage(GConfig.DAMAGE_DEFAULT,t):(htg.warn("findDmage.GConfig.$DAMAGE_CONFIG"),null)}}return null},e}();__reflect(DamageCache.prototype,"DamageCache");var DamageCacheItem=function(){function e(){this.numLen=10,this.prefixFlag="prefix",this._numTtfs={},this._prefixTtf=null,this._space=20,this._prefixWidth=0,this._prefixY=0,this._isLoad=!1,this._loadCount=-1,this._loadTotal=0,this._type=0,this._resNo=0,this._prefix=!1,this._isdamage=!1,this._unitWidth=0}return Object.defineProperty(e.prototype,"isLoad",{get:function(){return this._isLoad},enumerable:!0,configurable:!0}),e.prototype.createDamage=function(e){if(!this._isLoad)return null;var t,n=GObj.$c(this._clz),i=0;if(this._prefixTtf&&(t=GObj.$c(GBitmap),t.texture=this._prefixTtf,t.x=i,t.y=this._prefixY,n.addBmp(t),i+=this._prefixWidth),0>e)return n;var r,a,o=GConfig.$DAMAGE_RULE;o?o.yi&&e>=o.yi?(a=(e/1e8).toFixed(o.fixed||0),r=o.yflag):o.m&&e>=o.m?(a=(e/1e6).toFixed(o.fixed||0),r=o.mflag):o.wan&&e>=o.wan?(a=(e/1e4).toFixed(o.fixed||0),r=o.wflag):a=e.toString():a=e.toString();for(var s=a.length,p=0;s>p;p++){var l=a.charAt(p);t=GObj.$c(GBitmap),t.texture=this._numTtfs[l],t.x=i,t.y=0,n.addBmp(t),i+=this._space,o&&o.sheet&&(i+=t.width)}return r&&(t=GObj.$c(GBitmap),t.texture=this._unitTtf||this._numTtfs[r],t.x=i,t.y=0,n.addBmp(t)),n},e.prototype.load=function(e){if(!(this._loadCount>=0||this._isLoad)){if(this._loadCount=0,this._clz=e.clz,this._type=e.type,this._prefix=e.prefix,this._isdamage=e.damage,this._resNo=e.damageNo||0,this._resNo>0?this._isdamage=!0:this._isdamage&&(this._resNo=this._type),this._space=e.space||0,this._prefixWidth=e.pw||0,this._prefixY=e.py||0,this._unitWidth=e.unit||0,this._loadTotal=0,GConfig.$DAMAGE_RULE){var t=GConfig.$DAMAGE_RULE;if(t.sheet)return void(this._prefix?RES.getResAsync(t.res+this._type+t.pflag+this.prefixFlag+t.imgflag,this.__sheetLoadComplete,this):RES.getResAsync(t.res+this._resNo+t.pflag+1+t.imgflag,this.__sheetLoadComplete,this))}this._isdamage&&(this._loadTotal++,GApp.loaderMgr.load(GConfig.PATH_DAMAGE+this._resNo+FileConst.png,this.__typeLoadComplete,this)),this._prefix&&(this._loadTotal++,GApp.loaderMgr.load(GConfig.PATH_DAMAGE+this.prefixFlag+this._type+FileConst.png,this._prefixLoadComplete,this))}},e.prototype.__sheetLoadComplete=function(){this._isLoad=!0;var e=GConfig.$DAMAGE_RULE;if(this._prefix&&(this._prefixTtf=RES.getRes(e.res+this._type+e.pflag+this.prefixFlag+e.imgflag)),this._isdamage){for(var t=1,n=0;n<this.numLen;n++)t=n,this._numTtfs[t]=RES.getRes(e.res+this._resNo+e.pflag+t+e.imgflag);e.wflag&&(this._numTtfs[e.wflag]=RES.getRes(e.res+this._resNo+e.pflag+e.wflag+e.imgflag)),e.mflag&&(this._numTtfs[e.mflag]=RES.getRes(e.res+this._resNo+e.pflag+e.mflag+e.imgflag)),e.yflag&&(this._numTtfs[e.yflag]=RES.getRes(e.res+this._resNo+e.pflag+e.yflag+e.imgflag)),e.fflag&&(this._numTtfs[e.fflag]=RES.getRes(e.res+this._resNo+e.pflag+e.fflag+e.imgflag),this._numTtfs["."]=this._numTtfs[e.fflag])}},e.prototype.__typeLoadComplete=function(e){if(e&&e.data){this._numTtr=e.data;var t=GConfig.$DAMAGE_RULE;this.numLen=t&&t.fflag?11:10;var n=GObj.$c(egret.Rectangle),i=(this._numTtr.textureWidth-this._unitWidth)/this.numLen,r=this._numTtr.textureHeight;n.width=i,n.height=r,n.y=0;for(var a,o=0;o<this.numLen;o++)n.x=i*o,a=10==o?".":o.toString(),this._numTtfs[a]=BitmapUtil.drawToTexture(this._numTtr,n);n.x=i*this.numLen,n.width=this._unitWidth,this._unitTtf=BitmapUtil.drawToTexture(this._numTtr,n),this._loadCount++,this._loadCount>=this._loadTotal&&(this._isLoad=!0)}},e.prototype._prefixLoadComplete=function(e){e&&e.data&&(this._prefixTtf=e.data,this._loadCount++,this._loadCount>=this._loadTotal&&(this._isLoad=!0))},e}();__reflect(DamageCacheItem.prototype,"DamageCacheItem");var EffectSheetCache=function(){function e(){this._pools={},this._callDict={},this._urlDict={},this._clearedDict={},singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.clearEffectSheet=function(e){var t=this._callDict[e];t&&(t.length=0),this._clearedDict[e]=!0;var n=this._pools[e];this._pools[e]=null,delete this._pools[e],n&&(GObj.$d(n.pngLvo),n.pngLvo=null,GObj.$d(n.jsonLvo),n.jsonLvo=null)},e.prototype.getEffectSheet=function(e,t,n){if(this._pools){var i=this._pools[e];if(i)return void(null!=t&&t.call(n,i));var r=this._callDict[e];if(r||(r=[],this._callDict[e]=r),r.push({compFunc:t,thisObject:n}),!this._urlDict[e]){this._urlDict[e]=!0;var a=GConfig.PATH_EFFECT+e+FileConst.json;GApp.loaderMgr.load(a,this.__jsonLoadComplete,this,LoaderConst.PRIORITY_DEFAULT,e)}}},e.prototype.__jsonLoadComplete=function(e){var t=GObj.$c(EffectSheetData);t.key=e.args,t.jsonObj=e.data,e.data&&(t.ftime=e.data.ftime,t.autoAngle=e.data.autoAngle),t.jsonLvo=e;var n=GConfig.PATH_EFFECT+t.jsonObj.file;GApp.loaderMgr.load(n,this.__pngLoadComplet,this,LoaderConst.PRIORITY_DEFAULT,t)},e.prototype.__pngLoadComplet=function(e){var t,n,i,r=e.args,a=r.jsonObj;if(r.pngLvo=e,a&&e.data)for(var o=irK.DIR_MIN;o<=irK.DIR_NUM;o++){i=GConst.EFF+o;var s=a[i];if(s){t=GObj.$c(EffectSheetVO),t.angle=s.angle,r.$eff[i]=t;var p=s.items;if(p)for(var l=p.length,c=0;l>c;c++){var u=p[c];n=GObj.$c(EffectItemVO),ObjectUtil.oto(u,n);var d=r.$res[u.res];if(d||(r.$res[u.res]=d=this.drawToTexture(a.res[u.res],e.data)),d){var g=0;if(n.anchorCenter){for(var v=a.res[u.res],h=0,m=0,f=0,y=v;f<y.length;f++){var b=y[f];b.h>h&&(h=b.h,m=b.offY)}g=m-h/2}for(var _=d.length,T=0;_>T;T++){var O=d[T],G=GObj.$c(SheetVO);G.offX=-O.offX,G.offY=-O.offY+g,G.ttr=O.ttr,n.ttfs.push(G)}}t.items.push(n)}t.format()}}this._pools[r.key]=r,this._urlDict[r.key]=!1;var E=this._callDict[r.key];if(E){for(var A=E.length,c=0;A>c;c++){var x=E[c];x.compFunc.call(x.thisObject,r)}delete this._callDict[r.key]}},e.prototype.drawToTexture=function(e,t){if(e){for(var n,i=e.length,r=GObj.$c(egret.Rectangle),a=[],o=0;i>o;o++){n=GObj.$c(SheetVO);var s=e[o];r.x=s.x,r.y=s.y,r.width=s.w,r.height=s.h,n.offX=s.offX,n.offY=s.offY,n.ttr=BitmapUtil.drawToTexture(t,r),a.push(n)}return a}},e}();__reflect(EffectSheetCache.prototype,"EffectSheetCache");var EffectUICache=function(){function e(){this._pools={},this._callDict={},this._loadvoDict={},this._urlDict={},this._cacheDict={},singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.addCache=function(e){if(e){var t=this._cacheDict[e];!t||0>=t?t=1:t++,this._cacheDict[e]=t}},e.prototype.delCache=function(e){if(e){var t=this._cacheDict[e];t&&t>=1&&t--,this._cacheDict[e]=t,this.clearRes(e)}},e.prototype.clearRes=function(e){var t=this._cacheDict[e];if(!(t&&t>0)){delete this._cacheDict[e],delete this._callDict[e];var n=this._pools[e];if(n){for(var i=0,r=n;i<r.length;i++){var a=r[i];GObj.$d(a)}n.length=0,delete this._pools[e]}var o=this._loadvoDict[e];o&&o.dispose(),delete this._loadvoDict[e]}},e.prototype.getEffectSheet=function(e,t,n){if(this._pools){this.addCache(e);var i=this._pools[e];if(i)return void(null!=t&&t.call(n,i,e));var r=this._callDict[e];if(r||(this._callDict[e]=r=[]),r.push({compFunc:t,thisObject:n}),!this._urlDict[e]){this._urlDict[e]=!0;var a=this.getPathByKey(e);LoaderManager.instance.load(a,this.__pngLoadComplet,this,LoaderConst.PRIORITY_DEFAULT,e)}}},e.prototype.getPathByKey=function(e){var t=GConfig.PATH_UIEFFECT+e+FileConst.png;return t},e.prototype.__pngLoadComplet=function(e){var t=e.args;this._loadvoDict[t]=e;var n=e.data,i=this._callDict[t];if(!i)return this._urlDict[t]=!1,void this.clearRes(t);if(!n)return void this.clearRes(t);for(var r=GConfig.UI_EFFECT_DICT[t]||GConfig.UI_EFFECT_FRAME,a=[],o=n.textureWidth/r,s=n.textureHeight,p=GObj.$c(egret.Rectangle),l=0;r>l;l++)p.x=o*l,p.y=0,p.width=o,p.height=s,a.push(BitmapUtil.drawToTexture(n,p));GObj.$d(p),this._pools[t]=a,this._urlDict[t]=!1;for(var c=i.length,l=0;c>l;l++){var u=i[l];u.compFunc.call(u.thisObject,a,t)}delete this._callDict[t]},e.prototype.$delayExecute=function(){},e.prototype.gc=function(){GApp.enterFrameMgr.addDelay(this)},e._instance=null,e}();__reflect(EffectUICache.prototype,"EffectUICache",["IGc","IDelay","ICacheQueue"]);var IconCache=function(){function e(){singleton(e._instance),e._instance=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._countDict={},this._callDict={},this._urlDict={},this._loadvoDict={},this._argsDict={}},e.prototype.getDropIcon=function(e,t,n){var i=GConfig.PATH_DROP+e+FileConst.png;this._argsDict[i]=e,this.getIcon(i,t,n)},e.prototype.getIcon=function(e,t,n){var i=this._countDict[e]||0;this._countDict[e]=i+1;var r=this._loadvoDict[e];if(r){if(null!=t){var a=this._argsDict[e]||e;t.call(n,r.data,a)}}else{var o=this._callDict[e];o||(o=this._callDict[e]=[]),o.push({method:t,thisObject:n}),this._urlDict[e]||(this._urlDict[e]=!0,GApp.loaderMgr.load(e,this.__iconLoadComplete,this,LoaderConst.PRIORITY_DEFAULT,e,RES.ResourceItem.TYPE_IMAGE))}},e.prototype.clearIcon=function(e,t,n){var i=this._countDict[e]||1;if(i-=1,this._countDict[e]=i,0>=i){var r=this._loadvoDict[e];return r&&r.dispose(),delete this._loadvoDict[e],delete this._callDict[e],void(this._argsDict[e]&&delete this._argsDict[e])}if(t){var a=this._callDict[e];if(!a)return;for(var o=0,s=0,p=a;s<p.length;s++){var l=p[s];if(l&&l.method==t&&l.thisObject==n)return void a.splice(o,1);o++}}},e.prototype.__iconLoadComplete=function(e){this._urlDict[e.args]=!1;var t=this._countDict[e.args]||0;if(0>=t)return void(e&&e.dispose());this._loadvoDict[e.args]=e;var n=this._callDict[e.args];if(n){for(var i,r=n.length,a=this._argsDict[e.args]||e.args,o=0;r>o;o++)i=n[o],i.method.call(i.thisObject,e.data,a);delete this._callDict[e.args]}},e.prototype.$delayExecute=function(){},e.prototype.gc=function(){},e}();__reflect(IconCache.prototype,"IconCache",["IGc","IDelay"]);var UIEffectCache=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return EffectUICache.instance},enumerable:!0,configurable:!0}),e}();__reflect(UIEffectCache.prototype,"UIEffectCache");var BonesCache=function(){function e(){singleton(e._instance),e._instance=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"egretFactory",{get:function(){return this._egretFactory||window.dragonBones&&(this._egretFactory=window.dragonBones.EgretFactory.factory),this._egretFactory},enumerable:!0,configurable:!0}),e.prototype.init=function(){window.dragonBones&&(window.dragonBones.isV5=!0,this._pools={},this._callDict={},this._countDict={})},e.prototype.getBonesDisplay=function(e,t,n){if(this._pools){this._countDict[e]||(this._countDict[e]=0),this._countDict[e]+=1;var i=this._pools[e];if(i&&i.loaded){var r=i.getBonesDisplay();if(r)return void(null!=t&&t.call(n,r))}var a=this._callDict[e];a||(a=this._callDict[e]=[]),a.push({method:t,thisObject:n}),i||(this._pools[e]=i=GObj.$c(BonesCacheItem),i.load(e,this.__LoadComplete,this))}},e.prototype.clearBonesDisplay=function(t,n,i){if(this._pools){var r=this._countDict[t]||1;if(r-=1,this._countDict[t]=r,0>=r){var a=this._pools[t];a&&GObj.$d(a),delete this._pools[t],delete this._callDict[t];for(var o in this._pools)if(this._pools[o])return;return void(e._egretFactory&&e._egretFactory.clear())}if(n){var s=this._callDict[t];if(!s)return;for(var p=0,l=0,c=s;l<c.length;l++){var u=c[l];if(u&&u.method==n&&u.thisObject==i)return void s.splice(p,1);p++}}}},e.prototype.__LoadComplete=function(e){if(this._pools){var t=this._pools[e];if(!t||t.loaded){var n=this._callDict[e];if(n){for(var i,r=n.length,a=0;r>a;a++)i=n[a],i.method.call(i.thisObject,t.getBonesDisplay());delete this._callDict[e]}}}},e.prototype.gc=function(){},e}();__reflect(BonesCache.prototype,"BonesCache",["IGc"]);var BonesCacheItem=function(){function e(){}return e.prototype.load=function(e,t,n){if(this._name)return void htg.warn("BonesCacheItem.load");this._name=e,this._compFunc=t,this._thisObject=n;var i=e+GConst.STR_DIR+GConfig.BONES_DATA_FILE;GApp.loaderMgr.load(i,this.__bonesLoadedHandler,this,LoaderConst.PRIORITY_DEFAULT,null,RES.ResourceItem.TYPE_JSON),i=e+GConst.STR_DIR+GConfig.BONES_TEXTURE_FILE,GApp.loaderMgr.load(i,this.__bonesTexLoadedHandler,this,LoaderConst.PRIORITY_DEFAULT,null,RES.ResourceItem.TYPE_IMAGE),i=e+GConst.STR_DIR+GConfig.BONES_TEXTURE_DATA_FILE,GApp.loaderMgr.load(i,this.__bonesTexDataLoadedHandler,this,LoaderConst.PRIORITY_DEFAULT,null,RES.ResourceItem.TYPE_JSON)},e.prototype.__bonesLoadedHandler=function(e){return this.destory?void GObj.$d(e):(this._bonesLvo=e,void this.loadOver())},e.prototype.__bonesTexLoadedHandler=function(e){return this.destory?void GObj.$d(e):(this._bonesTexLvo=e,void this.loadOver())},e.prototype.__bonesTexDataLoadedHandler=function(e){return this.destory?void GObj.$d(e):(this._bonesTexDataLvo=e,void this.loadOver())},e.prototype.loadOver=function(){if(!this._bonesLvo||!this._bonesTexLvo||!this._bonesTexDataLvo)return this._loaded=!1,this._loaded;try{this._loaded=!0,this._egretFactory=BonesCache.egretFactory,this._egretFactory&&(this._egretFactory.parseDragonBonesData(this._bonesLvo.data,this._name),this._egretFactory.parseTextureAtlasData(this._bonesTexDataLvo.data,this._bonesTexLvo.data,this._name)),this._compFunc&&this._compFunc.call(this._thisObject,this._name),this._compFunc=null,this._thisObject=null}catch(e){htg.warn(e)}return this._loaded},e.prototype.getBonesDisplay=function(){return this._egretFactory?this._egretFactory.buildArmatureDisplay(GConfig.BONES_AVATAR,this._name):null},Object.defineProperty(e.prototype,"loaded",{get:function(){return this._loaded},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.destory||(this.destory=!0,this._loaded=!1,GObj.$d(this._bonesLvo),this._bonesLvo=null,GObj.$d(this._bonesTexLvo),this._bonesTexLvo=null,GObj.$d(this._bonesTexDataLvo),this._bonesTexDataLvo=null,this._egretFactory&&(this._egretFactory.removeDragonBonesData(this._name),this._egretFactory.removeTextureAtlasData(this._name),this._egretFactory=null),this._name=null,this._compFunc=null,this._thisObject=null)},e}();__reflect(BonesCacheItem.prototype,"BonesCacheItem");var Hashmap=function(){function e(){this._keys=[],this._values=[],this._lenght=0}return e.prototype.add=function(e,t){var n=this._keys.indexOf(e);n>=0?this._values[n]=t:(this._keys.push(e),this._values.push(t),this.setLenght(this._lenght+1))},e.prototype.get=function(e){var t=this._keys.indexOf(e);if(t>=0){var n=this._values[t];return n}return null},e.prototype.del=function(e,t){var n=this._keys.indexOf(e);return n>=0?(this._keys[n],this._keys.splice(n,1),this._values.splice(n,1),this.setLenght(this._lenght-1),!0):!1},e.prototype.hasKey=function(e){var t=this._keys.indexOf(e);return t>=0},Object.defineProperty(e.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),e.prototype.setLenght=function(e){this._lenght=0>=e?0:e},Object.defineProperty(e.prototype,"lenght",{get:function(){return this._lenght},enumerable:!0,configurable:!0}),e}();__reflect(Hashmap.prototype,"Hashmap");var ActionConst=function(){function e(){}return e.ACTION_TELEPORT=1024,e}();__reflect(ActionConst.prototype,"ActionConst");var irK=function(){function e(){}return e.B_B=1,e.R_B=2,e.R_R=3,e.R_T=4,e.T_T=5,e.L_T=6,e.L_L=7,e.L_B=8,e.DIR_MIN=e.B_B,e.DIR_NUM=e.L_B,e.PART_BODY="b",e.PART_WEAPON="w",e.PART_MOUNT="m",e.PART_WING="wing",e.PART_CLOAK="c",e.PART_SOUL="s",e.ACTION_ENTER="e",e.ACTION_STAND="s",e.ACTION_WALK="w",e.ACTION_ATTACK="a",e.ACTION_ATTACK_I="aI",e.ACTION_ATTACK_II="aII",e.ACTION_ATTACK_III="aIII",e.ACTION_ATTACK_IV="aIV",e.ACTION_JUMP="jI",e.ACTION_JUMP_II="jII",e.ACTION_DIE="d",e.ACTION_HIT="h",e.ACTION_ROTATE="r",e.ACTION_BRUISE="b",e.ACTION_BRUISE_II="bII",e.MODEL_REALM="realm",e.TIME_ATTACK=600,e.TIME_ATTACK_NPC=600,e.CLOAK_FRONT=[!1,!1,!0,!0,!0,!0],e.WING_FRONT=[!1,!1,!1,!0,!0,!0],e.FIGURE_LAYER=[e.PART_SOUL,e.PART_WING,e.PART_CLOAK,e.PART_WEAPON,e.PART_BODY,e.PART_MOUNT],e.AVATAR_LAYER=[e.PART_SOUL,e.PART_MOUNT,e.PART_WING,e.PART_CLOAK,e.PART_BODY,e.PART_WEAPON],e}();__reflect(irK.prototype,"irK");var FileConst=function(){function e(){}return e.json=".json",e.png=".png",e.jpg=".jpg",e.exml=".exml",e}();__reflect(FileConst.prototype,"FileConst");var GConfig=function(){function e(){}return Object.defineProperty(e,"SKILL_FAST",{get:function(){return this.$SKILL_FAST},set:function(e){this.$SKILL_FAST=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CAMERA_OFF_Y",{get:function(){return this.$CAMERA_OFF_Y},set:function(e){this.$CAMERA_OFF_Y=e,hCs.cameraReset()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CAMERA_OFF_X",{get:function(){return this.$CAMERA_OFF_X},set:function(e){this.$CAMERA_OFF_X=e,hCs.cameraReset()},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LOG_LEVEL",{set:function(e){this.$LOG_LEVEL!=e&&(this.$LOG_LEVEL=e,0==e?(htg.log=htg.$nothing,htg.info=htg.$nothing,htg.warn=htg.$nothing,htg.error=htg.$nothing,htg.debug=htg.$nothing):1==e?(htg.warn=htg.$warn,htg.error=htg.$error,htg.debug=htg.$debug,htg.log=htg.$log,htg.info=htg.$log):(3==e?(htg.log=htg.$nothing,htg.info=htg.$nothing):(htg.log=htg.$log,htg.info=htg.$log),htg.warn=htg.$warnlog,htg.error=htg.$errorlog,htg.debug=htg.$debug))},enumerable:!0,configurable:!0}),Object.defineProperty(e,"AVATAR_PART_HIDE",{get:function(){return this.$AVATAR_PART_HIDE},set:function(e){e&&(this.$AVATAR_PART_HIDE=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DAMAGE_CONFIG",{get:function(){return this.$DAMAGE_CONFIG},set:function(e){e&&(this.$DAMAGE_CONFIG=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DAMAGE_RULE",{get:function(){return this.$DAMAGE_RULE},set:function(e){e&&(this.$DAMAGE_RULE=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DAMAGE_ORDER",{get:function(){return this.$DAMAGE_ORDER},set:function(e){e&&(this.$DAMAGE_ORDER=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TILE_SIZE",{get:function(){return this.$TILE_SIZE},set:function(e){this.$TILE_SIZE=e},enumerable:!0,configurable:!0}),e.setResRoot=function(e){this.PATH_MAP=e+this.PATH_MAP,this.PATH_AVATAR=e+this.PATH_AVATAR,this.PATH_FIGURE=e+this.PATH_FIGURE,this.PATH_EFFECT=e+this.PATH_EFFECT,this.PATH_DAMAGE=e+this.PATH_DAMAGE,this.PATH_ICON=e+this.PATH_ICON,this.PATH_DROP=e+this.PATH_DROP,this.PATH_SKINS=e+this.PATH_SKINS,this.PATH_UIEFFECT=e+this.PATH_UIEFFECT,this.PATH_SKINS_UI=e+this.PATH_SKINS_UI,this.PATH_BONES=e+this.PATH_BONES,this.PATH_BONES_BOSS=e+this.PATH_BONES_BOSS},e.testObj=function(){GObj.$testObj()},e.init=function(e){if(!this._init_){this._init_=!0,GObj.start(),GApp.enterFrameMgr=Nvm.instance,GApp.enterFrameMgr.init(e),DelayManager.instance=GApp.enterFrameMgr,GApp.stageMgr=hCs.instance,GApp.stageMgr.init(e),GApp.dispatcherMgr=vkG.instance,GApp.loaderMgr=LoaderManager.instance,GApp.clockMgr=ClockManager.instance,GApp.avatarLayer=GObj.$c(AvatarLayer),GApp.uiMgr=UIManager.instance,UISet.instance=GApp.uiMgr,GApp.avatarCache=AvatarSheetCache.instance,GApp.effectCache=EffectSheetCache.instance,GApp.uieffectCache=UIEffectCache.instance,GApp.iconCache=IconCache.instance,GApp.bonesCache=BonesCache.instance,GApp.effectUIChche=EffectUICache.instance,GObj.addPools(AvatarSheetVO),GObj.addPools(GBitmap),GObj.addPools(AvatarPart),GObj.addPools(FigurePart),GObj.addPools(SkillView),GObj.addPools(SkillShootView);var t=BattleAction.instance;t.addAction(ActionConst.ACTION_TELEPORT,ActionTeleport)}},e.DEBUG=!1,e.VER="",e.LOADER_MAX=5,e.IS_WXGAME=!1,e.DAMAGE_MULTIPLE=1,e.$CAMERA_OFF_X=0,e.$CAMERA_OFF_Y=0,e.MOBILE_FRAME_RATE=30,e.$LOG_LEVEL=1,e.BACK_ENTER_FRAME=!1,e.LOADER_TIMEOUT=!1,e.LOADER_TIMEOUT_TIME=1e4,e.GAMEPAD_START_DIS=30,e.GHOST_NUM=7,e.PLAY_AVATAR_INTERVAL=80,e.NPC_AVATAR_INTERVAL=140,e.PLAY_SKILL_INTERVAL=90,e.PLAY_FIGURE_INTERVAL=180,e.AVATAR_DEFAULT="role",e.SHOOT_SPEED=12,e.FRAME_TIME=16.5,e.NPC_BRUISE_OFF_Y=50,e.ROLE_BRUISE_OFF_Y=50,e.ROLE_CAST_OFF_Y=0,e.UI_EFFECT_FRAME=6,e.UI_EFFECT_DICT={},e.$SKILL_FAST=1,e.BONES_DATA_FILE="bones_ske.json",e.BONES_TEXTURE_FILE="bones_tex.png",e.BONES_TEXTURE_DATA_FILE="bones_tex.json",e.BONES_AVATAR="bonesAvatar",e.BONES_ACTION="stand",e.PATH_RES="resource/",e.PATH_MAP="map/",e.PATH_AVATAR="avatar/",e.PATH_FIGURE="figure/",e.PATH_BONES="bones/",e.PATH_BONES_BOSS="bones/boss/",e.PATH_EFFECT="effect/",e.PATH_DAMAGE="damage/",e.PATH_ICON="icons/",e.PATH_DROP=e.PATH_ICON+"drop/",e.PATH_SKINS="eui_skins/",e.PATH_UIEFFECT="uieffect/",e.PATH_SKINS_UI=e.PATH_SKINS+"ui/",e.$TILE_ROW=6,e.$TILE_COL=4,e.$TILE_SIZE=256,e.$AVATAR_PART_HIDE={},e.DAMAGE_DEFAULT=0,e.ENTER_MODELS=[],e
}();__reflect(GConfig.prototype,"GConfig");var GConst;!function(e){e.NULL_STRING="",e.STR_="_",e.STR_DIR="/",e.EFF="eff",e.NOT_CREATE_OBJ="not now!",e.TOF_OBJ="object",e.TOF_STR="string"}(GConst||(GConst={}));var GLog=function(){function e(){}return e.fake_click=function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)},e.download=function(e,t){var n=window.URL||window.webkitURL||window,i=new Blob([t]),r=document.createElementNS("http://www.w3.org/1999/xhtml","a");r.href=n.createObjectURL(i),r.download=e,this.fake_click(r)},e.save=function(){this.download("htglog.txt","log\n"+htg.$logList.join("\n"))},e}();__reflect(GLog.prototype,"GLog");var Test=function(){function e(){var e=(dictionary(UIManager),dictionary(GLog));e[112]=new GLog,this.add(ClockManager.instance,UIManager.instance),new Test22(ClockManager.instance,UIManager.instance)}return e.prototype.add=function(e,t){var n={};return n},e}();__reflect(Test.prototype,"Test");var Test22=function(){function e(e,t){this._first=e,this._second=t}return e.prototype.getobj=function(){var e={};return e},e}();__reflect(Test22.prototype,"Test22");var hhtt=function(){function e(){}return e.decTest=function(e,t,n){console.log("hello!")},e}();__reflect(hhtt.prototype,"hhtt");var trace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},global=window||{};global.Dictionary=Dictionary,global.dictionary=dictionary,global["int"]=int,global.singleton=singleton,global.toChars=toChars,global.usable=usable,global.trace=trace,global.errorNull=errorNull,global.wrong=wrong;var EqualEffect=function(e){function t(){var t=e.call(this)||this;return t._ttrArr=[],t._startTime=0,t._tempTime=0,t._frameSize=0,t._horizontalAlign=egret.HorizontalAlign.LEFT,t._verticalAlign=egret.VerticalAlign.TOP,t._preTime=0,t._loop=0,t.touchChildren=t.touchEnabled=!1,t.init(),t}return __extends(t,e),t.prototype.init=function(){this.calculateRect=!0,this._bmp=GObj.$c(egret.Bitmap),this._bmp.touchEnabled=!1,this.addChild(this._bmp)},t.prototype.QWx=function(e,t){if(this._key==t){if(!e)return void GObj.$d(this);if(this._frameSize=e.length,this._frameSize<=0)return void GObj.$d(this);this._ttrArr=e;var n=this._verticalAlign;this._verticalAlign=null,this.verticalAlign=n,n=this._horizontalAlign,this._horizontalAlign=null,this.horizontalAlign=n,this._calculateRect&&(this.width=this._ttrArr[0].textureWidth,this.height=this._ttrArr[0].textureHeight)}},Object.defineProperty(t.prototype,"verticalAlign",{set:function(e){if(this._verticalAlign=e,!(this._frameSize<=0)){var t=this._ttrArr[0];if(t){var n=t.textureHeight;switch(e){case egret.VerticalAlign.TOP:this._bmp.y=0;break;case egret.VerticalAlign.BOTTOM:this._bmp.y=-n;break;case egret.VerticalAlign.MIDDLE:this._bmp.y=.5*-n}}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"horizontalAlign",{set:function(e){if(this._horizontalAlign=e,!(this._frameSize<=0)){var t=this._ttrArr[0];if(t){var n=t.textureWidth;switch(e){case egret.HorizontalAlign.LEFT:this._bmp.x=0;break;case egret.HorizontalAlign.RIGHT:this._bmp.x=-n;break;case egret.HorizontalAlign.CENTER:this._bmp.x=.5*-n}}}},enumerable:!0,configurable:!0}),t.prototype.start=function(e,t,n){return void 0===t&&(t=100),void 0===n&&(n=0),!e&&this._frameSize<=0?void GObj.$d(this):(this._startTime=GApp.timer,this._interval=t,this._loop=n,this._key!=e&&(this._frameSize=0,GApp.effectUIChche.delCache(this._key),this._key=e,GApp.effectUIChche.getEffectSheet(e,this.QWx,this)),void this.play(this._loop))},t.prototype.play=function(e){void 0===e&&(e=0),this._startTime=GApp.timer,this._preTime=0,this._loop=e,this._playing||(this._playing=!0,Nvm.instance.registeEnterFrame(this.update,this))},t.prototype.stop=function(){this._playing=!1,Nvm.instance.unRegisteEnterFrame(this.update,this)},t.prototype.update=function(){if(!(this._frameSize<=0)){this._tempTime=GApp.timer;var e=this._tempTime-this._startTime;if(!(0>e||this._tempTime-this._preTime<this._interval))return this._preTime=this._tempTime,this._currFrame=int(e/this._interval),this._loop>0&&this._currFrame/this._frameSize>=this._loop?(this.stop(),void this.dispatchEventWith(egret.Event.COMPLETE)):void(this._bmp.texture=this._ttrArr[this._currFrame%this._frameSize])}},t.prototype.recycle=function(){e.prototype.recycle.call(this),this.stop(),this._enterFrame=0,this.alpha=1,this.parent&&this.parent.removeChild(this),this._bmp&&(this._bmp.texture=null,this._bmp.parent&&this._bmp.parent.removeChild(this._bmp)),GApp.effectUIChche.delCache(this._key),this._key=null},Object.defineProperty(t.prototype,"calculateRect",{get:function(){return this._calculateRect},set:function(e){this._calculateRect=e,this._calculateRect&&this._ttrArr&&this._ttrArr.length>0?(this.width=this._ttrArr[0].textureWidth,this.height=this._ttrArr[0].textureHeight):(this.width=0,this.height=0)},enumerable:!0,configurable:!0}),t}(EffectUI);__reflect(EqualEffect.prototype,"EqualEffect");var HtgReadme=function(){function e(){}return e}();__reflect(HtgReadme.prototype,"HtgReadme");var HUtJ=function(){function e(){}return e.GAME_START="HG_GAME_START",e.HEARTBEAT="HG_HEARTBEAT",e.COMPLETE="complete",e.RESIZE="HG_RESIZE",e.UPDATE_HOUR1="HG_UPDATE_HOUR1",e.UPDATE_HOUR12="HG_UPDATE_HOUR12",e.UPDATE_HOUR24="HG_UPDATE_HOUR24",e.SCENE_SWITCH="HG_SCENE_SWITCH",e.ACTIVATE="HG_ACTIVATE",e.GAME_RECONNECTION="GAME_RECONNECTION",e}();__reflect(HUtJ.prototype,"HUtJ");var LoaderConst=function(){function e(){}return e.PRIORITY_DEFAULT=1,e}();__reflect(LoaderConst.prototype,"LoaderConst");var LoaderItem=function(e){function t(){var t=e.call(this)||this;return t.ver="",t.startTime=0,t._lvo=null,usable(GConfig.VER)&&(t.ver="?v="+GConfig.VER),GConfig.LOADER_TIMEOUT&&vkG.$a(HUtJ.HEARTBEAT,t.__heartbeatHandler,t),t}return __extends(t,e),t.prototype.load=function(e){this._lvo||(this._lvo=e,e.type?this.type=e.type:this.type=UrlUtil.getTypeByUrl(e.url),e.ver?this._lvo.loadurl=e.url+this.ver:this._lvo.loadurl=e.url,this.startTime=GApp.timer,RES.getResByUrl(this._lvo.loadurl,this.QWx,this,this.type))},t.prototype.__heartbeatHandler=function(){if(this._lvo){var e=GApp.timer-this.startTime;e>=GConfig.LOADER_TIMEOUT_TIME&&this.QWx(null,this._lvo.loadurl)}},t.prototype.QWx=function(e,t){if(this._lvo&&this._lvo.loadurl==t)try{this._lvo.data=e,this.completeFunc&&this.completeFunc.execute(this._lvo),this._lvo=null}catch(n){htg.warn(n.stack)}},Object.defineProperty(t.prototype,"loading",{get:function(){return null!=this._lvo},enumerable:!0,configurable:!0}),t}(egret.EventDispatcher);__reflect(LoaderItem.prototype,"LoaderItem",["ILoaderItem"]);var LoaderManager=function(){function e(){this._lvoLinkDict={},this._lvoQueue=[],this._loaderQueue=[],this._url404Dict={},singleton(e._instance),e._instance=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){RES.setMaxLoadingThread(GConfig.LOADER_MAX+50);var t=LoaderItem;e.loaderClz&&(t=e.loaderClz);for(var n=0;n<GConfig.LOADER_MAX;n++){var i=GObj.$c(t);i.completeFunc=Handler.create(this,this.QWx),this._loaderQueue.push(i)}},e.setLoader=function(e){this.loaderClz=e},e.prototype.load=function(e,t,n,i,r,a,o){void 0===o&&(o=!0);var s=GObj.$c(LoaderVO);return s.url=e,s.complete=t,s.thisObject=n,s.priority=i,s.args=r,s.type=a,s.ver=o,this._url404Dict[s.url]?void s.completeLink():void this.addToQueue(s)},e.prototype.clearLoad=function(e,t,n){var i;if(e){var r=this._lvoLinkDict[e];return void(r&&r.clearLink(t,n))}for(var a=0,o=this._lvoQueue;a<o.length;a++)i=o[a],i&&i.clearLink(t,n)},e.prototype.addToQueue=function(e){this.addToLink(e)||(this._lvoQueue.push(e),this.loadNext())},e.prototype.addToLink=function(e){var t=this._lvoLinkDict[e.url],n=!1;return t&&(e.nextLvo=t,n=!0),this._lvoLinkDict[e.url]=e,n},e.prototype.loadNext=function(e){var t=this._lvoQueue.length;if(!(0>=t)){if(e)return void e.load(this._lvoQueue.shift());for(var n=0;n<GConfig.LOADER_MAX;n++)if(e=this._loaderQueue[n],!e.loading&&(e.load(this._lvoQueue.shift()),--t<=0))return}},e.prototype.QWx=function(e){e.data||(this._url404Dict[e.url]=!0);var t=this._lvoLinkDict[e.url];return t?(t.data=e.data,delete this._lvoLinkDict[e.url],t.completeLink(),void this.loadNext()):void this.loadNext()},e}();__reflect(LoaderManager.prototype,"LoaderManager");var LoaderVO=function(){function e(){}return Object.defineProperty(e.prototype,"nextLvo",{get:function(){return this._nextLvo},set:function(e){this._nextLvo=e},enumerable:!0,configurable:!0}),e.prototype.clearLink=function(e,t){this.complete==e&&this.thisObject==t&&(this.complete=null,this.thisObject=null)},e.prototype.completeLink=function(){try{this._nextLvo&&(this._nextLvo.data=this.data,this._nextLvo.completeLink(),this._nextLvo=null),this.complete&&(this.complete.call(this.thisObject,this),this.complete=null,this.thisObject=null)}catch(e){htg.warn(e.stack)}},e.prototype.dispose=function(){this.complete=null,this.thisObject=null,this.data=null,this._nextLvo=null,this.args=null,this.type=null,this.loadurl?(RES.destroyRes(this.loadurl),this.loadurl=null):this.url&&(RES.destroyRes(this.url),this.url=null)},e}();__reflect(LoaderVO.prototype,"LoaderVO");var ClockManager=function(){function e(){this.heartbeatTime=1e3,this._enterFrame8=8,this._serverTime=0,this._pServerTime=0,this._pheartbeat=0,this._onlineTime=0,this._hour12=0,this._hour24=0,this._hour1=0,this._enterFrame=0,this._initServerTime=!1,singleton(e._instance),e._instance=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._timeoutArr=[],this._clockHmap=GObj.$c(Hashmap),this._serverTime=Date.now(),this._pServerTime=egret.getTimer(),this._date=GObj.$c(Date),Nvm.instance.registeEnterFrame(this.__enterFrameHandler,this)},e.prototype.__enterFrameHandler=function(){this._enterFrame++,this._enterFrame%this._enterFrame8==0&&this.enterFrame8()},e.prototype.enterFrame8=function(){for(var e,t=this._timeoutArr.length,n=t-1;n>=0;n--)e=this._timeoutArr[n],e&&e.delay<=GApp.timer&&(this._timeoutArr.splice(n,1),e.listener.apply(e.thisObj,e.params));if(GApp.timer-this._pheartbeat>this.heartbeatTime){this._pheartbeat=GApp.timer;for(var i,r,a=this._clockHmap.keys,o=this._clockHmap.values,t=this._clockHmap.lenght,n=t-1;n>=0;n--)r=o[n],r<=GApp.timer&&(i=a[n],this._clockHmap.del(i,r),i.$clockExecute());this.hour12(),vkG.$d(HUtJ.HEARTBEAT)}},e.prototype.hour12=function(){if(GApp.timer>=this._hour12){var e=this._hour24;this.setNextDay(),vkG.$d(HUtJ.UPDATE_HOUR12),GApp.timer>=e&&vkG.$d(HUtJ.UPDATE_HOUR24)}GApp.timer>=this._hour1&&(vkG.$d(HUtJ.UPDATE_HOUR1),this.setNextHourDay())},e.prototype.setNextDay=function(e){void 0===e&&(e=!1);var t=this.date;this._hour24=86400-3600*t.getHours()-60*t.getMinutes()-t.getSeconds(),this._hour12=GApp.timer+1e3*(this._hour24%43200+3),this._hour24=GApp.timer+1e3*(this._hour24+3)},e.prototype.setNextHourDay=function(){var e=this.date,t=3600-60*e.getMinutes()-e.getSeconds();this._hour1=GApp.timer+1e3*(t+3)},Object.defineProperty(e.prototype,"nextHourTime",{get:function(){return this.setNextHourDay(),this._hour1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"midnightTime",{get:function(){var e=this.date,t=3600*e.getHours()+60*e.getMinutes()+e.getSeconds(),n=e.getTime()-1e3*t;return int(n/1e3)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"todaySecond",{get:function(){var e=this.date,t=3600*e.getHours()+60*e.getMinutes()+e.getSeconds();return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverTime",{get:function(){var e=GApp.timer-this._pServerTime;return this._serverTime+e},set:function(e){if(e){if(this._initServerTime&&this._serverTime&&this._serverTime>0){var t=e-this._serverTime;if(t>0){var n=GApp.timer-this._pServerTime;n-=t}}if(this._initServerTime){var i=this.date,r=GObj.$c(Date);r.setTime(e),i.getDate()!=r.getDate()&&(this._serverTime=e||0,this._pServerTime=GApp.timer,vkG.$d(HUtJ.UPDATE_HOUR24))}this._initServerTime=!0,this._serverTime=e||0,this._pServerTime=GApp.timer,this._onlineTime||(this._onlineTime=GApp.timer),this.setNextDay(),this.setNextHourDay()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverSecond",{get:function(){var e=int(this.serverTime/1e3);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"date",{get:function(){return this._date.setTime(this.serverTime),this._date},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onlineTime",{get:function(){return int((GApp.timer-this._onlineTime)/1e3)},enumerable:!0,configurable:!0}),e.prototype.registeClock=function(e,t){this._clockHmap.add(e,t+GApp.timer)},e.prototype.unregisteClock=function(e,t){this._clockHmap.del(e,t)},e.setTimeout=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.instance._timeoutArr.push({listener:e,thisObj:t,delay:n+GApp.timer,params:i})},e._instance=null,e}();__reflect(ClockManager.prototype,"ClockManager");var DelayManager=function(){function e(){}return e.prototype.addDelay=function(e){},e}();__reflect(DelayManager.prototype,"DelayManager",["IDelayQueue"]);var vkG=function(e){function t(){var n=e.call(this)||this;return singleton(t._instance),t._instance=n,n.init(),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.init=function(){},t.dispatch=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.instance.$dispatchEvent(e,t)},t.addListener=function(e,t,n){this.instance.$addEventListener(e,t,n)},t.removeListener=function(e,t,n){this.instance.$removeEventListener(e,t,n)},t._instance=null,t.$d=t.dispatch,t.$a=t.addListener,t.$r=t.removeListener,t}(GDispatcher);__reflect(vkG.prototype,"vkG");var Nvm=function(){function e(){this.CHECK_TIME=5e3,this.entereFrame2=2,this._activate=!0,this._nextCheckTime=0,this._checkFps=0,this._lastTime=0,this._lastEnterFrame=0,this._enterFrame=0,this._time=0,this._render=0,this._errorFpsNum=0,singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(e){this._stage||(this._stage=e,this._enterFrameHmap=GObj.$c(Hashmap),this._enterFrame2Hmap=GObj.$c(Hashmap),this._renderHmap=GObj.$c(Hashmap),this._delayArr=[],this._delayTempArr=[],egret.startTick(this.__enterFrameHandler,this),this._stage.addEventListener(egret.Event.ACTIVATE,this.__activateHandler,this),this._stage.addEventListener(egret.Event.DEACTIVATE,this.__deactivateHandler,this),this._stage.addEventListener(egret.Event.ENTER_FRAME,this.__renderHandler,this),ClockManager.instance)},e.prototype.__enterFrameHandler=function(e){try{return this._enterFrame++,GApp.timer=e,this._timeoutId&&this.deactivateBackEnterFrame(),this.enterFrame1Handler(),this._enterFrame%this.entereFrame2!=0?!1:(this.enterFrame2Handler(),!1)}catch(t){return htg.warn(t.stack),!1}},e.prototype.__activateHandler=function(e){this._activate=!0,this.deactivateBackEnterFrame(),this._time=egret.getTimer(),this._lastTime=this._time,this._lastEnterFrame=this._render,this._nextCheckTime=this._time+this.CHECK_TIME,vkG.$d(HUtJ.ACTIVATE),console.log("__activateHandler")},e.prototype.activateBackEnterFrame=function(){if(GConfig.BACK_ENTER_FRAME){var e=this;this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=0),this._timeoutId=setTimeout(function(){e.__enterFrameHandler(egret.getTimer()),e.activateBackEnterFrame()},33)}},e.prototype.deactivateBackEnterFrame=function(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=0)},e.prototype.__deactivateHandler=function(e){this._activate=!1,this.activateBackEnterFrame(),console.log("__deactivateHandler")},e.prototype.__renderHandler=function(e){this._render++,this._time=egret.getTimer(),this._time>=this._nextCheckTime&&this.checkFps(this._time);for(var t=this._renderHmap.keys,n=this._renderHmap.values,i=this._renderHmap.lenght,r=0;i>r;r++){var a=n[r];a&&a.call(t[r])}},e.prototype.checkFps=function(e){if(this._activate){if(!this._lastTime||!this._lastEnterFrame)return this._lastTime=e,this._lastEnterFrame=this._render,void(this._nextCheckTime=e+this.CHECK_TIME);var t=e-this._lastTime,n=this._render-this._lastEnterFrame;this._lastTime=e,this._lastEnterFrame=this._render,this._checkFps=int(1e3/(t/n)),this._checkFps<hCs.frameRate-5?(this._errorFpsNum++,this._errorFpsNum>3&&(this._errorFpsNum=0)):this._errorFpsNum=0,this._nextCheckTime=e+this.CHECK_TIME}},e.prototype.enterFrame1Handler=function(){for(var e=this._enterFrameHmap.keys,t=this._enterFrameHmap.values,n=this._enterFrameHmap.lenght,i=0;n>i;i++){var r=t[i];r&&r.call(e[i])}},e.prototype.enterFrame2Handler=function(){try{if(this._isDelay){this._isDelay=!1;var e=this._delayArr;this._delayArr=this._delayTempArr,this._delayTempArr=e;for(var t,n=this._delayTempArr.length,i=0;n>i;i++)t=this._delayTempArr[i],t.destory||t.$delayExecute();this._delayTempArr.length=0}for(var r=this._enterFrame2Hmap.keys,a=this._enterFrame2Hmap.values,o=this._enterFrame2Hmap.lenght,i=0;o>i;i++){var s=a[i];s&&s.call(r[i])}}catch(p){htg.warn(p.stack)}},Object.defineProperty(e.prototype,"activate",{get:function(){return this._activate},enumerable:!0,configurable:!0}),e.prototype.addDelay=function(e){this._isDelay=!0,this._delayArr.indexOf(e)<0&&this._delayArr.push(e)},e.prototype.registeRender=function(e,t){this._renderHmap.add(t,e)},e.prototype.unRegisteRender=function(e,t){this._renderHmap.del(t,e)},e.prototype.registeEnterFrame=function(e,t){this._enterFrameHmap.add(t,e)},e.prototype.unRegisteEnterFrame=function(e,t){this._enterFrameHmap.del(t,e)},e.prototype.registeEnterFrame2=function(e,t){this._enterFrame2Hmap.add(t,e)},e.prototype.unRegisteEnterFrame2=function(e,t){this._enterFrame2Hmap.del(t,e)},e._instance=null,e}();__reflect(Nvm.prototype,"Nvm",["IDelayQueue"]);var GcManager=function(){function e(){singleton(e._instance),e._instance=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.execGC=function(){GApp.avatarCache.gc()},e._instance=null,e}();__reflect(GcManager.prototype,"GcManager");var BQOManager=function(){function e(){singleton(e._instance),e._instance=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._proxyDict={}},e.prototype.open=function(e){if(!e||!e.prototype)return null;var t;e.prototype.__htg_msg_proxy?t=e.prototype.__htg_msg_proxy:(t=GObj.getQualifiedClassName(e),e.prototype.__htg_msg_proxy=t);var n=this._proxyDict[t];return n?(n.open(),n):(n=new e,this._proxyDict[t]=n,n)},e.prototype.close=function(e){if(e&&e.prototype&&e.prototype.__htg_msg_proxy){var t=e.prototype.__htg_msg_proxy,n=this._proxyDict[t];n&&n.close()}},e._instance=null,e}();__reflect(BQOManager.prototype,"BQOManager");var ModelManager=function(){function e(){singleton(e._instacne),e._instacne=this,this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instacne||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._modelDict={}},e.prototype.get=function(e){if(!e||!e.prototype)return null;var t;e.prototype.__htg_model?t=e.prototype.__htg_model:(t=GObj.getQualifiedClassName(e),e.prototype.__htg_model=t);var n=this._modelDict[t];return n||(n=GObj.$c(e),this._modelDict[t]=n,n.initData()),n},e}();__reflect(ModelManager.prototype,"ModelManager");var hCs=function(){function e(){this._isRsize=!1,singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(t){this._stage||(this._stage=t,e._frameRate=t.frameRate,e.setCountRate(),this.resizeCount(),this.addEvent())},e.prototype.addEvent=function(){this._stage.addEventListener(egret.Event.RESIZE,this.__resizeHandler,this)},e.prototype.__timeout=function(){vkG.$d(HUtJ.RESIZE),this._isRsize=!1},e.prototype.resizeCount=function(){e.stageWidth=this._stage.stageWidth,e.stageHeight=this._stage.stageHeight,e.stageWidthHalf=.5*this._stage.stageWidth,e.stageHeightHalf=.5*this._stage.stageHeight,e.cameraReset(),GConfig.$TILE_ROW=Math.ceil((e.stageHeight-1)/GConfig.$TILE_SIZE)+3,GConfig.$TILE_COL=Math.ceil((e.stageWidth-1)/GConfig.$TILE_SIZE)+3},e.prototype.__resizeHandler=function(e){this.resizeCount(),this._isRsize||(this._isRsize=!0,ClockManager.setTimeout(this.__timeout,this,500))},Object.defineProperty(e,"stage",{get:function(){return this._instance._stage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),Object.defineProperty(e,"frameRate",{get:function(){return this._frameRate},set:function(e){this._frameRate!=e&&(this._frameRate=e,this.stage.frameRate=e,this.setCountRate())},enumerable:!0,configurable:!0}),e.setCountRate=function(){this._frameRate<=30?this._countRate=2:this._countRate=1},Object.defineProperty(e,"countRate",{get:function(){return this._countRate},enumerable:!0,configurable:!0}),e.cameraReset=function(){e.cameraX=e.stageWidthHalf+GConfig.CAMERA_OFF_X,e.cameraY=e.stageHeightHalf+GConfig.CAMERA_OFF_Y},e.stageWidth=480,e.stageHeight=800,e.stageWidthHalf=240,e.stageHeightHalf=400,e.cameraX=240,e.cameraY=280,e._frameRate=30,e._instance=null,e._countRate=1,e}();__reflect(hCs.prototype,"hCs");var Handler=function(){function e(){}return e.create=function(t,n){var i=GObj.$c(e);return i._thisObject=t,i._method=n,i},e.prototype.execute=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._method&&this._method.apply(this._thisObject,e)},e.prototype.dispose=function(){this._thisObject=null,this._method=null},e}();__reflect(Handler.prototype,"Handler");var UIResManager=function(){function e(){this.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instacne||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._uiResDict={},this._sheetResDict={}},e.prototype.addUIRes=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t&&(this._uiResDict[e]=t)},e.prototype.addRes=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&t&&(this._sheetResDict[e]=t)},e.prototype.destroyRes=function(e){if(e){var t=this._sheetResDict[e];if(t)for(var n=0,i=t;n<i.length;n++){var r=i[n];RES.destroyRes(r)}else typeof e==GConst.TOF_STR&&RES.destroyRes(e)}},e.prototype.destroyUI=function(e,t){var n=this._uiResDict[e];if(n){var i;t&&(i=this._uiResDict[t]);for(var r=0,a=n;r<a.length;r++){var o=a[r];(!i||i.indexOf(o)<0)&&RES.destroyRes(o)}}},e.prototype.destroyAllUI=function(){var e;for(var t in this._uiResDict)if(e=this._uiResDict[t])for(var n=0,i=e;n<i.length;n++){var r=i[n];RES.destroyRes(r)}},e}();__reflect(UIResManager.prototype,"UIResManager");var UISet=function(){function e(){}return e.prototype.addBar=function(e){},e.prototype.addFristOpen=function(e){},e.prototype.addCoexistFrame=function(e){},e.prototype.uJG=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]},e.prototype.addView=function(e){},e.prototype.addSheetRes=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e.prototype.addPopUI=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i]},e.prototype.setOpenCheck=function(e,t){},e.prototype.setOpenViewCheck=function(e,t){},e.prototype.setTabCheck=function(e,t){},e.prototype.setFristOpen=function(e,t){},e.prototype.setLoading=function(e){},e.prototype.setExistFrame=function(e,t){},e}();__reflect(UISet.prototype,"UISet",["IUISet"]);var BaseScene=function(e){function t(){var t=e.call(this)||this;return t._mapId=0,t._resId=0,t._mapW=0,t._mapH=0,t._mode=0,t._stop=!1,t._type=1,t._unid=1,t}return __extends(t,e),t.prototype.enter=function(e){this._mapData&&htg.warn(""),t.__index__&&(t.__index__=0),t.__index__++,this._unid=t.__index__,this._mapData=e,this._mapId=e.mapId,this._resId=this._mapId,e.resId&&(this._resId=e.resId),this._mapW=e.w,this._mapH=e.h,this._mode=e.mode||0,this._type=e.type,this.loadBegin()},t.prototype.obiterCmd=function(e,t,n){return this._complete=t,this._thisObject=n,!0},t.prototype.loadBegin=function(){this.loadEnd()},t.prototype.loadEnd=function(){this.createScene(),vkG.$d(HUtJ.SCENE_SWITCH,this._mapId,this._type,this._unid)},t.prototype.createScene=function(){},t.prototype.start=function(){this._stop=!1},t.prototype.stop=function(){this._stop=!0},Object.defineProperty(t.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapId",{get:function(){return this._mapId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"unid",{get:function(){return this._unid},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._mapData=null,this.parent&&this.parent.removeChild(this)},t.__index__=0,t}(egret.DisplayObjectContainer);__reflect(BaseScene.prototype,"BaseScene");var BattleAction=function(){function e(){singleton(e._instance),e._instance=this,this.init()}return e.prototype.init=function(){this._actionClz={}},Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.addAction=function(e,t){this._actionClz[e]=t},e["do"]=function(t,n,i,r,a,o,s){var p,l=e._instance._actionClz[t];return p=l?GObj.$c(l):GObj.$c(ActionBase),p.data=s,p.start(n,i,r,a,o),p},e}();__reflect(BattleAction.prototype,"BattleAction");var ActionTeleport=function(e){function t(){var t=e.call(this)||this;return t.ttx=0,t.tty=0,t.easing=.3,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return ActionConst.ACTION_TELEPORT},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n,i,r,a){if(e.prototype.start.call(this,t,n,i,r,a),this.vanishTime=0,this.startTime=GApp.timer,this.data){if(this.data.teleport){var o=GMath.towards(t.x,t.y,n,i,this.data.teleport,!0);this.ttx=o.x,this.tty=o.y}this.data.vanishTime&&(this.vanishTime=GApp.timer+this.data.vanishTime,t.visible=!1)}},t.prototype.update=function(){this.vanishTime?(GApp.timer>=this.vanishTime&&(this._view&&(this._view.visible=!0),this.vanishTime=0),this._view.x+=GEase.easing(this._view.x,this.ttx,this.easing),this._view.y+=GEase.easing(this._view.y,this.tty,this.easing)):GObj.$d(this)},t.prototype.recycle=function(){this._view&&(this._view.visible=!0),e.prototype.recycle.call(this)},t}(ActionBase);__reflect(ActionTeleport.prototype,"ActionTeleport");var AvatarLayer=function(e){function t(){var t=e.call(this)||this;return t.SORT_TICK=60,t._sortTime=0,t._isHide=!1,t._tempArr=[],singleton(GApp.avatarLayer),t.init(),t}return __extends(t,e),t.prototype.init=function(){this.touchEnabled=!1,this.touchChildren=!1,this._effectList=[],this._avatarList=[],this._effectLayer=GObj.$c(egret.DisplayObjectContainer),this._effectBelowLayer=GObj.$c(egret.DisplayObjectContainer),this._avatarLayer=GObj.$c(egret.DisplayObjectContainer),this.addChild(this._effectBelowLayer),this.addChild(this._avatarLayer),this.addChild(this._effectLayer)},Object.defineProperty(t.prototype,"toParent",{set:function(e){return this._parent==e||(this._parent=e,this._isHide)?void 0:e?void this._parent.addChild(this):void(this.parent&&this.parent.removeChild(this))},enumerable:!0,configurable:!0}),t.prototype.show=function(){this._isHide&&(this._isHide=!1,GamepadManager.instance.enabled=!0,this._parent&&!this.parent&&this._parent.addChild(this))},t.prototype.hide=function(){this._isHide||(this._isHide=!0,GamepadManager.instance.enabled=!1,this.parent&&this.parent.removeChild(this))},t.prototype.register=function(e){this._avatarList.indexOf(e)>=0||(this._avatarList.push(e),e&&(this._sortTime=this.SORT_TICK-2,this._avatarLayer.addChild(e)))},t.prototype.unregister=function(e){if(e){var t=this._avatarList.indexOf(e);0>t||(this._avatarList.splice(t,1),e.parent&&e.parent.removeChild(e))}},t.prototype.addEffect=function(e,t){void 0===t&&(t=!1),e&&(t?this._effectBelowLayer.addChild(e):this._effectLayer.addChild(e))},t.prototype.addName=function(e){this._effectLayer.addChild(e)},t.prototype.registerEffect=function(e,t){void 0===t&&(t=!1),this._effectList.indexOf(e)>=0||(this._effectList.push(e),e&&(t?this._effectBelowLayer.addChild(e):this._effectLayer.addChild(e)))},t.prototype.unregisterEffect=function(e){var t=this._effectList.indexOf(e);0>t||(this._effectList.splice(t,1),e&&e.parent&&e.parent.removeChild(e))},t.prototype.registerDamage=function(e,t){void 0===t&&(t=-1),e&&(this._effectList.indexOf(e)>=0||(this._effectList.push(e),t>=0?this.addChildAt(e,t):this.addChild(e)))},t.prototype.unregisterDamage=function(e){if(e){var t=this._effectList.indexOf(e);0>t||(this._effectList.splice(t,1),e.parent&&e.parent.removeChild(e))}},t.prototype.avatarSort=function(e,t){return e.y<t.y?-1:e.y>t.y?1:e.x<t.x?-1:1},t.prototype.sort=function(){var e,t,n=this._avatarList.length,i=0;for(t=0;n>t;t++)e=this._avatarList[t],e&&(this._tempArr.push(e),i++);this._tempArr.sort(this.avatarSort);var r=1;for(t=0;i>t;t++)e=this._tempArr[t],e&&e.parent&&(this._avatarLayer.setChildIndex(e,r),r++);this._tempArr.length=0},t.prototype.update=function(){if(this._sortTime++,this._parent){this._sortTime>this.SORT_TICK&&(this.sort(),this._sortTime=0);for(var e,t=this._avatarList.length,n=0;t>n;n++)e=this._avatarList[n],e&&e.update();t=this._effectList.length;for(var i,n=0;t>n;n++)i=this._effectList[n],i&&i.update()}},t.prototype.clear=function(){this.toParent=null,this._avatarList&&(this._avatarList.length=0)},t}(egret.DisplayObjectContainer);__reflect(AvatarLayer.prototype,"AvatarLayer");var GhostAction=function(){function e(){}return e}();__reflect(GhostAction.prototype,"GhostAction");var GhostView=function(e){function t(){var t=e.call(this)||this;return t.index=0,t._playing=!1,t._pgx=0,t._pgy=0,t._psx=1,t._enterFrame=0,t._endNode=0,t.init(),t}return __extends(t,e),t.prototype.init=function(){},t.prototype.start=function(e){this._playing||(this._body=e,this._endNode=0,this.play(),GApp.enterFrameMgr.registeEnterFrame2(this.__enterFrameHandler,this))},t.prototype.play=function(){this._playing=!0,this.next&&this.next.play()},t.prototype.stop=function(){this._playing&&(this._playing=!1)},t.prototype.__enterFrameHandler=function(){if(this._enterFrame++,this._body){var e=this._body.gx;-1==this._body.gscaleX&&(e=e-4*this._body.ghost.x-this._body.ghost.width),this._body.ghost&&this.update(this._body.ghost.texture,e,this._body.gy,this._body.gscaleX)}},t.prototype.update=function(e,n,i,r){return this._pttr&&(this.next?this.next.update(this._pttr,this._pgx,this._pgy,this._psx):this.index<GConfig.GHOST_NUM&&(this.next=GObj.$c(t),this.next.index=this.index+1,this.next._playing=!0,this.next.alpha=.5-.05*this.next.index,this.next.update(this._pttr,this._pgx,this._pgy,this._psx))),this._pttr=this.texture,this._pgx=n,this._pgy=i,this._psx=r,this._playing?(this.texture=e,this.scaleX=r,this.x=n,this.y=i,void GApp.avatarLayer.addEffect(this,!0)):(this.end(),void(this._endNode>GConfig.GHOST_NUM&&0==this.index&&(GApp.enterFrameMgr.unRegisteEnterFrame2(this.__enterFrameHandler,this),this.clearData())))
},t.prototype.end=function(){this._endNode++,this.parent&&this.parent.removeChild(this),this.next&&(this.next._playing=!1)},t.prototype.clearData=function(){this._pttr=null,this._pgx=0,this._pgy=0,this._psx=1,this.next&&this.next.clearData()},t.prototype.dispose=function(){0==this.index&&GApp.enterFrameMgr.unRegisteEnterFrame2(this.__enterFrameHandler,this),this.parent&&this.parent.removeChild(this),this.texture=null,this._body=null,this._pttr=null,this.next&&(GObj.$d(this.next),this.next=null)},t}(egret.Bitmap);__reflect(GhostView.prototype,"GhostView");var GApp=function(){function e(){}return e.timer=0,e}();__reflect(GApp.prototype,"GApp");var BgNoborderLayer=function(e){function t(t,n,i){return e.call(this,t,n,i)||this}return __extends(t,e),t.prototype.updateTile=function(e,t){this._px=e,this._py=t,this._checkW=e%GConfig.$TILE_SIZE,this._checkH=t%GConfig.$TILE_SIZE,this._checkW<=0&&(this._checkW=GConfig.$TILE_SIZE),this._checkH<=0&&(this._checkH=GConfig.$TILE_SIZE);var n=int(e/GConfig.$TILE_SIZE)-1,i=int(t/GConfig.$TILE_SIZE)-1,r=i+this._tileRow,a=n+this._tileCol;this.addTile(n,a,i,r)},t}(BgLayer);__reflect(BgNoborderLayer.prototype,"BgNoborderLayer");var BgScaleLayer=function(e){function t(t,n,i){var r=e.call(this,t,n,i)||this;return r._scale=1,r._ux=0,r._uy=0,r}return __extends(t,e),t.prototype.updateCamera=function(t,n){this._ux=t,this._uy=n,this.x=(1-this._scale)*t,this.y=(1-this._scale)*n,e.prototype.updateCamera.call(this,t,n)},Object.defineProperty(t.prototype,"scale",{get:function(){return this._scale},set:function(e){this._scale!=e&&(this._scale=e,this.$setScaleX(this._scale),this.$setScaleY(this._scale),this._tileRow=Math.ceil(GConfig.$TILE_ROW/this._scale),this._tileCol=Math.ceil(GConfig.$TILE_COL/this._scale),this.x=(1-this._scale)*this._ux,this.y=(1-this._scale)*this._uy)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{set:function(e){htg.warn("BgLayer.scaleX")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{set:function(e){htg.warn("BgLayer.scaleX")},enumerable:!0,configurable:!0}),t}(BgLayer);__reflect(BgScaleLayer.prototype,"BgScaleLayer");var BgTile=function(e){function t(){var t=e.call(this)||this;return t.colMax=1,t.rowMax=1,t._thumbsx=1,t._thumbsy=1,t._mapWidth=0,t._mapHeight=0,t.addEvent(),t}return __extends(t,e),t.prototype.updateThumb=function(e,t,n){this._thumb=e,this._thumbsx=t,this._thumbsy=n},t.prototype.updatePos=function(e,t,n){this._row=t,this._col=n;var i=t,r=n;this._mapId=e;var a=n*GConfig.$TILE_SIZE,o=t*GConfig.$TILE_SIZE;0>a?r=int((a%this._mapWidth+this._mapWidth)/GConfig.$TILE_SIZE):a+GConfig.$TILE_SIZE>this._mapWidth&&(r=int(a%this._mapWidth/GConfig.$TILE_SIZE)),0>o?i=int((o%this._mapHeight+this._mapHeight)/GConfig.$TILE_SIZE):o+GConfig.$TILE_SIZE>this._mapHeight&&(i=int(o%this._mapHeight/GConfig.$TILE_SIZE)),r%=this.colMax,i%=this.rowMax,this.x=a,this.y=o,this._thumb&&(this._rect||(this._rect=GObj.$c(egret.Rectangle)),this._rect.x=this.x/this._thumbsx,this._rect.y=this.y/this._thumbsy,this._rect.width=GConfig.$TILE_SIZE/this._thumbsx,this._rect.height=GConfig.$TILE_SIZE/this._thumbsy,this.texture=BitmapUtil.drawToTexture(this._thumb,this._rect),this.scaleX=this._thumbsx,this.scaleY=this._thumbsy),this._url=GConfig.PATH_MAP+e+GConst.STR_DIR+i+GConst.STR_+r+FileConst.jpg,LoaderManager.instance.load(this._url,this.__loadComplete,this,LoaderConst.PRIORITY_DEFAULT,null,RES.ResourceItem.TYPE_IMAGE)},Object.defineProperty(t.prototype,"mapWidth",{get:function(){return this._mapWidth},set:function(e){this._mapWidth!=e&&(this._mapWidth=e,this.colMax=int((e-1)/GConfig.$TILE_SIZE)+1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mapHeight",{get:function(){return this._mapHeight},set:function(e){this._mapHeight!=e&&(this._mapHeight=e,this.rowMax=int((e-1)/GConfig.$TILE_SIZE)+1)},enumerable:!0,configurable:!0}),t.prototype.__loadComplete=function(e){e.url==this._url&&(this._lvo=e,this.texture=e.data,this.scaleX=this.scaleY=1)},t.prototype.__gameReconnection=function(){this._lvo&&(this._lvo.dispose(),this._lvo=null,this.updatePos(this._mapId,this._row,this._col))},t.prototype.addEvent=function(){vkG.$a(HUtJ.GAME_RECONNECTION,this.__gameReconnection,this)},t.prototype.removeEvent=function(){vkG.$r(HUtJ.GAME_RECONNECTION,this.__gameReconnection,this)},t.prototype.dispose=function(){this.removeEvent(),this.parent&&this.parent.removeChild(this),this._lvo&&(this._lvo.dispose(),this._lvo=null),this._url=null},t}(egret.Bitmap);__reflect(BgTile.prototype,"BgTile");var DamageAction=function(){function e(){}return e["do"]=function(e,t,n,i,r,a){GConfig.DAMAGE_MULTIPLE&&GConfig.DAMAGE_MULTIPLE>1&&(t=GConfig.DAMAGE_MULTIPLE*t);var o=DamageCache.instance.getDamage(e,t);o&&o.start(n,i,r)},e.delayDo=function(t,n,i,r,a,o){return a?void ClockManager.setTimeout(e["do"],e,a,t,n,i,r,o):void e["do"](t,n,i,r,o)},e}();__reflect(DamageAction.prototype,"DamageAction");var DamageView=function(e){function t(){var t=e.call(this)||this;return t._startTime=0,t}return __extends(t,e),t.prototype.init=function(){},t.prototype.start=function(e,t,n){this._startTime=GApp.timer,this._enterFrame=0,this._sx=e,this._sy=t,this.x=e,this.y=t,this._data="number"==typeof n?null:n,this.alpha=1,this.scaleX=this.scaleY=.74;for(var i,r=int(.5*this.width),a=0;this.numChildren>a;)i=this.getChildAt(a),i.x-=r,a++;this.initPos(),this.registerDamage()},t.prototype.registerDamage=function(){GApp.avatarLayer.registerDamage(this)},t.prototype.initPos=function(){},t.prototype.addBmp=function(t){e.prototype.addChild.call(this,t)},t.prototype.recycle=function(){for(GApp.avatarLayer.unregisterDamage(this),this.parent&&this.parent.removeChild(this),this._enterFrame=0,this.alpha=1,this.scaleX=this.scaleY=1,this._data=null;this.numChildren>0;)GObj.$d(this.removeChildAt(0))},t.prototype.dispose=function(){this.recycle()},t}(EffectView);__reflect(DamageView.prototype,"DamageView",["ICache"]);var GamepadManager=function(e){function t(){var n=e.call(this)||this;return n._cx=0,n._cy=0,n._tx=0,n._ty=0,n._enabled=!0,singleton(t._instance),t._instance=n,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.init=function(e,t,n){this._stage||(this._stage=e,this._bgBmp=GObj.$c(egret.Bitmap),this._bgBmp.texture=n,this._bgBmp.touchEnabled=!1,this._bgBmp.x=.5*-this._bgBmp.width,this._bgBmp.y=.5*-this._bgBmp.height,this.addChild(this._bgBmp),this._btnBmp=GObj.$c(egret.Bitmap),this._btnBmp.texture=t,this._btnBmp.touchEnabled=!1,this._btnSize=.5*this._btnBmp.width,this._btnBmp.x=-this._btnSize,this._btnBmp.y=-this._btnSize,this.addChild(this._btnBmp),this.addEvent())},t.prototype.addEvent=function(){this._stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.__mouseDownHandler,this),this._stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.__mouseMoveHandler,this),this._stage.addEventListener(egret.TouchEvent.TOUCH_END,this.__mouseUpHandler,this)},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e},enumerable:!0,configurable:!0}),t.prototype.__mouseDownHandler=function(e){!this._start&&this._enabled&&(this._cx=e.$stageX,this._cy=e.$stageY)},t.prototype.__mouseMoveHandler=function(e){this._tx=e.$stageX,this._ty=e.$stageY,!this._start&&this._enabled&&(Math.abs(this._tx-this._cx)>=GConfig.GAMEPAD_START_DIS||Math.abs(this._ty-this._cy)>=GConfig.GAMEPAD_START_DIS)&&(this._start=!0,this.parent||(this.x=this._cx,this.y=this._cy,this._stage.addChild(this)),GApp.enterFrameMgr.registeEnterFrame2(this.__enterFrameHandler,this))},t.prototype.__mouseUpHandler=function(e){this._start&&(this._start=!1,GApp.enterFrameMgr.unRegisteEnterFrame(this.__enterFrameHandler,this),this.parent&&this.parent.removeChild(this))},t.prototype.__enterFrameHandler=function(){var e=Math.atan2(this._ty-this._cy,this._tx-this._cx);this._btnBmp.x=-this._btnSize+this._btnSize*Math.cos(e),this._btnBmp.y=-this._btnSize+this._btnSize*Math.sin(e)},t._instance=null,t}(egret.DisplayObjectContainer);__reflect(GamepadManager.prototype,"GamepadManager");var MapObiter=function(){function e(){}return e.prototype.init=function(){},e.prototype.start=function(e,t){e&&!this._start&&(this._start=!0,this._scene=t,this._data=e,this._type=e.type,this._loop=e.loop||!1,this.init())},e.prototype.stop=function(){this._start=!1},e.prototype.recycle=function(){this._data=null,this._scene=null,this._loop=!1,this._start=!1},e}();__reflect(MapObiter.prototype,"MapObiter",["ICache"]);var SkillAction=function(){function e(){}return e["do"]=function(e,t,n,i,r,a,o){if(usable(e)){var s=GObj.$c(SkillView);return s.x=n,s.y=i,s.soy=o,s.start(e,t,1,r,a),s}},e.action=function(t,n,i){if(t&&n&&i){var r=n.footy||0,a=n.x||0,o=n.y||0;o-=GConfig.ROLE_CAST_OFF_Y;var s=i.x||0,p=i.y||0;switch(t.vanishTime&&BattleAction["do"](ActionConst.ACTION_TELEPORT,n,s,p,null,null,t),t.cast&&e["do"](t.cast,g,a,o,s,p-GConfig.NPC_BRUISE_OFF_Y,r-GConfig.ROLE_BRUISE_OFF_Y),t.atktype){case 2:var l=GObj.$c(SkillShootView);l.shoot(t.attack,a,o,s,p-GConfig.NPC_BRUISE_OFF_Y);break;case 3:var c=GObj.$c(SkillShootView);c.shoot(t.attack,a,o,s,p-GConfig.NPC_BRUISE_OFF_Y);break;case 4:var u=GObj.$c(SkillImpaleView);u.shoot(t.attack,a,o,s,p-GConfig.NPC_BRUISE_OFF_Y);break;case 5:var d=GObj.$c(SkillParabolaView);d.shoot(t.attack,a,o,s,p-GConfig.NPC_BRUISE_OFF_Y,t.trail);break;default:if(usable(t.attack)){var g=AvatarHelp.getDirection8(a,o,s,p-GConfig.NPC_BRUISE_OFF_Y);e["do"](t.attack,g,a,o,s,p-GConfig.NPC_BRUISE_OFF_Y,r-GConfig.ROLE_BRUISE_OFF_Y)}}}},e}();__reflect(SkillAction.prototype,"SkillAction");var SkillImpaleOne=function(e){function t(){var t=e.call(this)||this;return t._distance=0,t._stepx=0,t._stepy=0,t._speed=30,t._stepAngle=0,t._followEnter=0,t._count=0,t._total=3,t}return __extends(t,e),t.prototype.QWx=function(e){if(e){if(this._esvo=e.getBySkillByDir(irK.B_B),!this._esvo)return void GObj.$d(this);this._effectArr=this._esvo.items,this._effectCount=this._effectArr.length,this.playInterval=e.ftime||0;for(var t,n,i,r=0,a=0;a<this._effectCount;a++)if(i=this._effectArr[a],!(i.impaleSpeed<=0)){this._impItemVO=i,t=this._bmpArr[r],t||(t=GObj.$c(GBitmap),this._bmpArr.push(t)),n=this._layerArr[r],n||(n=GObj.$c(egret.DisplayObjectContainer),this._layerArr.push(n)),this._impLayer=n,n.rotation=i.angle||0,n.scaleX=i.sx||1,n.scaleY=i.sy||1,n.addChild(t),this.addChild(n),r++,this._effectCount=1;break}this.scaleX=this._esvo.scaleX||1;for(var o=this._bmpArr.length;o>r;r++)t=this._bmpArr[a],t&&GObj.$d(t);this._bmpArr.length=1,this._layerArr.length=1,this.register()}},t.prototype.setData=function(e){this.QWx(e)},t.prototype.shoot=function(e,t,n,i,r){this.x=t,this.y=n,this._tx=i,this._ty=r,this._stepAngle=1,this._startTime=GApp.timer,this._count=0,this.to(i,r)},t.prototype.to=function(e,t){if(this._impItemVO){var n=this._impItemVO.impaleDis||100,i=this._impItemVO.impaleSpeed||1;this._enterFrame=0;var r=this.x,a=this.y,o=Math.atan2(t-a,e-r);if(0==this._stepAngle){if(this._count>=this._total)return void GObj.$d(this);this._followEnter=0;var s=r,p=a;Math.abs(e-r)>Math.abs(t-a)?(s=e-r>=0?e-n:e+n,p=t+GMath.randomInt(0,n)):(p=t-a>=0?t-n:t+n,s=e+GMath.randomInt(0,n)),this._distance=GMath.distance(r,a,s,p),this._speed=int(this._distance/320*i/8),this._speed<=0&&(this._speed=2);var l=Math.atan2(p-a,s-r);this._stepx=this._speed*Math.cos(l),this._stepy=this._speed*Math.sin(l);var c=180*Math.atan2(t-p,e-s)/Math.PI;c=this.getRotation(c);var u=this.getRotation(this._impLayer.rotation),d=int(this._distance/this._speed)+1;return void(a>=t&&p>=t?r>=s?this._stepAngle=(u-c)/d:this._stepAngle=-(u+360-c)/d:t>=a&&t>=p?r>=s?this._stepAngle=-(u-c)/d:this._stepAngle=(c+360-u)/d:r>=e&&s>=e?a>=p?this._stepAngle=-(360+u-c)/d:this._stepAngle=(360-u+c)/d:a>=p?this._stepAngle=(360-u+c)/d:this._stepAngle=-(360-c+u)/d)}this._stepAngle=0,this._speed=i;var g=this.towards(this.x,this.y,e,t,n);this._stepx=this._speed*Math.cos(o),this._stepy=this._speed*Math.sin(o),this._distance=GMath.distance(this.x,this.y,g.x,g.y),this._followEnter=3*int(this._distance/this._speed/4),this._followEnter<=0&&(this._followEnter=1),o=180*o/Math.PI,this._impLayer.rotation=this.getRotation(o)}},t.prototype.getRotation=function(e){return 0>e?e+=360:e>360&&(e%=360),e},t.prototype.towards=function(e,t,n,i,r){var a={},o=GMath.distance(e,t,n,i),s=n-e,p=i-t,l=s/o,c=(r+o)/o;l=e+(n-e)*c;var u=p/o;return u=t+(i-t)*c,a.x=~~l,a.y=~~u,a.dis=o,a},t.prototype.update=function(){if(this._impItemVO&&!(this._effectCount<=0)){if(this._enterFrame++,this._followEnter>0&&this._followEnter==this._enterFrame&&(this._followEnter=0,this._count++,this.showFollowCall&&this.showFollowCall.call(this.showFollowThis,this.x,this.y,this._impLayer.rotation,this._count>=this._total)),this._distance<=0)return void this.to(this._tx,this._ty);this._distance-=this._speed,this._impLayer.rotation+=this._stepAngle,this.x+=this._stepx,this.y+=this._stepy,this._tempTime=GApp.timer;for(var e,t,n,i,r,a=this._layerArr.length,o=0;a>o;o++)t=this._impItemVO,i=this._tempTime-this._startTime-t.delay,0>i||(e=this._bmpArr[o],this._frame=int(i/this._playInterval),r=t.length,n=t.ttfs[this._frame%r],n&&(e.texture=n.ttr,e.x=n.offX,e.y=n.offY))}},t.prototype.recycle=function(){e.prototype.recycle.call(this),this._impItemVO=null,this._impLayer=null,this.showFollowCall=null,this.showFollowThis=null},t}(SkillView);__reflect(SkillImpaleOne.prototype,"SkillImpaleOne");var SkillImpaleView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.shoot=function(e,t,n,i,r){var a=AvatarHelp.getDirection8(t,n,i,r);this.x=t,this.y=n,this._sx=t,this._sy=n,this._tx=i,this._ty=r,this.start(e,a,9999,i,r)},t.prototype.QWx=function(e){if(e&&this._key==e.key){if(this._esvo=e.getBySkillByDir(irK.B_B),!this._esvo)return void GObj.$d(this);var t=!1;this._effectArr=[];for(var n=this._esvo.items,i=n.length,r=0;i>r;r++)p=n[r],p&&p.impaleSpeed<=0?this._effectArr.push(p):t=!0;if(t){var a=GObj.$c(SkillImpaleOne);a.showFollowCall=this.showFollow,a.showFollowThis=this,a.setData(e),a.shoot(null,this._sx,this._sy,this._tx,this._ty)}this._effectCount=this._effectArr.length,this.playInterval=e.ftime||0;for(var o,s,p,l=0,r=0;r<this._effectCount;r++)o=this._bmpArr[r],p=this._effectArr[r],o||(o=GObj.$c(GBitmap),this._bmpArr.push(o)),s=this._layerArr[l],s||(s=GObj.$c(egret.DisplayObjectContainer),this._layerArr.push(s)),s.scaleX=p.sx||1,s.scaleY=p.sy||1,s.addChild(o),this.addChild(s),l++;this.scaleX=this._esvo.scaleX||1;for(var c=this._bmpArr.length;c>r;r++)o=this._bmpArr[r],o&&GObj.$d(o);this._bmpArr.length=this._effectCount,this.register()}},t.prototype.showFollow=function(e,t,n,i){void 0===i&&(i=!1),this._startTime=GApp.timer,this.rotation=n+90,this.x=e,this.y=t,this._loopCount=1,this._show=!0,this._over=i},t.prototype.complete=function(){this._show=!1,this._over&&GObj.$d(this)},t.prototype.update=function(){this._show&&e.prototype.update.call(this)},t}(SkillView);__reflect(SkillImpaleView.prototype,"SkillImpaleView");var SkillParabolaView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.shoot=function(e,t,n,i,r,a){var o=AvatarHelp.getDirection8(t,n,i,r-50);this.start(e,o,9999),this.x=t,this.y=n,this._sx=t,this._sy=n,this._tx=i,this._ty=r,this._trail=a;var s=Math.atan2(r-n,i-t),p=.8*GConfig.SHOOT_SPEED*Math.cos(s);this._maxFrame=Math.ceil(Math.abs((i-t)/p)),this._stepx=t+.6*(i-t);var l=Math.abs(.8*(i-t));this._stepy=r>=n?n-l:r-l},t.prototype.update=function(){e.prototype.update.call(this);var t=int((this._tempTime-this._startTime)/16.5);if(t<=this._maxFrame){var n=t/this._maxFrame,i=GEase.bezier(this._sx,this._stepx,this._tx,n),r=GEase.bezier(this._sy,this._stepy,this._ty,n);if(this.x=i,this.y=r,this._trail){var a=this._trail.length,o=int(Math.random()*a*10)%a;SkillAction["do"](this._trail[o],irK.B_B,i,r,this._tx,this._ty)}}else GObj.$d(this)},t.prototype.complete=function(){},t}(SkillView);__reflect(SkillParabolaView.prototype,"SkillParabolaView");var SkillShootView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.shoot=function(e,t,n,i,r){var a=AvatarHelp.getDirection8(t,n,i,r-50);this.start(e,a,9999),this.x=t,this.y=n,this._sx=t,this._sy=n;var o=Math.atan2(r-n,i-t);this._stepx=GConfig.SHOOT_SPEED*Math.cos(o),this._stepy=GConfig.SHOOT_SPEED*Math.sin(o),this._maxFrame=Math.ceil(Math.abs((i-t)/this._stepx)),o=180*o/Math.PI,0>o?o+=360:o>360&&(o%=360),this.rotation=o},t.prototype.update=function(){e.prototype.update.call(this);var t=int((this._tempTime-this._startTime)/16.5);t<=this._maxFrame?(this.x=this._sx+this._stepx*t,this.y=this._sy+this._stepy*t):GObj.$d(this)},t.prototype.complete=function(){},t}(SkillView);__reflect(SkillShootView.prototype,"SkillShootView");var BonesView=function(e){function t(){var t=e.call(this)||this;return t.destory=!1,t}return __extends(t,e),t.prototype.update=function(){},t.prototype.show=function(){this.destory||this._show||(this._show=!0,GApp.avatarLayer.register(this))},t.prototype.hide=function(){this._show&&(this._show=!1,GApp.avatarLayer.unregister(this))},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.addEventListener(HUtJ.COMPLETE,this.__actionCompleteHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.removeEventListener(HUtJ.COMPLETE,this.__actionCompleteHandler,this)},t.prototype.__actionCompleteHandler=function(e){this.play(irK.ACTION_STAND)},Object.defineProperty(t.prototype,"direction8",{get:function(){return irK.R_B},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"footy",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heady",{get:function(){return this.y},enumerable:!0,configurable:!0}),t.prototype.updateData=function(e){},t.prototype.updatePart=function(e,t){void 0===t&&(t=irK.PART_BODY),usable(e)&&(this.source=GConfig.PATH_BONES_BOSS+e)},t.prototype.updateHp=function(){},t.prototype.acrAction=function(){},t.prototype.acrOver=function(){},t.prototype.setAction=function(e){this.play(e,1)},t.prototype.dispose=function(){this.destory||(this.destory=!0,this.hide(),this.parent&&this.parent.removeChild(this))},t}(BonesDisplay);__reflect(BonesView.prototype,"BonesView",["IMonsterView","IAvatarView","egret.DisplayObject"]),egret.DisplayObject.prototype.$getConcatenatedVisible=function(){if(this.$parent){var e=this.$parent.$getConcatenatedVisible();return e&&this.$visible}return this.$visible};var MouseDelegate=function(){function e(){}return e.dispatch=function(t,n,i,r){if(t!=MouseUtJ.ROLL_OVER||!e.currentTarget.isRollOver){if(t==MouseUtJ.ROLL_OVER?e.currentTarget.isRollOver=!0:t==MouseUtJ.ROLL_OUT&&delete e.currentTarget.isRollOver,e.isPC&&e.currentTarget.buttonModeForMouse)try{var a=e.stageObj.$displayList.renderBuffer.surface;t==MouseUtJ.ROLL_OVER?a.style.cursor="pointer":t==MouseUtJ.ROLL_OUT&&(a.style.cursor="auto")}catch(o){}egret.TouchEvent.dispatchTouchEvent(e.currentTarget,t,n,!1,i,r,null)}},e.enable=function(t){e.isPC="Windows PC"==egret.Capabilities.os||"Mac OS"==egret.Capabilities.os,e.stageObj=t,e.isPC&&e.addMouseWheelEvent();var n=0/0,i=0/0,r=egret.sys.TouchHandler.prototype.onTouchMove;egret.sys.TouchHandler.prototype.onTouchMove=function(t,a,o){if(n=t,i=a,r.call(this,t,a,o),e.mouseMoveEnabled){var s=e.stageObj.$hitTest(t,a);s||(s=e.stageObj),egret.TouchEvent.dispatchTouchEvent(s,MouseUtJ.MOUSE_MOVE,!0,!0,t,a,o,!0)}e.check(t,a)};var a=egret.sys.TouchHandler.prototype.onTouchBegin;egret.sys.TouchHandler.prototype.onTouchBegin=function(t,n,i){a.call(this,t,n,i),e.check(t,n)};var o=document.querySelectorAll(".egret-player")[0]["egret-player"],s=o.webTouchHandler.onTouchBegin;o.webTouchHandler.onTouchBegin=function(e){if(2==e.button){var t=o.webTouchHandler.getLocation(e),n=t.x,i=t.y,r=o.webTouchHandler.touch.findTarget(n,i);return void egret.TouchEvent.dispatchTouchEvent(r,MouseUtJ.RIGHT_CLICK,!0,!0,n,i)}s(e)},o.canvas.removeEventListener("mousedown",s),o.canvas.addEventListener("mousedown",o.webTouchHandler.onTouchBegin);var p=!1,l=egret.web.WebTouchHandler.prototype.getLocation;egret.web.WebTouchHandler.prototype.getLocation=function(e){return 0==e.buttons&&(p=!0),l.call(this,e)};var c=egret.sys.TouchHandler.prototype.onTouchEnd;egret.sys.TouchHandler.prototype.onTouchEnd=function(t,r,a){if(p){if(p=!1,n=t,i=r,c.call(this,t,r,a),e.mouseMoveEnabled){var o=e.stageObj.$hitTest(t,r);o||(o=e.stageObj),egret.TouchEvent.dispatchTouchEvent(o,MouseUtJ.MOUSE_MOVE,!0,!0,t,r,a,!0)}}else c.call(this,t,r,a),e.check(t,r)};var u=0;t.addEventListener(egret.Event.ENTER_FRAME,function(){u++,u%2!=0&&0/0!=n&&0/0!=i&&e.check(n,i)},null)},e.check=function(t,n){var i=e.stageObj;if(i){e.currentTarget&&!e.currentTarget.$stage&&(e.dispatch(MouseUtJ.MOUSE_OUT,!0,t,n),e.dispatch(MouseUtJ.ROLL_OUT,!1,t,n),e.currentTarget=null);var r=i.$hitTest(t,n);null!=r&&r!=i?e.currentTarget?r!=e.currentTarget&&(e.dispatch(MouseUtJ.MOUSE_OUT,!0,t,n),e.currentTarget.$getConcatenatedVisible()&&e.currentTarget.hitTestPoint(t,n,!0)||e.dispatch(MouseUtJ.ROLL_OUT,!1,t,n),e.currentTarget=r,e.dispatch(MouseUtJ.ROLL_OVER,!1,t,n),e.dispatch(MouseUtJ.MOUSE_OVER,!0,t,n)):(e.currentTarget=r,e.dispatch(MouseUtJ.ROLL_OVER,!1,t,n),e.dispatch(MouseUtJ.MOUSE_OVER,!0,t,n)):e.currentTarget&&(e.dispatch(MouseUtJ.MOUSE_OUT,!0,t,n),e.dispatch(MouseUtJ.ROLL_OUT,!1,t,n),e.currentTarget=null)}},e.setButtonMode=function(e,t){e.buttonModeForMouse=t},e.setMouseMoveEnabled=function(t){e.mouseMoveEnabled=t},e.addMouseWheelEvent=function(){var t="mousewheel",n=function(t){var n=t.type;("DOMMouseScroll"==n||"mousewheel"==n)&&(t.delta=t.wheelDelta?t.wheelDelta:-(t.detail||0),e.stageObj.dispatchEventWith(MouseUtJ.MOUSE_WHEEL,!1,t.delta))};window.addEventListener?("mousewheel"===t&&void 0!==document.mozFullScreen&&(t="DOMMouseScroll"),window.addEventListener(t,function(e){n(e)},!1)):window.attachEvent&&window.attachEvent("on"+t,function(e){e=e||window.event,n(e)})},e.mouseMoveEnabled=!1,e}();__reflect(MouseDelegate.prototype,"MouseDelegate");var MouseUtJ=function(){function e(){}return e.RIGHT_CLICK="right_click",e.MOUSE_MOVE="mouseMove",e.MOUSE_OVER="mouseOver",e.MOUSE_OUT="mouseOut",e.ROLL_OVER="rollOver",e.ROLL_OUT="rollOut",e.MOUSE_WHEEL="mouseWheel",e}();__reflect(MouseUtJ.prototype,"MouseUtJ");var GSocket=function(){function e(e,t){this.reopenMax=3,this.flag="gs",this.reopenKey=GConst.NULL_STRING,this.autoConnect=!1,this.gameReplcae=!1,this._reopen=0,this._isWrite=!1,this._writeLen=0,this._lastSendTime=9999999,this._reopenTime=1,this.bys=new egret.ByteArray,this._dataCall=e,this._thisObj=t,this._dataCall&&this._thisObj||htg.error("socket not's call"),this._readBys=new egret.ByteArray,this._writeBys=new egret.ByteArray}return e.prototype.sendData=function(e,t,n){void 0===n&&(n=0),htg.log(this.flag+" c2s.code:"+e),this._socket&&this._socket.connected&&(this._isWrite&&htg.log("socket sendData error"),this._lastSendTime=GApp.timer,this._isWrite=!0,this._writeBys.clear(),this._writeStr=JSON.stringify(t),this._writeLen=this.getLength(this._writeStr),this._writeBys.writeShort(e),this._writeBys.writeShort(this._writeLen),this._writeBys.writeUTFBytes(this._writeStr),this._socket.writeBytes(this._writeBys),this._socket.flush(),this._isWrite=!1)},Object.defineProperty(e.prototype,"connected",{get:function(){return this._socket?this._socket.connected:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastSendTime",{get:function(){return this._lastSendTime},enumerable:!0,configurable:!0}),e.prototype.reopen=function(){return usable(this._url)?this._reopen>=this.reopenMax?!1:(this._reopen+=1,this.connectByUrl(this._url+this.reopenKey,!0),!0):!1},e.prototype.connectByUrl=function(e,t){if(void 0===t&&(t=!1),!t){if(this._url===e)return;this._url=e}this._socket&&this.close(),this._socket=new egret.WebSocket,this._socket.type=egret.WebSocket.TYPE_BINARY,this.addEvent(),this._socket.connectByUrl(e)},e.prototype.close=function(){this._socket&&(this.removeEvent(),this._socket.close())},e.prototype.__connectHandler=function(){htg.log(this.flag+".WebSocketOpen");var e;this._reopen&&this._reopen>0&&this.reopenSend&&(e=this.reopenSend),e||(e=this.defSend),e&&(htg.info("codec2s "+e.code+":"+JSON.stringify(e.data)),this.sendData(e.code,e.data)),this._reopenTime=1,this._reopen=0,this._lastSendTime=GApp.timer},e.prototype.__closeHandler=function(){this.gameReplcae||(this.autoConnect?(this._reopenTime=this._reopenTime||1,ClockManager.setTimeout(this.reopen,this,this._reopenTime),this._reopenTime+=5e3):this.closeCall&&this.closeCall.call(this._thisObj),htg.info(this.flag+".WebSocketClose"))},e.prototype.__errorHandler=function(){htg.info(this.flag+".WebSocketError")},e.prototype.__dataHandler=function(e){this._readBys.position=0,this._socket.readBytes(this._readBys);var t=this._readBys.readShort(),n=this._readBys.readShort();if(htg.log(this.flag+" s2c.code:"+t+" len:"+n),0>=n)return void this._dataCall.call(this._thisObj,t,null);var i=this._readBys.readUTFBytes(n),r=JSON.parse(i);this._dataCall.call(this._thisObj,t,r)},e.prototype.addEvent=function(){this._socket&&(this._socket.addEventListener(egret.ProgressEvent.SOCKET_DATA,this.__dataHandler,this),this._socket.addEventListener(egret.Event.CONNECT,this.__connectHandler,this),this._socket.addEventListener(egret.Event.CLOSE,this.__closeHandler,this),this._socket.addEventListener(egret.IOErrorEvent.IO_ERROR,this.__errorHandler,this))},e.prototype.removeEvent=function(){this._socket&&(this._socket.removeEventListener(egret.ProgressEvent.SOCKET_DATA,this.__dataHandler,this),this._socket.removeEventListener(egret.Event.CONNECT,this.__connectHandler,this),this._socket.removeEventListener(egret.Event.CLOSE,this.__closeHandler,this),this._socket.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.__errorHandler,this))},e.prototype.getLength=function(e){return this.bys.clear(),this.bys.writeUTFBytes(e),this.bys.length},e.prototype.connect=function(e,t){},e.prototype.send=function(e){},e.prototype.disconnect=function(){},e.prototype.addCallBacks=function(e,t,n,i,r){},e}();__reflect(GSocket.prototype,"GSocket",["egret.ISocket"]);var BQO=function(){function e(){this._isOpen=!1,this._changeProperties=[],this.open()}return e.prototype.open=function(){this._isOpen||(this.addEvent(),this._isOpen=!0)},e.prototype.close=function(){this._isOpen&&(this.removeEvent(),this._isOpen=!1)},e.prototype.oto=function(e,t){ObjectUtil.oto(e,t)},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.beginChange=function(){for(var e=0;e<this._changeProperties.length;e++)this[e]=this._changeProperties[e]},e.prototype.commitChange=function(){},e}();__reflect(BQO.prototype,"BQO",["IBQO"]);var GObj=function(){function e(){this._poolsList=[],this._classNameDict={},this._objectCount={},this._objLeakEvent={},e._instance||(e._instance=this,this.init())}return e.prototype.init=function(){GConfig.DEBUG&&(onerror=this.errorHandler)},e.prototype.errorHandler=function(e,t,n){var i="Error: "+e+"\n";return i+="URL: "+t+"\n",i+="Line: "+n+"\n\n",htg.error(i),!0},e.start=function(){e._instance||(e._instance=new e)},e.addPools=function(t,n){if(void 0===n&&(n=999),!e._instance)return void htg.warn("");if(!t.prototype||!t.prototype.recycle)return void htg.warn("ICache,");var i=e.getQualifiedClassName(t),r=new ObjectPools(t,i);r.maxSize=n,e._instance._classNameDict[i]=r,e._instance._poolsList.push(r)},e.getQualifiedClassName=function(e){var t=typeof e;if(!e||t!=GConst.TOF_OBJ&&!e.prototype)return t;var n=e.prototype?e.prototype:Object.getPrototypeOf(e);if(n.hasOwnProperty("__class__"))return n.__class__;var i=n.constructor.toString().trim(),r=i.indexOf("("),a=i.substring(9,r);return Object.defineProperty(n,"__class__",{value:a,enumerable:!1,writable:!0}),a},e.removeChildAll=function(e){for(;e.numChildren>0;)e.removeChildAt(0)},e.create=function(t,n){var i=this.getQualifiedClassName(t);if(!i)return htg.error(t+":create object error"),null;var r=e._instance._classNameDict[i];if(r)return r.getObj();var a;a=void 0!==n?new t(n):new t;var o=e._instance._objectCount[i]||0;return e._instance._objectCount[i]=o+1,a},e.$recycle=function(t){if(t){var n=t.__htg_pools_name__,i=e._instance._classNameDict[n];return i?(t.recycle(),void i.recycle(t)):void 0}},e.$disposeObject=function(e){if(e){if(e.__htg_pools_name__)return void this.$recycle(e);if(e instanceof Array){for(var t=e.length,n=0;t>n;n++)this.disposeObject(e[n]);return void(e.length=0)}e.parent&&e.parent.removeChild(e),e.dispose&&e.dispose()}},e.$disposeObjectTest=function(t){if(t){this.$disposeObject(t);var n=t.__htg_pools_name__;t.__htg_pools_name__||(n=e.getQualifiedClassName(t));var i=e._instance._objectCount[n]||0;e._instance._objectCount[n]=i-1;var r=vkG.instance._eventDict;if(r){var a;for(var o in r)if(a=r[o])for(var s=0,p=a;s<p.length;s++){var l=p[s];if(l.thisObject===t)return void(e._instance._objLeakEvent[n]=o)}var c=t.$EventDispatcher;if(c)for(var o in c)if(a=c[o])for(var u=0,d=a;u<d.length;u++){var l=d[u];if(l.thisObject===t)return void(e._instance._objLeakEvent[n]=o)}}}},e.$testObj=function(){this.disposeObject=this.$disposeObjectTest},e.disposeObject=e.$disposeObject,e.$d=e.$disposeObject,e.$c=e.create,e}();__reflect(GObj.prototype,"GObj");var ObjectPools=function(){function e(e,t){this._class=null,this._className=null,this._cacheList=[],this._cacheLength=0,this._maxSize=999,e||htg.warn("ObjectPools.constructor"),this._class=e,this._className=t}return Object.defineProperty(e.prototype,"maxSize",{get:function(){return this._maxSize},set:function(e){this._maxSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),e.prototype.getObj=function(){var e;return this._cacheLength>0?(e=this._cacheList.shift(),this._cacheLength--,e.__htg__recycle__=!1,e):(e=new this._class,e.__htg_pools_name__=this._className,e)},e.prototype.recycle=function(e){if(e&&!(this._cacheLength>=this._maxSize)){if(e.__htg__recycle__)return void htg.error("repetition recycle object:"+this._className);e.__htg__recycle__=!0,this._cacheList.push(e),this._cacheLength++}},e}();__reflect(ObjectPools.prototype,"ObjectPools");var GBitmap=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.recycle=function(){this.texture=null,this.rotation=0,this.scaleX=1,this.scaleY=1,this.parent&&this.parent.removeChild(this)},t}(egret.Bitmap);__reflect(GBitmap.prototype,"GBitmap",["ICache"]);var AvatarHelp=function(){function e(){}return e.getDirection8=function(t,n,i,r){var a=GMath.angle(t,n,i,r);return e.angle2direction(a)},e.angle2direction=function(e){var t=irK.B_B;return e>=260&&280>e?t=irK.T_T:e>=280&&350>e?t=irK.R_T:e>=350||20>e?t=irK.R_R:e>=20&&80>e?t=irK.R_B:e>=80&&100>e?t=irK.B_B:160>e&&e>=100?t=irK.L_B:190>e&&e>=160?t=irK.L_L:260>e&&e>=190&&(t=irK.L_T),t},e.reverseDirection8=function(e){var t=.5*irK.DIR_NUM;return e>t?e-t:e+t},e.direction2res=function(e){return e==irK.L_B?irK.R_B:e==irK.L_L?irK.R_R:e==irK.L_T?irK.R_T:e},e.direction2mirror=function(e){return e>=irK.L_T?-1:1},e}();__reflect(AvatarHelp.prototype,"AvatarHelp");var AvatarSheetVO=function(){function e(){this.ttfs=[]}return e.prototype.recycle=function(){this.key=null,this.jsonObj=null,this.ttfs&&(GObj.$d(this.ttfs),this.ttfs.length=0),GObj.$d(this.pngLvo),this.pngLvo=null,GObj.$d(this.jsonLvo),this.jsonLvo=null
},e}();__reflect(AvatarSheetVO.prototype,"AvatarSheetVO",["ICache"]);var AvatarHandler=function(){function e(e){this._paths=[],this._speed=3,this._tox=-1,this._toy=-1,this._actionOver=!0,this._tempx=0,this._tempy=0,this._distance=0,this._onaction=!1,this._avo=e,this.init()}return e.prototype.init=function(){this.speed=this._avo.speed,this._avatar=GObj.$c(AvatarView),this._avatar.x=this._avo.x,this._avatar.y=this._avo.y,this._avatar.updatePart(this._avo.model)},e.prototype.start=function(){this._start||(this._start=!0,GApp.enterFrameMgr.registeEnterFrame(this.update,this))},e.prototype.stop=function(){this._start&&(this._start=!1,GApp.enterFrameMgr.unRegisteEnterFrame(this.update,this))},Object.defineProperty(e.prototype,"type",{get:function(){return this._avo?this._avo.type:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionOverFunc",{set:function(e){this._actionOverHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"avatar",{get:function(){return this._avatar},enumerable:!0,configurable:!0}),e.prototype.update=function(){if(!this._onaction)if(this._distance>0)this.playWalk();else if(this._paths&&this._paths.length>0){var e=this._paths.shift();this.toPoint(e)}else this._actionOver||this.actionOver()},e.prototype.setAnglePath=function(e,t){this._tempAngle=e,this._distance=t,this._stepx=this._speed*Math.cos(this._tempAngle),this._stepy=this._speed*Math.sin(this._tempAngle),this._tempx=this.x,this._tempy=this.y,this._tempAngle=180*this._tempAngle/Math.PI,this._tempAngle<0&&(this._tempAngle+=360),this._avatar.direction8=AvatarHelp.angle2direction(this._tempAngle),this.playWalk()},Object.defineProperty(e.prototype,"paths",{set:function(e){this._paths!=e&&(this._paths=e,this._distance=0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speed",{set:function(e){this._speed!=e&&(this._speed=e)},enumerable:!0,configurable:!0}),e.prototype.toPoint=function(e){if(this._avatar&&e){this._actionOver=!1;var t=e.x||0,n=e.y||0;if(e.a){if(this.acrAction(e.a,t,n))return}else if(e.j)return void this.acrAction(e.j,t,n);if(this._tox=t,this._toy=n,this._distance=GMath.distance(this._tox,this._toy,this._avatar.x,this._avatar.y),this._distance<=0)return void((!this._paths||this._paths.length<=0)&&this.actionOver());this.setAction(irK.ACTION_WALK),this._tempAngle=Math.atan2(this._toy-this._avatar.y,this._tox-this._avatar.x),this.setAnglePath(this._tempAngle,this._distance)}},e.prototype.setAction=function(e){this._avatar&&this._avatar.setAction(e)},e.prototype.acrAction=function(e,t,n){return this._onaction=!0,!1},e.prototype.acrOver=function(){this._onaction=!1,this._avatar&&this._avatar.acrOver()},e.prototype.playWalk=function(){return!this._avatar||this._distance<=0?void 0:(this._tempx+=this._stepx,this._tempy+=this._stepy,this._avatar.x=this._tempx,this._avatar.y=this._tempy,this._distance-=this._speed,this._distance<=0?void(this._distance=0):void 0)},e.prototype.actionOver=function(){this._onaction=!1,this._actionOver=!0,this.setAction(irK.ACTION_STAND),this._actionOverHandler&&this._actionOverHandler.execute()},Object.defineProperty(e.prototype,"x",{get:function(){return this._avatar?this._avatar.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._avatar?this._avatar.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this._avatar&&(this._avo.x=this._avatar.x,this._avo.y=this._avatar.y),this._avo},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.stop(),this._actionOverHandler=null,GObj.$d(this._avatar),this._avatar=null,GObj.$d(this._avo),this._avo=null},e}();__reflect(AvatarHandler.prototype,"AvatarHandler");var AvatarVO=function(){function e(){this.speed=3,this.dir8=1}return Object.defineProperty(e.prototype,"model",{get:function(){return this._model},set:function(e){this._model=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSyn",{get:function(){return!0},enumerable:!0,configurable:!0}),e}();__reflect(AvatarVO.prototype,"AvatarVO");var EffectItemVO=function(){function e(){this.delay=0,this.x=0,this.y=0,this.angle=0,this.sx=1,this.sy=1,this.below=!1,this.movey=0,this.movex=0,this.time=0,this.anchorCenter=!1,this.follow=!1,this.impaleDis=0,this.impaleSpeed=0,this.ttfs=[],this._length=0}return Object.defineProperty(e.prototype,"length",{get:function(){return this._length<=0&&(this._length=this.ttfs.length),this._length},enumerable:!0,configurable:!0}),e}();__reflect(EffectItemVO.prototype,"EffectItemVO");var EffectSheetData=function(){function e(){this.$eff={},this.$res={}}return e.prototype.getBySkillByDir=function(e){var t=GConst.EFF+e;if(this.$eff[t])return this.$eff[t];if(e==irK.L_T){if(this.$eff[GConst.EFF+irK.R_T])return this.copyMirror(this.$eff[GConst.EFF+irK.R_T],t)}else if(e==irK.L_L){if(this.$eff[GConst.EFF+irK.R_R])return this.copyMirror(this.$eff[GConst.EFF+irK.R_R],t)}else if(e==irK.L_B&&this.$eff[GConst.EFF+irK.R_B])return this.copyMirror(this.$eff[GConst.EFF+irK.R_B],t);return this.$eff[GConst.EFF+irK.B_B]},e.prototype.copyMirror=function(e,t){var n=GObj.$c(EffectSheetVO);return n.angle=e.angle,n.scaleX=-1,n.items=e.items,n.belowList=e.belowList,n},e}();__reflect(EffectSheetData.prototype,"EffectSheetData");var EffectSheetVO=function(){function e(){this.angle=0,this.scaleX=1,this.items=[],this.belowList=[]}return e.prototype.format=function(){if(this.items){var e=this.items.length;if(!(0>=e)){var t=this.items;this.items=[];for(var n=0,i=t;n<i.length;n++){var r=i[n];r.below?this.belowList.push(r):this.items.push(r)}}}},e}();__reflect(EffectSheetVO.prototype,"EffectSheetVO");var SheetVO=function(){function e(){this.offX=0,this.offY=0}return e}();__reflect(SheetVO.prototype,"SheetVO");var FigureBattlePart=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(AvatarPart);__reflect(FigureBattlePart.prototype,"FigureBattlePart");var FigureBattleView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),GApp.enterFrameMgr.registeEnterFrame(this.update,this)},t.prototype.createPart=function(e){return void 0===e&&(e=irK.PART_BODY),GObj.$c(FigureBattlePart)},t.prototype.updatePart=function(t,n){void 0===n&&(n=irK.PART_BODY),e.prototype.updatePart.call(this,t,n);var i=this._partDict[n];i&&(i.action=irK.ACTION_STAND,i.direction=this._direction5)},t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype.dispose=function(){GApp.enterFrameMgr.unRegisteEnterFrame(this.update,this)},t}(AvatarView);__reflect(FigureBattleView.prototype,"FigureBattleView");var FigurePart=function(e){function t(t){var n=e.call(this)||this;return n._model=null,n._frame=0,n.frameSize=0,n.startTime=0,n.touchEnabled=!1,n._part=t,n}return __extends(t,e),Object.defineProperty(t.prototype,"part",{get:function(){return this._part},set:function(e){this._part=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{set:function(e){if(this._model!=e){if(this._model=e,this.startTime=GApp.timer,this.frameSize=0,this._key&&GApp.avatarCache.delCache(this._key),!usable(this._model))return void(this.frameSize=0);this._key=GConfig.PATH_FIGURE+this._model+GConst.STR_DIR+this._part+irK.ACTION_STAND,GApp.avatarCache.addCache(this._key),GApp.avatarCache.getAvatarSheet(this._key,this.QWx,this)}},enumerable:!0,configurable:!0}),t.prototype.QWx=function(e){this._key==e.key&&(this._asvo=e,this.frameSize=e.ttfs.length)},Object.defineProperty(t.prototype,"frame",{set:function(e){if(this._frame=e,this.frameSize<=0)return void(this.texture=null);if(!this._asvo.jsonObj)return void htg.warn("avatar part json null");this._frame=~~(this._frame%this.frameSize);var t=this._asvo.jsonObj.frames[this._frame];t&&(this.texture=this._asvo.ttfs[this._frame],this.x=-t.ox,this.y=-t.oy)},enumerable:!0,configurable:!0}),t.prototype.recycle=function(){this._key&&AvatarSheetCache.instance.delCache(this._key),this.frameSize=0,this._model=null,this._key=null,this._asvo=null,this.texture=null,this.parent&&this.parent.removeChild(this)},t}(egret.Bitmap);__reflect(FigurePart.prototype,"FigurePart",["ICache"]);var FigureView=function(e){function t(){var t=e.call(this)||this;return t._frame=0,t._startTime=0,t._tempTime=0,t.init(),t}return __extends(t,e),t.prototype.init=function(){this.touchChildren=this.touchEnabled=!1,this._partDict={},GApp.enterFrameMgr.registeEnterFrame(this.update,this)},t.prototype.updatePart=function(e,t){if(!(irK.FIGURE_LAYER.indexOf(t)<0))if(usable(e)){var n=this._partDict[t];if(!n){n=this.getNewPart(),n.part=t,this._partDict[t]=n,this._firstPart||(this._firstPart=n);for(var i,r=irK.FIGURE_LAYER.length,a=0;r>a;a++)i=this._partDict[irK.FIGURE_LAYER[a]],i&&this.addChild(i)}n.model=e}else{var o=this._partDict[t];if(GObj.$recycle(o),delete this._partDict[t],this._firstPart===o){this._firstPart=null;for(var s in this._partDict){this._firstPart=this._partDict[s];break}}}},t.prototype.getNewPart=function(){return GObj.$c(FigurePart)},t.prototype.update=function(){if(this._firstPart&&!(this._firstPart.frameSize<=0)){this._tempTime=GApp.timer,this._frame=(this._tempTime-this._firstPart.startTime)/GConfig.PLAY_FIGURE_INTERVAL;for(var e in this._partDict)this._partDict[e].frame=this._frame}},t.prototype.dispose=function(){GApp.enterFrameMgr.unRegisteEnterFrame(this.update,this);for(var e in this._partDict)GObj.$recycle(this._partDict[e]);this._partDict=null,this._firstPart=null,this.parent&&this.parent.removeChild(this)},t}(egret.DisplayObjectContainer);__reflect(FigureView.prototype,"FigureView");var BitmapUtil=function(){function e(){}return e.drawToTexture=function(e,t){var n;if(e instanceof egret.Bitmap)n=e.texture;else{if(!(e instanceof egret.Texture))return null;n=e}var i=GObj.$c(egret.Texture);return i.$bitmapData=n.$bitmapData,i.$initData(n.$bitmapX+t.x,n.$bitmapY+t.y,t.width,t.height,0,0,t.width,t.height,n.$sourceWidth,n.$sourceHeight),i},e.setBitmapWH=function(e,t,n){e&&e.texture&&(t&&(e.texture.$bitmapWidth=t),n&&(e.texture.$bitmapHeight=n),e.$refreshImageData(),e.$renderDirty=!0)},e}();__reflect(BitmapUtil.prototype,"BitmapUtil");var GEase=function(){function e(){}return e.easing=function(e,t,n){return void 0===n&&(n=.3),(t-e)*n},e.spring=function(e,t,n,i,r){return n+=(t-e)*i,n*=r},e.bezier=function(e,t,n,i){var r=(1-i)*(1-i)*e+2*i*(1-i)*t+i*i*n;return r},e}();__reflect(GEase.prototype,"GEase");var GMath=function(){function e(){}return e.angle=function(e,t,n,i){var r=Math.atan2(i-t,n-e);return r=180*r/Math.PI,0>r&&(r+=360),r},e.sin=function(e){return this.toFixed(Math.sin(Math.PI/180*e),4)},e.cos=function(e){return this.toFixed(Math.cos(Math.PI/180*e),4)},e.distance=function(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},e.towards=function(t,n,i,r,a,o){void 0===o&&(o=!1);var s=o?-1:1,p={x:0,y:0},l=e.distance(t,n,i,r),c=i-t,u=r-n,d=c/l;d=i-d*a*s;var g=u/l;return g=r-g*a*s,p.x=~~d,p.y=~~g,p.dis=l,p},e.random=function(e,t){if(e>t)return e;var n=e+Math.random()*(t-e);return n},e.randomInt=function(e,t){if(e>t)return e;var n=e+Math.random()*(t-e);return Math.round(n)},e.randowFake=function(e,t,n,i){var r=(n*e+i)%t+1;return r},e.rate=function(e){return e>=this.random(0,100)},e.toFixed=function(e,t){for(var n=10,i=1;t>i;i++)n*=10;return~~(e*n)/n},e.rectContains=function(e,t,n){return n.x<=e&&n.x+n.width>=e&&n.y<=t&&n.y+n.height>=t},e.getGlobal=function(e){var t={x:0,y:0};if(!e||!e.parent||!e.stage)return t;var n=e.stage;for(t.x=e.x,t.y=e.y;e.parent;){if(e=e.parent,e==n)return t;t.x+=e.x,t.y+=e.y}return t},e}();__reflect(GMath.prototype,"GMath");var fvg=function(){function e(){htg.warn("new")}return e.init=function(e){this._cacheObj||(this._cacheObj=e)},e.GVf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._cacheObj)return GConst.NULL_STRING;var i=this._cacheObj[e];if(!i)return i;var r=t.length;if(0>=r)return i;for(var a=0;r>a;++a)i=i.replace(/\{\}/i,t[a]);return i},e.GVfByKey=function(e,t){if(!this._cacheObj)return GConst.NULL_STRING;var n=this._cacheObj[e],i=typeof n;return n&&i==GConst.TOF_OBJ?n[t]:GConst.NULL_STRING},e._instance=null,e.LANGUAGE="zh_cn",e._cacheObj=null,e}();__reflect(fvg.prototype,"fvg");var ObjectUtil=function(){function e(){}return e.oto=function(e,t){for(var n in e)t[n]=e[n]},e.clearObjectKey=function(e){if(e)for(var t in e)delete e[t]},e}();__reflect(ObjectUtil.prototype,"ObjectUtil");var RRUU=function(){function e(){}return e.getSkinPath=function(e){return GConfig.PATH_SKINS_UI+e+FileConst.exml},e.getEuiSkinPath=function(e){return GConfig.PATH_SKINS+e+FileConst.exml},e.$s=e.getSkinPath,e.$e=e.getEuiSkinPath,e}();__reflect(RRUU.prototype,"RRUU");var TextUtil=function(){function e(){}return e.measureText=function(e){return e?egret.sys.measureText(e.text,e.fontFamily,e.size-egret.TextField.offset_size,e.bold,e.italic):0},e}();__reflect(TextUtil.prototype,"TextUtil");var UrlUtil=function(){function e(){}return e.getTypeByUrl=function(e){var t=e.substr(e.lastIndexOf(".")+1);t&&(t=t.toLowerCase());var n;switch(t){case RES.ResourceItem.TYPE_XML:case RES.ResourceItem.TYPE_JSON:case RES.ResourceItem.TYPE_SHEET:n=t;break;case"png":case"jpg":case"gif":case"jpeg":case"bmp":n=RES.ResourceItem.TYPE_IMAGE;break;case"fnt":n=RES.ResourceItem.TYPE_FONT;break;case"txt":n=RES.ResourceItem.TYPE_TEXT;break;case"mp3":case"ogg":case"mpeg":case"wav":case"m4a":case"mp4":case"aiff":case"wma":case"mid":n=RES.ResourceItem.TYPE_SOUND;break;default:n=RES.ResourceItem.TYPE_BIN}return n},e}();__reflect(UrlUtil.prototype,"UrlUtil");var __reflect=this&&this.__reflect||function(e,t,n){e.__class__=t,n?n.push(t):n=[t],e.__types__=e.__types__?n.concat(e.__types__):n},__extends=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n},__assign=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;i>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},__decorate=this&&this.__decorate||function(e,t,n,i){var r,a=arguments.length,o=3>a?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(3>a?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},BaseUI=function(e){function t(t){var n=e.call(this)||this;return n.skinComplete=!1,n.ok=!1,n._destory=!1,n._id=t,n.once(egret.Event.COMPLETE,n.__skinCompleteHandler,n),n}return __extends(t,e),t.prototype.$parseSkinName=function(){var n=this.skinName,i=this.__class__;if(!t.checked[i]){if("string"==typeof n&&n.indexOf("<e:Skin")>=0)throw new Error(i+": ");t.checked[i]=!0}e.prototype.$parseSkinName.call(this)},t.prototype.__skinCompleteHandler=function(e){var t=this;t.skinComplete=!0,t.init()},t.prototype.init=function(){var e=this;if(e.skinComplete){if(e.ok=!0,e._destory)return void e.dispose();e.initView(),e.initEvent(),e.initData()}},t.prototype.initView=function(){},t.prototype.initEvent=function(){},t.prototype.initData=function(){},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CSo",{get:function(){return this.ok},enumerable:!0,configurable:!0}),t.prototype.showFun=function(e){},Object.defineProperty(t.prototype,"destory",{get:function(){return this._destory},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;e._destory=!0,e.removeEventListener(egret.Event.COMPLETE,e.__skinCompleteHandler,e),e.dispatchEvent(new egret.Event(UtJ.ST)),e.parent&&e.parent.removeChild(e)},t.checked={},t}(eui.Component);__reflect(BaseUI.prototype,"BaseUI",["IBaseUI","eui.UIComponent","egret.DisplayObject"]);var BaseFrame=function(e){function t(t){var n=e.call(this,t)||this;return n._tempContent=[],n.verticalCenter=0,n.horizontalCenter=0,App.PD&&App.PD.playFrame(SoundIds.QB),n}return __extends(t,e),t.prototype.initData=function(){var e=this;if(e.frameGroup){e.frameGroup.frameid=e.id;for(var t=e._tempContent.length,n=0;t>n;n++)e.frameGroup.addChild(e._tempContent[n]);e._tempContent.length=0,e.addEffect()}},t.prototype.removeEvent=function(){},t.prototype.addEffect=function(){},Object.defineProperty(t.prototype,"title",{set:function(e){var t=this;t.xb!=e&&(t.xb=e,t.frameGroup&&(t.frameGroup.titleX=void 0,t.frameGroup.titleY=void 0,t.frameGroup.title=e))},enumerable:!0,configurable:!0}),t.prototype.removeChild=function(e){var t=this,n=t.$children.indexOf(e);return n>=0?t.$doRemoveChild(n):e&&e.parent?void e.parent.removeChild(e):(htg.warn("not child"),null)},t.prototype.addChild=function(e){var t=this;return t.frameGroup?t.frameGroup.addChild(e):(t._tempContent.push(e),null)},Object.defineProperty(t.prototype,"topBarVisible",{set:function(e){var t=this;t.frameGroup&&(t.frameGroup.topBarVisible=e)},enumerable:!0,configurable:!0}),t.prototype.showFrame=function(){var e=this;return QycO.YV&&e.frameGroup&&e.frameGroup.frameType!==KqZ.NW&&FrameBgLayer.instance.show(),App.FT.frameuiLayer.addChild(e),!1},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.dispose=function(){var t=this;QycO.YV&&t.frameGroup&&t.frameGroup.frameType!==KqZ.NW&&FrameBgLayer.instance.hide(),GObj.$d(t.frameGroup),t.frameGroup=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BaseFrame.prototype,"BaseFrame",["IBaseFrame","IData"]);var BattleScene=function(e){function t(){var t=e.call(this)||this;return t._cx=0,t._cy=0,t}return __extends(t,e),t.prototype.enter=function(e,t){this._mapData=e,this._mapId=e.mapId,this._resId=this._mapId,e.resId&&(this._resId=e.resId),this._mapW=e.w,this._mapH=e.h,this._type=e.type||1,this.stop(),this.createScene(),this.addEvent(),alvJ.instance.sceneLayer.addChild(this)},t.prototype.createScene=function(){this._bgLayer=new BgLayer(this._resId,this._mapW,this._mapH),this.addChild(this._bgLayer),App.VV.toParent=this,this.initBuffer(),this.initObiter(),this.initPlayer(),this._battleObiter.playerHandler=this.Ljd,this.initRobot()},t.prototype.initBuffer=function(){App.SMF.updateSceneBuffer(this._type)},t.prototype.initObiter=function(){var e=App.UY.getObiterClz(this._type);this._battleObiter=GObj.$c(e),this._battleObiter.start(this._mapData,this)},t.prototype.exit=function(){this._battleObiter&&this._battleObiter.exit()},Object.defineProperty(t.prototype,"type",{get:function(){return this._battleObiter?this._battleObiter.type:this._type},enumerable:!0,configurable:!0}),t.prototype.start=function(){ClockManager.setTimeout(this.$start,this,500)},t.prototype.$start=function(){if(this._mapData&&this._mapData.eff)switch(this._mapData.eff){case 1:var e=GObj.$c(MapBattleEnterEffect);e.show(this.run,this);break;case 2:if(7==this._mapData.type){var t=GObj.$c(MapBossChapterEffect);t.show(this.run,this)}else{var t=GObj.$c(MapBossEnterEffect);t.show(this.run,this)}break;default:this.run()}else this.run()},t.prototype.run=function(){this._dis||(this._battleObiter&&this._battleObiter.start(this._mapData,this),this._stop=!1,this.actionOverHandler())},t.prototype.initRobot=function(){this._mapData&&this._mapData.robot&&(this._robotObiter||(this._robotObiter=GObj.$c(MapRobotObiter)),this._robotObiter.setBattleObiter(this._battleObiter),this._robotObiter.start(this._mapData.role.nodes,this._mapData.robot))},t.prototype.initPlayer=function(){var e;App.BG.playerHandler?(this.Ljd=App.BG.playerHandler,this.Ljd.reset(),e=this.Ljd.data):(e=GObj.$c(RoleVO),e.uid=App.BG.jkU.uid,e.x=986,e.y=1943,e.speed=StaticData.ROLE_SPEED,e.sex=App.KF.sex,e.model=App.KF.b,e.w=App.KF.w,e.c=App.KF.c,e.within=App.KF.within,e.apid=App.KF.apid,e.fid=App.KF.fid||0,e.duty=App.KF.duty||0,e.fgrade=App.KF.fgrade||0,e.name=App.KF.name,e.attr=App.BG.playerAttrsInfo,e.attr.atk=e.attr.atk||888,e.fere=App.KF.fere,e.rare=App.KF.rare,e.pet=App.KF.pet,this.Ljd=App.BG.playerHandler=GObj.$c(PlayerHandler,e)),this.Ljd.mapType=this._type,e.attr.buffs=App.SMF.getBuffAttrByMapType(this._type),e.attr.ograde=App._B.ograde;var t=this._mapData.role.nodes[0];t.paths[0]&&this.Ljd.initPos(t.paths[0].x,t.paths[0].y),this.Ljd.actionOverFunc=Handler.create(this,this.actionOverHandler),this.moveMap()},Object.defineProperty(t.prototype,"obiter",{get:function(){return this._battleObiter},enumerable:!0,configurable:!0}),t.prototype.actionOverHandler=function(){this._stop||this._battleObiter.actionNext()},t.prototype.moveMap=function(){if(this.Ljd&&this.Ljd.avatar){var e=this.Ljd.avatar.x,t=this.Ljd.avatar.y;this.moveCamera(e,t)}},t.prototype.moveCamera=function(e,t){if(this._cx!=e||this._cy!=t){this._cx=e,this._cy=t;var n=e-hCs.cameraX,i=t-hCs.cameraY;0>n?n=0:n+hCs.stageWidth>this._mapW&&(n=this._mapW-hCs.stageWidth),0>i?i=0:i+hCs.stageHeight>this._mapH&&(i=this._mapH-hCs.stageHeight),this.x=-n,this.y=-i,this._bgLayer.updateCamera(n,i)}},t.prototype.__chapterUpdateHandler=function(){if(1==this.type){var e=App.UY.getMapIdByChapter();this._mapId!=e&&App.UY.enterChapter()}},t.prototype.addEvent=function(){Nvm.instance.registeEnterFrame(this.__enterFrameHandler,this),vkG.$a(UtJ.JD,this.__chapterUpdateHandler,this)},t.prototype.removeEvent=function(){Nvm.instance.unRegisteEnterFrame(this.__enterFrameHandler,this),vkG.$r(UtJ.JD,this.__chapterUpdateHandler,this)},t.prototype.__enterFrameHandler=function(){this.moveMap(),App.VV.update(),this._battleObiter&&this._battleObiter.update()},t.prototype.dispose=function(){this._dis||(this._dis=!0,this.removeEvent(),App.VV.clear(),GObj.$d(this._bgLayer),this._bgLayer=null,GObj.$d(this._battleObiter),this._battleObiter=null,GObj.$d(this._robotObiter),this._robotObiter=null,this.Ljd&&(this.Ljd.dispose(),this.Ljd=null),this.parent&&this.parent.removeChild(this))},t}(BaseScene);__reflect(BattleScene.prototype,"BattleScene");var BattleAvatarView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.updateHp=function(){},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected!=e&&(this._selected=e,e?(this._selectedBmp||(this._selectedBmp=GObj.$c(egret.Bitmap),this._selectedBmp.texture=RES.getRes("game_json.foe_selected_png"),this._selectedBmp.x=.5*-this._selectedBmp.width,this._selectedBmp.y=.5*-this._selectedBmp.height),this._selectedBmp.parent||this.addChildAt(this._selectedBmp,0)):this._selectedBmp&&this._selectedBmp.parent&&this._selectedBmp.parent.removeChild(this._selectedBmp))},enumerable:!0,configurable:!0}),t.prototype.updateDie=function(){this._bodyPart.action==irK.ACTION_DIE&&this.update()},t}(AvatarView);__reflect(BattleAvatarView.prototype,"BattleAvatarView");var VJn=function(e){function t(t){var n=e.call(this,t)||this;return n._die=!1,n._waitEndTime=0,n._bruiseTime=0,n._avatar.setAction(irK.ACTION_STAND),n}return __extends(t,e),t.prototype.init=function(){this.speed=this._avo.speed,this._avatar=GObj.$c(NpcView),this._avatar.x=this._avo.x,this._avatar.y=this._avo.y,this._avatar.updateData(this._avo),this._avatar.updatePart(this._avo.model),this._avatar.setAction(irK.ACTION_STAND),this._avatar.direction8=irK.R_B,this.start(),this.showEffect()},t.prototype.showEffect=function(){this._avatar.show()},t.prototype.update=function(){e.prototype.update.call(this),this._bruiseTime>0&&GApp.timer>this._bruiseTime&&(this._bruiseTime=0,this.$bruise()),this._waitEndTime>0&&GApp.timer>this._waitEndTime&&(this._waitEndTime=0,this.actionOver())},t.prototype.attack=function(e){return null==this._attackVo&&(this._attackVo=GObj.$c(AttackVO)),this._attackVo},t.prototype.bruise=function(e){if(!this._avatar||!this._avo||this._die)return null;!this._damageVo&&(this._damageVo=GObj.$c(DamageVO));var t,n=512,i=0,r=0;if(!this._param&&(this._param={}),5!=this._type){if(t=e.skill&&e.skill.bigSkill,!t&&App.JP.isDodge(e.atkAttr,this._avo.attr)){var a=GMath.towards(e.atkx,e.atky,this._avatar.x,this._avatar.y,80,!0);return DamageAction["do"](1,0,this._avatar.x,this._avatar.y-120,a.x,a.y-120),null}this._param.senior=0,this._param.isfwboss=App.UY.isFamilyWarBoss(this._type),(!t&&App.JP.isCrit(e.atkAttr,this._avo.attr,e.pasAttr,e.skill)||t&&App.JP.bigSkillCrit(e.atkAttr))&&(n=2,i|=1),t||(App.JP.isExCrit(e.atkAttr,this._avo.attr)&&(n=4,i|=2),App.JP.isExcell(e.atkAttr,this._avo.attr)&&(n=65536,i|=32),App.JP.isFoucs(e.atkAttr,this._avo.attr)&&(n=131072,i|=64),App.UY.isPvPScene(this._type)?(App.JP.isSpike(e.atkAttr,e.atkAttr.spikeTime)&&(e.atkAttr.spikeTime=GApp.timer,e.atkAttr.lfh&&(r|=1),e.atkAttr.lh&&(r|=2),App.JP.isSpikeCrit(e.atkAttr)&&(r|=4)),App.JP.isLgnore(this._avo.attr,e.atkAttr.lgnoreTime)&&(e.atkAttr.lgnoreTime=GApp.timer,this._avo.attr.it&&(r|=8),App.JP.isLgnoreCrit(this._avo.attr)&&(r|=16)),App.JP.isLgnoreAny(e.atkAttr,this._avo.attr)&&(r|=32),App.JP.isRuneBodyCare(e.atkAttr,this._avo.attr,this._avo.attr.runeBodyCareTime)?(this._avo.attr.runeBodyCareTime=GApp.timer,r|=64,this._runeBodyCareCount=this._avo.attr.bpt||0):this._runeBodyCareCount>0&&(r|=64,this._runeBodyCareCount--),App.JP.isEvcardproPvp(e.atkAttr,this._avo.attr)&&(r|=128),this._param.senior=App.JP.seniorDamage(e.atkAttr,this._avo.attr)):(e.spur&&(i|=8),this._param.isboss&&App.JP.isEvcardproPve(e.atkAttr,e.atkAttr.evcardPveTime,this._param.isfwboss)&&(e.atkAttr.evcardPveTime=GApp.timer,i|=16))),this._param.iscrit=i,this._param.isspike=r,t?this._damageVo=App.JP.bigSkilldamage(this._damageVo,e.atkAttr,this._avo.attr,this._param,e.skill):this._damageVo=App.JP.damageCreate(this._damageVo,e.atkAttr,this._avo.attr,this._param,e.skill)}else this._damageVo.fere=0,this._damageVo.v=1,this._damageVo.r=0;return this._damageVo.t=this._avo.type,this._damageVo.id=this._avo.id,this._damageVo.c=this._damageVo.c|i,this._damageVo.atkvo=e,this._damageVo.s=r,this._damageVo.ax=e.atkx,this._damageVo.ay=e.atky,this._damageVo.tx=this._avatar.x,this._damageVo.ty=this._avatar.y,this.countDamage(this._damageVo),e.skillaction&&e.skillaction.bruiseDelay>0?this._bruiseTime=GApp.timer+e.skillaction.bruiseDelay:this.$bruise(),this._damageVo},t.prototype.$bruise=function(){if(this._avatar&&this._avo&&this._damageVo&&this._damageVo.atkvo){var e=this._damageVo,t=this._damageVo.atkvo;t.skillaction&&t.skillaction.bruise&&SkillAction["do"](t.skillaction.bruise,AvatarHelp.reverseDirection8(this._avatar.direction8),this._avatar.x,this._avatar.footy),this.showDamage(e,t)}},Object.defineProperty(t.prototype,"isSyn",{get:function(){return 2==this._type||5==this._type?!1:6==this._type?!1:!0},enumerable:!0,configurable:!0}),t.prototype.bruiseSyn=function(e){e&&this._avo&&this._avo.attr&&(this._avo.attr.lefthp=e.l||0)},t.prototype.countDamage=function(e){return this._avo&&this._avo.attr?(this._avo.attr.lefthp-=e.v,this._avo.attr.lefthp<=0?void this.die():void 0):void 0},t.prototype.acrAction=function(e,t,n){if(!this._avatar)return!1;var i=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,t,n);this._avatar.direction8=i;var r;switch(e){case 2:r=irK.ACTION_ROTATE;break;case 3:r=irK.ACTION_HIT;break;case 4:this._avatar.acrAction();case 8:r=irK.ACTION_HIT;break;case 9:r=irK.ACTION_STAND}return r?(this._avatar.setAction(r),this._actionOver=!1,this._onaction=!0,this._battleAction=BattleAction["do"](e,this._avatar,t,n,this.acrOver,this),!0):!1},t.prototype.acrOver=function(){e.prototype.acrOver.call(this),this._battleAction=null},t.prototype.showDamage=function(e,t){if(this._avatar&&this._avo&&e){var n=this._avatar.x,i=this._avatar.y,r=512,a=e.fere||0,o=e.rare||0,s=e.flysword||0,p=e.v||1,l=1,c=1,u=0,d=0;t&&(u=t.atkx,d=t.atky,t.skillaction&&t.skillaction.stage&&t.skillaction.stage>1&&(l=t.skillaction.stage,c=t.skillaction.stageDelay||1)),(1&e.c)>0&&(r=2),(2&e.c)>0&&(r=4),(8&e.c)>0&&(r=8192),(16&e.c)>0&&(r=16384),(32&e.c)>0&&(r=65536),(64&e.c)>0&&(r=131072),(2048&e.c)>0&&(r=2048);var g,v=0,h=0;if(a&&(p-=a,g=GObj.$c(DamageDataVO),g.atkx=u,g.atky=d,DamageAction.delayDo(128,a,n,i-StaticData.DAMAGE_DEFAULT_DISTANCE,v,g),v+=c),o&&(p-=o,g=GObj.$c(DamageDataVO),g.atkx=u,g.atky=d,DamageAction.delayDo(4096,o,n,i-StaticData.DAMAGE_DEFAULT_DISTANCE,v,g),v+=c),s&&(p-=s,g=GObj.$c(DamageDataVO),g.atkx=u,g.atky=d,DamageAction.delayDo(262144,s,n,i-StaticData.DAMAGE_DEFAULT_DISTANCE,v,g),v+=c),l>1){h=int((p||1)/l),1>h&&(h=1);for(var m=0;l>m;m++)g=GObj.$c(DamageDataVO),g.atkx=u,g.atky=d,g.currentStep=m+1,g.totalStep=l,g.delay=c,DamageAction.delayDo(r,h,n,i-StaticData.DAMAGE_DEFAULT_DISTANCE,v,g),v+=c}else{var g=GObj.$c(DamageDataVO);g.atkx=u,g.atky=d,g.currentStep=1,g.totalStep=1,DamageAction["do"](r,p,n,i-StaticData.DAMAGE_DEFAULT_DISTANCE,g),c=50,v+=c}if(e.s>0){var f=GMath.towards(n,i,n,i,80,!0),y=150;(1&e.s)>0&&(DamageAction["do"](16,0,n,i-y,f.x,f.y-y),y+=50),(2&e.s)>0&&(DamageAction["do"](8,0,n,i-y,f.x,f.y-y),y+=50),(8&e.s)>0&&(DamageAction["do"](32,0,n,i-y,f.x,f.y-y),y+=50),(32&e.s)>0&&(DamageAction["do"](64,0,n,i-y,f.x,f.y-y),y+=50),(128&e.s)>0&&(DamageAction["do"](32768,p,n,i-y,f.x,f.y-y),y+=50)}}},t.prototype.suckHp=function(e){this._avo&&this._avo.attr&&(this._avo.attr.hpdrainrate<=0||(this._avo.attr.lefthp+=App.JP.suckHp(e,this._avo.attr.hpdrainrate,this._avo.attr.rehprate),this._avo.attr.lefthp>this._avo.attr.maxhp&&(this._avo.attr.lefthp=this._avo.attr.maxhp)))},Object.defineProperty(t.prototype,"selectedFoe",{get:function(){return this._selectedFoe},set:function(e){this._selectedFoe!==e&&(this._selectedFoe=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{set:function(e){this._avatar&&(this._avatar.selected=e)},enumerable:!0,configurable:!0}),t.prototype.die=function(){this._die=!0},Object.defineProperty(t.prototype,"isDie",{get:function(){return this._die},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._avatar&&(this._avo.x=this._avatar.x,this._avo.y=this._avatar.y),this._avo},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),GObj.$d(this._battleAction),this._battleAction=null,this._die=!0,this._selectedFoe=null,this._param=null},t}(AvatarHandler);__reflect(VJn.prototype,"VJn");var BattleAvo=function(e){function t(){var t=e.call(this)||this;return t.showName=!0,t.nodeType=1,t}return __extends(t,e),Object.defineProperty(t.prototype,"isSyn",{get:function(){return 3==this.type?!0:!1},enumerable:!0,configurable:!0}),t}(AvatarVO);__reflect(BattleAvo.prototype,"BattleAvo");var SkillNameView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){},t.prototype.start=function(e,t){this._skillNameBmp&&this._skillNameBmp.texture&&(this._enterFrame=0,this.x=e,this.y=t,this.alpha=.3,this.scaleX=this.scaleY=.7,App.VV.registerEffect(this))},t.prototype.update=function(){this._enterFrame++,this._enterFrame<=10?(this.alpha+=.07,this.scaleX=this.scaleY+=.15):this._enterFrame<=20?(this.y+=1,this.scaleX=this.scaleY-=.13):this._enterFrame<=50?this.y-=2:this._enterFrame<=70?(this.y-=1,this.alpha-=.05):this.dispose()},t.prototype.setName=function(e){e&&(this._skillNameBmp||(this._skillNameBmp=GObj.$c(egret.Bitmap),this.addChild(this._skillNameBmp)),this._skillNameBmp.texture=e,this._skillNameBmp.x=.5*-this._skillNameBmp.width)
},t.prototype.recycle=function(){this._skillNameBmp&&(this._skillNameBmp.texture=null),this.parent&&this.parent.removeChild(this),App.VV.unregisterEffect(this)},t.prototype.dispose=function(){this.recycle()},t}(EffectView);__reflect(SkillNameView.prototype,"SkillNameView");var MapBattleObiter=function(e){function t(){var t=e.call(this)||this;return t._pickupTime=3,t._isend=!1,t._curNode=-1,t._dropIndex=0,t._enterFrame=0,t._isSorted=!1,t}return __extends(t,e),t.prototype.init=function(){if(this._npcList=[],this._monsterList=[],this._dropViewList=[],this._dropList=[],this._dropEliteList=[],this._playerNodes=this._data.role.nodes,this._nodeLen=this._playerNodes.length,this._nodeIndex=0,this._pickupX=0,this._pickupY=0,this._isPickup=!1,this._type=this._data.type||1,this._data&&(GConfig.CAMERA_OFF_X=this._data.cox||0),this._data&&this._data.exit&&!this._exitBar){this._exitBar=GObj.$c(MapExitBar);var e=this._data.exit;typeof e==GConst.TOF_OBJ&&ObjectUtil.oto(e,this._exitBar),this._exitBar.setExitCall(this.exit,this)}this.addEvent()},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){this.Ljd||(this.Ljd=e)},enumerable:!0,configurable:!0}),t.prototype.addEvent=function(){vkG.$a(UtJ.GC,this.__mapDropHandler,this),vkG.$a(UtJ.GM,this.__mapDropFakeHandler,this),vkG.$a(UtJ._Z,this.__mapDropEliteHandler,this),vkG.$a(UtJ.JC,this.__mapResultHandler,this),vkG.$a(UtJ.WBQ,this.__robotInfoHandler,this),vkG.$a(UtJ.F_,this.__pvpResultHandler,this)},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf(31),null,null,this.exit,this)},Object.defineProperty(t.prototype,"failFrame",{get:function(){return 8==this._type?!0:!1},enumerable:!0,configurable:!0}),t.prototype.exit=function(){App.UY.enterChapter(),NpcHpView.instance.hide(),this._data&&7==this._data.type&&(TaskBar.instance.autoTaskState=!1)},t.prototype.__pvpResultHandler=function(e,t){if(void 0===t&&(t=!0),t){if(e&&e.length>0){for(var n=0,i=e;n<i.length;n++){var r=i[n];this._dropList.push({id:r.tid,count:r.count})}return this._pvpWinGoodsList=e,this.dropOnceGoods(this.Ljd.x,this.Ljd.y,0),this._pickupStart=!0,void this.Ljd.pickup()}FightingWinPopUi.QN(e)}else FightingLosePopUi.WT()},t.prototype.__robotInfoHandler=function(e){if(e&&!this._robot){this._robotVo=e;var t=GObj.$c(MapPvpEnterEffect);t.show(null,null);for(var n,i=this._monsterList.length,r=0;i>r;r++)GObj.$d(this._monsterList[r]);n=null,this._monsterList.length=0,this._pickupStart=!0,this.pickupGoods(),this._dropList.length=0}},t.prototype.__mapResultHandler=function(e){ClockManager.setTimeout(this.delayResult,this,1e3,e)},t.prototype.delayResult=function(e){App.MB.resultCamp(e)},t.prototype.update=function(){this._enterFrame++},t.prototype.__mapDropFakeHandler=function(e){for(var t=this._dropList,n=0,i=e.length;i>n;n++){var r=e[n],a={id:r.tid,count:r.count};t.push(a)}var o=this.Ljd.selectedFoe;o&&(this.dropOnceGoods(o.x,o.y,0),ClockManager.setTimeout(this.pickupGoods,this,2e3))},t.prototype.__mapDropHandler=function(e,t){this._dropList.push({id:e,count:t})},t.prototype.__mapDropEliteHandler=function(e,t){if(this._data&&this._data.elite){if(this._dropEliteList.push({id:e,count:t}),!this._monsterList||this._monsterList.length<=0)return;var n=this._monsterList[0];n&&n.setElite(this._data.elite)}else this._dropList.push({id:e,count:t})},t.prototype.toNode=function(e){if(e>=this._nodeLen){if(!this._loop)return void this.Ljd.wait();e%=this._nodeLen}var t=this._playerNodes[e];if(this.Ljd&&t.paths&&(this.Ljd.paths=t.paths.concat(),this.Ljd.nodeEnd()),NpcHpView.instance.hide(),this._data.nodes){var n=this._data.nodes[t.id];if(n){this._curNode=e,this.createNpcs(n.npcs);for(var i,r=this._monsterList.length,a=0;r>a;a++)GObj.$d(this._monsterList[a]);i=null,this._monsterList.length=0,this._isSorted=!1,this.createMonster(n),this.createMapEffect()}}},t.prototype.createMonster=function(e){if(e){var t=e.monsters;if(t){var n=t.length;if(!(0>=n)){if(this._robotVo){var i=t[0];i&&i.paths&&i.paths.length&&(this._robotVo.x=i.paths[0].x||0,this._robotVo.y=i.paths[0].y||0),this._robot=GObj.$c(BattleRobotHandler,this._robotVo);var r=StaticData.BUBBLE_ROBOT;App.XT.vipGrade>=1&&(r=StaticData.BUBBLE_ROBOT1);r.length;return App.KF.chapter<StaticData.HIDE_BASE_CH&&this._robot.updateBubble(r[GMath.randomInt(0,n-1)]),void(this._robotVo=null)}var a=0,o=QycO.OK;e.name&&(o=e.name),e.id&&(a=e.type||1,1==a?MapMsgProxy.L_(e.id):3==a&&MapMsgProxy.PR());for(var s,p,l,c=0;n>c;c++){var i=t[c],u=GObj.$c(MonsterVO);if(u.name=o,u.atkdis=StaticData.NPC_ATTACK_DIS,u.type=2,ObjectUtil.oto(i,u),u.nodeId=e.id,u.nodeType=a,u=this.addBossAppell(u),s=0,i.attr){var d=GObj.$c(DnQ);d.init(),l=XCA.YV(i.attr),d.setAttrTemp(l),s=l.p1||0,u.attr=d}else this.setAttr(u);if(u.isboss&&7==this._type&&u.attr){(!s||0>=s)&&(s=7==this._type?App.JP.getFighting(u.attr.atk,0,u.attr.hp,0,0,0,0,0,0,0,0,0,0,0)||0:App.JP.getFightingByArryTem(u.attr)||0);var g=App.BG.playerAttrsInfo.cap;2e6>=g?g=2*g:g*=g>2e6&&1e7>=g?2+2*(g-2e6)/1e7:4+4*Math.min(1,(g-1e7)/5e7),u.mustwin=s>=g,u.mustcap=s}u.paths&&u.paths.length>0&&(u.x=u.paths[0].x,u.y=u.paths[0].y),p=GObj.$c(MonsterHandler,u),this._monsterList.push(p)}}}}},t.prototype.addBossAppell=function(e){var t=App.KF.chapter;if(t>=StaticData.HIDE_BUBBLE_CH)return e;if(!e||!e.isboss)return e;var n=0;return 7==this._type?n=StaticData.BOSS_MAIN_APPELL[t]:GMath.rate(StaticData.BOSS_APPELL_RATE)&&(t>=15?n=StaticData.BOSS_APPELL15[GMath.randomInt(0,StaticData.BOSS_APPELL15.length)]:t>=3&&(n=StaticData.BOSS_APPELL3[GMath.randomInt(0,StaticData.BOSS_APPELL3.length)])),n&&(e.apid=n),e},t.prototype.createNpcs=function(e){if(e){var t=e.length;if(!(0>=t))for(var n,i,r=0;t>r;r++){n=e[r];var a=GObj.$c(NpcVO);ObjectUtil.oto(n,a),a.paths&&a.paths.length>0&&(a.x=a.paths[0].x,a.y=a.paths[0].y),i=GObj.$c(NpcHandler,a),this._npcList.push(i)}}},t.prototype.createMapEffect=function(){if(1==this._type&&!QycO.NK&&this._monsterList&&!GMath.rate(20)){var e=(this._monsterList.length,GMath.randomInt(1,this._monsterList.length)-1),t=this._monsterList[e];if(t){var n=t.x,i=t.y;if(n&&i)if(GMath.rate(70)){var r=GObj.$c(CloudEffect);n-=300,r.start(n,i,n+GMath.randomInt(600,1e3),1)}else n-=300,i+=280,SkillAction["do"](gYq.BQ,irK.B_B,n,i)}}},Object.defineProperty(t.prototype,"type",{get:function(){return this._robot||this._robotVo?666:this._type||1},enumerable:!0,configurable:!0}),t.prototype.setAttr=function(e){e.isboss?e.attr=App.MZ.bossAttr:e.attr=App.MZ.npcAttr},t.prototype.sortDis=function(e,t){if(!this._isSorted&&this._monsterList){this._isSorted=!0;for(var n,i,r=this._monsterList.length,a=(this._monsterList.concat(),0);r>a;a++){var o=this._monsterList[a];if(o){var s=o.avatar;s&&(n=o.x,i=o.y,o.distance=GMath.distance(e,t,n,i))}}this._monsterList.sort(this.sortOn)}},t.prototype.sortOn=function(e,t){return e.distance>t.distance?-1:1},t.prototype.getMonster=function(e,t){if(this._robot)return this._robot;if(this._monsterList){this.sortDis(e,t);for(var n=this._monsterList.length,i=n;i>=0;i--){var r=this._monsterList[i];if(r)return r}}return null},t.prototype.getMonsterByNode=function(e){if(this._curNode!=e)return null;if(!this._monsterList||this._monsterList.length<0)return null;var t=int(this._monsterList.length-1);return this._monsterList[t]},t.prototype.dropOnceGoods=function(e,t,n,i){void 0===n&&(n=1),void 0===i&&(i=!1);var r,a;r=i?this._dropEliteList:this._dropList;var o=r.length;if(!(0>=o)){if(0>=n){o>=StaticData.DROP_NUM_MAX&&(r.length=StaticData.DROP_NUM_MAX);var s=this._dropViewList.length;if(s+o<StaticData.DROP_NUM_SPLIT)for(var p=StaticData.DROP_NUM_SPLIT-o-s,l=0;o>l&&(a=r[l],!(0>=p));l++)if(a.count>1){var c=a.count-1;p>c?p-=c:(c=p,p=0),a.count=a.count-c;for(var u=0;c>u;u++)this._dropList.push({id:a.id,count:1})}o=this._dropList.length,n=o}else if(!GMath.rate(50))return;if(n>o&&(n=o),a=r.pop(),this._dropViewList.push(DropAction.ZR(a.id,a.count,e,t-80,e,t)),n--,!(0>=n)){this._dropIndex++;for(var d=(int((e-StaticData.DROP_WIDTH)/StaticData.DROP_WIDTH),int(t/StaticData.DROP_HEIGHT),0),g=this.Ljd.x,v=g>=e?50:-50,l=1;n>=l;l++)a=r.pop(),d+=100-2*l,this._dropViewList.push(DropAction.ZR(a.id,a.count,e,t-80,e+GMath.randomInt(-200+v,200+v),t+GMath.randomInt(-160,160),100*l-2*l,this._dropIndex));return d+=700}}},t.prototype.playerAttack=function(e){if(e){if(this.Ljd.isDie&&this.failFrame)return void(this._isend||(this._isend=!0,this.Ljd.wait(),FightingLosePopUi.WT()));var t,n=0,i=0,r=0,a=0,o=0,s=this.Ljd.selectedFoe,p=s.data;s&&!s.isDie&&2!=s.type&&5!=s.type&&(t=s.bruise(e),t&&(t.fere&&(r=t.fere),t.rare&&(a=t.rare),t.flysword&&(o=t.flysword),n+=t.v,t.r&&6==s.type&&(i+=t.r))),t&&s.isSyn&&(t?MapMsgProxy.AV(e.uid,e.skillId,[{t:t.t,id:t.id,v:t.v,c:t.c,s:t.s,ax:t.atkvo.atkx,ay:t.atkvo.atky,fere:t.fere,e:t.e,b:t.b}],e.skill?e.skill.pasIdList:void 0):MapMsgProxy.AV(e.uid,e.skillId,null));var l=0,c=0;if(s&&s.isDie){l=1,c=1;var u=this._monsterList.indexOf(s);u>=0&&this._monsterList.splice(u,1),this.dropOnceGoods(s.x,s.y,0)}var d,g,v,h=this._monsterList.length,m=e.skillaction,f=m.count;for(g=h-1;g>=0&&!(l>=f);g--){d=this._monsterList[g],v=GMath.distance(this.Ljd.x,this.Ljd.y,d.x,d.y);var y=m.atkrange||1;v>y||(t=d.bruise(e),t&&(t.fere&&(r+=t.fere),t.rare&&(a+=t.rare),t.flysword&&(o+=t.flysword),n+=t.v,t.r&&6==d.type&&(i+=t.r)),d.isDie&&(this._monsterList.splice(g,1),5==d.type?this.dropOnceGoods(d.x,d.y,0,!0):this.dropOnceGoods(d.x,d.y,0),c++),l++)}for(p&&p.attr&&this.Ljd.suckHp(n,p.attr.rehprate),i&&this.Ljd.suckOrinjur(i,!0),r&&this.Ljd.fereAttack(s),a&&this.Ljd.rareAttack(s),o&&this.Ljd.flyswordAttack(s),h=this._monsterList.length,g=0;h>g;g++)d=this._monsterList[g],d.selectedFoe=this.Ljd;if(this._robot&&(this._robot.selectedFoe=this.Ljd),c>0&&vkG.$d(UtJ.UX,c),0>=h){if(s&&s.data&&2==s.type){var b=s.data,_=b.nodeType||1;1!=_&&3!=_&&10!=_&&(2==_?App.QA.taskVo&&MapMsgProxy.L_(b.nodeId,_,App.QA.taskVo.tid):MapMsgProxy.L_(b.nodeId,_)),this.dropOnceGoods(s.x,s.y,0),this.dropOnceGoods(s.x,s.y,0,!0)}this._pickupStart=!0}}},t.prototype.pickupGoods=function(){if(!this._dropViewList)return!1;var e=this._dropViewList.length;if(0>=e)return!1;this._pickupX=this.Ljd.avatar.x,this._pickupY=this.Ljd.avatar.y-60;for(var t,n=0;e>n;n++)t=this._dropViewList[n],t&&t.inBag(this._pickupX,this._pickupY);return this._dropViewList.length=0,GxD.instance.playInBagEffect(),this._pickupStart=!1,!0},t.prototype.lose=function(e){PvpMsgProxy.RT(e,!1)},t.prototype.win=function(e){PvpMsgProxy.RT(e,!0)},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||this._isend)return!1;if(this._pvpWinGoodsList)return FightingWinPopUi.QN(this._pvpWinGoodsList),void(this._pvpWinGoodsList=null);if(this._robot){if(this._robot.isDie)return this.win(this._robot.data.uid),GObj.$d(this._robot),this._robot=null,this.Ljd.wait(),!0;if(this.Ljd.isDie)return this.lose(this._robot.data.uid),GObj.$d(this._robot),this._robot=null,this.Ljd.wait(),!0}var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(t=this.getMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t))return!0;var n=t.data;1!==this._type&&n.isboss&&NpcHpView.instance.show(n);var i=this.Ljd.attack(t);return this.playerAttack(i),!0}return this.pickupGoods()?(this.Ljd.pickup(),!0):e?this._nodeIndex>=this._nodeLen&&!this._loop?!1:(this.toNode(this._nodeIndex),this._nodeIndex++,!0):!1},t.prototype.selected=function(){var e;for(var t in this._monsterList)if(e=this._monsterList[t])return e;return null},t.prototype.removeEvent=function(){vkG.$r(UtJ.GC,this.__mapDropHandler,this),vkG.$r(UtJ.GM,this.__mapDropFakeHandler,this),vkG.$r(UtJ._Z,this.__mapDropEliteHandler,this),vkG.$r(UtJ.JC,this.__mapResultHandler,this),vkG.$r(UtJ.WBQ,this.__robotInfoHandler,this),vkG.$r(UtJ.F_,this.__pvpResultHandler,this)},t.prototype.dispose=function(){if(this.removeEvent(),this._playerNodes=null,this.Ljd=null,this._data=null,App.VS.disposeRes(this._type),GObj.$d(this._exitBar),this._exitBar=null,this._dropList&&(this._dropList.length=0,this._dropList=null),this._dropViewList){for(var e=0,t=this._dropViewList;e<t.length;e++){var n=t[e];GObj.$d(n)}this._dropViewList.length=0,this._dropViewList=null}if(this._monsterList){for(var i=0,r=this._monsterList;i<r.length;i++){var n=r[i];GObj.$d(n)}this._monsterList.length=0,this._monsterList=null}if(this._npcList){for(var a=0,o=this._npcList;a<o.length;a++){var n=o[a];GObj.$d(n)}this._npcList.length=0,this._npcList=null}GcManager.instance.execGC()},t}(MapObiter);__reflect(MapBattleObiter.prototype,"MapBattleObiter");var BasePopUi=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},Object.defineProperty(t.prototype,"isOpenCloseTip",{set:function(e){var t=this;t.fs!=e&&(t.fs=e,t.frameGroup&&(t.frameGroup.openTip=e))},enumerable:!0,configurable:!0}),t}(BaseFrame);__reflect(BasePopUi.prototype,"BasePopUi");var FrameButton=function(e){function t(t){var n=e.call(this)||this;return n.viewDat=t,n.skinName=n.getSkinName(),n.tf(),n}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$e("SelectedButton_1")},t.prototype.tf=function(){var e=this;e.initEvent(),e.__redPointHandler()},t.prototype.initEvent=function(){var e=this;if(e.addEventListener(eui.RFS,e.pg,e),e.viewDat){var t=e.viewDat.vid;App.AJ.add(t,e.__redPointHandler,e)}},t.prototype.removeEvent=function(){var e=this;if(e.removeEventListener(eui.RFS,e.pg,e),e.viewDat){var t=e.viewDat.vid;App.AJ.remove(t,e.__redPointHandler,e)}},t.prototype.__redPointHandler=function(){var e=this;if(e.viewDat&&rRcz.O_(e.viewDat,!1)){var t=e.viewDat.vid;e.icon=App.AJ.getRedById(t)}},t.prototype.pg=function(e){this.dispose()},t.prototype.dispose=function(){var e=this;e.removeEvent(),e.viewDat=null},t}(eui.ToggleButton);__reflect(FrameButton.prototype,"FrameButton");var SpecialBaseTip=function(e){function t(t){var n=e.call(this,t)||this;return n.tipWidth=190,n.tipHeight=220,n.right=10,n.bottom=0,n}return __extends(t,e),t.prototype.initEvent=function(){var e=this;e.closeBtn&&e.closeBtn.addEventListener(eui.tep,e.__closeBtnClickHandler,e),e.confirmBtn&&e.confirmBtn.addEventListener(eui.tep,e.__confirmBtnClickHandler,e),hCs.stage.addEventListener(egret.Event.RESIZE,e.__resizeHandler,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn&&e.closeBtn.removeEventListener(eui.tep,e.__closeBtnClickHandler,e),e.confirmBtn&&e.confirmBtn.removeEventListener(eui.tep,e.__confirmBtnClickHandler,e),hCs.stage.removeEventListener(egret.Event.RESIZE,e.__resizeHandler,e)},t.prototype.initData=function(){this.updateView()},t.prototype.show=function(){var e=this;e.__resizeHandler(null),egret.Tween.get(e).to({bottom:90},200).call(e.tweenOver,e),alvJ.instance.addToLayer(this,alvJ.IL)},t.prototype.tweenOver=function(){},Object.defineProperty(t.prototype,"specialInfo",{get:function(){return this._specialInfo},set:function(e){var t=this;t._specialInfo=e,t.updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tipType",{get:function(){var e=this;return e._specialInfo?e._specialInfo.tipType:""},enumerable:!0,configurable:!0}),t.prototype.__closeBtnClickHandler=function(e){GObj.$d(this)},t.prototype.__confirmBtnClickHandler=function(e){var t=this;t.execute(),GObj.$d(t)},t.prototype.__resizeHandler=function(e){var t=this;egret.Tween.removeTweens(t),t.x=hCs.stageWidth-t.tipWidth,t.y=hCs.stageHeight},t.prototype.checkShow=function(){return!0},t.prototype.updateView=function(){},t.prototype.execute=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SpecialBaseTip.prototype,"SpecialBaseTip");var AttributeTemplate=function(){function e(){}return e.KK=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=0);var a=XCA.YV(e);return this.getAttrStringByTemp(a,t,n,i,r)},e.getAttrStringByTemp=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=0);var a="";if(e){var o="",s=void 0,p=void 0;if(e){if(0==(1&r))for(s in xxf.UK)p=e[s]||0,p>0&&(t?o+="\n"+fvg.GVf("skill004",i?xxf.UK[s]:"",0):n?o=fvg.GVf("skill006"):o+="\n"+fvg.GVf("skill004",i?xxf.UK[s]:"",p));if(0==(2&r))for(s in xxf.IM)p=e[s]||0,p>0&&(o+=t?"\n"+fvg.GVf("skill004",i?xxf.IM[s]:"","0%"):n?"\n"+fvg.GVf("skill006"):"\n"+fvg.GVf("skill004",i?xxf.IM[s]:"",(p/10).toFixed(1)+"%"))}a=o.substr(1)}return a},e.getAttrStr=function(e){var t=XCA.YV(e),n=QycO.OK;if(t){var i=void 0;for(i in xxf.UK)t[i]&&i==toChars("feretime")?n+=fvg.GVf("beauty20",xxf.UK[i],(t[i]/1e3).toFixed(1))+"\n":t[i]&&(n+=fvg.GVf("skill004",xxf.UK[i],t[i])+"\n");for(i in xxf.IM)t[i]&&(n+=fvg.GVf("skill004",xxf.IM[i],(t[i]/10).toFixed(1)+"%")+"\n")}return n},e.ZK=function(e){var t=XCA.YV(e),n=QycO.OK;if(t){var i=void 0;for(i in xxf.UK)t[i]&&(n=t[i])}return n},e.TI=function(e){var t=XCA.YV(e),n=QycO.OK;if(t){var i=void 0;for(i in xxf.IM)t[i]&&(n+=fvg.GVf("skill004",xxf.IM[i],(t[i]/10).toFixed(1)+"%")+"\n")}return n},e}();__reflect(AttributeTemplate.prototype,"AttributeTemplate");var MartialArtOfficial;!function(e){e[e.off1=109]="off1",e[e.off2=209]="off2",e[e.off3=309]="off3"}(MartialArtOfficial||(MartialArtOfficial={}));var SpriteLayer=function(e){function t(t){var n=e.call(this)||this;return n.init(t),n}return __extends(t,e),t.prototype.init=function(e){var t=this;t.touchEnabled=e,t._blackGoundList=[],t._alphaGoundList=[],hCs.stage.addEventListener(egret.Event.RESIZE,t.__resizeHandler,t)},t.prototype.addToLayer=function(e,t){var n=this;t==alvJ.LR?(-1!=n._blackGoundList.indexOf(e)&&n._blackGoundList.splice(n._blackGoundList.indexOf(e),1),n._blackGoundList.push(e)):t==alvJ.AE&&(-1!=n._alphaGoundList.indexOf(e)&&n._alphaGoundList.splice(n._alphaGoundList.indexOf(e),1),n._alphaGoundList.push(e)),e.addEventListener(eui.RFS,n.__childRemoveedFromStageHandler,n),n.addChild(e),n.arrangeBlockGound()},t.prototype.__childRemoveedFromStageHandler=function(e){var t=this,n=e.currentTarget;n.removeEventListener(eui.RFS,t.__childRemoveedFromStageHandler,t),-1!=t._blackGoundList.indexOf(n)&&t._blackGoundList.splice(t._blackGoundList.indexOf(n),1),-1!=t._alphaGoundList.indexOf(n)&&t._alphaGoundList.splice(t._alphaGoundList.indexOf(n),1),t.arrangeBlockGound()},t.prototype.arrangeBlockGound=function(){var e=this;e._blackGound&&e._blackGound.parent&&e._blackGound.parent.removeChild(e._blackGound),e._alphaGound&&e._alphaGound.parent&&e.alphaGound.parent.removeChild(e._alphaGound);var t,n;e._blackGoundList.length>0&&(t=e._blackGoundList[e._blackGoundList.length-1],n=e.getChildIndex(t),e.addChildAt(e.blackGound,n)),e._alphaGoundList.length>0&&(t=e._alphaGoundList[e._alphaGoundList.length-1],n=e.getChildIndex(t),e.addChildAt(e.alphaGound,n))},Object.defineProperty(t.prototype,"blackGound",{get:function(){return this._blackGound||(this._blackGound=GObj.$c(egret.Sprite),this._blackGound.touchEnabled=!0),(this._bgw!=hCs.stageWidth||this._bgh!=hCs.stageHeight)&&(this._bgw=hCs.stageWidth,this._bgh=hCs.stageHeight,this._blackGound.graphics.clear(),this._blackGound.graphics.beginFill(0,.6),this._blackGound.graphics.drawRect(0,0,this._bgw,this._bgh),this._blackGound.graphics.endFill()),this._blackGound},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alphaGound",{get:function(){var e=this;return e._alphaGound||(e._alphaGound=GObj.$c(egret.Sprite),e._alphaGound.touchEnabled=!0),(e._agw!=hCs.stageWidth||e._agh!=hCs.stageHeight)&&(e._agw=hCs.stageWidth,e._agw=hCs.stageHeight,e._alphaGound.graphics.clear(),e._alphaGound.graphics.beginFill(0,0),e._alphaGound.graphics.drawRect(0,0,e._agw,e._agh),e._alphaGound.graphics.endFill()),e._alphaGound},enumerable:!0,configurable:!0}),t.prototype.__resizeHandler=function(e){var t=this;t._blackGound&&t._blackGound.parent&&t.blackGound,t._alphaGound&&t._alphaGound.parent&&t.alphaGound},t}(eui.UILayer);__reflect(SpriteLayer.prototype,"SpriteLayer");var BaseNode=function(){function e(e){this.parents=[],this.childrenIndex={},this.nodeId=e}return e.prototype.$addParent=function(e){this.parents.push(e)},e.prototype.$addChildData=function(e){var t=e.nodeId,n=this.childrenIndex,i=n[t];isNaN(i)&&(i=Object.keys(n).length,n[t]=i)},e.prototype.$dealMyChildState=function(e,t){var n=this,i=n.childrenIndex[e];if(!isNaN(i)){var r=n.getNodeState();n.yt(t,i);var a=n.getNodeState();r!==a&&n.$dispatch()}},e.prototype.$dispatchToParnet=function(e){var t=this,n=t.parents,i=t.nodeId,r=t.getNodeState();"boolean"==typeof e&&(r=e);for(var a=0,o=n;a<o.length;a++){var s=o[a];s.$dealMyChildState(i,r)}},e.prototype.yt=function(e,t){var n;e?n|=1<<t:n&=~(1<<t),this.binState=n},e.prototype.$dispatch=function(){var t=this,n=t.nodeId,i=t.getNodeState();vkG.$d(e.EventStr+n,i),console.log(""+n+",:"+i),t.$dispatchToParnet()},e.prototype.getNodeState=function(){return this.binState>0},e.EventStr="BaseNode",e}();__reflect(BaseNode.prototype,"BaseNode");var BinState=function(){function e(){}return e}();__reflect(BinState.prototype,"BinState");var MultiScene=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.createScene=function(){e.prototype.createScene.call(this),11==this._type?3==App.HB.crossArenaVo.status?ArenaMsgProxy.TU(4):ArenaMsgProxy.TU(3):36==this._type?MapMsgProxy.NI(this._mapId,this.Ljd.avatar.x,this.Ljd.avatar.y,App.XD.hlpeId):5==this._type||102==this._type?MapMsgProxy.NI(this._mapId,this.Ljd.avatar.x,this.Ljd.avatar.y,App.VP.curSocietyId):43==this._type?MapMsgProxy.NI(this._mapId,this.Ljd.avatar.x,this.Ljd.avatar.y,App.OO.curBossIndex):MapMsgProxy.NI(this._mapId,this.Ljd.avatar.x,this.Ljd.avatar.y,void 0)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.II,this.__enterOverHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.II,this.__enterOverHandler,this)},t.prototype.start=function(){},t.prototype.__enterOverHandler=function(e){e&&e.mapid&&this._mapId==e.mapid&&ClockManager.setTimeout(this.$start,this,400)},t.prototype.actionOverHandler=function(){this._stop||this._battleObiter.actionNext()||(this.Ljd.selectedFoe=this._battleObiter.selected(),this._battleObiter.actionNext())},t.prototype.dispose=function(){MapMsgProxy.ED(),e.prototype.dispose.call(this)},t}(BattleScene);__reflect(MultiScene.prototype,"MultiScene");var NpcView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.update=function(){e.prototype.update.call(this),this._npcName&&(this._npcName.y=-this._bodyPart.heady)},t.prototype.updateData=function(e){e&&e.showName&&(this._npcName||(this._npcName=GObj.$c(NpcName),this._npcName.y=-80,this.addChild(this._npcName),this._modelSpr||(this._modelSpr=GObj.$c(egret.Sprite),this.addChild(this._modelSpr),this._modelSpr.addChild(this._bodyPart),this._modelSpr.scaleX=this.scaleX,this.scaleX=1)),this._npcName.updateData(e))},t.prototype.dispose=function(){e.prototype.dispose.call(this),GObj.$d(this._npcName),this._npcName=null},t}(BattleAvatarView);__reflect(NpcView.prototype,"NpcView");var MonsterHandler=function(e){function t(t){var n=e.call(this,t)||this;return n.distance=0,n._type=2,t.skillmap&&(n._skillai=GObj.$c(SkillAI),n._skillai.skillUpdate(t.skillmap)),t.paths&&t.paths.length<=1?(n._avatar.setAction(irK.ACTION_STAND),n):(n.patrolPaths=t.paths,n)}return __extends(t,e),t.prototype.init=function(){this.speed=this._avo.speed,this._avatar=GObj.$c(MonsterView),this._avatar.x=this._avo.x,this._avatar.y=this._avo.y,this._avatar.playInterval=this._avo.pi||GConfig.PLAY_AVATAR_INTERVAL,this._avatar.updateData(this._avo),this._avatar.updatePart(this._avo.model),this._avatar.setAction(irK.ACTION_STAND),this._avatar.direction8=irK.R_B,this.start(),this.showEffect()},t.prototype.setElite=function(e){this._type=5,this.avatar&&this.avatar.updatePart(e),this._avo&&this._avo.attr&&(this._avo.showName=!0,this._avo.name=null,this._avo.apid=StaticData.ELITE_APPELL_ID,this._avo.attr.hp=StaticData.ELITE_HP,this._avatar&&this._avatar.updateData(this._avo))},Object.defineProperty(t.prototype,"patrolPaths",{set:function(e){this._patrolPaths!=e&&(this._patrolPaths=e,this.paths=this._patrolPaths.concat())},enumerable:!0,configurable:!0}),t.prototype.actionOver=function(){this._die||(e.prototype.actionOver.call(this),this._patrolPaths&&this._patrolPaths.length>0?this.paths=this._patrolPaths.concat():this._selectedFoe&&!this._selectedFoe.isDie&&this.attack(this._selectedFoe))},Object.defineProperty(t.prototype,"selectedFoe",{set:function(e){if(this._selectedFoe!==e){if(this._avo){var t=GMath.random(StaticData.NPC_SPEED,StaticData.NPC_SPEED_MAX);t=GMath.toFixed(t,2),this._avo.speed=t,this.speed=t}this._selectedFoe=e,this.attack(this._selectedFoe)}},enumerable:!0,configurable:!0}),t.prototype.attack=function(e){if(this._avatar&&e&&this._avo&&(null==this._attackVo&&(this._attackVo=GObj.$c(AttackVO)),!this._onaction)){this._patrolPaths=null;var t=this._avatar.x,n=this._avatar.y,i=e.x,r=e.y,a=GMath.distance(t,n,i,r)-1;if(a>this._avo.atkdis){var o=GMath.towards(t,n,i,r,this._avo.atkdis);return void(this.paths=[o])}if(this._skillai){var s=this._skillai.getSkillAttack(this._avo.attr);if(s&&s.skill){var p=StaticData.SKILL_INFO[s.skill.id];p&&(SkillAction["do"](p.attack,l,t,n),this._attackVo=s)}}this.paths=null,this._onaction=!0,this._waitEndTime=GApp.timer+irK.TIME_ATTACK_NPC;var l=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,e.x,e.y);if(this._avatar.direction8=l,this._avatar.setAction(irK.ACTION_ATTACK),this._attackVo.atkx=this._avatar.x,this._attackVo.atky=this._avatar.y,this._attackVo.atkAttr=this._avo.attr,this._attackVo.direction8=l,e.bruise(this._attackVo),e.avatar&&this._avo.isboss&&this._avo.mustwin&&Math.random()>.5){var c=GMath.towards(this._attackVo.atkx,this._attackVo.atky,e.avatar.x,e.avatar.y,80,!0);DamageAction["do"](1,0,this._avatar.x,this._avatar.y-120,c.x,c.y-120)}return this._attackVo}},t.prototype.bruise=function(t){if(this._avo){if(this._avo.isboss&&this._avo.mustwin){var n=this._avo.attr.lefthp/this._avo.attr.maxhp;this._avo.attr.temp||(this._avo.attr.temp=this._avo.attr.atk),this._avo.attr.atk=this._avo.attr.temp*(1+Math.pow((1-n)/.95*3,2)),this._avo.attr.hitrate=1e4;var i=App.BG.playerAttrsInfo.cap;this._avo.attr.imprate=Math.max((this._avo.mustcap-3*i)/i*2*100,0)||0,n=(1-n)/.95*70;var r=GMath.rate(n);if(r){var a=GMath.towards(t.atkx,t.atky,this._avatar.x,this._avatar.y,80,!0);return DamageAction["do"](1,0,this._avatar.x,this._avatar.y-120,a.x,a.y-120),null}}!this._param&&(this._param={}),this._param.isboss=this._avo.isboss?1:0;var o=e.prototype.bruise.call(this,t);return o}},t.prototype.$bruise=function(){if(this._avatar&&this._avo&&this._damageVo&&this._damageVo.atkvo){e.prototype.$bruise.call(this),this._avatar.updateHp(),Math.random()>=.5?this._avatar.setAction(irK.ACTION_BRUISE):this._avatar.setAction(irK.ACTION_BRUISE_II),!this.isSyn&&this._avo.isboss&&(NpcHpView.instance.progress=this._avo);var t=this._damageVo.atkvo;if(this._die){this.selected=!1,this._onaction=!0,this.paths=null;var n=GMath.towards(t.atkx,t.atky,this._avatar.x,this.avatar.y,StaticData.ACTION_DIE_REPEL_DIS,!0);this._avatar.direction8=AvatarHelp.reverseDirection8(t.direction8),this._avo.isboss||this._avatar.setAction(irK.ACTION_DIE),BattleAction["do"](5,this._avatar,n.x,n.y,this.dieComplete,this)}else if(t.skillaction&&t.skillaction.repel&&!this._avo.isboss){this._onaction=!0,this.paths=null;var n=GMath.towards(t.atkx,t.atky,this._avatar.x,this.avatar.y,t.skillaction.repel,!0);this._avatar.direction8=AvatarHelp.reverseDirection8(t.direction8),BattleAction["do"](1,this._avatar,n.x,n.y,this.bruiseComplete,this)}}},t.prototype.bruiseComplete=function(){this._avatar&&(this._onaction=!1,this._selectedFoe?this.attack(this._selectedFoe):this._avatar.setAction(irK.ACTION_STAND))},t.prototype.dieComplete=function(){this.dispose()},Object.defineProperty(t.prototype,"data",{get:function(){return this._avo},enumerable:!0,configurable:!0}),t}(VJn);__reflect(MonsterHandler.prototype,"MonsterHandler");var RoleHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._isPlayer=!1,n._lastX=999999,n._lastY=999999,n._showSkill=!0,n._visible=!0,n._type=1,n}return __extends(t,e),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this._avatar.visible=e,this._rare&&(this._rare.visible=e),this._fere&&(this._fere.visible=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSkill",{get:function(){return this._isPlayer?!0:StaticData.HIDE_OTHER_EFFECT?!1:this._showSkill},set:function(e){this._showSkill=e},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.speed=this._avo.speed,this._avatar=GObj.$c(RoleView),this._avatar.isPlayer=this._isPlayer,this._avatar.x=this._avo.x,this._avatar.y=this._avo.y,this._avatar.updateData(this._avo),this.updateModel(),this._avatar.setAction(irK.ACTION_STAND),this._avatar.direction8=irK.R_B,this._avatar.show(),this.start()},t.prototype.updateModel=function(){this._avatar&&this._avo&&(this._avatar.updateData(this._avo),this._pmodel!=this._avo.model&&this._avatar.updatePart(this._avo.model),this._pw!=this._avo.w&&this._avatar.updatePart(this._avo.w,irK.PART_WEAPON),this._pc!=this._avo.c&&this._avatar.updatePart(this._avo.c,irK.PART_WING),this.updateFere(),this.updateRare(),this._pmodel=this._avo.model,this._pw=this._avo.w,this._pc=this._avo.c,this._pwithin=this._avo.within)},t.prototype.updateBubble=function(e){this._avatar&&this._avatar.updateBubble(e)},t.prototype.updateRare=function(){if(this._avo.rare){if(this._rare)this._rare.data.model=this._avo.rare;else{var e=GObj.$c(BattleAvo);e.type=8,e.id=this._avo.id,e.model=this._avo.rare,e.showName=!1,this._rare=GObj.$c(FollowHandler,e),this._rare.owner=this}this._rare.updateModel()}},t.prototype.updateFere=function(){if(this._avo.fere){if(this._fere)this._fere.data.model=this._avo.fere;else{var e=GObj.$c(BattleAvo);e.type=7,e.id=this._avo.id,e.model=this._avo.fere,e.showName=!1,this._fere=GObj.$c(FollowHandler,e),this._fere.owner=this
}this._fere.updateModel()}},Object.defineProperty(t.prototype,"paths",{set:function(e){this.computePaths(e)},enumerable:!0,configurable:!0}),t.prototype.computePaths=function(e){if(this._paths!=e){if(e){var t=e.length,n=void 0;t>0&&(n=e[0],this._lastX=n.x||0,this._lastY=n.y||0,n.d&&(this.initPos(n.x,n.y),e.shift(),t-=1,0>=t&&this.wait()))}this._paths=e,this._distance=0}},Object.defineProperty(t.prototype,"selectedFoe",{get:function(){return this._selectedFoe},set:function(e){this._selectedFoe!==e&&(this._selectedFoe=e,this._selectedFoe||this.wait())},enumerable:!0,configurable:!0}),t.prototype.wait=function(){this._avatar.setAction(irK.ACTION_STAND)},Object.defineProperty(t.prototype,"lastX",{get:function(){return this._lastX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastY",{get:function(){return this._lastY},enumerable:!0,configurable:!0}),t.prototype.initPos=function(e,t){this._avatar&&(this.paths=null,this._avatar.x=this._avo.x=e,this._avatar.y=this._avo.y=t)},t.prototype.initDirection=function(e){this._avatar&&(this._avatar.direction8=e)},t.prototype.skillShow=function(e,t){if(e&&e.s&&this._avatar){var n,i,r=e.s;if(r>=1e4?(n=r%1e4,i=StaticData.SKILL_INFO_COMMON[n]):(n=r||1,i=StaticData.SKILL_INFO[n]),i){if(e.pas){this._pasAttr||(this._pasAttr=GObj.$c(PasinlayAttrTemplate)),this._pasAttr.init();for(var a=0,o=e.pas;a<o.length;a++){var s=(o[a],void 0);s&&(this._pasAttr=PasinlayAttrTemplate.JD(this._pasAttr,s))}if(this._avo){var p=this._attackVo.pasAttr.s||0;this._avo.attr.shield=this._avo.attr.shield>p?this._avo.attr.shield:p,this._avo.attr.lefthp+=App.JP.revertHpPas(this._avo.attr,this._pasAttr)}this._avo.attr.shield>0&&this._avatar.addShield()}if(t){var l=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,t.x,t.y);this._avatar.direction8=l}this.playerShowSkill(i,t);var c;if(e.d)for(var u=e.d.length,d=0;u>d;d++)if(c=e.d[d],c&&c.fere){this.fereAttack(t);break}var c;if(e.d)for(var u=e.d.length,d=0;u>d;d++)if(c=e.d[d],c&&c.rare){this.rareAttack(t);break}var c;if(e.d)for(var u=e.d.length,d=0;u>d;d++)if(c=e.d[d],c&&c.flysword){this.flyswordAttack(t);break}}}},t.prototype.fereAttack=function(e){this._fere&&this._fere.attack(e)},t.prototype.rareAttack=function(e){this._rare&&this._rare.attack(e)},t.prototype.flyswordAttack=function(e){var t=App.JS.getRetinueInfoByType(89);if(t){var n=StaticData.FLYSWORD_SKILL_INFO;if(n){var i=t.use||1,r=n[i];this.playerShowSkill(r,e)}}},t.prototype.playerShowSkill=function(e,t){if(e&&t)if(this.showSkill)this._avatar.setAction(e.action),SkillAction.action(e,this._avatar,t.avatar);else{var n=int(Math.random()*StaticData.SKILL_INFO_COMMON.length);e=StaticData.SKILL_INFO_COMMON[n],this._avatar.setAction(e.action),SkillAction.action(e,this._avatar,t.avatar)}},t.prototype.updateHp=function(e){this.data.attr&&(this.data.attr.lefthp=e),0>=e?this.die():this.living(),this._avatar&&this._avatar.updateHp()},t.prototype.suckOrinjur=function(e,t){if(this._avo&&this._avo.attr&&e){var n=this._avo.attr.lefthp+e;if(n>this._avo.attr.maxhp?n=this._avo.attr.maxhp:0>=n&&(n=0),this.updateHp(n),e>0)DamageAction["do"](256,e,this._avatar.x,this._avatar.y-80,this._avatar.x,this._avatar.y+10);else{var i=t?1024:512;DamageAction["do"](i,-1*e,this._avatar.x,this._avatar.y-StaticData.DAMAGE_DEFAULT_DISTANCE-50,this._avatar.x,this._avatar.y)}}},t.prototype.bruise=function(t){if(!this._avatar||!this._avo||this._die)return null;if(this._avo.attr&&this._avo.attr.shield>0)return this._avo.attr.shield-=1,this._avo.attr.shield<=0&&this._avatar.removeShield(),this._damageVo||(this._damageVo=GObj.$c(DamageVO)),this._damageVo.t=this._avo.type,this._damageVo.id=this._avo.id,this._damageVo.v=0,this._damageVo.c=0,this._damageVo.atkvo=t,this._damageVo;var n=e.prototype.bruise.call(this,t);return this._avatar&&this._avatar.updateHp(),n},t.prototype.countDamage=function(e){},t.prototype.bruiseSyn=function(e){return e&&this._avo&&this._avo.attr?this._avo.attr.shield>0?(this._avo.attr.shield-=1,void(this._avo.attr.shield<=0&&this._avatar.removeShield())):void this.updateHp(e.l||0):void 0},t.prototype.die=function(){this._die=!0,this.data.attr.lefthp=0,this.visible=!1,this.wait()},t.prototype.living=function(){this.visible=!0,this._die=!1},Object.defineProperty(t.prototype,"data",{get:function(){return this._avatar&&(this._avo.x=this._avatar.x,this._avo.y=this._avatar.y),this._avo},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposeFollow()},t.prototype.disposeFollow=function(){GObj.$d(this._fere),this._fere=null,GObj.$d(this._rare),this._rare=null},t}(VJn);__reflect(RoleHandler.prototype,"RoleHandler");var AvatarName=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){var e=this;e._nameTxt=GObj.$c(egret.TextField),e._nameTxt.size=16,e._nameTxt.textColor=Color.XB,e._nameTxt.strokeColor=65558,e._nameTxt.stroke=1,e._nameTxt.text="hitalk",e._nameTxt.y=-20,e.addChild(e._nameTxt)},t.prototype.updateData=function(e){var t=this;t._avo=e,t._nameTxt.text=e.name,t._nameTxt.x=-t._nameTxt.textWidth>>1},t.prototype.dispose=function(){var e=this;e.parent&&e.parent.removeChild(e),GObj.$d(e._nameTxt),e._nameTxt=null},t}(egret.DisplayObjectContainer);__reflect(AvatarName.prototype,"AvatarName");var MonsterVO=function(e){function t(){var t=e.call(this)||this;return t.isboss=!1,t.icon=1,t.atkdis=80,t.nodeId=0,t.nodeType=1,t}return __extends(t,e),t.prototype.recycle=function(){this.isboss=!1,this.paths=null,this.icon=1,this.atkdis=80,this.nodeId=0,this.nodeType=0,this.skillmap=null},t}(BattleAvo);__reflect(MonsterVO.prototype,"MonsterVO");var RoleVO=function(e){function t(){var t=e.call(this)||this;return t.lv=1,t.r=!1,t.fid=0,t.duty=0,t.within=0,t._uid=0,t._sex=1,t.head=1,t.usehf=1,t.stg=0,t.type=1,t.showName=!0,t.apid=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid},set:function(e){this._uid=e,this.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sex",{get:function(){return StaticData.SEX_BOY},set:function(e){this._sex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return usable(this._w)||(this._w=GConfig.AVATAR_DEFAULT),this._w+StaticData.SEX_BOY},set:function(e){this._w=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"c",{get:function(){return usable(this._c)?this._c+StaticData.SEX_BOY:QycO.OK},set:function(e){this._c=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this.model},set:function(e){this._b=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return usable(this._b)||(this._b=GConfig.AVATAR_DEFAULT),this._b+this.sex},set:function(e){this._b=e},enumerable:!0,configurable:!0}),t}(BattleAvo);__reflect(RoleVO.prototype,"RoleVO");var SkillAI=function(){function e(){this._combo=0,this._atkCount=1,this._atkIndex=0,this._skillLen=0,this._auto=!0;var e=this;e.init(),e.addEvent()}return e.prototype.init=function(){var e=this;e._attackVo=GObj.$c(AttackVO),e._skillDict={},e._fakeSkillDict={},e._bigSkillDic={},e._skillCanList=[],e._skillList=[],e._skillComLen=StaticData.SKILL_INFO_COMMON.length},Object.defineProperty(e.prototype,"auto",{get:function(){return this._auto},set:function(e){this._auto=e},enumerable:!0,configurable:!0}),e.prototype.addSkill=function(e){var t=this;t._skillList.push(e),t._skillLen=t._skillList.length},e.prototype.reset=function(){this._atkCount=0},e.prototype.getSkillAttack=function(e){var t=this;if(!e)return null;t._atkCount++,!t._auto&&(t._atkCount=0);var n,i=GApp.timer,r=int(100*Math.random()),a=0;if(t._atkCount>StaticData.ATTACK_CONT||t._skillLen){var o=0,s=0,p=void 0;if(t._skillLen>0&&(o=t._skillList.shift(),t._skillLen--,t._skillLen<0&&(t._skillLen=0),p=t.getSkillById(o),(!p||p&&i<p.atkTime)&&(o=0)),!o){t._skillCanList.length=0;for(var l in t._skillDict)p=t._skillDict[l],p&&i>=p.atkTime&&(t._skillCanList.push(p.id),s++)}if(s>0||o){var l=void 0;if(o?l=o:(a=r%s,l=t._skillCanList[a]),n=t.getSkillById(l)){t._attackVo.skill=n;var c=PlayerSKillAI.instance.isFakeBigSkill(l)?e.uscdrate:e.cdrate;n.atkcd=l==StaticData.MAP_SKILL_ID?App.JP.bigSkillCooldown(n.cd,e.wlcct):App.JP.cooldown(n.cd,c),n.atkTime=i+n.atkcd}t._atkCount=0}}return t._attackVo.atkAttr=e,t.formatAttackVO(n,t._attackVo)},e.prototype.formatAttackVO=function(e,t){var n,i=this,r=t;if(e&&(e.wait=!1,r.skill=e,n=StaticData.SKILL_INFO[e.id]),!n){var a=0;a=0,i._atkCount&&i._atkCount%3==1&&(a=i._skillComLen-1),n=StaticData.SKILL_INFO_COMMON[a],i._attackVo.skill=null,i._attackVo.pasAttr=null,i._combo=0,i._atkIndex=a}return r.atkIndex=i._atkIndex,r.skillaction=n,r},e.prototype.temp2svo=function(e,t){t.id=gLw.IQ(e.tid),t.tid=e.tid,t.cd=e.p4,t.rate=e.p3,t.atkTime=t.atkTime||0,t.grade=t.grade||1;var n=App.JO.getActSkillInfoBySonType(t.id.toString());n&&(t.grade=n.totalGrade),t.p1=e.p1,t.p2=App.JP.skillp2(e,t.grade)},e.prototype.bigSkillToSvo=function(e,t){t.id=gLw.IQ(e.tid),t.tid=e.tid,t.rate=e.p3,t.atkTime=t.atkTime||0,t.grade=t.grade||1,t.cd=parseInt(e.p5)||0,t.p1=App.JP.bigSkillP1(e.p1,e.p2,App.JG.practiceStage),t.p2=App.JP.bigSkillP2(e.p3,e.p4,App.JG.practiceGrade)},e.prototype.skillUpdate=function(e,t){if(void 0===t&&(t=!1),e){this.removeSkillByIds(e,t);for(var n in e){var i=parseInt(n),r=e[n]||1,a=XCA.AQS.UFA(1,i,1);if(a){var o=this.createSkillById(i);o.grade=r,this.temp2svo(a,o)}}}},e.prototype.getSkillById=function(e){var t,n=this;return t=e===StaticData.MAP_SKILL_ID?n._bigSkillDic:n.isFakeBigSkill(e)?n._fakeSkillDict:n._skillDict,t[e]},e.prototype.createSkillById=function(e){var t,n=this,i=!1;n.isFakeBigSkill(e)?(t=n._fakeSkillDict,i=!0):t=n._skillDict;var r=t[e];return r||(r=t[e]=GObj.$c(SkillAttackVO),r.isFakeBigSkill=i),r},e.prototype.removeSkillByIds=function(e,t){if(void 0===t&&(t=!1),t)for(var n in this._fakeSkillDict)e[n]||(this._fakeSkillDict[n]=null,delete this._fakeSkillDict[n]);else for(var n in this._skillDict)e[n]||(this._skillDict[n]=null,delete this._skillDict[n])},e.prototype.removeFakeSkillByIds=function(e){},e.prototype.isFakeBigSkill=function(e){return e>StaticData.SKILL_BIG_ID},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.dispose=function(){this.removeEvent()},e}();__reflect(SkillAI.prototype,"SkillAI");var SkillTitleView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){this._bgBmp=GObj.$c(egret.Bitmap),this.addChild(this._bgBmp),LoaderManager.instance.load(PATH.ZY+"bg"+FileConst.png,this.__bgLoadComplete,this,LoaderConst.PRIORITY_DEFAULT)},t.prototype.__bgLoadComplete=function(e){e&&e.data&&(this._bgBmp.texture=e.data)},t.prototype.start=function(e,t){this._skillNameBmp&&this._skillNameBmp.texture&&(this._enterFrame=0,this.x=hCs.stageWidth-2,this.y=224,this._bgBmp.x=0,App.HA.registeEnterFrame(this.update,this),App.FT.uiLayer.addChild(this))},t.prototype.setName=function(t){t&&(e.prototype.setName.call(this,t),this._skillNameBmp.y=46-.5*this._skillNameBmp.height,this._skillNameBmp.x=0)},t.prototype.update=function(){this._enterFrame++,this._enterFrame<=6?this._bgBmp.x-=49:this._enterFrame<=12?(this._bgBmp.x+=1,this._skillNameBmp.x-=33):this._enterFrame<=14?this._skillNameBmp.x+=3:this._enterFrame<=52||this.dispose()},t.prototype.recycle=function(){e.prototype.recycle.call(this),App.HA.unRegisteEnterFrame(this.update,this),this._skillNameBmp&&(this._skillNameBmp.texture=null),this.parent&&this.parent.removeChild(this)},t.prototype.dispose=function(){this.recycle()},t}(SkillNameView);__reflect(SkillTitleView.prototype,"SkillTitleView");var MapRoleObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._roleDict={},this._nodeDict={}},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.FY,this.__addRoleHandler,this),vkG.$a(UtJ.PR,this.__roleMoveHandler,this),vkG.$a(UtJ.TP,this.__roleUpdateHandler,this),vkG.$a(UtJ.JQ,this.__removeRoleHandler,this),vkG.$a(UtJ.QO,this.__mapAttackHandler,this),vkG.$a(UtJ.FE,this.__updateRoleHandler,this),vkG.$a(UtJ.TZ,this.__selectedFoeHandler,this),vkG.$a(UtJ.ZW,this.__roleHpHandler,this),vkG.$a(UtJ.QG,this.__bossNodesHandler,this),vkG.$a(UtJ.AA,this.__bossAttackHandler,this),vkG.$a(UtJ.AS,this.__clearNodeHandler,this),vkG.$a(UtJ.QA,this.__enterDefeatHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.FY,this.__addRoleHandler,this),vkG.$r(UtJ.PR,this.__roleMoveHandler,this),vkG.$r(UtJ.TP,this.__roleUpdateHandler,this),vkG.$r(UtJ.JQ,this.__removeRoleHandler,this),vkG.$r(UtJ.QO,this.__mapAttackHandler,this),vkG.$r(UtJ.FE,this.__updateRoleHandler,this),vkG.$r(UtJ.TZ,this.__selectedFoeHandler,this),vkG.$r(UtJ.ZW,this.__roleHpHandler,this),vkG.$r(UtJ.QG,this.__bossNodesHandler,this),vkG.$r(UtJ.AA,this.__bossAttackHandler,this),vkG.$r(UtJ.AS,this.__clearNodeHandler,this),vkG.$r(UtJ.QA,this.__enterDefeatHandler,this)},t.prototype.__bossAttackHandler=function(e){if(e&&e.u){var t=this._nodeDict[e.u];if(t&&t.attack(this.Ljd),e.d)for(var n=e.d.length,i=void 0,r=App.KF.uid,a=void 0,o=0;n>o;o++)i=e.d[o],i&&(r==i.id?(this.Ljd.bruiseSyn(i),this.Ljd.isDie&&this.gotoBirth()):(a=this._roleDict[i.id],a&&a.bruiseSyn(i)))}},t.prototype.__enterDefeatHandler=function(e){var t;switch(e){case 1:t=fvg.GVf("public064");break;case 2:t=fvg.GVf("public065");break;case 3:t=fvg.GVf("public066")}Alert.WK(t,null,Alert.EX,this.exit,this)},t.prototype.gotoBirth=function(){var e=this._data.role.birth;if(e){var t=e.length,n=int(GMath.random(0,t)),i=e[n];return void(this.Ljd.paths=[{x:i.x,y:i.y,d:!0}])}var r=this._playerNodes[0];if(r&&r.paths){var a=r.paths.concat();a&&a.length>0&&(a[0].d=!0,this.Ljd.paths=a)}},t.prototype.__bossNodesHandler=function(e){if(e){for(var t,n,i=e.length,r=!1,a=0;i>a;a++)t=e[a],t&&t.id&&(n=this._nodeDict[t.id],2!=t.state?n||(t=this.addBossAppell(t),n=GObj.$c(MonsterNodeHandler,t),this._nodeDict[t.id]=n,r=!0):n&&(n.toDie(),delete this._nodeDict[t.id]));r&&this.checkNextAction()}},t.prototype.__clearNodeHandler=function(){if(this._nodeDict){var e;for(var t in this._nodeDict)e=this._nodeDict[t],e&&(e.toDie(),delete this._nodeDict[t])}},t.prototype.checkNextAction=function(){2==this._type&&this._nodeIndex>=this._nodeLen&&(this.Ljd.selectedFoe=this.selected(),this.actionNext())},t.prototype.__roleHpHandler=function(e){if(e&&e.id){if(e.id==App.KF.uid)return this.Ljd.data.attr&&(this.Ljd.data.attr.lefthp=e.h),e.h||this.gotoBirth(),void this.Ljd.updateHp(e.h);var t=this._roleDict[e.id];t&&t.data&&(t.updateHp(e.h),this.Ljd.selectedFoe===t&&(this.Ljd.selectedFoe=null))}},t.prototype.__updateRoleHandler=function(e){if(e&&e.uid){var t=this._roleDict[e.uid];t&&t.data&&ObjectUtil.oto(e,t.data)}},t.prototype.__selectedFoeHandler=function(e){if(e){NpcHpView.instance.hide();var t;1==e.type?t=this._roleDict[e.id]:3==e.type&&(t=this._nodeDict[e.id]),t&&(this.Ljd.selectedFoe=t,NpcHpView.instance.show(t.data))}},t.prototype.__mapAttackHandler=function(e){if(e&&e.u&&e.d)for(var t=e.d.length,n=void 0,i=App.KF.uid,r=void 0,a=0;t>a;a++)if(n=e.d[a],n&&(r=this._nodeDict[n.id],r||(r=this._roleDict[n.id]),r?(r.data&&r.data.attr&&(r.data.attr.lefthp=n.l),this.Ljd.selectedFoe===r&&(NpcHpView.instance.progress=r.data)):i==n.id&&this.Ljd.bruiseSyn(n),0==a)){var o=this._roleDict[e.u];o&&(r||(r=this.getSelected(n.id)),o.skillShow(e,r))}},t.prototype.getSelected=function(e){var t=this._nodeDict[e];return t},t.prototype.__roleUpdateHandler=function(e){var t=e;if(t&&t.length)for(var n,i,r,a=t.length,o=0;a>o;o++)n=t[o],n&&n.id&&(r=this._roleDict[n.id],r&&r.data&&(i=r.data.attr,ObjectUtil.oto(n,r.data),ObjectUtil.oto(n.attr,i),r.data.attr=i,r.updateModel()))},t.prototype.__addRoleHandler=function(e){if(e)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(n=GObj.$c(RoleHandler,t),this._roleDict[t.id]=n)},t.prototype.__removeRoleHandler=function(e){var t=this._roleDict[e];t&&(delete this._roleDict[e],GObj.$d(t),t=null)},t.prototype.__roleMoveHandler=function(e,t){var n=this._roleDict[e];n&&t&&(n.paths=t)},t.prototype.selected=function(){var e;for(var t in this._nodeDict)if(e=this._nodeDict[t])return e;return null},t.prototype.dispose=function(){if(e.prototype.dispose.call(this),this._roleDict){for(var t in this._roleDict)GObj.$d(this._roleDict[t]);this._roleDict=null}if(this._nodeDict){for(var t in this._nodeDict)GObj.$d(this._nodeDict[t]);this._nodeDict=null}},t}(MapBattleObiter);__reflect(MapRoleObiter.prototype,"MapRoleObiter");var AttackerView=function(e){function t(){var t=e.call(this,"AttackerView")||this;return t.windowType=1,t.skinName=t.getSkinName(),t.bottom=300,t.right=0,t}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$s(this.id)},t.prototype.initView=function(){var e=this;e.enemyLab&&(e.enemyLab.text=fvg.GVf("shuramap01")),e.attackBtn.label=fvg.GVf("shuramap04"),e.stateLab.text=""},t.prototype.initEvent=function(){var e=this;e.attackBtn.addEventListener(eui.tep,e.cl,e),App.HA.registeEnterFrame2(e.dq,e),vkG.$a(UtJ.NQ,e.ho,e)},t.prototype.removeEvent=function(){var e=this;e.attackBtn.removeEventListener(eui.tep,e.cl,e),App.HA.unRegisteEnterFrame2(e.dq,e),vkG.$r(UtJ.NQ,e.ho,e)},t.prototype.initData=function(){this.fi()},t.prototype.fi=function(){var e=this;e.bu&&(e.attackBtn.visible=!0,e.stateLab.text="",e.nameLab.text=e.bu.name,e.headImg.source=kLM.JU(e.bu.sex,e.bu.head),e.frameImg.source=kLM.ZQ(e.bu.usehf))},t.prototype.dq=function(){var e=this;e.bu&&(e.bloodLab.text=(e.bu.attr.lefthp/e.bu.attr.hp*100).toFixed(2)+"%",e.bloodBar.value=int(e.bu.attr.lefthp/e.bu.attr.hp*100),e.bu.attr.lefthp<=0&&(e.attackBtn.visible=!0,e.stateLab.text=""))},t.prototype.ho=function(){var e=this;(e.windowType=2)&&(e.attackBtn.visible=!0,e.stateLab.text="")},Object.defineProperty(t.prototype,"getRoleVo",{set:function(e){var t=this;t.bu=e,t.initData()},enumerable:!0,configurable:!0}),t.prototype.cl=function(){var e=this;if(e.bu){if(e.bu.uid==App.KF.uid)return void msgTip(fvg.GVf("shuramap03"));vkG.$d(UtJ.TZ,e.bu),e.attackBtn.visible=!1,1==e.windowType&&(e.stateLab.text=fvg.GVf("shuramap06")),2==e.windowType&&(e.stateLab.text=fvg.GVf("shuramap07"))}},t.prototype.show=function(){var e=this;e.parent||App.FT.addToLayer(this,alvJ.WL)},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.bloodLab),t.bloodLab=null,GObj.$d(t.enemyLab),t.enemyLab=null,GObj.$d(t.bloodBar),t.bloodBar=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.attackBtn),t.attackBtn=null,GObj.$d(t.stateLab),t.stateLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(AttackerView.prototype,"AttackerView");var ChatListView=function(e){function t(){var t=e.call(this)||this;return t.init(),t}return __extends(t,e),t.prototype.init=function(){var e=this,t=rRcz.SS(78,!1);e.y=t?66:9,e.width=494,e.height=t?588:640,e.datas=GObj.$c(eui.ArrayCollection),e.itemList=GObj.$c(eui.DataGroup),e.viewport=e.itemList},t.prototype.refresh=function(e){var t=this;t.xq(),e=e||[];for(var n,i=e.length,r=0;i>r;r++)App.FQ.isShowChatData(e[r])&&(n=App.FQ.getOneChatVo(),e[r].read=!0,ObjectUtil.oto(e[r],n),t.datas.source.push(n));t.datas.refresh(),ClockManager.setTimeout(t.scrollV,this,50,!0)},t.prototype.scrollV=function(e){var t=this;t.viewport&&(t.viewport.contentHeight<=t.height||(t.viewport.validateNow(),t.viewport.scrollV=t.viewport.contentHeight-t.height))},t.prototype.refreshAll=function(){},t.prototype.xq=function(){var e=this;if(e.datas){var t=e.datas.source;if(t)for(;t.length>0;)App.FQ.addChatVoToPools(t.pop())}},t.prototype.addOneChatVo=function(e){var t=this;if(t.datas){if(t.datas.source.length>=ChatManager.DP){var n=t.datas.removeItemAt(0);n&&App.FQ.addChatVoToPools(n)}else ClockManager.setTimeout(t.scrollV,this,50);var i=App.FQ.getOneChatVo();e.read=!0,ObjectUtil.oto(e,i),t.datas.addItem(i)}},t.prototype.dispose=function(){var e=this;e.stopAnimation(),e.viewport=null,e.parent&&e.parent.removeChild(e),e.itemList&&(e.itemList.dataProvider=null,GObj.$d(e.itemList)),e.itemList=null,e.xq(),e.datas=null},t}(eui.Scroller);__reflect(ChatListView.prototype,"ChatListView");var BaseItemView=function(e){function t(){var t=e.call(this,"BaseItemView")||this;return t._showNumTxt=!0,t._showItemCount=!0,t._gNlK=!1,t._showQuality=!0,t._showEffect=!0,t.zt=!1,t.skinName=RRUU.$e("BaseItemView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){var e=this;e.data=e._data},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;return t._data=e,t.CSo?(t.updateQualityVisible(),t._data&&t._data.TSF?void t.refreshView():(t.clearView(),void t.showDefaultQuality())):void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkStatus",{set:function(e){var t=this;t.zt=e,t.wd()},enumerable:!0,configurable:!0}),t.prototype.clearView=function(){var e=this;e.qualityDisplay.source=null,e.starDisplay.source=null,e.iconDisplay.icon=null,e.numTxt.text="",e.redPoint.source=null,e.stepDisplay.source=null,e.clearEffect()},t.prototype.clearEffect=function(){var e=this;e.orangeEff&&e.orangeEff.stop(),e.redEff&&e.redEff.stop(),e.coloredEff&&e.coloredEff.stop(),e.orangeEff&&e.orangeEff.parent&&e.orangeEff.parent.removeChild(e.orangeEff),e.redEff&&e.redEff.parent&&e.redEff.parent.removeChild(e.redEff),e.coloredEff&&e.coloredEff.parent&&e.coloredEff.parent.removeChild(e.coloredEff)},t.prototype.refreshView=function(){var e=this;e.updateQuality(),e.updateIcon(),e.updateNumTxt(),e.aiW(),e.updateEffect(),e.wd(),e.vz(),e.eww()},t.prototype.wd=function(){var e=this;e.checkBox.visible=e.zt},t.prototype.showDefaultQuality=function(){var e=this;e.CSo&&(!e._data&&e._showQuality?e.qualityDisplay.source="core_json.quality_1_png":e.data||e._showQuality||(e.qualityDisplay.source=null))},t.prototype.updateQuality=function(){var e=this;if(e._data&&e.CSo){var t=e._data.quality;e.qualityDisplay.source=aKF.LU(t)}},t.prototype.updateQualityVisible=function(){var e=this,t=e._showQuality;t&&e.data&&e._showEffect&&e._data.quality>=aKF.JN&&(t=!1),t?e.qualityDisplay.parent||e.addChildAt(e.qualityDisplay,0):e.qualityDisplay.parent&&e.qualityDisplay.parent.removeChild(e.qualityDisplay)},t.prototype.updateNumTxt=function(){var e=this;if(e.CSo&&e._data){if(!e._showNumTxt)return void(e.numTxt.visible=!1);if(e._showItemCount){e.numTxt.visible=!0;var t=e._data.count;e._data.tid==StaticData.TID_VIP_SCORE&&App.VX.wbShare&&(t=10*e._data.count),e.numTxt.text=t>1?NumberUtil.YT(t):""}}},t.prototype.updateIcon=function(){var e=this;if(e.CSo&&e._data){var t=e._data.icon;e.iconDisplay.icon=t}},t.prototype.aiW=function(){var e=this;e.CSo&&(e._gNlK?e.redPoint.source||(e.redPoint.source="bar_json.redPoint_png"):e.redPoint.source=null)},t.prototype.updateEffect=function(){var e=this;e.CSo&&e._data&&(e.clearEffect(),e._showEffect&&(e._data.quality==aKF.JN?(e.orangeEff||(e.orangeEff=App.KB.getUIEffect(gYq.MT),e.orangeEff.stop(),e.orangeEff.x=-9,e.orangeEff.y=-9),e.orangeEff.play(),e.addChildAt(e.orangeEff,0)):e._data.quality==aKF.PU?(e.redEff||(e.redEff=App.KB.getUIEffect(gYq.FZ),e.redEff.stop(),e.redEff.x=-9,e.redEff.y=-9),e.redEff.play(),e.addChildAt(e.redEff,0)):e._data.quality==aKF.KY&&(e.coloredEff||(e.coloredEff=App.KB.getUIEffect(gYq.TG),e.coloredEff.stop(),e.coloredEff.x=-9,e.coloredEff.y=-9),e.coloredEff.play(),e.addChildAt(e.coloredEff,0))))},t.prototype.vz=function(){var e=this;if(e.data&&e.data.TSF){var t=e.data.TSF.star;isNaN(t)?e.starDisplay.source="":e.starDisplay.source="core_json.core_star_"+t+"_png"}},t.prototype.eww=function(){var e,t=this;if(t.data&&(e=t.data.TSF)){var n=e.step,i=e.needgrade,r=QNV.sonType(e.tid),a=r>=Iwrv.FW&&r<=Iwrv.OA;if(!isNaN(n)&&a){var o=App.JP.getTurnupGrade(n);t.stepDisplay.source="core_json.core_turnup_"+Math.min(o,9)+"_png"}else!isNaN(i)&&a?t.stepDisplay.source="core_json.core_grade_"+i+"_png":t.stepDisplay.source=""}},Object.defineProperty(t.prototype,"gNlK",{get:function(){return this._gNlK},set:function(e){var t=this;t._gNlK=e,t.aiW()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showNumTxt",{get:function(){return this._showNumTxt},set:function(e){var t=this;t._showNumTxt=e,t.updateNumTxt()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showQuality",{get:function(){return this._showQuality},set:function(e){var t=this;t._showQuality=e,t.showDefaultQuality(),t.updateQualityVisible()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showEffect",{get:function(){return this._showEffect},set:function(e){var t=this;t._showEffect!=e&&(t._showEffect=e,t.updateEffect(),t.updateQualityVisible())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomText",{set:function(e){var t=this;t._showItemCount=!1,t.numTxt.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomColor",{set:function(e){this.numTxt.textColor=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.destory||(GObj.$d(t.qualityDisplay),t.qualityDisplay=null,GObj.$d(t.starDisplay),t.starDisplay=null,GObj.$d(t.stepDisplay),t.stepDisplay=null,GObj.$d(t.iconDisplay),t.iconDisplay=null,GObj.$d(t.numTxt),t.numTxt=null,GObj.$d(t.redPoint),t.redPoint=null,t.clearEffect(),GObj.$d(t.orangeEff),t.orangeEff=null,GObj.$d(t.redEff),t.redEff=null,GObj.$d(t.coloredEff),t.coloredEff=null,GObj.$d(t.checkBox),t.checkBox=null,t._data=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(BaseItemView.prototype,"BaseItemView");var CommonFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.du=0,n.fr=!0,n.qw={},n.skinName=n.getSkinName(),n}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$e("CommonFrame")},t.prototype.viewY=function(){return 64},t.prototype.frameButtonClz=function(){return FrameButton},t.prototype.loU=function(e){e=""},t.prototype.$updateTab=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this,r=(e.vid,e.index),a=e.data,o=t[0];e.data=__assign({},a,o),i.cs(r),i.zy(UtJ.ZS)},t.prototype.initView=function(){var e=this;e.mq=GObj.$c(kQr),e.footBg.visible=!1},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.mq.addEventListener(egret.Event.CHANGE,t.kl,t),vkG.$a(UtJ.NC,t.mh,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.mq.removeEventListener(egret.Event.CHANGE,t.kl,t),vkG.$r(UtJ.NC,t.mh,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.wn&&(t.ep(t.wn),t.cs(t.du))},t.prototype.$initViewByData=function(e,t){var n=this;if(e&&t){if(n.du=e.index,!n.CSo)return void(n.wn=t);n.ep(t),n.cs(e.index)}},t.prototype.ep=function(e){var t=this;if(e){t.gr={};for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];var o=n.TogBtnClz||t.frameButtonClz();i=GObj.$c(o,n),i.selIcon=n.selIcon,i.unselIcon=n.unselIcon,t.mq.cwAAt(i,n.index),t.an(n)||t.toggleGroup.addChild(i)}t.xp()}},t.prototype.xp=function(){var e=this;1===e.mq.currButtonNum?(e.toggleGroup.visible=!1,e.footBg.visible=!0):(e.toggleGroup.visible=!0,e.footBg.visible=!1)},t.prototype.kl=function(e){var t=this,n=t.mq.LuO,i=n.viewDat;if(i){t.ey(t.kh),t.yk(i.title),t.lh(i);var r=t.pj(i);t.bm(r),t.kh=r,t.zy(t.fr?UtJ.PZ:UtJ.AM),t.fr=!0}},t.prototype.yk=function(e){usable(e)&&(this.title=e)},t.prototype.bm=function(e){e&&(e.visible=!0)},t.prototype.ey=function(e){e&&(e.visible=!1)},t.prototype.mh=function(e,t){var n=this;n.gr[t]&&n.yk(e)},t.prototype.pj=function(e){var t,n=this,i=e.vid,r=e.clzName,a=n.gr[r]||i;return a&&(t=n.qw[a]),t||(r&&(n.gr[r]=i),t=GObj.$c(e.clz),n.qw[i]=t,n.gr[t.id]=i,t.horizontalCenter=0,t.y=n.viewY(),n.addChild(t)),t.viewData=e,t},t.prototype.showFrame=function(){return QycO.YV&&FrameBgLayer.instance.show(),App.FT.frameuiLayer.addChild(this),!1},t.prototype.lh=function(e){var t=e.openData;if(t){var n=t.moneyType||{};this.frameGroup.moneyType=n}},t.prototype.zy=function(e){var t=this.kh;t&&t.dispatchEvent(new egret.Event(e))},t.prototype.cs=function(e){var t=this;t.mq&&t.mq.selectedIndex!=e&&(t.fr=!1,t.mq.selectedIndex=e)},t.prototype.an=function(e){var t=!1,n=e.openData;if(n&&n.payHide&&IoG.EZ())return!0;if("boolean"==typeof e.visable)return!e.visable;var i=rRcz.O_(e,!1);return n&&n.hide&&!i&&(t=!0),t},t.prototype.dispose=function(){var t=this;if(e.prototype.dispose.call(this),t.removeEvent(),GObj.$d(t.mq),t.mq=null,t.kh=null,t.wn=null,t.qw)for(var n in t.qw)GObj.$d(t.qw[n]);t.qw=null,t.parent&&t.parent.removeChild(t)},t}(BaseFrame);__reflect(CommonFrame.prototype,"CommonFrame",["ICommonFrame","IBaseUI","eui.UIComponent","egret.DisplayObject"]);var FrameEffectButton=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$e("SelectedButton_6")},t}(FrameButton);__reflect(FrameEffectButton.prototype,"FrameEffectButton");var FrameGroup=function(e){function t(){var t=e.call(this)||this;return t._skinComplete=!1,t._destory=!1,t._topBarVisible=!0,t.isShowOpenEffect=!0,t.once(egret.Event.COMPLETE,t.__skinCompleteHandler,t),t._frameType=KqZ.ZM,t}return __extends(t,e),Object.defineProperty(t.prototype,"frameType",{get:function(){return this._frameType},enumerable:!0,configurable:!0}),t.prototype.__skinCompleteHandler=function(e){var t=this;if(!t._skinComplete){if(t._destory)return void t.dispose();t._skinComplete=!0,t.init(),t.initEvent(),t.initData()}},t.prototype.init=function(){var e=this;if(e.titleDisplay){var t=e.titleDisplay.source;typeof t==GConst.TOF_STR?usable(t)&&RES.getResAsync(t,e.__resCompleteHandler,e):e.__resCompleteHandler()}e.$topBarVisible(e._topBarVisible),e.openEffect(),e.addEffect()},t.prototype.openEffect=function(){var e=this;if(e.isShowOpenEffect){var t=int(.5*e.width),n=e.height;e.anchorOffsetX=t,e.anchorOffsetY=n,e.x=t,e.y=n,e.scaleX=e.scaleY=.7,e.alpha=.6,egret.Tween.get(e).to({alpha:1,scaleX:1,scaleY:1},300,egret.Ease.backInOut).call(e.openEffectComplete,e)
}},t.prototype.openEffectComplete=function(){var e=this;e.pendantImg.touchEnabled=!1,egret.Tween.get(e.pendantImg).wait(200).to({rotation:10},1).to({rotation:-20},300,egret.Ease.sineIn).to({rotation:6},250,egret.Ease.sineIn).to({rotation:-10},250,egret.Ease.sineIn).to({rotation:3},200,egret.Ease.sineIn).to({rotation:-5},150,egret.Ease.sineIn).to({rotation:0},150,egret.Ease.sineIn).call(e.pendantEffectComplete,e)},t.prototype.pendantEffectComplete=function(){this.pendantImg.touchEnabled=!0},t.prototype.addEffect=function(){QycO.NK},t.prototype.$topBarVisible=function(e){var t=this;t.firstCoinImg&&(t.firstCoinImg.visible=e),t.firstCoinTxt&&(t.firstCoinTxt.visible=e),t.firstCoinBtn&&(t.firstCoinBtn.visible=e),t.secondCoinImg&&(t.secondCoinImg.visible=e),t.secondCoinTxt&&(t.secondCoinTxt.visible=e),t.secondCoinBtn&&(t.secondCoinBtn.visible=e)},Object.defineProperty(t.prototype,"topBarVisible",{get:function(){return this._topBarVisible},set:function(e){var t=this;t._topBarVisible!=e&&(t._topBarVisible=e,t.$topBarVisible(e))},enumerable:!0,configurable:!0}),t.prototype.setFirstCoin=function(){var e=this,t=e._moneyType.fstTid||StaticData.TID_POINT_ID;e.firstCoinImg&&(e.firstCoinImg.goodsTid=t),e.hidePayUI(t,e.firstCoinBtn),e.ad()},t.prototype.setSecondCoin=function(){var e=this,t=e._moneyType.scdTid||StaticData.TID_GOLD_ID;e.secondCoinImg&&(e.secondCoinImg.goodsTid=t),e.hidePayUI(t,e.secondCoinBtn),e.td()},t.prototype.hidePayUI=function(e,t){e===StaticData.TID_PLATFORM&&(t.visible=!1),e===StaticData.TID_POINT_ID&&IoG.EZ()&&(t.visible=!1)},t.prototype.__resCompleteHandler=function(){var e=this;e.titleDisplay&&(e.titleDisplay.x=42+.5*(96-e.titleDisplay.width))},t.prototype.mt=function(e){this.__resCompleteHandler()},t.prototype.initEvent=function(){var e=this;e.returnBtn&&e.returnBtn.addEventListener(eui.tep,e.__closeClickHandler,e),e.titleDisplay&&e.titleDisplay.addEventListener(egret.Event.COMPLETE,e.mt,e),e.firstCoinBtn&&e.firstCoinBtn.addEventListener(eui.tep,e.fv,e),e.secondCoinBtn&&e.secondCoinBtn.addEventListener(eui.tep,e.jq,e),e.firstCoinTxt&&e.firstCoinTxt.addEventListener(eui.tep,e.fv,e),e.secondCoinTxt&&e.secondCoinTxt.addEventListener(eui.tep,e.jq,e),e.pendantImg&&e.pendantImg.addEventListener(eui.tep,e.lt,e)},t.prototype.initData=function(){var e=this;e._moneyType?e.moneyType=e._moneyType:e.moneyType={}},t.prototype.removeEvent=function(){var e=this;e.returnBtn&&e.returnBtn.removeEventListener(eui.tep,e.__closeClickHandler,e),e.titleDisplay&&e.titleDisplay.removeEventListener(egret.Event.COMPLETE,e.mt,e),e.firstCoinBtn&&e.firstCoinBtn.removeEventListener(eui.tep,e.fv,e),e.secondCoinBtn&&e.secondCoinBtn.removeEventListener(eui.tep,e.jq,e),e.firstCoinTxt&&e.firstCoinTxt.removeEventListener(eui.tep,e.fv,e),e.secondCoinTxt&&e.secondCoinTxt.removeEventListener(eui.tep,e.jq,e),e.pendantImg&&e.pendantImg.removeEventListener(eui.tep,e.lt,e),e.removeEventListener(egret.Event.COMPLETE,e.__skinCompleteHandler,e),vkG.$r(e.cm,e.ad,e),vkG.$r(e.gi,e.td,e)},t.prototype.lt=function(e){this.openEffectComplete()},t.prototype.ad=function(){var e=this,t=e._moneyType.fstTid||StaticData.TID_POINT_ID;e.firstCoinTxt&&(e.firstCoinTxt.text=NumberUtil.DB(App.IQ.getMoneyByTid(t)))},t.prototype.td=function(){var e=this,t=e._moneyType.scdTid||StaticData.TID_GOLD_ID;e.secondCoinTxt&&(e.secondCoinTxt.text=NumberUtil.DB(App.IQ.getMoneyByTid(t)))},t.prototype.fv=function(e){var t=this._moneyType;if(t){var n=t.fstTid,i=t.fstVid;n?isNaN(i)||0===i?_JDW.TR(n):App.VS.open(i):rRcz.MF()}},t.prototype.jq=function(e){var t=this._moneyType;if(t){var n=t.scdTid,i=t.scdVid;n?isNaN(i)||0===i?_JDW.TR(n):App.VS.open(i):_JDW.TR(StaticData.TID_GOLD_ID)}},Object.defineProperty(t.prototype,"moneyType",{set:function(e){var t=this;t.jcr(e),t._moneyType=e,t.setFirstCoin(),t.setSecondCoin()},enumerable:!0,configurable:!0}),t.prototype.jcr=function(e){var t=this;t._moneyType||(t._moneyType={}),t.cm=t.hc(t._moneyType.fstTid||StaticData.TID_POINT_ID,e.fstTid||StaticData.TID_POINT_ID,t.ad),t.gi=t.hc(t._moneyType.scdTid||StaticData.TID_GOLD_ID,e.scdTid||StaticData.TID_GOLD_ID,t.td)},t.prototype.hc=function(e,t,n){var i=this,r=App.IQ.getMoneyEventByTid(e);vkG.$r(r,n,i);var a=App.IQ.getMoneyEventByTid(t);return vkG.$a(a,n,i),a},t.prototype.__closeClickHandler=function(){var e=this;e.ea(!1),egret.Tween.get(e).to({alpha:.1,scaleX:.3,scaleY:.3},200,egret.Ease.backIn).call(e.qm,e)},t.prototype.qm=function(){var e=this;e.alpha=1,e.scaleX=1,e.scaleY=1,e.__closeFrame()},t.prototype.__closeFrame=function(){vkG.$d(UtJ.ZU),App.VS.close(this.frameid)},t.prototype.ea=function(e){var t=this;t.content&&(t.content.visible=e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.dispose=function(){var e=this;e.removeEvent(),e._destory=!0,e.pendantImg&&egret.Tween.removeTweens(e.pendantImg),egret.Tween.removeTweens(e),GObj.$d(e._effectMc),e._effectMc=null,e.parent&&e.parent.removeChild(e)},t}(eui.Panel);__reflect(FrameGroup.prototype,"FrameGroup");var UIEffect=function(e){function t(){var t=e.call(this)||this;return t._enterFrame=0,t}return __extends(t,e),t.prototype.update=function(){this._enterFrame++},t.prototype.recycle=function(){},t.prototype.dispose=function(){this.recycle()},t}(eui.Component);__reflect(UIEffect.prototype,"UIEffect");var LKj=function(e){function t(){var t=e.call(this)||this;return t._isDie=!1,t._isStart=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"tid",{get:function(){return this._tid},set:function(e){this._tid=e},enumerable:!0,configurable:!0}),t.prototype.start=function(){var e=this;App.HA.registeEnterFrame2(e.__checkCanDisplay,e)},t.prototype.__checkCanDisplay=function(){var e=this;e.canDisplay()&&(App.HA.unRegisteEnterFrame2(e.__checkCanDisplay,e),App.VS.closeAll(),e._isStart=!0,e.next())},t.prototype.canDisplay=function(){return 1===App.UY.sceneType},t.prototype.next=function(){},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},t.prototype.dispose=function(){var e=this;e._isDie||(e._isDie=!0,App.HA.unRegisteEnterFrame2(e.__checkCanDisplay,e),iWw.instance.dispose(),e.dispatchEvent(new egret.Event(UtJ.EC)))},t.prototype.endGuide=function(){var e=this;e._isStart&&e.dispose(),e._tid!==hXS.WL[0]&&fNs.instance["do"](hXS.WL[0])},t.prototype.arrowFrameReturnBtn=function(e){void 0===e&&(e="");var t,n=App.VS.getExistUIFrame();if(n&&(t=n.$children[0].returnBtn),t){var i=GObj.$c(MXy);i.Fuu=t,i.parentC=App.FT.frameuiLayer,i.undefinedkr=!0,iWw.instance.MtK(i,!0)}},t.prototype.arrowPopReturnBtn=function(e,t){if(void 0===t&&(t=""),e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.offsetY=-20,iWw.instance.MtK(n,!0)}},t.prototype.arrowMainBtn=function(e,t){if(void 0===t&&(t={}),e){iWw.instance.showMask();var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.offsetX=t.offsetX||0,n.offsetY=t.offsetY||0,n.txt=t.txt,n.txtDir=t.txtDir||1,n.setCallBack(iWw.instance.hideMask,iWw.instance),iWw.instance.MtK(n,!0)}},t}(egret.EventDispatcher);__reflect(LKj.prototype,"LKj");var BarView=function(e){function t(t){var n=e.call(this,t)||this;return n.flag=1024,n}return __extends(t,e),t.prototype.initSkin=function(){var e=this;e._initSkin||(e._initSkin=!0)},Object.defineProperty(t.prototype,"barType",{get:function(){return 1},enumerable:!0,configurable:!0}),t.prototype.show=function(){var e=this;e.parent||(e.initSkin(),App.FT.addToLayer(this,alvJ.WL))},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(BarView.prototype,"BarView");var TopToolsBaseBtn=function(e){function t(t){var n=e.call(this)||this;n._gNlK=!1,n.any={},n.btnType=t,n.once(egret.Event.COMPLETE,n.__skinCompleteHandler,n);var i=RRUU.$s("TopToolsBaseBtnSkin");return n.skinName=i,n}return __extends(t,e),t.prototype.__skinCompleteHandler=function(e){var t=this;t.skinComplete=!0,t.initView(),t.initEvent(),t.initData(),t.wd()},t.prototype.initView=function(){var e=this;e.iconView.icon=kLM.BD(e.btnType),e.iconView.loadCompleteCall(e.__iconLoaderComplete,e)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.__clickHandler,e),App.BL.add(e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.__clickHandler,e),vkG.$r(HUtJ.HEARTBEAT,e["do"],e),App.BL.remove(e)},t.prototype.__iconLoaderComplete=function(){var e=this;e.redPointImg.x=e.iconView.width-e.redPointImg.width},t.prototype.initData=function(){this.aiW()},t.prototype.__clickHandler=function(e){var t=this;if(t._isBtnMc&&(t._isBtnMc=!1),t.btn_mc&&(GObj.$d(t.btn_mc),t.btn_mc=null),e.currentTarget.parent.parent.parent instanceof TopToolsBar)TopToolsBar.instance.clickBtnByType(t.btnType);else if(e.currentTarget.parent.parent instanceof TopButtonGroupPopUi){var n=e.currentTarget.parent.parent;n.clickBtnByType(t.btnType),vkG.$d(UtJ.IM)}},Object.defineProperty(t.prototype,"gNlK",{get:function(){return this._gNlK},set:function(e){var t=this;t._gNlK=e,t.pv=e,t.updataRedPointState(),t.ff()},enumerable:!0,configurable:!0}),t.prototype.updataRedPointState=function(){this.aiW()},t.prototype.aiW=function(){var e=this;e.skinComplete&&(e._gNlK?e.redPointImg.visible=!0:e.redPointImg.visible=!1,e.isBtnMc=!1)},t.prototype.ff=function(){vkG.$d(UtJ.VYP+this.btnType)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.gq=e[0],n.lk=e[1],n.nameXYZ=e[2],n.timeXYZ=e[3],n.nameVal=e[4],n.timeVal=e[5],n.wd())},t.prototype.wd=function(){var e=this;e.skinComplete&&(e.gq?(e.nameTxt.text=e.nameVal,e.nameTxt.x=parseInt(e.nameXYZ[0]),e.nameTxt.y=parseInt(e.nameXYZ[1]),e.addChild(e.nameTxt)):e.nameTxt.parent&&e.nameTxt.parent.removeChild(e.nameTxt),e.lk?(vkG.$r(HUtJ.HEARTBEAT,e["do"],e),vkG.$a(HUtJ.HEARTBEAT,e["do"],e),e.timeTxt.x=parseInt(e.timeXYZ[0]),e.timeTxt.y=parseInt(e.timeXYZ[1]),e.addChild(e.timeTxt)):e.timeTxt.parent&&e.timeTxt.parent.removeChild(e.timeTxt))},t.prototype["do"]=function(){var e=this;if(e.skinComplete){var t=App.NN.serverSecond,n=kpd.YW(e.timeVal-t);e.timeVal-t<=0?e.timeTxt.textFlow=LgRe.OQ(fvg.GVf("public097")):e.timeTxt.text=n}},Object.defineProperty(t.prototype,"isBtnMc",{set:function(e){var t=this,n=StaticData.TOPTOOL_BAR_CONF[t.btnType];t._isBtnMc=!!n&&!!n.isBtnMc,t._isBtnMc?(t.btn_mc=App.KB.getUIEffect(gYq.BT),t.btn_mc.x=-7,t.btn_mc.y=-6,t.contentGroup.addChild(t.btn_mc)):t.btn_mc&&(GObj.$d(t.btn_mc),t.btn_mc=null)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;e.removeEvent(),e.btn_mc&&(e.btn_mc.stop(),GObj.$d(e.btn_mc),e.btn_mc=null),e.parent&&e.parent.removeChild(e)},t}(eui.Button);__reflect(TopToolsBaseBtn.prototype,"TopToolsBaseBtn");var BetterEquippedTip=function(e){function t(){var t=e.call(this,"BetterEquippedTip")||this;return t.skinName=RRUU.$s("SpecialBaseTip"),t}return __extends(t,e),t.prototype.initView=function(){this.confirmBtn.label=fvg.GVf("305")},t.prototype.initData=function(){var e=this;e.specialInfo=e._specialInfo},t.prototype.checkShow=function(){var e=this;if(App.KF.chapter<StaticData.SPECIAL_TIP_CH)return!1;if(e.specialInfo&&e.specialInfo.data){var t=e.specialInfo.data,n=App.FK.getnlwjByGoodsId(t.id);if(n&&1==n.btype&&!n.canWear){var i=App.FK.Fkl(2,n.sonType);if(0==i.length||i[0].TSF.p2<n.TSF.p2)return!0}}return!1},t.prototype.updateView=function(){var e=this;e.CSo&&e.specialInfo&&e.specialInfo.data&&(e.goods=e.specialInfo.data,e.itemView.data=e.goods,e.nameTxt.text=e.goods.TSF.name,e.nameTxt.textColor=aKF.DU(e.goods.quality))},t.prototype.execute=function(){var e=this;if(e.specialInfo&&e.specialInfo.data){var t=e.specialInfo.data,n=App.FK.getnlwjByGoodsId(t.id);n&&1==n.btype&&GoodsMsgProxy.QA(n.btype,n.id,n.tid)}},t.prototype.dispose=function(){var t=this;GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,t.goods=null,e.prototype.dispose.call(this)},t}(SpecialBaseTip);__reflect(BetterEquippedTip.prototype,"BetterEquippedTip");var BossReviveTip=function(e){function t(){var t=e.call(this,"BossReviveTip")||this,n=RRUU.$s("BossReviveTipSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.confirmBtn.label=fvg.GVf("103"),e.checkBox.label=fvg.GVf("public051")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.checkBox.addEventListener(egret.Event.CHANGE,t.__checkBoxChangeHandler,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.checkBox.removeEventListener(egret.Event.CHANGE,t.__checkBoxChangeHandler,t)},t.prototype.__checkBoxChangeHandler=function(e){SpecialTipsBar.instance.bossRevive=this.checkBox.selected},t.prototype.updateView=function(){var e=this;if(e.CSo&&e.specialInfo&&e.specialInfo.data){var t=App.MB.getBossById(e.specialInfo.data);t&&(e.nameTxt.text=t.TSF.name,e.iconView.icon=kLM.VJ(t.TSF.icon))}},t.prototype.execute=function(){var e=this;e.specialInfo&&e.specialInfo.data&&App.VS.open(10026)},t.prototype.tweenOver=function(){var e=this;egret.Tween.get(e).wait(6e4).call(e.dispose,e)},t.prototype.checkShow=function(){var e=this;return 40005e3==e.specialInfo.data?!1:e.specialInfo.tipType===SpecialTipType.FL&&e.specialInfo.data!==App.MB.getBestHomeBossId()?!1:!0},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.iconGroup),t.iconGroup=null,GObj.$d(t.checkBox),t.checkBox=null},t}(SpecialBaseTip);__reflect(BossReviveTip.prototype,"BossReviveTip");var BaseTipsPopUI=function(e){function t(){var t=e.call(this,"BaseTipsPopUI")||this;return t.skinName=RRUU.$s("BaseTipsPopUI"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.maxLabel.text=fvg.GVf("public014")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;e.CSo&&e._skillVo&&(e.updateView(),e.updateData())},t.prototype.updateView=function(){this.quilityImg.source=null},t.prototype.updateData=function(){},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n._skillVo=e[0]),n.initData()},t.prototype.ir=function(){GObj.$d(this)},t.prototype.getTitleByMastype=function(e){switch(e){case 32:return fvg.GVf("imm09");case 89:return fvg.GVf("flysword9")}},t.prototype.getSpecialTitleByMastype=function(e){return""},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.popGroup),t.popGroup=null,GObj.$d(t.itemIcon),t.itemIcon=null,GObj.$d(t.headGroup),t.headGroup=null,GObj.$d(t.skillName),t.skillName=null,GObj.$d(t.capLabel),t.capLabel=null,GObj.$d(t.lvLabel),t.lvLabel=null,GObj.$d(t.centerGroup),t.centerGroup=null,GObj.$d(t.currGroup),t.currGroup=null,GObj.$d(t.currLab),t.currLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextGroup),t.nextGroup=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.bottomGroup),t.bottomGroup=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.costGroup),t.costGroup=null,GObj.$d(t.costTxt),t.costTxt=null,GObj.$d(t.costImg),t.costImg=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.proGroup),t.proGroup=null,GObj.$d(t.skillProBar),t.skillProBar=null,GObj.$d(t.skillProLab),t.skillProLab=null,GObj.$d(t.quilityImg),t.quilityImg=null,GObj.$d(t.maxLabel),t.maxLabel=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BaseTipsPopUI.prototype,"BaseTipsPopUI");var GeneralAboutPopUi=function(e){function t(t){var n=e.call(this,t?t:"GeneralAboutPopUi")||this;return n.skinName=n.skinString,n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),Object.defineProperty(t.prototype,"skinString",{get:function(){return RRUU.$s("GeneralAboutPopUi")},enumerable:!0,configurable:!0}),t.prototype.initView=function(){this.title=fvg.GVf("harry9")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.updateView()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n._aboutType=e[0],e[1]&&(n.title=e[1]),n.updateView())},t.prototype.updateView=function(){var e=this;e.CSo&&e._aboutType&&(t.WQ?e.updateDescText():LoaderManager.instance.load(PATH.OS+"desc.json",e.iu,e))},t.prototype.iu=function(e){e&&e.data&&(t.WQ=e.data,this.updateDescText(),e.dispose())},t.prototype.updateDescText=function(){var e=this;!e.destory&&t.WQ&&(e.descTxt&&LgRe.UQ(e.descTxt,t.WQ[e._aboutType]||"undefined"),e.height=e.measuringHeight)},Object.defineProperty(t.prototype,"measuringHeight",{get:function(){var e=this,t=e.descTxt?e.descTxt.height:0;return t>220?80+t:300},enumerable:!0,configurable:!0}),t.prototype.tf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GeneralAboutPopUi.prototype,"GeneralAboutPopUi");var BaseItemRenderer=function(e){function t(){var t=e.call(this)||this;return t.skinComplete=!1,t.tr=!1,t.destory=!1,t._w="",t.rr=!1,t.once(egret.Event.COMPLETE,t.__skinCompleteHandler,t),t}return __extends(t,e),t.prototype.__skinCompleteHandler=function(e){var t=this;t.skinComplete=!0,t.init()},t.prototype.init=function(){var e=this;if(e.skinComplete){if(e.tr=!0,e.destory)return void e.dispose();e.initView(),e.initEvent(),e.initData()}},t.prototype.initView=function(){},t.prototype.initEvent=function(){},t.prototype.initData=function(){},Object.defineProperty(t.prototype,"CSo",{get:function(){return this.tr},enumerable:!0,configurable:!0}),t.prototype.invalidateState=function(){var t=this;e.prototype.invalidateState.call(this),t._w=t.getCurrentState(),("up"==t._w||"upAndSelected"==t._w)&&t.selected!=t.rr&&(t.rr=t.selected,t.selectedChange())},t.prototype.selectedChange=function(){},t.prototype.dispose=function(){var e=this;e.destory=!0,e.removeEventListener(egret.Event.COMPLETE,e.__skinCompleteHandler,e),e.parent&&e.parent.removeChild(e)},t}(eui.ItemRenderer);__reflect(BaseItemRenderer.prototype,"BaseItemRenderer");var BaseView=function(e){function t(t){var n=e.call(this,t)||this;return n.bp=0,n.addEventListener(UtJ.PZ,n.eb,n),n.addEventListener(UtJ.AM,n.hj,n),n.addEventListener(UtJ.ZS,n.hu,n),n.once(egret.Event.COMPLETE,n.ui,n),n}return __extends(t,e),Object.defineProperty(t.prototype,"viewData",{get:function(){return this.rp},set:function(e){var t=this;t.rp=e,t.vid=e.vid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabType",{get:function(){var e=this;if(!e.viewData)return-1;var t=e.viewData.data;if(!t)return-1;var n=t.tabType;return n||-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(e){vkG.$d(UtJ.NC,e,this.id)},enumerable:!0,configurable:!0}),t.prototype.dataUpdated=function(){},t.prototype.ui=function(){this.sr(2)},t.prototype.eb=function(){this.sr(8)},t.prototype.hj=function(){this.sr(1)},t.prototype.hu=function(){this.sr(4)},t.prototype.sr=function(e){var t=this;t.bp|=e,t.bp<7||(t.bp=2,t.dataUpdated())},t.prototype.dispose=function(){var t=this;t.removeEventListener(UtJ.PZ,t.eb,t),t.removeEventListener(UtJ.ZS,t.hu,t),t.removeEventListener(UtJ.AM,t.hj,t),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BaseView.prototype,"BaseView");var PopUI=function(e){function t(t){var n=e.call(this,t)||this;return vkG.$a(UtJ.JE,n.hp,n),n}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.hp=function(){var e=this;e.destory||GObj.$d(e)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;vkG.$r(UtJ.JE,t.hp,t),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PopUI.prototype,"PopUI",["IPopUICom"]);var DescriptorUtil=function(){function e(){}return e.LJ=function(e,t,n){var i=n.value;return n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=App.UY.isPvPScene(1);if(n){var r=e[0];if(!r)return void i.apply(this,e);vkG.$d(UtJ.GM,r),ClockManager.setTimeout.apply(ClockManager,[i,this,2200].concat(e))}else i.apply(this,e)},n},e}();__reflect(DescriptorUtil.prototype,"DescriptorUtil");var DnQ=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shield=0,t.lefthp=0,t.fereNextTime=0,t.rareNextTime=0,t.flyswordNextTime=0,t.cloakTime=0,t.spikeTime=0,t.lgnoreTime=0,t.runeBodyCareTime=0,t.evcardPveTime=0,t.ograde=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"hp",{get:function(){return this.wq},set:function(e){var t=this;(t.lefthp<=0||t.lefthp>e)&&(t.lefthp=e),t.wq=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxhp",{get:function(){return this.wq},enumerable:!0,configurable:!0}),t.prototype.setAttrTemp=function(e){e&&ObjectUtil.oto(e,this)},t.prototype.init=function(){var e=this;e.atk=0,e.def=0,e.hp=0,e.crit=0,e.recr=0,e.dodge=0,e.hit=0,e.redef=0,e.imprate=0,e.decrate=0,e.critrate=0,e.recrate=0,e.dorate=0,e.hitrate=0,e.crdamrate=0,e.hpdrainrate=0,e.rehprate=0,e.rebdrate=0,e.lefthp=0,e.shield=0,e.actatk=0,e.actcritrate=0,e.actcritharm=0,e.lfh=0,e.lc=0,e.lh=0,e.lr=0,e.it=0,e.il=0,e.ix=0,e.iy=0,e.temp=0,e.fereatk=0,e.ferereal=0,e.fere2dam=0,e.fere5dam=0,e.fere10dam=0,e.feresd=0,e.feretobossdam=0,e.ferecritodampre=0,e.ferehittodampre=0,e.ferepietodampre=0,e.feredeftodampre=0,e.ferecrit=0,e.ferecrith=0,e.feretoweakdampre=0,e.ferefulldampre=0,e.feretime=0,e.hurtadd=0,e.fereNextTime=0,e.cap=0,e.exn=0,e.exr=0,e.reex=0,e.darkone=0,e.darktwo=0,e.darkthree=0,e.darkfour=0,e.sword=0,e.pfh=0,e.pfcd=0,e.pfdef=0,e.pfc2=0,e.pfc5=0,e.cloakTime=0,e.spikeTime=0,e.lgnoreTime=0,e.runeBodyCareTime=0,e.buffs={},e.ograde=0,e.wlch=0,e.wlcr=0,e.wlir=0,e.wlcct=0,e.wlhhr=0,e.wlbr=0,e.wlhp=0,e.wldef=0,e.wldodge=0,e.wlhit=0,e.bpp=0,e.bpt=0,e.assaultratio=0,e.evcardpropve=0,e.evcardatkpve=0,e.evcardpropvp=0,e.evcardatkpvp=0,e.evcardPveTime=0,e.equip1imprate=0,e.equip2imprate=0,e.equip3imprate=0,e.equip4imprate=0,e.equip5imprate=0,e.equip6imprate=0,e.equip7imprate=0,e.equip8imprate=0,e.hhitrate=0,e.hhitdamrate=0,e.hhitdam=0,e.hhitdamdkl=0,e.hhitdamjsl=0,e.zhitrate=0,e.zhitdamrate=0,e.zhitdam=0,e.zhitdamdkl=0,e.zhitdamjsl=0,e.feregj=0,e.inres=0,e.ratk=0,e.uscdrate=0,e.ushrate=0,e.ustoboss=0,e.rareanimalsatk=0,e.rareanimalsimprate=0,e.bladeatkrate=0,e.bladedamrate=0,e.bladedam=0,e.bladeredef=0,e.bladeatk=0,e.bladecrit=0,e.rise_atk=0,e.rise_hp=0,e.rise_def=0,e.rise_redef=0,e.rise_crit=0,e.rise_recr=0,e.rise_dodge=0,e.rise_hit=0,e.lv5_atk=0,e.lv5_hp=0,e.lv5_def=0,e.lv5_redef=0,e.lv5_crit=0,e.lv5_recr=0,e.lv5_dodge=0,e.lv5_hit=0},t}(AttributeTemplate);__reflect(DnQ.prototype,"DnQ");var AboutType=function(){function e(){}return e.KP="harry",e.GY="crossarena",e.OZ="soaring",e.ZO="outer",e.BF="palaceboss",e.IL="cons",e.HC="rune",e.FW="crossharry",e.PU="redbag",e.RA="mine",e.EB="minebeauty",e.RB="battleequip",e.ZZ="citybattle",e.VW="inter",e.NB="explore",e.VF="official",e.QA="collhall",e.RQ="treasury",e.XE="auction",e._X="purgatory",e.H_="jingu",e.OJ="zhenwu",e.FE="wushen",e.ZQ="pavilion",e.GS="wulintreasury",e.HL="wlmeliteBoss",e.NP="eliminate",e.DY="horoskop",e.ZN="familywar",e.N_="valentines",e._U="rate_show1",e.DK="rate_show2",e.IS="rate_show3",e.BQX="red_envelopes_free",e.HI="red_envelopes_buy",e.GW="red_envelopes_cash",e.TO="direct_crash",e}();__reflect(AboutType.prototype,"AboutType");var BossNodeType=function(){function e(){}return e.ZE=101,e.XG=301,e.LP=302,e.WJ=411,e.UM=412,e.VR=421,e.IA=431,e.HQ=711,e.BI=712,e.AH=721,e.TR=811,e.JE=812,e.NR=821,e.QL=911,e.DG=912,e.UI=921,e.CJ=1801,e.IC=1901,e.UC=2001,e.ZOP=2101,e}();__reflect(BossNodeType.prototype,"BossNodeType");var Color=function(){function e(){}return e.HA="#f1fcfd",e.XB=15858941,e.LZ="#00e810",e.TX=59408,e.WU="#ddbf24",e.HE=14532388,e.HRR="#004899",e.WH=18585,e.HW="#2a2a2a",e.SE=2763306,e.SJ="#757575",e.HQ=7697781,e.NP="#d26503",e.YO=13788419,e.OS="#0af115",e.QO=717077,e.PZ="#1bd7ff",e.SD=1824767,e.RL="#e373ff",e.XP=14906367,e.SX="#fbaf2b",e.KH=16494379,e.AY="#ff0d0d",e.KA=16715021,e.XK="#007f09",e.SQ=32521,e.QL="#ff6467",e.PY=16737383,e.AX=e.HA,e.SDA=e.XB,e.SM=e.OS,e.IS=e.QO,e.GG=e.PZ,e.ZY=e.SD,e.OL=e.RL,e.DB=e.XP,e.ABT=e.SX,e.KK=e.KH,e.FG=e.QL,e.YM=e.PY,e.UW=e.QL,e.QC=e.PY,e.ZK=e.WU,e.UF=e.HE,e}();__reflect(Color.prototype,"Color");var QycO=function(){function e(){}return e.OK="",e.QK=0,e.SY="_",e.XN="/",e.UQ="x",e.WG="not now!",e.XP=",",e.PK="|",e.RI=";",e.CD=":",e.PP="_",e.IF="-",e.WO="_png",e.HP="eff",e.BE={},e.JI=!1,e.IN="",e.JB="",e.TV="",e.TJ=!1,e.NH="resource/",e._A=!0,e.NK=!1,e.BJR=!1,e.BP=0,e.FJ=!1,e.PW=!1,e.DG=!1,e.XZ=!1,e.KE=!1,e.RZ=!1,e.NS=!1,e.GH="weixinpay",e.HC="CNY",e.YV=!1,e._U=!1,e}();__reflect(QycO.prototype,"QycO");var jAZ=function(){function e(){}return e.YN="SimHei",e.RH=14,e.YA=15858941,e}();__reflect(jAZ.prototype,"jAZ");var IDU=function(){function e(){}return e.WY=!0,e.JX="new_player_award",e.EG="faction_fight_box",e.WI="rune_attrextra_level",e.YH="rune_onestar_maxlevel",e.TT="rune_composite_cost",e.TE="act_inlay_grade",e.HQ="lighting",e.DD="harry_segment_box",e.LV="arena_buy_count",e.EL="arena_buy_consume",e.ZC="cross_arena_support_point",e.FV="invest",e.SM="bank_point_bag",e.EU="bank_growing_bag",e.FF="fereatk_bsae_cd",e.IK="boss_max_atk_count",e.YP="feats_earnings_add",e.LE="material_buy",e.SN="super_vipqq_level",e.LO="first_charge_time",e.HA="recharge_treasure_stage_reward",e.SO="treasure_stage_reward",e.MI="world_cup_box",e.FH="world_cup_score",e.FXI="elite_disciple_count",e.VO="sweep_time",e.PO="fast_sweep",e.JY="activate_card",e.LC="activate_card_wx",e.DE="first_charge",e.TP="charge_extra_point",e.ZV="charge_extra_point_wx",e.YM="change_name_con",e.OI="online_time",e.QY="svip_online_time",e.VF="reborn_fashion",e.IT="toast",e.MS="jh_box",e.VH="jh_box_preview",e.FM="yanmen_find_consume",e.SH="wbshare_max_day",e.QR="WealthDish_ScoreSection",e.TA="WealthDish_CostGold",e.YO="cornucopia_10_point",e.GF="WealthDish_SpecialReward_Score",e._P="lore_critrate_harm",e.B_="cross_arena_maxcount",e.YK="cross_arena_maxbuy",e.UV="cross_arena_buypoint",e.RW="cross_arena_score",e.BM="cross_arena_total_win",e.OZ="treasure_one_price",e.WZ="treasure_one_price2",e.OP="palace_boss_open_time",e.VL="kill_boss_token_point",e.YA="killboss_token_maxcount",e.ON="blood_pool_spike_hurt",e.TJ="reborn_boss",e.AV="reborn_boss_relive_time_space",e.NO="reborn_boss_stage_award",e.BC="dgb_time",e.SK="cross_harry_segment_box",e.KWT="c_city_fight_score_reward",e.DC="c_city_fight_cumulative_reward",e.NY="supervip_open_charge",e.AI="cross_harry_road_cd",e.UZ="rune_clear_cost",e.RX="forgestrengthen_reborn_maxlevel",e.LMU="rune_attr_addratio",e.GS="treasure_cast_cost",e.NE="treasure_clear_ratio_client",e.AR="treasure_clear_cost",e.UG="treasure_star_attr",e._C="treasure_upstar_cost",e.KX="red_bag",e.UP="red_bag_num",e.SX="red_bag_time",e.CE="c_mine_base",e.DX="cs_mine_base",e.GC="c_mine_time",e.FK="cs_mine_time",e.FA="c_mine_count",e.PP="cs_mine_count_config",e.OS="c_mine_building",e.YT="cross_mine_open_time",e.EA="cs_mine_opentime",e.RK="beast_upstar_need_grade",e.MH="j_h_explore",e.YR="j_h_explore_box_preview",e._N="spirit_compose_id",e.IJ="beauty_compose_id",e.MRU="auctionclient",e.QW="auctionserver",e.UI="darkOpenCondition",e._EM="wulin_wushenta",e.LS="wulin_boss_storey",e.IG="wulin_boss_act",e.WM="wulin_occupied_time",e.XP="wulin_occupied_award",e.SHI="wulin_hongbao",e.HI="wulin_score",e.HP="wulin_hongbao_max",e.RT="wulin_xiulian_upitem",e.TV="wulin_stage_open",e.OD="wulin_jueyao_attrs",e.AW="stunt_knack_pre",e.NX="knack_compose_id",e.ED="officalAttr",e.TNO="vip_boss_needcon",e.MM="wulin_elite_wst_needcon",e.D_="qqgame_bluediamond_lv",e.MW="qqgame_bluediamond_daily",e.LVA="eliminate_stage_score",e.GI="eliminate_first_once",e.CW="eliminate_grade_exp",e.FZ="xxl_buy_dat",e.XI="happy_clear_bag_max",e.UJ="happy_clear_challenge",e.JV="happy_clear_buy_item",e._B="family_cooling_time",e.__="family_name_length",e.DY="family_task_reward",e.ZY="family_config",e.FFP="family_rebel",e.QTX="family_power",e.LT="xiyu_common",e.UH="xiyu_atkadd",e.WN="luckegg_config",e.VN="smash_egg_upgrade",e.AC="merge_charge_config",e.RG="familymember_num",e.IW="chinese_valentines_day_big_layer",e.SC="vipInfo",e.ZW="value_pack_preview",e.HE="value_pack_preview_mhxx_wxxyx",e.UW="chapter_ad",e.YL="trevi_fountain_cfg",e.DV="achievement_config",e.QX="chapter_award",e.DN="chapter_award_preview",e.PK="achievement_stage",e.UC="new_server_boss_reward",e.VZ="new_server_boss_vip",e.BQ="new_server_boss_vip_grade",e.PE="nantianmen_att",e.NK="chapter_att_num",e.EH="chapter_att_cfg",e.MN="achievement_day",e.S_="fressshop_day",e.LU="chapter_vip",e.JF="appell_newplayer",e.HR="universe_expend",e.ZZ="retinue_life_fere_relation",e.BT="wealth_dish_stage",e.OK="wealth_dish_rank_condition",e.MGF="chapter_vip_award",e.VY="purgatory_trial_addition",e.KR="purgatory_trial_revive_cost",e.MP="purgatory_trial_revive_count",e.XU="purgatory_trial_config",e.SU="purgatory_trial_open_condition",e.BH="purgatory_campname",e.PQ="purgatory_map",e.BN="purgatory_trial_open_chapter",e.EX="godsuit_first_clock",e.EC="immortal_first_clock",e.KJ="god_suit_equip_first",e.NT="fairy_suit_equip_first",e.AJ="open_space_config",e.SP="open_space_box",e.JT="beauty_open_lv",e.HB="compose_immfre_equip_first",e.EO="send_fere_position",e.RD="items_show_svip6",e.JD="golden_star_reincarnation",e.GQ="golden_star_upper_limit",e.GK="system_direct_buy",e.JC="one_buy_continuity_show",e.YO_="bosshome_svip_limit",e.ZCA="zhenyaota_mount",e.QL="flybladetower_config",e.HJ="flybladetower_drop",e.BZ="zhenmota_big_mount",e.KY="zhenmota_small_mount",e.TB="zhenmota_config",e.MQT="zhenmota_drop",e.RO="flysword_open_lv",e.QD="new_server_boss_cap",e.KA="fere_equip_open",e}();__reflect(IDU.prototype,"IDU");var ConsType=function(){function e(){}return e.VS=1,e.MV=2,e.JZ=3,e.BI=4,e.FZ=5,e.IW=[e.VS,e.MV,e.JZ,e.BI,e.FZ],e}();__reflect(ConsType.prototype,"ConsType");var gYq=function(){function e(){}return e.QB="skill_tuci2",e.NS="tuowei",e.TQ="tuoweiII",e.JQ="die",e.BQ="he",e.DW="show",e.ZU="jiehun_hua",e.WU="jiehunlihua",e.BG="rune_compuse",e.W_="role_level_up",e.PJ="retinue_level_up",e.YR="sadouzi",e.JV="rune_bg",e.PU="ui_levelup",e.TW="ui_zhuanshen",e.BU="dzm",e.RV="capadd",e.HC="buy_pack",e.QJ="ui_vipup",e.YL="sun",e.RS="bust",e.JH=6,e.HZ="activate_tip_bottom",e.CA="activate_tip_light",e.BT="activity_mc",e.FS="aperture_mc",e.TE="award_mc",e.UX="advance_mc",e.MF="activation_mc",e.TU="advanced_mc",e.VW="baozha",e.ZA="big_award_mc",e.VX="big_btn_mc",e.XA="big_skill_mc",e._A="bulletin_mc",e.OF="circle",e.VK="cross_arena_stage_1",e.WW="cross_arena_stage_2",e._S="cross_arena_stage_3",e.VI="cross_arena_stage_4",e.ZQ="cross_arena_stage_5",e.UW="diamond_colored",e.TL="diamond_orange",e.LS="diamond_red",e.XN="diancang_small",e.NO="dog_stick_mc",e.MB="drop_g1",e.OR="drop_g2",e.SX="drop_g3",e.OT="drop_g4",e.GO="drop_g5",e.BS="drop_tip",e.AR="drop4",e.KF="drop5",e.LX="q_3",e.CM="q_4",e.CZ="q_5",e.EJ="q_6",e.CEN="q_7",e.EIGHT_DOORS_IMG_1="eight_doors_img_1",e.EIGHT_DOORS_IMG_2="eight_doors_img_2",e.EIGHT_DOORS_IMG_3="eight_doors_img_3",e.EIGHT_DOORS_IMG_4="eight_doors_img_4",e.EIGHT_DOORS_IMG_5="eight_doors_img_5",e.EIGHT_DOORS_IMG_6="eight_doors_img_6",e.EIGHT_DOORS_IMG_7="eight_doors_img_7",e.EIGHT_DOORS_IMG_8="eight_doors_img_8",e.AA="eli_get_item_mc",e.HN="eli_remove",e.TG="equip_colored",e.MT="equip_orange",e.FZ="equip_red",e.XC="explore_success_mc",e.OB="fight_flame",e.MA="fixsoul_mc_1",e.SUM="fixsoul_mc_2",e.OP="fixsoul_mc_3",e.PG="func_active_mc",e.FH="funny_rank_mc",e.BW="god_of_wealth",e.LY="god_skill_body",e.SZ="god_skill_body_2",e.RY="god_skill_body_3",e.KV="festivalact_3_mc",e.EZ="festivalact_4_mc",e.DZ="harry_enter",e.NM="hunting_mc",e.RK="liefeng",e.QW="magicdisk_pro_mc_1",e.ZE="magicdisk_pro_mc_2",e.LSK="mine_attack",e.VQ="mine_shield",e.YF="nb_skill",e.GB="node_point",e.RR="novice_arrow",e.ZB="recharge_mc",e.QXY="role_special_1",e.AT="role_special_2",e.UL="role_special_3",e.ML="role_special_4",e.SY="rune_fore_mc",e.YV="rune_later_mc",e.BL="rabbit",e.TV="card_bk",e.YX="card_front",e.FE="card_great",e.NF="shield_me",e.WM="skillcd_me",e.SP="small_btn_mc",e.EV="spectrum_mc",e.UQ="success_mc",e.UA="super_reward",e.YLH="surround_mc",e.SH="task_prog_mc",e._E="taskbar_mc",e.AH="treasure_good",e.IH="vip_btn_mc",e.E_="svip_btn_mc",e.JJ="vip_reward_20",e.XV="vip_reward_21",e.YG="vip_reward_23",e.CR="vip_reward_24",e.EKJ="buy_pack_1",e.OW="buy_pack_2",e.BP="buy_pack_3",e.BC="cross_arena_stage_",e.CP="vip_btn",e.AF="fight_mc",e.TX="soaring_mc",e.U_X="peak_mc",e.KG="autotask_mc",e.VEV="timeactivity_mc",e.TN="magic_blade_fate",e.CV="illusion_mc",e.PC="magic_btn",e.FD="magic_bottom_btn",e.AM="e_svip2",e.VG="e_svip3",e.AK="e_vip1",e.NZW="e_vip3",e.UJ="e_vip6",e.F_="e_vip7",e.HK="e_vip8",e.MV="e_vip9",e.LK="ad_mc",e.XH="e_ad14",e.ON="fake_big_skill",e.QP="seven_reward_bg",e.HL="vip_4_mc",e.N_="vip_6_mc",e.XD="vow_mc",e.QR="rune_mc",e.ZV="progress",e.OM="offline_box1",e.YK="offline_box2",e.ES="offline_box3",e.QS="chapter_btn_mc",e.CBY="firstCharge_mc",e.BR="leftbar_vip4_mc",e.NX="leftbar_vip6_mc",e.GI="item_upgrade_mc",e.GH="direct_magic_mc",e.AD="direct_pet_mc",e.VKE="direct_beauty_mc",e.GU="direct_cloak_mc",e.HR="direct_sword_mc",e.NR={},e
}();__reflect(gYq.prototype,"gYq"),gYq.NR[gYq.RK]=10,gYq.NR[gYq.HN]=8,gYq.NR[gYq.XA]=8,gYq.NR[gYq.NM]=7,gYq.NR[gYq.UA]=5,gYq.NR[gYq.LSK]=4,gYq.NR[gYq.GB]=5,gYq.NR[gYq.NO]=5,gYq.NR[gYq.LY]=5,gYq.NR[gYq.LY]=5,gYq.NR[gYq.SZ]=5,gYq.NR[gYq.RY]=5,gYq.NR[gYq.YV]=6,gYq.NR[gYq.UQ]=7,gYq.NR[gYq._A]=8,gYq.NR[gYq.EIGHT_DOORS_IMG_1]=15,gYq.NR[gYq.EIGHT_DOORS_IMG_2]=11,gYq.NR[gYq.EIGHT_DOORS_IMG_3]=13,gYq.NR[gYq.EIGHT_DOORS_IMG_4]=12,gYq.NR[gYq.EIGHT_DOORS_IMG_5]=12,gYq.NR[gYq.EIGHT_DOORS_IMG_6]=15,gYq.NR[gYq.EIGHT_DOORS_IMG_7]=10,gYq.NR[gYq.EIGHT_DOORS_IMG_8]=12,gYq.NR[gYq.NF]=8,gYq.NR[gYq.WM]=9,gYq.NR[gYq.MB]=8,gYq.NR[gYq.OR]=8,gYq.NR[gYq.SX]=8,gYq.NR[gYq.OT]=8,gYq.NR[gYq.GO]=8,gYq.NR[gYq.RR]=8,gYq.NR[gYq.FS]=5,gYq.NR[gYq.TE]=10,gYq.NR[gYq.ZA]=5,gYq.NR[gYq.SY]=6,gYq.NR[gYq.QW]=4,gYq.NR[gYq.BL]=3,gYq.NR[gYq.TN]=11,gYq.NR[gYq.AM]=5,gYq.NR[gYq.VG]=4,gYq.NR[gYq.AK]=5,gYq.NR[gYq.NZW]=3,gYq.NR[gYq.UJ]=3,gYq.NR[gYq.F_]=5,gYq.NR[gYq.HK]=3,gYq.NR[gYq.MV]=5,gYq.NR[gYq.LK]=6,gYq.NR[gYq.XH]=4,gYq.NR[gYq.LX]=5,gYq.NR[gYq.CM]=5,gYq.NR[gYq.CZ]=5,gYq.NR[gYq.EJ]=5,gYq.NR[gYq.CEN]=5,gYq.NR[gYq.XN]=5,gYq.NR[gYq.QP]=5,gYq.NR[gYq.CA]=5,gYq.NR[gYq.YLH]=4,gYq.NR[gYq.N_]=4,gYq.NR[gYq.HL]=5,gYq.NR[gYq.TX]=5,gYq.NR[gYq.TV]=8,gYq.NR[gYq.YX]=8,gYq.NR[gYq.FE]=6,gYq.NR[gYq.ON]=5,gYq.NR[gYq.PC]=5,gYq.NR[gYq.OM]=5,gYq.NR[gYq.YK]=5,gYq.NR[gYq.ES]=5,gYq.NR[gYq.QS]=5,gYq.NR[gYq.KV]=6,gYq.NR[gYq.EZ]=6,gYq.NR[gYq.CBY]=6,gYq.NR[gYq.GH]=8,gYq.NR[gYq.AD]=8,gYq.NR[gYq.VKE]=8,gYq.NR[gYq.GU]=8,gYq.NR[gYq.HR]=8;for(var i=1;5>=i;i++)gYq.NR[gYq.BC+i]=5;var ExploreTypeConst=function(){function e(){}return e.KI=1,e.VZ=2,e.BQ=3,e.GS=4,e.IK=5,e.CR=6,e.IJ=7,e.CY=99999,e.RY=10,e.EP=40,e.AB=303701501,e.HQ=50,e._H=5,e.KQ=999,e.XS="236,529|258,515|283,502|315,492|334,477|338,456|309,429|273,413|241,398|209,389|181,387|160,388|135,392|110,390|85,367|72,338|74,313|80,288|104,276|129,264|152,259|176,250|195,236|218,223|237,213|254,207|271,194|288,174|297,154|269,151|240,157|216,151|193,154|173,157|156,162|135,170|114,171|90,160|90,131|128,102",e.TF="176,519|196,501|224,498|200,472|167,462|136,475|107,479|84,471|62,458|46,429|52,393|89,391|121,396|148,391|167,365|188,343|210,330|239,327|260,315|256,301|264,284|283,280|309,266|325,246|307,233|277,219|242,218|219,214|201,226|175,232|161,226|147,216|141,201|135,172|123,156|153,150|171,153|190,151|217,138|248,119",e}();__reflect(ExploreTypeConst.prototype,"ExploreTypeConst");var FigureType=function(){function e(){}return e.EL="clothe",e.KA="wing",e.UJ="meiren",e.AJ="faqi",e.BW="hiddenweapon",e.XS="treasuretrain",e.WH="huanrens",e.MK="huanren",e.IZ="rare",e.GS="sword",e.ZJ="swordskinup",e}();__reflect(FigureType.prototype,"FigureType");var UtJ=function(){function e(){}return e.FS="FS",e.VF="VF",e.BV="BV",e.AI="AI",e.LG="LG",e.JZ="JZ",e.UW="UW",e.GV="GV",e.YJ="YJ",e.AC="AC",e.TM="TM",e.ZH="ZH",e.BQ="BQ",e.HD="HD",e.SE="SE",e.EL="EL",e.AQ="AQ",e.BG="BG",e.ZU="ZU",e.SO="SO",e.FA="FA",e.YO="YO",e.IW="IW",e.LK="LK",e.UD="UD",e.JE="JE",e.VG="VG",e.FM="FM",e.ZS="ZS",e.PZ="PZ",e.AM="AM",e.NC="NC",e.WK="WK",e.ST="ST",e.SI="SI",e.ND="ND",e.FP="FP",e.IN="IN",e.HL="HL",e.DV="DV",e.OK="OK",e.AP="AP",e.HK="HK",e.VO="VO",e.AJ="AJ",e.GJ="GJ",e.BO="BO",e.MP="MP",e.JD="JD",e.GM="GM",e.GC="GC",e._Z="_Z",e.UX="UX",e.CE="CE",e.FY="FY",e.JK="JK",e.JQ="JQ",e.PR="PR",e.TP="TP",e.QG="QG",e.II="II",e.QO="QO",e.AA="AA",e.XD="XD",e.XE="XE",e.NQ="NQ",e.SY="SY",e.TZ="TZ",e.FE="FE",e.JC="JC",e.QA="QA",e.ZW="ZW",e.EP="EP",e.AB="AB",e.RD="RD",e.LO="LO",e.CH="CH",e.YY="YY",e.XA="XA",e.XL="XL",e._SG="_SG",e.YT="YT",e.ZGT="ZGT",e.GI="GI",e.PT="PT",e.IU="IU",e.SQ="SQ",e.SH="SH",e.AF="AF",e.EU="EU",e.ME="ME",e.ET="ET",e.OV="OV",e.EZ="EZ",e.ZT="ZT",e.ZR="ZR",e.OB="OB",e.KF="KF",e.LN="LN",e.JG="JG",e.ZC="ZC",e.WI="WI",e.DR="DR",e.VU="VU",e.QC="QC",e.RTW="RTW",e.AV="AV",e.BH="BH",e.ITK="ITK",e.SVA="SVA",e.BX="BX",e.MOT="MOT",e.GQ="GQ",e.CG="CG",e.VM="VM",e.CN="CN",e.MU="MU",e.UH="UH",e.EE="EE",e.JI="JI",e.CR="CR",e.SV="SV",e.OU="OU",e.FI="FI",e.AS="AS",e.TH="TH",e.JM="JM",e.JT="JT",e.WZ="WZ",e.JNO="JNO",e.PA="PA",e.HJ="HJ",e.TU="TU",e._W="_W",e.IX="IX",e.QRG="QRG",e._F="_F",e.HBA="HBA",e.RH="RH",e.VS="VS",e.ZQ="ZQ",e.SD="SD",e.UJ="UJ",e.DI="DI",e.IP="IP",e.WL="WL",e.YNK="YNK",e.VOB="VOB",e.LY="LY",e.HNT="HNT",e.X_="X_",e.OFL="OFL",e.EK="EK",e.NS="NS",e.NO="NO",e.YGK="YGK",e.MG="MG",e.YXZ="YXZ",e.CK="CK",e.FU="FU",e.RA="RA",e.EGW="EGW",e.JNB="JNB",e.YR="YR",e.EJG="EJG",e.RU="RU",e.MR="MR",e.IUY="IUY",e.FN="FN",e.PJ="PJ",e.BC="BC",e.ER="ER",e.WSU="WSU",e.BI="BI",e.MV="MV",e.PQI="PQI",e.PE="PE",e.RZ="RZ",e._S="_S",e._O="_O",e.ES="ES",e.CJ="CJ",e.AVM="AVM",e.IZC="IZC",e.CF="CF",e.GK="GK",e.QB="QB",e.A_="A_",e.YG="YG",e.CS="CS",e.OD="OD",e.EHD="EHD",e.HG="HG",e.MF="MF",e._B="_B",e.IYL="IYL",e.SS="SS",e.QR="QR",e.NM="NM",e.RV="RV",e.NH="NH",e.BF="BF",e.TT="TT",e.LL="LL",e.QP="QP",e.UO="UO",e.NL="NL",e.UV="UV",e.YK="YK",e.HA="HA",e.NB="NB",e.HX_="HX_",e.JP="JP",e.XJ="XJ",e.OY="OY",e.YV="YV",e.PNM="PNM",e.TS="TS",e.AO="AO",e.NJ="NJ",e.FD="FD",e.WE="WE",e.UN="UN",e.LD="LD",e.DSC="DSC",e.BP="BP",e.QU="QU",e.JV="JV",e.TN="TN",e.OF="OF",e.VW="VW",e.RPR="RPR",e.ZY="ZY",e.ZX="ZX",e.LE="LE",e._A="_A",e.PC="PC",e.UEB="UEB",e.SU="SU",e.MJ="MJ",e.VP="VP",e.XY_="XY_",e.KI="KI",e.IO="IO",e.JB="JB",e.SJ="SJ",e.BJ="BJ",e.KUB="KUB",e.DL="DL",e.KRG="KRG",e.VVN="VVN",e.AFF="AFF",e.LOI="LOI",e.EC="EC",e.JR="JR",e.BK="BK",e.SF="SF",e.N_="N_",e.MOJ="MOJ",e.KE="KE",e._FG="_FG",e.OC="OC",e.ZB="ZB",e.TB="TB",e.I_="I_",e.KSQ="KSQ",e.XO="XO",e.FH="FH",e.OYZ="OYZ",e.YUJ="YUJ",e.GB="GB",e.DC="DC",e.PCK="PCK",e.SW="SW",e.FPF="FPF",e.TIF="TIF",e.MO="MO",e.DK="DK",e.GU="GU",e.UG="UG",e.DM="DM",e.PO="PO",e.BN="BN",e.FIU="FIU",e.LH="LH",e.ZJ="ZJ",e.IL="IL",e.HU="HU",e.R_="R_",e.XW="XW",e.CT="CT",e.TV="TV",e.NP="NP",e.QZA="QZA",e.YL="YL",e.AZ="AZ",e.RN="RN",e.DSF="DSF",e.OH="OH",e.KU="KU",e.JW="JW",e.IA="IA",e.ZFT="ZFT",e.DOU="DOU",e.PX="PX",e.PRD="PRD",e.NY="NY",e.AN="AN",e.GOA="GOA",e.GPH="GPH",e.CU="CU",e.VJQ="VJQ",e.BB="BB",e.DU="DU",e.TE="TE",e.QUY="QUY",e.AU="AU",e.XTT="XTT",e.XV="XV",e.XY="XY",e.NA="NA",e.AW="AW",e.PP="PP",e.TR="TR",e.AL="AL",e.FQ="FQ",e.OBC="OBC",e.HE="HE",e.OI="OI",e.FZ="FZ",e.WNM="WNM",e.RZW="RZW",e.GAH="GAH",e.MB="MB",e.ZN="ZN",e.MY="MY",e.ZSM="ZSM",e.CFZ="CFZ",e.DBA="DBA",e.NK="NK",e.HX="HX",e.XH="XH",e.ED="ED",e.DDI="DDI",e.IJ="IJ",e.HB="HB",e.TW="TW",e.WGA="WGA",e.RF="RF",e.ZYV="ZYV",e.VID="VID",e.IM="IM",e.VYP="VYP",e.Z_H="Z_H",e.KP="KP",e.KS="KS",e.VPP="VPP",e.BM="BM",e.RFT="RFT",e.WU="WU",e.BZ="BZ",e.HF="HF",e.DP="DP",e.KW="KW",e.EWK="EWK",e.MTC="MTC",e.VY="VY",e.OZ="OZ",e.KT="KT",e.XB="XB",e.EF="EF",e.NOT="NOT",e.UP="UP",e.WF="WF",e.HS="HS",e.XIX="XIX",e.CTP="CTP",e.SOU="SOU",e.FB="FB",e.WTM="WTM",e.RMY="RMY",e.K_="K_",e.SVO="SVO",e.LBI="LBI",e.QY="QY",e.IV="IV",e.YX="YX",e.EDC="EDC",e.LT="LT",e.XR="XR",e.ARQ="ARQ",e.GD="GD",e.UL="UL",e.RT="RT",e.VGD="VGD",e.SK="SK",e.GW="GW",e.DT="DT",e.FLN="FLN",e.APK="APK",e.NTG="NTG",e.RG="RG",e.NX="NX",e.PTT="PTT",e.TA="TA",e.UI="UI",e.MD="MD",e.BGK="BGK",e.IT="IT",e.ZL="ZL",e.KKF="KKF",e.AY="AY",e.XX="XX",e.QN="QN",e.RCH="RCH",e.IF="IF",e.R_M="R_M",e.TD="TD",e.OVN="OVN",e.PMD="PMD",e.WXG="WXG",e.XYJ="XYJ",e.WBQ="WBQ",e.F_="F_",e.DQB="DQB",e.WVV="WVV",e.WCH="WCH",e.NR="NR",e.RB="RB",e.IDA="IDA",e.UF="UF",e.S_P="S_P",e.T_="T_",e.IK="IK",e.KV="KV",e.ZQZ="ZQZ",e.RCV="RCV",e.TCN="TCN",e.OE="OE",e.CV="CV",e.ZK="ZK",e.XF="XF",e.ZW_="ZW_",e.ABT="ABT",e.LX="LX",e.ZEI="ZEI",e.KWI="KWI",e.VFN="VFN",e.MXL="MXL",e.UNQ="UNQ",e.YH="YH",e.GT="GT",e.EJ="EJ",e.LFX="LFX",e.MK="MK",e.OL="OL",e.RX_="RX_",e.YM="YM",e.XQ="XQ",e._Q="_Q",e.XGU="XGU",e.EN="EN",e.JA="JA",e.LF="LF",e.IQ="IQ",e.PHE="PHE",e._C="_C",e.TUS="TUS",e.FW="FW",e.HFZ="HFZ",e.SWL="SWL",e.JOW="JOW",e.HR="HR",e.HW="HW",e}();__reflect(UtJ.prototype,"UtJ");var aKF=function(){function e(){}return e.DU=function(t){switch(t){case e.MM:return Color.SDA;case e.DR:return Color.IS;case e.WO:return Color.ZY;case e.BN:return Color.DB;case e.JN:return Color.KK;case e.PU:return Color.YM;case e.KY:return Color.QC;case e.KQ:return Color.UF}return Color.SDA},e.OU=function(t){switch(t){case e.MM:return Color.IS;case e.DR:return Color.ZY;case e.WO:return Color.DB;case e.BN:return Color.KK;case e.JN:return Color.YM}return Color.KK},e.QV=function(t){switch(t){case e.MM:return Color.AX;case e.DR:return Color.SM;case e.WO:return Color.GG;case e.BN:return Color.OL;case e.JN:return Color.ABT;case e.PU:return Color.FG;case e.KY:return Color.UW;case e.KQ:return Color.ZK}return Color.AX},e.LU=function(t){return t>=e.MM&&t<=e.KY?"core_json.quality_"+t+"_png":"core_json.quality_1_png"},e.MU=function(t){return t>=e.MM&&t<=e.KY?"knight_json.knight_namebg_"+t+"_png":"knight_json.knight_namebg_1_png"},e.RV=function(t){return t>=e.MM&&t<=e.KY?"knight_json.knight_smallbg_"+t+"_png":"knight_json.knight_smallbg_2_png"},e.JQ=function(t){return t>=e.MM&&t<=e.KY?"knight_json.knight_bigbg_"+t+"_png":"knight_json.knight_bigbg_1_png"},e.QQ=function(t){return t===e.KY&&(t=e.PU),t>=e.DR&&t<=e.KY?RES.getRes("framehd_json.framehd_quality_"+t+"_png"):null},e.MM=1,e.DR=2,e.WO=3,e.BN=4,e.JN=5,e.PU=6,e.KY=7,e.KQ=8,e}();__reflect(aKF.prototype,"aKF");var Iwrv=function(){function e(){}return e.JL=1,e.CL=2,e.WO=3,e.PF=4,e.GK=5,e.PL=6,e.MF=7,e.LH=8,e.ZU=9,e.FW=2001,e.HA=2002,e.JR=2003,e.KH=2004,e.LG=2005,e.EB=2006,e.ZK=2007,e.OA=2008,e.UT=2101,e.WF=2102,e.KWJ=2103,e.MS=2104,e.OOT=2105,e.XG=2106,e.AK=2107,e.QH=2108,e.YI=2201,e.KD=2202,e.YC=2203,e.DU=2204,e.RS=2205,e.SN=2206,e.NR=2009,e.BC=2010,e.NM=2011,e.UU=2012,e.CW=2401,e.QN=2402,e.WH=2403,e.AM=2404,e.QF=2405,e.DB=2406,e.ZD=2407,e.KG=2408,e.QA=2501,e.WV=2502,e.GJ=2503,e.MY=2504,e.XC=2505,e.ZI=2506,e.OX=2507,e.GD=2508,e.PQ=2601,e.XQ=2602,e.BN=2603,e.PV=2604,e.CM=2605,e.NA=2606,e.DCL=2607,e.HW=2608,e.LJ=3036,e.SL=3901,e.YJ=[e.FW,e.LG,e.HA,e.EB,e.JR,e.ZK,e.KH,e.OA],e.QL=[e.UT,e.OOT,e.WF,e.XG,e.KWJ,e.AK,e.MS,e.QH],e.AF=[e.YI,e.KD,e.YC,e.DU,e.RS,e.SN],e.ZW=[e.NR,e.BC,e.NM,e.UU],e.MA=[e.CW,e.QN,e.WH,e.AM,e.QF,e.DB,e.ZD,e.KG],e.SA=[e.QA,e.WV,e.GJ,e.MY,e.XC,e.ZI,e.OX,e.GD],e.WB=[e.PQ,e.XQ,e.BN,e.PV,e.CM,e.NA,e.DCL,e.HW],e.MV=4001,e.JS=4002,e.VF=4003,e.OC=4004,e.EZ=5001,e.TN=5002,e.QQ=5005,e.TR=7001,e.WDL=7002,e.EE=7003,e.AG=7004,e.YP=7005,e._R=7006,e.OI=7007,e.HF=7008,e.GV=7009,e.XV=7010,e.OB=9001,e.GZ=9002,e.MD=9003,e.JZ=9004,e.LN=[e.TR,e.WDL,e.EE,e.AG,e.YP,e._R,e.OI,e.HF,e.GV,e.XV],e.XWV=[e.OB,e.GZ,e.MD,e.JZ],e}();__reflect(Iwrv.prototype,"Iwrv");var GrowRewardType=function(){function e(){}return e.MU="a",e.GR="s",e.HT="p",e.UQ="e",e}();__reflect(GrowRewardType.prototype,"GrowRewardType");var hXS=function(){function e(){}return e.OX=99999999,e.UK=1e7,e.RX=[2,13,25,35,49,62,73,82,90,105,116,123,137,141,145,197,199],e.CH=[1,78,84,101,119,175,177,231],e.JL=[6],e.KX=[77,129],e.LZ=[18,37,77],e.LB=[55],e.TD=[33,69,113,217],e.NO=[97],e.B_=[118],e.ZP=[173],e.TS=[181],e.KQ=[193],e.MM=[205],e.AI=[273],e.FN=[367],e.YY=[387],e.RW=[461],e.QE=[10001],e.WL=[10002],e.IN=[10003],e.ZB=[10004],e.DH=[0],e.WP=[0],e.WR=[0],e.PJ=[0],e.FB=[0],e.NH=[0],e.SA=[0],e.YW=[0],e.BN=[0],e.VN=[0],e.VT=[0],e.SG=[0],e.BQ=[0],e.PX=[0],e.QX=[0],e.JV=[0],e.NHO=666666,e.GE="type_role",e.MN="type_fighting_win",e.MP="TYPE_SKILL_FRAME",e.FC="TYPE_SKILL_UP_FRAME",e._K="TYPE_SMELTING_FRAME",e.ZO="TYPE_BAR_SWITCH",e.JF="TYPE_TOPTOOL_BAR",e.HQ="TYPE_WEALTHDISH",e.SZ="TYPE_SUPREME",e.ZK="TYPE_BOSS",e.PS="TYPE_SHOP",e.XCB="TYPE_STORE",e.UO="TYPE_MARTIALART",e.FU="TYPE_CAMPAIGN",e.WY="TYPE_TEAM_COPY",e.BB="TYPE_SOCIETY",e.TU="TYPE_SOCIETY_BOSS",e.TN="TYPE_TASK",e.LA="TYPE_FASHION",e.QS="TYPE_CLOAK",e.SBO="TYPE_GROW_REWARD",e.XM="TYPE_MAGIC_BLADE",e.HD="TYPE_VIP",e.YK="TYPE_FOLLOW",e.MI="TYPE_INTERNAL",e.WB="TYPE_JOIN_MART",e.CP="TYPE_TURNUP",e.FV="TYPE_BEAUTY",e.DY="TYPE_TENDONS",e.VF="TYPE_TENDONS",e.F_="TYPE_ARENA",e.EMB="TYPE_RENAME",e.PH="TYPE_BOX",e.IW="TYPE_FIRST_CHARGE",e.RZ=1,e.YL=2,e.NW=3,e.FW=4,e.IL=5,e.JCK=6,e.LY=7,e}();__reflect(hXS.prototype,"hXS");var MaxLevel=function(){function e(){}return e.PLAYER_MAX_LEVEL=999,e.ACT_MAX_LEVEL=999,e.PAS_MAX_LEVEL=35,e.INTENSIFY_MAX_LEVEL=1999,e.UPSTAR_MAX_LEVEL=80,e.TURNUP_MAX_LEVEL=55,e.TENDONS_MAX_LEVEL=864,e.SPECIAL_EQUIP_MAX_LEVEL=150,e.EIGHT_DOORS_MAX_LEVEL=100,e.BEAST_MAX_LEVEL=96,e.VIP_MAX_GRADE=9,e.SVIP_MAX_GRADE=12,e.SVIP_MAX_LEVEL=70,e.SVIP_MAX_LEVEL_2=12,e.SOCIETY_MAX_DIFF=1,e.SOCIETY_BOSS_NUM=5,e.PRESTIGE_MAX_LEVELA=31,e.CROSS_ARENA_MAX_LEVEL=5,e.BLOOD_POOL_MAX_LEVEL=99,e.APPELL_MAX_LEVEL=100,e.MERGE_MAX_NUM=9999,e.COMP_MATE_COUNT=4,e.RUNE_RESOLVE_COUNT=2,e.FASHION_FIXSOUL_LEVEL=8,e.RUNE_SURMOUNT_LEVEL=10,e.RUNE_GRADE=300,e.RUNE_STAR=10,e.SPIRIT_COMPOSE_MAX_LEVEL=18,e.SPIRIT_INTENIFY_MAX_LEVEL=1e3,e.PEAK_EQUIP_BEGIN_STEP=46,e.MAX_TURNUP_GRADE=45,e.AUCTION_MIN_GRADE=1,e.BEAUTY_SPIRIT_GRADE=100,e.VIP_BOSS_GRADE=70,e.ELITE_BOSS_GRADE=8,e.HW_MAX_COUNT=1,e.MAX_ROWS=5,e.MAX_COLS=5,e.EIL_WIDTH=69,e.EIL_HEIGHT=69,e.ELI_BAG_SIZE=150,e.WEALTH_DISH_LEVEL=5,e.IMM_SKILL_MAX_LEVEL=5,e.SWORD_TOMB_MAX_LEVEL=100,e.TOWN_MAGIC_MAX_LEVEL=500,e}();__reflect(MaxLevel.prototype,"MaxLevel");var PATH=function(){function e(){errorNull()}return e.KD="f.hgame.com/xkx/activity.d/",e.HD="/",e.OS="",e.BL=e.OS,e.JU=e.OS+"avatar/",e.WP=e.OS+"figure/",e.JQ=e.OS+"map/",e.MG=e.OS+"effect/",e.CX=e.OS+"uieffect/",e.OY=e.OS+"mapeffect/",e.ZI=e.OS+"damage/",e.ZO=e.OS+"eui_skins/",e.ZV=e.OS+"eui_asset/",e.YN=e.OS+"superequip/",e.NK=e.OS+"sounds/",e.IN=e.OS+"books/",e.B_=e.OS+"knight/",e.HG=e.OS+"bonds/",e.TL=e.OS+"beauty/",e.UN=e.OS+"treasure/",e.ZG=e.OS+"fashion/",e.TT=e.B_+"collection/",e.NH=e.B_+"icon/",e.IO=e.OS+"superequip/",e.VV=e.OS+"cloak/",e.YR=e.OS+"stunt/",e.A_=e.OS+"hiddenweapon/",e.TI=e.ZV+"MartialArt_1/",e.BE=e.OS+"icons/",e.YO=e.BE+"revelrybanner/",e.HF=e.BE+"drop/",e.IC=e.BE+"boss/",e.KE=e.BE+"eliteboss/",e.BP=e.BE+"bossname/",e.IG=e.BE+"dailyactivity/",e.RC=e.BE+"head/",e.MB=e.BE+"mapname/",e.HO=e.BE+"output/",e.NP=e.BE+"skills/",e.IB=e.BE+"beast/",e.UH=e.BE+"skillbar/",e.TO=e.BE+"skillmap/",e.QII=e.BE+"toptools/",e.MF=e.BE+"preview/",e.DCF=e.BE+"storyhead/",e.QE=e.BE+"appell/",e.PK=e.BE+"chat/",e.ZY=e.BE+"skillname/",e.MY=e.BE+"funny/",e.YU=e.BE+"runes/",e.BU=e.BE+"mine/",e.GB=e.BE+"buff/",e.KH=e.BE+"headframe/",e.HN=e.BE+"heads/",e.JD=e.BE+"bubble/",e.VQ=e.BE+"emoticon/",e.QQ=e.BE+"battle/",e.JH=e.BE+"card/",e.US=e.BE+"family/",e.QJ=e.BE+"gem/",e.RJ=e.BE+"spiritLake/",e._B=e.BE+"magicskill/",e.OC=e.BE+"magicfairy/",e.MO=e.BE+"godspiritboss/",e.YT=e.BE+"bosshome/",e.ER=e.BE+"pet/",e.YH=e.BE+"landingseven/",e.DB=e.BE+"view/",e.JXA=e.BE+"vip/",e.MN=e.BE+"svip/",e.XJ=e.BE+"lefttools/",e.KF=e.BE+"ffmountain/",e.OA=e.BE+"buypack/",e.IS=e.BE+"prestige/",e.BW=e.BE+"growreward/",e.EY=e.BE+"imm/",e.QC=e.BE+"flysword/",e.AA=e.BE+"festivlact/",e.EO=e.BE+"task/",e.VU=e.BE+"supercard/",e.JE=e.BE+"direct/",e.OK=e.OS+"bones/",e.ZM=e.OK+"effect/",e}();__reflect(PATH.prototype,"PATH");var ProgressType=function(){function e(){}return e.YV=[20,101,103,104,105,106,107,108,111,112,113,117,121,130,140,150],e._T=20,e.JM=130,e.XT=140,e.HW=150,e}();__reflect(ProgressType.prototype,"ProgressType");var FDG=function(){function e(){}return e.AE="grade",e.G_="cap",e.K_="kfu",e.UC="kill",e.QS="cornu",e.IN="boss",e.FV="plate",e.BT="ymg",e.CWX="fight",e.FW="main",e.JV="actskill",e.VI="passkill",e.UM="faction_boss",e.RV="rank_arena",e.TK="factionScore",e.BS="harry_uscore",e.YW="harry_fscore",e.ET="harry_kill",e.UZ="rank_cross_arena_game",e.BB="rank_cross_arena_cross",e.ZF="rank_cross_four_boss",e.BW="grbrank_",e.HF="cross_harry_uscore",e.SL="cross_harry_fscore",e.TD="cross_harry_kill",e.ML="cross_cityfight_kill",e.HX="superequip",e.FE="fashion",e.BA="beauty",e.NO="hero",e.VY="rune",e.JD="official",e.RL="official_before",e.SU="c_mine_score",e.NN="cs_mine_score",e.ZV="superstar_superherocrad",e.GF="herocrad_cap_rank",e.QT="honour",e.CS="wulin_wushenta",e.AU="wushenta_personal",e.DI="wushenta_league",e.AC="elite_personal",e.XM="elite_league",e.TH="city_martial_rank",e.YY="cross_cityfight_faction",e.JB="cross_cityfight_player",e.GH="cross_xiyu_family",e.IR="town_magic",e.GG="charge_rank",e.XU="dial_people_rank",e.QQ="dial_server_rank",e.XX="cross_fly_rank",e.MK="crbrank_",e.YE="point_dial_rank",e.ZH="eliminate_rank",e.ZN="happy_clear_challenge",e.NM="smash_egg_rank",e.RP="valentines_day_rank",e.FS="senrei_week_rank",e}();__reflect(FDG.prototype,"FDG");var RedPointType=function(){function e(){}return e.AS=5,e.IT=7,e.KU=8,e.CG=9,e.AQ=10,e.OD=11,e.DS=12,e}();__reflect(RedPointType.prototype,"RedPointType");var RoleBtnType=function(){function e(){}return e.QJ="superequip",e.LS="drug",e.OP="tendons",e.LL="horoskop",e.PM="taiyi",e.IL="deityequip",e.XB="knight",e.LU="beast",e.XV="beauty",e.TV="treasure",e.ZX="four",e.VH="official",e.LT="cloak",e.OB="card",e.OE="spiritlake",e}();__reflect(RoleBtnType.prototype,"RoleBtnType");var SetKey=function(){function e(){}return e.HI="ats",e.KN="het",e}();__reflect(SetKey.prototype,"SetKey");var SoundIds=function(){function e(){}return e.AK="bgm_1.mp3",e.QB="frame.mp3",e.SY="quality6.mp3",e._E="close.mp3",e.GQ="skill_1.mp3",e.G_="skill_101.mp3",e.QY="attack.mp3",e.ZC="click.mp3",e.KH="drop.mp3",e}();__reflect(SoundIds.prototype,"SoundIds");var SpecialTipType=function(){function e(){}return e.RW="type_1",e.JX="type_2",e.KW="type_3",e.RR="type_4",e.CY="type_5",e.OX="type_6",e.YN="type_7",e.VT="type_8",e.XG="type_9",e.FB="type_10",e.AL="type_11",e._D="type_12",e.FL="type_13",e}();__reflect(SpecialTipType.prototype,"SpecialTipType");var StaticData=function(){function e(){}return e.nfg={},e.FRAME_TURNUP_CHECK={},e.FRAME_RELIFE_CHECK={},e.AVATAR_OFFSET={},e.WX_SHARE_URLS=[],e.WX_SHARE_TXT=[],e.SHARE_TITLE=[],e.SHARE_TXT=[],e.SHARE_ICON=[],e.PAY_TIMEOUT_INTERVAL=5,e.SKILL_INFO_COMMON=[],e.SKILL_INFO_COMMON_LENGTH=7,e.SKILL_INFO={},e.FLYSWORD_SKILL_INFO=[],e.ROLE_SPEED=8,e.NPC_SPEED_MAX=5,e.NPC_SPEED=2,e.NPC_ATTACK_DIS=200,e.ROLE_ATTACK_DIS=260,e.ROBOT_ATTACK_DIS=180,e.ROLE_SAFE_DIS=200,e.ROLE_SAFE_MARGIN=350,e.ROLE_SAFE_ANGLE=[0,10,280],e.CHECK_SAFE_HZ=3,e.ROLE_SPRINT_DIS=760,e.ROLE_SPRINT_DIS_MIN=140,e.ATTACK_CONT=4,e.ACTION_DIE_REPEL_DIS=200,e.ACTIN_FLASH_SPEED=18,e.DAMAGE_DEFAULT_DISTANCE=222,e.DAMAGE_FERE_DISTANCE=60,e.OPEN_SKILLNAME=!0,e.SKILL_BIG_ID=500,e.MAP_SKILL_ID=999,e.AUTO_FAKE_SKILL=!1,e.HIDE_OTHER_EFFECT=!1,e.HIDE_RECHARGE=!1,e.SKIP_LUCKDRAW_ANIMATION=2,e.TALISMAN_TURN=4,e.SEARCH_TURN=4,e.FRAME_CHAPTER_GROUP={},e.TALISMAN_Gift=50,e.SEARCHGOD=50,e.CAMPAIGN_CH=9,e.MARTIALART_CH=7,e.TEAM_YMG_CH=13,e.STORE_CH=5,e.BAG_CH=1,e.ROLE_CH=1,e.SKILL_CH=1,e.SHOP_CH=7,e.RANK_CH=6,e.EMAIL_CH=1,e.TASK_CH=1,e.SMELTING_CH=4,e.BOSS_CH=12,e.SHURA_CH=6,e.CHAT_FRAME_CH=1,e.CHAT_CH=7,e.SOCIETYFRAME_CH=12,e.ARENA_CH=80,e.SUPEREQUIP_CH=1,e.RECHARGE_CH=1,e.VIP_CH=1,e.SUPREME_CH=8,e.REWARDHALL_CH=1,e.FIRSTCHARGE_CH=1,e.WEALTH_DISH_CH=4,e.WEALTH_DISH_VIP=1,e.LANDINGSEVEN_CH=1,e.BANK_CH=1,e.MULTIPPLAYER_CH=1e3,e.RECHARGEGIFT_DAY2=7,e.TEAMCOPY_CH=13,e.SWITCH_BAR_CH=3,e.GOAL_TOPBTN_CH=1,e.RENOWN_CH=7,e.SPECIAL_TIP_CH=7,e.TURNUP_CH=11,e.GEM_CH=23,e.STARUP_CH=9,e.COMPOSITE_CH=26,e.TENDONS_CH=80,e.BEAST_CH=450,e.OFFICIAL_CH=200,e.OFFICIAL_TURNUP_CH=6,e.TAIYI=30,e.CLOAK_CH=550,e.HIDDEN_WEAPON_CH=350,e.EIGHTDOORS_CH=24,e.SPECIAL_CH=16,e.MARTIAL_CH=7,e.RUNE_CH=90,e.KNIGHT_CH=60,e.TASK_AUTO_ID=14,e.CHAT_ID=8,e.HARRY_CH=1,e.CROSS_ARENA_CH=90,e.SHOW_BULLETIN_CH=20,e.TURNUP_BOSS_CH=25,e.GOD_SKILL_CH=150,e.GOD_SKILL_INTER_CH=400,e.BEAUTY_CH=250,e.SWORD_CH=200,e.PALACEBOSS_CH=180,e.CROSS_HARRY_CH=200,e.FIRST_CHARGE_HIDE_LV=1,e.FGREAT_SVIP_LV_4=4,e.FGREAT_SAINT_HIDE_LV=6,e.EVDAYRECHARGE_SHOW_LV=1,e.HARD_SOCIETY_STAR=125,e.CARD_CH=120,e.BOSS_HOME_CH=21,e.SUPREME_ART_LV=3,e.VIPPRE_6_LV=6,e.VIPPRE_7_LV=7,e.VIPPRE_8_LV=8,e.VIPPRE_10_LV=10,e.VIPPRE_12_LV=12,e.VIP_15_LV=15,e.TREASURE_CH=300,e.MINE_CH=200,e.SPIRIT_CH=1,e.IMM_EQUIP=20,e.RED_ENVELOPES_CH=4,e.HIDE_BASE_CH=20,e.HIDE_BUBBLE_CH=80,e.MIRROR_MAP_ID=2121,e.NEWBIE_MAP_ID=9999,e.CACHE_MAP_ID=1,e.MAP_CHAPTER_OTHER_ID=1,e.MAP_CHAPTER_OTHER_RANGE=3,e.MAP_CHAPTER_MAX=4,e.PER_CHAPTER_CHANGE=3,e.ROBOT_AVATAR_LV=999999999,e.ROBOT_AVATAR_RANDOM_LV=100,e.BOSS_DEF_ID="boss_juzi",e.ROBOT_BODY_ID="role",e.ROBOT_BODY_LIST=["role","roleI","roleII","roleIII","roleIV","roleV"],e.ROBOT_WEAPON_ID="role",e.ROBOT_WEAPON_LIST=["role","roleI","roleII","roleIII","roleIV","roleV"],e.ROBOT_APPELL_ID1=201301,e.ROBOT_APPELL_LIST=[204401,211401,301601,302601,430401,210301],e.MARTIALART_LIST=[1,2,3,4],e.CAMERA_MOVE_SPEED=4,e.HARRY_MAP_ID=2301,e.EXPLORE_FIELD_BOSS_MAP_ID=4101,e.CROSS_HARRY_MAP_ID=2801,e.CITY_MAP_ID1=3601,e.CITY_MAP_ID2=3602,e.CROSS_ARENA_MAP_ID=2401,e.PALACE_BOSS_MAP_ID=3101,e.WUSHEN_PLUNDER_ID=1400,e.SEX_BOY=1,e.MEIREN_NOOPEN="meiren_yulan",e.FRISTCHARGE_AVATAR="pet_qiaoba",e.AVATAR_LEARY="leary",e.AVATAR_BOSS="rwbs",e.AVATAR_DEFAULT="role",e.AVATAR_GHOST="ghost",e.PLAY_ROLE_INTERVAL=100,e.PLAY_UI_INTERVAL=100,e.FOLLOW_DISTANCE_RAN=160,e.FOLLOW_DISTANCE_MAX=380,e.FOLLOW_CHECK_FRAME=10,e.FOLLOW_SPEED_MAX=40,e.FOLLOW_SPEED_MIN=2,e.CHAT_INTERVAL=3,e.CHAT_EMOCTION_INTERVAL=15,e.DROP_NUM_SPLIT=20,e.DROP_NUM_MAX=20,e.DROP_ICON_DEFAULT=0,e.DROP_ICON_EQUIP=1,e.PICKUP_TIME=600,e.PICKUP_WAIT_TIME=1e3,e.WAIT_TIME=600,e.DROP_WIDTH=80,e.DROP_HEIGHT=60,e.DROP_ROW_MIN=3,e.DROP_ROW_MAX=7,e.DROP_ICON={1:{tg:"drop_json.drop_t1_png",qmc:"drop_json.drop_q1_png"},2:{tg:"drop_json.drop_t2_png",qmc:"drop_json.drop_q2_png"},3:{tg:"drop_json.drop_t3_png",qmc:"drop_json.drop_q3_png"},4:{tg:"drop_json.drop_t4_png",qmc:"drop_json.drop_q4_png",effect:"drop4"},5:{tg:"drop_json.drop_t5_png",qmc:"drop_json.drop_q5_png",effect:"drop5"}},e.ELITE_HP=12,e.CHAPTER_COMPUTE=[1,6,11,16,21,26,50,100,200,400,600,800,1e3,1200,1400,1600,1800,2e3,3e3,4e3,9999],e.NPC_ATTR={0:{hpgrowrate:18.33335,atkgrowrate:.3333,hp:50,atk:5,chapter:1},1:{hpgrowrate:18.33335,atkgrowrate:.3333,hp:50,atk:5,chapter:1},2:{hpgrowrate:66.66665,atkgrowrate:.3333,hp:616.5,atk:10,chapter:6},3:{hpgrowrate:175,atkgrowrate:.6667,hp:1725,atk:16,chapter:11},4:{hpgrowrate:341.66665,atkgrowrate:1.2667,hp:4516.5,atk:26,chapter:16},5:{hpgrowrate:405,atkgrowrate:1.3333,hp:9705,atk:45,chapter:21},6:{hpgrowrate:571.08335,atkgrowrate:.68,hp:15946,atk:65,chapter:26},7:{hpgrowrate:93.2941,atkgrowrate:.1302,hp:186793.5,atk:268,chapter:50},8:{hpgrowrate:88.97525,atkgrowrate:.0968,hp:305739,atk:434,chapter:100},9:{hpgrowrate:57.7164,atkgrowrate:.0459,hp:755032.5,atk:923,chapter:200},10:{hpgrowrate:138.52735,atkgrowrate:.07,hp:1915213.5,atk:1845,chapter:400},11:{hpgrowrate:248.1766,atkgrowrate:.1,hp:4699723,atk:3251,chapter:600},12:{hpgrowrate:238.2873,atkgrowrate:.1337,hp:9688063.5,atk:5261,chapter:800},13:{hpgrowrate:338.0174,atkgrowrate:.1814,hp:14477738,atk:7948,chapter:1e3},14:{hpgrowrate:490.04355,atkgrowrate:.2532,hp:21272040,atk:11594,chapter:1200},15:{hpgrowrate:507.16665,atkgrowrate:.2571,hp:31121932,atk:16683,chapter:1400},16:{hpgrowrate:429.699,atkgrowrate:.2167,hp:41315904.5,atk:21851,chapter:1600},17:{hpgrowrate:1591.58705,atkgrowrate:.761,hp:49954016.5,atk:26207,chapter:1800},18:{hpgrowrate:3253.8511,atkgrowrate:1.3532,hp:81946579,atk:41503,chapter:2e3},19:{hpgrowrate:3253.8511,atkgrowrate:1.3532,hp:1710495800,atk:718769,chapter:3e3},20:{hpgrowrate:3253.8511,atkgrowrate:1.3532,hp:6599410330,atk:2751925,chapter:4e3},21:{hpgrowrate:3253.8511,atkgrowrate:1.3532,hp:14738918854,atk:6136906,chapter:5e3},22:{hpgrowrate:3253.8511,atkgrowrate:1.3532,hp:26132278476.5,atk:10875069,chapter:6e3},23:{hpgrowrate:1e5,atkgrowrate:1.5,hp:40763316689,atk:16959647,chapter:7e3}},e.BOSS_ATTR={0:{hpgrowrate:273,atkgrowrate:19.5333,hp:1e3,atk:25,chapter:1},1:{hpgrowrate:273,atkgrowrate:19.5333,hp:2e3,atk:25,chapter:1},2:{hpgrowrate:1525,atkgrowrate:37.8,hp:9750,atk:356,chapter:6},3:{hpgrowrate:2110,atkgrowrate:85.9333,hp:33210,atk:971,chapter:11},4:{hpgrowrate:5106,atkgrowrate:218.0667,hp:67857,atk:2392,chapter:16},5:{hpgrowrate:6088,atkgrowrate:267.2,hp:145439,atk:5712,chapter:21},6:{hpgrowrate:3898,atkgrowrate:181.2633,hp:234574,atk:9634,chapter:26},7:{hpgrowrate:699,atkgrowrate:41.6792,hp:1400875,atk:63874,chapter:50},8:{hpgrowrate:667,atkgrowrate:40.5085,hp:2293018,atk:117014,chapter:100},9:{hpgrowrate:671,atkgrowrate:30.0212,hp:5663071,atk:321571,chapter:200},10:{hpgrowrate:1385,atkgrowrate:62.3213,hp:19152061,atk:925029,chapter:400},11:{hpgrowrate:2481,atkgrowrate:84.7693,hp:46997282,atk:2177710,chapter:600},12:{hpgrowrate:2382,atkgrowrate:122.7879,hp:96880758,atk:3881611,chapter:800},13:{hpgrowrate:3380,atkgrowrate:178.2848,hp:144777305,atk:6349703,chapter:1e3},14:{hpgrowrate:4900,atkgrowrate:264.1686,hp:212720401,atk:9933314,chapter:1200},15:{hpgrowrate:5071,atkgrowrate:278.4136,hp:311219372,atk:15243117,chapter:1400},16:{hpgrowrate:4296,atkgrowrate:238.9235,hp:413158972,atk:20839192,chapter:1600},17:{hpgrowrate:15915,atkgrowrate:902.3968,hp:499540266,atk:25642217,chapter:1800},18:{hpgrowrate:32538,atkgrowrate:2099.2224,hp:819436479,atk:43779491,chapter:2e3},19:{hpgrowrate:32538,atkgrowrate:2099.2224,hp:17104957925,atk:1094440290,chapter:3e3},20:{hpgrowrate:32538,atkgrowrate:2099.2224,hp:85524789625,atk:5472201450,chapter:4e3},21:{hpgrowrate:220879,atkgrowrate:30031.3324,hp:102310314330,atk:6622862261,chapter:5e3},22:{hpgrowrate:770574,atkgrowrate:60958.2634,hp:213360530707,atk:21753544127,chapter:6e3},23:{hpgrowrate:2e6,atkgrowrate:15e4,hp:598264463137,atk:52202346695,chapter:7e3}},e.CAMPAIGN_FRAME_BG={6:"campaign_json.camp_exp_bg_png",7:"campaign_json.camp_gold_bg_png",8:"campaign_json.camp_gem_bg_png",9:"campaign_json.camp_ups_bg_png",27:"campaign_json.camp_beast_bg_png",29:"campaign_json.camp_treasure_bg_png",34:"campaign_json.camp_cloak_bg_png"},e.ONE_BOSS_NUM=2,e.YMG_TOTAL_TIME=180,e.CHECK_BAG_SIZE=20,e.RUNE_BAG_SIZE=100,e.BOSS_REBIRTH_Delay=5,e.TREASURE_SIZE=15,e.RED_BAG_SIZE=20,e.STUNT_KNACK_BAG_SIZE=100,e.MINI_CLIENT_TID=[2,45],e.SUPREME_ART_CH=8,e.TURNUP_LV=6,e.WULIN_LEAGUE_LV=2,e.MINE_BEAUTY=350,e.CITY_BATTLE=2,e.MAGICFAIRY_OPEN=70,e.MARTIALT_ART_HOT=100,e.MARTIALT_PROVOKE_MAX=5,e.MARTIALT_PROVOKE_TIME=7200,e.MARTIALT_SHOP_REFREST=100,e.MARTIALT_JOIN_CD=28800,e.MARTIALT_ACVALUE_LIST=[50,100,150,200],e.MARTIALT_LEADER_FIGHT_COUNT=10,e.MARTIALT_LEADER_TIME=3600,e.AUCTION_GOODS_NUM=5,e.WU_SHEN_TURNUP=6,e.HOROSKOP=3600,e.HOROSKOP_TIME=10,e.FAMILY=3,e.GHj="bar_json.redPoint_png",e.GAME_KEY="3ccf69a1f7b8458f",e.APPELL_GRADE=101601,e.APPELL_CAP=102601,e.APPELL_KUNGFU=103601,e.APPELL_PK=104601,e.APPELL_ARENA=105601,e.APPELL_SUPEREQUIP=108601,e.APPELL_SUPEREQUIP_2=108501,e.APPELL_FASHION=109601,e.APPELL_FASHION_2=109501,e.APPELL_BEAUTY=110601,e.APPELL_BEAUTY_2=110501,e.APPELL_HERO=111601,e.APPELL_HERO_2=111501,e.APPELL_RUNE=112601,e.APPELL_RUNE_2=112501,e.APPELL_OFFICIAL=113601,e.APPELL_OFFICIAL_2=113502,e.APPELL_OFFICIAL_3=113503,e.APPELL_COLL=345701,e.MARTIALT_APPELL={"1_109":401601,"1_209":401502,"1_309":401503,"2_109":402601,"2_209":402502,"2_309":402503,"3_109":403601,"3_209":403502,"3_309":403503,"4_109":404601,"4_209":404502,"4_309":404503},e.HARRY_APPELL_ID=420601,e.CROSS_HARRY_APPELL_ID=421701,e.APPELL_WULIN_MASTER_ID=113601,e.OFFICIAL_APPELL_LIST=[440601,440502,440503],e.ELITE_APPELL_ID=999999,e.CROSS_ARENA_TOP_APPELL_ID=107601,e.CROSS_ARENA_TOP_APPELL_ID_2=106601,e.TOWN_MAGIC_1=113601,e.TOWN_MAGIC_10=113501,e.NOTHING_COLL_TID=48e9,e.ROBOT_APPELL={100:{15:211401,20:215501,100:201301},150:{50:210501,60:215501,70:211401,100:201301},180:{80:210501,90:215501,100:211401}},e.BOSS_MAIN_APPELL={1:101,2:106,3:111,6:111,10:111,15:111,9:114,14:118,29:122},e.BUBBLE_TIME=6e3,e.BUBBLE_ROBOT=[124,104,109,113,117,121,125,105],e.BUBBLE_ROBOT1=[104,109,113,117,121,125,105],e.BOSS_APPELL_RATE=30,e.BOSS_APPELL3=[102,107,112,115,119,123],e.BOSS_APPELL15=[103,108,110,116,102,107,112,115,119,123],e.ARENA_BOX_LIST=[1,2,4,11,51,1001],e.ARENA_FIGHT_COUNT=10,e.ARENA_COUNT_TIME=7203,e.ARENA_MAX_RANK=1e3,e.ARENA_RANK_NUMBER=20,e.ARENA_SWEEP_RANK=100,e.SUPEREQUIP_RANK=20,e.HARRY_NODE_RANGE=200,e.HARRY_RELIVE_TIME=30,e.HARRY_START_TIME=64,e.LEFT_FACE=1,e.RIGHT_FACE=2,e.SWEEP_VIP=4,e.SWEEP_FGRADE=13,e.BLUE_DIA_TYPE_1=1,e.BLUE_DIA_TYPE_2=2,e.BLUE_DIA_TYPE_3=3,e.BLUE_DIA_TYPE_4=4,e.YUANSHEN_TU=5,e.FUNNYTREASURE_1=1,e.FUNNYTREASURE_10=9,e.BEAUTY_BILI=10,e.EXPCARDPRICE=6,e.STORE_UP_NEED_NUM=3,e.DAILY_ACTIVITY_1=101,e.DAILY_ACTIVITY_7=102,e.DAILY_ACTIVITY_8=103,e.DAILY_ACTIVITY_9=104,e.DAILY_ACTIVITY_10=105,e.DAILY_ACTIVITY_11=106,e.DAILY_ACTIVITY_12=107,e.DAILY_ACTIVITY_13=201,e.DAILY_ACTIVITY_14=202,e.DAILY_ACTIVITY_15=203,e.DAILY_ACTIVITY_16=204,e.DAILY_ACTIVITY_17=205,e.DAILY_ACTIVITY_18=206,e.DAILY_ACTIVITY_19=207,e.DAILY_ACTIVITY_20=208,e.DAILY_ACTIVITY_21=108,e.DAILY_ACTIVITY_22=109,e.DAILY_ACTIVITY_23=209,e.DAILY_ACTIVITY_24=210,e.DAILY_ACTIVITY_25=211,e.DAILY_ACTIVITY_26=212,e.DAILY_ACTIVITY_27=213,e.DATE_SCEOND=86400,e.HOUR_SCEOND=3600,e.MINUTE_SCEOND=60,e.TID_GOODS_1=600001601,e.TID_GOODS_2=310101401,e.TID_GOODS_3=340201501,e.TID_GOODS_4=340101601,e.TID_GOODS_5=300901501,e.TID_GOODS_6=650001601,e.TID_GOLD_ID=100101401,e.TID_POINT_ID=100201601,e.TID_PRACTICE_ID=111701401,e.TID_GEM_ID=400120600,e.TID_GOODS_7=301101601,e.TID_GOODS_8=301201601,e.TID_GOODS_9=301301601,e.TID_HORN_ID=111901501,e.TID_EXP_ID=100301401,e.TID_STARS=[310301620,310301630,310301640,310301650,310301660,310301670,310301680],e.TID_GOODS_10=340301601,e.TID_RUNE_ID=340401601,e.TID_RENAME_CARD=340501601,e.TID_MAGIC_BLOOD=301601601,e.TID_KNIGHT_SOUL=301701601,e.TID_GENERATION=304901601,e.TID_FAMILY=305205601,e.TID_PURGATORY=113601601,e.TID_BONDS_SOUL=302101601,e.TID_GOODS_11=301801601,e.TID_GOODS_12=301901501,e.TID_GOODS_13=302001601,e.TID_FACTION_ID=101001501,e.TID_PRESTIGE_ID=100901501,e.TID_GOODS_14=101101101,e.TID_GOODS_15=302501601,e.TID_BEAST_ID=302601601,e.TID_VIP_SCORE=101201601,e.KILL_BOSS_TOKEN=302901601,e.CROSS_ARENA_TOKEN=303001601,e.TID_TREASURE_ID=303501501,e.TID_TREASURE_ID_2=303502501,e.RUNE_DEBRIS_ID=340401601,e.TID_GOODS_16=810201601,e.TID_GOODS_17=302602601,e.TID_GOODS_18=303801601,e.TID_GOODS_19=301302601,e.TID_GOODS_20=301102601,e.TID_GOODS_21=303901701,e.TID_GOODS_22=500245601,e.QUAN_TICKET_TID=303601501,e.TID_GOODS_23=304001601,e.TID_GOODS_24=304002601,e.TID_GOODS_25=304101701,e.TID_GOODS_26=999999,e.TID_GOODS_27=113001601,e.TID_GOODS_28=304201701,e.TID_CLOCK_1=390401401,e.TID_CLOCK_2=304301601,e.TID_CLOCK_3=304302601,e.TID_CLOCK_29=304401601,e.TID_CLOCK_30=301401601,e.TID_STUNT_1=304701601,e.TID_STUNT_2=304702601,e.TID_STUNT_3=304703601,e.TID_STUNT_4=304704601,e.TID_STUNT_5=304705601,e.TID_GOODS_29=101401601,e.TID_GOODS_30=113201601,e.TID_GOODS_31=302903601,e.TID_STUNTS=[304701601,304702601,304703601,304704601,304705601],e.TID_STUNT_KNACKS=[900101001,900201001,900301001,900401001],e.TID_GOODS_32=302902601,e.TID_GOODS_33=303902601,e.TID_GOODS_34=302702601,e.TID_GOODS_35=304403601,e.TID_GOODS_36=304404601,e.TID_GOODS_37=340301601,e.TID_GOODS_38=340402601,e.TID_GOODS_39=303501501,e.TID_GOODS_40=101501601,e.TID_GOODS_41=302701601,e.TID_GOODS_42=302703601,e.TID_GOODS_43=500170601,e.TID_GOODS_44=304902601,e.TID_GOODS_45=305001601,e.TID_GOODS_46=305002601,e.TID_GOODS_47=305003601,e.TID_GOODS_49=305103601,e.TID_GOODS_50=305104601,e.TID_GOODS_51=305105601,e.TID_GOODS_52=305202601,e.TID_GOODS_53=101601601,e.TID_GOODS_54=305203601,e.TID_GOODS_55=305204601,e.TID_GOODS_56=305203601,e.TID_GOODS_57=305204601,e.TID_GOODS_58=305206601,e.TID_GOODS_59=305207601,e.TID_GOODS_60=300801601,e.TID_GOODS_61=305102601,e.TID_GOODS_62=300101501,e.TID_GOODS_63=300301501,e.TID_GOODS_64=300201501,e.TID_GOODS_65=300401501,e.TID_GOODS_66=303801601,e.TID_GOODS_306800001=306800001,e.TID_GOODS_67=500150701,e.TID_GOODS_68=311001601,e.TID_GOODS_70=305106601,e.TID_GOODS_71=305107601,e.TID_GOODS_72=305108601,e.TID_GOODS_73=111701401,e.TID_GOODS_74=303903701,e.TID_GOODS_75=303904701,e.TID_GOODS_76=303905701,e.TID_GOODS_77=302903601,e.TID_GOODS_78=340601601,e.TID_GOODS_79=340701601,e.TID_GOODS_80=340801601,e.TID_GOODS_81=302704601,e.TID_GOODS_82=331116e3,e.TID_GOODS_83=333118e3,e.GOD_SPIRIT_CD=30,e.TID_GOODS_84=305219601,e.TID_GOODS_85=305221601,e.TID_GOODS_86=340901601,e.TID_GOODS_87=341001601,e.TID_GOODS_88=341002601,e.TID_GOODS_89=341003601,e.TID_PLATFORM=199999999,e
}();__reflect(StaticData.prototype,"StaticData");var StoryDefine=function(){function e(){}return e.ML=1,e._X=2,e.MM=3,e.QR=4,e.TQ=1,e.GI=2,e.BN=1,e}();__reflect(StoryDefine.prototype,"StoryDefine");var StringConst=function(){function e(){}return e.PF="_",e.WK="/",e.DH="x",e.YX="1",e.GY="2",e.K_="3",e.SF=",",e.RA="|",e.TL=["","","","","","","","","","","","",""],e.YM=["","","","","","","","","","",""],e}();__reflect(StringConst.prototype,"StringConst");var GameCmd=function(){function GameCmd(){var e=this;GameCmd._instance||(GameCmd._instance=this,e.zw())}return Object.defineProperty(GameCmd,"instance",{get:function(){return this._instance||new GameCmd},enumerable:!0,configurable:!0}),GameCmd.prototype.zw=function(){var e=this;e.cp={},e.cp["goto"]=goto,e.cp.d=testDamage,e.cp.model=e.wl,e.cp.clear=clearLog,e.cp.show=showEditor,e.cp.hide=hideEditor,e.cp.add=e.addCmd,e.cp.speedup=speedup},GameCmd.prototype.wl=function(){},GameCmd.prototype.addCmd=function(e,t){this.cp[e]=t},GameCmd.prototype.cmd=function(e){var t=e.split(" ");if(t&&t.length>0){var n=t.shift();return"cmd"!==n?!1:(this.eval(e.replace("cmd ","")),!0)}},GameCmd.prototype.eval=function(val){var selfmix=this,arr=val.split(" ");if(arr&&arr.length>0){var key=arr[0],fun=selfmix.cp[key];if(fun){if(arr.shift(),"add"==key){key=arr.shift();var addFun=void 0,add=val.replace("add "+key,"var addFun = ");return eval(add),void fun.call(this,key,addFun)}return void fun.apply(this,arr)}}eval(val)},GameCmd._instance=null,GameCmd}();__reflect(GameCmd.prototype,"GameCmd");var codediv,alvJ=function(){function e(){singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(e){var t=this;t._stage||(t._stage=e,t._sceneLayer=GObj.$c(egret.Sprite),t._stage.addChild(t._sceneLayer),t._uiLayer=GObj.$c(SpriteLayer,!1),t._stage.addChild(t._uiLayer),t._frameLayer=GObj.$c(SpriteLayer,!1),t._stage.addChild(t._frameLayer),t._topLayer=GObj.$c(SpriteTouchLayer,!1),t._stage.addChild(t._topLayer),t._stageTopLayer=GObj.$c(SpriteLayer,!1),t._stage.addChild(t._stageTopLayer))},e.prototype.addToLayer=function(t,n,i){void 0===i&&(i=0);var r=this;n==e.WL?r._uiLayer.addToLayer(t,i):n==e.FX?r._sceneLayer.addChild(t):n==e.IL?r._frameLayer.addToLayer(t,i):n==e.YN?r._topLayer.addToLayer(t,i):n==e.RX&&r._stageTopLayer.addToLayer(t,i)},Object.defineProperty(e.prototype,"sceneLayer",{get:function(){return this._sceneLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uiLayer",{get:function(){return this._uiLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frameuiLayer",{get:function(){return this._frameLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLayer",{get:function(){return this._topLayer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageTopLayer",{get:function(){return this._stageTopLayer},enumerable:!0,configurable:!0}),e.prototype.getStageWidth=function(){return this._stage.width},e.FX="SCENE",e.WL="UI",e.IL="FRAME_UI",e.YN="TOP",e.RX="STAGE_TOP",e.SF=0,e.LR=1,e.AE=2,e}();__reflect(alvJ.prototype,"alvJ");var SpriteTouchLayer=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.init=function(t){var n=this;e.prototype.init.call(this,t),n._blackGound=GObj.$c(egret.Sprite),n._blackGound.touchEnabled=!0,n.addEvent()},t.prototype.sr=function(e){var t=this;if(e.target===t._blackGound&&t._blackGoundList.length>0){var n=t._blackGoundList.pop();GObj.$d(n)}},t.prototype.addEvent=function(){var e=this;e._blackGound&&e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.sr,e)},t.prototype.removeEvent=function(){var e=this;e._blackGound&&e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.sr,e)},t}(SpriteLayer);__reflect(SpriteTouchLayer.prototype,"SpriteTouchLayer");var Loading=function(e){function t(){var n=e.call(this)||this;return singleton(t._instance),t._instance=n,n.init(),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;e.graphics.beginFill(0,0),e.graphics.drawRect(0,0,hCs.stage.stageWidth,hCs.stage.stageHeight),e.graphics.endFill(),e.touchEnabled=!0,e.touchChildren=!1,e._loadEff=GObj.$c(RotateEffect),e.addChild(e._loadEff)},t.prototype.show=function(){var e=this;e._isShow||(e._loadEff.x=hCs.stageWidthHalf,e._loadEff.y=hCs.stageHeightHalf,e._loadEff.start(RES.getRes("core_json.loading_png")),e._isShow=!0,hCs.stage.addChild(e))},t.prototype.hide=function(){var e=this;e._isShow&&(e._isShow=!1,e._loadEff.stop(),e.parent&&e.parent.removeChild(e))},t._instance=null,t}(egret.Sprite);__reflect(Loading.prototype,"Loading");var AchievementManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.achievementVo=GObj.$c(AchievementVo)},Object.defineProperty(e.prototype,"achievementConfig",{get:function(){var e=App.OZ.getDataByName(IDU.DV);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taskList",{get:function(){var e,t,n=[],i=App.QA.getTaskListByType(8),r=!1;for(e in i)if(t=i[e],r=!1,t.taskTemplate&&t&&!t.isComp){for(var a=n.length-1;a>=0;a--)if(n[a].taskTemplate.type==t.taskTemplate.type){r=!0;break}r||(t.taskTemplate.p1?t.taskTemplate.p1&&App.EJ.achievementVo.sa&&n.push(t):n.push(t))}return n},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(AchievementManager.prototype,"AchievementManager");var ActivityManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return e.prototype.init=function(){var e=this;e._evDayReChgVO=GObj.$c(EvDayReChgVO),e.timeActivityList=[],e._todayDailyActivityList=[],e._todayLimitActivityList=[],e._tomorrowActivityList=[]},Object.defineProperty(e.prototype,"palaceActivity",{get:function(){var e=[];if(rRcz.SS(65,!1))for(var t=App.MB.pbInfo.open_time_arr,n=void 0,i=App.NN.midnightTime,r=0;r<t.length;r++)n={type:5,st:0,cd:0},n.st=i+t[r].st,n.cd=t[r].ct,e.push(n);return e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"evDayReChgVO",{get:function(){return this._evDayReChgVO},set:function(e){this._evDayReChgVO=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"everyDayActivityList",{get:function(){return XCA.BR()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"limitActivityList",{get:function(){return XCA.DD()},enumerable:!0,configurable:!0}),e.prototype.todayDailyActivity=function(){var e=this;e._todayDailyActivityList.length=0;for(var t=0;t<e.everyDayActivityList.length;t++)-1!=e.everyDayActivityList[t].week.indexOf(App.NN.date.getDay())&&e.everyDayActivityList[t].chapter<=App.KF.chapter&&e.limitActivityList[t].reborn<=App.BG.turnupInfo.grade&&e._todayDailyActivityList.push(e.everyDayActivityList[t]);return e._todayDailyActivityList},e.prototype.todayLimitActivity=function(){var e=this;e._todayLimitActivityList.length=0;for(var t=0;t<e.limitActivityList.length;t++)-1!=e.limitActivityList[t].week.indexOf(App.NN.date.getDay())&&e.limitActivityList[t].chapter<=App.KF.chapter&&e.limitActivityList[t].reborn<=App.BG.turnupInfo.grade&&e._todayLimitActivityList.push(e.limitActivityList[t]);return e._todayLimitActivityList},e.prototype.tomorrowActivitys=function(){var e=this,t=App.NN.date.getDay();6==t?t=0:t++,e._tomorrowActivityList.length=0;for(var n=0;n<e.limitActivityList.length;n++)-1!=e.limitActivityList[n].week.indexOf(t)&&e.limitActivityList[n].chapter<=App.KF.chapter&&e.limitActivityList[n].reborn<=App.BG.turnupInfo.grade&&e._tomorrowActivityList.push(e.limitActivityList[n]);return e._tomorrowActivityList},e}();__reflect(ActivityManager.prototype,"ActivityManager");var AppellManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.totalCap=0},e._instance=null,e}();__reflect(AppellManager.prototype,"AppellManager");var ArenaManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.arenaVo=GObj.$c(ArenaVO),e.crossArenaVo=GObj.$c(CrossArenaVO),e.prompt=!1},e.prototype.promptByRound=function(){var e=this;if(!(App.KF.chapter<StaticData.CROSS_ARENA_CH)){var t=3600*App.NN.date.getHours();3==e.crossArenaVo.status&&!e.prompt&&t<e.crossArenaVo.finals_time+5&&(e.prompt=!0,Alert.WK(fvg.GVf("crossarena37",kpd.formatDateBySec5(e.crossArenaVo.finals_time)),void 0,Alert.EX))}},e._instance=null,e}();__reflect(ArenaManager.prototype,"ArenaManager");var AuctionManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.goodsList=[],e.notices=[],e.ticketNum=0},e._instance=null,e}();__reflect(AuctionManager.prototype,"AuctionManager");var BuffManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._changed=!0,e._buffInfos={},e._buffAttrs={},e._linkAttr={},e._linkAttr[11]=[1,2],e._linkAttr[12]=[3],e._linkAttr[13]=[4],e._linkAttr[14]=[5]},Object.defineProperty(e.prototype,"mapTypeAttr",{get:function(){return this._mapTypeAttr},enumerable:!0,configurable:!0}),e.prototype.updateSceneBuffer=function(e){var t=this;t._mapTypeAttr=t._linkAttr[e]},e.prototype.getBufferByType=function(e){var t,n=this;for(var i in n._buffInfos)if(t=n._buffInfos[i],t&&t.buffMasType==e)return t;return null},e.prototype.updateBuffer=function(e,t){var n=this,i=n._buffInfos[e];!i&&(n._buffInfos[e]=i=GObj.$c(BuffInfo)),i.tid=e,i.grade=t,n._changed=!0},e.prototype.deleteBuffer=function(e){var t=this,n=t._buffInfos[e];n&&n.destory()&&delete t._buffInfos[e],t._changed=!0},Object.defineProperty(e.prototype,"allBuffAttrs",{get:function(){var e=this;if(e._changed){e._changed=!1,ObjectUtil.clearObjectKey(e._buffAttrs);var t=void 0,n=void 0;for(var i in e._buffInfos){t=e._buffInfos[i],n=t.attrs;for(var r in n)e._buffAttrs[r]=(e._buffAttrs[r]||0)+n[r]}}return e._buffAttrs},enumerable:!0,configurable:!0}),e.prototype.getBuffAttrByMapType=function(e){var t=this,n={},i=t._linkAttr[e],r=t.allBuffAttrs;if(i)for(var a=void 0,o=0;o<i.length;o++)a=r[i[o]]||0,0!=a&&(n[i[o]]=a);return n},e.prototype.getBuffAttrByType=function(e){var t=this.allBuffAttrs;return t[e]||0},e}();__reflect(BuffManager.prototype,"BuffManager");var CampaignManager=function(){function e(){this.robotList=[],this.ymgPass=1,this.ymgMvpName=QycO.OK,this.ymgMvpHead=1,this.ymgMvpHeads=1,this.ymgAvgPass=1,this.ymgOverTime=0,this.ymgRecord=0,this.ymgMvpRecord=0,this.taleNum=0,this.taleTime=0,this.count=0,this._mapId=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._bossDict={},e._goodsList=[],e.numDict={},e.vipBossStar=0,e.vipBossTimes=0,e.crossRecords=[],e.eliteBossInfo={},e.turnupBossInfo=GObj.$c(TurnupBossInfo),e._palaceBossInfo=GObj.$c(PalaceBossInfo),e.familyWarInfo={buy:0},vkG.$a(UtJ.EL,e.__updateHour12,e),e.initBossHome()},e.prototype.__updateHour12=function(){ziI.MF(KqZ.LR)},e.prototype.initBossHome=function(){var e=XCA.CG(IDU.YO_);this.bossHomeSvipLimit=e.split(QycO.XP).map(returnInt)},e.prototype.addRobot=function(e,t){if(e){var n=App.MB.robotList;n||(n=[]),n.length=0;var i=GObj.$c(RobotVO);ObjectUtil.oto(e,i),i.attr=GObj.$c(DnQ),i.attr.init(),ObjectUtil.oto(e.attr,i.attr),i.attr.ograde=e.ograde||0,i.type=6,i.ver=e.type,i.ret=t,i.mustwin=App.JP.mirrorMustwin(App.BG.playerAttrsInfo,i),i.sex=e.head,n.push(i),t==RobotVO.martialart_head?App.VS.enterMapOpenUI(StaticData.MIRROR_MAP_ID,10048,null,!1):t==RobotVO.martialart_provoke?App.VS.enterMapOpenUI(StaticData.MIRROR_MAP_ID,10051,null,!1):t==RobotVO.arena&&App.VS.enterMapOpenUI(StaticData.MIRROR_MAP_ID,10023,null,!1),App.UY.enter(StaticData.MIRROR_MAP_ID)}},e.prototype.getNumByType=function(e){var t=this;return t.numDict?t.numDict[e]||0:0},e.prototype.addCampGoods=function(e,t){var n;n=GObj.$c(nlwj),n.tid=e,n.count=t,this._goodsList.push(n)},e.prototype.clearDropList=function(){var e=this;e._goodsList&&(e._goodsList.length=0)},e.prototype.resultCamp=function(e){var t=this;1==e?ResultsLosePopUi.QX(t._goodsList.concat()):2==e?FightingLosePopUi.WT():FightingWinPopUi.QN(t._goodsList.concat()),NpcHpView.instance.hide(),t._goodsList.length=0},e.prototype.getBossById=function(e){var t=this,n=t._bossDict[e];return n?n:(t.oneBossList,t.taleBossList,t.mtcampList,t.vipBossList,n=t._bossDict[e])},e.prototype.getMapIdById=function(e){var t=this.getBossById(e);if(t)return t.TSF.mapid},Object.defineProperty(e.prototype,"oneBossList",{get:function(){var e=this;if(e._oneBossList)return e._oneBossList;e._oneBossList=[];var t,n,i,r=XCA.EA();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=5,n.tid=i.tid,n.atkno=i.atkCo||StaticData.ONE_BOSS_NUM,n.atktime=0,n.TSF=i,e._oneBossList.push(n),e._bossDict[n.tid]=n}return e._oneBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"taleBossList",{get:function(){var e=this;if(e._taleBossList)return e._taleBossList;e._taleBossList=[];var t,n,i,r=XCA.OE();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=4,n.tid=i.tid,n.atktime=0,n.TSF=i,e._taleBossList.push(n),e._bossDict[n.tid]=n}return e._taleBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mtcampList",{get:function(){var e=this;if(e._mtcampList)return e._mtcampList;e._mtcampList=[];var t,n,i,r=XCA.PW();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.tid=i.tid,n.type=i.type,n.atkno=i.atkCo||StaticData.ONE_BOSS_NUM,n.buyno=0,n.TSF=i,e._mtcampList.push(n),e._bossDict[n.tid]=n}return e._mtcampList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"turnupBossList",{get:function(){var e=this;if(e._turnupBossList)return e._turnupBossList;e._turnupBossList=[];var t,n,i=XCA.MW();if(i){for(var r=i.length,a=0;r>a;a++)n=i[a],t=GObj.$c(mLq),t.tid=n.tid,t.type=31,t.atkno=n.atkCo||StaticData.ONE_BOSS_NUM,t.buyno=0,t.TSF=n,e._turnupBossList.push(t),e._bossDict[t.tid]=t;e._turnupBossList.sort(function(e,t){return e.TSF.conval<t.TSF.conval?-1:1})}return e._turnupBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vipBossList",{get:function(){var e=this;if(e._vipBossList)return e._vipBossList;e._vipBossList=[];var t,n,i,r=XCA.ZN();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=5,n.tid=i.tid,n.atkno=i.atkCo||StaticData.ONE_BOSS_NUM,n.atktime=0,n.TSF=i,e._vipBossList.push(n),e._bossDict[n.tid]=n}return e._vipBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eliteBossList",{get:function(){var e=this;if(e._eliteBossList)return e._eliteBossList;e._eliteBossList=[];var t,n,i,r=XCA.LK();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=5,n.tid=i.tid,n.atkno=i.atkCo||StaticData.ONE_BOSS_NUM,n.atktime=0,n.TSF=i,e._eliteBossList.push(n),e._bossDict[n.tid]=n}return e._eliteBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pbInfo",{get:function(){return this._palaceBossInfo},enumerable:!0,configurable:!0}),e.prototype.getRobotRoleVo=function(e){var t=GObj.$c(RoleVO);if(t.id=e,t.speed=StaticData.ROLE_SPEED,t.sex=StaticData.SEX_BOY,t.model=GConfig.AVATAR_DEFAULT,t.w=GConfig.AVATAR_DEFAULT,t.name=App.KF.ssite+Nkz.PT(),t.type=6,App.KF.grade>StaticData.ROBOT_AVATAR_LV){t.fid=StaticData.MARTIALART_LIST[int(GMath.random(0,StaticData.MARTIALART_LIST.length-1))];var n=App.KF.fgrade||0;n>=5?n-=5:n=0,t.fgrade=int(GMath.random(n,App.KF.within||0)),App.KF.grade>StaticData.ROBOT_AVATAR_RANDOM_LV?(t.apid=StaticData.ROBOT_APPELL_LIST[GMath.randomInt(0,StaticData.ROBOT_APPELL_LIST.length)],t.w=StaticData.ROBOT_WEAPON_LIST[GMath.randomInt(0,StaticData.ROBOT_WEAPON_LIST.length)],t.b=StaticData.ROBOT_BODY_LIST[GMath.randomInt(0,StaticData.ROBOT_BODY_LIST.length)]):(t.w=StaticData.ROBOT_WEAPON_ID,t.b=StaticData.ROBOT_BODY_ID)}return t},Object.defineProperty(e.prototype,"getPurgtoryBossList",{get:function(){var e=this;if(e._purgatoryBossList)return e._purgatoryBossList;e._purgatoryBossList=[];var t,n,i=XCA.MSJ();if(i)for(var r in i)n=i[r],t=GObj.$c(mLq),t.tid=n.tid,t.type=n.type,t.atkno=n.atkCo||StaticData.ONE_BOSS_NUM,t.buyno=0,t.TSF=n,e._purgatoryBossList.push(t),e._bossDict[t.tid]=t;return e._purgatoryBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"psBossList",{get:function(){var e=this;if(e._psBossList)return e._psBossList;e._psBossList=[];var t,n,i,r=XCA.CR();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=30,n.tid=i.tid,n.atkno=i.atkCo,n.atktime=0,n.TSF=i,e._psBossList.push(n),e._bossDict[n.tid]=n}return e._psBossList},enumerable:!0,configurable:!0}),e.prototype.getCurrGodSpiritIndexByMapId=function(e){for(var t=App.MB.psBossList,n=t.length,i=0;n>i;i++){var r=t[i];if(e==r.TSF.mapid)return i}return 0},Object.defineProperty(e.prototype,"ffmBossList",{get:function(){var e=this;if(e._ffmBossList)return e._ffmBossList;e._ffmBossList=[];var t,n,i,r=XCA.VV();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=17,n.tid=i.tid,n.atktime=0,n.TSF=i,e._ffmBossList.push(n),e._bossDict[n.tid]=n}return e._ffmBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bossHomeList",{get:function(){var e=this;if(e._bosshomeList)return e._bosshomeList;e._bosshomeList=[];var t,n,i,r=XCA.FE();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=44,n.tid=i.tid,n.atktime=0,n.TSF=i,e._bosshomeList.push(n),e._bossDict[n.tid]=n}return e._bosshomeList},enumerable:!0,configurable:!0}),e.prototype.getBossHomeFloorByTid=function(e){return int(e/1e4)%10},e.prototype.autoEnterBossHome=function(e){void 0===e&&(e=!1);var t=this,n=t.getBossById(t.bossHomeAutoTid);if(n&&(!(n.h<=0)||e)){var i=fvg.GVf("bosshome_7",n.TSF.name);Alert.WK(i,null,Alert.EX|Alert.HE,t.goToBossHomeCampaign,this,null,null,null,null,null,null,5)}},e.prototype.goToBossHomeCampaign=function(){App.MB.bossHomeAutoMapId=App.MB.getMapIdById(App.MB.bossHomeAutoTid);var e=App.MB.bossHomeAutoMapId;e&&(App.VS.closeAll(),App.VS.enterMapOpenUI(e,10161,null,!1),App.UY.enter(e))},e.prototype.getBestHomeBossId=function(){for(var e,t=App.XT.vipInfo.vipGrade,n=(App.BG.turnupInfo.turnupNum,this.bossHomeList),i=0,r=n.length;r>i;i++){var a=n[i],o=App.MB.getBossHomeFloorByTid(a.tid),s=App.MB.bossHomeSvipLimit[o-1],p=t>=s,l=CondHelp.WC(a.TSF.con,a.TSF.conval);p&&l&&(e=a.tid)}return e},Object.defineProperty(e.prototype,"flyBossList",{get:function(){var e=this;if(e._flybossList)return e._flybossList;e._flybossList=[];var t,n,i,r=XCA.ZI();if(r){t=r.length;for(var a=0;t>a;a++)i=r[a],n=GObj.$c(mLq),n.type=42,n.tid=i.tid,n.atktime=0,n.TSF=i,e._flybossList.push(n),e._bossDict[n.tid]=n}return e._flybossList},enumerable:!0,configurable:!0}),e.prototype.townBossAttrid=function(e){var t,n=XCA.IE();return n&&(t=n[0]),t&&t.attrid+e-1||0},e.prototype.townBossMapid=function(){var e,t=XCA.IE();t&&(e=t[0]);var n=e&&e.mapid||0;return App.DA.curFloor>MaxLevel.TOWN_MAGIC_MAX_LEVEL&&(n=0),n},Object.defineProperty(e.prototype,"baseAddition",{get:function(){return App.OZ.getDataByName(IDU.VY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapId",{get:function(){return this._mapId},set:function(e){this._mapId=e},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(CampaignManager.prototype,"CampaignManager");var CardManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.cardInfo={},e.cardWakeInfo={},e.cardGroupInfo={}},e.prototype.getActiveNumByType=function(e){for(var t,n=0,i=e.length,r=App.BV.cardInfo||{},a=0;i>a;a++)t=r[parseInt(e[a])||0],t>0&&n++;return n},e.prototype.getAllGradeByType=function(e){for(var t,n=0,i=e.length,r=App.BV.cardInfo||{},a=0;i>a;a++)t=r[parseInt(e[a])]||0,n+=t;return n},e._instance=null,e}();__reflect(CardManager.prototype,"CardManager");var ChatManager=function(){function e(){this.horn=0,this.send_cd=600,this.limit_vip=2,this.emoticonLastTime=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.chatList=[],e.systemList=[],e.martialArtList=[],e.familyList=[],e.filterUid=[],e.pools=[],e._allEmoticonList=[],e.playerInfoList=[],e._redbagInfo=GObj.$c(RedBagInfo),e._limitState=e.getDefaultLimitState()},e.prototype.getDefaultLimitState=function(){var e=window.localStorage;if(e){var t=App.BG.openId+"_limit",n=e.getItem(t);return!usable(n)||"true"==n}return!0},e.prototype.saveLimitState=function(){var e=window.localStorage;if(e){var t=App.BG.openId+"_limit";e.setItem(t,this._limitState?"true":"false")}},Object.defineProperty(e.prototype,"limitState",{get:function(){return this._limitState},set:function(e){var t=this;t._limitState!=e&&(t._limitState=e,t.saveLimitState())},enumerable:!0,configurable:!0}),e.prototype.isShowChatData=function(e){var t=this;if(!rRcz.SS(78,!1))return!0;if(e){if(2!=e.op&&3!=e.op)return!0;if(!t._limitState||t._limitState&&e.vip>=t.limit_vip||e.uid==App.KF.uid)return!0}return!1},Object.defineProperty(e.prototype,"redbagInfo",{get:function(){return this._redbagInfo},enumerable:!0,configurable:!0}),e.prototype.changeFilterList=function(e,t){if(t)-1==App.FQ.filterUid.indexOf(e)&&App.FQ.filterUid.push(e);else{var n=App.FQ.filterUid.indexOf(e);n>=0&&App.FQ.filterUid.splice(n,1)}vkG.$d(UtJ.EZ)},e.prototype.getOneChatVo=function(){var e=this;return e.pools.length>0?e.pools.pop():GObj.$c(ChatVO)},e.prototype.addOneChatVo=function(t){var n=this;if(!t)return!1;if(6==t.op)return ChatNoticeView.instance.show(t),vkG.$d(UtJ.SJ,t),!1;var i,r=e.DP;if(1==t.op||7==t.op)i=n.systemList;else if(2==t.op){if(n.filterUid.indexOf(t.uid)>=0)return n.addChatVoToPools(t),!1;i=n.chatList,n.isShowChatData(t)&&(n.lastChatVO=t),App.KF.isGM&&(r=e.BE)}else 3==t.op?(i=n.martialArtList,n.isShowChatData(t)&&(n.lastChatVO=t)):8==t.op&&(i=n.familyList,n.isShowChatData(t)&&(n.lastChatVO=t));if(i){if(i.push(t),i.length>r){var a=i.shift();n.addChatVoToPools(a)}return!0}return!1},e.prototype.addChatVoToPools=function(e){e&&(e.reset(),this.pools.push(e))},e.prototype.haveUnreadMsg=function(){for(var e=this,t=0,n=e.chatList.length,i=0;n>i;i++)if(!e.chatList[i].read&&e.isShowChatData(e.chatList[i])){t=1|t;break}n=e.martialArtList.length;for(var i=0;n>i;i++)if(!e.martialArtList[i].read&&e.isShowChatData(e.chatList[i])){t=2|t;break}n=e.familyList.length;for(var i=0;n>i;i++)if(!e.familyList[i].read&&e.isShowChatData(e.chatList[i])){t=4|t;break}return t},e.prototype.getFormatBulletinString=function(e,t){if(void 0===t&&(t=[]),!e||!e.text)return"";if(usable(e.textFormat))return e.textFormat;var n=e.text,i=/\[([a-z1-9]*)\]/g,r=n.match(i);if(r&&r.length>0)for(var a=void 0,o=0;o<r.length;o++){var s=r[o];a=-1===t.indexOf(s)?this.getReplaceString(s,e):"",n=n.replace(s,a)}return 0===t.length&&(e.textFormat=n),n},e.prototype.getShowItemString=function(e){if(!e)return"";var t,n,i="",r=e,a=XCA.AQS.UFA(r.mt,r.st,1);return a&&(n=gLw.GM(a.tid),t=aKF.DU(n),i=fvg.GVf("chat8",t,a.name,r.gr)),i},e.prototype.getReplaceString=function(e,t){if(!t)return QycO.OK;var n;switch(e){case"[name]":return fvg.GVf("chat1",t.name);case"[name1]":return fvg.GVf("chat1",t.name1);case"[name2]":return fvg.GVf("chat2",Color.TX,t.name);case"[gid]":var i=XCA.FR(t.gid);if(i){var r=i.qua;return fvg.GVf("chat2",aKF.QV(r),i.name)}break;case"[upid]":var a=XCA.AQS.getGradeTempByTId(t.upid);if(a){var r=gLw.GM(a.tid);return fvg.GVf("chat2",aKF.QV(r),a.name)}break;case"[duty]":if(t.fid&&t.duty)return fvg.GVf("chat2",aKF.QV(aKF.PU),fvg.GVf("martialart_"+t.fid+"_"+t.duty));break;case"[apid1]":n=t.apid1;case"[apid]":n||(n=t.apid);var o=XCA.CS(n);if(o){var r=AppellTemplate.SZ(o.tid);return fvg.GVf("chat2",aKF.QV(r),fvg.GVf(30,o.name))}break;case"[fname1]":var s=XCA.AQS.UFA(21,1,t.fgrade1),p=1,l=void 0;if(s){l=fvg.GVf("martialart_appell_"+t.fid1,t.fgrade1),p=gLw.GM(s.tid);var c=Nkz.LI(s.p5);l+=c[t.fid1]}if(usable(l))return fvg.GVf("chat2",aKF.QV(p),l);break;case"[fname]":if(!usable(t.fname)){var u=XCA.AQS.UFA(21,1,t.fgrade);if(u){t.fname=fvg.GVf("martialart_appell_"+t.fid,t.fgrade),t.fquality=gLw.GM(u.tid);var c=Nkz.LI(u.p5);t.fname=t.fname+c[t.fid]}}if(usable(t.fname))return fvg.GVf("chat2",aKF.QV(t.fquality),t.fname);break;case"[bname]":if(usable(t.bname))return fvg.GVf("chat2",aKF.QV(t.bqua),t.bname)}return QycO.OK},e.prototype.getEmoticonPathStr=function(e){var t=this;t._configArr&&t._allEmoticonList||t.initConfig();var n=0;if(e.text.indexOf("##_1")>=0?n=1:e.text.indexOf("##_2")>=0&&(n=2),1==n||2==n&&e.vip>=parseInt(t._configArr[0])){var i=t._allEmoticonList[e.text];if(i&&i.length>0)return i.replace("##_","")}return""},e.prototype.initConfig=function(){var e=this;e._configArr=[];var t=XCA.CG("emoticon_vip");""==t&&(t="2|22|30"),e._configArr=t.split("|");var n=[],i=XCA.CG("emoticon_allIcon");""==i&&(i="##_1_1|##_1_2|##_1_3|##_1_4|##_1_5|##_1_6|##_1_7|##_1_8|##_1_9|##_1_10|##_1_11|##_1_12|##_1_13|##_1_14|##_1_15|##_1_16|##_1_17|##_1_18|##_1_19|##_1_20|##_1_21|##_1_22|##_2_1_1|##_2_1_2|##_2_1_3|##_2_1_4|##_2_1_5|##_2_1_6|##_2_1_7|##_2_1_8|##_2_1_9|##_2_1_10|##_2_1_11|##_2_1_12|##_2_1_13|##_2_1_14|##_2_1_16|##_2_1_17|##_2_1_18|##_2_1_19|##_2_1_20|##_2_1_21|##_2_1_22|##_2_1_23|##_2_1_24|##_2_1_25|##_2_1_26|##_2_1_27|##_2_1_28|##_2_1_29|##_2_1_30|##_2_1_31"),n=i.split("|");for(var r=n.length,a=0;r>a;a++)e._allEmoticonList[n[a]]=n[a]},e.DP=30,e.BE=100,e._instance=null,e}();__reflect(ChatManager.prototype,"ChatManager");var CityBattleManager=function(){function e(){this.activityTime=2400,this.protextTime=180,this.frequencyTime=900;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.cityBattleVo=GObj.$c(CityBattleVo),e.cityBattlePlayerVo=GObj.$c(CityBattlePlayerVo),e.cityBattleRewardVo=GObj.$c(CityBattleRewardVo),e.harryBoxRes=0,e._previewDic={},e._scoresDic={},e._stagesDic={},e.reliveCd=StaticData.HARRY_RELIVE_TIME},e.prototype.getPreviewRewardByType=function(e){var t=this;if(!t._previewDic[e]&&t.rewardGift_1){var n=t.rewardGift_1.bagList;switch(e){case 1:case 2:case 3:case 4:t._previewDic[e]=t.getRewardByBagList(e,n)}}return t._previewDic[e]||[]},e.prototype.getScoreRewardByRank=function(e){var t=this;if(!t._scoresDic[e]&&t.rewardGift_3){var n=t.rewardGift_3.bagList;t._scoresDic[e]=t.getRewardByBagList(e,n)}return t._scoresDic[e]||[]},e.prototype.getStageRewardByIndex=function(e){var t=this;if(!t._stagesDic[e]&&t.rewardGift_2){var n=t.rewardGift_2.bagList;t._stagesDic[e]=t.getRewardByBagList(e,n)}return t._stagesDic[e]||[]},e.prototype.getRewardByBagList=function(e,t){var n=t?t[e-1]:null,i=[];if(n)for(var r=n.rewardList,a=r?r.length:0,o=void 0,s=void 0,p=0;a>p;p++)s=r[p],o=GObj.$c(nlwj),o.tid=s.tempId,o.count=s.count,i.push(o);return i},e}();__reflect(CityBattleManager.prototype,"CityBattleManager");var CloakManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.cloakUpStars={},this.cloakFoster={},this.cloakSkillInfo={}},Object.defineProperty(e.prototype,"skillLimit",{get:function(){return int(this.fosterGrade/10)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fosterGrade",{get:function(){return this.cloakFoster[1]||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fosterCap",{get:function(){return this.cloakFoster.cap||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skillCap",{get:function(){return this.cloakSkillInfo.cap||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fosterCurrGp",{get:function(){return this.cloakFoster.gp_1||0},enumerable:!0,configurable:!0}),e.prototype.getCloakGrade=function(e){return this.cloakUpStars["l_"+e]||0},Object.defineProperty(e.prototype,"wearCloak",{get:function(){return this.cloakUpStars.sho||0},enumerable:!0,configurable:!0}),e.prototype.getCloakUpstar=function(e){return this.cloakUpStars[e]||0},e.prototype.getCloakCap=function(e){return this.cloakUpStars["scap_"+e]||0},e.prototype.getCloakSkillGrade=function(e){return this.cloakSkillInfo[e]||0},e._instance=null,e}();__reflect(CloakManager.prototype,"CloakManager");var CommonManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.bulletinInfo={utime:0,t:"",c:"",f:!0},e.lanternInfo=0,e.godOfWealthRecord={utime:0,record:[]},e.gangTreasureInfo={stime:0,otime:0,award:0,utime:0},e.eliminateInfo={}},e._instance=null,e}();__reflect(CommonManager.prototype,"CommonManager");var ComposeManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.getComposeByType=function(e){return this.composeDic[e]||[]},e.prototype.getResolveByTid=function(e){return this.resolveDic[e]},e.prototype.getCountByTemp=function(e){if(e){for(var t=Number.MAX_VALUE,n=void 0,i=1;i<=MaxLevel.COMP_MATE_COUNT;i++)e["mat"+i]&&e["ct"+i]&&(n=int(App.FK.hsx(e["mat"+i])/e["ct"+i]),t=Math.min(n,t));
return t}return 0},e.prototype.getComposeByMat=function(e){return this.materialComposeDic[e]||[]},e.prototype.getGodsuitComposeByMat=function(e){return this.godSuitComposeDic[e]||[]},e.prototype.getFairysuitComposeByMat=function(e){return this.fairySuitComposeDic[e]||[]},e.prototype.getSpiritComposeByMat=function(e){return this.spiritMaterialComposeDic[e]||[]},e.prototype.getBeautyComposeByMat=function(e){return this.beautyComposeDic[e]||[]},Object.defineProperty(e.prototype,"composeDic",{get:function(){var e=this;return e._composeDic||e.analyzeTemp(),e._composeDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resolveDic",{get:function(){var e=this;return e._resolveDic||e.analyzeTemp(),e._resolveDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"materialComposeDic",{get:function(){var e=this;return e._materialComposeDic||e.analyzeTempBySubType(e.composeDic[2]),e._materialComposeDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beautyComposeDic",{get:function(){var e=this;return e._beautyMaterialComposeDic||e.analyzeBeautyTempBySubType(e.composeDic[6]),e._beautyMaterialComposeDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"godSuitComposeDic",{get:function(){var e=this;return e._godSuitMaterialComposeDic||e.analyzeGodSuitTempBySubType(e.composeDic[2]),e._godSuitMaterialComposeDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fairySuitComposeDic",{get:function(){var e=this;return e._fairySuitMaterialComposeDic||e.analyzeFairySuitTempBySubType(e.composeDic[2]),e._fairySuitMaterialComposeDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spiritMaterialComposeDic",{get:function(){var e=this;return e._spiritMaterialComposeDic||e.analyzeSpiritTempBySubType(e.composeDic[4]),e._spiritMaterialComposeDic},enumerable:!0,configurable:!0}),e.prototype.analyzeTemp=function(){var e=this;e._composeDic={},e._resolveDic={};var t=XCA.allTemplateData.forgetemp;if(t){var n=void 0,i=void 0;for(n in t)i=t[n],1==i.mtype?(e._composeDic[i.stype]||(e._composeDic[i.stype]=[]),e._composeDic[i.stype].push(i)):2==i.mtype&&(e._resolveDic[i.nmat]=i)}},e.prototype.analyzeTempBySubType=function(e){var t=this;if(!t._materialComposeDic&&(t._materialComposeDic={}),e)for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];for(var o=1;1>=o;o++)i=n["mat"+o],i&&n["ct"+o]&&(!t._materialComposeDic[i]&&(t._materialComposeDic[i]=[]),t._materialComposeDic[i].push(n))}},e.prototype.analyzeSpiritTempBySubType=function(e){var t=this;if(!t._spiritMaterialComposeDic&&(t._spiritMaterialComposeDic={}),e)for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];for(var o=1;1>=o;o++)i=n["mat"+o],i&&n["ct"+o]&&(!t._spiritMaterialComposeDic[i]&&(t._spiritMaterialComposeDic[i]=[]),t._spiritMaterialComposeDic[i].push(n))}},e.prototype.analyzeKnackTempBySubType=function(e){var t=this;if(!t._knackMaterialComposeDic&&(t._knackMaterialComposeDic={}),e)for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];for(var o=1;1>=o;o++)i=n["mat"+o],i&&n["ct"+o]&&(!t._knackMaterialComposeDic[i]&&(t._knackMaterialComposeDic[i]=[]),t._knackMaterialComposeDic[i].push(n))}},e.prototype.analyzeBeautyTempBySubType=function(e){var t=this;if(!t._beautyMaterialComposeDic&&(t._beautyMaterialComposeDic={}),e)for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];for(var o=1;1>=o;o++)i=n["mat"+o],i&&n["ct"+o]&&(!t._beautyMaterialComposeDic[i]&&(t._beautyMaterialComposeDic[i]=[]),t._beautyMaterialComposeDic[i].push(n))}},e.prototype.analyzeGodSuitTempBySubType=function(e){var t=this;if(!t._godSuitMaterialComposeDic&&(t._godSuitMaterialComposeDic={}),e)for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];for(var o=1;1>=o;o++)i=n["mat"+o],i&&n["ct"+o]&&(!t._godSuitMaterialComposeDic[i]&&(t._godSuitMaterialComposeDic[i]=[]),t._godSuitMaterialComposeDic[i].push(n))}},e.prototype.analyzeFairySuitTempBySubType=function(e){var t=this;if(!t._fairySuitMaterialComposeDic&&(t._fairySuitMaterialComposeDic={}),e)for(var n,i,r=e.length,a=0;r>a;a++){n=e[a];for(var o=1;1>=o;o++)i=n["mat"+o],i&&n["ct"+o]&&(!t._fairySuitMaterialComposeDic[i]&&(t._fairySuitMaterialComposeDic[i]=[]),t._fairySuitMaterialComposeDic[i].push(n))}},Object.defineProperty(e.prototype,"knackMaterialComposeDic",{get:function(){var e=this;return e._knackMaterialComposeDic||e.analyzeKnackTempBySubType(e.composeDic[5]),e._knackMaterialComposeDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"KnackMaterialComposeDic",{get:function(){var e=this;return e._knackMaterialComposeDic||e.analyzeKnackTempBySubType(e.composeDic[5]),e._knackMaterialComposeDic},enumerable:!0,configurable:!0}),e.prototype.getKnackComposeByMat=function(e){return this.knackMaterialComposeDic[e]||[]},e.prototype.getTidByGodSuitEquipSubType=function(e){var t=this;if(t._godSuitEquipArr)return parseInt(t._godSuitEquipArr[e])||0;var n=XCA.CG(IDU.KJ);if(n){var i=n.split(QycO.PK),r=Iwrv.MA,a=i.length,o=0;for(t._godSuitEquipArr={},o;a>o;o++)t._godSuitEquipArr[r[o]]=i[o];return parseInt(t._godSuitEquipArr[e])||0}return 0},e.prototype.getTidByFairySuitEquipSubType=function(e){var t=this;if(t._fairySuitEquipArr)return parseInt(t._fairySuitEquipArr[e])||0;var n=XCA.CG(IDU.NT);if(n){var i=n.split(QycO.PK),r=Iwrv.SA,a=i.length,o=0;for(t._fairySuitEquipArr={},o;a>o;o++)t._fairySuitEquipArr[r[o]]=i[o];return parseInt(t._fairySuitEquipArr[e])||0}return 0},e.prototype.getTemplatesByMatId=function(e){var t=XCA.allTemplateData.forgetemp;if(t){var n=void 0,i=void 0;for(n in t)if(i=t[n],i.mat1==e&&i.nmat!=e&&1==i.mtype)return i}return null},e.prototype.getTidByImmEquipSubType=function(e){var t=this;if(t._immEquipArr)return parseInt(t._immEquipArr[e])||0;var n=XCA.CG(IDU.HB);if(n){var i=n.split(QycO.PK),r=Iwrv.WB,a=i.length,o=0;for(t._immEquipArr={},o;a>o;o++)t._immEquipArr[r[o]]=i[o];return parseInt(t._immEquipArr[e])||0}return 0},e.prototype.getTidByColorEquipSubType=function(e){var t=this;if(t._godSuitEquipArr)return parseInt(t._godSuitEquipArr[e])||0;var n=XCA.CG(IDU.KJ);if(n){var i=n.split(QycO.PK),r=Iwrv.MA,a=i.length,o=0;for(t._godSuitEquipArr={},o;a>o;o++)t._godSuitEquipArr[r[o]]=i[o];return parseInt(t._godSuitEquipArr[e])||0}return 0},e.prototype.getTemplatesByNmatId=function(e){var t=XCA.allTemplateData.forgetemp;if(t){var n=void 0,i=void 0;for(n in t)if(i=t[n],i.nmat==e&&1==i.mtype)return i}return null},e}();__reflect(ComposeManager.prototype,"ComposeManager");var ConfigManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._resolveDic={},e._configDatas={},e._defaultDic={},e.registerResolve(IDU.LT,e.resolveToNumberArray,void 0,"57600,72000,500,200,5"),e.registerResolve(IDU.UH,e.resolveToObjectArray,QycO.PK,"4,200|2,100"),e.registerResolve(IDU.IW,e.resolveToObjectArray,QycO.PK,"0,1|30,1|60,2|90,3|120,4|150,5"),e.registerResolve(IDU.ZY,e.resolveToNumberArray,void 0,"5,4,1000,5"),e.registerResolve(IDU.QTX,e.resolveToNumberArray,void 0,"5,4,1000,5"),e.registerResolve(IDU.WN,e.resolveToNumber,void 0,"1"),e.registerResolve(IDU.AC,e.resolveToNumber,void 0,"604800000"),e.registerResolve(IDU.RG,e.resolveToObjectArray,QycO.PK,"0,5|5,5|10,5|15,5|20,5|25,5|30,5|35,5|40,5|45,5|50,6|55,6|60,7|65,7|70,8|75,8|80,9|85,9|90,10|95,10|100,11"),e.registerResolve(IDU.DV,e.resolveToNumberArray,void 0,"1,2,3,4,5"),e.registerResolve(IDU.PK,e.resolveToNumberArray,void 0,"1,2,3,4,5"),e.registerResolve(IDU.UW,e.resolveToObjectArray,void 0,"0,0|0,0"),e.registerResolve(IDU.XU,e.resolveToNumberArray,void 0,"1,2,500,2"),e.registerResolve(IDU.BH,e.resolveToStringArray),e.registerResolve(IDU.PQ,e.resolveToNumber,void 0,"4"),e.registerResolve(IDU.MP,e.resolveToNumber,void 0,"2"),e.registerResolve(IDU.BN,e.resolveToNumber,void 0,"10"),e.registerResolve(IDU.VY,e.resolveToNumber,void 0,"100")},e.prototype.registerResolve=function(e,t,n,i){var r=this;return"function"!=typeof t?void errorNull(t+" !!!ConfigManager.registerResolve"):(r._resolveDic[e]={fun:t,param:n},void(i&&(r._defaultDic[e]=i)))},e.prototype.getDataByName=function(e){var t=this,n=t._configDatas[e];if(!n){var i=XCA.CG(e)||t._defaultDic[e];if(!i)return void errorNull("config!!!configName:"+e);var r=t._resolveDic[e]||QycO.BE;if("function"!=typeof r.fun)return void errorNull("config!!!configName:"+e);IDU.WY&&(XCA.TM(e),t._defaultDic[e]&&delete t._defaultDic[e]),t._configDatas[e]=n=r.fun(i,r.param)}return n},e.prototype.resolveToStringArray=function(e,t){void 0===t&&(t=",");var n=e.split(t);return n},e.prototype.resolveToNumberArray=function(e,t){void 0===t&&(t=",");for(var n=e.split(t),i=[],r=n.length,a=0;r>a;a++)i[a]=parseInt(n[a]);return i},e.prototype.resolveToNumber=function(e,t){var n=parseInt(e);return n},e.prototype.resolveToString=function(e,t){return e},e.prototype.resolveTonlwjArray=function(e,t){return void 0===t&&(t=","),Nkz.PI(e)},e.prototype.resolveToObjectArray=function(e,t){void 0===t&&(t=",");for(var n,i,r=e.split(t),a=[],o=r.length,s=0;o>s;s++)i=r[s].split(QycO.XP),n={},n.key=i[0],n.value=i[1],a.push(n);return a},e}();__reflect(ConfigManager.prototype,"ConfigManager");var ConsManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return e.prototype.init=function(){var e=this;e._consInfoDict=GObj.$c(ConsVO),e.grade=0,e.totalCap=0,e.havecons=0,e.lewcons=0,e.lincons=0},Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.getConsInfo=function(){return this._consInfoDict},e.prototype.setConsGrade=function(e,t){this._ConsHaveDict[e]=t},e.prototype.getConsGrade=function(e){return this._ConsHaveDict[e]||0},e._instance=null,e}();__reflect(ConsManager.prototype,"ConsManager");var CrossHarryManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.harryVo=GObj.$c(CrossHarryVO),e.harryScoreVo=GObj.$c(CrossHarryScoreVO),e.harryBoxRes=0,e._previewDic={},e._scoresDic={},e._stagesDic={},e.reliveCd=StaticData.HARRY_RELIVE_TIME},e.prototype.getPreviewRewardByType=function(e){var t=this;if(!t._previewDic[e]&&t.rewardGift_1){var n=t.rewardGift_1.bagList;switch(e){case 1:case 2:case 3:case 4:t._previewDic[e]=t.getRewardByBagList(e,n)}}return t._previewDic[e]||[]},e.prototype.getScoreRewardByRank=function(e){var t=this;if(!t._scoresDic[e]&&t.rewardGift_3){var n=t.rewardGift_3.bagList;t._scoresDic[e]=t.getRewardByBagList(e,n)}return t._scoresDic[e]||[]},e.prototype.getStageRewardByIndex=function(e){var t=this;if(!t._stagesDic[e]&&t.rewardGift_2){var n=t.rewardGift_2.bagList;t._stagesDic[e]=t.getRewardByBagList(e,n)}return t._stagesDic[e]||[]},e.prototype.getRewardByBagList=function(e,t){var n=t?t[e-1]:null,i=[];if(n)for(var r=n.rewardList,a=r?r.length:0,o=void 0,s=void 0,p=0;a>p;p++)s=r[p],o=GObj.$c(nlwj),o.tid=s.tempId,o.count=s.count,i.push(o);return i},e}();__reflect(CrossHarryManager.prototype,"CrossHarryManager");var DynamicManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init(),t.initEvent()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.clear()},e.prototype.clear=function(){var e=this;e.dynamicP5List={},e.dynamicUIList={}},e.prototype.initEvent=function(){},e.prototype.updateDynamicView=function(e){var t=this,n=t.dynamicP5List[e.id];if(n){var i=t.getDynamicVid(e,n),r=t.getDynamicVid(e),a=App.MG.isExist(e);App.GP.setFrameBtnVisable(i,!1),App.GP.setFrameBtnVisable(r,a)}},e.prototype.addDynamicView=function(e){var t,n=this,i=App.IG;if(0!==e.p5){var r=App.GP.getViewDataByVid(e.id);if(!r||r.vid){var a=n.getDynamicVid(e);t=App.GP.getViewDataByVid(a),t&&t.vid||(App.MG.isExist(e)&&(t=n.getVdatByFunnyVo(e,r),i.addView(t),App.GP.setFrameBtnVisable(t.vid,!0)),n.dynamicP5List[e.id]=e.p5)}}},e.prototype.getVdatByFunnyVo=function(e,t){var n=this,i=e.p5,r=(e.type,e.id,n.getDynamicKqZ(i)),a=n.getDynamicIndex(r),o={type:t.type,fid:r,fclz:CommonEffectFrame,vid:n.getDynamicVid(e),clz:t.clz,index:a,title:t.title,selIcon:t.selIcon,unselIcon:t.unselIcon,res:t.res,data:t.data,TogBtnClz:t.TogBtnClz};return o},e.prototype.openDynamicFrame=function(e){var t=this.getDynamicKqZ(e),n=App.GP.getVidArrByFid(t);n&&n.length>0&&App.VS.open(t)},e.prototype.getDynamicKqZ=function(e){return KqZ.QF+e},e.prototype.getDynamicIndex=function(e){var t=this,n=t.dynamicUIList[e];return isNaN(n)?n=0:n++,t.dynamicUIList[e]=n,n},e.prototype.getDynamicVid=function(e,t){var n=e.id,i="";return isNaN(t)?i=e.p5.toString():0!==t&&(i=t.toString()),n+i},e.prototype.isExistDynamicFrame=function(e){for(var t=this.getDynamicKqZ(e),n=App.VS.getViewDatByVid(t),i=0,r=n.length;r>i;i++){var a=n[i];if(a.visable)return!0}return!1},e._instance=null,e}();__reflect(DynamicManager.prototype,"DynamicManager");var EmailManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._allEmailDic={},e._emailArray=[],e._gmEmailArray=[]},e.prototype.getEmailInfoByEid=function(e){return this._allEmailDic[e]},e.prototype.addEmailInfo=function(e){var t=this;e&&(t._allEmailDic[e.eid]=e,500==e.etype?-1==t._gmEmailArray.indexOf(e)&&t._gmEmailArray.unshift(e):-1==t._emailArray.indexOf(e)&&t._emailArray.unshift(e))},e.prototype.deleteEmailInfo=function(e){var t=this,n=t._allEmailDic[e];if(n){var i=void 0,r=void 0;500==n.etype?(i=t._gmEmailArray.indexOf(n),r=t._gmEmailArray):(i=t._emailArray.indexOf(n),r=t._emailArray),i>=0&&r.splice(i,1),delete t._allEmailDic[e]}return n},Object.defineProperty(e.prototype,"allEmailDic",{get:function(){return this._allEmailDic},set:function(e){this._allEmailDic=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emailArray",{get:function(){return this._emailArray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gmEmailArray",{get:function(){return this._gmEmailArray},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasDeleteEmails",{get:function(){for(var e=this,t=!1,n=e._emailArray,i=e._gmEmailArray,r=Math.max(n.length,i.length),a=0;r>a;a++)if(n[a]&&!n[a].hasannex||i[a]&&!i[a].hasannex){t=!0;break}return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasEmails",{get:function(){var e=this;return e._emailArray.length>0||e._gmEmailArray.length>0},enumerable:!0,configurable:!0}),e.prototype.sortEmailByEid=function(e,t){return e.hasannex&&!t.hasannex?-1:!e.hasannex&&t.hasannex?1:e.time>t.time?-1:1},e}();__reflect(EmailManager.prototype,"EmailManager");var ExploreManager=function(){function e(){this.currentArea=0,this.currentPP=0,this.mySite=0,this.isCardEvent=!1,this.cardIndex=-1,this.bossHp=1,this.autoBuyPP=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.currentTypes=[],e.businessGoodsIds=[],e.selectedGoodsindex=[],e._allShopnlwjDic={},e.previewAward=[],e.exploreAreaStars=[]},e.prototype.getGoodsIdBySelected=function(){var e=this,t=[],n=[];n=e.selectedGoodsindex.sort();for(var i=e.businessGoodsIds.length,r=n.length,a=0;i>a;a++)for(var o=0;r>o;o++)a==n[o]&&t.push(parseInt(e.businessGoodsIds[a]));return t},e.prototype.getTempShopList=function(){var e,t,n=XCA.allTemplateData.shoptemp;for(e in n)t=GObj.$c(Shopnlwj),ObjectUtil.oto(n[e],t),this._allShopnlwjDic[e]=t},e.prototype.getBlackShopGoods=function(e){var t=this;t.getTempShopList(),t._blackSellGoods=[];for(var n,i=e.length,r=0;i>r;r++)n=t._allShopnlwjDic[e[r]],n&&t._blackSellGoods.push(n);return t._blackSellGoods},e.prototype.getRoutes=function(){var e="";1==App.WW.currentArea?e=ExploreTypeConst.XS:2==App.WW.currentArea&&(e=ExploreTypeConst.TF);var t=[];return t=e.split("|")},e.prototype.getPreviewAwards=function(){var e=this;e.previewAward.length=0;var t=XCA.CG(IDU.YR);if(t){var n,i=e.currentArea-1;if(i>-1&&(n=t.split("-")[i]),n){var r=[];r=n.split("|");for(var a=0;a<r.length;a++){var o=[];if(o=r[a].split(","),2==o.length){var s=GObj.$c(nlwj);s.tid=parseInt(o[0]),s.count=parseInt(o[1]),e.previewAward.push(s)}}return e.previewAward}return null}},e.prototype.getExploreAreaStars=function(){var e=this;if(e.exploreAreaStars&&e.exploreAreaStars.length>0)return e.exploreAreaStars;var t=XCA.CG(IDU.MH)||"",n=[];return n=t.split("|"),e.exploreAreaStars=n,e.exploreAreaStars},e._instance=null,e}();__reflect(ExploreManager.prototype,"ExploreManager");var FamilyManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.familyInfo={}},e.prototype.getFamilyConfig=function(){var e=App.OZ.getDataByName(IDU.ZY);return e},e.prototype.getOpenTurnGrade=function(){var e=App.OZ.getDataByName(IDU.ZY);return e[4]||0},e.prototype.getPlayerActive=function(){var e=App.XW.familyInfo.ml;for(var t in e){var n=e[t];if(App.KF.uid==n.uid)return n.uc}},e.prototype.getMaxMumberByGrade=function(e){var t=5,n=App.OZ.getDataByName(IDU.RG);if(!n||n.length<=0)return 5;for(var i=n.length,r=0;i>r&&!(e<n[r].key);r++)t=n[r].value;return t},Object.defineProperty(e.prototype,"isJoin",{get:function(){return!!App.XW.familyInfo.id},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(FamilyManager.prototype,"FamilyManager");var FFMountainManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._masBossList=[],e._subBossList=[],e.ffmListDic={};var t;if(t=App.MB.ffmBossList,t&&t)for(var n=t.length,i=void 0,r=void 0,a=0;n>a;a++)if(i=t[a],r=i.tid%1e3,0==r)e._masBossList.push(i);else{var o=i.TSF.pre;e._subBossList[o]||(e._subBossList[o]=[]),e.typeNum=i.type,e._subBossList[o].push(i)}},Object.defineProperty(e.prototype,"masBossList",{get:function(){return this._masBossList},enumerable:!0,configurable:!0}),e.prototype.getSubBossListByType=function(){var e=this;return e._subBossList[e.currType]},e.prototype.getSubBossByTypeAndTid=function(e,t){var n,i=this;if(!i._subBossList[e])return null;for(var r=0;r<i._subBossList[e].length;r++)if(n=i._subBossList[e][r],n&&int(n.tid/1e3)==int(t/1e3))return n;return null},e.prototype.getFFMisFightByIndex=function(e){return this.ffmListDic["die_"+e]?!0:!1},e.prototype.getFFMcurrentVal=function(){for(var e=this,t=0,n=e._subBossList[e.currType],i=n.length,r=0;i>r;r++){var a=gLw.FJ(n[r].tid);e.getFFMisFightByIndex(a)&&t++}return t},e.prototype.getFFMCurrTotalVal=function(){var e=this,t=e._subBossList[e.currType];return t?t.length:0},Object.defineProperty(e.prototype,"currType",{get:function(){return 1},enumerable:!0,configurable:!0}),e.prototype.getCurrEndDay=function(e){var t=this._subBossList[e];if(t){var n=t.length;return t[n-1].TSF.conval}return 0},e.prototype.getCurrStartDay=function(e){var t=this._subBossList[e];return t?t[0].TSF.conval:0},e}();__reflect(FFMountainManager.prototype,"FFMountainManager");var FunnyManager=function(){function e(){this.isCanBet=!0;var t=this;singleton(e._instance),e._instance=this,t.init(),t.initEvent()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.clear(),e.treasureData=GObj.$c(TreasureData,10018),e.rechargeTreasurData=GObj.$c(TreasureData,10021),e.magicData=GObj.$c(TreasureData,10031)},e.prototype.clear=function(){var e=this;e.allList={},e.funnyTypeDict={},e.funnyList=[],e.timeGiftList=[],e.limitGiftList=[],e.packstList=[],e.allTogetherGift=[],e.soaringGift=[],e.holyegg=[],e.holyeggstage=[],e.luckegg=[],e.luckeggRank=[],e.luckeggStage=[],e.wbVipGift=[],e.wbScoreGift=[],e.rebateList=[],e.keepRebate=0,e.magicRankList=[],e.magicstageList=[],e.magicList=[],e.straightBuyList=[],e.crossArenaShop=[],e.treasuryList=[],e.treasurystage=[],e.collectHalList=[],e.treasuryReports=[],e.treasuryNotices=[],e.treasuryShops=[],e.peopleIndex=0,e.TreasureGoods=[],e.mergeChargeInfo={},e.valentinesList=[],e.valentinesSortList=[],e.valentinesRewardList=[],e.valueChargeList=[],e.valueChargeSupList=[],e.festivalActivtiyList=[],e.festivalActivtiyChildList=[]},e.prototype.findFunnyVoById=function(e){return this.allList[e]},e.prototype.addFunnyVoData=function(e){var t=this;if(e){switch(e.type){case 10004:t.timeGiftList.push(e);break;case 10005:t.limitGiftList.push(e);break;case 10007:t.allTogetherGift.push(e),t.allTogetherGift.sort(t.compareFunByShowStartTime);break;case 10008:case 10009:case 10010:case 10011:case 10012:case 10013:case 10036:t.packstList.push(e);break;case 10024:t.soaringGift.push(e),t.soaringGift.sort(t.compareFunByShowStartTime);break;case 10025:t.holyegg.push(e);break;case 10026:t.holyeggstage.push(e);break;case 10027:t.wbVipGift.push(e),t.wbVipGift.sort(t.compareFunByShowStartTime);break;case 10028:t.wbScoreGift.push(e),t.wbScoreGift.sort(t.compareFunByShowStartTime);break;case 10030:t.rebateList.push(e),t.rebateList.sort(t.compareFunByShowStartTime);break;case 10031:t.magicList.push(e);break;case 10032:t.magicRankList.push(e);break;case 10033:t.magicstageList.push(e);break;case 20001:t.straightBuyList.push(e);break;case 10034:t.crossArenaShop.push(e);break;case 10037:App.IB.rewardGift_1=e;break;case 10038:App.IB.rewardGift_2=e;break;case 10039:App.IB.rewardGift_3=e;break;case 10043:case 10044:case 10045:case 10046:t.treasuryList.push(e);break;case 10047:case 10048:case 10049:case 10050:t.treasurystage.push(e);break;case 10051:t.treasuryShops.push(e);break;case 11001:t.collectHalList.push(e),t.collectHalList.sort(t.compareFunByShowStartTime);break;case 10053:t.TreasureHunting=e;break;case 20002:t.luckegg.push(e);break;case 20003:t.luckeggStage.push(e);break;case 20004:t.luckeggRank.push(e);break;case 20035:t.valentinesList.push(e);break;case 20033:t.valentinesSortList.push(e);break;case 20034:t.valentinesRewardList.push(e);break;case 10054:t.valueChargeList.push(e);break;case 10055:t.valueChargeSupList.push(e);break;case 20038:t.oneYuanBuy=e;break;case 20039:t.achievementVo=e;break;case 10056:t.carnivalChapterList=e;break;case 10060:t.carnivalTeamList=e;break;case 10062:t.carnivalTeam2List=e;break;case 10063:t.carnivalTownList=e;break;case 10057:t.carnivalMagicList=e;break;case 10059:t.carnivalFightList=e;break;case 10058:t.carnivalBeautyList=e;break;case 10061:t.festivalActivtiyList.push(e),vkG.$d(UtJ.PHE);break;case 20041:t.directVo=e;break;case 20040:t.oneYuanInfo=e;break;case 20042:t.returnToCash=e;break;case 20043:t.firstCharge=e;break;case 20044:break;case 20045:t.directcrash=e;break;default:t.funnyList.push(e)}t.allList[e.id]=e}},e.prototype.compareFunByShowStartTime=function(e,t){return e.showStart<t.showStart?-1:1},e.prototype.compareFunBySort=function(e,t){return e.sort<t.sort?-1:1},e.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DV,e.__goodsUpdateHandler,e)},Object.defineProperty(e.prototype,"hasTimeGift",{get:function(){var e=this,t=e.timeGiftList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.timeGiftList[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLimitGift",{get:function(){var e=this,t=e.limitGiftList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.limitGiftList[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPackstList",{get:function(){var e=this,t=e.packstList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.packstList[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasLuckEgg",{get:function(){var e=this,t=e.luckegg.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.luckegg[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasAllTogetherGift",{get:function(){var e=this,t=e.allTogetherGift.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.allTogetherGift[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasSoaringGift",{get:function(){var e=this,t=e.soaringGift.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.soaringGift[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasHolyEgg",{get:function(){var e=this,t=e.holyegg.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.holyegg[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),e.prototype.hasTreHunting=function(){var e=this.TreasureHunting;return e&&e.isExist?e:null},Object.defineProperty(e.prototype,"hasStraightBuy",{get:function(){var e=this,t=e.straightBuyList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.straightBuyList[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),e.prototype.getCurrWbVipFunny=function(){var e=this,t=e.wbVipGift.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.wbVipGift[i],n.isExist)return n;return null},e.prototype.getCurrWbScoreFunny=function(){var e=this,t=e.wbScoreGift.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.wbScoreGift[i],n.isExist)return n;return null},Object.defineProperty(e.prototype,"hasCrossArenaShop",{get:function(){var e=this,t=e.crossArenaShop.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.crossArenaShop[i],n.isExist)return!0;return!1},enumerable:!0,configurable:!0}),e.prototype.getCollectHallFunny=function(){var e=this,t=e.collectHalList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.collectHalList[i],n.isExist)return n;return null},e.prototype.getFirstChargeState=function(){var e=this;if(!e.firstCharge)return 0;for(var t,n=e.firstCharge.bagList.length,i=0;n>i;i++)if(t=e.firstCharge.bagList[i],0!==t.status)return t.status;return 0},e.prototype.getFirstChargeList=function(){var e=this;if(e.firstCharge)for(var t,n=e.firstCharge.bagList.length,i=0;n>i;i++)if(t=e.firstCharge.bagList[i],1==t.status)return t},e.prototype.__goodsUpdateHandler=function(e){var t,n,i,r,a,o,s,p,l,c,u,d=this,g=!1,v=d.funnyList.length;for(a=0;v>a;a++)if(t=d.funnyList[a],10003==t.type)for(i=t.bagList,o=0;o<i.length;o++)if(p=!0,c=Number.MAX_VALUE,u=Number.MAX_VALUE,n=i[o],n.haveGet>=n.totalGet)n.status=2,n.haveFinish=0;else if(10003==n.funnyType){for(r=n.getConditionGoods(),s=0;s<r.length;s++){if(l=App.FK.hsx(r[s].tid),l<r[s].count){p=!1;break}c=Math.min(c,l),u=Math.min(u,r[s].count)}n.status=r.length>0&&p?1:0,n.haveFinish=n.status?int(c/u):0,g||(g=!0)}g&&vkG.$d(UtJ.PP)},e.prototype.isDiscount=function(e){switch(e){case 10008:case 10009:case 10010:case 10011:return!0}return!1},e.prototype.isStage=function(e){switch(e){case 10012:case 10013:return!0}return!1},e.prototype.isVipGrade=function(e){switch(e){case 10036:return!0}return!1},e.prototype.getValentinesFunny=function(){var e=this,t=e.valentinesList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.valentinesList[i],n.isExist)return n;return null},e.prototype.getValentinesSortFunny=function(){var e=this,t=e.valentinesSortList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.valentinesSortList[i],n.isExist)return n;return null},e.prototype.getValentinesRewardFunny=function(){var e=this,t=e.valentinesRewardList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.valentinesRewardList[i],n.isExist)return n;return null},e.prototype.getValueChargeRewardFunny=function(){var e=this,t=e.valueChargeList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.valueChargeList[i],n.isExist)return n;return null},Object.defineProperty(e.prototype,"FestivalActivtiyList",{get:function(){return this.festivalActivtiyList},enumerable:!0,configurable:!0}),e.prototype.getValueChargeSupRewardFunny=function(){var e=this,t=e.valueChargeSupList.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e.valueChargeSupList[i],n.isExist)return n;return null},e.prototype.getDirectCrashFunny=function(){var e=this.directcrash;return e&&e.isExist?e:null},e.prototype.checkFunnyVoisNull=function(e){return e?!0:!1},e.prototype.isExist=function(e){return e.isExist&&e.endTime>App.NN.serverSecond},e.prototype.updateFunnyView=function(e){var t=this;if(t.funnyTypeDict[e.type]){var n=e.id,i=t.isExist(e)&&0===e.p5;App.GP.setFrameBtnVisable(n,i)}},e.prototype.addFunnyView=function(e,t){void 0===t&&(t=KqZ.QA);var n=this;n.funnyTypeDict[e.type]=1;var i=App.IG,r=App.MG.funnyList.length,a=App.GP.getViewDataByVid(e.id);a&&a.vid||n.isExist(e)&&(a=n.getVdatByFunnyVo(e,t),a.index=r-1,i.addView(a),App.GP.setFrameBtnVisable(a.vid,0===e.p5))},e.prototype.getVdatByFunnyVo=function(e,t){var n=(e.p5,e.type),i={type:KqZ.CI,fid:t,fclz:CommonEffectFrame,vid:e.id,clz:this.getDatByFunnyType(n),index:0,title:"funny_json.funny_title_png",selIcon:kLM.OQ(n),unselIcon:kLM.HT(n),res:[KqZ.CM],data:{ok_h:e},TogBtnClz:FunnyFrameButton};return i},e.prototype.getDatByFunnyType=function(e){switch(e){case 10018:return FunnyTreasureView;case 10021:return RechargeTreasureView;case 10035:return GodOfWealthView;default:return FunnyBagView}},e._instance=null,e}();__reflect(FunnyManager.prototype,"FunnyManager");var GoalManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._goalDayInfos=[],e._currDay=0},Object.defineProperty(e.prototype,"totalDay",{get:function(){return this._goalDayInfos.length},enumerable:!0,configurable:!0}),e.prototype.getGoalDayInfoByDay=function(e){var t=this;return e>=0&&e<t._goalDayInfos.length?t._goalDayInfos[e]:null},e.prototype.addGoalDayInfoByDay=function(e,t){0>e||(this._goalDayInfos[e]=t)},Object.defineProperty(e.prototype,"currDay",{get:function(){return this._currDay},set:function(e){this._currDay=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){var e=this;return e._switchInfo||(e._switchInfo=XCA.MF(51)),e._switchInfo?e._switchInfo.start||0:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){var e=this;return e._switchInfo||(e._switchInfo=XCA.MF(51)),e._switchInfo?e._switchInfo.end||0:0},enumerable:!0,configurable:!0}),e.prototype.getTaskByTypes=function(e){var t,n=App.QA.getTaskListByType(4),i=[],r=App.AT.crs;for(var a in n)t=n[a].taskTemplate,t&&t.p1==e&&t.p2==r&&i.push(n[a]);return i},e._instance=null,e}();__reflect(GoalManager.prototype,"GoalManager");var GxD=function(){function e(){this._dropList=[],this._dropDict={},this._waitPlay=!1;var t=this;singleton(e._instance),e._instance=this,t._goodsDictionary={},t._goodsCountDic={},t._bagGroupDict={},t._bagGroupDict[1]={},t._bagGroupDict[2]={},t._bagGroupDict[5]={},t._bagGroupDict[6]={},t._bagGroupDict[7]={},t._bagGroupDict[8]={},t._bagGroupDict[10]={},t._bagGroupDict[9]={},t._bagGroupDict[11]={},t._bagGroupDict[12]={},t._bagGroupDict[13]={},t._bagGroupDict[14]={}
}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.getnlwjByGoodsId=function(e){return this._goodsDictionary[e]},Object.defineProperty(e.prototype,"bagGroupDict",{get:function(){return this._bagGroupDict},enumerable:!0,configurable:!0}),e.prototype.resetUpdateCount=function(){var e=this;e._equipBagCount=0,e._gemBagCount=0,e._spiritBagCount=0,e._knackBagCount=0,e._knackInsetBagCount=0,e._beautyBagCount=0,e._godsuitBagCount=0,e._fairySuitBagCount=0,e._immortalEquipBagCount=0},e.prototype.commitUpdateCount=function(){var e=this;e._equipBagCount>0&&vkG.$d(UtJ.VO),e._gemBagCount>0&&vkG.$d(UtJ.GJ),e._spiritBagCount>0&&vkG.$d(UtJ.AJ),e._knackBagCount>0&&vkG.$d(UtJ.EWK),e._knackInsetBagCount>0&&vkG.$d(UtJ.EWK),e._beautyBagCount>0&&vkG.$d(UtJ.UP),e._godsuitBagCount>0&&vkG.$d(UtJ._Q),e._fairySuitBagCount>0&&vkG.$d(UtJ.XGU),e._immortalEquipBagCount>0&&vkG.$d(UtJ.EN)},e.prototype.setnlwjByGoodsId=function(e,t){var n=this;n._goodsDictionary[e]=t,n._bagGroupDict[t.btype]&&(n._bagGroupDict[t.btype][e]=t),n.updateCountByGoods(t)},e.prototype.deletenlwjByGoodsId=function(e){var t=this,n=t._goodsDictionary[e];n&&t._bagGroupDict[n.btype]&&(t.updateCountByGoods(n),delete t._bagGroupDict[n.btype][e]),delete t._goodsDictionary[e]},e.prototype.updateCountByGoods=function(e){var t=this;e&&(2==e.btype?t._equipBagCount++:5==e.btype?t._gemBagCount++:8==e.btype?t._spiritBagCount++:10==e.btype?t._knackBagCount++:9==e.btype?t._knackInsetBagCount++:11==e.btype?t._beautyBagCount++:12==e.btype?t._godsuitBagCount++:13==e.btype?t._fairySuitBagCount++:14==e.btype&&t._immortalEquipBagCount++)},Object.defineProperty(e.prototype,"goodsCountDic",{get:function(){return this._goodsCountDic},enumerable:!0,configurable:!0}),e.prototype.hsx=function(e){var t=this;return t._goodsCountDic[e]?t._goodsCountDic[e]:0},e.prototype.getGoodsListByTypes=function(e,t){var n,i,r=[],a=this._bagGroupDict[t]||{};for(var o in a)n=a[o],i=n.masterType,e.indexOf(i)>=0&&r.push(n);return r},e.prototype.Fkl=function(e,t){var n,i,r=[],a=this._bagGroupDict[e]||{};for(i in a)n=a[i],n.sonType==t&&r.push(n);return r},e.prototype.LHp=function(e){var t,n,i=[],r=this._bagGroupDict[e]||{};for(n in r)t=r[n],i.push(t);return i},e.prototype.getGoodsListByTIDAndBagType=function(e,t){var n,i,r=[],a=this._bagGroupDict[e]||{};for(i in a)n=a[i],n.tid==t&&r.push(n);return r},e.prototype.addNewGoods=function(e,t){void 0===t&&(t=1);var n=this,i=n._dropDict[e];if(i)return void(i.count+=t);var r=XCA.FR(e);r&&(i={id:e,count:t,name:r.name,quality:r.qua},n._dropDict[e]=i,n._dropList.push(i))},e.prototype.addNewGoodsDelay=function(e,t){void 0===t&&(t=1);var n=this;n.addNewGoods(e,t),n._waitPlay||(n._waitPlay=!0,ClockManager.setTimeout(n.playInBagEffect,this,1500))},e.prototype.playInBagEffect=function(){var e=this,t=e._dropList.length;if(!(0>=t)){e._waitPlay=!1;var n=e._dropList.concat();e._dropDict={},e._dropList.length=0;for(var i,r,a=hCs.stage.stageWidth/2-106,o=hCs.stage.stageHeight/2+100,s=0;t>s;s++)r=n[s],i=GObj.$c(NewGoodsUIEffect),i.start(r.name,r.quality,r.count,a,o-36*s)}},e.prototype.searchMoreEquip=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=this,r=i.Fkl(1,e);if(r.length>0){for(var a=0,o=void 0,s=0;s<r.length;s++)!r[s].canWear&&r[s].TSF.p2>a&&(o=r[s],a=r[s].TSF.p2);return i.compareWearEquip(o,t,n)?o:null}},e.prototype.compareWearEquip=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i;if(i=t?12:n?13:2,!e||!e.TSF||e.masterType!=Iwrv.CL)return!1;var r=this.Fkl(i,e.sonType);return 0==r.length||r[0].TSF&&r[0].TSF.p2<e.TSF.p2?!0:!1},e.prototype.getCanSmeltingEquip=function(){for(var e,t,n=this,i=[],r=(App.KF.grade,n.getGoodsListByTypes([Iwrv.CL],1)),a={},o=r.length,s=0;o>s;s++)e=r[s],n.checkSmeltingCondition(e)||(t=e.sonType,!a[t]||e.TSF.p2>a[t].TSF.p2?(a[t]&&i.push(a[t]),a[t]=e):i.push(e));var p=n.getRoleWearEquip();for(var l in a)e=a[l],p[l]&&e.TSF.p2<=p[l].TSF.p2&&(i.push(e),delete a[l]);return i},e.prototype.checkSmeltingCondition=function(e){return e.quality>=aKF.PU?!0:void 0},e.prototype.getEquipGoodsGrade=function(e,t){var n=this,i=QNV.sonType(e),r=n.getEquipIwrv(i),a=n.Fkl(2,r)[0],o=0;a&&a.quality>=aKF.KY&&(o=a.TSF.step);var s=XCA.FR(e),p=s.step;return o>=p?!0:!1},e.prototype.getEquipIwrv=function(e){var t=0;switch(e){case Iwrv.UT:t=Iwrv.FW;break;case Iwrv.WF:t=Iwrv.HA;break;case Iwrv.KWJ:t=Iwrv.JR;break;case Iwrv.MS:t=Iwrv.KH;break;case Iwrv.OOT:t=Iwrv.LG;break;case Iwrv.XG:t=Iwrv.EB;break;case Iwrv.AK:t=Iwrv.ZK;break;case Iwrv.QH:t=Iwrv.OA}return t},e.prototype.getSpiritEquipIwrv=function(e){var t=0;switch(e){case Iwrv.FW:t=Iwrv.UT;break;case Iwrv.HA:t=Iwrv.WF;break;case Iwrv.JR:t=Iwrv.KWJ;break;case Iwrv.KH:t=Iwrv.MS;break;case Iwrv.LG:t=Iwrv.OOT;break;case Iwrv.EB:t=Iwrv.XG;break;case Iwrv.ZK:t=Iwrv.AK;break;case Iwrv.OA:t=Iwrv.QH}return t},e.prototype.getRoleWearEquip=function(){for(var e={},t=this.LHp(2),n=0;n<t.length;n++)e[t[n].sonType]=t[n];return e},e.prototype.getRoleSpiritWearEquip=function(){for(var e={},t=this.LHp(8),n=0;n<t.length;n++)e[t[n].sonType]=t[n];return e},e.prototype.UrC=function(){for(var e,t,n=[],i=[],r=this.getCanSmeltingEquip(),a=r.length,o=0;a>o;o++)e={},e[r[o].id]=r[o].count,t=r[o].quality-1,(1<<t&SmeltingView.YL)>0?n.push(e):i.push(e);a>0&&(n.length>0&&GoodsMsgProxy.JD(n),i.length>0&&GoodsMsgProxy.YL(i),MessageTipManager.instance.show(fvg.GVf("smelting12")))},e.SM=function(e,t){return e.TSF.p2>t.TSF.p2?-1:e.TSF.p2<t.TSF.p2?1:0},e.LB=function(e,t){return e.TSF.p2>t.TSF.p2?1:e.TSF.p2<t.TSF.p2?-1:0},e.AD=function(e,t){return e.tid<t.tid?-1:1},e.prototype.showGoodsDetails=function(e,t){void 0===t&&(t=!0),GoodsDetailsPopUi.instance.showGoodsDetails(e,t)},e.prototype.getGradeByGid=function(e){if(!e)return-1;var t=GObj.$c(nlwj);t.tid=e;var n=t.TSF.masttype,i=t.TSF.sontype,r=-1,a=XCA.AQS.UFA(n,i,1);switch(n){case 12:var o=App.BG.superEquipInfo;r=o?o[i]:0;break;case 24:r=App.BG.fashionInfo[i]||0;break;case 40:r=App.OG.treasureInfo[i]||0;break;case 31:r=App.JO.beastGradeDict[i]||0;break;case 33:r=App.JS.getSkinGrade(a?a.tid:null);break;case 63:r=App.OX.hwInfo[i]||0;break;case 54:r=App.ZT.getCloakGrade(i)||0;break;case 69:var s=App.BV.cardInfo;r=s[i]||0;break;case 27:r=App.JUY.knightInfos[i]||0;break;case 48:r=App.JUY.getTempByCollType[i]||0}return r},e.prototype.searchMoreImmEquip=function(e,t){void 0===t&&(t=!1);var n=this,i=n.Fkl(1,e);if(i.length>0){for(var r=0,a=void 0,o=0;o<i.length;o++)!i[o].canWear&&i[o].TSF&&i[o].TSF.p2>r&&(a=i[o],r=i[o].TSF.p2);return n.compareWearImmEquip(a,t)?a:null}},e.prototype.compareWearImmEquip=function(e,t){if(void 0===t&&(t=!1),!e||!e.TSF||e.masterType!=Iwrv.CL)return!1;var n=this.Fkl(t?13:2,e.sonType);return 0==n.length||n[0].TSF.p2<e.TSF.p2?!0:!1},e.prototype.getGoodsIdByTid=function(e){var t=App.FK.LHp(1),n=0;for(var i in t)if(t[i].tid==e)return n=t[i].id;return n},e.prototype.searchMoreImmFreEquip=function(e){var t=this,n=t.Fkl(1,e);if(n.length>0){for(var i=-1,r=void 0,a=0;a<n.length;a++)t.Oundefinedy(n[a])>i&&(r=n[a],i=t.Oundefinedy(n[a]));var o=t.Fkl(14,e);if(0==o.length||t.Oundefinedy(o[0])<t.Oundefinedy(r))return r}return null},e.prototype.searchStoreEquip=function(e,t,n,i){var r,a=this._bagGroupDict[1]||{},o=[];for(var s in a)if(r=a[s],r&&r.quality==t&&-1!=Iwrv.YJ.indexOf(r.sonType)&&QNV.masterType(r.TSF.tid)==Iwrv.CL&&App.JP.getTurnupGrade(r.TSF.step)==e){var p=QNV.sonType(r.TSF.tid);if(!i||p==i)if(r.quality==aKF.PU)o.push(r);else if(r.quality==aKF.KY){if(r.TSF.star!=n)continue;o.push(r)}}return o},e.prototype.Oundefinedy=function(e){return e.TSF.p2},e._instance=null,e}();__reflect(GxD.prototype,"GxD");var fNs=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init(),t.initEvent()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._classDic={},e.addNoviceClass(hXS.OX,NoviceNodeNewBie),e.addNoviceClass(hXS.UK,NoviceNodeNewBieSkill),e.addNoviceClass(hXS.NHO,NoviceFirstCharge),e.addListNoviceClass(hXS.RX,NoviceKillBoss),e.addListNoviceClass(hXS.CH,NoviceNodeRole),e.addListNoviceClass(hXS.JL,NoviceNodeMagic),e.addListNoviceClass(hXS.KX,NoviceBoxMagicUp),e.addListNoviceClass(hXS.LZ,NoviceNodeMagicUp),e.addListNoviceClass(hXS.TD,NoviceActSkillUpgradeReward),e.addListNoviceClass(hXS.QE,NoviceActSkillWith),e.addListNoviceClass(hXS.NO,NoviceNodeVip),e.addListNoviceClass(hXS.YY,NoviceBeautyReward),e.addListNoviceClass(hXS.KQ,NoviceNodeInternal),e.addListNoviceClass(hXS.TS,NoviceNodeOpenInternal),e.addListNoviceClass(hXS.IN,NoviceBeauty),e.addListNoviceClass(hXS.RW,NoviceCloakActivate),e.addListNoviceClass(hXS.ZB,NoviceNoeFakeBigSkill),e.addListNoviceClass(hXS.ZP,NovicePvp),e.addListNoviceClass(hXS.LB,NoviceActSkillUpgrade),e.addListNoviceClass(hXS.MM,NoviceWealthDish),e.addListNoviceClass(hXS.WR,NoviceMultiBoss),e.addListNoviceClass(hXS.B_,NoviceSingleBoss),e.addListNoviceClass(hXS.WP,NoviceStrengthen),e.addListNoviceClass(hXS.FN,NoviceJoinMart),e.addListNoviceClass(hXS.PJ,NoviceChaMartialart),e.addListNoviceClass(hXS.FB,NoviceGemMount),e.addListNoviceClass(hXS.AI,NoviceTurnup),e.addListNoviceClass(hXS.SA,NoviceBeautyUp),e.addListNoviceClass(hXS.YW,NoviceTeamCampaign),e.addListNoviceClass(hXS.VN,NoviceGoldCampaign),e.addListNoviceClass(hXS.BN,NoviceNodeTendons),e.addListNoviceClass(hXS.NH,NoviceSocietyChallenge),e.addListNoviceClass(hXS.WL,NoviceRewardTask),e.addListNoviceClass(hXS.VT,NoviceNodeEightdoor),e.addListNoviceClass(hXS.SG,NoviceArena),e.addListNoviceClass(hXS.BQ,NoviceFashionActivation),e.addListNoviceClass(hXS.PX,NoviceAutoTask),e.addListNoviceClass(hXS.QX,NoviceBarSwitch),e.addListNoviceClass(hXS.JV,NoviceHideSet)},e.prototype.addListNoviceClass=function(e,t){for(var n=0,i=e.length;i>n;n++){var r=e[n];this.addNoviceClass(r,t)}},e.prototype.addNoviceClass=function(e,t){var n=this;n._classDic[e]&&errorNull("id,tid:"+e),n._classDic[e]=t},e.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YUJ,e.__taskCompleteHandler,e)},e.prototype.__taskCompleteHandler=function(e){e&&this["do"](e)},e.prototype["do"]=function(e,t,n){var i=this;if(!i._classDic[e])return void(t&&t.call(n));if(i._currNovice){i._currNovice.removeEventListener(UtJ.EC,i.__noviceNodeComplete,i),i._currNovice.dispose(),i._currNovice=null;var r=i._callFun,a=i._thisObj;i._callFun=null,i._thisObj=null,r&&r.call(a)}i._callFun=t,i._thisObj=n;var o=i._classDic[e];i._currNovice=GObj.$c(o),i._currNovice.tid=e,i._currNovice.addEventListener(UtJ.EC,i.__noviceNodeComplete,i),i._currNovice.start(),vkG.$d(UtJ.AFF)},e.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;return i._currNovice?(r=i._currNovice).execute.apply(r,[e].concat(t)):null;var r},e.prototype.__noviceNodeComplete=function(e){var t=this;t._currNovice.removeEventListener(UtJ.EC,t.__noviceNodeComplete,t),t._currNovice=null;var n=t._callFun,i=t._thisObj;t._callFun=null,t._thisObj=null,n&&n.call(i),vkG.$d(UtJ.LOI)},Object.defineProperty(e.prototype,"isNoviceing",{get:function(){return null!=this._currNovice},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(fNs.prototype,"fNs");var HarryManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.harryVo=GObj.$c(HarryVO),e.harryScoreVo=GObj.$c(HarryScoreVO),e.harryBoxRes=0},e}();__reflect(HarryManager.prototype,"HarryManager");var HiddenWeaponManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.hwInfo={}},e.prototype.getHWByQuality=function(e){var t=this;if(!t.hwQua){t.hwQua={};var n=XCA.AQS.oVs(63),i=void 0,r=void 0;for(var a in n)i=n[a][1],r=aKF.MM,t.hwQua[r]||(t.hwQua[r]=[]),t.hwQua[r].push(i),r=gLw.GM(i.tid),t.hwQua[r]||(t.hwQua[r]=[]),t.hwQua[r].push(i)}return t.hwQua[e]||[]},e.prototype.compareFunBySort=function(t,n){return e.AL=(App.OX.hwInfo[gLw.IQ(t.tid)]||QycO.BE).s||0,e.KK=(App.OX.hwInfo[gLw.IQ(n.tid)]||QycO.BE).s||0,e.AL&&e.KK?t.sort>n.sort?-1:1:e.AL&&!e.KK?-1:!e.AL&&e.KK?1:t.sort<n.sort?-1:1},e.prototype.getHWByBeautySubType=function(e,t){var n=App.OX.hwInfo;!t&&(t=[]),t.length=0;for(var i in n)n[i].f==e&&(t[n[i].i-1]=parseInt(i));return t},e.prototype.getBeautyPill=function(){var e,t=0,n=XCA.AQS.oVs(64);for(var i in n)e=this.hwInfo[i]||QycO.BE,e.s>0&&(t+=(n[i][1].p1||0)*e.s);return t},e}();__reflect(HiddenWeaponManager.prototype,"HiddenWeaponManager");var HoroskopManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.eliminateInfo={},e.generalEliminate={},e.currSelectedPos=-1,e.getCanChallengeTimes()},e.prototype.getLevelTidByTypeAndLevel=function(e,t){var n=1e4*e+t;return n},e.prototype.getCanChallengeTimes=function(){var e=this,t=XCA.CG(IDU.UJ),n=t.split(",");e.canChallengeTimes=parseInt(n[0])||20,e.timeAdd=parseInt(n[1])||20},e._instance=null,e}();__reflect(HoroskopManager.prototype,"HoroskopManager");var kLM=function(){function e(){}return e._G=function(e){return getHttpHead()+e},e.FF=function(e){return PATH.ZM+e},e.FU=function(e){return e||(e=999999),PATH.BE+e+FileConst.png},e.UC=function(e){return PATH.NP+e+FileConst.png},e.RU=function(e){return PATH.NP+"name_"+e+FileConst.png},e.RL=function(e){return PATH.UH+e+FileConst.png},e.FK=function(e){return PATH.UH+"bar_"+e+FileConst.png},e.EI=function(){return PATH.UH+"empty"+FileConst.png},e.RA=function(e){return PATH.TO+e+FileConst.png},e.NQ=function(e){return PATH.YN+e+FileConst.png},e.EB=function(e){return PATH.ZG+e+FileConst.png},e.XW=function(e){return PATH.UN+e+FileConst.png},e.NY=function(e){return PATH.VV+e+FileConst.png},e.PV=function(e){return PATH.QQ+e+FileConst.png},e.IF=function(e){return PATH.JH+e+FileConst.png},e.LJ=function(e){return PATH.US+e+FileConst.png},e.BB=function(e){return PATH.JH+e+FileConst.png},e.HP=function(e){return PATH.VV+"name_"+e+FileConst.png},e.PM=function(e){return PATH.VV+"skills/"+e+FileConst.png},e.FI=function(e){return PATH.IO+e+FileConst.png},e.VO=function(e){return PATH.YN+"name_"+e+FileConst.png},e.HY=function(e){return PATH.YN+"h_name_"+e+FileConst.png},e.QL=function(e){return PATH.YN+"rank_"+e+FileConst.png},e.WT=function(e){return PATH.YN+"h_qua_"+e+FileConst.png},e.JT=function(e){return PATH.YN+"h_type_"+e+FileConst.png},e.QJ=function(e){return PATH.YN+"skin_bg_"+e+FileConst.png},e.VQ=function(e){return PATH.YN+"qua_"+e+FileConst.png},e.NE=function(e){return PATH.YN+"j_name_"+e+FileConst.png},e.UQ=function(e){return PATH.YN+"fate_icon_"+e+FileConst.png},e.SB=function(e){return PATH.ZG+"name_"+e+FileConst.png},e.YO=function(e){return PATH.UN+"name_"+e+FileConst.png},e.BD=function(e){return PATH.QII+e+FileConst.png},e.UR=function(e){return PATH.MF+e+FileConst.png},e.CD=function(e,t){void 0===t&&(t=0);var n=t?"_"+t:"";return PATH.RC+e+n+FileConst.png},e.JU=function(e,t,n){void 0===n&&(n=0);var i=n?"_"+n:"";return PATH.HN+e+"_"+t+i+FileConst.png},e.ZQ=function(e){return PATH.KH+e+FileConst.png},e.FX=function(e){return PATH.JD+"b_"+e+FileConst.png},e.OF=function(e){return PATH.JD+"s_"+e+FileConst.png},e.EF=function(e){return PATH.QE+e+FileConst.png},e.SI=function(e){return PATH.PK+e+FileConst.png},e._D=function(e){return PATH.YU+e+FileConst.png},e.BS=function(e){return 1==e&&(e=App.KF.sex),PATH.DCF+e+FileConst.png},e.ST=function(e){return PATH.IN+e+"/chapterlist.json"},e.QM=function(e,t){return PATH.IN+e+"/"+t+".json"},e.RN=function(e){return PATH.IN+"book_"+e+FileConst.png},e.NK=function(e){return PATH.MY+e+FileConst.png},e.JI=function(e){return PATH.MY+e+"_u"+FileConst.png},e.OQ=function(e){return PATH.MY+e+FileConst.png},e.HT=function(e){return PATH.MY+e+"_u"+FileConst.png},e.AE=function(e){return PATH.MY+"c_"+e+FileConst.png},e.ZY=function(e){var t=gLw.getIconIdByTid(e);return PATH.B_+t+FileConst.png},e.GN=function(e){var t=gLw.getIconIdByTid(e);return PATH.B_+"head_"+t+FileConst.png},e.TJ=function(e){var t=gLw.getIconIdByTid(e);return PATH.TT+t+FileConst.png},e.VW=function(e){var t=gLw.getIconIdByTid(e);return PATH.NH+t+FileConst.png},e._X=function(e){var t=gLw.getIconIdByTid(e);return PATH.TT+"head_"+t+FileConst.png},e.ZA=function(e){var t=gLw.getIconIdByTid(e);return PATH.TL+t+FileConst.png},e.NH=function(e){var t=gLw.getIconIdByTid(e);return PATH.TL+"name_"+t+FileConst.png},e.VJ=function(e){return PATH.IC+e+FileConst.png},e.VE=function(e){return PATH.IG+e+FileConst.png},e.PK=function(e){var t=gLw.getIconIdByTid(e);return PATH.HG+t+FileConst.png},e.DH=function(e){return PATH.IB+"icon/"+e+FileConst.png},e.SH=function(e){return PATH.IB+e+FileConst.png},e.YG=function(e){return PATH.BE+e+FileConst.png},e.AD=function(e){return PATH.BU+"head_"+e+FileConst.png},e.JL=function(e){return PATH.GB+e+FileConst.png},e.TT=function(e){return PATH.GB+"small_"+e+FileConst.png},e.NPB=function(e){return PATH.YR+"a_"+e+FileConst.png},e.ZX=function(e){var t=gLw.getIconIdByTid(e);return PATH.YR+t+FileConst.png},e.LU=function(e){var t=gLw.getIconIdByTid(e);return PATH.YR+"stunt_"+t+FileConst.png},e.ONB=function(e){return PATH.A_+e+FileConst.png},e.JV=function(e){return PATH.A_+"name_"+e+FileConst.png},e.JP=function(e){return PATH.A_+"name_"+e+FileConst.png},e.RF=function(e,t){return PATH.QJ+"gem_"+e+"_"+t+FileConst.png},e.FZ=function(e){return PATH.YH+e+FileConst.png},e.XK=function(e){return PATH.JXA+"p_vip"+e+FileConst.png},e.PD=function(e){return PATH.MN+e+FileConst.png},e.AZ=function(e){return PATH.YO+e+FileConst.png},e.VH=function(e){return PATH.YO+"carnival_"+e+FileConst.png},e.SL=function(e){return PATH.OA+e+FileConst.png},e.GL=function(e){return PATH.AA+"title_"+e+FileConst.png},e.HB=function(e){return PATH.AA+"btn_"+e+FileConst.png},e.OB=function(e){return PATH.JXA+"vip_title_"+e+FileConst.png},e.WC=function(e){return PATH.MN+"svip_title_"+e+FileConst.png},e.UJ=function(e){return PATH.OA+"reward_"+e+FileConst.png},e.KO=function(e){return PATH.BW+"enter_"+e+FileConst.png},e.AY=function(e){return PATH.BW+"skill_"+e+FileConst.png},e.PW=function(e){return PATH.TI+"martialart_inside_bg_"+e+FileConst.png},e.XE=function(e){return PATH.BW+"vipcard_"+e+FileConst.png},e.DC=function(e){return PATH.XJ+e+FileConst.png},e.CW=function(e){var t;return t=3>e?3:e>6?6:e,PATH.BE+"goodsCard"+StringConst.WK+"qua"+t+FileConst.png},e.VR=function(e){return PATH.BW+"unlock_"+e+FileConst.png},e.DUO=function(e){return PATH.TL+"n_"+e+FileConst.png},e.DJ=function(e){return PATH.EO+"chapter_"+e+FileConst.png},e.BBF=function(e){return PATH.BP+e+FileConst.png},e.KP=function(e){return PATH.BP+"h_"+e+FileConst.png},e.MR=function(e){return PATH.IG+"n_"+e+FileConst.png},e.WH=function(e){return PATH.ZG+"n_"+e+FileConst.png},e.FQ=function(e){return PATH.VV+"n_"+e+FileConst.png},e._O=function(e){return PATH.UN+"n_"+e+FileConst.png},e.PU=function(e){return PATH.OC+"n_"+e+FileConst.png},e.OP=function(e){return PATH.VU+"supreme_week_"+e+FileConst.png},e.J_A=function(e){return PATH.VU+"supreme_month_"+e+FileConst.png},e.VA=function(e){return PATH.JE+"p_"+e+FileConst.png},e.AT=function(e){return PATH.JE+"o_"+e+FileConst.png},e.AS=function(e){return PATH.JE+"fight_"+e+FileConst.png},e.SJ=function(e){return PATH.JE+"n_"+e+FileConst.png},e.GT=function(e){return PATH._B+e+FileConst.png},e.R_=function(e){return PATH.OC+e+FileConst.png},e.YL=function(e){return PATH.MO+e+FileConst.png},e.EIQ=function(e){return PATH.ER+e+FileConst.png},e.HL=function(e){return PATH.ER+e+FileConst.png},e.XX=function(e,t){var n=PATH.EY;switch(e){case 32:case 87:n=PATH.EY;break;case 89:case 90:case 91:n=PATH.QC}return n+t+FileConst.png},e.TA=function(e){return PATH.QC+"n_"+e+FileConst.png},e.RJC=function(e){return PATH.US+"g_"+e+FileConst.png},e.LF=function(e){var t=this;return t.iconDict||(t.iconDict={},t.iconDict.exp=RES.getRes("game_json.expe_png"),t.iconDict.gold=RES.getRes("game_json.coins_png"),t.iconDict.point=RES.getRes("game_json.gold_png"),t.iconDict.sp=RES.getRes("game_json.practice_png"),t.iconDict.practice=RES.getRes("game_json.practice_png"),t.iconDict.acValue=RES.getRes("game_json.ac_value_png"),t.iconDict.reel=RES.getRes("game_json.prestige_png"),t.iconDict.eis=RES.getRes("game_json.eis_png"),t.iconDict.eus=RES.getRes("game_json.eus_png"),t.iconDict.gem=RES.getRes("game_json.gem_png"),t.iconDict.equip=RES.getRes("game_json.equip_png"),t.iconDict.badge=RES.getRes("game_json.gang_badge_png"),t.iconDict.cast=RES.getRes("game_json.cast_gold_png")),t.iconDict[e]},e.PO=function(e){var t=this;return t.textureDic||(t.textureDic={},t.textureDic[StaticData.TID_GOLD_ID]="game_json.coins_png",t.textureDic[StaticData.TID_POINT_ID]="game_json.gold_png",t.textureDic[StaticData.TID_PRACTICE_ID]="game_json.practice_png",t.textureDic[StaticData.TID_GOODS_16]="game_json.core_cont_png",t.textureDic[StaticData.CROSS_ARENA_TOKEN]="game_json.cross_arena_token_png",t.textureDic[StaticData.TID_GOODS_21]="game_json.spirit_mar_big_png",t.textureDic[StaticData.TID_GOODS_24]="game_json.treasury_icon_png",t.textureDic[StaticData.TID_GOODS_28]="game_json.soldier_spectrum_png",t.textureDic[StaticData.TID_GOODS_30]="game_json.official_ling_png",t.textureDic[StaticData.TID_CLOCK_30]="game_json.supremacy_img_png",t.textureDic[StaticData.TID_GOODS_42]="game_json.core_wh_png",t.textureDic[StaticData.TID_GOODS_41]="game_json.beauty_yu_png",t.textureDic[StaticData.TID_GOODS_40]="game_json.core_beauty_png",t.textureDic[StaticData.TID_GOODS_43]="core_json.core_box_png",t.textureDic[StaticData.TID_GOODS_53]="game_json.family_s_icon3_png",t.textureDic[StaticData.TID_GOODS_54]="game_json.family_s_icon1_png",t.textureDic[StaticData.TID_GOODS_55]="core_json.core_box_png",t.textureDic[StaticData.TID_FAMILY]="game_json.family_icon_png",t.textureDic[StaticData.TID_BONDS_SOUL]="game_json.bonds_soul_png",t.textureDic[StaticData.TID_GOODS_12]="game_json.silver_ham_png",t.textureDic[StaticData.TID_GOODS_13]="game_json.gold_ham_png",t.textureDic[StaticData.TID_FACTION_ID]="game_json.gang_badge_png",t.textureDic[StaticData.TID_PRESTIGE_ID]="game_json.prestige_png",t.textureDic[StaticData.TID_GOODS_11]="game_json.cast_gold_png",t.textureDic[StaticData.TID_KNIGHT_SOUL]="game_json.knight_soul_png",t.textureDic[StaticData.TID_BEAST_ID]="game_json.beast_png",t.textureDic[StaticData.TID_GENERATION]="game_json.official_icon_png",t.textureDic[StaticData.TID_CLOCK_2]="game_json.core_yunjin_png",t.textureDic[StaticData.TID_TREASURE_ID_2]="game_json.siderite_png",t.textureDic[StaticData.TID_TREASURE_ID]="game_json.treasure_icon_png",t.textureDic[StaticData.TID_GOODS_33]="game_json.spirit_mar_small_2_png",t.textureDic[StaticData.TID_GOODS_44]="game_json.official_icon_1_png",t.textureDic[StaticData.TID_GOODS_51]="game_json.taiyi_a_png",t.textureDic[StaticData.TID_GOODS_61]="game_json.taiyi_g_png",t.textureDic[StaticData.TID_GOODS_62]="game_json.four_dragon_png",t.textureDic[StaticData.TID_GOODS_64]="game_json.four_whitetiger_png",t.textureDic[StaticData.TID_GOODS_63]="game_json.four_suzaku_png",t.textureDic[StaticData.TID_GOODS_65]="game_json.four_basaltic_png",t.textureDic[StaticData.TID_GOODS_70]="game_json.taiyi_b_png",t.textureDic[StaticData.TID_GOODS_71]="game_json.taiyi_c_png",t.textureDic[StaticData.TID_GOODS_72]="game_json.taiyi_d_png",t.textureDic[StaticData.TID_CLOCK_3]="game_json.core_jinjin_png",t.textureDic[StaticData.TID_GOODS_5]="game_json.eightdoors_png",t.textureDic[StaticData.TID_GOODS_8]="game_json.fashion_png",t.textureDic[StaticData.TID_RUNE_ID]="game_json.rune_chip_png",t.textureDic[StaticData.TID_GOODS_38]="game_json.rune_essence_png",t.textureDic[StaticData.KILL_BOSS_TOKEN]="game_json.kill_boss_token_png",t.textureDic[StaticData.TID_GOODS_2]="game_json.eis_png",t.textureDic[StaticData.TID_GOODS_74]="game_json.sky_png",t.textureDic[StaticData.TID_GOODS_52]="game_json.card_consume_png",t.textureDic[StaticData.TID_GOODS_34]="game_json.beauty_ll_png",t.textureDic[StaticData.TID_GOODS_36]="game_json.snatch_coin_png",t.textureDic[StaticData.TID_GOODS_57]="game_json.family_s_icon2_png",t.textureDic[StaticData.TID_GOODS_78]="game_json.magicblade_s_6_png",t.textureDic[StaticData.TID_GOODS_79]="game_json.magicblade_s_7_png",t.textureDic[StaticData.TID_GOODS_80]="game_json.magicblade_s_8_png",t.textureDic[StaticData.TID_GOODS_37]="game_json.wealthdish_snakeImg_png",t.textureDic[StaticData.TID_PURGATORY]="game_json.game_purgatory_icon_png",t.textureDic[StaticData.TID_GOODS_4]="game_json.game_340101601_png",t.textureDic[StaticData.TID_GOODS_81]="game_json.game_302704601_png",t.textureDic[StaticData.TID_GOODS_84]="game_json.sword_png",t.textureDic[StaticData.TID_GOODS_85]="game_json.sword_skill_png",t.textureDic[StaticData.TID_PLATFORM]="game_json.qqstar_png"),t.textureDic[e]},e.XD=function(e){switch(e){case 1:return"game_json.coins_png";case 2:return"game_json.gold_png";case 3:return"game_json.gang_badge_png";case 4:return"game_json.cast_gold_png";case 5:return"game_json.knight_soul_png";case 6:return"game_json.beast_png";case 7:return"game_json.official_icon_png";case 8:return"game_json.family_icon_png";case 9:return"game_json.game_purgatory_icon_png"}return null},e.MAR=function(e){switch(e){case 1:return"game_json.coins_gray_png";case 2:return"game_json.gold_gray_png";case 3:return"game_json.gang_badge_gray_png";case 4:return"game_json.cast_gold_png";case 5:return"game_json.knight_soul_png";case 6:return"game_json.beast_png";case 7:return"game_json.official_icon_png";case 8:return"game_json.family_icon_png";case 9:return"game_json.game_purgatory_icon_png"}return null},e.Z_C=function(e){switch(e){case SpecialEquipItem.WV:return StaticData.TID_GOODS_62;case SpecialEquipItem.TK:return StaticData.TID_GOODS_64;case SpecialEquipItem.BO:return StaticData.TID_GOODS_63;case SpecialEquipItem.EN:return StaticData.TID_GOODS_65}return null},e.B_=function(e){switch(e){case 10043:return RES.getRes("game_json.treasury_superequip_png");case 10044:return RES.getRes("game_json.treasury_fashion_png")}return null},e.YA=function(e){var t;return t=e>0&&7>e?RES.getRes("core_json.official_1_png"):e>6&&11>e?RES.getRes("core_json.official_2_png"):e>10&&15>e?RES.getRes("core_json.official_3_png"):e>14&&17>e?RES.getRes("core_json.official_4_png"):e>16&&19>e?RES.getRes("core_json.official_5_png"):null},e.BGW=function(e){return"card_json.card_qua_"+e+"_png"},e.GD=function(e){return"card_json.card_qua_title_bg_"+e+"_png"},e.NU=function(e){return"game_json.stunt_cost_"+(e+1)+"_png"},e.AQ=function(){return"game_json.big_star_off_png"},e.ZH=function(){return"game_json.small_star_off_png"},e.XV=function(e){return"game_json.small_star_"+e+"_png"},e.getBigStarPathByType=function(e){return"game_json.big_star_"+e+"_png"},e.NZ=function(){for(var e=[],t=1;5>=t;t++)e.push(this.getBigStarPathByType(t));return e},e._Y=function(e){return"game_json.card_"+e+"_png"},e.OH=function(e){var t=e?"core_json.superequip_back4_png":"core_json.superequip_back5_png";return t},e.EZ=function(e){return"framehd_json.framehd_quality_"+e+"_png"},e.LE=function(e){return PATH.RJ+e+FileConst.png},e.TE=function(e){return"core_json.core_rank_"+e+"_png"},e.DUE=function(e,t){return"rank_json.rank_"+e+"_"+t+"_png"},e.MN=function(e){var t=e?"ok":"unok";return"core_json.core_"+t+"_png"},e.DO=function(e,t){return"martialart_4_json.martialart_top_"+e+"_"+t+"_png"},e.JJY=function(e){return"vipcard_json.vipcard_"+e+"_png"},e.OMJ=function(e){return"vipcard_json.vipcard_"+e+"_grey_png"},e.TZ=function(e){return"bosshome_json.bosshome_floor_"+e+QycO.WO},e}();__reflect(kLM.prototype,"kLM");var IndulgeManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indulgeVO",{get:function(){return this._indulgeVO},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._indulgeVO=GObj.$c(IndulgeVo)},e.prototype.checkIncome=function(e,t){var n=this;return n._indulgeVO.isInAAS&&n._indulgeVO.totalTime>=10800?(e&&t&&Alert.WK(fvg.GVf("indulge19"),null,null,e,t),!0):(e&&t&&e.call(t),!1)},e.prototype.checkCertiCode=function(e){var t=this;return e.length<15||18!=e.length&&e.length>15?!1:(15==e.length&&(e=t.id15UpgradeToID17(e,"19"),e+=t.getChecksum17(e.substring(0,17))),t.getChecksum17(e.substring(0,17))==e.substring(17,18).toLocaleLowerCase()?!0:!1)},e.prototype.id15UpgradeToID17=function(e,t){return 15==e.length?e.substring(0,6)+t+e.substr(6,15):null},e.prototype.getChecksum17=function(e){if(17==e.length){for(var t=e.split("").reverse(),n=0,i=0;17>i;i++)n+=parseInt(t[i])*this.getW(i+2);var r=(12-n%11)%11;return String(10==r?"x":r)}return""},e.prototype.getW=function(e){return Math.pow(2,e-1)%11},e.prototype.registerRealNameAuth=function(e){var t={};t.open_id=App.BG.openId,t.game_key=StaticData.GAME_KEY,t.autoRedirect=!0,doExtraAction("realNameAuth",t,e)},e.prototype.authenCanPay=function(e){if(!rRcz.SS(44,!1))return!0;var t=App.JA.indulgeVO.age,n=App.KF.monthcharge;if(8>t)return!1;if(16>t){if(e>50||n>200)return!1}else if(18>t&&(e>100||n>400))return!1;return!0},e.prototype.writeCanPay=function(){return rRcz.SS(44,!1)?App.JA.indulgeVO.isWrite:!0},e._instance=null,e}();__reflect(IndulgeManager.prototype,"IndulgeManager");var KnightManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.knightInfos={},e.collKnightInfo={},e.totalCap=0,e.collKnightCap=0,e.bondsCap=0,e.bondsInfos={},e.isBondsCard=!1,e.collHallInfo={}
},e.prototype.getKnightByQuality=function(e){var t=this;if(!t.knightQua){t.knightQua={};var n=XCA.AQS.oVs(27),i=void 0,r=void 0;for(var a in n)i=n[a][1],r=aKF.MM,t.knightQua[r]||(t.knightQua[r]=[]),t.knightQua[r].push(i),r=gLw.GM(i.tid),t.knightQua[r]||(t.knightQua[r]=[]),t.knightQua[r].push(i)}return t.knightQua[e]||[]},e.prototype.getGradeTempByType=function(e){var t,n=this.knightInfos[e]||0;if(0>=n)return t=XCA.AQS.UFA(27,e,1);for(;n>0&&(t=XCA.AQS.UFA(27,e,n),n--,!t););return t},e.prototype.getTempByCollType=function(e){var t=this,n=t.collKnightInfo[e]||0;return t.getTempByCollTypeAndGrade(e,n)},e.prototype.getTempByCollTypeAndGrade=function(e,t){var n,i=t||0;if(0>=i)return n=XCA.AQS.UFA(48,e,1);for(;i>0&&(n=XCA.AQS.UFA(48,e,i),i--,!n););return n},e.prototype.getUpgradeCount=function(e,t){if(!usable(e))return 0;for(var n,i=e.split("|"),r=0;r<i.length;r++)if(n=i[r].split(","),parseInt(n[0])==t)return parseInt(n[1]);return 0},e.prototype.getUpgradeCount1=function(e,t){if(!usable(e))return 0;for(var n,i=e.split("|"),r=0;r<i.length;r++)if(n=i[r].split(","),n.length>=2)return parseInt(n[1]);return 0},e.prototype.compareFunBySort=function(t,n){return e.YT=App.JUY.knightInfos[gLw.IQ(t.tid)]||0,e.DI=App.JUY.knightInfos[gLw.IQ(n.tid)]||0,e.YT&&e.DI?t.sort>n.sort?-1:1:e.YT&&!e.DI?-1:!e.YT&&e.DI?1:t.sort<n.sort?-1:1},e.prototype.compareCollFunBySort=function(t,n){return e.YT=App.JUY.collKnightInfo[gLw.IQ(t.tid)]||0,e.DI=App.JUY.collKnightInfo[gLw.IQ(n.tid)]||0,e.YT&&e.DI?t.sort>n.sort?-1:1:e.YT&&!e.DI?-1:!e.YT&&e.DI?1:t.sort<n.sort?-1:1},e.prototype.getBondsByQuality=function(e){var t=this;if(!t.bondsQua){t.bondsQua={};var n=XCA.AQS.oVs(28),i=void 0,r=void 0;for(var a in n)i=n[a][1],r=aKF.MM,t.bondsQua[r]||(t.bondsQua[r]=[]),t.bondsQua[r].push(i),r=gLw.GM(i.tid),t.bondsQua[r]||(t.bondsQua[r]=[]),t.bondsQua[r].push(i)}return t.bondsQua[e]||[]},e.prototype.getGradeTempByType1=function(e,t){t||(t=this.bondsInfos[e]||0);for(var n=null;t>0&&(n=XCA.AQS.UFA(28,e,t),t--,!n););return n},e.prototype.compareFunBySort1=function(t,n){return e.YT=App.JUY.bondsInfos[gLw.IQ(t.tid)]||0,e.DI=App.JUY.bondsInfos[gLw.IQ(n.tid)]||0,e.YT&&e.DI?t.sort>n.sort?-1:1:e.YT&&!e.DI?-1:!e.YT&&e.DI?1:t.sort<n.sort?-1:1},e}();__reflect(KnightManager.prototype,"KnightManager");var LoginManager=function(){function e(){this.wo=!1;var t=this;singleton(e._instance),e._instance=this,t.isNew=!1}return Object.defineProperty(e,"instance",{get:function(){return this._instance||new e},enumerable:!0,configurable:!0}),e.prototype.getMsgPrompt=function(e){switch(e){case LoginErrorType.OL:return"!";case LoginErrorType.OA:return"!";case LoginErrorType.T_:return"!";case LoginErrorType.KX:return"!";case LoginErrorType.NY:case LoginErrorType.CB:return"!";case LoginErrorType.AH:return"!";case LoginErrorType.TO:return"!";case LoginErrorType.YQ:return"!";case LoginErrorType._N:return""+int(GMath.random(5,10))+"...";case LoginErrorType.ZW:return"";case LoginErrorType.NG:return"!";case LoginErrorType.SW:case LoginErrorType.IM:return"!";case LoginErrorType.CC:return"!";case LoginErrorType.DK:return"!";case LoginErrorType.JU:return"";case LoginErrorType.PH:return"!";case LoginErrorType.HB:return"!";case LoginErrorType.FP:return"!";case LoginErrorType.QP:return"714!";default:return"!"}},e.prototype.initMgr=function(e,t){var n=this,i=egret.getDefinitionByName("LoadingConst");i&&(QycO.JI=i.DEBUG,QycO.IN=i.VER,QycO.JB=i.VER_,QycO.TV=i.VER_TEMP,QycO.TJ=i.ISHTTPS,QycO.YV=i.IS_MOBILE,QycO._U=i.DIRECT_SELECT_ROLE,QycO.NH=i.res_url,PATH.ZO=i.eui_skins),GObj.start(),App.GH(e),PlayerManager.instance.openId=t.openId,PlayerManager.instance.platformInfo=t.platformInfo,PlayerManager.instance.jkU.uid=t.uid,PlayerManager.instance.jkU.newbie=t.newbie,n.serverData=t.serverData,n.isNew=t.isNew,n.shareKey=t.shareKey,n.shareURL=t.shareURL,n.giftId=t.giftId,n.loginData=t.loginData,n.loginKey=t.loginKey,n.SERVER_MAX_ID=t.SERVER_MAX_ID,Nvm.instance.init(e),hCs.instance.init(e),alvJ.instance.init(e),App.FQ.ip=t.ip,App.FQ.port=t.port,App.VX.extraData=t.extraData,App.VX.downloadMicroData=t.downloadMicroData,SocketManager.instance.openGame(n.serverData.ip,n.serverData.p,n.serverData.gateurl),SocketManager.instance.stop()},e.prototype.enterGame=function(e){var t=this;console.log(", SmallLoading"),XCA.allTemplateData=e,vkG.$a(UtJ.XA,t.ed,t),vkG.$a(UtJ.YT,t.lm,t),$gameReady()},e.prototype.lm=function(){1==App.UY.sceneType&&this.ou()},e.prototype.ed=function(){this.ou()},e.prototype.ou=function(){var t=this;if(App.HD.sendOver&&1==App.UY.sceneType&&!t.wo){t.wo=!0,SpecialTipsBar.instance.setup(),vkG.$r(UtJ.XA,t.ed,t),vkG.$r(UtJ.YT,t.lm,t),VolverMsgProxy.UL(),App.KF.chapter>=StaticData.CROSS_ARENA_CH&&ziI.MF("cross1v1"),rRcz.SS(70,!1)&&App.KF.chapter>=StaticData.CROSS_HARRY_CH&&ziI.MF(KqZ.RK),ziI.MF(KqZ.CT);var n=e.instance.giftId;if(usable(n)&&!isNaN(n))if(n=parseInt(n),App.VX.checkWanbaDayGift(n))NXr.RF(n);else if(App.VX.checkWanbaGalaGift(n))ziI.WU(10,n%100);else if(App.VX.checkWanbaNewPlayerGift(n))ziI.WU(11,n%100);else if(App.VX.checkWanbaGift_1(n))ziI.WU(12);else if(App.VX.checkWanbaGift_2(n))ziI.WU(13);else if(App.VX.checkWanbaVipAndScoreGift(n)){var i=App.VX.getBagIdByGiftId(n);i>0&&FunnyMsgProxy.LR(i)}if(App.KF.chapter>=StaticData.SHOW_BULLETIN_CH&&(App.HD.bulletinInfo.utime=GApp.timer,ziI.MS()),App.KF.chapter>=StaticData.TURNUP_BOSS_CH&&ziI.MF("reborn_boss"),App.VX.autoGiftCode)if(QycO.JI)t.gc(App.VX.autoGiftCode);else{var r={};r.game_key=StaticData.GAME_KEY,r.open_id=App.BG.openId,doExtraAction("autoGiftCode",r,t.gc)}ziI.MF("wst_grid"),ziI.MF("rob_grid"),App.NG.initGamePayState()}},e.prototype.gc=function(e){if(e&&0==e.code){var t=e.data;if(t&&t.length>0)for(var n=void 0,i=0;i<t.length;i++)n=t[i].giftcode+"",usable(n)&&ziI.YP(n)}},Object.defineProperty(e.prototype,"serverData",{get:function(){return this.el},set:function(e){this.el=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loginData",{get:function(){return this.vm},set:function(e){this.vm=e},enumerable:!0,configurable:!0}),e}();__reflect(LoginManager.prototype,"LoginManager");var LuckEggManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.crossRecord=[],e.personalRecord=[],e.levels=[],e.crossTime=0,e.endTime=0},e.prototype.getReward=function(e){var t=this;if(!t.allReward){t.allReward=[];for(var n=void 0,i=void 0,r=1;5>=r;r++)n=XCA.RE("133_"+r),i=Nkz.PI(n),t.allReward[r]=i}return t.allReward[e]},e.prototype.getLvTarget=function(e){var t=this;if(!t._lvInfo){t._lvInfo={};for(var n=XCA.CG(IDU.VN),i=usable(n)?n.split(QycO.PK):[],r=void 0,a=0;a<i.length;a++)r=i[a].split(QycO.XP),t._lvInfo[r[0]]=r[1]}return parseInt(t._lvInfo[e])},Object.defineProperty(e.prototype,"lvInfo",{get:function(){var e=this;return e._lvInfo||e.getLvTarget(null),e._lvInfo},enumerable:!0,configurable:!0}),e}();__reflect(LuckEggManager.prototype,"LuckEggManager");var LuckyDrawManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.crossRecord=[],e.personalRecord=[],e.levels=[],e.crossTime=0,e.endTime=0},e}();__reflect(LuckyDrawManager.prototype,"LuckyDrawManager");var MagicBladeManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.advancedvo=GObj.$c(AdvancedVo),e.risingstarvo=GObj.$c(RisingStarVo),e.isTips=!1,e.ispurchase=!1,e.fateInfo={},e.awakenInfo={},e.magicBladeSkillInfo={},e.magicFairyStarInfo={},e.magicFairyUpInfo={},e.magicFairyFetterInfo={}},Object.defineProperty(e.prototype,"swallowDanNumber",{get:function(){var e,t=App.FX.risingstarvo.starArr,n=0;for(var i in t)isNaN(parseInt(i))||(e=XCA.AQS.getGradeTempByMasTypeAndSubType(80,parseInt(i))[1],e&&(n+=e.p1*t[i]));var r=App.FX.advancedvo.g||0,a=Math.ceil(r/10)==r/10?r/10+1:Math.ceil(r/10),o=XCA.AQS.oVs(79);o[1][r];return n=App.FX.advancedvo.g>0?n+10*a:n},enumerable:!0,configurable:!0}),e.prototype.currentExp=function(e){return 0>=e?10:10*(e+1)-App.FX.advancedvo.gp_1},e.prototype.getQuaData=function(e){var t,n,i,r,a,o=[],s=XCA.AQS.oVs(80);for(var p in s)t=s[p][1],n=gLw.GM(t.tid),i=gLw.IQ(t.tid),r=App.FX.risingstarvo.starArr[i]||0,a=App.FK.hsx(t.cost),t.hide>=0&&0>=r&&0>=a||(n==e?o.push(t):0==e&&o.push(t));return o},Object.defineProperty(e.prototype,"isAwaken",{get:function(){var e=(App.FX.awakenInfo[99]||0)<=0;return e},enumerable:!0,configurable:!0}),e.prototype.getQua=function(e){var t;switch(e){case 0:t=0;break;case 1:t=aKF.KQ;break;case 2:t=aKF.JN;break;case 3:t=aKF.PU;break;case 4:t=aKF.KY}return t},e.prototype.getSkinGrade=function(e,t){var n=0;switch(e){case 80:n=App.FX.risingstarvo.starArr[t]||0;break;case 24:n=App.BG.fashionInfo[t]||0;break;case 54:n=App.ZT.getCloakUpstar(t)||0;break;default:n=XCA.allTemplateData.appelltemp[e].grade||0}return n},e.prototype.getSuitAttrAddition=function(e,t){var n=XCA.AQS.oVs(82),i=n[e][1];if(!i||!i.p3)return"";var r=App.FX.fateInfo[e]||0;if(t)return i.p3*r;if(!r)return"";var a=fvg.GVf("magicblade31",i.p3*r);return a},e.prototype.getMagicFairyTempByQua=function(e){var t=[],n=XCA.AQS.oVs(84);for(var i in n){var r=n[i][1];e?e==r.qua&&t.push(r):t.push(r)}return t},e.prototype.getMagicFairyStarByType=function(e){return this.magicFairyStarInfo[e]||0},e.prototype.getMagicFairyStarCapByType=function(e){return this.magicFairyStarInfo["scap_"+e]||0},e.prototype.getMagicFairyGradeByType=function(e){return this.magicFairyUpInfo[e]||0},e.prototype.getMagicFairyUpCapByType=function(e){return this.magicFairyUpInfo["scap_"+e]||0},e.prototype.getMagicFairyUpExpByType=function(e){return this.magicFairyUpInfo["gp_"+e]||0},e.prototype.getMagicFairyFetter=function(e){return this.magicFairyFetterInfo[e]||0},e.prototype.getMagicGrade=function(){var e=this.advancedvo.g||0;return 1+int((e-1)/10)},e._instance=null,e}();__reflect(MagicBladeManager.prototype,"MagicBladeManager");var MartialArtManager=function(){function e(){this.shopTime=0,this.dayfeat=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._infovo=GObj.$c(MartialArtInfoVO),e._memberList=GObj.$c(MartialArtListVO),e._shopDict={},e.godSkillInfo={},e.godSkillEnch={},e._enchLimitDic={},e.godSkillInterInfo={},e.godSkillInterEnch={},e.godSkillJinguInfo={},e.godSkillJinguEnch={},e.provokeScoreList=[];var t=XCA.CG(IDU.EG);if(t){var n=Nkz.LI(t);if(n)for(var i in n)e.provokeScoreList.push(parseInt(i))}},Object.defineProperty(e.prototype,"shop",{get:function(){return this._shopDict},set:function(e){this._shopDict=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return this._infovo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"memberList",{get:function(){return this._memberList},enumerable:!0,configurable:!0}),e.prototype.getColorByOfficial=function(e){switch(e){case MartialArtOfficial.off1:return 16718082;case MartialArtOfficial.off2:return 16224307;case MartialArtOfficial.off3:return 16533677}return 15329769},e.prototype.getOuterTempByGrade=function(e){if(e>=0){e=e||1;for(var t=XCA.AQS.getGradeTempByMasTypeAndSubType(29,1),n=void 0;e>0;){if(n=t[e])return n;e--}}return null},e.prototype.getEnchLimitGrade=function(e,t,n){var i=this;if(!i._enchLimitDic[e]){for(var r={},a=(n||"").split(QycO.PK),o=void 0,s=0;s<a.length;s++)o=a[s].split(QycO.XP),r[o[0]]=o[1];i._enchLimitDic[e]=r}var p=i._enchLimitDic[e],l=0;for(var c in p)t>=parseInt(c)&&(l=parseInt(p[t]));return l},e.prototype.getInterTempByGrade=function(e){if(e>=0){e=e||1;var t=XCA.AQS.getGradeTempByMasTypeAndSubType(42,2);if(!t)return null;for(var n=void 0;e>0;){if(n=t[e])return n;e--}}return null},e.prototype.getJinguTempByGrade=function(e){if(e>=0){e=e||1;var t=XCA.AQS.getGradeTempByMasTypeAndSubType(51,3);if(!t)return null;for(var n=void 0;e>0;){if(n=t[e])return n;e--}}return null},e._instance=null,e}();__reflect(MartialArtManager.prototype,"MartialArtManager");var MineManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.mineMainInfo={fid:0,p:null,node:null,occupy:0,hcount:0,atkcount:0,buycount:0},e.mineBeautyMainInfo={fid:0,p:null,node:null,occupy:0,hcount:0,atkcount:0,buycount:0,myoccupy:0},e.mineAreaDic={},e.mineBeautyAreaDic={},e.mineNodeDic={},e.mineBeautyNodeDic={},e.myMineInfo={my:[],help:[],award:{}},e.myBeautyMineInfo={my:[],help:[],award:{},dsl:[]},e.preSendTime=0,e._my_mine_count=0},e.prototype.getBuyCountPoint=function(){var e=this,t=e.max_buy_count-e.mineMainInfo.buycount;return Math.min(e.base_buy_point*(t+1),2e3)},Object.defineProperty(e.prototype,"income_rate",{get:function(){var e=this;return e.analyzeConfig(),e._income_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"master_rate",{get:function(){var e=this;return e.analyzeConfig(),e._master_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_fight_count",{get:function(){var e=this;return e.analyzeConfig(),e._max_fight_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_buy_count",{get:function(){var e=this;return e.analyzeConfig(),e._max_buy_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"base_buy_point",{get:function(){var e=this;return e.analyzeConfig(),e._base_buy_point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_hold_count",{get:function(){var e=this;return e.analyzeConfig(),e._max_hold_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"help_vip_grade",{get:function(){var e=this;return e.analyzeConfig(),e._help_vip_grade},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"goaway_point",{get:function(){var e=this;return e.analyzeConfig(),e._goaway_point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"my_mine_count",{get:function(){return this._my_mine_count},set:function(e){var t=this;e!=t._my_mine_count&&(t._my_mine_count=e,vkG.$d(UtJ.VOB))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){var e=this;return e.analyzeConfig(),e._startTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){var e=this;return e.analyzeConfig(),e._endTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mine_processing",{get:function(){var e=this,t=App.NN.date,n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();return n>=e.startTime&&n<e.endTime},enumerable:!0,configurable:!0}),e.prototype.analyzeConfig=function(){var e=this;if(!e._income_rate){var t=XCA.CG(IDU.CE)||"5, 100, 700",n=t.split(QycO.XP);n.length>0&&(e._income_rate=parseInt(n[1]),e._master_rate=parseInt(n[2]))}if(!e._max_fight_count){var i=XCA.CG(IDU.FA)||"10, 10, 100, 3, 5, 100",r=i.split(QycO.XP);r.length>0&&(e._max_fight_count=parseInt(r[0]),e._max_buy_count=parseInt(r[1]),e._base_buy_point=parseInt(r[2]),e._max_hold_count=parseInt(r[3]),e._help_vip_grade=parseInt(r[4]),e._goaway_point=parseInt(r[5]))}if(!e._startTime){var a=XCA.CG(IDU.YT)||"39600,43200",o=a.split(QycO.XP);o.length>0&&(e._startTime=parseInt(o[0]),e._endTime=e._startTime+parseInt(o[1]))}},Object.defineProperty(e.prototype,"building_nodes",{get:function(){var e=this;if(!e._building_nodes){var t=XCA.CG(IDU.OS)||[];e._building_nodes="string"==typeof t?JSON.parse(t):t}return e._building_nodes},enumerable:!0,configurable:!0}),e.prototype.hasDefPlayer=function(e){return e&&e.def&&e.def.uid>0},e.prototype.hasHelpPlayer=function(e){return e&&e.help&&e.help.uid>0},e.prototype.getAIdByNId=function(e){return e>=1e3?100:int(e/100)},e.prototype.hasIncomeRate=function(e){var t=this;if(!e)return!1;var n=t.getAIdByNId(e.id),i=t.mineAreaDic[n];return i&&i.fid>0&&e.def&&e.def.fid==i.fid?!0:!1},e.prototype.getRewardByInfo=function(e){var t=this;if(!e||!e.award)return{};var n;if(t.hasIncomeRate(e)){var i=t.income_rate,r=e.award;n={};for(var a in r)n[a]=int(r[a]*(1e3+i)/1e3)}else n=e.award;return n},e.prototype.getBeautyRewardByInfo=function(e){var t=this;if(!e||!e.award)return{};var n;if(t.hasBeautyIncomeRate(e)){var i=t.beauty_income_rate,r=e.award;n={};for(var a in r)n[a]=int(r[a]*(1e3+i)/1e3)}else n=e.award;return n},Object.defineProperty(e.prototype,"selectedBeautyNum",{get:function(){return this._selectedBeautyNum},set:function(e){this._selectedBeautyNum=e},enumerable:!0,configurable:!0}),e.prototype.hasBeautyIncomeRate=function(e){var t=this;if(!e)return!1;var n=t.getAIdByNId(e.id),i=t.mineBeautyAreaDic[n];return i&&i.fid>0&&e.def&&e.def.fid==i.fid?!0:!1},e.prototype.getBeautyBuyCountPoint=function(){var e=this,t=e.max_beauty_buy_count-e.mineBeautyMainInfo.buycount;return Math.min(e.base_beauty_buy_point*(t+1),2e3)},Object.defineProperty(e.prototype,"beauty_income_rate",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._beauty_income_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"beauty_master_rate",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._beauty_master_rate},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_beauty_fight_count",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._max_beauty_fight_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_beauty_buy_count",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._max_beauty_buy_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"base_beauty_buy_point",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._base_beauty_buy_point},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_beauty_hold_count",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._max_beauty_hold_count},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"my_beauty_mine_count",{get:function(){return this._my_beauty_mine_count},set:function(e){var t=this;e!=t._my_beauty_mine_count&&(t._my_beauty_mine_count=e,vkG.$d(UtJ.LY))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startBeautyTime",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._startBeautyTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"endBeautyTime",{get:function(){var e=this;return e.analyzeBeautyConfig(),e._endBeautyTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mine_beauty_processing",{get:function(){var e=this,t=App.NN.date,n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();return n>=e.startBeautyTime&&n<e.endBeautyTime},enumerable:!0,configurable:!0}),e.prototype.analyzeBeautyConfig=function(){var e=this;if(!e._beauty_income_rate){var t=XCA.CG(IDU.DX)||"6,300,510",n=t.split(QycO.XP);n.length>0&&(e._beauty_income_rate=parseInt(n[1]),e._master_beauty_rate=parseInt(n[2]))}if(!e._max_beauty_fight_count){var i=XCA.CG(IDU.PP)||"10,10,500,10",r=i.split(QycO.XP);r.length>0&&(e._max_beauty_fight_count=parseInt(r[0]),e._max_beauty_buy_count=parseInt(r[1]),e._base_beauty_buy_point=parseInt(r[2]),e._max_beauty_hold_count=parseInt(r[3]))}if(!e._startBeautyTime){var a=XCA.CG(IDU.EA)||"0,82800",o=a.split(QycO.XP);o.length>0&&(e._startBeautyTime=parseInt(o[0]),e._endBeautyTime=e._startBeautyTime+parseInt(o[1]))}},Object.defineProperty(e.prototype,"building_beauty_nodes",{get:function(){var e=this;if(!e._building_beauty_nodes){var t=XCA.CG(IDU.OS)||[];e._building_beauty_nodes="string"==typeof t?JSON.parse(t):t}return e._building_beauty_nodes},enumerable:!0,configurable:!0}),e.prototype.hasBeautyDefPlayer=function(e){return e&&e.def&&e.def.uid>0},e.prototype.hasBeautyHelpPlayer=function(e){return e&&e.help&&e.help.uid>0},e.prototype.getBeautyAIdByNId=function(e){return e>=1e3?100:int(e/100)},e.prototype.getBeautyAndHwCap=function(e){var t=[],n=0;App.OX.getHWByBeautySubType(gLw.IQ(e),t);for(var i=0;i<MaxLevel.HW_MAX_COUNT;i++)!t[i]&&(t[i]=-1);for(var i=(XCA.AQS.oVs(63),0);i<t.length;i++){var r=App.OX.hwInfo[t[i]]||QycO.BE;n+=r.cap||0}return n},e._instance=null,e}();__reflect(MineManager.prototype,"MineManager");var OfficialManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.offiInfo={},e.battleEquipInfo={},e.battleCapDict={},e.battleMaster=0,e.battleMasCap=0},e.prototype.getPreviewAwards=function(){var e=[],t=XCA.RE("69_"+(App._B.offiInfo[1]||1));if(t){var n=[];n=t.split("|");for(var i=0;i<n.length;i++){var r=[];if(r=n[i].split(","),2==r.length){var a=GObj.$c(nlwj);a.tid=parseInt(r[0]),a.count=parseInt(r[1]),e.push(a)}}return e}return null},e.prototype.getGenerationByGrade=function(e){var t=fvg.GVf("official16"),n=t.split(",");return n[e]},Object.defineProperty(e.prototype,"ograde",{get:function(){return this.offiInfo[1]||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minDiff",{get:function(){var e=this;return e._minDiff||e.parseConfig(),e._minDiff},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"damageRate",{get:function(){var e=this;return e._damageRate||e.parseConfig(),e._damageRate},enumerable:!0,configurable:!0}),e.prototype.parseConfig=function(){var e=this,t=XCA.CG(IDU.ED)||"5, 200",n=t.split(QycO.XP);e._minDiff=parseInt(n[0])||0,e._damageRate=parseInt(n[1])||0},e.prototype.getCurrCanWearEquipSontype=function(){for(var e,t,n=[],i=0;4>i;i++)if(!App._B.battleEquipInfo[""+(i+1)]){if(e=XCA.AQS.UFA(65,i+1,1),!e)continue;t=parseInt(e.cost),App.FK.hsx(t)>=1&&n.push(i+1)}return n},e.prototype.getCurrEquipCanUpgrade=function(e,t){var n=XCA.AQS.UFA(65,e,2);if(!n)return!1;var i=parseInt(n.cost),r=App.FK.hsx(i);n.p5.split(",");return r>0?!0:!1},e.prototype.getCurrGp=function(e,t){if(0>=e)return 0;if(1==e){var n=App._B.battleEquipInfo["gp_"+t];return n}var i=XCA.AQS.UFA(65,t,1),n=(i.p5.split(","),App.JP.getBattleEquipUpgradeConsume(e));return 10*n},e.prototype.getBattleEquipGradeNum=function(e){for(var t=0,n=1;4>=n;n++)App._B.battleEquipInfo[""+n]>=e&&t++;return t},e._instance=null,e}();__reflect(OfficialManager.prototype,"OfficialManager");var PlayerManager=function(){function e(){this.playerHandler=null,this.fashionUse=0,this.superEquipUse=0,this.beautyUse=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._jkU=GObj.$c(PlayerVO),e._playerAttrsInfo=GObj.$c(xxf),e._platformInfo=GObj.$c(PlatformInfo),e._turnupInfo=GObj.$c(TurnupInfo),e._speciaEquipInfo={},e._eightDoorsInfo={},e._superEquipInfo={},e._spectrumInfo={},e.eightDoorsCap=0,e._fashionInfo={},e._yuanShenInfo={},e.rechargeCount={},e.stageBoxState={},e._superequipCastingInfo={},e._officialInfo={},e._shopValue={}},e.prototype.isPointEnough=function(e,t){return void 0===t&&(t=!0),this._jkU.point<e?(t&&_JDW.TR(StaticData.TID_POINT_ID),!1):!0},Object.defineProperty(e.prototype,"platformInfo",{get:function(){return this._platformInfo},set:function(e){this._platformInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"jkU",{get:function(){return this._jkU},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playerAttrsInfo",{get:function(){return this._playerAttrsInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"turnupInfo",{get:function(){return this._turnupInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"officialInfo",{get:function(){return this._officialInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"speciaEquipInfo",{get:function(){return this._speciaEquipInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eightDoorsInfo",{get:function(){return this._eightDoorsInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"superEquipInfo",{get:function(){return this._superEquipInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OffLineVo",{get:function(){var e=this;return e.offlineVo||(e.offlineVo=GObj.$c(OfflineVo)),e.offlineVo},set:function(e){var t=this;t.offlineVo||(t.offlineVo=GObj.$c(OfflineVo)),t.offlineVo=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spectrumInfo",{get:function(){return this._spectrumInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fashionInfo",{get:function(){return this._fashionInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yuanShenInfo",{get:function(){return this._yuanShenInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"superequipCastingInfo",{get:function(){return this._superequipCastingInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shopValueInfo",{get:function(){return this._shopValue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"equipBagSize",{get:function(){return 100+App.XT.getPrivilegeByVipGradeAndType(App.XT.vipInfo.vipGrade,2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emptyEquipBagSize",{get:function(){var e=App.FK.getGoodsListByTypes([Iwrv.CL],1),t=0;return e&&(t=e.length),this.equipBagSize-t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"emptyRuneBagSize",{get:function(){var e=App.XV.allRunesList,t=0;return e&&(t=e.length),StaticData.RUNE_BAG_SIZE-t},enumerable:!0,configurable:!0}),e.prototype.isBagFull=function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=0),this.emptyEquipBagSize>t?!1:(e&&Alert.WK(fvg.GVf("115"),null,null,App.FK.UrC,App.FK),!0)},Object.defineProperty(e.prototype,"propBagSize",{get:function(){return 150},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemBagSize",{get:function(){return 200},enumerable:!0,configurable:!0}),e.prototype.checkBagFullByType=function(e){var t,n,i=this;switch(e){case Iwrv.CL:t=App.FK.getGoodsListByTypes([Iwrv.CL],1),n=i.equipBagSize;break;case Iwrv.WO:case Iwrv.GK:t=App.FK.getGoodsListByTypes([Iwrv.WO,Iwrv.GK],1),n=i.itemBagSize;break;case Iwrv.PF:t=App.FK.getGoodsListByTypes([Iwrv.PF],1),n=i.propBagSize;break;case Iwrv.PL:t=App.FK.getGoodsListByTypes([Iwrv.PL],1),n=i.propBagSize;break;case Iwrv.MF:t=App.XV.allRunesList,n=StaticData.RUNE_BAG_SIZE}return t&&t.length>=n},Object.defineProperty(e.prototype,"openId",{get:function(){return this._openId},set:function(e){this._openId=e},enumerable:!0,configurable:!0}),e.prototype.noviceProgress=function(e){ProgressType.YV.indexOf(e)>=0&&NXr.FT(e)},e._instance=null,e}();__reflect(PlayerManager.prototype,"PlayerManager");var pba=function(){function e(){this.groupName="Privilege",this.share_cd=28800,this.qqMiniStar=0,this._count=0,this._flag=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.rewardState=0,e.preShareTime=0,e.lastRewarCount=0,e.wbShareData={wbvip1:0,wbvip2:0,wbvip3:0,wbsc:0},vkG.$a(UtJ.ND,e.__levelChangeHandler,e)},e.prototype.__levelChangeHandler=function(){this.reportedLevelup()},Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"downloadMicroData",{get:function(){return this._downloadMicroData},set:function(e){this._downloadMicroData=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpenDownLoadMicro",{get:function(){var e=this;return e._downloadMicroData&&e._downloadMicroData.data?e._downloadMicroData.data.isGuide||!1:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpenToDesktop",{get:function(){var e=this;return e._downloadMicroData&&e._downloadMicroData.data?"desktop"==e._downloadMicroData.data.downloadType:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientStatus",{get:function(){var e=this;return e._extraData&&e._extraData.client?e._extraData.client.status:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"txClientStatus",{get:function(){var e=this;return e._extraData&&e._extraData.wanbaQzGameApp?e._extraData.wanbaQzGameApp.status:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"txWanbaQQPet",{get:function(){var e=this;return e._extraData&&e._extraData.wanbaQQPet?e._extraData.wanbaQQPet.status:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wanbaActiveExtension",{get:function(){var e=this;return e._extraData&&e._extraData.wanbaActiveExtension?!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindPhoneStatus",{get:function(){var e=this;return e._extraData&&e._extraData.bindPhone?e._extraData.bindPhone.status:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ourRealNameStatus",{get:function(){return this.realNameAuth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"txClientInstalled",{get:function(){var e=this;return e._extraData&&e._extraData.wanbaQzGameApp?e._extraData.wanbaQzGameApp.isInstalled:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"realNameAuth",{get:function(){var e=this;
return e._extraData&&e._extraData.realNameAuth?e._extraData.realNameAuth.status:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shareStatus",{get:function(){var e=this;return e._extraData&&e._extraData.share?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inviteStatus",{get:function(){var e=this;return e._extraData&&e._extraData.invite?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bbsStatus",{get:function(){var e=this;return e._extraData&&e._extraData.bbs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"toDesktopStatus",{get:function(){var e=this;return e._extraData&&e._extraData.toDesktop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supervip",{get:function(){var e=this;return e._extraData?e._extraData.vipService:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qbTopicCircle",{get:function(){var e=this;return e._extraData&&e._extraData.qbTopicCircle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wanbaCoverStatus",{get:function(){var e=this;return e._extraData&&e._extraData.wanbaCover&&void 0!=e._extraData.wanbaCover.status?e._extraData.wanbaCover.status:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"soundStatus",{get:function(){var e=this;return e._extraData&&e._extraData.gameSound?!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activity1111Status",{get:function(){var e=this;return e._extraData&&e._extraData.qzoneAct1111?!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoGiftCode",{get:function(){var e=this;return e._extraData&&e._extraData.autoGiftCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qqLiveFuLi",{get:function(){var e=this;return e._extraData&&e._extraData.qqLiveFuLi?!0:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"qqEgameFuLi",{get:function(){var e=this;return e._extraData&&e._extraData.qqEgameFuLi?!0:!1},enumerable:!0,configurable:!0}),e.prototype.openBBS=function(){gameBBS(App.BG.openId,StaticData.GAME_KEY)},e.prototype.openFrameByType=function(e,t){var n=this;return n.currType=e,n.currPara=t,RES.isGroupLoaded(n.groupName)?void n.openFrame():(Loading.instance.show(),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,n.__resourceLoadComplete,n),void RES.loadGroup(n.groupName))},e.prototype.__resourceLoadComplete=function(e){var t=this;e.groupName==t.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.__resourceLoadComplete,t),t.openFrame(),Loading.instance.hide())},e.prototype.openFrame=function(){},e.prototype.reportedLogin=function(e){var t=this;7!=t._flag&&(t._flag=t._flag|e,7==t._flag&&App.NG.reporteLogin())},e.prototype.reportedLevelup=function(){7===this._flag&&App.NG.reportLevelUp()},e.prototype.getBagIdByGiftId=function(e){var t,n=this,i=App.MG.getCurrWbVipFunny();return i&&(t=n.getBagDataByGiftIdAndBagList(e,i.bagList)),t||(i=App.MG.getCurrWbScoreFunny(),i&&(t=n.getBagDataByGiftIdAndBagList(e,i.bagList))),t?t.id:0},e.prototype.getBagDataByGiftIdAndBagList=function(e,t){for(var n,i=t?t.length:0,r=0;i>r;r++)if(n=t[r],n&&n.conditionList[0]&&n.conditionList[0].p1==e)return n;return null},e.prototype.getErrorMsgByCode=function(e){var t="";switch(e){case 2e3:case 2001:case 2002:case 2003:case 2004:case 2005:case 2006:case 2007:case 2008:case 2009:t=fvg.GVf("wanbagift11_"+e);break;default:t=fvg.GVf("wanbagift12",e)}return t},Object.defineProperty(e.prototype,"wbShare",{get:function(){return rRcz.SS(64,!1)},enumerable:!0,configurable:!0}),e.prototype.checkWanbaDayGift=function(e){return e>=901&&907>=e},e.prototype.checkWanbaGalaGift=function(e){return e>=1001&&1064>=e},e.prototype.checkWanbaNewPlayerGift=function(e){return e>=2001&&2064>=e},e.prototype.checkWanbaVipAndScoreGift=function(e){return e>=3001&&3100>=e?!0:e>=4001&&4100>=e?!0:!1},e.prototype.checkWanbaGift_1=function(e){return 1999==e},e.prototype.checkWanbaGift_2=function(e){return 990==e},e.LA=1,e.EZ=2,e.JA=3,e.RH=4,e.ED=5,e.TL=10,e.BS=13,e.MH=6,e.UP=7,e.HC=8,e.YT=9,e.YO=11,e.UB=12,e.GX=14,e.DY=15,e.DM=16,e.VZ=17,e._D=20,e.QR=21,e.DZ=9996,e.UQ=9997,e.BW=9998,e.UJ=9999,e.GY="32_1",e.MR="32_2",e.NB="32_3",e.TJ="32_4",e.IO="32_5",e.XZ="32_10",e.IE="32_13",e.SF="32_6",e.BI="32_7",e.MV="32_8",e.ND="32_9",e.XK="32_10",e.MZS="32_12",e._instance=null,e}();__reflect(pba.prototype,"pba");var PurgatoryManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return e.prototype.init=function(){var e=this;e.teamType=0,e.status=0,e.noteamInfoList=[],e.playerList=[],e.canInviteList=[],e.beInvitedList=[],e.applyList=[],e.captain=0,e.isSendChat=0,e.layerInfo={},e.fightCountInfo={},e.limitTime=0,e.bigAwardIndex=0,e.cardPos=0,e.fcsLe=0,e.isScene=!1,e.invateTimeDict={}},Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseAddition",{get:function(){return App.OZ.getDataByName(IDU.VY)},enumerable:!0,configurable:!0}),e.prototype.getShopAllGoods=function(){var e;e=App.IQ.getShopGoodsListByShopType(14);var t={},n=0;if(e&&e.length>0){e.sort(this.itemsort);for(var i=0;i<e.length;i++)i%3==0&&(n+=1,t[n]=[]),t[n].push(e[i])}return t},e.prototype.itemsort=function(e,t){return(e.sort||0)>(t.sort||0)?1:e.tid>t.tid?1:-1},e.prototype.getNoteamInfoListByMapId=function(e){var t=this;t._onTeamDic={};for(var n=t.noteamInfoList.length,i=0;n>i;i++){var r=t.noteamInfoList[i];if(!t._onTeamDic[r.mapId]){var a=[];t._onTeamDic[r.mapId]=a}t._onTeamDic[r.mapId].push(r)}return t._onTeamDic[e]||[]},Object.defineProperty(e.prototype,"totalMap",{get:function(){return App.OZ.getDataByName(IDU.PQ)||0},enumerable:!0,configurable:!0}),e}();__reflect(PurgatoryManager.prototype,"PurgatoryManager");var PvpManager=function(){function e(){this.buyPoint=0,this.buyMax=10,this.countMax=5;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.pvpVo={}},e.prototype.buyCount=function(){var e=this;if(!e.buyPoint){var t=XCA.CG(IDU.AJ);if(usable(t)){var n=t.split(StringConst.SF);n&&n.length>=3&&(e.countMax=parseInt(n[0]),e.buyMax=parseInt(n[1]),e.buyPoint=parseInt(n[2]))}}if(e.pvpVo){if(e.pvpVo.count>=e.countMax)return void msgTip(fvg.GVf("horoskop20"));var i=e.pvpVo.buyCount||0;return 0>=i?void msgTip(fvg.GVf(304)):void Alert.WK(fvg.GVf(303,e.buyPoint,i,e.buyMax),void 0,void 0,e.__buyCountHandler,e)}},e.prototype.__buyCountHandler=function(){return this.buyPoint>App.KF.point?void msgTip(fvg.GVf(8)):void PvpMsgProxy.OC()},e._instance=null,e}();__reflect(PvpManager.prototype,"PvpManager");var RaidManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.exp=0,e.gold=0,e.cul=0,e.count=0,vkG.$a(UtJ.AQ,e.__updateHour24,e)},e.prototype.__updateHour24=function(){this.count=0,vkG.$d(UtJ.AO)},e._instance=null,e}();__reflect(RaidManager.prototype,"RaidManager");var RankManager=function(){function e(){this.cd_time=3e5;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.selectBtn=0,e._rankDict={},e._generalRankDic={},e.rankAppellDict={},e._achievementRankDic={},e.rankAppellDict[StaticData.APPELL_GRADE]=FDG.AE,e.rankAppellDict[StaticData.APPELL_CAP]=FDG.G_,e.rankAppellDict[StaticData.APPELL_KUNGFU]=FDG.JV,e.rankAppellDict[StaticData.APPELL_PK]=FDG.VI,e.rankAppellDict[StaticData.APPELL_FASHION]=FDG.FE,e.rankAppellDict[StaticData.APPELL_BEAUTY]=FDG.BA,e.rankAppellDict[StaticData.APPELL_HERO]=FDG.NO,e.rankAppellDict[StaticData.APPELL_RUNE]=FDG.VY,e.rankAppellDict[StaticData.APPELL_OFFICIAL]=FDG.JD,e.rankAppellDict[StaticData.CROSS_ARENA_TOP_APPELL_ID]=FDG.ZF,e.rankAppellDict[StaticData.CROSS_HARRY_APPELL_ID]=FDG.SL,e.rankAppellDict[StaticData.CROSS_ARENA_TOP_APPELL_ID_2]=FDG.UZ,e.rankAppellDict[StaticData.TOWN_MAGIC_1]=FDG.IR,e.rankAppellDict[StaticData.TOWN_MAGIC_10]=FDG.IR,e.rankVsArr={}},e.prototype.add=function(e){this._rankDict[e.type]=e},e.prototype.getData=function(e){return this._rankDict[e]},e.prototype.needRefreshByRank=function(e){return!e||GApp.timer-(e.rtime||0)>=this.cd_time?!0:!1},e.prototype.needRefreshByFunny=function(e){var t=App.NN.serverSecond;return e&&e.endTime-t<=1800},e.prototype.addGeneralRank=function(e){var t=this;e&&(usable(e.aid)?t._generalRankDic[e.rankType+"_"+e.aid]=e:t._generalRankDic[e.rankType]=e)},e.prototype.addAchievementRank=function(e){e&&(this._achievementRankDic[e.type]=e)},e.prototype.getAchievementRankByType=function(e){return this._achievementRankDic[e]||null},e.prototype.getGeneralRankByType=function(e,t){var n=this;return(usable(t)?n._generalRankDic[e+"_"+t]:n._generalRankDic[e])||null},e._instance=null,e}();__reflect(RankManager.prototype,"RankManager");var RechargeGiftManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.rechargeState=0,e.packState=0,e.rechargeGetState=0,e.rechargeValue=0},e}();__reflect(RechargeGiftManager.prototype,"RechargeGiftManager");var RedEnvelopesManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._redEnvelopesInfo=GObj.$c(RedEnvelopesInfo)},Object.defineProperty(e.prototype,"redEnvelopesInfo",{get:function(){return this._redEnvelopesInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getReceiveCount",{get:function(){if(!App.MG.oneYuanInfo||!App.MG.oneYuanInfo.isExist)return 0;for(var e,t=0,n=0;6>=n;n++)e=App.MG.oneYuanInfo.bagList[n],0!==e.status&&t++;return t},enumerable:!0,configurable:!0}),e}();__reflect(RedEnvelopesManager.prototype,"RedEnvelopesManager");var RetinueManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._retinueInfoDict={},e._retinueSkinDict={},e._retinueSkinGradeDict={},e._retinueSkillInfoDict={},e._retinueHighInfoDict={},e._retinueSkinDict[32]=33,e._retinueSkinDict[89]=90;var t,n,i;for(var r in e._retinueSkinDict)if(n=XCA.AQS.oVs(e._retinueSkinDict[r])){t=GObj.$c(RetinueVO);for(var a in n)i=n[a],i&&(t.stempDict[a]=i[1]);e._retinueInfoDict[r]=t,e._retinueSkillInfoDict[r]=t}},e.prototype.getRetinueInfoByType=function(e){return this._retinueInfoDict[e]},e.prototype.setSkinGrade=function(e,t){this._retinueSkinGradeDict[e]=t},e.prototype.getSkinGrade=function(e){return this._retinueSkinGradeDict[e]||0},e.prototype.getUse=function(e){var t=App.JS.getRetinueInfoByType(e);if(t)return t.use||0},e.prototype.checkCanActive=function(e){if(!e)return!1;var t=this.getSkinGrade(e.tid),n=App.FK.hsx(parseInt(e.cost));return e.needgp>0||t>0||0>=n?!1:!0},e.prototype.datasSort=function(e,t){var n=App.JS.getSkinGrade(e.tid)||0,i=App.JS.getSkinGrade(t.tid)||0,r=0,a=0;return r=e.sort>100?n?1:2:n?-1:3,a=t.sort>100?i?1:2:i?-1:3,r==a?e.sort<t.sort?-1:1:a>r?-1:1},e.prototype.getRetinueSkillInfoByType=function(e){return this._retinueSkillInfoDict[e]},e.prototype.getRetinueGrade=function(e){var t=App.JS.getRetinueInfoByType(e),n=t.grade||0;return n},e.prototype.getNeedGrade=function(e,t){if(t){var n;if(!n){n={};for(var i=t.p5,r=i.split(QycO.PK),a=r.length,o=0;a>o;o++){var s=r[o].split(QycO.XP);n[s[0]]=s[1]}}return parseInt(n[e])}},Object.defineProperty(e.prototype,"spiritComposeId",{get:function(){var e=[],t=XCA.CG(IDU.IJ);return e=t.split(",")},enumerable:!0,configurable:!0}),e.prototype.getHighSontype=function(e){var t=App.JS.getRetinueInfoByType(e),n=t.sgradeDict;if(n){var i=0;for(var r in n){var a=parseInt(r);a>100||a>i&&n[r]>0&&(i=a)}return i}},e.prototype.getMaxSontype=function(e){var t=this,n=t._retinueHighInfoDict[e];if(n)return n;var i=App.JS.getRetinueInfoByType(e),r=i.sgradeDict;if(r){for(var a in r){var o=parseInt(a);o>100||o>n&&(n=o)}return t._retinueHighInfoDict[e]=n,n}},e._instance=null,e}();__reflect(RetinueManager.prototype,"RetinueManager");var RevelryManager=function(){function e(){this.killMultiBossCount=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._bossStateDict={},e._equipStateDict={},e._godSuitStateDict={},e._skinStateDict={},e.revelryBossRewState={},e._bossAwardCountDict={},e._equipAwardCountDict={},e._godSuitAwardCountDict={},e.jadeRewStateDict={},e.pointRewStateDict={},e.tresureRewStateDict={},e.upgradeRewStateDict={award_state_0:0,award_state_1:0},e.chapterRewStateDict={award_state_0:0,award_state_1:0},e.martailState=0,e.harryState=0,e.revelryPointCnt=0,e.revelryJadeCnt=0,e.revelryTresureCnt=0,e._time=691199e3},e.prototype.setbossState=function(e,t){this._bossStateDict[e]=t},e.prototype.setEquipState=function(e,t){this._equipStateDict[e]=t},e.prototype.setGodsuitState=function(e,t){this._godSuitStateDict[e]=t},e.prototype.setSkinState=function(e,t){this._skinStateDict[e]=t},e.prototype.setRevelryBossState=function(e,t){this.revelryBossRewState[e]=t},e.prototype.getbossState=function(e){return this._bossStateDict[e]||0},e.prototype.getEquipState=function(e){return this._equipStateDict[e]||0},e.prototype.getGodsuitState=function(e){return this._godSuitStateDict[e]||0},e.prototype.getSkinState=function(e){return this._skinStateDict[e]||0},e.prototype.getRevelryBossState=function(e){return this.revelryBossRewState[e]||0},e.prototype.setbossAwardCount=function(e,t){this._bossAwardCountDict[e]=t},e.prototype.setEquipAwardCount=function(e,t){this._equipAwardCountDict[e]=t},e.prototype.setGodsuitAwardCount=function(e,t){this._godSuitAwardCountDict[e]=t},e.prototype.setPointRewStateDict=function(e,t){this.pointRewStateDict[e]=t},e.prototype.setJadeRewStateDict=function(e,t){this.jadeRewStateDict[e]=t},e.prototype.setTresureRewStateDict=function(e,t){this.tresureRewStateDict[e]=t},e.prototype.getbossAwardCount=function(e){return this._bossAwardCountDict[e]||0},e.prototype.getEquipAwardCount=function(e){return this._equipAwardCountDict[e]||0},e.prototype.getGodsuitAwardCount=function(e){return this._godSuitAwardCountDict[e]||0},e.prototype.getPointRewState=function(e){return this.pointRewStateDict[e]||0},e.prototype.getJadeRewState=function(e){return this.jadeRewStateDict[e]||0},e.prototype.getTresureRewState=function(e){return this.tresureRewStateDict[e]||0},Object.defineProperty(e.prototype,"time",{get:function(){var e=App.KF.openServerTime,t=(e+288e5)%864e5;return this._time=691199e3-t/1e3},enumerable:!0,configurable:!0}),e}();__reflect(RevelryManager.prototype,"RevelryManager");var RewardHallManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.signCount=0,e.todaySign=!1,e.resignCount=0,e.logindays=0,e.loginaward=0,e.onlinetime=0,e.onlineaward=0,e.sviptime=0,e.svipaward=0,e.bankbuy=0,e.bankgold=0,e.bankgrow=0,e.isWeeklyCard=!1,e.receive=!1,e.weekDay=0,e.bc=0,e.log=[],e.et=0},e}();__reflect(RewardHallManager.prototype,"RewardHallManager");var RuneManager=function(){function e(){this.runegrade=0,this.runeCount=10,this.pointCount=10,this.currBtn=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.synthesisGoodsList=[],e._allRunesList=[],e._allRedRunesList=[],e.config="",e.contents=[],e.starConfig="",e.starArr=[],e._ids=[],e.selectedGoods=[],e.attrArr=[],e.attrAddConfig="",e.attrAddArr=[],e._selectedRunesList=[]},Object.defineProperty(e.prototype,"allRunesList",{get:function(){var e=this;e._allRunesList.splice(0,e._allRunesList.length);for(var t=App.FK.LHp(1),n=t.length,i=0,r=0;n>r;r++)i=QNV.masterType(t[r].tid),i==Iwrv.MF&&e._allRunesList.push(t[r]);return e._allRunesList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allRedRunesList",{get:function(){var e=this;e._allRedRunesList.splice(0,e._allRedRunesList.length);for(var t=App.XV.allRunesList,n=t.length,i=0;n>i;i++)2==t[i].p4&&6==t[i].quality&&e._allRedRunesList.push(t[i]);return e._allRedRunesList.sort(e.sortRedRuneArr),e._allRedRunesList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedRunesList",{get:function(){return this._selectedRunesList},enumerable:!0,configurable:!0}),e.prototype.addSelectedRune=function(e){this._selectedRunesList.push(e)},e.prototype.countSelectedRuneDebris=function(){for(var e=this,t=0,n=0;n<e._selectedRunesList.length;n++){var i=void 0;i=parseInt(e._selectedRunesList[n].p2/300+""),2==e._selectedRunesList[n].quality?t+=3*e._selectedRunesList[n].p1+i:3==e._selectedRunesList[n].quality?t+=10*(e._selectedRunesList[n].p1-1)+i:4==e._selectedRunesList[n].quality?t+=15*(e._selectedRunesList[n].p1-2)+i:5==e._selectedRunesList[n].quality?t+=45*(e._selectedRunesList[n].p1-3)+i:6==e._selectedRunesList[n].quality&&(t+=160*(e._selectedRunesList[n].p1-4)+i)}return t},e.prototype.getIds=function(e){var t=this;t._ids.splice(0,t._ids.length);for(var n=e.length,i=0,r=0;n>r;r++)e[r]&&(i=e[r].id,t._ids.push(i));return t._ids},e.prototype.addRuneGoods=function(e){var t=GObj.$c(nlwj);t.tid=e,this.synthesisGoodsList.push(t)},e.prototype.isGetAppendAttr=function(e){var t=this,n=0,i=t.contents.length;0==i&&(t.config=XCA.CG(IDU.WI),t.contents=t.config.split(","),i=t.contents.length);for(var r=0,a=0;i>a;a++)r=parseInt(t.contents[a]),e>=r&&(n=a+1);return n},e.prototype.getOpenAppendAttrs=function(e){var t=this,n=[],i=t.contents.length;0==i&&(t.config=XCA.CG(IDU.WI),t.contents=t.config.split(","));for(var r=0;i>r;r++)e>r&&n.push(parseInt(t.contents[r]));return n},e.prototype.getAttCP=function(e,t){var n=.01,i=.01,r=1.010764,a=15e3,o=.95949,s=0,p=0;if(e&&t){var l=QNV.masterType(e.tid)||0;if(l==Iwrv.MF){var c=e.TSF;if(c){switch(c.qua){case 2:s=.002,p=.755085;break;case 3:s=.0015,p=.816364;break;case 4:s=.001,p=.877549;break;case 5:s=5e-4,p=.938779;break;case 6:s=24e-5,p=.970613}var u=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),d=c.p1,g=XCA.YV(d),v=g?g.p1:0,h=v*(p+s*Math.pow(u*a,o)),m=h+this.getAppendCP(e,t);return Math.round(m)}}}return 0},e.prototype.getAppendCP=function(e,t){if(e){var n=QNV.masterType(e.tid)||0;if(n==Iwrv.MF){e.quality>=aKF.KY&&(t=MaxLevel.RUNE_GRADE);var i=App.XV.isGetAppendAttr(t),r=e.p5,a=0;if(i>0)for(var o=GObj.$c(AttributeTemplate),s=0;i>s;s++)o=XCA.YV(r[s]),o&&(a+=o.p1);return a}}return 0},e.prototype.getClearTotalCp=function(e){if(e){var t=QNV.masterType(e.tid)||0;if(t==Iwrv.MF){var n=e.TSF;if(n){var i=n.p1+e.p3,r=XCA.YV(i),a=r?r.p1:0,o=a;return o}}}},e.prototype.getExtraValue=function(e,t,n){var i=0;if(!n||n.length<=0)return i;for(var r,a,o=int((e-1)/100%10),s=n.length,p=0;s>p;p++)if(r=int((n[p].attrid-1)/100%10),o==r)return a=this.getAttrAddValue(n[p].count),t*(a/100);return i},e.prototype.getGrade=function(e){var t=this;if(e){var n=QNV.masterType(e.tid)||0;if(n==Iwrv.MF){if(e.quality>=aKF.KY)return 10;var i=e.p1||0,r=t.starArr.length;0==r&&(t.starConfig=XCA.CG(IDU.YH),t.starArr=t.starConfig.split("|"));for(var a=void 0,o=0;o<t.starArr.length;o++)if(a=t.starArr[o].split(","),a&&i==parseInt(a[0]))return parseInt(a[1])}}return 0},e.prototype.sortRuneArray=function(e,t){if(e.masterType==Iwrv.MF&&t.masterType==Iwrv.MF){var n=App.XV.getAttCP(e,e.p3),i=App.XV.getAttCP(t,t.p3);return e.quality>t.quality?1:e.quality==t.quality&&n>i?1:-1}},e.prototype.sortRuneArr=function(e,t){if(e.masterType==Iwrv.MF&&t.masterType==Iwrv.MF){var n=App.XV.getAttCP(e,e.p3),i=App.XV.getAttCP(t,t.p3);return e.quality>t.quality?-1:e.quality==t.quality&&n>i?-1:1}},e.prototype.sortRedRuneArr=function(e,t){if(e.masterType==Iwrv.MF&&t.masterType==Iwrv.MF){var n=App.XV.getAttCP(e,e.p3),i=App.XV.getAttCP(t,t.p3);return e.quality<t.quality?-1:e.quality==t.quality?e.p1<t.p1?-1:e.p1>t.p1?1:i>n?-1:1:1}},e.prototype.getTotalExp=function(e){var t,n=.01,i=.01,r=1.010764,a=0;if(e){switch(e.quality){case 2:t=150;break;case 3:t=225;break;case 4:t=300;break;case 5:t=375;break;case 6:t=450}var o=QNV.masterType(e.tid)||0;o==Iwrv.MF&&(a=5*t*(n*(1-Math.pow(r,e.p3))/(1-r)+i/(1-r)*(e.p3-(1-Math.pow(r,e.p3))/(1-r))))}return Math.round(a)},e.prototype.getConsumptionCount=function(){var e=this,t=[];if(e.costConfig||(e.costConfig=XCA.CG(IDU.TT),e.costConfig&&!e.costArr&&(e.costArr=e.costConfig.split(","))),e.costArr&&e.costArr.length>0){var n=parseInt(e.costArr[0]);t.push(n);var i=parseInt(e.costArr[1]);t.push(i)}return t},e.prototype.clearSynthesisInfo=function(){var e=this;e.synthesisGoodsList.splice(0,e.synthesisGoodsList.length)},e.prototype.searchDuplicateNumber=function(e){if(!e||0==e.length)return[];for(var t,n,i,r=e.length,a={},o=0;r>o;o++)t=e[o],n=int((e[o]-1)/100%10),a[n]||(a[n]={}),i=a[n],i.count=(i.count||0)+1,i.attrid=t;var s=[];for(var p in a){var l=a[p];l.count>1&&s.push(l)}return s},e.prototype.getAttrAddValue=function(e){var t=this;if(t.attrAddConfig||(t.attrAddConfig=XCA.CG(IDU.LMU),t.attrAddConfig&&0==t.attrAddArr.length&&(t.attrAddArr=t.attrAddConfig.split("|"))),t.attrAddArr.length>0&&!t.attrAddDic){var n=void 0,i=t.attrAddArr.length;t.attrAddDic={};for(var r=0;i>r;r++)n=t.attrAddArr[r].split(","),n.length>=2&&(t.attrAddDic[n[0]]=parseInt(n[1])/10)}return t.attrAddDic?t.attrAddDic[e]||0:0},e._instance=null,e}();__reflect(RuneManager.prototype,"RuneManager");var SceneManager=function(){function e(){this._mapId=0,this._pmapId=0,this._loadData=null,this._switchout=!1,this._isEffect=!1;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._sceneClzDict={},e._obiterClzDict={},e._mapSwitch=GObj.$c(MapSwitchEffect),e._sceneClzDict[2]=MultiScene,e._sceneClzDict[4]=MultiScene,e._sceneClzDict[999]=NewbieScene,e._sceneClzDict[6]=BattleScene,e._sceneClzDict[10]=MultiScene,e._sceneClzDict[36]=MultiScene,e._sceneClzDict[8888]=TestScene,e._sceneClzDict[11]=PvpScene,e._sceneClzDict[12]=PvpScene,e._sceneClzDict[7]=MultiScene,e._sceneClzDict[5]=MultiScene,e._sceneClzDict[102]=MultiScene,e._sceneClzDict[100]=MultiScene,e._sceneClzDict[101]=CrossHarryScene,e._sceneClzDict[103]=MultiScene,e._sceneClzDict[13]=PvpScene,e._sceneClzDict[14]=PvpScene,e._sceneClzDict[15]=PvpScene,e._sceneClzDict[37]=MultiScene,e._sceneClzDict[41]=MultiScene,e._sceneClzDict[42]=MultiScene,e._sceneClzDict[43]=MultiScene,e._sceneClzDict[44]=MultiScene,e._sceneClzDict[45]=MultiScene,e._obiterClzDict[9]=MapDefendObiter,e._obiterClzDict[2]=MapMuitBossObiter,e._obiterClzDict[4]=MapTeamBattleObiter,e._obiterClzDict[999]=MapNewbieObiter,e._obiterClzDict[6]=MapMirrorObiter,e._obiterClzDict[10]=MapHarryObiter,e._obiterClzDict[36]=MapCityBattleObiter,e._obiterClzDict[11]=MapCrossArenaObiter,e._obiterClzDict[12]=MapTurnupBossObiter,e._obiterClzDict[7]=MapMainBossObiter,e._obiterClzDict[5]=MapMainBossObiter,e._obiterClzDict[102]=MapMainBossObiter,e._obiterClzDict[100]=MapPalaceBossObiter,e._obiterClzDict[101]=MapCrossHarryObiter,e._obiterClzDict[103]=MapMainBossObiter,e._obiterClzDict[13]=MapWuShenBossObiter,e._obiterClzDict[14]=MapWuShenPlunderObiter,e._obiterClzDict[15]=MapEliteBossObiter,e._obiterClzDict[37]=MapFamilyWarObiter,e._obiterClzDict[41]=MapGodSpiritObiter,e._obiterClzDict[42]=MapMainBossObiter,e._obiterClzDict[43]=MapFFMObiter,e._obiterClzDict[44]=MapBossHouseObiter,e._obiterClzDict[45]=MapMainBossObiter},e.prototype.switchout=function(){var e=this;e._switchout=!0,e.switchnext()},e.prototype.switchnext=function(){var e=this;e._loadData&&e._switchout&&(GObj.$d(e._scene),e._scene=e.create(e._loadData.type),e._scene.enter(e._loadData),e._mapSwitch.switchover(e.endAndStart,e))},e.prototype.endAndStart=function(){var e=this;e._scene&&(e._scene.start(),App.VS.$enterMap(e._mapId)),vkG.$d(UtJ.YT)},e.prototype.enter=function(e,t,n){void 0===t&&(t=!0);var i=this;i._loadData=null,Loading.instance.show(),i._isEffect=t,i._isEffect&&(i._mapSwitch.switchout(i.switchout,i),i._switchout=!1),i._scene&&i._scene.stop(),i._pmapId=i._mapId,i._pparms=i._parms,i._mapId=e,i._parms=n,LoaderManager.instance.load(PATH.JQ+e+FileConst.json,i.__loadComplete,this,LoaderConst.PRIORITY_DEFAULT,e)},e.prototype.back=function(){var e=this;e.enter(e._pmapId||1,!0,e._pparms)},e.prototype.enterChapter=function(e){void 0===e&&(e=!0);var t=this,n=t.getMapIdByChapter();t.enter(n,e)},e.prototype.resultsReturn=function(){NpcHpView.instance.hide(),TaskBar.instance.gotoBoss()||this.enterChapter()},e.prototype.getMapIdByChapter=function(){if(!App.KF.uid)return StaticData.CACHE_MAP_ID;var e=App.KF.chapter||1;if(1===StaticData.MAP_CHAPTER_MAX)return StaticData.MAP_CHAPTER_MAX;var t=~~((e-1)/StaticData.PER_CHAPTER_CHANGE),n=t%StaticData.MAP_CHAPTER_MAX+1;return n||StaticData.MAP_CHAPTER_MAX},e.prototype.create=function(e){var t=this._sceneClzDict[e];return t?GObj.$c(t):GObj.$c(BattleScene)},e.prototype.getObiterClz=function(e){var t=this._obiterClzDict[e];return t?t:MapBattleObiter},e.prototype.__loadComplete=function(e){var t=this;if(t._mapId==e.args)return Loading.instance.hide(),t._loadData=e.data,t._isEffect?void t.switchnext():(GObj.$d(t._scene),t._scene=t.create(e.data.type),t._scene.enter(e.data),t.endAndStart(),void(t._isEffect=!0))},Object.defineProperty(e.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sceneType",{get:function(){var e=this;return e._scene?e._scene.type:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mapid",{get:function(){return this._mapId},enumerable:!0,configurable:!0}),e.prototype.isCanSwitc=function(e){return void 0===e&&(e=!0),1==this.sceneType?!0:(e&&MessageTipManager.instance.show(fvg.GVf(35)),!1)},e.prototype.isPvPScene=function(e){switch(this.sceneType){case 6:case 11:case 10:case 36:case 101:if(1==e||6==e)return!0}return!1},e.prototype.isFamilyWarBoss=function(e){return 37==this.sceneType&&3==e},e}();__reflect(SceneManager.prototype,"SceneManager");var ShopManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._allShopnlwjDic={},e._blackShopArr=[],e._propShopArr=[],e._vipShopArr=[],e._equipShopArr=[],e._knightShopArr=[],e._zooShopArr=[],e._lotteryShopArr=[],e._generationShopArr=[],e._familyShopArr=[],e._mysteriousShopArrs=[],e._svipShopArrs=[],e._blackRefreshTime=0,e._blackRefreshCount=0,e._mysteriousShopCount=0,e._blackGoodsDic={},e._mysteriousGoodsDic={},e._purgatoryShopArr=[];var t,n,i=XCA.allTemplateData.shoptemp;for(t in i){n=GObj.$c(Shopnlwj),ObjectUtil.oto(i[t],n);var r=e.getShopGoodsListByShopType(n.type);r&&r.push(n),e._allShopnlwjDic[t]=n}e._blackShopArr.sort(e.sortGoods),e._propShopArr.sort(e.sortGoods),e._vipShopArr.sort(e.sortGoods),e._knightShopArr.sort(e.sortGoods),e._zooShopArr.sort(e.sortGoods),e._generationShopArr.sort(e.sortGoods),e._familyShopArr.sort(e.sortGoods),e._mysteriousShopArrs.sort(e.sortGoods),e._svipShopArrs.sort(e.sortGoods),e._purgatoryShopArr.sort(e.sortGoods)},e.prototype.sortGoods=function(e,t){return e.sort>t.sort?-1:1},e.prototype.getShopGoodsListByShopType=function(e){var t=this;return 4==e?t._blackShopArr:2==e?t._propShopArr:3==e?t._vipShopArr:5==e?t._equipShopArr:6==e?t._knightShopArr:7==e?t._zooShopArr:9==e?t._lotteryShopArr:10==e?t._generationShopArr:11==e?t._familyShopArr:12==e?t._mysteriousShopArrs:13==e?t._svipShopArrs:14==e?t._purgatoryShopArr:null},e.prototype.getShopGoodsByTypeAndId=function(e,t){var n=this.getShopGoodsListByShopType(e);if(!n||0==n.length)return null;for(var i=0;i<n.length;i++){var r=n[i];if(r.itemid==t)return r}return null},e.prototype.getShopGoodsByShopId=function(e){return this._allShopnlwjDic[e]},e.prototype.getBlackShopGoods=function(){var t=this;if(!t._blackSellGoods){t._blackSellGoods=[];var n=void 0;for(var i in t._blackGoodsDic)n=t._allShopnlwjDic[i],n&&t._blackSellGoods.push(n);App.KF.chapter>=8&&t._blackSellGoods.sort(e.KA)}return t._blackSellGoods},e.prototype.getMysteriousShopGoods=function(){var e=this;if(!e._mysteriousShopArr){e._mysteriousShopArr=[];var t=void 0;for(var n in e._mysteriousGoodsDic)t=e._allShopnlwjDic[n],t&&e._mysteriousShopArr.push(t)}return e._mysteriousShopArr},e.prototype.getEquipShopGoods=function(){var e=this,t=App.BG.turnupInfo.grade;if(t==e.preTurnupGrade)return e.currEquipGoods;e.preTurnupGrade=t,e.currEquipGoods=[];for(var n=e._equipShopArr.length,i=0;n>i;i++)e._equipShopArr[i].mingrade<=t&&e._equipShopArr[i].maxgrade>=t&&e.currEquipGoods.push(e._equipShopArr[i]);return e.currEquipGoods.sort(e.sortGoods),e.currEquipGoods},e.prototype.getMoneyByMoneyType=function(e){switch(e){case 1:return App.BG.jkU.gold;case 2:return App.BG.jkU.point;case 3:return App.XB.info.fm||0;case 4:return App.FK.hsx(StaticData.TID_GOODS_11);case 5:return App.FK.hsx(StaticData.TID_KNIGHT_SOUL);case 6:return App.FK.hsx(StaticData.TID_BEAST_ID);case 7:return App.FK.hsx(StaticData.TID_GENERATION);case 8:return App.FK.hsx(StaticData.TID_FAMILY);case 9:return App.KF.charm}return 0},e.prototype.getTidByMoneyType=function(e){switch(e){case 1:return StaticData.TID_GOLD_ID;case 2:return StaticData.TID_POINT_ID;case 3:return StaticData.TID_FACTION_ID;case 4:return StaticData.TID_GOODS_11;case 5:return StaticData.TID_KNIGHT_SOUL;case 6:return StaticData.TID_BEAST_ID;case 7:return StaticData.TID_GENERATION;case 8:return StaticData.TID_FAMILY;case 9:return StaticData.TID_PURGATORY}return 0},e.prototype.getMoneyTypeByType=function(e){switch(e){case 2:case 3:return 2;case 4:return 3;case 5:return 4;case 6:return 5;case 7:return 6;case 10:return 7;case 11:return 8;case 14:return 9}return 0},e.prototype.getMoneyByTid=function(e){if(QNV.masterType(e)!=Iwrv.JL)return App.FK.hsx(e);switch(e){case StaticData.TID_GOLD_ID:return App.KF.gold;case StaticData.TID_POINT_ID:return App.KF.point;case StaticData.TID_FACTION_ID:return App.XB.info.fm||0;
case StaticData.TID_PURGATORY:return App.KF.charm||0;case StaticData.TID_PLATFORM:return App.NG.isQQminiChannel()?App.VX.qqMiniStar||0:App.KF.gold;default:return 0}},e.prototype.getMoneyEventByTid=function(e){if(QNV.masterType(e)!=Iwrv.JL)return UtJ.DV;switch(e){case StaticData.TID_GOLD_ID:return UtJ.IN;case StaticData.TID_POINT_ID:return UtJ.IN;case StaticData.TID_FACTION_ID:return UtJ.XW;case StaticData.TID_PURGATORY:return UtJ.XQ;case StaticData.TID_PLATFORM:return App.NG.isQQminiChannel()?UtJ.FH:UtJ.IN}},Object.defineProperty(e.prototype,"allShopnlwj",{get:function(){return this._allShopnlwjDic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blackRefreshTime",{get:function(){return this._blackRefreshTime},set:function(e){this._blackRefreshTime=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blackRefreshCount",{get:function(){return this._blackRefreshCount},set:function(e){this._blackRefreshCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blackGoodsDic",{get:function(){return this._blackGoodsDic},set:function(e){this._blackGoodsDic=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blackSellGoods",{get:function(){return this._blackSellGoods},set:function(e){this._blackSellGoods=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mysteriousShopCount",{get:function(){return this._mysteriousShopCount},set:function(e){this._mysteriousShopCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mysteriousGoodsDic",{get:function(){return this._mysteriousGoodsDic},set:function(e){this._mysteriousGoodsDic=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mysteriousShopArr",{get:function(){return this._mysteriousShopArr},set:function(e){this._mysteriousShopArr=e},enumerable:!0,configurable:!0}),e.KA=function(e,t){return e.itemid<t.itemid?-1:1},e}();__reflect(ShopManager.prototype,"ShopManager");var ShuraManager=function(){function e(){this.click=!1;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._masBossList=[],e._subBossList=[],e.selectedBoss=[],e.idsList=[];var t;if(t=App.MB.taleBossList,t&&t)for(var n=t.length,i=void 0,r=void 0,a=0;n>a;a++)i=t[a],r=i.tid%1e3,0==r?e._masBossList.push(i):e._subBossList.push(i)},Object.defineProperty(e.prototype,"masBossList",{get:function(){return this._masBossList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subBossList",{get:function(){return this._subBossList},enumerable:!0,configurable:!0}),e.prototype.getSubBossByTid=function(e){for(var t,n=this,i=0;i<n._subBossList.length;i++)if(t=n._subBossList[i],t&&int(t.tid/1e3)==int(e/1e3))return t;return null},e._instance=null,e}();__reflect(ShuraManager.prototype,"ShuraManager");var SkillManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._actSkillInfos={},e._pasSkillInfos={},e._tendonsGrade=0,e.realmGrade=0,e._skillmapActive={},e.knightExtInfo={},e.beastGradeDict={},e.beastStarDict={},e.petInfo={},e.actCap=0,e.pasCap=0,e.tendonsCap=0,e.skillInalyInfo=[-1,-1,-1,-1,-1,-1]},Object.defineProperty(e.prototype,"openGradeArr",{get:function(){var e=this;if(!e._openGradeArr){var t=(XCA.CG(IDU.TE)||"0|0").split("|")[0];e._openGradeArr=t.split(",")}return e._openGradeArr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openVipArr",{get:function(){var e=this;if(!e._openVipArr){var t=(XCA.CG(IDU.TE)||"0|0").split("|")[1];e._openVipArr=t.split(",")}return e._openVipArr},enumerable:!0,configurable:!0}),e.prototype.getActSkillInfoBySonType=function(e){return this._actSkillInfos[e]},e.prototype.addActSkillinfo=function(e){e&&(this._actSkillInfos[e.subType]=e)},Object.defineProperty(e.prototype,"actSkillInfos",{get:function(){return this._actSkillInfos},enumerable:!0,configurable:!0}),e.prototype.getPasSkillInfoBySonType=function(e){return this._pasSkillInfos[e]},e.prototype.addPasSkillinfo=function(e){e&&(this._pasSkillInfos[e.subType]=e)},e.prototype.getPasActiveNum=function(){var e=0;for(var t in this._pasSkillInfos)e++;return e},e.prototype.getInalyActSkillList=function(){for(var e,t,n,i=this,r=[],a=0;a<i.skillInalyInfo.length;a++)if(n=i.skillInalyInfo[a],n>0){if(e=i._actSkillInfos[n],!e)continue;t=XCA.AQS.UFA(e.masType,e.subType,1),t&&r.push(t)}return r},e.prototype.getCanWithActSkillList=function(){var e=this,t=[];for(var n in e._actSkillInfos)e.skillInalyInfo.indexOf(parseInt(n))<0&&parseInt(n)<500&&t.push(parseInt(n));return t},e.prototype.getActivedActSkills=function(){var e,t,n=this,i=[];for(var r in n._actSkillInfos)e=n._actSkillInfos[r],e&&(t=XCA.AQS.UFA(e.masType,e.subType,1),t&&i.push(t));return i},e.prototype.getActiveState=function(e){for(var t=e.p5.split(","),n=!0,i=0;i<t.length;i++)if(!App.JO.getPasSkillInfoBySonType(t[i])){n=!1;break}return n?App.JO.skillmapActive[gLw.IQ(e.tid)]?2:3:1},e.prototype.getBeastGradeByStar=function(e){var t=this;if(!t._beast_upstar_config){t._beast_upstar_config={};for(var n=XCA.CG(IDU.RK).split(QycO.PK),i=void 0,r=0;r<n.length;r++)i=n[r].split(QycO.XP),t._beast_upstar_config[i[0]]=parseInt(i[1])}var a,o=0;for(var s in t._beast_upstar_config)a=parseInt(s),e>=a&&a>o&&(o=a);return t._beast_upstar_config[o]||0},Object.defineProperty(e.prototype,"actSkillLimit",{get:function(){return 30+2*App.KF.grade},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pasSkillInfos",{get:function(){return this._pasSkillInfos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tendonsGrade",{get:function(){return this._tendonsGrade},set:function(e){this._tendonsGrade=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skillmapActive",{get:function(){return this._skillmapActive},enumerable:!0,configurable:!0}),e.prototype.getTempByQua=function(e){var t,n,i=[],r=XCA.AQS.oVs(2);for(t in r)n=r[t][1],n&&n&&n.qua==e&&i.push(n);return i},e.prototype.getPetUse=function(){return this.petInfo.use||0},e.prototype.getPetStarByType=function(e){return this.petInfo[e]||0},e.prototype.getPetStarCap=function(e){return this.petInfo["scap_"+e]||0},e}();__reflect(SkillManager.prototype,"SkillManager");var SocietyManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._bossInfoDic={},e.currStar=0,e.rewardIndex=0},e.prototype.getSocietyInfoById=function(e){var t=this;if(!t._bossInfoDic[e]){var n=GObj.$c(SocietyInfo);n.id=e,t._bossInfoDic[e]=n}return t._bossInfoDic[e]},e.prototype.addSocietyInfoById=function(e,t){this._bossInfoDic[e]=t},e.prototype.getClearedDiffById=function(e){var t=0,n=this._bossInfoDic[e];return n&&(t=n.gr),t},e.prototype.getChallengeBossId=function(e){var t=this.getSocietyInfoById(e);return t.gr*MaxLevel.SOCIETY_BOSS_NUM+t.or},Object.defineProperty(e.prototype,"allStar",{get:function(){var e=0,t=[];t=(XCA.CG(IDU.MS)||"").split(",");for(var n=App.VP.rewardIndex-1,i=0;n>=i;i++)e+=parseInt(t[i]);return e+=this.currStar},enumerable:!0,configurable:!0}),e.prototype.continueFight=function(){App.UY.enter(App.VP.curMapId,!0)},e.prototype.getCurrentCopyId=function(e,t){var n=this,i=RES.getRes("node_pos_json"),r=i.nodes;r.sort(n.dataSort);for(var a,o={},s=0;s<r.length;s++){if(!r[s])return;o[r[s].id]=r[s]}if(t){if(a=n.getSocietyInfoById(e),!a.gr){if(a=n.getSocietyInfoById(e-1),e-1==0)return!0;if(a.gr)return!0}return!1}if(e){if(a=n.getSocietyInfoById(e),a.gr)return!0;if(a=n.getSocietyInfoById(e-1),e-1==0)return!0;if(a.gr)return!0}return!1},e.prototype.dataSort=function(e,t){var n=e.y,i=t.y;return n>=i?1:i>n?-1:void 0},e._instance=null,e}();__reflect(SocietyManager.prototype,"SocietyManager");var SoundManager=function(){function e(){this.sound_max=2,this.soundIndex=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._openBgm=!1,e.playBGM(SoundIds.AK)},e.prototype.playBGM=function(e){var t=this;usable(e)&&e!=t.bgmName&&(t.bgmName=e,t.bgmNameLoaded!=e&&t._openBgm&&t.loadBGM())},e.prototype.loadBGM=function(){var e=this;if(e._openBgm)if(e.closeBGM(),e.bgmNameLoaded==e.bgmName)e.bgmSoundChannel=e.bgmSound.play();else{e.bgmNameLoaded=e.bgmName,e.bgmSound.close();var t=PATH.NK;e.bgmSound.load(t+e.bgmName)}},e.prototype.closeBGM=function(){var e=this;e.bgmSoundChannel&&(e.bgmSoundChannel.volume=0,e.bgmSoundChannel.stop(),e.bgmSoundChannel=null)},Object.defineProperty(e.prototype,"openBgm",{get:function(){return this._openBgm},set:function(e){var t=this;if(t._openBgm!=e)if(t._openBgm=e,e){if(t.bgmSound||(t.bgmSound=GObj.$c(egret.Sound),t.bgmSound.type=egret.Sound.MUSIC,t.bgmSound.addEventListener(egret.Event.COMPLETE,t.__bgmLoadCompleteHandler,t),t.bgmSound.addEventListener(egret.IOErrorEvent.IO_ERROR,t.__ioErrorHandler,t)),!t.soundList){t.soundList=[];for(var n=0;n<t.sound_max;n++)t.soundList.push(GObj.$c(EffectSound))}t.loadBGM()}else t.closeBGM()},enumerable:!0,configurable:!0}),e.prototype.__bgmLoadCompleteHandler=function(e){var t=this;t.bgmSoundChannel=t.bgmSound.play(),t._openBgm||t.closeBGM()},e.prototype.playEffect=function(e){var t=this;if(t._openBgm&&usable(e)&&!(t.sound_max<=0)){t.soundIndex++;var n=t.soundList[t.soundIndex%t.sound_max];n&&n.play(e)}},e.prototype.playFrame=function(e,t){void 0===t&&(t=!1);var n=this;if((n._openBgm||t)&&usable(e)){n.soundIndex++;var i=n.soundList[n.soundIndex%n.sound_max];i&&i.play(e)}},e.prototype.__ioErrorHandler=function(e){},e._instance=null,e}();__reflect(SoundManager.prototype,"SoundManager");var SpeedupManager=function(){function e(){this._nowfun=Date.now,this._dnow=0,this._dtime=0,this._mul=1;var t=this;singleton(e._instance),e._instance=this,t._nowfun=Date.now}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.speedup=function(e){var t=this;t._mul=e,t._mul<=0&&(t._mul=1),Date.now=t.sunow},e.prototype.sunow=function(){var t=e.instance._nowfun();return!e.instance._dtime||e.instance._dtime<=0?e.instance._dtime=t:e.instance._dtime=e.instance._dtime+(t-e.instance._dnow)*e.instance._mul,e.instance._dnow=t,e.instance._dtime},e.prototype.stopTime=function(){var t=this;if(isIOSSystem()){var n=getPageVisibility();n?Date.now=e.instance._nowfun:(t._mul=0,Date.now=t.sunow)}},e._instance=null,e}();__reflect(SpeedupManager.prototype,"SpeedupManager");var SpiritLakeManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.spLakeCount=0,e.spLakeDic={},e.spSkillDic={}},e}();__reflect(SpiritLakeManager.prototype,"SpiritLakeManager");var SpiritManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.spiritAllCap=0,e.intensifyCap=0,e.intensifyMaster=0,e.intensifyMasCap=0,e.spiritIntendifyCap=0,e._equipComTemp={},e._intensifyInfo={};for(var t=Iwrv.QL,n=0;n<t.length;n++)e._intensifyInfo[t[n]]=0,e._equipComTemp[t[n]]=parseInt(e.spiritComposeId[n]);e.updateEquipComTemp()},e.prototype.updateEquipComTemp=function(){for(var e=Iwrv.QL,t=0;t<e.length;t++){e[t];var n=App.FK.Fkl(8,e[t])[0],i=App.PI.getSpiritComposeByMat(n?n.tid:0)[0];i&&(this._equipComTemp[e[t]]=i.id)}},Object.defineProperty(e.prototype,"intensifyTotalCap",{get:function(){return this.intensifyCap+App.HG.spiritMaster},enumerable:!0,configurable:!0}),e.prototype.getIntensifyTotalGrade=function(){var e=this,t=0;for(var n in e._intensifyInfo)t+=e._intensifyInfo[n];return t},e.prototype.getIntensifyGradeNum=function(e){var t=this,n=0;Iwrv.QL;for(var i in t._intensifyInfo)"cap"!=i&&t._intensifyInfo[i]>=e&&n++;return n},Object.defineProperty(e.prototype,"intensifyInfo",{get:function(){return this._intensifyInfo},set:function(e){this._intensifyInfo=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"spiritComposeId",{get:function(){var e=[],t=XCA.CG(IDU._N);return e=t.split(",")},enumerable:!0,configurable:!0}),e}();__reflect(SpiritManager.prototype,"SpiritManager");var _NR=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.iffirst=!0,e.intensifyCap=0,e.upstarCap=0,e.coloredCap=0,e.intensifyMaster=0,e.gemMaster=0,e.upstarMaster=0,e.spiritMaster=0,e.godSuitMaster=0,e.fairySuitMaster=0,e.intensifyMasCap=0,e.gemMasCap=0,e.upstarMasCap=0,e.castingGoldCap=0,e.spiritMasCap=0,e.currStoreCheckDict=[],e._intensifyInfo={},e._gemInfo={},e._upstarInfo={},e._castingGoldInfo={},e.godSuitInfo={},e.fairySuitInfo={},e.storeUpLvDict={},e.storeUpPointDict={};for(var t=Iwrv.YJ,n=0;n<t.length;n++)e._intensifyInfo[t[n]]=0,e._upstarInfo[t[n]]=0,e._castingGoldInfo[t[n]]=0;var i=XCA.CG(IDU.RX);e.turnUpLVMaxCastingGoldLv=Nkz.LI(i),vkG.$a(UtJ.GJ,e.__gemUpdateHandler,e),e.getStoreUpObj()},e.prototype.__gemUpdateHandler=function(){this.updateGemGradeDic(),vkG.$d(UtJ.BO)},e.prototype.getIntensifyTotalGrade=function(){var e=this,t=0;for(var n in e._intensifyInfo)t+=e._intensifyInfo[n];return t},e.prototype.getGemTotalGrade=function(){for(var e=0,t=App.FK.LHp(5),n=0;n<t.length;n++)e+=t[n].goodsGrade;return e},e.prototype.getUpstarTotalGrade=function(){var e=this,t=0;for(var n in e._upstarInfo)t+=e._upstarInfo[n];return t},e.prototype.getHaveNumByGrade=function(e,t,n){var i=this;switch(e){case 1:return i.getIntensifyGradeNum(t);case 2:return i.getGemGradeNum(t);case 3:return i.getUpstarGradeNum(t);case 4:return App.RM.getIntensifyGradeNum(t);case 5:return App._B.getBattleEquipGradeNum(t);case 6:return App.HL.getMasterGrade(n,t);case 7:return i.getGodSuitNum(t);case 8:return i.getFairySuitNum(t)}return 0},e.prototype.getIntensifyGradeNum=function(e){var t=this,n=0;for(var i in t._intensifyInfo)t._intensifyInfo[i]>=e&&n++;return n},e.prototype.getGemGradeNum=function(e){var t=this._gemInfo,n=0;for(var i in t)t[i]>=e&&n++;return n},e.prototype.updateGemGradeDic=function(){var e=this;for(var t in e._gemInfo)e._gemInfo[t]=0;for(var n,i,r=App.FK.LHp(5),a=0;a<r.length;a++)n=r[a],i=2e3+int(n.p1/10),e._gemInfo[i]=(e._gemInfo[i]||0)+n.goodsGrade},e.prototype.getUpstarGradeNum=function(e){var t=this,n=0;for(var i in t._upstarInfo)t._upstarInfo[i]>=e&&n++;return n},e.prototype.getGodSuitNum=function(e){for(var t=0,n=Iwrv.MA.length,i=0;n>i;i++){var r=App.FK.Fkl(12,Iwrv.MA[i])[0];r&&QNV.OV(r.tid)>=e&&t++}return t},e.prototype.getFairySuitNum=function(e){for(var t=0,n=Iwrv.SA.length,i=0;n>i;i++){var r=App.FK.Fkl(13,Iwrv.SA[i])[0];r&&QNV.OV(r.tid)>=e&&t++}return t},e.prototype.getSpiritGradeNum=function(e){var t=0;for(var n in App.RM.intensifyInfo)App.RM.intensifyInfo[n]>=e&&t++;return t},Object.defineProperty(e.prototype,"intensifyInfo",{get:function(){return this._intensifyInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upstarInfo",{get:function(){return this._upstarInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gemInfo",{get:function(){return this._gemInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gemCap",{get:function(){for(var e,t=App.FK.LHp(5),n=0,i=0;i<t.length;i++)e=t[i],n+=e.TSF.p2;return n+this.gemMasCap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"intensifyTotalCap",{get:function(){var e=this;return e.intensifyCap+e.intensifyMasCap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upstarTotalCap",{get:function(){var e=this;return e.upstarCap+e.upstarMasCap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"castingGoldInfo",{get:function(){return this._castingGoldInfo},set:function(e){this._castingGoldInfo=e},enumerable:!0,configurable:!0}),e.prototype.getStoreUpObj=function(){var e,t,n=this,i=XCA.allTemplateData.itemtemp,r=0;for(var a in i)t=i[a],t&&t.star&&QNV.masterType(t.tid)==Iwrv.CL&&t.qua==aKF.KY&&(r=n.getTurnupGrade(t.step),r&&(e=QNV.sonType(t.tid),n.storeUpPointDict[r+"_"+t.star+"_"+e]=!1,n.storeUpLvDict[r]||(n.storeUpLvDict[r]={}),n.storeUpLvDict[r][t.star]||(n.storeUpLvDict[r][t.star]={}),n.storeUpLvDict[r][t.star][e]=t.tid))},e.prototype.getTurnupGrade=function(e){if(0>=e)return 0;var t;return t=e>45?int(8.8)+1+(e-45):int((e-1)/5)+1},e.prototype.getStoreUpConBoo=function(e,t){var n=parseInt(XCA.CG(IDU.JD))||1;if(n>e)return!1;for(var i,r=(XCA.CG(IDU.GQ)||"").split(QycO.PK),a=r.length,o=0;a>o;o++)if(r[o]&&(i=r[o].split(QycO.XP),parseInt(i[0])==e))return t<=parseInt(i[1]);return!1},e.prototype.checkStoreUpHander=function(){var e=this;e.checkEquipAllNum();for(var t in App.HG.storeUpLvDict){var n=App.HG.storeUpLvDict[t];if(n)for(var i in n)e.checkStoreUpStar(parseInt(t),parseInt(i))}},e.prototype.checkStoreUpStar=function(e,t){var n=this;if(!App.HG.storeUpLvDict[e])return!1;if(!App.HG.storeUpLvDict[e][t])return!1;var i,r,a,o,s=App.HG.storeUpLvDict[e][t],p=aKF.KY;for(var l in s)r=XCA.FR(s[l]),r&&(1==t&&(p=aKF.PU),a=QNV.sonType(r.tid),o=t-1,0>o&&(o=0),i=n.storeEquipDict[e+"_"+o+"_"+a],!i||i<StaticData.STORE_UP_NEED_NUM?n.storeUpPointDict[e+"_"+t+"_"+a]=!1:r.p4&&App.FK.hsx(r.p4)<r.p5?n.storeUpPointDict[e+"_"+t+"_"+a]=!1:n.storeUpPointDict[e+"_"+t+"_"+a]=!0)},e.prototype.checkEquipAllNum=function(){var e=this;e.storeEquipDict={};var t,n,i,r,a=App.FK.bagGroupDict[1]||{};for(var o in a)t=a[o],!t||t.quality!=aKF.KY&&t.quality!=aKF.PU||-1!=Iwrv.YJ.indexOf(t.sonType)&&QNV.masterType(t.TSF.tid)==Iwrv.CL&&(n=App.JP.getTurnupGrade(t.TSF.step),i=QNV.sonType(t.TSF.tid),r=t.TSF.star||0,e.storeEquipDict[n+"_"+r+"_"+i]?e.storeEquipDict[n+"_"+r+"_"+i]+=1:e.storeEquipDict[n+"_"+r+"_"+i]=1)},e.prototype.calcColoredEquipCap=function(){var e=this;e.coloredCap=0;for(var t,n,i,r={},a=App.FK.LHp(2),o=0;o<a.length;o++)t=a[o].TSF.suiteid,t&&(!(r[t]>=0)&&(r[t]=0),r[t]++,n=a[o].TSF.p1,i=XCA.YV(n),i&&(e.coloredCap+=i.p1));var s,p;for(p in r)s=XCA.QT(parseInt(p)),s&&(r[p]>=2&&(i=XCA.YV(s.p2),i&&(e.coloredCap+=i.p1)),r[p]>=5&&(i=XCA.YV(s.p5),i&&(e.coloredCap+=i.p1)))},e}();__reflect(_NR.prototype,"_NR");var StoryManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init(),t.initEvent()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._storyInfo=GObj.$c(StoryInfo)},e.prototype.initEvent=function(){},e.prototype.playStory=function(e,t,n){var i=this;i._storyInfo.currNameId!=e&&(-1!=i._storyInfo.curType&&i.storyComplete(),i._storyInfo.setStoryData(e)?(i._callFun=t,i._thisObj=n,i.gotoAndPlayNextStory(),vkG.$d(UtJ.VG)):t&&t.call(n))},e.prototype.gotoAndPlayNextStory=function(){var e=this,t=e._storyInfo.getNextInfo();if(!t)return void e.storyComplete();var n=t.type;switch(n){case StoryDefine.BN:e.playForceDialog(t);break;default:e.gotoAndPlayNextStory()}},e.prototype.playForceDialog=function(e){var t=this;t._forceDialogView=GObj.$c(ForceDialogView),t._forceDialogView.show(e,t.gotoAndPlayNextStory,t)},Object.defineProperty(e.prototype,"storyInfo",{get:function(){return this._storyInfo},enumerable:!0,configurable:!0}),e.prototype.storyComplete=function(){var e=this._callFun,t=this._thisObj;this.stopStory(),e&&e.call(t),e=null,t=null},e.prototype.skipStory=function(){this.storyComplete()},e.prototype.stopStory=function(){var e=this;e._storyInfo.cleanUp(),e._callFun=null,e._thisObj=null,GObj.$d(e._forceDialogView),e._forceDialogView=null,vkG.$d(UtJ.FM)},e}();__reflect(StoryManager.prototype,"StoryManager");var SupremeManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._supremeVO=GObj.$c(SupremeVO),e._supremeCardVO=GObj.$c(SupremeCardVO)},Object.defineProperty(e.prototype,"supremeVO",{get:function(){return this._supremeVO},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"supremeCardVO",{get:function(){return this._supremeCardVO},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(SupremeManager.prototype,"SupremeManager");var SvipManager=function(){function e(){this.vipIndex=0,this.isget=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._vipInfo=GObj.$c(SvipInfo),e._vipPrivilegeDic={},e.isPopup=!0},Object.defineProperty(e.prototype,"vipInfo",{get:function(){return this._vipInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vipGrade",{get:function(){return this._vipInfo.vipGrade},enumerable:!0,configurable:!0}),e.prototype.getPrivilegeByVipGrade=function(e){var t=this;e||(e=t._vipInfo.vipGrade);var n=t._vipPrivilegeDic[e];return n||(n=t.getVipPrivilegeInfo(e),t._vipPrivilegeDic[e]=n),n},e.prototype.getMinVipGradeByType=function(e){for(var t,n=-1,i=1;i<=MaxLevel.SVIP_MAX_LEVEL;i++)if(t=this.getPrivilegeByVipGrade(i),t[e]>0){n=i;break}return n},e.prototype.getVipPrivilegeInfo=function(e){var t={},n=XCA.AQS.UFA(20,1,e);if(n&&usable(n.p5))for(var i=n.p5.split("|"),r=void 0,a=0;a<i.length;a++)r=i[a].split(","),t[r[0]]=parseInt(r[1]);return t},e.prototype.getPrivilegeByVipGradeAndType=function(e,t){var n=this.getPrivilegeByVipGrade(e);return n[t]||0},e.prototype.getPrivilegeDescByType=function(e,t){var n="",i=rRcz.SS(45,!1);if(t)switch(e){case 1:i&&(n=fvg.GVf("privilege1"));break;case 2:n=fvg.GVf("privilege2",t);break;case 3:n=fvg.GVf("privilege3",t);break;case 4:n=fvg.GVf("privilege4",t);break;case 5:i&&(n=fvg.GVf("privilege5",t));break;case 6:i&&(n=fvg.GVf("privilege6",t));break;case 7:n=fvg.GVf("privilege7",t);break;case 8:i&&(n=fvg.GVf("privilege8",int(t/10)));break;case 9:i&&(n=fvg.GVf("privilege9",int(t/10)));break;case 10:n=fvg.GVf("privilege10",t);break;case 11:n=fvg.GVf("privilege11",t);break;case 18:t&&(n=fvg.GVf("privilege18"));break;case 19:n=fvg.GVf("privilege19",t);break;case 20:n=fvg.GVf("privilege20");break;case 21:n=fvg.GVf("privilege21",t);break;case 22:n=fvg.GVf("privilege26");break;case 23:n=fvg.GVf("privalege27",t);break;case 99:n=fvg.GVf("privilege99",t)}return n},e}();__reflect(SvipManager.prototype,"SvipManager");var SwordTombManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.getCurFloorReward=function(e,t){var n=XCA.CG(IDU.HJ);if(n){var i=n.split(QycO.XP).map(returnInt),r=GObj.$c(nlwj);return r.tid=i[0],r.count=i[1]*t.call(this,e),[r]}},e.prototype.raidCount=function(e){return int(20+2*e)},e.prototype.levelCount=function(e){return int(45+5*e)},e.prototype.continueFight=function(){var e=this;e.curMapId&&App.UY.enter(e.curMapId,!0)},Object.defineProperty(e.prototype,"curMapId",{get:function(){var e=0,t=App.MB.flyBossList,n=t[App.DX.curFloor];return n&&(e=n.TSF.mapid),e},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(SwordTombManager.prototype,"SwordTombManager");var TaiyiManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.taiyiMaster=0,e.taiyiMasterSubType=6,e.taiyiSubtype=7,e.taiyiInfo={},e.taiyiMasterInfo={}},e.prototype.getTaiyiGodGradeNum=function(e,t){for(var n=0,i=this.taiyiMasterInfo,r=0;4>r;r++){var a=i["g_"+(10*e+r+1)]||0;a>=t&&n++}return n},e.prototype.getTaiyiMasterGrade=function(e){var t=App.HL.taiyiInfo["ds_"+e]||0;return t},e.prototype.getMasterGrade=function(e,t){var n=this.taiyiInfo,i=n["ds_"+(e+1)]||0;return i},e._instance=null,e}();__reflect(TaiyiManager.prototype,"TaiyiManager");var TaskManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.taskVo=GObj.$c(TaskVO),e._taskDict={},e._taskDict[2]={},e._taskDict[3]={},e._taskDict[4]={},e._taskDict[5]={},e._taskDict[6]={},e._taskDict[7]={},e._taskDict[8]={},e.rankInfo=new Array,e.myrank=""},e.prototype.getTaskByIdAndType=function(e,t){var n=this._taskDict[t];return n?n[e]:null},e.prototype.updateTask=function(e){if(e){var t=this._taskDict[e.taskType];t&&!t[e.tid]&&(e.taskTemplate=XCA.BY(e.tid),t[e.tid]=e)}},e.prototype.getTaskListByType=function(e){return this._taskDict[e]},e.prototype.taskCompareFun=function(e,t){return e.isComp||t.isComp?e.isComp&&t.isComp?e.tid<t.tid?-1:1:e.isComp?1:-1:e.pro>=e.taskTemplate.maxValue&&t.pro>=t.taskTemplate.maxValue?e.tid<t.tid?-1:1:e.pro>=e.taskTemplate.maxValue||t.pro>=t.taskTemplate.maxValue?e.pro>=e.taskTemplate.maxValue?-1:1:e.tid<t.tid?-1:1},e._instance=null,e}();__reflect(TaskManager.prototype,"TaskManager");var TeamManager=function(){function e(){this.addHurt=10;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.state=0,e._myTeam=GObj.$c(MyTeamInfo),e._myTeam.reset()},Object.defineProperty(e.prototype,"myTeam",{get:function(){return this._myTeam},enumerable:!0,configurable:!0}),e.prototype.getMaxPlayerByType=function(e){switch(e){case 101:return 3}return 0},e}();__reflect(TeamManager.prototype,"TeamManager");var TipManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.getModuleName=function(e){var t=QycO.OK;switch(e){case 87:t=fvg.GVf("imm01");break;case 91:t=fvg.GVf("flysword8")}return t},e.prototype.createTipsVo=function(e,t,n,i){var r=GObj.$c(TipsVo);return r.skillType=e,r.immType=t,r.index=i,r.skillTemp=n,r},e.prototype.createTAdvanVo=function(e,t,n,i,r){var a=GObj.$c(TipsAdvancedVo);return a.skillAttrTemp=e,a.skinTemp=t,a.skillAttrId=n,a.index=i,a.isActive=r,a},e._instance=null,e}();__reflect(TipManager.prototype,"TipManager");var TownMagicManager=function(){function e(){this.sweepCount=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){},e.prototype.getCurFloorReward=function(e,t){var n=XCA.CG(IDU.MQT);if(!n)return[];for(var i=[],r=n.split(QycO.PK),a=0,o=r.length;o>a;a++){var s=r[a];if(s){var p=s.split(QycO.XP).map(returnInt),l=GObj.$c(nlwj);l.tid=p[0];var c=0===a?t.call(this,e):1;l.count=int(p[1]*c),i.push(l)}}return i},e.prototype.raidCount=function(e){return int(e/25+1)/2},e.prototype.levelCount=function(e){return int(e/25+1)},e.prototype.continueFight=function(){var e=this;e.curMapId&&App.UY.enter(e.curMapId,!0)},Object.defineProperty(e.prototype,"curMapId",{get:function(){return App.MB.townBossMapid()},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(TownMagicManager.prototype,"TownMagicManager");var TreasureManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return e.prototype.init=function(){var e=this;e._treasureInfo={},e.forgeArr=[],e.rateArr=[],e.clearArr=[],e.attrArr=[],e._bindInfo={},e.upstarArr=[],e.forgeGoodsList=[],e.forgeCount=0},Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treasureInfo",{get:function(){return this._treasureInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindInfo",{get:function(){return this._bindInfo},enumerable:!0,configurable:!0}),e.prototype.addTreasureGoods=function(e){this.forgeGoodsList.push(e)},e.prototype.clearForgeInfo=function(){var e=this;e.forgeGoodsList.splice(0,e.forgeGoodsList.length)},e.prototype.getTreasureByQuality=function(e){var t=this;if(!t.treasureQua){t.treasureQua={};var n=XCA.AQS.oVs(40),i=void 0,r=void 0;for(var a in n)i=n[a][1],r=aKF.MM,t.treasureQua[r]||(t.treasureQua[r]=[]),t.treasureQua[r].push(i),r=gLw.GM(i.tid),t.treasureQua[r]||(t.treasureQua[r]=[]),t.treasureQua[r].push(i)}return t.treasureQua[e]||[]},e.prototype.getBindByQuality=function(e){var t=this;if(!t.bindDic){t.bindDic={};var n=XCA.AQS.oVs(41),i=void 0,r=void 0;for(var a in n)i=n[a][1],r=aKF.MM,t.bindDic[r]||(t.bindDic[r]=[]),t.bindDic[r].push(i),r=gLw.GM(i.tid),t.bindDic[r]||(t.bindDic[r]=[]),t.bindDic[r].push(i)}return t.bindDic[e]||[]},e.prototype.compareFunBySort=function(e,t){var n=App.OG.treasureInfo[gLw.IQ(e.tid)],i=App.OG.treasureInfo[gLw.IQ(t.tid)],r=gLw.GM(e.tid),a=gLw.GM(t.tid);return n&&i?r>a?-1:r==a&&e.sort>t.sort?-1:1:n&&!i?-1:!n&&i?1:r>a?-1:r==a&&e.sort>t.sort?-1:1},e.prototype.getGradeTempByType=function(e){var t,n=this.treasureInfo[e]||0;for(0>=n&&(t=XCA.AQS.UFA(40,e,1));n>0&&(t=XCA.AQS.UFA(40,e,n),n--,!t););return t},e.prototype.getForgeNeedCountByCount=function(e){var t=this;if(t.forgeConfig||(t.forgeConfig=XCA.CG(IDU.GS),t.forgeConfig&&0==t.forgeArr.length&&(t.forgeArr=t.forgeConfig.split("|"))),t.forgeArr.length>0&&!t.forgeDic){var n=void 0,i=t.forgeArr.length;
t.forgeDic={};for(var r=0;i>r;r++)n=t.forgeArr[r].split(","),n.length>=2&&(t.forgeDic[n[0]]=parseInt(n[1]))}return t.forgeDic?t.forgeDic[e]||1:1},e.prototype.getSuccessRateByStarGrade=function(e){var t=this;if(t.rateConfig||(t.rateConfig=XCA.CG(IDU.NE),t.rateConfig&&0==t.rateArr.length&&(t.rateArr=t.rateConfig.split("|"))),t.rateArr.length>0&&!t.rateDic){var n=void 0,i=t.rateArr.length;t.rateDic={};for(var r=0;i>r;r++)n=t.rateArr[r].split(","),n.length>=2&&(t.rateDic[n[0]]=parseInt(n[1])/10)}return t.rateDic?t.rateDic[e]||0:0},e.prototype.getClearNeedCountByQua=function(e){var t=this;if(t.clearConfig||(t.clearConfig=XCA.CG(IDU.AR),t.clearConfig&&0==t.clearArr.length&&(t.clearArr=t.clearConfig.split("|"))),t.clearArr.length>0&&!t.clearDic){var n=void 0,i=t.clearArr.length;t.clearDic={};for(var r=0;i>r;r++)n=t.clearArr[r].split(","),n.length>=2&&(t.clearDic[n[0]]=parseInt(n[1]))}return t.clearDic?t.clearDic[e]||0:0},e.prototype.getAttrByStarGrade=function(e){var t=this;if(t.attrConfig||(t.attrConfig=XCA.CG(IDU.UG),t.attrConfig&&0==t.attrArr.length&&(t.attrArr=t.attrConfig.split("|"))),t.attrArr.length>0&&!t.attrDic){var n=void 0,i=t.attrArr.length;t.attrDic={};for(var r=0;i>r;r++)n=t.attrArr[r].split(","),n.length>=2&&(t.attrDic[n[0]]=parseInt(n[1])/10)}return t.attrDic?t.attrDic[e]||0:0},e.prototype.getUpstarCountByStarGrade=function(e){var t=this;if(t.upstarConfig||(t.upstarConfig=XCA.CG(IDU._C),t.upstarConfig&&0==t.upstarArr.length&&(t.upstarArr=t.upstarConfig.split("|"))),t.upstarArr.length>0&&!t.upstarDic){var n=void 0,i=t.upstarArr.length;t.upstarDic={};for(var r=0;i>r;r++)n=t.upstarArr[r].split(","),n.length>=2&&(t.upstarDic[n[0]]=parseInt(n[1]))}return t.upstarDic?t.upstarDic[e]||1:1},e.prototype.getStarAttrsByTemp=function(e,t){var n={},i=gLw.IQ(e.tid),r=App.OG.treasureInfo["s_"+i]||0;void 0!=t&&(r=t);var a=r>0?1:0,o=e.attrid+a,s=XCA.YV(o);if(s){var p=void 0,l=this.getAttrByStarGrade(r),c=void 0;for(p in xxf.UK)c=s[p]||0,c>0&&(c=l/100*c,n[p]=c)}return n},e._instance=null,e}();__reflect(TreasureManager.prototype,"TreasureManager");var TxBlueManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._txBlueInfo={}},Object.defineProperty(e.prototype,"isQQGame",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"txBlueInfo",{get:function(){return this._txBlueInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blueVipIcon",{get:function(){return null},enumerable:!0,configurable:!0}),e}();__reflect(TxBlueManager.prototype,"TxBlueManager");var ValentinesManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valentinesVo",{get:function(){return this._valentinesVo},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._valentinesVo=GObj.$c(ValentinesVo),e.isAutoGo=!1},e._instance=null,e}();__reflect(ValentinesManager.prototype,"ValentinesManager");var ViewSetManager=function(){function e(){singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.isViewId=function(e){return"number"==typeof e?!0:!1},e.prototype.getOpenUIDataTvoByVid=function(e){return StaticData.VIEW_OPEN_DATA[e]||{}},e.prototype.getVidArrByFid=function(e){var t=this.isViewId(e),n=App.VS.getViewDatByVid(e),i=[];if(n)for(var r=0,a=n;r<a.length;r++){var o=a[r];if(t){if(e===o.vid){i.push(o.vid);break}}else i.push(o.vid)}return i},e.prototype.getViewDataByVid=function(e){var t=App.VS.getViewDatByVid(e);if(t)for(var n=0,i=t;n<i.length;n++){var r=i[n];if(e===r.vid)return r}return{}},e.prototype.getOpenStateByVid=function(e){var t=App.GP.getViewDataByVid(e);return rRcz.O_(t,!1)},e.prototype.setFrameBtnVisable=function(e,t){var n=App.GP.getViewDataByVid(e);n.visable=t},e.prototype.updateDynamicFrame=function(e,t){for(var n=(App.IG,0),i=t.length;i>n;n++){var r=t[n],a=this.getViewDataByVid(r);a.fid=e}},e._instance=null,e}();__reflect(ViewSetManager.prototype,"ViewSetManager");var VipManager=function(){function e(){this.vipIndex=0,this.isget=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._vipInfo=GObj.$c(VipInfo),e._vipPrivilegeDic={}},Object.defineProperty(e.prototype,"vipInfo",{get:function(){return this._vipInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vipGrade",{get:function(){return this._vipInfo.vipGrade},enumerable:!0,configurable:!0}),e.prototype.vipRecvComplate=function(){var e=App.EO.vipGrade>=MaxLevel.VIP_MAX_GRADE&&App.EO.vipInfo.rewardState>=Math.pow(2,MaxLevel.VIP_MAX_GRADE)-1;return e},e.prototype.getPrivilegeByVipGrade=function(e){var t=this;e||(e=t._vipInfo.vipGrade);var n=t._vipPrivilegeDic[e];return n||(n=t.getVipPrivilegeInfo(e),t._vipPrivilegeDic[e]=n),n},e.prototype.getMinVipGradeByType=function(e){for(var t,n=-1,i=1;i<=MaxLevel.SVIP_MAX_LEVEL;i++)if(t=this.getPrivilegeByVipGrade(i),t[e]>0){n=i;break}return n},e.prototype.getVipPrivilegeInfo=function(e){var t={},n=XCA.AQS.UFA(20,1,e);if(n&&usable(n.p5))for(var i=n.p5.split("|"),r=void 0,a=0;a<i.length;a++)r=i[a].split(","),t[r[0]]=parseInt(r[1]);return t},e.prototype.getPrivilegeByVipGradeAndType=function(e,t){var n=this.getPrivilegeByVipGrade(e);return n[t]||0},e.prototype.getPrivilegeDescByType=function(e,t){var n="",i=rRcz.SS(45,!1);if(t)switch(e){case 1:i&&(n=fvg.GVf("privilege1"));break;case 2:n=fvg.GVf("privilege2",t);break;case 3:n=fvg.GVf("privilege3",t);break;case 4:n=fvg.GVf("privilege4",t);break;case 5:i&&(n=fvg.GVf("privilege5",t));break;case 6:i&&(n=fvg.GVf("privilege6",t));break;case 7:n=fvg.GVf("privilege7",t);break;case 8:i&&(n=fvg.GVf("privilege8",int(t/10)));break;case 9:i&&(n=fvg.GVf("privilege9",int(t/10)));break;case 10:n=fvg.GVf("privilege10",t);break;case 11:n=fvg.GVf("privilege11",t);break;case 18:t&&(n=fvg.GVf("privilege18"));break;case 19:n=fvg.GVf("privilege19",t);break;case 20:n=fvg.GVf("privilege20");break;case 21:n=fvg.GVf("privilege21",t);break;case 22:n=fvg.GVf("privilege26");break;case 23:n=fvg.GVf("privalege27",t);break;case 99:n=fvg.GVf("privilege99",t)}return n},e}();__reflect(VipManager.prototype,"VipManager");var VolverManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.logindays=0,e.loginaward=0,e.isVolver=!1,e.isFirst=!1,e.isShow=!1},e}();__reflect(VolverManager.prototype,"VolverManager");var WealthDishManager=function(){function e(){this.isplayingTenEffect=!1,this.lastRequestDate=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.getWealthdishVO=function(e){return void 0===e&&(e=1),this._wealthdishVOList[e]},e.prototype.init=function(){var e=this;e._wealthdishVOList=[],e._wealthdishVOList[1]=GObj.$c(WealthDishVO),e._wealthdishVOList[2]=GObj.$c(WealthDishVO),e._wealthdishVOList[3]=GObj.$c(WealthDishVO),e.skipTenEffect=!1},e.prototype.requestData=function(){var e=this;if(0==e.lastRequestDate||e.lastRequestDate<App.NN.serverSecond-300){ziI.MF("CorRecord");for(var t=1;3>=t;t++)RankMsgProxy.IU(FDG.QS+t);e.lastRequestDate=App.NN.serverSecond}},e._instance=null,e}();__reflect(WealthDishManager.prototype,"WealthDishManager");var WulinLeagueManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._memberList=GObj.$c(WulinLeagueListVo),e.flagInfo={},e.masterInfo=GObj.$c(WulinMemberVo),e.plist=[],e.redBagInfo=[],e.practiceInfo={},e._stuntInfo={},e._stuntSkillInfo={},e._knackAttrInfo={},e.attrInfo=[],e.wuShenTowerInfo={},e.wuShenPlunderInfo={},e.wuLinTreasuryInfo={},e.knackComTemp={},e.openDay=0},Object.defineProperty(e.prototype,"memberList",{get:function(){return this._memberList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"occupied",{get:function(){var e=this;return e._occupied||e.parseWuShenConfig(),e._occupied},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"replyCount",{get:function(){var e=this;return e._replyCount||e.parseWuShenConfig(),e._replyCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxStorey",{get:function(){var e=this;return e._maxStorey||e.parseWuShenConfig(),e._maxStorey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plunderCount",{get:function(){var e=this;return e._plunderCount||e.parseWuShenConfig(),e._plunderCount},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plunderMaxBuy",{get:function(){var e=this;return e._plunderMaxBuy||e.parseWuShenConfig(),e._plunderMaxBuy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plunderPoint",{get:function(){var e=this;return e._plunderPoint||e.parseWuShenConfig(),e._plunderPoint},enumerable:!0,configurable:!0}),e.prototype.parseWuShenConfig=function(){var e=this,t=XCA.CG(IDU._EM)||"500,2,100,10,10,500";if(usable(t)){var n=t.split(QycO.XP);e._occupied=parseInt(n[0])||0,e._replyCount=parseInt(n[1])||0,e._maxStorey=parseInt(n[2])||0,e._plunderCount=parseInt(n[3])||0,e._plunderMaxBuy=parseInt(n[4])||0,e._plunderPoint=parseInt(n[5])||0}},e.prototype.getBossNameByStorey=function(e){var t=this;t._bossNames||t.parseWuShenBossName();var n=(e-1)%t._bossNames.length;return t._bossNames[n]||""},e.prototype.parseWuShenBossName=function(){var e=this;e._bossNames={};for(var t=XCA.CG(IDU.LS)||"1, boss_name",n=t.split(QycO.PK),i=0;i<n.length;i++)e._bossNames[i]=n[i].split(QycO.XP)[1];e._bossNames.length=n.length},Object.defineProperty(e.prototype,"occTimes",{get:function(){return this._occTimes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stuntInfo",{get:function(){return this._stuntInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stuntSkillInfo",{get:function(){return this._stuntSkillInfo},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"knackAttrInfo",{get:function(){return this._knackAttrInfo},enumerable:!0,configurable:!0}),e.prototype.getOccupiedTime=function(){var e=this;if(!e._occTimes){e._occTimes=[];for(var t=XCA.CG(IDU.WM)||"43200,3600|60000,3600",n=t.split(QycO.PK),i=void 0,r=void 0,a=0;a<n.length;a++)i=n[a].split(QycO.XP),r={},r.st=parseInt(i[0])||0,r.ct=parseInt(i[1])||0,e._occTimes.push(r)}for(var o,s=0,p=App.NN.date,l=3600*p.getHours()+60*p.getMinutes()+p.getSeconds(),a=0;a<e._occTimes.length;a++){if(o=e._occTimes[a],l<o.st){s=o.st-l;break}if(l<o.st+o.ct){s=-1*(o.st+o.ct-l);break}}return 0==s&&(s=86400-l+e._occTimes[0].st),s},e.prototype.getOccIndex=function(){var e=this.occTimes[0],t=App.NN.date,n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds();return n>e.st+e.ct?1:0},Object.defineProperty(e.prototype,"taskActList",{get:function(){var e=this;if(!e._taskActList){var t=XCA.CG(IDU.IG)||"50,100,150,200";e._taskActList=t.split(QycO.XP)}return e._taskActList},enumerable:!0,configurable:!0}),e.prototype.getPracticeTempGrade=function(e){var t=this;return t._practiceDic||t.parseStuntTemp(),e=e||1,t._practiceDic[e]},e.prototype.parseStuntTemp=function(){var e=this;e._practiceDic={};var t,n,i,r=XCA.AQS.getGradeTempByMasTypeAndSubType(56,1);for(var a in r)if(i=r[a])for(t=parseInt(a),n=i.getgp;n>=t;t++)e._practiceDic[t]=i},Object.defineProperty(e.prototype,"practiceGrade",{get:function(){return this.practiceInfo[1]||0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"practiceStage",{get:function(){var e=this,t=e.getPracticeTempGrade(e.practiceGrade);return t?parseInt(t.p5)||0:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"knackComposeId",{get:function(){var e=[],t=XCA.CG(IDU.NX);return e=t.split(",")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getKnackTemp",{get:function(){for(var e=this,t=Iwrv.XWV,n=0;n<t.length;n++)e.knackComTemp[t[n]]=parseInt(e.knackComposeId[n]);return e.knackComTemp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"getTreasuryCon",{get:function(){var e=this;if(!e._treasuryCon){var t=XCA.CG(IDU.SHI)||"5,10,15,20";e._treasuryCon=t.split(QycO.XP)}return e._treasuryCon},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"treasuryNeed",{get:function(){var e=this;if(!e._treasuryNeed){var t=XCA.CG(IDU.HI)||"100,1000";e._treasuryNeed=t.split(QycO.XP)}return e._treasuryNeed},enumerable:!0,configurable:!0}),e.prototype.getStunt=function(){var e,t=XCA.AQS.oVs(58),n=[];for(var i in t)e=t[i][1],e&&n.push(e);return n||[]},e.prototype.haveOrHigherGrade=function(e,t){var n=App.FK.Fkl(10,t),i=n.length;if(1>i)return null;var r=0;e&&(r=QNV.OV(e.tid));for(var a,o,s,p,l=0;i>l;l++)a=n[l],a&&(s=QNV.OV(a.tid)),e&&0==l&&e.tid>0&&(o=e),p=QNV.OV(o?o.tid:0),s>p&&(o=a);return o&&e&&o.tid==e.tid&&(o=null),o},e.prototype.getCurrTypeKnackBySonType=function(e){for(var t,n,i=App.FK.Fkl(9,e),r=i.length,a=0;r>a;a++)t=i[a],n=t;return n},e.prototype.sortKnackArray=function(e,t){var n=QNV.OV(e.tid),i=QNV.OV(t.tid);return e.subType>t.subType?1:e.subType==t.subType?n>i?-1:1:-1},e._instance=null,e}();__reflect(WulinLeagueManager.prototype,"WulinLeagueManager");var MouseRollHandler=function(){function e(){this.overFilter=null,this.outFilter=null}return e.prototype.start=function(e){var t=this;t.m_||(t.m_=e,t.m_.touchEnabled=!0,t.addEvent())},Object.defineProperty(e.prototype,"target",{get:function(){return this.m_},enumerable:!0,configurable:!0}),e.prototype.addEvent=function(){var e=this;e.m_&&(e.m_.addEventListener(MouseUtJ.MOUSE_OVER,e.ed,e),e.m_.addEventListener(MouseUtJ.MOUSE_OUT,e.ov,e),e.m_.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.mr,e))},e.prototype.removeEvent=function(){var e=this;e.m_&&(e.m_.removeEventListener(MouseUtJ.MOUSE_OVER,e.ed,e),e.m_.removeEventListener(MouseUtJ.MOUSE_OUT,e.ov,e),e.m_.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.mr,e))},e.prototype.mr=function(e){this.ov(null)},e.prototype.ed=function(e){var t=this;t.m_&&(t.m_.filters=t.overFilter)},e.prototype.ov=function(e){var t=this;t.m_&&(t.m_.filters=t.outFilter)},e.prototype.recycle=function(){var e=this;e.removeEvent(),e.m_=null},e.prototype.dispose=function(){this.recycle()},e}();__reflect(MouseRollHandler.prototype,"MouseRollHandler",["ICache"]);var MouseRollManager=function(){function e(){this._highlightMatrix=[1,0,0,0,50,0,1,0,0,50,0,0,1,0,50,0,0,0,1,0];var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._rollArr=[],e._highlightFilter=GObj.$c(egret.ColorMatrixFilter,e._highlightMatrix),e._dropShadowFilter=GObj.$c(egret.DropShadowFilter),e._dropShadowFilter.distance=8,e._dropShadowFilter.angle=45,e._dropShadowFilter.color=0,e._dropShadowFilter.alpha=.8,e._dropShadowFilter.blurX=16,e._dropShadowFilter.blurY=16,e._dropShadowFilter.strength=1,e._dropShadowFilter.quality=1,e._dropShadowFilter.inner=!1,e._dropShadowFilter.knockout=!1,QycO.YV||hCs.stage&&MouseDelegate.enable(hCs.stage)},e.prototype.add=function(e){var t=this;if(!QycO.YV&&e&&t._rollArr){for(var n=0,i=t._rollArr;n<i.length;n++){var r=i[n];if(r.target===e)return}var a=GObj.$c(MouseRollHandler);a.outFilter=null,a.overFilter=[t._highlightFilter],a.start(e),t._rollArr.push(a)}},e.prototype.remove=function(e){var t=this;if(!QycO.YV&&e&&t._rollArr)for(var n=t._rollArr.length,i=n-1;i>=0;i--){var r=t._rollArr[i];r.target===e&&(GObj.$d(r),t._rollArr.splice(i,1))}},e}();__reflect(MouseRollManager.prototype,"MouseRollManager");var SocketManager=function(){function e(){this.cross_flag=1,this._events=0,this._cacheList=[],this._htRet=!0,this._ping=0,this.chat_ht_interval=3e4,this._reopen=3e3,this._ht_interval=5e3;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e._eventDict={},e._chatCodeDict={},e._chatCodeDict[9997]=!0,e._chatCodeDict[9995]=!0,e._gameSocket=new GSocket(e.dispatchEvent,e),e._gameSocket.closeCall=e.gameCloseHandler,e._gameSocket.flag="game",e._chatSocket=new GSocket(e.dispatchEvent,e),e._chatSocket.flag="chat",vkG.$a(UtJ.SE,e.__serverHeartbeatHandler,e),vkG.$a(HUtJ.HEARTBEAT,e.__heartbeatHandler,e),vkG.$a(UtJ.WGA,e.__reConnHandler,e)},e.prototype.__reConnHandler=function(){},e.prototype.__serverHeartbeatHandler=function(){var e=this;e._htRet=!0,e._htTime=GApp.timer,e._pingTime&&(e._ping=egret.getTimer()-e._pingTime)},e.prototype.__heartbeatHandler=function(){var e=this;return e._chatSocket&&GApp.timer-e._chatSocket.lastSendTime>=e.chat_ht_interval&&e._chatSocket.sendData(9996,{}),e._htTime&&!e._reopenStop?e._htRet?void(GApp.timer-e._htTime<e._ht_interval||e.sendHeartbeat()):void(GApp.timer-e._htTime>=e._reopen&&(e._htTime=GApp.timer,e._htRet=!0,e.gameCloseHandler())):void 0},e.prototype.sendHeartbeat=function(){var e=this;e._htRet=!1,e._pingTime=GApp.timer,e._htTime=GApp.timer,e._gameSocket.sendData(20003,{})},e.prototype.PpQ=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=this,a={};if(0!=t&&(a.op=t),n)for(var o=n.length,s=1;o>=s;s++)a["p"+s]=n[s-1];r._chatCodeDict[e]?r._chatSocket.connected?r._chatSocket.sendData(e,a):MessageTipManager.instance.show(fvg.GVf(29)):r._gameSocket.sendData(e,a)},e.prototype.openGame=function(e,t,n){var i=this,r="ws://";if(QycO.TJ){if(r="wss://",!t||!n)return void console.error("error:port="+t+",gateurl="+n);r=r+n+"/ws/?host="+e+"&port="+t,i._gameSocket.reopenKey="&r=1"}else r=t?r+e+":"+t+"/ws":r+e+"/ws",i._gameSocket.reopenKey="?r=1";i._gameSocket.defSend={code:1,data:{uid:PlayerManager.instance.jkU.uid,key:LoginManager.instance.loginKey}},i._gameSocket.reopenSend={code:1,data:{uid:PlayerManager.instance.jkU.uid,key:LoginManager.instance.loginKey,r:1}},i._gameSocket.connectByUrl(r)},e.prototype.openChat=function(e,t){var n=this;if(e){var i="ws://";if(QycO.TJ&&(i="wss://"),t){var r=App.KF.uid||0;t=(t||0)+r%2,i=i+e+":"+t+"/?key="+LoginManager.instance.loginKey}else i=i+e+"/?key="+LoginManager.instance.loginKey;n._chatSocket.reopenKey="&r=1",n._chatSocket.autoConnect=!0,n._chatSocket.connectByUrl(i)}},e.prototype.start=function(){var e=this;if(e._isCache=!1,e._cacheList){for(var t=e._cacheList.length,n=void 0,i=0;t>i;i++)n=e._cacheList[i],e.dispatchEvent(n.code,n.body);e._cacheList.length=0}e._htTime=GApp.timer},e.prototype.close=function(){var e=this;e._gameSocket&&(e._gameSocket.autoConnect=!1,e._gameSocket.close()),e._chatSocket&&(e._chatSocket.autoConnect=!1,e._chatSocket.close())},e.prototype.stop=function(){this._isCache=!0},e.prototype.gameCloseHandler=function(){var e=this;return QycO.BJR?void(e._reopenStop=!0):void(e._gameSocket&&(e._gameSocket.reopen()||(e._reopenStop=!0,App.VS.closeAll())))},e.prototype.__gameSocketData=function(e,t){var n=this;n._reopening&&(n.__serverHeartbeatHandler(),n._reopening=!1),n.dispatchEvent(e,t)},e.prototype.dispatchEvent=function(e,t){var n=this;if(n._isCache)return void(n._cacheList&&n._cacheList.push({code:e,body:t}));var i=n._eventDict[e];if(i){var r=i.length;if(0!=r){n._events+=1;for(var a=0;r>a;a++){var o=i[a];o.listener.call(o.thisObject,t)}n._events-=1}}},e.prototype.addEventListener=function(e,t,n){var i=this,r=i._eventDict[e];r?0!=i._events&&(i._eventDict[e]=r=r.concat()):r=i._eventDict[e]=[];for(var a,o=r.length,s=0;o>s;s++)if(a=r[s],a.listener==t&&a.thisObject==n)return;a={type:e,listener:t,thisObject:n},r.push(a)},e.prototype.removeEventListener=function(e,t,n){var i=this,r=i._eventDict[e];if(r){0!=i._events&&(i._eventDict[e]=r=r.concat());for(var a=r.length,o=0;a>o;o++){var s=r[o];if(s.listener==t&&s.thisObject==n)return void r.splice(o,1)}}},e.prototype.isConnected=function(){var e=this;return e._gameSocket?e._gameSocket.connected:!1},e}();__reflect(SocketManager.prototype,"SocketManager");var FakeRedPointManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.redDic={}},e.prototype.addRed=function(e,t,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.redDic[e]={eventList:t,redFun:n,params:i}},e.prototype.add=function(e,t,n){for(var i=this,r=App.GP.getVidArrByFid(e),a=0,o=r.length;o>a;a++){var s=r[a];i.$add(s,t,n)}},e.prototype.remove=function(e,t,n){for(var i=this,r=App.GP.getVidArrByFid(e),a=0,o=r.length;o>a;a++){var s=r[a];i.$remove(s,t,n)}},e.prototype.getRedById=function(e){for(var t=App.GP.getVidArrByFid(e),n=0,i=t.length;i>n;n++){var r=t[n];if(!App.GP.getOpenStateByVid(r)&&0===n)return"";if(this.$getRedById(r))return StaticData.GHj}return""},e.prototype.$add=function(e,t,n){var i=this,r=i.redDic[e];if(r)for(var a=r.eventList,o=0,s=a;o<s.length;o++){var p=s[o];i.isLegalEvent(p)&&vkG.$a(p,t,n)}},e.prototype.$remove=function(e,t,n){var i=this,r=i.redDic[e];if(r)for(var a=r.eventList,o=0,s=a;o<s.length;o++){var p=s[o];i.isLegalEvent(p)&&vkG.$r(p,t,n)}},e.prototype.$getRedById=function(e){var t=this.redDic[e];if(!t)return"";var n=t.redFun,i=n.apply(null,t.params);return i?StaticData.GHj:""},e.prototype.isLegalEvent=function(e){return e===HUtJ.HEARTBEAT?!1:!0},e._instance=null,e}();__reflect(FakeRedPointManager.prototype,"FakeRedPointManager");var LeafNode=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(BaseNode);__reflect(LeafNode.prototype,"LeafNode");var NodeTree=function(){function e(){this.et={},this.xh()}return e.prototype.xh=function(){},e.prototype.addNode=function(e,t){var n=this;if(t)for(var i=n.vf(e),r=0,a=t;r<a.length;r++){var o=a[r],s=n.zk(o);n.ci(i,s)}},e.prototype.getRootNodeResultById=function(e){var t={state:!1},n=this.et[e];return n?(t.state=n.getNodeState(),t):t},e.prototype.add=function(e,t,n){vkG.$a(BaseNode.EventStr+e,t,n)},e.prototype.remove=function(e,t,n){vkG.$r(BaseNode.EventStr+e,t,n)},e.prototype.ci=function(e,t){e.$addChildData(t),t.$addParent(e)},e.prototype.zk=function(e){var t=this,n=t.et[e];return n||(n=GObj.$c(BaseNode,e),t.et[e]=n),n},e.prototype.vf=function(e){var t=this,n=t.et[e];if(n)throw Error("nodeId:"+e);return n=GObj.$c(BaseNode,e),t.et[e]=n,n},e}();__reflect(NodeTree.prototype,"NodeTree");var RedConst=function(){function e(){}return e.FM="Super",e}();__reflect(RedConst.prototype,"RedConst");var RedPointManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this.redpointTree=GObj.$c(NodeTree)},e.prototype.addRed=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.redpointTree.addNode(e,t)},e.prototype.add=function(e,t,n){var i=this;i.redpointTree.add(e,t,n)},e.prototype.remove=function(e,t,n){var i=this;i.redpointTree.remove(e,t,n)},e.prototype.getRedById=function(e){var t=this.redpointTree.getRootNodeResultById(e),n=t.state;return n?StaticData.GHj:""},e._instance=null,e}();__reflect(RedPointManager.prototype,"RedPointManager");var HitalkSDKManager=function(){function e(){this.channel="",this.connectTimes=0,singleton(e._instance),e._instance=this}return Object.defineProperty(e,"isHidePayUI",{get:function(){return e._isHidePayUI},set:function(t){e._isHidePayUI!==t&&(e._isHidePayUI=t,vkG.$d(UtJ.YJ))},enumerable:!0,configurable:!0}),e.isIos=function(){return"IOS"==egret.Capabilities.os.toLocaleUpperCase()?!0:!1},Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;hitalk&&(e.channel=hitalk.curPlatform),e.initSDK()},e.prototype.initSDK=function(){var e=this;e.initGZHReward(),vkG.$a(UtJ.TM,e.initGamePayState,e),e.initSubscribe(),e.initGmaeOnShowHide()},e.prototype.initGZHReward=function(){this.getIsFocus()&&0==(2&App.VX.rewardState)&&(NXr.ON(pba.EZ),console.log(""))},e.prototype.initGamePayState=function(){var e=this,t={level:App.KF.grade||999,mission:App.KF.chapter||999,behavior:!!App.KF.canCharge};hitalkOpenSdk.isOpenGamePay(t,e.updateGamePayState,e)},e.prototype.updateGamePayState=function(t){e.isHidePayUI=!t},e.prototype.initSubscribe=function(){var e=this;if(e.isOpenSubscribe()){var t=e.isSubscribe();NXr.OI(t)}},e.prototype.collection=function(e,t){hitalkOpenSdk.collection(e,t)},e.prototype.shareMessage=function(e,t){var n=this,i={shareUID:0};i.shareUID=App.KF.uid,n.sharedSuccessCallback=e,n.sharedSuccessThisobj=t,hitalkOpenSdk.shareMessage(n.__sharedSuccessHandler,this,i)},e.prototype.__sharedSuccessHandler=function(e){var t=this;e&&0===e.retCode&&Alert.WK(fvg.GVf("share44_1")),t.sharedSuccessCallback&&t.sharedSuccessThisobj&&t.sharedSuccessCallback.call(t.sharedSuccessThisobj,e),t.sharedSuccessCallback=null,t.sharedSuccessThisobj=null},e.prototype.sendCreatChare=function(e){return App.JA.writeCanPay()?App.JA.authenCanPay((e.total_fee||0)/100)?IoG.EZ()?void msgTip(fvg.GVf("public101")):(hitalkOpenSdk.assemblePayParam(e),console.log(":"+JSON.stringify(e)),void App.BX.PpQ(48,void 0,void 0,void 0,e)):void msgTip(fvg.GVf("realname10")):void msgTip(fvg.GVf("realname11"))},e.prototype.dealChargeInfo=function(e){var t=this;e.c&&e.p?hitalkOpenSdk.gamePay(e.p,t.gamePayCallback,t):msgTip(fvg.GVf("recharge007"))},e.prototype.gamePayCallback=function(e){e&&0==e.retCode?(Alert.WK("",fvg.GVf("5"),Alert.EX),vkG.$d(UtJ.AI)):e&&2==e.retCode?Alert.WK("",fvg.GVf("5"),Alert.EX):Alert.WK("",fvg.GVf("5"),Alert.EX)},e.prototype.reportCreate=function(){var e=this.getReportTvo();hitalkOpenSdk.reportUserRegister(e)},e.prototype.reporteLogin=function(){var e=this.getReportTvo();hitalkOpenSdk.reportUserLogin(e)},e.prototype.reportVipLevel=function(){var e=this.getReportTvo();hitalkOpenSdk.reportVipLevel(e)},e.prototype.reportLevelUp=function(){var e=this.getReportTvo();hitalkOpenSdk.reportUserLevelUp(e)},e.prototype.getReportTvo=function(){var e={};return e.uid=App.KF.uid,e.rolename=App.KF.name,e.rolelevel=App.KF.grade,e.vipLevel=App.XT.vipInfo.vipGrade||0,e.serverID=App.KF.serverID,e.serverName=LoadingConst.SERVER_NAME,e.time=App.NN.serverSecond,e.roleturnup=App.BG.turnupInfo.grade,e.moneyNum=App.KF.point||0,e.familyName=App.XW.familyInfo.n||"",e.familyID=App.XW.familyInfo.id,e.cap=App.BG.playerAttrsInfo.cap||0,e},e.prototype.isOpenShare=function(){return hitalkOpenSdk.isOpenShare()},e.prototype.isOpenCollection=function(){return hitalkOpenSdk.isOpenCollection()},e.prototype.isOpenSubscribe=function(){return hitalkOpenSdk.isOpenSubscribe()},e.prototype.isOpenAuthen=function(){return hitalkOpenSdk.isOpenAuthen()},e.prototype.showAuthen=function(e){hitalkOpenSdk.showAuthen(e)},e.prototype.authenState=function(){return hitalkOpenSdk.AuthenState()},e.prototype.userAge=function(){var e=this.authenState();return e?e.age||18:18},e.prototype.isAdult=function(){var e=this.authenState();return e?0===e.status:!0},e.prototype.isWriteRealName=function(){var e=this.authenState();return e?2!==e.status:!0},e.prototype.isOpenShowFocus=function(){return hitalkOpenSdk.isOpenShowFocus()},e.prototype.getIsFocus=function(){return hitalkOpenSdk.getIsFocus()},e.prototype.showFocus=function(){hitalkOpenSdk.showFocus()},e.prototype.isSubscribe=function(){return hitalkOpenSdk.isSubscribe()},e.prototype.subscribe=function(e,t){hitalkOpenSdk.subscribe(e,t)},e.prototype.openSetting=function(e,t){hitalkOpenSdk.openSetting(e,t)},e.prototype.setClipboardData=function(e,t,n){hitalkOpenSdk.setClipboardData(e,t,n)},e.prototype.isMobile=function(){return QycO.YV},e.prototype.getShareRecommend=function(){return hitalkOpenSdk.getShareRecommend()},e.prototype.shareRecommend=function(e){hitalkOpenSdk.shareRecommend(e)},e.prototype.isOpenRecomend=function(){if(!this.isWXminiChannel())return!1;var e=hitalkOpenSdk.getShareRecommend();return e&&0!==e.length?!0:!1},e.prototype.initGmaeOnShowHide=function(){hitalkOpenSdk.gameOnShow(function(e,t,n,i){var r=e;return console.info("gameOnShow:"+e),r&&1007==r.scene?void msgTip(fvg.GVf("share5")):r&&1008==r.scene?void App.NG.shareClick(r):r&&1104==r.scene?(window.enterSceneId=r.scene,void App.VS.closeAll()):r&&1131==r.scene?(window.enterSceneId=r.scene,void App.VS.closeAll()):void 0})},e.prototype.shareClick=function(e){var t=this;console.info("shareClick:"+JSON.stringify(e)),e.query&&e.query.shareUID==(window.hitalkOpenSDK&&window.hitalkOpenSDK.snOpenId)&&(console.info(""),App.BX.isConnected()?(console.log("Socket"),App.NG.shareSuccess()):(console.log("Socket"),t.connectTimes=0,setTimeout(t.waitSend.bind(t),3e3)),console.info(e.query))},e.prototype.waitSend=function(){var e=this;return e.connectTimes++,App.BX.isConnected()?void App.NG.shareSuccess():(e.connectTimes<4&&(setTimeout(e.waitSend.bind(e),3e3),console.log(",3")),void console.log("waitSend:END"))},e.prototype.shareSuccess=function(){var e={retCode:0};App.NG.__sharedSuccessHandler(e)},e.prototype.goCustomerService=function(){hitalkOpenSdk.goCustomerService()},e.prototype.isQQminiChannel=function(){return window.hitalkOpenSDK?"h0035"===window.hitalkOpenSDK.snKey:void 0},e.prototype.isWXminiChannel=function(){return window.hitalkOpenSDK?"h0011"===window.hitalkOpenSDK.snKey:void 0},e.prototype.isWxCollectionScene=function(){return 1089===window.enterSceneId},e.prototype.isWxFloatScene=function(){return 1131===window.enterSceneId},e.prototype.getChargePointStr=function(){var e;return e=App.NG.isWXminiChannel()?XCA.CG(IDU.ZV):XCA.CG(IDU.TP)},e.prototype.getCardPointStr=function(){var e;return e=App.NG.isWXminiChannel()?XCA.CG(IDU.LC):XCA.CG(IDU.JY)},e._isHidePayUI=!1,e}();__reflect(HitalkSDKManager.prototype,"HitalkSDKManager");
var OpenUrlConst=function(){function e(){}return e.TRIBES_URL="https://buluo.qq.com/p/barindex.html?bid=412918",e.GMAE_CENTER_URL="https://iwan.qq.com/fun/mindex?ADTAG=txsp.wd.xyx&hidetitlebar=1&autoplay=1",e.DOWNLOAD_MINI_CLIENT="https://h5.qzone.qq.com/h5plus/download/1108056014?_wv=1025&via=H5.APP.YOUXINEI&autoDownload=1&hideDemo=1&newDownload=1",e.QQPK_URL="http://m.egame.qq.com/download/app?channel=h5ldy2&type=act&url=qgameapi%3A%2F%2Fbrowser%3Furl%3Dhttp%253A%252F%252Fcdn.egame.qq.com%252Fgame-weex%252Fpage%252FdetailV2.html%253Fappid%253D1108056014%2526_pggwv%253D8%2526_wv%253D1%2526v%253D20180730%2526ADTAG%253Dkjldy%26weex%3Dhttp%253A%252F%252Fcdn.egame.qq.com%252Fgame-weex%252Fweex%252FdetailV2%252Fapp.js%253Fappid%253D1108056014%2526_pggwv%253D8%2526_wv%253D1%2526v%253D20180730%2526ADTAG%253Dkjldy",e.XINYUE_URL="http://xinyue.qq.com/act/a20181130xyh5game/index.html",e.BODONG_URL="https://youxi.vip.qq.com/m/act/91ad13fb14_readcomic_382616.html?_wv=1&_wwv=4",e.BLUE_DIAMOND_URL="http://gamevip.qq.com/?ADTAG=VIP.WEB.MHXX",e.QQ_MINI_JUMP_URL="http://mqqapi//microapp/open?mini_appid=1108056014&fakeUrl=https://m.q.qq.com/a/s/e99fb1b1b31242d448483032b1883d05&xcxPath=miniGamePath&xcxSourceType=1",e.WANBA_JUMP_URL="https://h5.qzone.qq.com/app/open/1108056014/home?app_display=0&_happ=1&_proxy=1&_wv=145191&pf=wanba_ts.9&via=H5.SHARE.QZONEFEEDS&fromqqmini=1",e.VIDEO_DOWN_URL="http://dldir1.qq.com/qqtv/qt/QQliveSetup_20_835.exe",e.SINGLE_DAY_URL="https://mobile.qzone.qq.com/l?g=8001",e}();__reflect(OpenUrlConst.prototype,"OpenUrlConst");var XianLaiUtil=function(){function e(){}return e.Y_=function(e){var t=e;return t},e.ZO=function(e){return e},e.UN=function(e){var t=!1,n=e;return n+(t?QycO.WO:"")},e}();__reflect(XianLaiUtil.prototype,"XianLaiUtil");var EffectSound=function(){function e(){this.init()}return e.prototype.init=function(){var e=this;e.mc=GObj.$c(egret.Sound),e.mc.type=egret.Sound.EFFECT,e.mc.addEventListener(egret.Event.COMPLETE,e.xp,e),e.mc.addEventListener(egret.IOErrorEvent.IO_ERROR,e["if"],e)},e.prototype.play=function(e,t){void 0===t&&(t=!1);var n=this;if(usable(e)){if(n.qj==e&&n.zl)return void n.mv();if(t){if(htg.debug("preload"+e),n.jy==e)return;return n.rc=!0,n.p_=!1,n.jy=e,void n.mc.load(PATH.NK+e)}return n.qj=e,n.jy==e&&n.p_?void n.mv():void n.mc.load(PATH.NK+e)}},e.prototype.mv=function(){var e=this;e.zl&&e.zl.stop(),e.zl=e.mc.play(0,1)},e.prototype.xp=function(e){var t=this;return t.rc?(t.rc=!1,void(t.p_=!0)):void t.mv()},e.prototype["if"]=function(e){},e.prototype.dispose=function(){var e=this;e.zl&&e.zl.stop(),e.zl=null,e.mc&&e.mc.close(),e.mc=null},e}();__reflect(EffectSound.prototype,"EffectSound");var CrossHarryScene=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.createScene=function(){e.prototype.createScene.call(this),this._stop=!1},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.start=function(){},t.prototype.__enterOverHandler=function(e){e&&e.mapid&&this._mapId==e.mapid&&ClockManager.setTimeout(this.$start,this,400)},t.prototype.actionOverHandler=function(){this._stop||this._battleObiter.actionNext()||(this.Ljd.selectedFoe=this._battleObiter.selected(),this._battleObiter.actionNext())},t.prototype.dispose=function(){MapMsgProxy.ED(),e.prototype.dispose.call(this)},t}(BattleScene);__reflect(CrossHarryScene.prototype,"CrossHarryScene");var MapHelps=function(){function e(){}return e.QQ=function(e,t){if(3!=e)return!1;var n=App.UY.sceneType;switch(n){case 10:case 7:case 5:case 101:case 102:case 103:case 13:case 15:case 36:case 2:case 44:case 42:case 43:case 45:return!1}return!0},e.FS=function(e){switch(e){case BossNodeType.CJ:case BossNodeType.IC:case BossNodeType.UC:case BossNodeType.ZOP:return!0}return!1},e.RP=function(e,t){var n=t.x,i=t.y,r=e.x,a=e.y,o=StaticData.ROLE_ATTACK_DIS,s=GMath.distance(r,a,n,i)-1;return s>o?!1:!0},e.EP=function(e,t,n){if(void 0===n&&(n=4),!e||!t)return!0;var i=t.x,r=t.y,a=e.x,o=e.y,s=StaticData.ROLE_ATTACK_DIS,p=GMath.distance(a,o,i,r)-1;if(p>s){var l=GMath.towards(a,o,i,r,s-15),c={x:int(l.x),y:int(l.y)};return p<=StaticData.ROLE_SPRINT_DIS&&p>=StaticData.ROLE_SPRINT_DIS_MIN&&(c.a=n),e.paths=[c],!1}return!0},e}();__reflect(MapHelps.prototype,"MapHelps");var NewbieScene=function(e){function t(){var t=e.call(this)||this;return t._nodeLen=0,t._lockCamera=!0,t}return __extends(t,e),t.prototype.start=function(){e.prototype.start.call(this),RightToolsBar.instance.hide()},t.prototype.createScene=function(){e.prototype.createScene.call(this),this._mapData&&((this._mapData.cx||this._mapData.cy)&&this.initCamera(this._mapData.cx,this._mapData.cy),this._playerNodes=this._mapData.role.nodes,this._nodeLen=this._playerNodes.length,this._nodeIndex=0),rRcz.SS(67,!1)&&(this.skipBtn=GObj.$c(eui.Button),this.skipBtn.skinName=RRUU.$s("NewbieSceneSkin"),this.skipBtn.horizontalCenter=0,this.skipBtn.bottom=200,this.skipBtn.visible=!1,App.FT.addToLayer(this.skipBtn,alvJ.YN)),this._stop=!1},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),this.skipBtn&&this.skipBtn.addEventListener(eui.tep,this.__skipBtnClickHandler,this),vkG.$a(UtJ.IW,this.__intoWorldHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),this.skipBtn&&this.skipBtn.removeEventListener(eui.tep,this.__skipBtnClickHandler,this),vkG.$r(UtJ.IW,this.__intoWorldHandler,this)},t.prototype.$start=function(){this._stop=!1,IntoWorldFrame.QB()},t.prototype.__intoWorldHandler=function(){this.actionOverHandler()},t.prototype.__skipBtnClickHandler=function(e){Alert.WK(fvg.GVf("public056"),void 0,void 0,this.__confirmSkipHandler,this)},t.prototype.__confirmSkipHandler=function(){App.KF.newbie||(PlayerManager.instance.noviceProgress(ProgressType.XT),this.stop(),App.BX.PpQ(76,void 0),this.hideSkipBtn(),App.KF.skipStory=!0,iWw.instance.dispose(),ChangeNamesPopUi.CC())},t.prototype.actionOverHandler=function(){if(!this._stop){if(this._nodeIndex>=this._nodeLen){if(App.KF.newbie)return;if(PlayerManager.instance.noviceProgress(ProgressType.JM),this.skipBtn.visible=!1,this._mapData&&this._mapData.end){var e=GObj.$c(MapEndEffect);return void e.show(this._mapData.end)}return void ChangeNamesPopUi.CC()}var t=this._playerNodes[this._nodeIndex];if(t.stopAtk||!this._battleObiter.actionNext(!1)){t.lock&&(this._lockCamera=!0);var n=!1;if(t.movecx||t.movecy)this.toCamera(t.movecx,t.movecy);else if(t.story)StoryManager.instance.playStory(t.story,this.callCompleteHandler,this);else if(t.guide)fNs.instance["do"](t.guide,this.callCompleteHandler,this);else if(t.dropskillId)vkG.$a(UtJ.MOJ,this.__getsSkillHandler,this),App.BX.PpQ(76,void 0);else if(t.fristcharge){var i=GObj.$c(fHq);i.type=fHq.QC,i.data=kLM.UR("frist_recharge");var r=GObj.$c(FuncOpenView);r.addEventListener(UtJ.ST,this.__fristchargeOver,this),r.show(i),TopToolsBar.instance.show()}else if(t.atkid&&t.skillid){this._battleObiter.attackFake(t.atkid,t.skillid);var a=t.delay||1e3;ClockManager.setTimeout(this.actionOverHandler,this,a)}else t.paths||(n=!0);this._battleObiter.toNode(this._nodeIndex),this._nodeIndex++,PlayerManager.instance.noviceProgress(100+this._nodeIndex),n&&this.actionOverHandler()}}},t.prototype.callCompleteHandler=function(){var e=this;vkG.$r(UtJ.MOJ,this.callCompleteHandler,this),setTimeout(function(){e.actionOverHandler()})},t.prototype.__getsSkillHandler=function(){this.callCompleteHandler(),this.skipBtn&&(this.skipBtn.visible=!0)},t.prototype.__fristchargeOver=function(e){e.target.removeEventListener(UtJ.ST,this.__fristchargeOver,this),this.callCompleteHandler()},t.prototype.toCamera=function(e,t){e=e||0,t=t||0,this._tcx=e,this._tcy=t,this._lockCamera=!1,this._cameraDist=GMath.distance(this._cx,this._cy,e,t);var n=this._cameraDist/StaticData.CAMERA_MOVE_SPEED;this._stepx=(e-this._cx)/n,this._stepy=(t-this._cy)/n},t.prototype.initCamera=function(e,t){e=e||0,t=t||0,this._lockCamera=!1,this.moveCamera(e,t)},t.prototype.moveMap=function(){if(this._lockCamera)e.prototype.moveMap.call(this);else if(this._cameraDist>0){if(this._cameraDist-=StaticData.CAMERA_MOVE_SPEED,this._cameraDist<=0)return this._cameraDist=0,this.moveCamera(this._tcx,this._tcy),void this.actionOverHandler();this.moveCamera(this._cx+this._stepx,this._cy+this._stepy)}},t.prototype.__enterFrameHandler=function(){e.prototype.__enterFrameHandler.call(this)},t.prototype.hideSkipBtn=function(){this.skipBtn&&(GObj.$d(this.skipBtn),this.skipBtn=null)},t.prototype.dispose=function(){this.stop(),this._playerNodes=null,e.prototype.dispose.call(this),this.hideSkipBtn(),fNs.instance["do"](hXS.OX)},t}(BattleScene);__reflect(NewbieScene.prototype,"NewbieScene");var PvpScene=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.actionOverHandler=function(){this._stop||this._battleObiter.actionNext()},t}(MultiScene);__reflect(PvpScene.prototype,"PvpScene");var TestScene=function(e){function t(){var t=e.call(this)||this;return t.nodeIndex=0,t}return __extends(t,e),t.prototype.actionOverHandler=function(){var e=this._mapData.role.nodes,t=e.length;this.nodeIndex=this.nodeIndex>=t?0:this.nodeIndex;var n=e[this.nodeIndex];this.Ljd&&n.paths&&(this.Ljd.paths=n.paths.concat(),this.Ljd.nodeEnd()),this.nodeIndex++},t}(BattleScene);__reflect(TestScene.prototype,"TestScene");var CloakPart=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t.prototype,"action",{get:function(){return this._action},set:function(e){e=irK.ACTION_WALK,this._action!=e&&(this._action=e,this.updateState())},enumerable:!0,configurable:!0}),t.prototype.updateState=function(){e.prototype.updateState.call(this)},t}(AvatarPart);__reflect(CloakPart.prototype,"CloakPart");var FollowPart=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t.prototype,"action",{get:function(){return this._action},set:function(e){e===irK.ACTION_WALK&&(e=irK.ACTION_STAND),this._action!=e&&(this._action=e,this.updateState())},enumerable:!0,configurable:!0}),t}(AvatarPart);__reflect(FollowPart.prototype,"FollowPart");var FollowView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.setDirection=function(t){e.prototype.setDirection.call(this,t)},t.prototype.createPart=function(e){return void 0===e&&(e=irK.PART_BODY),GObj.$c(FollowPart)},t}(NpcView);__reflect(FollowView.prototype,"FollowView");var GhostSpurView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.start=function(e){this._playing||(this._body=e,this._endNode=0,this.play(),GApp.enterFrameMgr.registeEnterFrame(this.__enterFrameHandler,this))},t.prototype.__enterFrameHandler=function(){if(this._enterFrame++,this._enterFrame%3==0&&this._body){var e=this._body.gx;-1==this._body.gscaleX&&(e=e+2*this._body.ghost.width+this._body.ghost.x),this._body.ghost&&this.update(this._body.ghost.texture,e,this._body.gy,this._body.gscaleX)}},t.prototype.update=function(e,n,i,r){return this._pttr&&(this.next?this.next.update(this._pttr,this._pgx,this._pgy,this._psx):this.index<GConfig.GHOST_NUM&&(this.next=GObj.$c(t),this.next.index=this.index+1,this.next._playing=!0,this.next.alpha=.7-.085*this.next.index,this.next.update(this._pttr,this._pgx,this._pgy,this._psx))),this._pttr=this.texture,this._pgx=n,this._pgy=i,this._psx=r,this._playing?(this.texture=e,this.scaleX=r,this.x=n,this.y=i,void GApp.avatarLayer.addEffect(this,!0)):(this.end(),void(this._endNode>GConfig.GHOST_NUM&&0==this.index&&(GApp.enterFrameMgr.unRegisteEnterFrame(this.__enterFrameHandler,this),this.clearData())))},t}(GhostView);__reflect(GhostSpurView.prototype,"GhostSpurView");var MonsterView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.update=function(){e.prototype.update.call(this),this._hpName&&(this._hpName.x=this.x,this._hpName.y=this.y-this._bodyPart.heady)},t.prototype.updateData=function(e){e&&e.showName&&(e.isboss?(this._hpName||(this._hpName=GObj.$c(BossName),this._hpName.y=-80,App.VV.addName(this._hpName)),this._hpName.updateData(e)):(this._hpName||(this._hpName=GObj.$c(HpName),this._hpName.y=-80,App.VV.addName(this._hpName)),this._hpName.updateData(e)))},t.prototype.updateHp=function(){this._hpName&&this._hpName.updateHp()},t.prototype.dispose=function(){e.prototype.dispose.call(this),GObj.$d(this._hpName),this._hpName=null},t}(BattleAvatarView);__reflect(MonsterView.prototype,"MonsterView");var RoleView=function(e){function t(){var t=e.call(this)||this;return t._realmLevel=0,t._wingFront=!1,t}return __extends(t,e),t.prototype.init=function(){this.touchEnabled=this.touchChildren=!1,this._modelSpr=GObj.$c(egret.Sprite),this.addChild(this._modelSpr),this._partDict={},this._tempPart=this.createPart(irK.PART_WING),this._modelSpr.addChild(this._tempPart),this._partDict[irK.PART_WING]=this._tempPart,this._bodyPart=this.createPart(),this._modelSpr.addChild(this._bodyPart),this._partDict[irK.PART_BODY]=this._bodyPart,this._tempPart=this.createPart(),this._modelSpr.addChild(this._tempPart),this._partDict[irK.PART_WEAPON]=this._tempPart;for(var e in this._partDict)this._tempPart=this._partDict[e],this._tempPart&&(this._tempPart.part=e);this._tempPart=null,this._roleName=GObj.$c(RoleName),this._roleName.y=-80,this.addChild(this._roleName)},t.prototype.createPart=function(e){switch(void 0===e&&(e=irK.PART_BODY),e){case irK.PART_WING:return GObj.$c(WingPart);default:return GObj.$c(AvatarPart)}},t.prototype.updateBubble=function(e){this._roleName&&this._roleName.updateBubble(e)},t.prototype.updateHp=function(){this._roleName&&this._roleName.updateHp()},t.prototype.updateData=function(e){this._roleName&&e&&this._roleName.updateData(e)},t.prototype.update=function(){if(!(this._bodyPart.frameSize<=0)){var e=GApp.timer,t=(e-this._bodyPart.startTime)/GConfig.PLAY_AVATAR_INTERVAL;this._roleName.y=-this._bodyPart.heady,this._downPart&&(this._downPart.frame=t),this._upPart&&(this._upPart.frame=t),this._ghostPart&&(this._ghostPart.frame=t);var n;for(var i in this._partDict)n=this._partDict[i],n&&(i!=irK.PART_MOUNT,n.frame=t)}},t.prototype.addShield=function(){this._shieldMe||(this._shieldMe=GObj.$c(MeanEffect),this._shieldMe.y=36,this._shieldMe.verticalAlign=egret.VerticalAlign.BOTTOM,this._shieldMe.horizontalAlign=egret.HorizontalAlign.CENTER),this._shieldMe.start(gYq.NF),this._shieldMe.parent||this.addChild(this._shieldMe)},t.prototype.removeShield=function(){this._shieldMe&&(this._shieldMe.stop(),this._shieldMe.parent&&this._shieldMe.parent.removeChild(this._shieldMe))},t.prototype.acrAction=function(){this._isPlayer&&(this._ghostView||(this._ghostView=GObj.$c(GhostSpurView)),this._ghostPart||(this._ghostPart=GObj.$c(AvatarPart),this._ghostPart.part=irK.PART_BODY,this._ghostPart.model=StaticData.AVATAR_GHOST,this._ghostPart.action=irK.ACTION_STAND,this._modelSpr&&(this._ghostPart.visible=!1,this._modelSpr.addChild(this._ghostPart))),this._ghostPart.direction=this._direction5,this._ghostView.start(this))},t.prototype.acrOver=function(){this._isPlayer&&this._ghostView&&this._ghostView.stop()},t.prototype.setDirection=function(e){var t;for(var n in this._partDict)t=this._partDict[n],t&&(t.direction=e);var i=irK.WING_FRONT[e];if(this._wingFront!=i){this._wingFront=i;var r=this._partDict[irK.PART_WING];r&&(i?this._modelSpr.addChild(r):this._modelSpr.addChildAt(r,0));var a=this._partDict[irK.PART_SOUL];a&&(i?this._modelSpr.addChild(a):this._modelSpr.addChildAt(a,0))}},Object.defineProperty(t.prototype,"isPlayer",{get:function(){return this._isPlayer},set:function(e){if(this._isPlayer!=e){if(this._isPlayer=e,this._roleName.isPlayer=e,this._partDict){var t;for(var n in this._partDict)t=this._partDict[n],t&&(t.cacheLastPart=e)}e&&(this._circleEffect||(this._circleEffect=GObj.$c(EqualEffect),this._circleEffect.horizontalAlign=egret.HorizontalAlign.CENTER,this._circleEffect.verticalAlign=egret.VerticalAlign.MIDDLE,this._circleEffect.start(gYq.OF,100),this._circleEffect.play(),this.addChildAt(this._circleEffect,0)))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gx",{get:function(){return this._ghostPart?this.x+this._ghostPart.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gy",{get:function(){return this._ghostPart?this.y+this._ghostPart.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ghost",{get:function(){return this._ghostPart},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gscaleX",{get:function(){return this._modelSpr.scaleX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentView",{get:function(){return this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nameLab",{get:function(){return this._roleName?this._roleName.nameLab:null},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),GObj.$d(this._roleName),this._roleName=null,GObj.$d(this._ghostView),this._ghostView=null,GObj.$d(this._downPart),this._downPart=null,GObj.$d(this._upPart),this._upPart=null,GObj.$d(this._shieldMe),this._shieldMe=null},t}(BattleAvatarView);__reflect(RoleView.prototype,"RoleView",["IGhost"]);var WingPart=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t.prototype,"action",{get:function(){return this._action},set:function(e){e=irK.ACTION_WALK,this._action!=e&&(this._action=e,this.updateState())},enumerable:!0,configurable:!0}),t}(AvatarPart);__reflect(WingPart.prototype,"WingPart");var BattleRobotHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._type=6,n}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._attackVo=GObj.$c(AttackVO),this._skillai=GObj.$c(SkillAI),this._skillai.skillUpdate(this._avo.skillmap)},t.prototype.actionOver=function(){this._die||(e.prototype.actionOver.call(this),this.attack(this._selectedFoe))},Object.defineProperty(t.prototype,"selectedFoe",{set:function(t){this._selectedFoe!==t&&(this._selectedFoe=t,this.attack(this._selectedFoe),this._selectedFoe||e.prototype.wait.call(this))},enumerable:!0,configurable:!0}),t.prototype.bruise=function(t){if(this._avo){if(this._avo.mustwin){var n=this._avo.attr.lefthp/this._avo.attr.maxhp;this._avo.attr.temp||(this._avo.attr.temp=this._avo.attr.atk),this._avo.attr.atk=this._avo.attr.temp*(1+Math.pow((1-n)/.95*3,2)),this._avo.attr.hitrate=1e4;var i=App.BG.playerAttrsInfo.cap;this._avo.attr.imprate=Math.max((this._avo.mustcap-3*i)/i*2*100,0)||0,n=(1-n)/.95*70;var r=GMath.rate(n);if(r){var a=GMath.towards(t.atkx,t.atky,this._avatar.x,this._avatar.y,80,!0);return DamageAction["do"](1,0,this._avatar.x,this._avatar.y-120,a.x,a.y-120),null}}return e.prototype.bruise.call(this,t)}},t.prototype.attack=function(e){if(this._avatar&&this._avo&&e){if(this._attackVo=this._skillai.getSkillAttack(this._avo.attr),!this._attackVo)return this._attackVo;var t=GApp.timer;this.paths=null;var n,i=this._attackVo.skill;n=i?StaticData.SKILL_INFO[i.id]:StaticData.SKILL_INFO_COMMON[this._attackVo.atkIndex],this._onaction=!0,this._waitEndTime=t+irK.TIME_ATTACK;var r=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,e.x,e.y);this._avatar.direction8=r,1==this._avo.ver?this._avatar.setAction(irK.ACTION_ATTACK):(this._avatar.setAction(n.action),this.showSkill&&SkillAction["do"](n.attack,r,this._avatar.x,this._avatar.y)),this._attackVo.uid=App.KF.uid,this._attackVo.atkx=this._avatar.x,this._attackVo.atky=this._avatar.y,this._attackVo.direction8=r;var a=e.bruise(this._attackVo);if(e.avatar&&this._avo.mustwin&&Math.random()>.5){var o=GMath.towards(this._attackVo.atkx,this._attackVo.atky,e.avatar.x,e.avatar.y,80,!0);DamageAction["do"](1,0,this._avatar.x,this._avatar.y-120,o.x,o.y-120)}else a&&a.r&&this.suckOrinjur(a.r,!0);return this._attackVo}},t.prototype.countDamage=function(e){if(this._avo&&this._avo.attr){this._avo.attr.lefthp-=e.v;var t=this._avo.attr.lefthp/this._avo.attr.maxhp*100;return NpcHpView.instance.progress=t,this._avo.attr.lefthp<=0?void this.die():void 0}},t.prototype.dispose=function(){GObj.$d(this._skillai),this._skillai=null,this._avo=null,e.prototype.dispose.call(this)},t}(RoleHandler);__reflect(BattleRobotHandler.prototype,"BattleRobotHandler");var FollowHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._moveFrame=0,n._enterFrame=0,n._waitEndTime=0,n._waitNum=0,n._visible=!0,n}return __extends(t,e),Object.defineProperty(t.prototype,"visible",{get:function(){return this._visible},set:function(e){this._visible!==e&&(this._visible=e,this._avatar.visible=e)},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.speed=StaticData.FOLLOW_SPEED_MAX,this._avatar=GObj.$c(FollowView),this._avatar.x=this._avo.x||0,this._avatar.y=this._avo.y||0,this._avatar.updatePart(this._avo.model),this._avatar.setAction(irK.ACTION_WALK),this._avatar.direction8=irK.R_B,this._avatar.show(),this._actionOverHandler=Handler.create(this,this.actionOverHandler),this.start()},t.prototype.updateModel=function(){this._avatar&&this._avo&&(this._avatar.updateData(this._avo),this._pmodel!=this._avo.model&&this._avatar.updatePart(this._avo.model),this._pmodel=this._avo.model)},t.prototype.update=function(){if(this._owner&&this._avatar&&this._avo){if(this._enterFrame++,this._avatar.update(),this._enterFrame%StaticData.FOLLOW_CHECK_FRAME==0&&this.followOwner(),this._waitEndTime>0)return void(GApp.timer>this._waitEndTime&&(this._waitEndTime=0,this.actionOver()));this._moveFrame--,this._moveFrame>0?this.playWalk():this.actionOver()}},t.prototype.actionOverHandler=function(){var e=this._owner.x,t=this._owner.y;this._tox=e,this._toy=t;var n=this._tox+GMath.randomInt(50,StaticData.FOLLOW_DISTANCE_RAN),i=this._toy+GMath.randomInt(60,StaticData.FOLLOW_DISTANCE_RAN);return 0==this._ptx&&0==this._pty?(this.paths=null,this._avatar.x=this._avo.x=n,this._avatar.y=this._avo.y=i,this._ptx=n,void(this._pty=i)):(this._ptx=n,this._pty=i,this._distance=GMath.distance(this._avatar.x,this._avatar.y,this._tox,this._toy),this._distance>=StaticData.FOLLOW_DISTANCE_MAX?this._speed=this._distance/24:this._speed=StaticData.FOLLOW_SPEED_MIN,this._speed>=StaticData.FOLLOW_SPEED_MAX&&(this._speed=StaticData.FOLLOW_SPEED_MAX),this._moveFrame=int(this._distance/this._speed),this._stepx=(n-this._avatar.x)/this._moveFrame,this._stepy=(i-this._avatar.y)/this._moveFrame,this._tempAngle=Math.atan2(i-this._avatar.y,n-this._avatar.x),this._tempAngle=180*this._tempAngle/Math.PI,this._tempAngle<0&&(this._tempAngle+=360),void(this._avatar.direction8=AvatarHelp.angle2direction(this._tempAngle)))},t.prototype.followOwner=function(){this._owner.x,this._owner.y;return this._distance=GMath.distance(this._avatar.x,this._avatar.y,this._tox,this._toy),this._distance>=StaticData.FOLLOW_DISTANCE_MAX&&this.actionOverHandler(),!0},t.prototype.attack=function(e){var t=StaticData.FERE_SKILL_INFO;if(7===this._avo.type?t=StaticData.FERE_SKILL_INFO:8===this._avo.type&&(t=StaticData.RARE_SKILL_INFO),t){if(this._onaction=!0,e){var n=e.x,i=e.y,r=this._avatar.x,a=this._avatar.y,o=GMath.distance(r,a,n,i),s=t.atkDis||StaticData.ROLE_ATTACK_DIS;o>s&&(this._ptx=0,this._pty=0,this.actionOverHandler());var p=AvatarHelp.getDirection8(r,a,n,i-50);this._avatar.direction8=p,SkillAction.action(t,this._avatar,e.avatar),t.bruise&&SkillAction["do"](t.bruise,1,n,i-50)}else this._owner&&this._owner.avatar&&(this._avatar.direction8=this._owner.avatar.direction8);var l=GApp.timer,c=t.time||irK.TIME_ATTACK;this._waitEndTime=l+c,this._avatar.setAction(t.action)}},t.prototype.playWalk=function(){this._avatar&&(this._avatar.x+=this._stepx,this._avatar.y+=this._stepy)},Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner!=e&&(this._owner=e)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._owner=null,e.prototype.dispose.call(this)},t}(AvatarHandler);__reflect(FollowHandler.prototype,"FollowHandler");var MonsterNodeHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._type=3,n._bnvo=t,n._param={},n._param.isboss=1,n}return __extends(t,e),t.prototype.attack=function(e){if(this._avatar&&e){null==this._attackVo&&(this._attackVo=GObj.$c(AttackVO)),this._onaction=!0,this._waitEndTime=GApp.timer+irK.TIME_ATTACK_NPC;var t=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,e.x,e.y);return this._avatar.direction8=t,this._avatar.setAction(irK.ACTION_ATTACK),this._attackVo.atkx=this._avatar.x,this._attackVo.atky=this._avatar.y,this._attackVo.atkAttr=this._bnvo.attr,this._attackVo.direction8=t,this._attackVo}},t.prototype.playWalk=function(){if(this._avatar&&!(this._distance<=0)){if(this._distance-=this._speed,this._distance<=0)return this._distance=0,this._avatar.x=this._tox,void(this._avatar.y=this._toy);this._avatar.x+=this._stepx,this._avatar.y+=this._stepy}},t.prototype.actionOver=function(){this._avatar&&this._avatar.setAction(irK.ACTION_STAND)},t.prototype.bruise=function(t){var n=e.prototype.bruise.call(this,t);return n&&n.v&&vkG.$d(UtJ.XD,n.v),n},t.prototype.toDie=function(){this._die=!0,NpcHpView.instance.progress=0,GObj.$d(this)},t.prototype.die=function(){},Object.defineProperty(t.prototype,"data",{get:function(){return this._bnvo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rehprate",{get:function(){return this._bnvo.rehprate},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){e.prototype.dispose.call(this),this._bnvo=null},t}(MonsterHandler);__reflect(MonsterNodeHandler.prototype,"MonsterNodeHandler");var MonsterTeamHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._type=3,n}return __extends(t,e),t.prototype.die=function(){},t.prototype.toDie=function(){this._die=!0,this._bruiseTime>0||GObj.$d(this)},t}(MonsterHandler);__reflect(MonsterTeamHandler.prototype,"MonsterTeamHandler");var NpcHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._type=4,n._nvo=t,t.paths&&t.paths.length<=1?(n._avatar.setAction(irK.ACTION_STAND),n):(n.patrolPaths=t.paths,n)}return __extends(t,e),t.prototype.init=function(){this.speed=this._avo.speed,this._avatar=GObj.$c(NpcView),this._avatar.x=this._avo.x,this._avatar.y=this._avo.y,this._avatar.playInterval=this._avo.pi||GConfig.PLAY_AVATAR_INTERVAL,this._avatar.updateData(this._avo),this._avatar.updatePart(this._avo.model),this._avatar.show(),this.start()},t.prototype.update=function(){e.prototype.update.call(this),this._waitEndTime>0&&GApp.timer>this._waitEndTime&&(this._waitEndTime=0,this.actionOver())},Object.defineProperty(t.prototype,"patrolPaths",{set:function(e){this._patrolPaths!=e&&(this._patrolPaths=e,this.paths=this._patrolPaths.concat())},enumerable:!0,configurable:!0}),t.prototype.actionOver=function(){e.prototype.actionOver.call(this),this._patrolPaths&&this._patrolPaths.length>0&&(this.paths=this._patrolPaths.concat())},t.prototype.attackFake=function(){this._avatar&&(this._onaction=!0,this._waitEndTime=GApp.timer+irK.TIME_ATTACK_NPC,this._avatar.setAction(irK.ACTION_ATTACK))},t}(VJn);__reflect(NpcHandler.prototype,"NpcHandler");var PlayerHandler=function(e){function t(n){var i=e.call(this,n)||this;return singleton(t._instance),t._instance=i,i._isPlayer=!0,i.addEvent(),i}return __extends(t,e),t.prototype.init=function(){this._isPlayer=!0,e.prototype.init.call(this),this._attackVo=GObj.$c(AttackVO),this._skillai=PlayerSKillAI.instance},t.prototype.reset=function(){this.selectedFoe=null,this._avatar&&this._avatar.show(),this.start(),this.__modelChangeHandler()},t.prototype.nodeEnd=function(){this._avo&&this._avo.attr&&(this._avo.attr.lefthp=this._avo.attr.maxhp),this._avatar&&this._avatar.updateHp(),this._die=!1,this._skillai.reset()},Object.defineProperty(t.prototype,"selectedFoe",{get:function(){return this._selectedFoe},set:function(e){this._selectedFoe!==e&&(this._selectedFoe&&(this._selectedFoe.selected=!1),this._selectedFoe=e,e&&(e.selected=!0))},enumerable:!0,configurable:!0}),t.prototype.acrAction=function(t,n,i){if(3==t){if(1==App.UY.sceneType)return!1;if(!App.KF.lighting)return!1}return e.prototype.acrAction.call(this,t,n,i)},t.prototype.computePaths=function(t){if(this._paths!=t){if(t)for(var n=t.length,i=void 0,r=0;n>r;r++){if(i=t[r],i.r){var a=t[r]={};a.x=int(i.x+GMath.random(-i.r,i.r)),a.y=int(i.y+GMath.random(-i.r,i.r))}t[r].x=int(t[r].x),t[r].y=int(t[r].y)}this.mapType&&(2==this.mapType||4==this.mapType||10==this.mapType||11==this.mapType||12==this.mapType||100==this.mapType||101==this.mapType||13==this.mapType||36==this.mapType||37==this.mapType||41==this.mapType||44==this.mapType)&&this._avo&&MapMsgProxy.KN(this._avo.id,t),e.prototype.computePaths.call(this,t)}},t.prototype.uploadCurrPath=function(){if(this.mapType&&(101==this.mapType||36==this.mapType)&&this._distance>0&&this._avo&&this.avatar){var e=this._paths.concat(),t={};(this._tox||this._toy>0)&&(t.x=int(this._tox),t.y=int(this._toy),e.unshift(t)),t={},t.x=int(this.avatar.x),t.y=int(this.avatar.y),t.d=!0,e.unshift(t),MapMsgProxy.KN(this._avo.id,e)}},t.prototype.attack=function(e){if(this._avatar&&this._avo&&e){if(this._attackVo=this._skillai.getSkillAttack(this._avo.attr),!this._attackVo)return this._attackVo;var t=GApp.timer;this.paths=null;var n=this._attackVo.skillaction;this._onaction=!0;var i=n.time||irK.TIME_ATTACK;this._waitEndTime=t+i;var r=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,e.x,e.y);if(this._avatar.direction8=r,n.sound?App.PD.playEffect(n.sound):this._attackVo.skill?App.PD.playEffect(SoundIds.GQ):App.PD.playEffect(SoundIds.QY),this._avatar.setAction(n.action),SkillAction.action(n,this._avatar,e.avatar),n.title){var a=App.UY.sceneType,o=App.KF.chapter;if(o<StaticData.HIDE_BASE_CH||1!=a){var s=this._attackVo.skill;s&&s.isFakeBigSkill?SkillNameAction.VK(n.title,1,0,!0):SkillNameAction.VK(n.title,0,0,!0)}}if(n.shakeRate&&GMath.rate(n.shakeRate)&&BattleAction["do"](6,null,n.bruiseDelay||0,0,null,null,n),n.bust&&SkillNameAction.bust(),this._attackVo.pasAttr){var p=this._attackVo.pasAttr.s||0;this._avo.attr.shield=this._avo.attr.shield>p?this._avo.attr.shield:p,this._avo.attr.lefthp+=App.JP.revertHpPas(this._avo.attr,this._attackVo.pasAttr)}return this._avo.attr.shield>0&&this._avatar.addShield(),this._attackVo.uid=App.KF.uid,this._attackVo.atkx=this._avatar.x,this._attackVo.atky=this._avatar.y,this._attackVo.direction8=r,this._attackVo}},t.prototype.$bruise=function(){if(this._avatar&&this._avo&&this._damageVo&&this._damageVo.atkvo){var e=this._damageVo;DamageAction["do"](1024,e.v,this._avatar.x,this._avatar.y-80,this._avatar.x,this._avatar.y+10)}},t.prototype.bruiseSyn=function(t){if(t)if(t.d){var n=GMath.towards(t.ax,t.ay,this._avatar.x,this._avatar.y,80,!0);DamageAction["do"](1,0,this._avatar.x,this._avatar.y-120,n.x,n.y-120)}else e.prototype.bruiseSyn.call(this,t),t.r&&this.suckOrinjur(t.r,!0),this.showDamage(t,null)},t.prototype.showDamage=function(e,t){if(this._avatar&&this._avo){var n=this._avatar.x,i=this._avatar.y,r=e.fere||0,a=e.rare||0,o=e.flysword||0,s=e.v||1,p=GMath.randomInt(-50,50);if(r&&(s-=r,DamageAction["do"](128,r,n+p,i-StaticData.DAMAGE_FERE_DISTANCE,n,i)),a&&(s-=a,DamageAction["do"](4096,a,n+p,i-StaticData.DAMAGE_FERE_DISTANCE,n,i)),o&&(s-=o,DamageAction["do"](262144,o,n+p,i-StaticData.DAMAGE_FERE_DISTANCE,n,i)),DamageAction["do"](1024,s,n,i-StaticData.DAMAGE_DEFAULT_DISTANCE-50,n,i),e.s){var l=this._avatar.x,c=this._avatar.y,u=GMath.towards(e.ax||l,e.ay||c,this._avatar.x,this._avatar.y,80,!0),d=150;
(1&e.s)>0&&(DamageAction["do"](16,0,this._avatar.x,this._avatar.y-d,u.x,u.y-d),d+=50),(2&e.s)>0&&(DamageAction["do"](8,0,this._avatar.x,this._avatar.y-d,u.x,u.y-d),d+=50),(8&e.s)>0&&(DamageAction["do"](32,0,this._avatar.x,this._avatar.y-d,u.x,u.y-d),d+=50),(32&e.s)>0&&(DamageAction["do"](64,0,this._avatar.x,this._avatar.y-d,u.x,u.y-d),d+=50),(128&e.s)>0&&(DamageAction["do"](32768,s,this._avatar.x,this._avatar.y-d,u.x,u.y-d),d+=50)}this._avatar.updateHp()}},t.prototype.countDamage=function(e){return this._avo&&this._avo.attr?(this._avo.attr.lefthp-=e.v,this._avo.attr.lefthp<=0?void this.die():void 0):void 0},t.prototype.die=function(){this._die=!0},t.prototype.dieCall=function(){App.UY.back()},t.prototype.addEvent=function(){vkG.$a(UtJ.ND,this.__levelChangeHandler,this),vkG.$a(UtJ.SI,this.__nameChangeHandler,this),vkG.$a(UtJ.FA,this.__modelChangeHandler,this)},t.prototype.__modelChangeHandler=function(){if(this._avo&&this._avatar){var e=App.KF;this._avo.within=e.within,this._avo.b=e.b,this._avo.w=e.w,this._avo.c=e.c,this._avo.apid=e.apid,this._avo.fid=e.fid,this._avo.fgrade=e.fgrade,this._avo.duty=e.duty,this._avo.fere=e.fere,this._avo.rare=e.rare,this.updateModel()}},t.prototype.__nameChangeHandler=function(){if(this._avatar&&this._avo){var e=this._avo;e.name=App.KF.name,e.uid=App.KF.uid,this._avatar.updateData(e)}},t.prototype.__levelChangeHandler=function(){},t.prototype.suckHp=function(e,t){if(void 0===t&&(t=0),this._avo&&this._avo.attr&&!(this._avo.attr.hpdrainrate<=0)){var n=App.JP.suckHp(e,this._avo.attr.hpdrainrate,t);n&&(this._avo.attr.lefthp+=n,this._avo.attr.lefthp>this._avo.attr.maxhp&&(this._avo.attr.lefthp=this._avo.attr.maxhp),DamageAction["do"](256,n,this._avatar.x,this._avatar.y-80,this._avatar.x,this._avatar.y+10))}},t.prototype.suckOrinjur=function(t,n){e.prototype.suckOrinjur.call(this,t,n)},t.prototype.pickup=function(){this._onaction=!0,this._avatar.setAction(irK.ACTION_STAND),this._waitEndTime=GApp.timer+StaticData.PICKUP_WAIT_TIME},t.prototype.wait=function(e){this._onaction=!0,this._avatar.setAction(irK.ACTION_STAND),e=e?e:StaticData.WAIT_TIME,this._waitEndTime=GApp.timer+e},t.prototype.dispose=function(){GObj.$d(this._battleAction),this._battleAction=null,this.paths=null,this._selectedFoe=null,this._actionOver=!0,this._onaction=!1,this._waitEndTime=0,this.wait(),this._avatar&&this._avatar.removeShield(),this._avo&&this._avo.attr&&(this._avo.attr.shield=0),this.nodeEnd(),this._avatar&&this._avatar.hide(),this.stop(),this.disposeFollow(),this._actionOverHandler=null},t._instance=null,t}(RoleHandler);__reflect(PlayerHandler.prototype,"PlayerHandler");var RobotHandler=function(e){function t(t){var n=e.call(this,t)||this;return n._nodeid=-1,n._skillComLen=StaticData.SKILL_INFO_COMMON_LENGTH,n}return __extends(t,e),Object.defineProperty(t.prototype,"selectedFoe",{get:function(){return this._selectedFoe},set:function(e){this._selectedFoe!==e&&(this._selectedFoe=e,e&&this.attack(this._selectedFoe))},enumerable:!0,configurable:!0}),t.prototype.acrAction=function(t,n,i){3==t&&(t=4);var r=e.prototype.acrAction.call(this,t,n,i);return this._battleAction&&(this._battleAction.data=!0),r},t.prototype.updateModel=function(){this._avatar&&this._avo&&(this._avatar.updateData(this._avo),this._pmodel!=this._avo.model&&this._avatar.updatePart(this._avo.model),this._pw!=this._avo.w&&this._avatar.updatePart(this._avo.w,irK.PART_WEAPON),this._pc!=this._avo.c&&this._avatar.updatePart(this._avo.c,irK.PART_WING))},t.prototype.attack=function(e){if(this._avatar&&e){if(e.isDie)return this.selectedFoe=null,void this.actionOver();var t=GMath.distance(this._avatar.x,this._avatar.y,e.x,e.y)-1;if(t>StaticData.ROBOT_ATTACK_DIS){var n=GMath.towards(this._avatar.x,this._avatar.y,e.x,e.y,StaticData.ROBOT_ATTACK_DIS-15),i={x:int(n.x),y:int(n.y)};return t>=StaticData.ROLE_SPRINT_DIS&&(i.a=3),this.paths=[i],null}var r=int(100*Math.random()),a=r%this._skillComLen,o=StaticData.SKILL_INFO_COMMON[a];if(null!=o){this._onaction=!0,this._waitEndTime=GApp.timer+irK.TIME_ATTACK;var s=AvatarHelp.getDirection8(this._avatar.x,this._avatar.y,e.x,e.y);return this._avatar.direction8=s,this._avatar.setAction(o.action),this.showSkill&&SkillAction["do"](o.attack,s,this._avatar.x,this._avatar.y),null}}},t.prototype.actionOver=function(){return e.prototype.actionOver.call(this),this._onaction=!1,this._actionOver=!0,this._selectedFoe&&!this._selectedFoe.isDie?void this.attack(this._selectedFoe):(this._actionOverHandler&&this._actionOverHandler.execute(),void(this._overHandler&&this._overHandler.call(this._thisObj,this,this._nodeid)))},t.prototype.setActionCall=function(e,t){this._overHandler=e,this._thisObj=t},t.prototype.computePaths=function(t){if(this._paths!=t&&(e.prototype.computePaths.call(this,t),t)){if(t.length>0){var n=t[0].n;void 0!=n&&null!=n&&n>=0&&(this._nodeid=n)}this._paths=t}},t.prototype.dispose=function(){this._overHandler=null,this._thisObj=null,e.prototype.dispose.call(this)},t}(RoleHandler);__reflect(RobotHandler.prototype,"RobotHandler");var BossName=function(e){function t(){var t=e.call(this)||this;return t._apid=-1,t}return __extends(t,e),t.prototype.init=function(){},t.prototype.updateAppell=function(){var e=this;e._avo.apid&&e._avo.apid!=e._apid?(e._apid=e._avo.apid,e._appellImg||(e._appellImg=GObj.$c(ImageIcon),e._appellImg.loadCompleteCall(e.aa,e)),e._appellImg.source=kLM.EF(e._apid),e.addChild(e._appellImg)):e._appellImg&&e.aa()},t.prototype.aa=function(){var e=this;e._appellImg&&(e._appellImg.x=-e._appellImg.width>>1,e._appellImg.y=-e._appellImg.height-2)},t.prototype.updateHp=function(e){void 0===e&&(e=!1)},t.prototype.updateData=function(e){var t=this;t._avo=e,t.updateHp(!0),t.updateAppell()},t.prototype.dispose=function(){var t=this;GObj.$d(t._appellImg),t._appellImg=null,e.prototype.dispose.call(this)},t}(AvatarName);__reflect(BossName.prototype,"BossName",["IMonsterName"]);var HpName=function(e){function t(){var t=e.call(this)||this;return t.ua=1,t}return __extends(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this);var n=0;t.qb=GObj.$c(egret.Bitmap),t.qb.texture=RES.getRes("game_json.hp_role_bg_png"),t.qb.x=.5*-t.qb.width,n=t.qb.height,t.qb.y=n,t.addChild(t.qb),t.lq=GObj.$c(egret.Bitmap),t.lq.texture=RES.getRes("game_json.hp_npc_png"),t.lq.x=t.qb.x+1,t.lq.y=t.qb.y+1,t.lq.touchEnabled=!1,t.addChild(t.lq),t.nj=t.lq.width,n-=20,t._nameTxt.y=n,t._nameTxt.parent&&t._nameTxt.parent.removeChild(t._nameTxt)},t.prototype.updateData=function(t){var n=this;n._avo=t,t.name&&(n._nameTxt||e.prototype.init.call(this),e.prototype.updateData.call(this,t),n.updateHp(!0))},t.prototype.updateHp=function(e){void 0===e&&(e=!1);var t=this;if(t._avo&&t._avo.attr)return t.ws=t._avo.attr.maxhp||0,t.fw=t._avo.attr.lefthp||0,t.ws<=0?void t.cm(1):t.fw<=0?void t.cm(0):void t.cm(t.fw/t.ws,e)},t.prototype.cm=function(e,t){void 0===t&&(t=!1);var n=this,i=n.ua-e;!t&&i>-.05&&.05>i||(0>e&&(e=0),n.ua=e,0>=e?n.lq.parent&&n.lq.parent.removeChild(n.lq):(n.lq.parent||n.addChild(n.lq),BitmapUtil.setBitmapWH(n.lq,n.nj*e)))},t.prototype.dispose=function(){var t=this;GObj.$d(t.qb),t.qb=null,GObj.$d(t.lq),t.lq=null,e.prototype.dispose.call(this)},t}(AvatarName);__reflect(HpName.prototype,"HpName",["IMonsterName"]);var NpcName=function(e){function t(){var t=e.call(this)||this;return t._apid=0,t}return __extends(t,e),t.prototype.init=function(){},t.prototype.updateData=function(t){var n=this;n._avo=t,t.name?(n._nameTxt||e.prototype.init.call(this),e.prototype.updateData.call(this,t),t.id==App.KF.uid?n._nameTxt.textColor=Color.SD:n._nameTxt.textColor=Color.XB):n.updateAppell()},t.prototype.updateAppell=function(){var e=this;e._avo.apid&&e._avo.apid!=e._apid?(e._apid=e._avo.apid,e._appellImg||(e._appellImg=GObj.$c(ImageIcon),e._appellImg.loadCompleteCall(e.a_,e)),e._appellImg.source=kLM.EF(e._apid),e.addChild(e._appellImg)):e._appellImg&&(e._appellImg.y=-e._appellImg.height,e._appellImg.x=.5*-e._appellImg.width)},t.prototype.a_=function(){var e=this;e._appellImg&&(e._appellImg.y=-e._appellImg.height,e._appellImg.x=.5*-e._appellImg.width)},t.prototype.dispose=function(){var t=this;GObj.$d(t._appellImg),t._appellImg=null,e.prototype.dispose.call(this)},t}(AvatarName);__reflect(NpcName.prototype,"NpcName");var RoleName=function(e){function t(){var t=e.call(this)||this;return t._apid=-1,t._fid=0,t._duty=0,t._bubbleTime=0,t.bj=1,t}return __extends(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this);var n=0;t.vn=GObj.$c(egret.Bitmap);var i=RES.getRes("game_json.hp_role_bg_png");t.vn.texture=i,t.vn.x=-t.vn.width/2,n=t.vn.height,t.vn.y=n,t.addChild(t.vn),t.t_=GObj.$c(egret.Bitmap),i=RES.getRes("game_json.hp_role_png"),t.t_.texture=i,t.t_.x=t.vn.x+1,t.t_.y=t.vn.y+1,t.addChild(t.t_),t.fh=t.t_.width,n-=20,t._nameTxt.bold=!1,t._nameTxt.y=n,t.addChild(t._nameTxt),t._nameTxt.visible=App.KF.newbie,t.vm(1,!0),vkG.$a(UtJ.HK,t.xe,t),vkG.$a(UtJ.JD,t.updateAppell,t)},t.prototype.updateData=function(t){var n=this;e.prototype.updateData.call(this,t),t.id==App.KF.uid?(n._nameTxt.textColor=Color.SD,n.addChild(n._nameTxt)):n._nameTxt.textColor=Color.XB,n.updateHp(!0),n.updateAppell()},t.prototype.xf=function(){var e=App._B.offiInfo[1]||0;this._nameBgImg.texture=kLM.YA(e)},t.prototype.updateAppell=function(){var e=this;if(e._avo.fid&&(e._avo.fid!=e._fid||e._avo.duty!=e._duty||e._avo.fgrade!=e._fgrade)){e._dutyTxt||(e._dutyTxt=GObj.$c(egret.TextField),e._dutyTxt.size=16,e._dutyTxt.textColor=Color.XB,e._dutyTxt.strokeColor=65558,e._dutyTxt.stroke=1,e._dutyTxt.y=e._nameTxt.y-18,e.addChild(e._dutyTxt)),e._fid=e._avo.fid||1,e._duty=e._avo.duty,e._fgrade=e._avo.fgrade||1;var t=XCA.AQS.UFA(21,1,e._fgrade);if(t){var n=fvg.GVf("martialart_appell_"+e._fid,e._fgrade);e._dutyTxt.textColor=aKF.DU(gLw.GM(t.tid));var i=Nkz.LI(t.p5);e._dutyTxt.text=n+i[e._fid]}e._dutyTxt.x=-e._dutyTxt.textWidth>>1}if(e._avo.apid!=e._apid){if(e._apid=e.po(),!e._apid)return void(e._appellImg&&(e._appellImg.source=""));e._appellImg||(e._appellImg=GObj.$c(ImageIcon),e._appellImg.loadCompleteCall(e.cx,e)),e._appellImg.source=kLM.EF(e._apid),e.addChild(e._appellImg)}else if(e._appellImg){var r=e._nameTxt.y;e._dutyTxt&&e._dutyTxt.parent&&(r=e._dutyTxt.y),e._appellImg.y=r-e._appellImg.height-2}},t.prototype.po=function(){var e=this,t=e._avo.apid,n=App.KF.chapter;return!t&&App.KF.newbie&&e.isPlayer&&30>n?n:(e._avo.apid&&vkG.$r(UtJ.JD,e.updateAppell,e),t)},t.prototype.cx=function(){var e=this;if(e._appellImg){var t=e._nameTxt.y;e._appellImg.x=-e._appellImg.width>>1,e._dutyTxt&&e._dutyTxt.parent&&(t=e._dutyTxt.y),e._appellImg.y=t-e._appellImg.height-2}},t.prototype.ql=function(){var e=this;e._bubbleImg&&(e._bubbleImg.x=-e._bubbleImg.width>>1,e._bubbleImg.y=-e._bubbleImg.height)},t.prototype.updateBubble=function(e){var t=this;t._bubbleTime=GApp.timer+StaticData.BUBBLE_TIME,t._bubbleImg||(t._bubbleImg=GObj.$c(ImageIcon),t._bubbleImg.loadCompleteCall(t.ql,t)),t._bubbleImg.source=kLM.EF(e),t.addChild(t._bubbleImg),ClockManager.setTimeout(t.zl,this,StaticData.BUBBLE_TIME)},t.prototype.zl=function(){var e=this;GApp.timer<e._bubbleTime||e._bubbleImg&&e._bubbleImg.parent&&e._bubbleImg.parent.removeChild(e._bubbleImg)},t.prototype.updateHp=function(e){void 0===e&&(e=!1);var t=this;if(t._avo&&t._avo.attr)return t.cn=t._avo.attr.maxhp||0,t.bn=t._avo.attr.lefthp||0,t.cn<=0?void t.vm(1):t.bn<=0?void t.vm(0):void t.vm(t.bn/t.cn,e)},t.prototype.vm=function(e,t){void 0===t&&(t=!1);var n=this,i=n.bj-e;!t&&i>-.05&&.05>i||(0>e&&(e=0),n.bj=e,0>=e?n.t_.parent&&n.t_.parent.removeChild(n.t_):(n.t_.parent||n.addChild(n.t_),BitmapUtil.setBitmapWH(n.t_,n.fh*e)))},Object.defineProperty(t.prototype,"nameLab",{get:function(){var e=this;return e._nameTxt?e._nameTxt:null},enumerable:!0,configurable:!0}),t.prototype.xe=function(){var e=this;vkG.$r(UtJ.HK,e.xe,e),e._apid=-1,e._nameTxt.visible=!0,e.updateAppell()},Object.defineProperty(t.prototype,"isPlayer",{get:function(){return this.tr},set:function(e){var t=this;t.tr!=e&&(t.tr=e)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;vkG.$r(UtJ.HK,t.xe,t),vkG.$r(UtJ.JD,t.updateAppell,t),GObj.$d(t.vn),t.vn=null,GObj.$d(t.t_),t.t_=null,GObj.$d(t._dutyTxt),t._dutyTxt=null,GObj.$d(t._appellImg),t._appellImg=null,GObj.$d(t._bubbleImg),t._bubbleImg=null,GObj.$d(t._nameBgImg),t._nameBgImg=null,e.prototype.dispose.call(this)},t}(AvatarName);__reflect(RoleName.prototype,"RoleName");var NodeVO=function(e){function t(){var t=e.call(this)||this;return t.index=999,t.isboss=!1,t.type=3,t}return __extends(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return this._nodeType},set:function(e){this._nodeType=e,e==BossNodeType.LP?this.isboss=!1:this.isboss=!0},enumerable:!0,configurable:!0}),t}(MonsterVO);__reflect(NodeVO.prototype,"NodeVO");var NpcVO=function(e){function t(){var t=e.call(this)||this;return t.type=4,t.showName=!0,t}return __extends(t,e),t}(BattleAvo);__reflect(NpcVO.prototype,"NpcVO");var RobotVO=function(e){function t(){var t=e.call(this)||this;return t.ret=0,t.head=0,t.usehf=0,t.type=6,t.uid=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this._b=GConfig.AVATAR_DEFAULT,usable(this._b)||(this._b=GConfig.AVATAR_DEFAULT),1==this.ver?this._b:this._b+this.sex},set:function(e){this._b=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return 1==this.ver?QycO.OK:(usable(this._w)||(this._w=GConfig.AVATAR_DEFAULT),this._w+StaticData.SEX_BOY)},set:function(e){this._w=e},enumerable:!0,configurable:!0}),t.martialart_head=1,t.martialart_provoke=2,t.arena=3,t.pvp=4,t}(RoleVO);__reflect(RobotVO.prototype,"RobotVO");var BattleManager=function(){function e(){this._rangeLen=0;var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e,t=this,n=XCA.CG(IDU.NK).split("|");t.config_compute||(t.config_compute={});for(var i=0;i<n.length;i++)e=n[i].split(","),t.config_compute[e[0]]=parseInt(e[1])/1e7},e.prototype.initConfig=function(){},Object.defineProperty(e.prototype,"npcAttr",{get:function(){var e=this,t=PlayerManager.instance.jkU.chapter,n=1,i=1,r=-1;for(var a in e.config_compute)if(i=n,n=parseInt(a),r++,n>t)break;var o=parseInt(XCA.CG(IDU.EH).split(",")[1]),s=XCA.YV(o),p=GObj.$c(DnQ);p.atk=s.atk,p.hp=s.hp,p.def=s.def?s.def:0,p.decrate=s.decrate?s.decrate:0;var l=GObj.$c(DnQ);return l.init(),l=App.JP.npcAttr(l,p,t,i,e.config_compute[i])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bossAttr",{get:function(){var e=this,t=PlayerManager.instance.jkU.chapter,n=1,i=1,r=-1;for(var a in e.config_compute)if(i=n,n=parseInt(a),r++,n>t)break;var o=parseInt(XCA.CG(IDU.EH).split(",")[0]),s=XCA.YV(o),p=GObj.$c(DnQ);p.atk=s.atk,p.hp=s.hp,p.def=s.def?s.def:0,p.decrate=s.decrate?s.decrate:0;var l=GObj.$c(DnQ);return l.init(),l=App.JP.bossAttr(l,p,t,i,e.config_compute[i])},enumerable:!0,configurable:!0}),e._instance=null,e}();__reflect(BattleManager.prototype,"BattleManager");var DropAction=function(){function e(){}return e.FA=function(e,t,n,i,r,a){if(e){var o=GObj.$c(DropView);return o.start(e,t,n,i,r,a),o}},e.ZR=function(t,n,i,r,a,o,s,p){if(!s)return e.FA(t,n,i,r,a,o);var l=GObj.$c(DropView);return l.delay=s,l.start(t,n,i,r,a,o,p),l},e}();__reflect(DropAction.prototype,"DropAction");var SkillNameAction=function(){function e(){this._skillNameTtfDict={},singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.VK=function(e,t,n,i){if(void 0===i&&(i=!1),usable(e)&&StaticData.OPEN_SKILLNAME){var r=this.instance.getSkillName(e,i,!!t);r&&r.start(t,n)}},e.bust=function(t){var n=this;if(!isNaN(t)){var i=StaticData.SKILL_INFO[t];if(i&&!i.bust)return}n.bustView||(n.bustView=GObj.$c(BonesDisplay),n.bustView.times=1,n.bustView.source=kLM.FF(gYq.RS)),n.bustView.x=hCs.stageWidthHalf,n.bustView.y=hCs.stageHeightHalf+200,App.FT.topLayer.addChild(n.bustView),n.bustView.play(null,1),n.bustView.addEventListener(HUtJ.COMPLETE,n.__bustCompleteHandler,e)},e.__bustCompleteHandler=function(e){var t=this;t.bustView.stop(),t.bustView.parent&&t.bustView.parent.removeChild(t.bustView)},e.prototype.getSkillName=function(e,t,n){var i=this,r=i._skillNameTtfDict[e];if(!r)return LoaderManager.instance.load(PATH.ZY+e+FileConst.png,i.__skillNameLoadComplete,this,LoaderConst.PRIORITY_DEFAULT,e),null;var a;return t?n?(!i._skillTitleBigView&&(i._skillTitleBigView=GObj.$c(SkillTitleBigView)),a=i._skillTitleBigView):(!i._skillTitleView&&(i._skillTitleView=GObj.$c(SkillTitleView)),a=i._skillTitleView):a=GObj.$c(SkillNameView),a.setName(r),a},e.prototype.__skillNameLoadComplete=function(e){this._skillNameTtfDict[e.args]=e.data},e}();__reflect(SkillNameAction.prototype,"SkillNameAction");var ActionDie=function(e){function t(){var t=e.call(this)||this;return t.easing=.3,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 5},enumerable:!0,configurable:!0}),t.prototype.update=function(){return this._view?(this._enterFrame++,void(this._enterFrame<3||(this._enterFrame<=40?(this._view.x+=GEase.easing(this._view.x,this._tx,this.easing),this._view.y+=GEase.easing(this._view.y,this._ty,this.easing)):this._enterFrame<50?(this._view.alpha-=.1,48==this._enterFrame&&SkillAction["do"](gYq.JQ,irK.B_B,this._view.x,this._view.y)):GObj.$d(this)))):void GObj.$d(this)},t}(ActionBase);__reflect(ActionDie.prototype,"ActionDie");var ActionFlash=function(e){function t(){var t=e.call(this)||this;return t.tuowei=!1,t.tuoweiFrameCount=8,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 8},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n,i,r,a){t||this.recycle(),this.d=GMath.distance(t.x,t.y,n,i);var o=this.d/StaticData.ACTIN_FLASH_SPEED;this.tuowei=o>=this.tuoweiFrameCount,this.dx=(n-t.x)/o,this.dy=(i-t.y)/o,e.prototype.start.call(this,t,n,i,r,a)},t.prototype.update=function(){return this._view?(this.data||this.tuowei&&this._enterFrame%3==0&&SkillAction["do"](GMath.rate(66)?gYq.NS:gYq.TQ,irK.B_B,this._view.x,this._view.y),this._enterFrame++,this._view.x+=this.dx,this._view.y+=this.dy,this.d=this.d-StaticData.ACTIN_FLASH_SPEED,void(this.d<=0&&GObj.$d(this))):void GObj.$d(this)},t}(ActionBase);__reflect(ActionFlash.prototype,"ActionFlash");var ActionJump=function(e){function t(){var t=e.call(this)||this;return t.easing=.1,t.mh=30,t.gd=.4,t.g=.4,t.ine=3,t._tt=1,t._st=1,t._vx=0,t._vy=0,t._fx=1,t._fy=1,t._countx=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n,i,r,a){this._fx=t.x<n?1:-1,this._fy=t.y<i?-1:1;var o=(n-t.x)*this._fx,s=o,p=o;-1==this._fy?(s=.6*o,p=.4*o):(s=.2*o,p=.8*o);var l=this.mh,c=this._fy>=1?i-l:t.y-l;l=i-c,this._tt=Math.sqrt(2*l/this.gd),this.ine=s/this._tt;var u=t.y-c;this._st=Math.sqrt(2*u/this.g),this._st=this._st,this._vx=GMath.toFixed(p/this._st,1),this._vy=GMath.toFixed(2*u/this._st,1),this._countx=!1,e.prototype.start.call(this,t,n,i,r,a)},t.prototype.update=function(){return this._view?(this._enterFrame++,!this._countx&&this._enterFrame>this._st&&(this._countx=!0,this._vx=this.ine),this._countx?this._vy-=this.gd:this._vy-=this.g,this._view.y-=this._vy,this._view.x+=this._vx*this._fx,void(this._enterFrame>this._tt+this._st&&GObj.$d(this))):void this.recycle()},t}(ActionBase);__reflect(ActionJump.prototype,"ActionJump");var ActionRepel=function(e){function t(){var t=e.call(this)||this;return t.easing=.3,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),t.prototype.update=function(){return this._view?(this._enterFrame++,this.dx=GEase.easing(this._view.x,this._tx,this.easing),this.dy=GEase.easing(this._view.y,this._ty,this.easing),this._view.x+=this.dx,this._view.y+=this.dy,void(this._enterFrame>=40?GObj.$d(this):this.dx<=1&&this.dx>=-1&&this.dy<=1&&this.dy>=-1&&GObj.$d(this))):void GObj.$d(this)},t}(ActionBase);__reflect(ActionRepel.prototype,"ActionRepel");var ActionShake=function(e){function t(){var t=e.call(this)||this;return t.shakeFrame=2,t._endFrame=8,t._range=2,t._arr=[{x:1,y:-1},{x:0,y:1},{x:-1,y:-1},{x:0,y:1}],t._len=t._arr.length,t._updateFrame=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 6},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n,i,r,a){if(this._startTime=GApp.timer+n,this.data&&(this.data.shakeRange&&(this._range=this.data.shakeRange),this.data.shakeTime)){this._endFrame=int(this.data.shakeTime/GConfig.FRAME_TIME);var o=int(this._endFrame/(2*this.shakeFrame));this._endFrame=2*(o||1)}e.prototype.start.call(this,t,n,i,r,a)},t.prototype.update=function(){if(!(GApp.timer<this._startTime)&&(this._updateFrame++,this._updateFrame%this.shakeFrame==0)){var e=App.UY.scene;if(!e)return void GObj.$d(this);this._enterFrame++,this._enterFrame<=this._endFrame?this._enterFrame%2!=0?(e.x+=this._range,e.y+=this._range):(e.x-=this._range,e.y-=this._range):GObj.$d(this)}},t}(ActionBase);__reflect(ActionShake.prototype,"ActionShake");var ActionSprint=function(e){function t(){return e.call(this)||this}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 3},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n,i,r,a){this.data={vanishTime:320,teleport:240},QycO.YV&&(this.easing=.1,this.data={vanishTime:380,teleport:240}),App.PD.playEffect(SoundIds.G_),SkillAction["do"](gYq.QB,1,t.x,t.y,n,i-GConfig.NPC_BRUISE_OFF_Y,t.y-GConfig.ROLE_BRUISE_OFF_Y),e.prototype.start.call(this,t,n,i,r,a)},t}(ActionTeleport);__reflect(ActionSprint.prototype,"ActionSprint");var ActionSpur=function(e){function t(){var t=e.call(this)||this;return t.easing=.1,t}return __extends(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return 4},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n,i,r,a){t||this.recycle(),this.d=GMath.distance(t.x,t.y,n,i);var o=this.d/StaticData.ACTIN_FLASH_SPEED;this.dx=(n-t.x)/o,this.dy=(i-t.y)/o,e.prototype.start.call(this,t,n,i,r,a)},t.prototype.update=function(){return this._view?(this._enterFrame++,this._view.x+=this.dx,this._view.y+=this.dy,this.d=this.d-StaticData.ACTIN_FLASH_SPEED,void(this.d<=0&&GObj.$d(this))):void GObj.$d(this)},t}(ActionBase);__reflect(ActionSpur.prototype,"ActionSpur");var DropView=function(e){function t(){var t=e.call(this)||this;return t.delay=0,t.spring=.3,t.friction=.4,t._destory=!1,t._tx=0,t._ty=0,t._sx=0,t._sy=0,t._count=1,t._id=0,t._frameSize=0,t._startTime=0,t._tempTime=0,t._isEnd=!1,t._vx=0,t._vy=0,t}return __extends(t,e),t.prototype.init=function(){this.touchEnabled=this.touchChildren=!1,this._qmceff=GObj.$c(RotateEffect),this._qmceff.blendMode=egret.BlendMode.ADD,this.addChild(this._qmceff),this._tbmp=GObj.$c(egret.Bitmap);var e=GObj.$c(egret.Rectangle);e.x=4,e.y=4,e.width=26,e.height=14,this._tbmp.scale9Grid=e,this.addChild(this._tbmp),this._nameTxt=GObj.$c(egret.TextField),this._nameTxt.size=16,this._nameTxt.textColor=Color.TX,this._nameTxt.y=4,this.addChild(this._nameTxt)},t.prototype.start=function(e,n,i,r,a,o,s){if(!this.__htg__recycle__&&e){this._destory=!1,this._tx=a,this._ty=o,this._sx=i,this._sy=r,this._vx=0,this._vy=0,this._p1y=r-.5*(o-r),this._p1x=i+.25*(a-i),this._pt=0,this._count=n,this.x=i,this.y=r,this._id=e,this._frameSize=0,this._startTime=GApp.timer+200+(this.delay||0);var p=XCA.FR(e);if(!p)return void GObj.$d(this);var l=p.name,c=p.qua-1;c<aKF.MM?c=aKF.MM:c>=aKF.JN&&(c=aKF.JN),c||(c=aKF.MM);var u=StaticData.DROP_ICON[c];u&&(this._tbmp.texture=RES.getRes(u.tg),this._qmceff.start(RES.getRes(u.qmc),150),u.effect&&(this._qEffect||(this._qEffect=App.KB.getUIEffect(u.effect),this._qEffect.x=-56,this._qEffect.y=-348),this.addChildAt(this._qEffect,0),this._qEffect.start(u.effect))),t.index!=s&&(t.index=s,App.PD.playEffect(SoundIds.KH)),this._nameTxt.text=l,this._nameTxt.textColor=aKF.OU(c);var d=egret.sys.measureText(l,this._nameTxt.fontFamily,this._nameTxt.size,!1,!1);this._tbmp.width=44+d,this._tbmp.x=.5*-this._tbmp.width,this._tbmp.y=-this._tbmp.height-20,this._nameTxt.x=this._tbmp.x+22,this._nameTxt.y=this._tbmp.y+4,App.VV.registerEffect(this,!0)}},t.prototype.inBag=function(e,t){this._startTime=GApp.timer+StaticData.PICKUP_TIME,this._isEnd=!0,this._enterFrame=0;var n=RightToolsBar.instance.bagPos;this._sx=n.x,this._sy=n.y,this._vx=0,this._vy=0,GxD.instance.addNewGoods(this._id,this._count)},t.prototype.update=function(){if(GApp.timer<this._startTime)return this._enterFrame=0,void(this._isEnd||(this.visible=!1));if(this._enterFrame++,1==this._enterFrame&&(this.visible=!0),this._isEnd)if(this._enterFrame<=1){this._qEffect&&this._qEffect.parent&&this._qEffect.parent.removeChild(this._qEffect);var e=this.localToGlobal();this.x=e.x,this.y=e.y,App.FT.uiLayer.addChild(this)}else this._enterFrame<=30?(this._enterFrame>20&&this.alpha>0&&(this.scaleY=this.scaleX-=.1,this.alpha-=.1),this._vx=GEase.spring(this.x,this._sx,this._vx,this.spring,this.friction),this._vy=GEase.spring(this.y,this._sy,this._vy,this.spring,this.friction),this.x+=this._vx,this.y+=this._vy):GObj.$d(this);else this._enterFrame<=20?(this._pt+=.05,this.x=GEase.bezier(this._sx,this._p1x,this._tx,this._pt),this.y=GEase.bezier(this._sy,this._p1y,this._ty,this._pt)):this._enterFrame<=28?this.y-=8:this._enterFrame<=38?this.y+=9:this._enterFrame<=40?this.y-=2:this._enterFrame<=44&&(this.y+=1)},t.prototype.clear=function(){this._destory||GObj.$d(this)},Object.defineProperty(t.prototype,"destory",{get:function(){return this._destory},enumerable:!0,configurable:!0}),t.prototype.recycle=function(){this._destory=!0,this._enterFrame=0,this.scaleY=this.scaleX=1,this.alpha=1,this._isEnd=!1,this._id=0,this._frameSize=0,this._qmceff.stop(),this._qEffect&&(this._qEffect.parent&&this._qEffect.parent.removeChild(this._qEffect),this._qEffect.stop()),this.delay=0,App.VV.unregisterEffect(this),this.parent&&this.parent.removeChild(this)},t.prototype.dispose=function(){this.recycle()},t.index=-1,t}(EffectView);__reflect(DropView.prototype,"DropView",["ICache"]);var PlayerSKillAI=function(e){function t(){var n=e.call(this)||this;return n.autoFakeSkill=!0,singleton(t._instance),t._instance=n,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skillDict",{get:function(){return this._skillDict},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigSkillDic",{get:function(){return this._bigSkillDic},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fakeBigSkillDic",{get:function(){return this._fakeSkillDict},enumerable:!0,configurable:!0}),t.prototype.init=function(){e.prototype.init.call(this),this.__skillUpdateHandler()},t.prototype.getActSkillInfoByArr=function(e){if(e){var t=e.length;if(!(0>=t)){for(var n={},i=0;t>i;i++){var r=e[i];if(!(0>=r)){var a=App.JO.getActSkillInfoBySonType(r.toString());a&&(n[r]=a.totalGrade)}}return n}}},t.prototype.__skillUpdateHandler=function(){var e=this,t=App.JO.skillInalyInfo;if(t){var n=t.length;if(!(0>=n)){var i=e.getActSkillInfoByArr(t),r=App.BG.playerAttrsInfo.cdrate||0;e.skillUpdate(i),e.updateSkillCd(r)}}},t.prototype.__fakeBigSkillUpdateHandler=function(e){var t=this;if(e){var n=e.length;if(!(0>=n)){var i=t.getActSkillInfoByArr(e),r=App.BG.playerAttrsInfo.uscdrate||0;t.skillUpdate(i,!0),t.updateFakeBigSkillCd(r)}}},t.prototype.updateSkillCd=function(e){var t=this;for(var n in t._skillDict){var i=t._skillDict[n];i&&(i.atkcd=App.JP.cooldown(i.cd,e))}},t.prototype.updateFakeBigSkillCd=function(e){var t=this;for(var n in t._fakeSkillDict){var i=t._fakeSkillDict[n];i&&(i.atkcd=App.JP.cooldown(i.cd,e))}},t.prototype.addEvent=function(){var t=this;e.prototype.addEvent.call(this),vkG.$a(UtJ.A_,t.__skillUpdateHandler,t),vkG.$a(UtJ.CJ,t.__skillUpdateHandler,t),vkG.$a(UtJ.YG,t.__fakeBigSkillUpdateHandler,t),vkG.$a(UtJ.YT,t.__sceneSwitchHandler,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.A_,t.__skillUpdateHandler,t),vkG.$r(UtJ.CJ,t.__skillUpdateHandler,t),vkG.$r(UtJ.YG,t.__fakeBigSkillUpdateHandler,t),vkG.$r(UtJ.YT,t.__sceneSwitchHandler,t)},t.prototype.__sceneSwitchHandler=function(){var e,t=this,n=t.fakeBigSkillDic;for(var i in n)e=n[i],e.atkTime=0;var r=t.skillDict;for(var i in r)e=r[i],e.atkTime=0},t.prototype.getSkillAttack=function(t){var n=e.prototype.getSkillAttack.call(this,t);return n.spur=t.assaultratio>0&&!n.skill&&Math.random()<.05,n.skill&&this.isFakeBigSkill(n.skill.id)&&vkG.$d(UtJ.CS),n},t.prototype.bigSkillOpen=function(){var e=this,t=XCA.AQS.UFA(62,StaticData.MAP_SKILL_ID,1);if(t){var n=e._bigSkillDic[StaticData.MAP_SKILL_ID];!n&&(n=e._bigSkillDic[StaticData.MAP_SKILL_ID]=GObj.$c(SkillAttackVO)),n.grade=1,n.bigSkill=!0;var i=App.BG.playerAttrsInfo.wlcct||0;e.bigSkillToSvo(t,n),n.atkcd=App.JP.bigSkillCooldown(n.cd,i)}},t._instance=null,t}(SkillAI);__reflect(PlayerSKillAI.prototype,"PlayerSKillAI");var SkillTitleBigView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){this._bgBmp=GObj.$c(egret.Bitmap),this.addChild(this._bgBmp),LoaderManager.instance.load(PATH.ZY+"bg1"+FileConst.png,this.__bgLoadComplete,this,LoaderConst.PRIORITY_DEFAULT)},t}(SkillTitleView);__reflect(SkillTitleBigView.prototype,"SkillTitleBigView");var AttackVO=function(){function e(){this.bj=0,this.yo=0,this.direction8=1,this.atkIndex=0}return Object.defineProperty(e.prototype,"skillId",{get:function(){var e=this;return e.skill?e.skill.id:e.atkIndex+1e4},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"atkx",{get:function(){return this.bj},set:function(e){this.bj=int(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"atky",{get:function(){return this.yo},set:function(e){this.yo=int(e)},enumerable:!0,configurable:!0}),e}();__reflect(AttackVO.prototype,"AttackVO");var DamageListVO=function(){function e(){}return e}();__reflect(DamageListVO.prototype,"DamageListVO");var DamageVO=function(){function e(){}return e}();__reflect(DamageVO.prototype,"DamageVO");var SkillAttackVO=function(){function e(){this.wait=!1,this.pasIdList=[]}return e.prototype.reset=function(){var e=this;e.pasAttr&&e.pasAttr.init(),e.pasIdList.length=0},e.prototype.addPas=function(e){var t=this;e&&(t.pasAttr||(t.pasAttr=GObj.$c(PasinlayAttrTemplate),t.pasAttr.init()),t.pasIdList.push(e.id),t.pasAttr=PasinlayAttrTemplate.JD(t.pasAttr,e))
},e}();__reflect(SkillAttackVO.prototype,"SkillAttackVO");var DamageCommon=function(e){function t(){var t=e.call(this)||this;return t.movex=5,t.movey=-36,t._ox=0,t._totalTop=0,t._currTop=0,t._delay=0,t}return __extends(t,e),t.prototype.initPos=function(){if(this.scaleX=this.scaleY=1.2,this.alpha=1,this._data){var e=this._data.totalStep||1;this.movex=int(this.movex*(1+.4*e)),this._totalTop=e-(this._data.currentStep||0),this._delay=this._data.delay||0,this._data.atkx?this._ox=this._data.atkx>=this._sx?-this.movex:this.movex:this._ox=0}},t.prototype.update=function(){this._currTop<this._totalTop&&GApp.timer>=this._startTime+(this._currTop+1)*this._delay&&(this.y+=this.movey,this._currTop++),this._enterFrame++,this._enterFrame<=6?this.x+=this._ox:this._enterFrame<=8||this._enterFrame<=10||this._enterFrame<=12||(this._enterFrame<=22?(this.scaleX=this.scaleY-=.02,this.x+=.2*this._ox):this._enterFrame<=40?this.x+=.2*this._ox:this._enterFrame<=50?(this.alpha-=.1,this.x+=.2*this._ox):GObj.$d(this))},t}(DamageView);__reflect(DamageCommon.prototype,"DamageCommon");var DamageCrit=function(e){function t(){var t=e.call(this)||this;return t.movex=5,t.movey=-36,t._ox=0,t._totalTop=0,t._currTop=0,t._delay=0,t}return __extends(t,e),t.prototype.initPos=function(){this.scaleX=this.scaleY=1.8,this.alpha=.6,this._data&&(this._totalTop=(this._data.totalStep||0)-(this._data.currentStep||0),this._delay=this._data.delay||0,this._data.atkx?this._ox=this._data.atkx>=this._sx?-this.movex:this.movex:this._ox=0)},t.prototype.update=function(){this._currTop<this._totalTop&&GApp.timer>=this._startTime+(this._currTop+1)*this._delay&&(this.y+=this.movey,this._currTop++),this._enterFrame++,this._enterFrame<=6?(this.x+=this._ox,this.alpha+=.1,this.scaleX=this.scaleY-=.1):this._enterFrame<=8?this.scaleX=this.scaleY-=.1:this._enterFrame<=10?this.scaleX=this.scaleY-=.1:this._enterFrame<=12||(this._enterFrame<=22?this.x+=this._ox:this._enterFrame<=40?this.x+=.4*this._ox:this._enterFrame<=50?(this.alpha-=.1,this.x+=this._ox):GObj.$d(this))},t}(DamageView);__reflect(DamageCrit.prototype,"DamageCrit");var DamageDodge=function(e){function t(){var t=e.call(this)||this;return t.easing=.4,t._tx=0,t._ty=0,t}return __extends(t,e),t.prototype.initPos=function(){this.scaleX=this.scaleY=1.4,this.alpha=1},t.prototype.update=function(){this._enterFrame++,this._enterFrame<=2?this.scaleX=this.scaleY=1.6:this._enterFrame<=4?this.scaleX=this.scaleY=1.4:this._enterFrame<=10||(this._enterFrame<=14?this.scaleX=this.scaleY-=.1:this._enterFrame<=34?this.y-=3:this._enterFrame<=44?(this.y-=2,this.alpha-=.1):GObj.$d(this))},t}(DamageView);__reflect(DamageDodge.prototype,"DamageDodge");var BirdEffect=function(e){function t(){var t=e.call(this)||this;return t.maxCount=99,t._loop=0,t._loopCount=0,t}return __extends(t,e),t.prototype.init=function(){},t.prototype.start=function(t,n,i,r,a){void 0===i&&(i=0),this.playInterval=StaticData.PLAY_UI_INTERVAL,this._loop=i,e.prototype.start.call(this,gYq.BQ,irK.B_B),(!i||0>=i)&&(this._loopCount=this.maxCount)},t.prototype.update=function(){e.prototype.update.call(this),this._enterFrame++,this.x+=2,this.y-=1,this._enterFrame>=600&&GObj.$d(this)},t.prototype.complete=function(){if(this._loop<=0){if(this._startTime=GApp.timer,this._loopCount=this.maxCount,this._bmpArr)for(var e=this._bmpArr.length,t=0;e>t;t++)this._bmpArr[t].texture=null}else this._loopCount--,this._loopCount<=0&&(this.unregister(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE)))},t}(SkillView);__reflect(BirdEffect.prototype,"BirdEffect");var CloudEffect=function(e){function t(){var t=e.call(this)||this;return t.MAX_FILE_NUM=2,t.dspeed=1,t._sx=0,t._sy=0,t._tx=0,t._speed=0,t._start=!1,t}return __extends(t,e),t.prototype.init=function(){this._bmp=GObj.$c(egret.Bitmap),this.addChild(this._bmp)},t.prototype.start=function(e,t,n,i){this.scaleX=this.scaleY=1.5,this._sx=e,this._sy=t,this._tx=n,this._speed=i,n||(this._tx=this._sx+672,this._speed=this.dspeed),this._start=!1,this.alpha=0,this._enterFrame=0;var r=PATH.OY+"cloud1"+FileConst.png;App.EB.load(r,this.__loadCompleteHandler,this)},t.prototype.__loadCompleteHandler=function(e){this._bmp.texture=e.data,this._sx-=.5*this._bmp.width,this._sy-=.5*this._bmp.height,this._tx-=.5*this._bmp.width,this.x=this._sx,this.y=this._sy,this._start=!0,App.VV.registerEffect(this)},t.prototype.update=function(){this._start&&(this._enterFrame++,this.x+=this._speed,this._enterFrame<=25&&(this.alpha+=.04),this.x>=this._tx&&(this.alpha-=.05,this.alpha<=0&&this.dispose()))},t.prototype.dispose=function(){App.VV.unregisterEffect(this),this._bmp&&(this._bmp.texture=null),this.parent&&this.parent.removeChild(this)},t}(EffectView);__reflect(CloudEffect.prototype,"CloudEffect");var MapBattleEnterEffect=function(e){function t(){var t=e.call(this)||this;return t.vk=!1,t.ev=0,t.xx(),t}return __extends(t,e),t.prototype.xx=function(){var e=this;e.shape=GObj.$c(egret.Shape),e.shape.graphics.beginFill(0,1),e.shape.graphics.drawRect(-hCs.stageWidthHalf,-hCs.stageHeightHalf,hCs.stageWidth,hCs.stageHeight),e.shape.graphics.endFill(),e.shape.alpha=0,e.addChild(e.shape),e.bgLeftBmp=GObj.$c(egret.Bitmap),e.bgLeftBmp.texture=RES.getRes("map_battle_left_png"),e.bgLeftBmp.x=-362,e.bgLeftBmp.y=-58,e.addChild(e.bgLeftBmp),e.bgRightBmp=GObj.$c(egret.Bitmap),e.bgRightBmp.texture=RES.getRes("map_battle_right_png"),e.bgRightBmp.x=210,e.bgRightBmp.y=-60,e.addChild(e.bgRightBmp),e.splitBmp=GObj.$c(egret.Bitmap),e.splitBmp.texture=RES.getRes("map_battle_split_png"),e.splitBmp.anchorOffsetX=34,e.splitBmp.anchorOffsetY=99,e.splitBmp.x=e.splitBmp.anchorOffsetX-40,e.splitBmp.y=e.splitBmp.anchorOffsetY-60,e.x=hCs.stageWidthHalf,e.y=hCs.stageHeightHalf},t.prototype.show=function(e,t){var n=this;n.vk||(n.jo=e,n.yw=t,n.vk=!0,App.HA.registeEnterFrame(n.mr,n),App.FT.topLayer.addChild(n))},t.prototype.mr=function(){var e=this;e.ev++,e.ev<=10?(e.bgLeftBmp.x+=21,e.bgRightBmp.x-=21,e.shape.alpha+=.1):e.ev<=12?(e.bgLeftBmp.x-=2,e.bgRightBmp.x+=2):e.ev<=28||(e.ev<=29?(e.splitBmp.scaleX=e.splitBmp.scaleY=3,e.addChild(e.splitBmp)):e.ev<=31?(e.splitBmp.scaleX=e.splitBmp.scaleY=1,e.bgLeftBmp.x-=9,e.bgLeftBmp.y+=21,e.bgRightBmp.x+=9,e.bgRightBmp.y-=21):e.ev<=33?(e.bgLeftBmp.x-=9,e.bgLeftBmp.y+=21,e.bgRightBmp.x+=9,e.bgRightBmp.y-=21,e.splitBmp.parent&&e.splitBmp.parent.removeChild(e.splitBmp)):GObj.$d(e))},t.prototype.dispose=function(){var e=this;e.jo&&e.jo.call(e.yw),e.jo=null,e.yw=null,App.HA.unRegisteEnterFrame(e.mr,e),e.shape&&(e.shape.graphics.clear(),GObj.$d(e.shape),e.shape=null),GObj.$d(e.bgLeftBmp),e.bgLeftBmp=null,GObj.$d(e.bgRightBmp),e.bgRightBmp=null,GObj.$d(e.splitBmp),e.splitBmp=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(MapBattleEnterEffect.prototype,"MapBattleEnterEffect");var MapBossChapterEffect=function(e){function t(){var t=e.call(this)||this;return t.ca=!1,t.nu=0,t.rt(),t}return __extends(t,e),t.prototype.rt=function(){var e=this,t=App.KF.chapter||1;e.bgBmp=GObj.$c(egret.Bitmap),e.bgBmp.texture=RES.getRes("map_json.map_fight_bg_png"),e.addChild(e.bgBmp),e.firstBmp=GObj.$c(egret.Bitmap),e.firstBmp.texture=RES.getRes("map_json.map_fight_first_png"),e.firstBmp.y=-12,e.addChild(e.firstBmp),e.chapterBmp=GObj.$c(egret.Bitmap),e.chapterBmp.texture=RES.getRes("map_json.map_fight_chapter_png"),e.chapterBmp.y=-12,e.addChild(e.chapterBmp),e.chapterView=hFO.instance.getNumberView(bRC.LK,toChars(t),-2),e.chapterView.y=-12,e.addChild(e.chapterView),e.effSpr=GObj.$c(egret.Sprite),e.addChild(e.effSpr),e.bgEffBmp=GObj.$c(egret.Bitmap),e.bgEffBmp.texture=RES.getRes("map_json.map_fight_bg_png"),e.effSpr.addChild(e.bgEffBmp),e.firstEffBmp=GObj.$c(egret.Bitmap),e.firstEffBmp.texture=RES.getRes("map_json.map_fight_first_png"),e.effSpr.addChild(e.firstEffBmp),e.chapterEffBmp=GObj.$c(egret.Bitmap),e.chapterEffBmp.texture=RES.getRes("map_json.map_fight_chapter_png"),e.effSpr.addChild(e.chapterEffBmp),e.chapterEffView=hFO.instance.getNumberView(bRC.LK,toChars(t),-2),e.effSpr.addChild(e.chapterEffView),e.effSpr.alpha=.6},t.prototype.show=function(e,t){var n=this;if(!n.ca){n.jr=e,n.dy=t,n.ca=!0,n.bgBmp.x=.5*-n.bgBmp.width,n.bgBmp.y=.5*-n.bgBmp.height;var i=.5*-(n.firstBmp.width+n.chapterBmp.width+n.chapterView.width+12);n.firstBmp.x=i,n.chapterView.x=n.firstBmp.x+n.firstBmp.width+6,n.chapterBmp.x=n.chapterView.x+n.chapterView.width+6,n.bgEffBmp.x=n.bgBmp.x,n.bgEffBmp.y=n.bgBmp.y,n.firstEffBmp.x=n.firstBmp.x,n.firstEffBmp.y=n.firstBmp.y,n.chapterEffView.x=n.chapterView.x,n.chapterEffView.y=n.chapterView.y,n.chapterEffBmp.x=n.chapterBmp.x,n.chapterEffBmp.y=n.chapterBmp.y,n.x=hCs.stageWidthHalf,n.y=hCs.stageHeightHalf-120,App.HA.registeEnterFrame(n.ad,n),App.FT.topLayer.addChild(n)}},t.prototype.ad=function(){var e=this;e.nu++,e.nu<=10||(e.nu<=30?(e.effSpr.scaleX=e.effSpr.scaleY+=.05,e.effSpr.alpha-=.03):e.nu<=40?(e.effSpr.scaleX=e.effSpr.scaleY=1,e.effSpr.alpha=.6):e.nu<=60?(e.effSpr.scaleX=e.effSpr.scaleY+=.05,e.effSpr.alpha-=.03):e.nu<=70?(e.effSpr.scaleX=e.effSpr.scaleY=1,e.effSpr.alpha=.6):e.nu<=90?(e.effSpr.scaleX=e.effSpr.scaleY+=.05,e.effSpr.alpha-=.03):e.nu<=100?e.alpha-=.1:GObj.$d(e))},t.prototype.dispose=function(){var e=this;App.HA.unRegisteEnterFrame(e.ad,e),e.jr&&e.jr.call(e.dy),e.jr=null,e.dy=null,GObj.$d(e.bgBmp),e.bgBmp=null,GObj.$d(e.firstBmp),e.firstBmp=null,GObj.$d(e.chapterBmp),e.chapterBmp=null,GObj.$d(e.chapterView),e.chapterView=null,GObj.$d(e.bgEffBmp),e.bgEffBmp=null,GObj.$d(e.firstEffBmp),e.firstEffBmp=null,GObj.$d(e.chapterEffBmp),e.chapterEffBmp=null,GObj.$d(e.chapterEffView),e.chapterEffView=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(MapBossChapterEffect.prototype,"MapBossChapterEffect");var MapBossEnterEffect=function(e){function t(){var t=e.call(this)||this;return t.db=!1,t.ub=0,t.hi(),t}return __extends(t,e),t.prototype.hi=function(){var e=this;e.bgBmp=GObj.$c(egret.Bitmap),e.bgBmp.texture=RES.getRes("map_json.map_boss_enter_png"),e.addChild(e.bgBmp),e.effBmp=GObj.$c(egret.Bitmap),e.effBmp.texture=RES.getRes("map_json.map_boss_enter_png"),e.addChild(e.effBmp),e.effBmp.alpha=.6},t.prototype.show=function(e,t){var n=this;n.db||(n.kn=e,n.gj=t,n.db=!0,n.bgBmp.x=.5*-n.bgBmp.width,n.bgBmp.y=.5*-n.bgBmp.height,n.effBmp.anchorOffsetX=.5*n.bgBmp.width,n.effBmp.anchorOffsetY=.5*n.bgBmp.height,n.x=hCs.stageWidthHalf,n.y=hCs.stageHeightHalf-120,App.HA.registeEnterFrame(n.zt,n),App.FT.topLayer.addChild(n))},t.prototype.zt=function(){var e=this;e.ub++,e.ub<=10||(e.ub<=30?(e.effBmp.scaleX=e.effBmp.scaleY+=.05,e.effBmp.alpha-=.03):e.ub<=40?(e.effBmp.scaleX=e.effBmp.scaleY=1,e.effBmp.alpha=.6):e.ub<=60?(e.effBmp.scaleX=e.effBmp.scaleY+=.05,e.effBmp.alpha-=.03):e.ub<=70?(e.effBmp.scaleX=e.effBmp.scaleY=1,e.effBmp.alpha=.6):e.ub<=90?(e.effBmp.scaleX=e.effBmp.scaleY+=.05,e.effBmp.alpha-=.03):e.ub<=100?e.alpha-=.1:GObj.$d(e))},t.prototype.dispose=function(){var e=this;App.HA.unRegisteEnterFrame(e.zt,e),e.kn&&e.kn.call(e.gj),e.kn=null,e.gj=null,GObj.$d(e.bgBmp),e.bgBmp=null,GObj.$d(e.effBmp),e.effBmp=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(MapBossEnterEffect.prototype,"MapBossEnterEffect");var MapEndEffect=function(e){function t(){var t=e.call(this)||this;return t.rh=0,t.jy=0,t.rs(),t}return __extends(t,e),t.prototype.rs=function(){var e=this;e.graphics.beginFill(17,1),e.graphics.drawRect(0,0,hCs.stageWidth,hCs.stageHeight),e.graphics.endFill()},t.prototype.show=function(e){var t=this;if(!usable(e))return void GObj.$d(t);t.gm=[];for(var n,i=e.split(QycO.PK),r=i.length,a=int(.5*(hCs.stageHeight-50*r)),o=0;r>o;o++)n=GObj.$c(egret.TextField),n.size=36,n.textColor=16777215,n.text=i[o],n.x=.5*(hCs.stageWidth-n.textWidth),n.y=a+50*o,n.alpha=0,t.addChild(n),t.gm.push(n);t.rh=20*t.gm.length,App.YX.stage.addChild(t),App.HA.registeEnterFrame2(t._r,t)},t.prototype._r=function(){var e=this;if(!e.gm)return void GObj.$d(e);if(e.jy++,e.jy<=e.rh){var t=int(e.jy/20);if(t<e.gm.length){var n=e.gm[t];n.alpha+=.05}}else if(e.jy>=e.rh+60)return void GObj.$d(e)},t.prototype.dispose=function(){var e=this;ChangeNamesPopUi.CC(),App.HA.unRegisteEnterFrame2(e._r,e),GObj.$d(e.gm),e.gm=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(MapEndEffect.prototype,"MapEndEffect");var MapName=function(e){function t(){var n=e.call(this)||this;return n._enterFrame=0,singleton(t._instance),t._instance=n,n.init(),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;e.nameBgBmp=GObj.$c(eui.Image),e.nameBgBmp.x=10,e.nameBgBmp.y=0,e.nameBgBmp.source="game_json.map_name_bg_png",e.addChild(e.nameBgBmp),e.nameBmp=GObj.$c(eui.Image),e.nameBmp.x=70,e.nameBmp.y=15,e.addChild(e.nameBmp)},t.ZY=function(e){this.instance.$show(e)},t.prototype.$show=function(e){var t=this;if(!e||!e.nameicon)return void(t._name=null);if(t._name=e.nameicon,t._lvo){if(t._lvo.args==t._name)return void t.__loadCompleteHandler(t._lvo);GObj.$d(t._lvo),t._lvo=null}App.EB.load(PATH.MB+t._name+FileConst.png,t.__loadCompleteHandler,this,LoaderConst.PRIORITY_DEFAULT,t._name)},t.prototype.__loadCompleteHandler=function(e){var t=this;return t._name==e.args&&e.data?(t._lvo=e,t.nameBmp.texture=e.data,t.nameBgBmp.parent||t.addChild(t.nameBgBmp),t.y=56,t.x=46,t.alpha=0,t.nameBgBmp.alpha=1,t.nameBmp.alpha=0,t.nameBmp.y=15,t.parent||App.FT.uiLayer.addChild(t),t._enterFrame=0,void App.HA.registeEnterFrame(t.enterFrameHandler,t)):void GObj.$d(e)},t.prototype.enterFrameHandler=function(){var e=this;e._enterFrame++,e._enterFrame<=10?(e.alpha+=.1,e.y+=14):e._enterFrame<=12?e.y-=4:e._enterFrame<=14||(e._enterFrame<=16?e.y-=2:e._enterFrame<=36||e._enterFrame<=44||e._enterFrame<=46||e._enterFrame<=54||(e._enterFrame<=64?e.nameBmp.alpha+=.1:e._enterFrame<=84||e._enterFrame<=160||e._enterFrame<=170||e._enterFrame<=180||(e._enterFrame<=190?(e.nameBgBmp.alpha-=.1,e.nameBmp.alpha-=.05,e.nameBmp.y+=5):e._enterFrame<=200?(e.nameBmp.alpha-=.05,e.nameBmp.y+=5):e.hide())))},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e),App.HA.unRegisteEnterFrame(e.enterFrameHandler,e),e._enterFrame=0},t._instance=null,t}(egret.Sprite);__reflect(MapName.prototype,"MapName");var MapPvpEnterEffect=function(e){function t(){var t=e.call(this)||this;return t.xw=!1,t.fb=0,t.mu(),t}return __extends(t,e),t.prototype.mu=function(){var e=this;e.bgBmp=GObj.$c(egret.Bitmap),e.bgBmp.texture=RES.getRes("map_json.map_pvp_enter_png"),e.addChild(e.bgBmp),e.effBmp=GObj.$c(egret.Bitmap),e.effBmp.texture=RES.getRes("map_json.map_pvp_enter_png"),e.addChild(e.effBmp),e.effBmp.alpha=.6},t.prototype.show=function(e,t){var n=this;n.xw||(n.ce=e,n.mn=t,n.xw=!0,n.bgBmp.x=.5*-n.bgBmp.width,n.bgBmp.y=.5*-n.bgBmp.height,n.effBmp.anchorOffsetX=.5*n.bgBmp.width,n.effBmp.anchorOffsetY=.5*n.bgBmp.height,n.x=hCs.stageWidthHalf,n.y=hCs.stageHeightHalf-120,App.HA.registeEnterFrame(n.vd,n),App.FT.topLayer.addChild(n))},t.prototype.vd=function(){var e=this;e.fb++,e.fb<=10||(e.fb<=30?(e.effBmp.scaleX=e.effBmp.scaleY+=.05,e.effBmp.alpha-=.03):e.fb<=40?(e.effBmp.scaleX=e.effBmp.scaleY=1,e.effBmp.alpha=.6):e.fb<=60?(e.effBmp.scaleX=e.effBmp.scaleY+=.05,e.effBmp.alpha-=.03):e.fb<=70?(e.effBmp.scaleX=e.effBmp.scaleY=1,e.effBmp.alpha=.6):e.fb<=90?(e.effBmp.scaleX=e.effBmp.scaleY+=.05,e.effBmp.alpha-=.03):e.fb<=100?e.alpha-=.1:GObj.$d(e))},t.prototype.dispose=function(){var e=this;App.HA.unRegisteEnterFrame(e.vd,e),e.ce&&e.ce.call(e.mn),e.ce=null,e.mn=null,GObj.$d(e.bgBmp),e.bgBmp=null,GObj.$d(e.effBmp),e.effBmp=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(MapPvpEnterEffect.prototype,"MapPvpEnterEffect");var MapSwitchEffect=function(e){function t(){var t=e.call(this)||this;return t.dz=50,t.gj=500,t.lc=300,t.kk=!1,t.iu=!1,t.py=!1,t}return __extends(t,e),t.prototype.cn=function(){var e=this;e._z||(e._z=GObj.$c(egret.Bitmap),e._z.texture=RES.getRes("switch_png"),e._z.x=.5*-e._z.width,e._z.y=.5*-e._z.height,e.addChild(e._z))},Object.defineProperty(t.prototype,"playing",{get:function(){return this.py},enumerable:!0,configurable:!0}),t.prototype.switchout=function(e,t){var n=this;n.py||(n.cn(),n.iz=e,n.cz=t,n.kk=!0,n.x=hCs.stageWidthHalf,n.y=hCs.stageHeightHalf,n.alpha=1,n.px=hCs.stageWidth/n.dz,n.fa=hCs.stageHeight/n.dz,n.gw=n.px/n.gj,n.ze=n.fa/n.gj,n.ve=GApp.timer,n.al())},t.prototype.al=function(){var e=this;e.py=!0,App.YX.stage.addChild(e),App.HA.registeEnterFrame2(e.ho,e)},t.prototype.jt=function(){var e=this;e.py=!1,App.HA.unRegisteEnterFrame2(e.ho,e),e.parent&&e.parent.removeChild(e),e.sq&&(e.sq.apply(e.cz),e.sq=null,e.cz=null)},t.prototype.ho=function(){var e=this,t=GApp.timer-e.ve,n=e.gw*t,i=e.ze*t;if(e.kk)return n=n>e.px?e.px:GMath.toFixed(n,3),i=i>e.fa?e.fa:GMath.toFixed(i,3),e.scaleX=n,e.scaleY=i,void(t>=e.gj&&(e.kk=!1,e.iz&&(e.iz.apply(e.cz),e.iz=null)));if(e.iu){n=e.px-n,i=e.px-i;var r=1-e.zn*t;0>r&&(r=0),n=0>n?0:GMath.toFixed(n,3),i=0>i?0:GMath.toFixed(i,3),e.scaleX=n,e.scaleY=i,t>=e.lc&&(e.iu=!1,e.jt())}},t.prototype.switchover=function(e,t){var n=this;n.sq=e,n.cz=t,n.iu=!0,n.x=hCs.stageWidthHalf,n.y=hCs.stageHeightHalf,n.zn=.6/n.lc*2,n.rotation=0,n.px=hCs.stageWidth/n.dz,n.fa=hCs.stageHeight/n.dz,n.gw=n.px/n.lc,n.ze=n.fa/n.lc,n.ve=GApp.timer},t.prototype.dispose=function(){var e=this;e.iz=null,e.sq=null,e.cz=null,App.HA.unRegisteEnterFrame2(e.ho,e),e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(MapSwitchEffect.prototype,"MapSwitchEffect");var GodSpiritCountDown=function(e){function t(){var t=e.call(this,"GodSpiritCountDown")||this;return t.skinName=RRUU.$s("GodSpiritCountDown"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.horizontalCenter=0,e.bottom=330},t.prototype.initData=function(){this.xg()},t.prototype.xg=function(){var e=this;e.revivieBtn.label=fvg.GVf("campaign56");var t=App.HP.fightCountInfo.reviveCount>0?Color.TX:Color.KA,n=App.OZ.getDataByName(IDU.MP);e.descLab.textFlow=LgRe.OQ(fvg.GVf("campaign63",t,App.HP.fightCountInfo.reviveCount,n))},t.prototype.initEvent=function(){var e=this;e.revivieBtn.addEventListener(eui.tep,e.yh,e)},t.prototype.removeEvent=function(){var e=this;e.revivieBtn.removeEventListener(eui.tep,e.yh,e)},t.prototype.yh=function(){var e=this;if(App.HP.fightCountInfo.reviveCount<=0)return void msgTip(fvg.GVf("campaign53"));var t=XCA.CG(IDU.KR).split(",");Alert.WK(fvg.GVf("revivie3",t[1]),void 0,void 0,e.nyc,e)},t.prototype.show=function(e,t){var n=this;n.dn=e,n.vc=t,n.xg(),n.parent||App.FT.addToLayer(this,alvJ.WL)},t.prototype.nyc=function(){var e=this,t=XCA.CG(IDU.KR).split(","),n=parseInt(t[1]);return App.KF.point<n?void msgTip(fvg.GVf("public017")):(PurgatoryMsgProxy.VD(),void(e.dn&&e.dn.call(e.vc)))},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.revivieBtn),t.revivieBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(GodSpiritCountDown.prototype,"GodSpiritCountDown");var GodSpiritItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("GodSpiritItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ew,e),vkG.$a(UtJ.LF,e.tu,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ew,e),vkG.$r(UtJ.LF,e.tu,e)},t.prototype.tu=function(){var e=this;e.zg&&(e.zg.isDie?(e.proBar.value=0,e.proLab.text=fvg.GVf("40",0)):(e.proBar.value=e.zg.data.attr.lefthp/e.zg.data.attr.maxhp*100,e.proLab.text=fvg.GVf("40",e.proBar.value)))},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.zg=e.data,e.headImg.source=kLM.JU(e.zg.data.sex||1,e.zg.data.head||1,1),e.frameIcon.source=kLM.ZQ(e.zg.data.usehf||1),e.nameLab.text=e.zg.data.name,e.tu())},t.prototype.ew=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.frameIcon),t.frameIcon=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GodSpiritItem.prototype,"GodSpiritItem");var GodSpiritLeftView=function(e){function t(){var t=e.call(this,"GodSpiritLeftView")||this;return t.skinName=RRUU.$s("GodSpiritLeftview"),t.left=0,t.bottom=260,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.teamDescLab.text=fvg.GVf("purgatory25"),e.teamData=GObj.$c(eui.ArrayCollection),e.teamGroup.dataProvider=e.teamData,e.teamGroup.itemRenderer=GodSpiritItem},t.prototype.initData=function(){var e=this;e.CSo&&e.mw()},Object.defineProperty(t.prototype,"playerInfo",{set:function(e){var t=this;if(t.bj=e,t.CSo&&e){t.teamData.source.length=0;var n=App.BG.playerHandler,i=App.BG.playerHandler.data.id;if(i==App.KF.uid&&(n.data.familyid=App.XW.familyInfo.id,n.data.head=App.KF.currentHead,t.teamData.source.push(n)),e)for(var r in e)t.teamData.source.push(e[r]);t.teamData.refresh()}},enumerable:!0,configurable:!0}),t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.mw=function(){var e=this;if(e.CSo){e.teamData.source.length=0;for(var t in e.bj)e.teamData.source.push(e.bj[t]);e.teamData.refresh()}},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.teamDescLab),t.teamDescLab=null,t.teamGroup&&(t.teamGroup.dataProvider=null,GObj.$d(t.teamGroup)),t.teamGroup=null,t.teamData,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(GodSpiritLeftView.prototype,"GodSpiritLeftView");var GodSpiritMapPassView=function(e){function t(){var t=e.call(this)||this;return t.ns=0,t}return __extends(t,e),t.prototype.jd=function(){var e=this;if(!e.ie){var t=RES.getRes("purgatory_pass_num_png");if(t){e.sq=GObj.$c(egret.Bitmap),e.sq.texture=RES.getRes("purgatory_pass_bg_png"),e.sq.x=.5*-e.sq.width,e.sq.y=.5*-e.sq.height,e.addChild(e.sq),e.pl=GObj.$c(egret.Bitmap),e.pl=GObj.$c(egret.Bitmap),e.pl.texture=RES.getRes("purgatory_pass_1_png"),e.pl.y=.5*-e.pl.height,e.addChild(e.pl),e.gm=GObj.$c(egret.Bitmap),e.gm.texture=RES.getRes("purgatory_pass_2_png"),e.gm.y=.5*-e.pl.height,e.addChild(e.gm),e.ie=[],e._c=[];var n=GObj.$c(egret.Rectangle),i=t.textureWidth/10,r=t.textureHeight;n.width=i,n.height=r,n.y=0;for(var a=0;10>a;a++)n.x=i*a,e.ie.push(BitmapUtil.drawToTexture(t,n))}}},t.prototype.show=function(e){var t=this;if(t.jd(),t.ie){for(var n,i=toChars(e||0),r=i.length,a=30,o=-r*a*.5,s=0;r>s;s++){n=t._c[s],n||(t._c[s]=n=GObj.$c(egret.Bitmap));var p=i.charAt(s);n.texture=t.ie[p],n.x=o+s*a,n.y=.5*-n.height,t.addChild(n)}for(t.pl.x=o-60,t.gm.x=o+s*a+14,r=t._c.length;r>s;s++)n=t._c[s],n&&n.parent&&n.parent.removeChild(n);t.x=hCs.stageWidthHalf,t.y=hCs.stageHeightHalf,t.ns=0,t.scaleX=t.scaleY=3,App.FT.uiLayer.addChild(t),App.HA.registeEnterFrame(t.de,t)}},t.prototype.de=function(){var e=this;e.ns++,e.ns<=10?e.scaleX=e.scaleY-=.2:e.ns<=120||(e.parent&&e.parent.removeChild(e),App.HA.unRegisteEnterFrame(e.de,e))},t.prototype.dispose=function(){var e=this;App.HA.unRegisteEnterFrame(e.de,e),GObj.$d(e.pl),e.pl=null,GObj.$d(e.gm),e.gm=null,GObj.$d(e.sq),e.sq=null,GObj.$d(e.ie),e.ie=null,GObj.$d(e._c),e._c=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(GodSpiritMapPassView.prototype,"GodSpiritMapPassView");var GodSpiritMapRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("GodSpiritMapRankItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data,n=t.rank;e.rankLab.text=1==n?"MVP":toChars(n),e.nameLab.text=e.data.name,e.damageLab.text=toChars(t.score)}},t.prototype.removeEvent=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.damageLab),t.damageLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GodSpiritMapRankItem.prototype,"GodSpiritMapRankItem");var GodSpiritRightView=function(e){function t(){var t=e.call(this,"GodSpiritRightView")||this;return t.skinName=RRUU.$s("GodSpiritRightView"),t.right=0,t.bottom=280,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bigDescLab.text=fvg.GVf("purgatory29"),e.familyMumberLab.textFlow=LgRe.OQ(fvg.GVf("purgatory30",1)),e.additionDescLab.text=fvg.GVf("purgatory31"),e.lastTimeDescLab.text=fvg.GVf("purgatory32")},t.prototype.initData=function(){var e=this;e.rd(),e.ml()},t.prototype.rd=function(){this.sb()},Object.defineProperty(t.prototype,"playerInfo",{set:function(e){var t=this;t["if"]=e,t.ml()},enumerable:!0,configurable:!0}),t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.LFX,e.sb,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.LFX,e.sb,e),vkG.$r(HUtJ.HEARTBEAT,e.pa,e)},t.prototype.ml=function(){var e=this;if(e.CSo){var t=App.XW.familyInfo.id?GeneralCompute.VZ(e.wg()):0;e.additionLab.text=fvg.GVf("purgatory33",t),e.familyMumberLab.textFlow=LgRe.OQ(fvg.GVf("purgatory34",e.wg()))}},t.prototype.wg=function(){var e=this,t=0;if(!App.XW.familyInfo.id)return 0;for(var n in e["if"]){var i=e["if"][n];i.data.familyid==App.XW.familyInfo.id&&t++}return t+1},t.prototype.tp=function(){},t.prototype.sb=function(){var e=this;e.jp||(e.jp=GObj.$c(GodSpiritMapPassView)),e.jp.show(App.HP.layerInfo.le||1),e.timeLab.text=fvg.GVf("39",App.HP.layerInfo.le||1),e.xy=App.HP.layerInfo.limitTime,vkG.$r(HUtJ.HEARTBEAT,e.pa,e),e.xy<0?(e.lastTimeLab.text=kpd.formatDateBySec5(0),vkG.$r(HUtJ.HEARTBEAT,e.pa,e)):(e.lastTimeLab.text=kpd.formatDateBySec5(e.xy),e.pa(),vkG.$a(HUtJ.HEARTBEAT,e.pa,e))},t.prototype.pa=function(){var e=this;e.xy--,e.xy<0?(e.lastTimeLab.text=kpd.formatDateBySec5(0),vkG.$r(HUtJ.HEARTBEAT,e.pa,e)):e.lastTimeLab.text=kpd.formatDateBySec5(e.xy)},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bigDescLab),t.bigDescLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.additionDescLab),t.additionDescLab=null,GObj.$d(t.familyMumberLab),t.familyMumberLab=null,GObj.$d(t.additionLab),t.additionLab=null,GObj.$d(t.lastTimeDescLab),t.lastTimeDescLab=null,GObj.$d(t.lastTimeLab),t.lastTimeLab=null,GObj.$d(t.jp),t.jp=null,t.jp=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(GodSpiritRightView.prototype,"GodSpiritRightView");var MapBossHouseObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._robotDic={};for(var t=App.MB.bossHomeList,n=this._data.mapId,i=0;i<t.length;i++)t[i].TSF.mapid==n&&(this.bossVo=t[i]);this.bossVo&&(this.lastTime=this.bossVo.atktime-App.NN.serverSecond+2,this.lastTime>0&&(this.timeTxt=GObj.$c(eui.Label),this.timeTxt.touchEnabled=!1,this.timeTxt.textColor=Color.TX,this.timeTxt.size=20,this.timeTxt.width=200,this.timeTxt.height=20,this.timeTxt.textAlign=egret.HorizontalAlign.CENTER,this.timeTxt.stroke=1,this.timeTxt.strokeColor=1968898,this.timeTxt.horizontalCenter=0,this.timeTxt.bottom=210,App.FT.addToLayer(this.timeTxt,alvJ.WL),vkG.$a(HUtJ.HEARTBEAT,this.__bossRevivalHandler,this),this.__bossRevivalHandler()),this.attacker=GObj.$c(AttackerView),this.belonger=GObj.$c(BelongerView),this.updateAttackerInfo(null))},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.SY,this.updateAttackerInfo,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.SY,this.updateAttackerInfo,this)},t.prototype.updateAttackerInfo=function(e){if(e){if(e.firstAtkBelong){var t=this._roleDict[e.firstAtkBelong].data||null;if(!t)return;this.attacker||(this.attacker=GObj.$c(AttackerView)),this.attacker.getRoleVo=t,this.attacker.show()}else this.attacker.hide();if(e.belongUid){var t=this._roleDict[e.belongUid]&&this._roleDict[e.belongUid].data||this.Ljd.data;if(!t)return;this.belonger||(this.belonger=GObj.$c(BelongerView)),this.belonger.getRoleVo=t,this.belonger.show()}else this.belonger.hide()}},t.prototype.gotoBirth=function(){e.prototype.gotoBirth.call(this),this.isRevival=!0,this.Ljd.selectedFoe=null,vkG.$d(UtJ.NQ),this.revivalFrame||(this.revivalFrame=GObj.$c(PalaceBossRevivalFrame)),this.revivalFrame.show(10,this.__revivalCallBack,this)},t.prototype.__revivalCallBack=function(e){0>=e&&(this.revivalFrame.hide(),this.isRevival=!1,this.actionNext())},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||this._isend||this.isRevival)return!0;var t=this.Ljd.selectedFoe;if(t&&!t.isDie){GMath.distance(this.Ljd.x,this.Ljd.y,t.x,t.y)-1;if(!MapHelps.EP(this.Ljd,t))return!0;var n=this.Ljd.attack(t),i=t.data;return 1!==this._type&&i.isboss&&NpcHpView.instance.show(i),this.playerAttack(n),!0}return this.toNode(),!0},t.prototype.toNode=function(){var e=this.Ljd.selectedFoe,t=!e||e.isDie;t&&(e=this.getCurrMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=e);var n=this._playerNodes[0];this.Ljd&&e&&!e.isDie&&n.paths&&(this.Ljd.paths=n.paths.concat(),this.Ljd.nodeEnd())},t.prototype.getCurrMonster=function(e,t){if(!this._nodeDict)return null;var n=Object.keys(this._nodeDict)[0],i=this._nodeDict[n];return!i||i.isDie?null:i},t.prototype.__bossRevivalHandler=function(){return!this.timeTxt||this.lastTime<=0?void this.stopCountDown():(this.timeTxt.text=fvg.GVf("211",kpd.HE(this.lastTime)),void this.lastTime--)},t.prototype.start=function(t,n){this._start||(this.createRobot(),e.prototype.start.call(this,t,n))},t.prototype.createRobot=function(){if(!this._robotAngleArr){var e=this.selected();if(e){var t=30*int(180*Math.atan2(this.Ljd.x-e.x,this.Ljd.y-e.y)/Math.PI/30);0>t&&(t+=360),this._robotAngleArr=[t];for(var n=0,i=GMath.randomInt(5,7),r=0;i>r;r++)n+=GMath.randomInt(500,1600),ClockManager.setTimeout(this.initRobot,this,n,r+1)
}}},t.prototype.initRobot=function(e){if(!this._isend){var t=this.selected();if(t&&this._robotAngleArr){for(var n=GMath.randomInt(0,11),i=0;12>i;i++){var r=30*(n+i)%360;if(this._robotAngleArr.indexOf(r)<0)break}this._robotAngleArr.push(r);var a=App.MB.getRobotRoleVo(e+1e6),o=GObj.$c(RobotHandler,a);o.setActionCall(this.__robotOverHandler,this),o.showSkill=!0,o.initPos(t.x+300*GMath.sin(r),t.y+300*+GMath.cos(r)),this.__robotOverHandler(o,0),this._robotDic[a.id]=o}}},t.prototype.__robotOverHandler=function(e,t){44==this._type&&e&&(!e.selectedFoe||e.selectedFoe&&e.selectedFoe.isDie)&&(e.selectedFoe=this.selected())},t.prototype.robotCheckNextAction=function(){if(this._robotDic)for(var e in this._robotDic)this.__robotOverHandler(this._robotDic[e],0)},t.prototype.checkNextAction=function(){e.prototype.checkNextAction.call(this);var t=this.Ljd.selectedFoe;t&&this.stopCountDown(),this.robotCheckNextAction(),this.createRobot()},t.prototype.stopCountDown=function(){vkG.$r(HUtJ.HEARTBEAT,this.__bossRevivalHandler,this),this.timeTxt&&this.timeTxt.parent&&this.timeTxt.parent.removeChild(this.timeTxt)},t.prototype.dispose=function(){if(this.stopCountDown(),GObj.$d(this.timeTxt),this.timeTxt=null,GObj.$d(this.attacker),this.attacker=null,GObj.$d(this.belonger),this.belonger=null,GObj.$d(this.revivalFrame),this.revivalFrame=null,this.bossVo=null,this._robotDic)for(var t in this._robotDic)GObj.$d(this._robotDic[t]);this._robotDic=null,this.isRevival=!1,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapBossHouseObiter.prototype,"MapBossHouseObiter");var MapCityBattleObiter=function(e){function t(){var t=e.call(this)||this;return t.update_time_space=1500,t._atkCount=0,t._defRest=!1,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.__mapLoadComplete,t),RES.loadGroup(KqZ.ZD),t}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._allNodeDic={},this._posRange=int(Math.sqrt(StaticData.HARRY_NODE_RANGE*StaticData.HARRY_NODE_RANGE*.5)),this._defFid=App.XD.cityBattleVo["cd"+App.XD.currSelectedType],this._isDef=this._defFid==App.KF.fid,this._updateTime=0,this._rightList=[],this._lastReliveTime=App.XD.lastReliveTime||0},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd&&(this.Ljd=e,this.Ljd)){var t=this._data.role.birth;if(t){var n;n=this._isDef?t[1]:t[0],n&&this.Ljd.initPos(n.x+GMath.randomInt(-this._posRange,this._posRange),n.y+GMath.randomInt(-this._posRange,this._posRange))}}},enumerable:!0,configurable:!0}),t.prototype.__mapLoadComplete=function(e){if(e.groupName==KqZ.ZD){if(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),this._isDis)return void RES.destroyRes(KqZ.ZD);this._mapView=GObj.$c(CityBattleMapFrame),this._mapView.show(),this._rightView=GObj.$c(CityBattleRightMapFrame),this._rightView.show(),this._topView=GObj.$c(CityBattleTopView),this._topView.updateList(this._nodeDict),this._topView.show(),this._bottomView=GObj.$c(CityBattleBottomMapFrame),this._bottomView.show(),this._plateNoviceView=GObj.$c(HarryPlateNoticeView)}},t.prototype.__roleHpHandler=function(e){if(e&&e.id){if(e.id==App.KF.uid)return this.Ljd.data.attr&&(this.Ljd.data.attr.lefthp=e.h),e.h||this.gotoBirth(),void this.Ljd.updateHp(e.h);var t=this._roleDict[e.id];if(t&&t.data&&(t.updateHp(e.h),!e.h&&(this.Ljd.selectedFoe===t&&(this.Ljd.selectedFoe=null),this._rightList)))for(var n=this._rightList.length,i=void 0,r=0;n>r;r++)if(i=this._rightList[r],i&&i.id==e.id)return void this.updateRightList(!0)}},t.prototype.__reliveHandler=function(){this._lastReliveTime=App.XD.lastReliveTime||0+StaticData.HARRY_RELIVE_TIME,this._reliving&&(this._reliving=!1,this.actionNext()),this._reliveTxt&&this._reliveTxt.parent&&this._reliveTxt.parent.removeChild(this._reliveTxt),vkG.$r(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.__atkComHandler=function(e){this._atkDef=e,e?(this.Ljd.paths=[{x:int(this.Ljd.x),y:int(this.Ljd.y),d:!0}],this.Ljd.selectedFoe=null):this.actionNext()},t.prototype.__heartbeatHandler=function(){this._tempTime=this._lastReliveTime-App.NN.serverSecond,this._tempTime<0&&(this._tempTime=0),this._reliveTxt&&(this._reliveTxt.text=fvg.GVf("harry12",kpd.TV(this._tempTime)))},t.prototype.__battleStartHandler=function(){this._start&&this.gotoBirth(),this._rightView.updateData(null),this._topView.updateRoad(),this._start=!0,this.selectAtkNode(),vkG.$d(UtJ.DU,!1)},t.prototype.getNearNode=function(){var e,t,n,i=99999999;for(var r in this._nodeDict)e=this._nodeDict[r],t=e.data,t&&t.index&&t.nodeType!=BossNodeType.TR&&t.nodeType!=BossNodeType.QL&&i>=t.index&&(i=t.index,n=e);return n},t.prototype.getAtkMainNode=function(){var e,t,n,i=99999999;for(var r in this._nodeDict)e=this._nodeDict[r],t=e.data,t&&t.index&&(t.nodeType==BossNodeType.TR||t.nodeType==BossNodeType.QL)&&i>=t.index&&(i=t.index,n=e);return n},t.prototype.updateRightList=function(e){if(void 0===e&&(e=!1),(e||!(GApp.timer-this._updateTime<this.update_time_space))&&this._rightView&&this._defNode){if(this._updateTime=GApp.timer,this._rightList.length=0,this._roleDict){var t=void 0,n=this._defNode.x,i=this._defNode.y;GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE&&(n=this._atkMainNode.x,i=this._atkMainNode.y);var r=this._defFid,a=void 0,o=void 0,s=void 0;for(var p in this._roleDict)if(t=this._roleDict[p],t&&!t.isDie){if(s=t.data,this._isDef){if(s.fid==r)continue}else if(s.fid!=r)continue;a=t.x,o=t.y,Math.abs(n-a)>StaticData.HARRY_NODE_RANGE||Math.abs(i-o)>StaticData.HARRY_NODE_RANGE||GMath.distance(n,i,a,o)<=StaticData.HARRY_NODE_RANGE&&this._rightList.push(s)}}this._rightView.updateData(this._rightList)}},t.prototype.__addRoleHandler=function(e){if(e){for(var t,n,i,r=e.length,a=0;r>a;a++)t=e[a],t&&t.id&&!this._roleDict[t.id]&&(t.fid!=this._defFid&&this._atkCount++,n=GObj.$c(RoleHandler,t),this._roleDict[t.id]=n,i=!0);i&&ClockManager.setTimeout(this.__updatePosHandler,this,300)}},t.prototype.__updatePosHandler=function(){if(!this._isDis&&this.Ljd&&(this.Ljd.uploadCurrPath(),this._isDef&&this._atkCount>0)){var e=this.Ljd.selectedFoe;(!e||e.isDie||e.data.nodeType==BossNodeType.TR||e.data.nodeType==BossNodeType.QL)&&(this.Ljd.selectedFoe=null,this.actionNext())}},t.prototype.__removeRoleHandler=function(e){var t=this._roleDict[e];if(t){t.data&&t.data.fid!=this._defFid&&this._atkCount--,delete this._roleDict[e];var n=this.Ljd.selectedFoe;n==t&&(this.Ljd.selectedFoe=null),GObj.$d(t),t=null}this._atkCount<=0&&this.actionNext()},t.prototype.__selectedFoeHandler=function(t){e.prototype.__selectedFoeHandler.call(this,t),vkG.$d(UtJ.DU,!1)},t.prototype.gotoBirth=function(){var e=this._data.role.birth;if(e){var t=e.length,n=0;this._isDef&&t>1&&(n=1);var i=e[n];this.Ljd.paths=[{x:i.x+GMath.randomInt(-this._posRange,this._posRange),y:i.y+GMath.randomInt(-this._posRange,this._posRange),d:!0}]}if(this._reliveTxt||(this._reliveTxt=GObj.$c(eui.Label),this._reliveTxt.x=120,this._reliveTxt.y=500,this._reliveTxt.size=30,this._reliveTxt.strokeColor=3354158,this._reliveTxt.stroke=2,this._reliveTxt.textColor=Color.KA,this._reliveTxt.width=240,this._reliveTxt.horizontalCenter=0,this._reliveTxt.textAlign=egret.HorizontalAlign.CENTER),this._lastReliveTime<=App.NN.serverSecond){var r=App.NN.serverSecond-this._lastReliveTime;r=int(r/StaticData.HARRY_RELIVE_TIME)+1,this._lastReliveTime+=r*StaticData.HARRY_RELIVE_TIME}this._rightView&&this._rightView.updateData(null),this._rightList.length=0,this.Ljd.selectedFoe=null,this._reliving=!0,this.__heartbeatHandler(),alvJ.instance.addToLayer(this._reliveTxt,alvJ.WL,alvJ.SF),vkG.$a(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.__mapAttackHandler=function(e){if(e&&e.u&&(this._isDef&&(!this._defRest||this._atkDef||this.Ljd.selectedFoe||this.actionNext()),e.d))for(var t=e.d.length,n=void 0,i=App.KF.uid,r=void 0,a=this._roleDict[e.u],o=0;t>o;o++)if(n=e.d[o]){if(r=this.getSelected(n.id))r.data&&r.data.attr&&(r.bruiseSyn(n),this._topView&&this._topView.updateData(r.data));else if(i==n.id){this.Ljd.bruiseSyn(n);var s=this.Ljd.selectedFoe;(!s||s.isDie||1!=s.type)&&(this.Ljd.selectedFoe=a,vkG.$d(UtJ.DU,!1))}0==o&&a&&a.skillShow(e,r)}},t.prototype.__bossNodesHandler=function(e){if(e){for(var t,n,i,r=e.length,a=0;r>a;a++)t=e[a],t&&t.id&&(n=this._allNodeDic[t.id],n?(i=n.attr,ObjectUtil.oto(t,n),i&&t.attr&&ObjectUtil.oto(t.attr,i),n.attr=i,GObj.$d(t)):this._allNodeDic[t.id]=t);this.selectAtkNode()}},t.prototype.getSelected=function(e){var t=this._nodeDict[e];return t?t:t=this._roleDict[e]},t.prototype.getMonster=function(e,t){return this._roleDict&&this._defNode&&this._atkMainNode?GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE?this.getAtkObject(this._atkMainNode.x,this._atkMainNode.y):this.getAtkObject(this._defNode.x,this._defNode.y):null},t.prototype.selectAtkNode=function(){var e=this._defNode;this.updateNodeDict(),this._defNode=this.getNearNode(),this._isDef&&e!=this._defNode&&(this._atkDef||this.Ljd.selectedFoe||this.actionNext()),this._atkMainNode=this.getAtkMainNode(),this._topView&&this._topView.updateList(this._nodeDict)},t.prototype.__advanceHandler=function(){this._topView&&this._topView.updateNodeHp()},t.prototype.updateNodeDict=function(){var e,t;for(var n in this._allNodeDic)e=this._allNodeDic[n],t=this._nodeDict[n],t?2==e.state&&(t.toDie(),delete this._nodeDict[n]):2!=e.state&&(e.nodie=!0,t=GObj.$c(MonsterNodeHandler,e),this._nodeDict[e.id]=t)},t.prototype.getAtkObject=function(e,t){var n,i,r,a,o=this._defFid;for(var s in this._roleDict)if(n=this._roleDict[s],n&&!n.isDie){if(a=n.data,this._isDef){if(a.fid==o)continue}else if(a.fid!=o)continue;if(i=n.x,r=n.y,!(Math.abs(e-i)>StaticData.HARRY_NODE_RANGE||Math.abs(t-r)>StaticData.HARRY_NODE_RANGE)&&GMath.distance(e,t,i,r)<=StaticData.HARRY_NODE_RANGE)return n}return null},t.prototype.selected=function(){return null},t.prototype.gotoNode=function(){return this._defNode&&this._atkMainNode?this.Ljd.x<=this._atkMainNode.x?this._atkMainNode:GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE?this._atkMainNode:this._defNode:null},t.prototype.defToRest=function(){this._defRest=!0;var e;for(var t in this._roleDict)e=this._roleDict[t],e&&!e.isDie&&(e.selectedFoe||e.wait())},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._atkDef||this._reliving||!this._start||this._isend)return!1;this._defRest=!1;var t=this.Ljd.selectedFoe;if(t&&t.data)t==this._defNode&&(t=null);else{var n=this.gotoNode();if(!n)return!1;var i=GMath.distance(this.Ljd.x,this.Ljd.y,n.x,n.y)-1;if(i>StaticData.HARRY_NODE_RANGE){var r=void 0;return r=this._isDef?n.x+GMath.randomInt(1,this._posRange):n.x+GMath.randomInt(-this._posRange,1),this.Ljd.paths=[{x:r,y:int(n.y+GMath.randomInt(-this._posRange,this._posRange))}],!0}}if((!t||t.isDie)&&(t=this.getMonster(this.Ljd.x,this.Ljd.y),t||(this._isDef?this._atkCount<=0?t=this._atkMainNode:this.defToRest():t=this._defNode),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t))return!0;var a=this.Ljd.attack(t);return this.playerAttack(a),this.updateRightList(),!0}return!0},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.BB,this.__reliveHandler,this),vkG.$a(UtJ.DU,this.__atkComHandler,this),vkG.$a(UtJ.QUY,this.__exitCityBattleHandler,this),vkG.$a(UtJ.AU,this.__advanceHandler,this),vkG.$a(UtJ.DSF,this.__battleStartHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.BB,this.__reliveHandler,this),vkG.$r(UtJ.DU,this.__atkComHandler,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),vkG.$r(HUtJ.HEARTBEAT,this.__heartbeatHandler,this),vkG.$r(UtJ.QUY,this.__exitCityBattleHandler,this),vkG.$r(UtJ.AU,this.__advanceHandler,this),vkG.$r(UtJ.DSF,this.__battleStartHandler,this)},t.prototype.__exitCityBattleHandler=function(e){e&&1==e.p1&&this.exit()},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("city36"),null,null,this.exit,this)},t.prototype.dispose=function(){this._isDis=!0,GObj.$d(this._mapView),this._mapView=null,GObj.$d(this._rightView),this._rightView=null,GObj.$d(this._reliveTxt),this._reliveTxt=null,GObj.$d(this._plateNoviceView),this._plateNoviceView=null,RES.destroyRes(KqZ.ZD),GObj.$d(this._topView),this._topView=null,GObj.$d(this._bottomView),this._rightView=null,e.prototype.dispose.call(this);var t;for(var n in this._allNodeDic)t=this._allNodeDic[n],GObj.$d(t),delete this._allNodeDic[n];this._allNodeDic=null},t}(MapRoleObiter);__reflect(MapCityBattleObiter.prototype,"MapCityBattleObiter");var MapCrossArenaObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._mirrorDict={},this.selfFace=App.HB.crossArenaVo.face,this._data.role.birth&&(this.leftBirth=this._data.role.birth[0],this.rightBirth=this._data.role.birth[1]),this.__fightResultHandler(),this._isend||(this.waitImg=GObj.$c(eui.Image),this.waitImg.texture=RES.getRes("map_json.map_battle_wait_png"),this.waitImg.horizontalCenter=0,this.waitImg.top=250,App.FT.addToLayer(this.waitImg,alvJ.YN)),this._exitBar.alertStr=fvg.GVf(33)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.ET,this.__fightResultHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.ET,this.__fightResultHandler,this)},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd){this.Ljd=e;var t,n;this.selfFace==StaticData.LEFT_FACE?(t=this.leftBirth,n=irK.R_R):(t=this.rightBirth,n=irK.L_L),t&&this.Ljd.initPos(parseInt(t.x),parseInt(t.y)),this.Ljd.wait(),this.Ljd.initDirection(n)}},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n){this.waitImg&&this.waitImg.parent&&this.waitImg.parent.removeChild(this.waitImg),e.prototype.start.call(this,t,n)},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||!e||this._isend)return!1;if(this._nodeIndex>=this._nodeLen-1){var t=this.Ljd.selectedFoe;if(t&&this.Ljd.isDie)return this.Ljd.selectedFoe=null,t.selectedFoe=null,this.showFightResult(!1),!1;if(t||(t=this.getMonster(0,0),t&&(this.Ljd.selectedFoe=t,t.selectedFoe=this.Ljd)),t){if(t.isDie)return this.Ljd.selectedFoe=null,t.selectedFoe=null,this.showFightResult(!0),!1;if(!MapHelps.EP(this.Ljd,t,0))return!0;var n=this.Ljd.attack(t);return this.playerAttack(n),!0}return!1}return this.toNode(this._nodeIndex),this._nodeIndex++,!0},t.prototype.toNode=function(e){var t=this._playerNodes[e],n=this.getMonster(0,0);n&&6!=n.data.type&&(n=null),t&&t.paths&&(this.selfFace==StaticData.LEFT_FACE?this.Ljd.paths=t.paths.concat():n&&(n.paths=t.paths.concat())),t=this._playerNodes[e+1],t&&t.paths&&(this.selfFace==StaticData.RIGHT_FACE?this.Ljd.paths=t.paths.concat():n&&(n.paths=t.paths.concat()))},t.prototype.getMonster=function(e,t){for(var n in this._roleDict)return this._roleDict[n];for(var n in this._mirrorDict)return this._mirrorDict[n];return null},t.prototype.__addRoleHandler=function(e){if(e)for(var t,n,i=e.length,r=0;i>r;r++)if(t=e[r],t&&t.id){6==t.type?(n=GObj.$c(BattleRobotHandler,t),this._mirrorDict[t.id]=n,this.foeType=6):(n=GObj.$c(RoleHandler,t),this._roleDict[t.id]=n,this.foeType=1);var a=this.selfFace==StaticData.LEFT_FACE?this.rightBirth:this.leftBirth;a&&n.initPos(parseInt(a.x),parseInt(a.y))}},t.prototype.__removeRoleHandler=function(e){var t=this._roleDict[e];t&&(delete this._roleDict[e],GObj.$d(t),this.Ljd.selectedFoe=null),t=null},t.prototype.__fightResultHandler=function(e){if(3==e)return void App.UY.resultsReturn();var t=App.HB.crossArenaVo.result;t>0&&(this._isend=!0,this.showFightResult(1==t,!0))},t.prototype.showFightResult=function(e,t){if(6!=this.foeType||this._isend||(this._isend=!0,1==App.HB.crossArenaVo.status?ArenaMsgProxy.TU(6,e?1:2):ArenaMsgProxy.TU(7,e?1:2)),t){var n=void 0;e?(n=XCA.RE("49_1"),FightingWinPopUi.QN(Nkz.PI(n))):(n=XCA.RE("49_2"),ResultsLosePopUi.QX(Nkz.PI(n)));var i=this.getMonster(0,0);i&&(i.selectedFoe=null),this.Ljd&&(this.Ljd.selectedFoe=null)}},t.prototype.gotoBirth=function(){},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("crossarena23"),null,null,this.exit,this)},t.prototype.exit=function(){this._isend||(1==App.HB.crossArenaVo.status?ArenaMsgProxy.TU(6,2,1):ArenaMsgProxy.TU(8,2,1))},t.prototype.dispose=function(){if(GObj.$d(this.waitImg),this.waitImg=null,e.prototype.dispose.call(this),this.leftBirth=null,this.rightBirth=null,this._mirrorDict){for(var t in this._mirrorDict)GObj.$d(this._mirrorDict[t]);this._mirrorDict=null}},t}(MapRoleObiter);__reflect(MapCrossArenaObiter.prototype,"MapCrossArenaObiter");var MapCrossHarryObiter=function(e){function t(){var t=e.call(this)||this;return t.update_time_space=1500,t._atkCount=0,t._defRest=!1,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.__mapLoadComplete,t),RES.loadGroup(KqZ.CK),t}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._allNodeDic={},this._posRange=int(Math.sqrt(StaticData.HARRY_NODE_RANGE*StaticData.HARRY_NODE_RANGE*.5)),this._defFid=App.IB.defFid,this._isDef=this._defFid==App.KF.fid,this._updateTime=0,this._rightList=[],this._lastReliveTime=App.IB.lastReliveTime||0,App.IB.road=0},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd&&(this.Ljd=e,this.Ljd)){var t=this._data.role.birth;if(t){var n;n=this._isDef?t[1]:t[0],n&&this.Ljd.initPos(n.x+GMath.randomInt(-this._posRange,this._posRange),n.y+GMath.randomInt(-this._posRange,this._posRange))}}},enumerable:!0,configurable:!0}),t.prototype.__mapLoadComplete=function(e){if(e.groupName==KqZ.CK){if(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),this._isDis)return void RES.destroyRes(KqZ.CK);this._switchRoad=GObj.$c(RoadSwitchingView),this._mapView=GObj.$c(CrossHarryMapFrame),this._mapView.show(),this._rightView=GObj.$c(CrossHarryRightView),this._rightView.show(),this._bottomView=GObj.$c(CrossHarryBottomView),this._bottomView.show(this.__switchRoadHandler,this),this._topView=GObj.$c(CrossHarryTopView),this._topView.updateList(this._nodeDict),this._topView.show(),this._smallmap=GObj.$c(CrossHarrySmallMap),this._smallmap.show(),this._plateNoviceView=GObj.$c(HarryPlateNoticeView,101);var t=GObj.$c(CrossHarrySelectRoadPopUi);t.show()}},t.prototype.__roleHpHandler=function(e){if(e&&e.id){if(e.id==App.KF.uid)return this.Ljd.data.attr&&(this.Ljd.data.attr.lefthp=e.h),e.h||this.gotoBirth(),void this.Ljd.updateHp(e.h);var t=this._roleDict[e.id];if(t&&t.data&&(t.updateHp(e.h),!e.h&&(this.Ljd.selectedFoe===t&&(this.Ljd.selectedFoe=null),this._rightList)))for(var n=this._rightList.length,i=void 0,r=0;n>r;r++)if(i=this._rightList[r],i&&i.id==e.id)return void this.updateRightList(!0)}},t.prototype.__reliveHandler=function(){this._lastReliveTime=(App.IB.lastReliveTime||0)+App.IB.reliveCd,this._reliving&&(this._reliving=!1,this.actionNext()),this._reliveTxt&&this._reliveTxt.parent&&this._reliveTxt.parent.removeChild(this._reliveTxt),vkG.$r(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.__atkComHandler=function(e){this._atkDef=e,e?(this.Ljd.paths=[{x:int(this.Ljd.x),y:int(this.Ljd.y),d:!0}],this.Ljd.selectedFoe=null):(this._switchRoad&&this._switchRoad.stopSwitch(),this.actionNext())},t.prototype.__heartbeatHandler=function(){this._tempTime=this._lastReliveTime-App.NN.serverSecond,this._tempTime<0&&(this._tempTime=0),this._reliveTxt&&(this._reliveTxt.text=fvg.GVf("harry12",kpd.TV(this._tempTime)))},t.prototype.__battleStartHandler=function(){this._start&&this.resetBirth(),this._rightView.updateData(null),this._bottomView.updateRoad(),this._topView.updateRoad(),this._start=!0,this.selectAtkNode(),vkG.$d(UtJ.AN,!1)},t.prototype.clearAllRole=function(){for(var e in this._roleDict)this.__removeRoleHandler(parseInt(e))},t.prototype.getNearNode=function(){var e,t,n,i=99999999;for(var r in this._nodeDict)e=this._nodeDict[r],t=e.data,t&&t.index&&t.nodeType!=BossNodeType.HQ&&i>=t.index&&(i=t.index,n=e);return n},t.prototype.getAtkMainNode=function(){var e,t,n,i=99999999;for(var r in this._nodeDict)e=this._nodeDict[r],t=e.data,t&&t.index&&t.nodeType==BossNodeType.HQ&&i>=t.index&&(i=t.index,n=e);return n},t.prototype.updateRightList=function(e){if(void 0===e&&(e=!1),(e||!(GApp.timer-this._updateTime<this.update_time_space))&&this._rightView&&this._defNode){if(this._updateTime=GApp.timer,this._rightList.length=0,this._roleDict){var t=void 0,n=this._defNode.x,i=this._defNode.y;this._atkMainNode&&GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE&&(n=this._atkMainNode.x,i=this._atkMainNode.y);var r=App.IB.defFid,a=void 0,o=void 0,s=void 0;for(var p in this._roleDict)if(t=this._roleDict[p],t&&!t.isDie){if(s=t.data,this._isDef){if(s.fid==r)continue}else if(s.fid!=r)continue;a=t.x,o=t.y,Math.abs(n-a)>StaticData.HARRY_NODE_RANGE||Math.abs(i-o)>StaticData.HARRY_NODE_RANGE||GMath.distance(n,i,a,o)<=StaticData.HARRY_NODE_RANGE&&this._rightList.push(s)}}this._rightView.updateData(this._rightList)}},t.prototype.__addRoleHandler=function(e){if(e){for(var t,n,i=e.length,r=!1,a=0;i>a;a++)t=e[a],t&&t.id&&!this._roleDict[t.id]&&(t.fid!=this._defFid&&this._atkCount++,n=GObj.$c(RoleHandler,t),n.showSkill=!1,this._roleDict[t.id]=n,r=!0);r&&ClockManager.setTimeout(this.__updatePosHandler,this,300)}},t.prototype.__updatePosHandler=function(){if(!this._isDis&&this.Ljd&&(this.Ljd.uploadCurrPath(),this._isDef&&this._atkCount>0)){var e=this.Ljd.selectedFoe;(!e||e.isDie||e.data.nodeType==BossNodeType.HQ)&&(this.Ljd.selectedFoe=null,this.actionNext())}},t.prototype.__removeRoleHandler=function(e){var t=this._roleDict[e];if(t){t.data&&t.data.fid!=this._defFid&&this._atkCount--,delete this._roleDict[e];var n=this.Ljd.selectedFoe;n==t&&(this.Ljd.selectedFoe=null),GObj.$d(t),t=null}this._atkCount<=0&&this.actionNext()},t.prototype.__selectedFoeHandler=function(t){e.prototype.__selectedFoeHandler.call(this,t),vkG.$d(UtJ.AN,!1)},t.prototype.gotoBirth=function(){if(NpcHpView.instance.hide(),this.resetBirth(),this._reliveTxt||(this._reliveTxt=GObj.$c(eui.Label),this._reliveTxt.x=120,this._reliveTxt.y=480,this._reliveTxt.size=30,this._reliveTxt.strokeColor=3354158,this._reliveTxt.stroke=2,this._reliveTxt.textColor=Color.KA,this._reliveTxt.width=240,this._reliveTxt.horizontalCenter=0,this._reliveTxt.textAlign=egret.HorizontalAlign.CENTER),this._lastReliveTime<=App.NN.serverSecond){var e=App.NN.serverSecond-this._lastReliveTime;e=int(e/App.IB.reliveCd)+1,this._lastReliveTime+=e*App.IB.reliveCd}this._rightView&&this._rightView.updateData(null),this._rightList.length=0,this.Ljd.selectedFoe=null,this._reliving=!0,this.__heartbeatHandler(),alvJ.instance.addToLayer(this._reliveTxt,alvJ.WL,alvJ.SF),vkG.$a(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.resetBirth=function(){var e=this._data.role.birth;if(e){var t=e.length,n=0;this._isDef&&t>1&&(n=1);var i=e[n];this.Ljd.paths=[{x:i.x+GMath.randomInt(-this._posRange,this._posRange),y:i.y+GMath.randomInt(-this._posRange,this._posRange),d:!0}]}},t.prototype.__mapAttackHandler=function(e){if(e&&e.u&&(this._isDef&&(!this._defRest||this._atkDef||this.Ljd.selectedFoe||this.actionNext()),e.d))for(var t=e.d.length,n=void 0,i=App.KF.uid,r=void 0,a=this._roleDict[e.u],o=0;t>o;o++)if(n=e.d[o]){if(r=this.getSelected(n.id))r.data&&r.data.attr&&(r.bruiseSyn(n),this.Ljd.selectedFoe===r&&(NpcHpView.instance.progress=r.data),this._topView&&this._topView.updateData(r.data));else if(i==n.id){this.Ljd.bruiseSyn(n);var s=this.Ljd.selectedFoe;(!s||s.isDie||1!=s.type)&&(this.Ljd.selectedFoe=a,vkG.$d(UtJ.AN,!1)),this._switchRoad.stopSwitch()}0==o&&a&&a.skillShow(e,r)}},t.prototype.__bossNodesHandler=function(e){if(e){for(var t,n,i,r=e.length,a=0;r>a;a++)t=e[a],t&&t.id&&(n=this._allNodeDic[t.id],n?(i=n.attr,ObjectUtil.oto(t,n),i&&t.attr&&ObjectUtil.oto(t.attr,i),n.attr=i,GObj.$d(t)):this._allNodeDic[t.id]=t);this.selectAtkNode(),this._smallmap&&this._smallmap.updateAllNode(this._allNodeDic)}},t.prototype.selectAtkNode=function(){NpcHpView.instance.hide();var e=this._defNode;this.updateNodeDict(),this._defNode=this.getNearNode(),this._isDef&&e!=this._defNode&&(this._atkDef||this.Ljd.selectedFoe||this.actionNext()),this._atkMainNode=this.getAtkMainNode(),this._topView&&this._topView.updateList(this._nodeDict)},t.prototype.updateNodeDict=function(){var e,t,n=App.IB.road;for(var i in this._allNodeDic)e=this._allNodeDic[i],t=this._nodeDict[i],t?(2==e.state||e.road>0&&e.road!=n)&&(t.toDie(),delete this._nodeDict[i]):(!e.road||e.road>0&&e.road==n)&&2!=e.state&&(e.nodie=!0,t=GObj.$c(MonsterNodeHandler,e),this._nodeDict[e.id]=t)},t.prototype.getSelected=function(e){var t=this._nodeDict[e];return t?t:t=this._roleDict[e]},t.prototype.getMonster=function(e,t){return this._roleDict&&this._defNode&&this._atkMainNode?GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE?this.getAtkObject(this._atkMainNode.x,this._atkMainNode.y):this.getAtkObject(this._defNode.x,this._defNode.y):null},t.prototype.getAtkObject=function(e,t){var n,i,r,a,o=App.IB.defFid;for(var s in this._roleDict)if(n=this._roleDict[s],n&&!n.isDie){if(a=n.data,this._isDef){if(a.fid==o)continue}else if(a.fid!=o)continue;if(i=n.x,r=n.y,!(Math.abs(e-i)>StaticData.HARRY_NODE_RANGE||Math.abs(t-r)>StaticData.HARRY_NODE_RANGE)&&GMath.distance(e,t,i,r)<=StaticData.HARRY_NODE_RANGE)return n}return null},t.prototype.selected=function(){return null},t.prototype.gotoNode=function(){return this._defNode&&this._atkMainNode?this.Ljd.x<=this._atkMainNode.x?this._atkMainNode:GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE?this._atkMainNode:this._isDef&&this._atkCount<=0?this._atkMainNode:this._defNode:null},t.prototype.defToRest=function(){this._defRest=!0;var e;for(var t in this._roleDict)e=this._roleDict[t],e&&!e.isDie&&(e.selectedFoe||e.wait())},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._atkDef||this._reliving||!this._start||this._isend)return!1;this._defRest=!1;var t=this.Ljd.selectedFoe;if(t&&t.data)t==this._defNode&&(t=null);else{var n=this.gotoNode();if(!n)return!1;var i=GMath.distance(this.Ljd.x,this.Ljd.y,n.x,n.y)-1;if(i>StaticData.HARRY_NODE_RANGE){var r=void 0;return r=this._isDef?n.x+GMath.randomInt(1,this._posRange):n.x+GMath.randomInt(-this._posRange,1),this.Ljd.paths=[{x:r,y:int(n.y+GMath.randomInt(-this._posRange,this._posRange))}],!0}}if((!t||t.isDie)&&(t=this.getMonster(this.Ljd.x,this.Ljd.y),t||(this._isDef?this._atkCount<=0?t=this._atkMainNode:this.defToRest():t=this._defNode),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t,0))return!0;NpcHpView.instance.show(t.data);var a=this.Ljd.attack(t);return this.playerAttack(a),this.updateRightList(),this._switchRoad.stopSwitch(),!0}return!0},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.PX,this.__battleStartHandler,this),vkG.$a(UtJ.NY,this.__reliveHandler,this),vkG.$a(UtJ.AN,this.__atkComHandler,this),vkG.$a(UtJ.GOA,this.__advanceHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.PX,this.__battleStartHandler,this),vkG.$r(UtJ.NY,this.__reliveHandler,this),vkG.$r(UtJ.AN,this.__atkComHandler,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),vkG.$r(HUtJ.HEARTBEAT,this.__heartbeatHandler,this),vkG.$r(UtJ.GOA,this.__advanceHandler,this)},t.prototype.__switchRoadHandler=function(e){if(!this._isDis&&this._start){if(e==App.IB.road)return void App.TT.show(fvg.GVf("crossharry4"));if(this._reliving)return void App.TT.show(fvg.GVf("crossharry6"));vkG.$d(UtJ.AN,!0),this._switchRoad.startSwitch(e)}},t.prototype.__advanceHandler=function(){this._smallmap&&this._smallmap.updateAdvance(),this._topView&&this._topView.updateNodeHp()},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("harry15"),null,null,this.exit,this)},t.prototype.dispose=function(){this._isDis=!0,GObj.$d(this._mapView),this._mapView=null,GObj.$d(this._rightView),this._rightView=null,GObj.$d(this._bottomView),this._rightView=null,GObj.$d(this._reliveTxt),this._reliveTxt=null,GObj.$d(this._plateNoviceView),this._plateNoviceView=null,GObj.$d(this._smallmap),this._smallmap=null,GObj.$d(this._switchRoad),this._switchRoad=null,GObj.$d(this._topView),this._topView=null,RES.destroyRes(KqZ.CK),e.prototype.dispose.call(this);var t;for(var n in this._allNodeDic)t=this._allNodeDic[n],GObj.$d(t),delete this._allNodeDic[n];this._allNodeDic=null},t}(MapRoleObiter);__reflect(MapCrossHarryObiter.prototype,"MapCrossHarryObiter");var MapDefendObiter=function(e){function t(){var t=e.call(this)||this;return t.allCount=0,t.curCount=0,t._monsterCount=0,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.__mapLoadComplete,t),RES.loadGroup(KqZ.FQ),t}return __extends(t,e),t.prototype.__mapLoadComplete=function(e){if(e.groupName==KqZ.FQ){if(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),this._isDis)return void RES.destroyRes(KqZ.FQ);this.defendView=GObj.$c(DefendView),this.defendView.show()}},t.prototype.toNode=function(e){if(e>=this._nodeLen){if(this.createMonster(),!this._loop)return void this.Ljd.wait();
e%=this._nodeLen}var t=this._playerNodes[e];if(this.Ljd&&t.paths&&(this.Ljd.paths=t.paths.concat(),this.Ljd.nodeEnd()),NpcHpView.instance.hide(),this._data.nodes){var n=this._data.nodes[t.id];if(n){this._curNode=e,this.createNpcs(n.npcs);for(var i,r=this._monsterList.length,a=0;r>a;a++)GObj.$d(this._monsterList[a]);i=null,this._monsterList.length=0,this._isSorted=!1}}},t.prototype.createMonster=function(){var e=this._playerNodes[0];if(!e)return!1;if(!this._data.nodes)return!1;var t=this._data.nodes[e.id];if(!t)return!1;var n=t.monsters;if(!n||n.length<=0)return!1;var i=n[0],r=t.type||1,a=QycO.OK;t.name&&(a=t.name);var o,s,p,l=t.sincount||10,c=(t.count||1)-this._monsterCount;if(c=0>=c?0:c,l=l>c?c:l,0>=l)return!1;this._monsterCount+=l;for(var u=0;l>u;u++){var d=GObj.$c(MonsterVO);if(d.name=a,d.atkdis=StaticData.NPC_ATTACK_DIS,d.type=2,ObjectUtil.oto(i,d),d.nodeId=t.id,d.nodeType=r,o=0,i.attr){var g=GObj.$c(DnQ);g.init(),s=XCA.YV(i.attr),g.setAttrTemp(s),o=s.p1||0,d.attr=g}else this.setAttr(d);d.paths&&d.paths.length>0&&(d.x=d.paths[0].x+GMath.randomInt(-150,200),d.y=d.paths[0].y+GMath.randomInt(-150,200)),p=GObj.$c(MonsterHandler,d),p.selectedFoe=this.Ljd,this._monsterList.push(p)}return this.curCount++,this.allCount=Math.ceil(t.count/t.sincount),this.defendView&&this.defendView.updatePro(this.curCount,this.allCount,t.count),!0},t.prototype.playerAttack=function(e){if(e){if(this.Ljd.isDie&&this.failFrame)return void(this._isend||(this._isend=!0,this.Ljd.wait(),FightingLosePopUi.WT()));var t,n=0,i=0,r=0,a=0,o=0,s=this.Ljd.selectedFoe,p=s.data;s&&!s.isDie&&2!=s.type&&5!=s.type&&(t=s.bruise(e),t&&(t.fere&&(r=t.fere),t.rare&&(a=t.rare),t.flysword&&(o=t.flysword),n+=t.v,t.r&&6==s.type&&(i+=t.r))),t&&s.isSyn&&(t?MapMsgProxy.AV(e.uid,e.skillId,[{t:t.t,id:t.id,v:t.v,c:t.c,s:t.s,ax:t.atkvo.atkx,ay:t.atkvo.atky,fere:t.fere,e:t.e,b:t.b}],e.skill?e.skill.pasIdList:void 0):MapMsgProxy.AV(e.uid,e.skillId,null));var l=0,c=0;if(s&&s.isDie){l=1,c=1;var u=this._monsterList.indexOf(s);u>=0&&this._monsterList.splice(u,1)}var d,g,v,h=this._monsterList.length,m=e.skillaction,f=m.count;for(g=h-1;g>=0&&!(l>=f);g--){d=this._monsterList[g],v=GMath.distance(this.Ljd.x,this.Ljd.y,d.x,d.y);var y=m.atkrange||1;v>y||(t=d.bruise(e),t&&(t.fere&&(r+=t.fere),t.rare&&(a+=t.rare),t.flysword&&(o+=t.flysword),n+=t.v,t.r&&6==d.type&&(i+=t.r)),d.isDie&&(this._monsterList.splice(g,1),c++),l++)}for(p&&p.attr&&this.Ljd.suckHp(n,p.attr.rehprate),i&&this.Ljd.suckOrinjur(i,!0),r&&this.Ljd.fereAttack(s),a&&this.Ljd.rareAttack(s),h=this._monsterList.length,g=0;h>g;g++)d=this._monsterList[g],d.selectedFoe=this.Ljd;if(c>0&&vkG.$d(UtJ.UX,c),0>=h){if(this.createMonster())return void this.actionNext();if(s&&s.data&&2==s.type){var b=s.data,_=b.nodeType||1;1!=_&&3!=_&&10!=_&&(2==_?App.QA.taskVo&&MapMsgProxy.L_(b.nodeId,_,App.QA.taskVo.tid):MapMsgProxy.L_(b.nodeId,_))}this._pickupStart=!0}}},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||this._isend)return!1;if(this.pickupGoods())return!0;var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(this._isSorted=!1,t=this.getMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=t),t){if(!MapHelps.RP(this.Ljd,t))return this.Ljd.wait(),!0;var n=t.data;1!==this._type&&n.isboss&&NpcHpView.instance.show(n);var i=this.Ljd.attack(t);return this.playerAttack(i),!0}return e?(this.toNode(this._nodeIndex),this._nodeIndex++,!0):!1},t.prototype.dispose=function(){e.prototype.dispose.call(this),GObj.$d(this.defendView),this.defendView=null,RES.destroyRes(KqZ.FQ),this._isDis=!0},t}(MapBattleObiter);__reflect(MapDefendObiter.prototype,"MapDefendObiter");var MapEliteBossObiter=function(e){function t(){var t=e.call(this)||this;return t.isStart=!1,t}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.initPoint=[];for(var t=0;t<this._nodeLen;t++)this._playerNodes[t].paths&&this.initPoint.push(this._playerNodes[t].paths[0])},t.prototype.start=function(t,n){this.isStart=!0,e.prototype.start.call(this,t,n)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){this.Ljd||(this.Ljd=e,this.initPlayerPoint(this.Ljd))},enumerable:!0,configurable:!0}),t.prototype.initPlayerPoint=function(e){if(e&&this.initPoint.length){var t=e.data.uid,n=this.initPoint[t%this.initPoint.length];n&&e.initPos(n.x,n.y)}},t.prototype.__bossAttackHandler=function(e){if(e&&e.u){var t=this._nodeDict[e.u];if(t&&t.attack(this.Ljd),e.d)for(var n=e.d.length,i=void 0,r=App.KF.uid,a=void 0,o=0;n>o;o++)i=e.d[o],i&&(r==i.id?(this.Ljd.bruiseSyn(i),this.Ljd.isDie&&(this.Ljd.selectedFoe=null,t&&(t.selectedFoe=null),this._isend=!0)):(a=this._roleDict[i.id],a&&a.bruiseSyn(i)))}},t.prototype.__addRoleHandler=function(e){if(e&&e.length)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(n=GObj.$c(RoleHandler,t),n.showSkill=!1,0==t.x&&0==t.y&&this.initPlayerPoint(n),this._roleDict[t.id]=n)},t.prototype.checkNextAction=function(){this.isStart&&this.actionNext()},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._isend)return!1;var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(t=this.selected(),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t))return!0;NpcHpView.instance.show(t.data);var n=this.Ljd.attack(t);return this.playerAttack(n),this.canExit=!0,!0}return!0},t.prototype.gotoBirth=function(){},t.prototype.__exitClickHandler=function(e){this.canExit&&Alert.WK(fvg.GVf("33"),null,null,this.exit,this)},t.prototype.exit=function(){this._isend=!0,MapMsgProxy.ED(),App.UY.enterChapter(),this._data&&7==this._data.type&&(TaskBar.instance.autoTaskState=!1)},t.prototype.dispose=function(){this.initPoint=null,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapEliteBossObiter.prototype,"MapEliteBossObiter");var MapFamilyWarObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.waiting=!0,this.hurtAdd=0,this._bossInfo={},this._robotDic={},RES.isGroupLoaded(KqZ.LR)?this.updateView():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),RES.loadGroup(KqZ.LR))},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.GQ,this.__bossSelectedHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.GQ,this.__bossSelectedHandler,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this)},t.prototype.start=function(t,n){ClockManager.setTimeout(this.__waitEndHandler,this,3e3),e.prototype.start.call(this,t,n)},t.prototype.__waitEndHandler=function(){this._bossInfo&&this.waiting&&(this.waiting=!1,this.checkNextAction())},t.prototype.__resourceLoadComplete=function(e){e.groupName==KqZ.LR&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),this.updateView())},t.prototype.initRobot=function(e){if(!this._isend){var t=this._playerNodes.length,n=App.MB.getRobotRoleVo(e+1e4),i=GObj.$c(RobotHandler,n);i.setActionCall(this.__robotOverHandler,this),i.showSkill=!0;var r=int(Math.random()*t),a=this._playerNodes[r].paths[0];a&&i.initPos(a.x,a.y),this.__robotOverHandler(i,0),this._robotDic[n.id]=i}},t.prototype.__robotOverHandler=function(e,t){e&&(!e.selectedFoe||e.selectedFoe&&e.selectedFoe.isDie)&&(e.selectedFoe=this.getMonster(e.x+int(2e3*Math.random()),e.y+int(2e3*Math.random())))},t.prototype.updateView=function(){this.uiView=GObj.$c(FamilyWarUIView),this.uiView.bossList=this._bossInfo,this.uiView.show()},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd&&e&&(this.Ljd=e,this._playerNodes&&this._playerNodes.length)){var t=int(Math.random()*this._playerNodes.length),n=this._playerNodes[t].paths[0];n&&this.Ljd.initPos(n.x,n.y)}},enumerable:!0,configurable:!0}),t.prototype.__addRoleHandler=function(e){if(e)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(n=GObj.$c(RoleHandler,t),n.showSkill=!1,this._roleDict[t.id]=n)},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||this._isend||this.isRevival||this.waiting)return!0;var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(t=this.getCurrMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=t),t){GMath.distance(this.Ljd.x,this.Ljd.y,t.x,t.y)-1;if(!MapHelps.EP(this.Ljd,t,0))return!0;var n=this.Ljd.attack(t),i=t.data;return 1!==this._type&&i.isboss&&NpcHpView.instance.show(i),this.playerAttack(n),!0}return!0},t.prototype.__bossNodesHandler=function(t){if(e.prototype.__bossNodesHandler.call(this,t),t&&t.length){for(var n,i=t.length,r=0;i>r;r++)n=t[r],n&&n.id&&(this._bossInfo[n.id]=n);vkG.$d(UtJ.BX)}},t.prototype.__mapAttackHandler=function(t){if(t&&t.u){e.prototype.__mapAttackHandler.call(this,t);var n=[];if(t.d)for(var i=t.d.length,r=void 0,a=void 0,o=0;i>o;o++)r=t.d[o],r&&(a=this._bossInfo[r.id],a&&a.attr&&(a.attr.lefthp=r.l,n.push(r.id)));vkG.$d(UtJ.MOT,n)}},t.prototype.getCurrMonster=function(e,t){var n=this._nodeDict[this.selectedId||0];return this.selectedId&&n&&!n.isDie||(n=this.getMonster(e,t)),!n||n.isDie?null:(this.selectedId=n.data.id,n)},t.prototype.getMonster=function(e,t){var n;if(this._nodeDict){var i=void 0,r=void 0,a=Number.MAX_VALUE,o=void 0;for(var s in this._nodeDict)i=this._nodeDict[s],r=i.data,r&&(o=GMath.distance(e,t,r.x,r.y),a>o&&(n=i,a=o))}return n},t.prototype.checkNextAction=function(){this.Ljd.selectedFoe||this.actionNext(),this.robotCheckNextAction()},t.prototype.robotCheckNextAction=function(){if(this._robotDic)for(var e in this._robotDic)this.__robotOverHandler(this._robotDic[e],0)},t.prototype.__bossSelectedHandler=function(e){if(this.isRevival)return void App.TT.show(fvg.GVf("214"));if(NpcHpView.instance.hide(),e){var t=this._nodeDict[e.id];t&&this.Ljd.selectedFoe!=t&&(this.Ljd.selectedFoe=t,this.selectedId=t.data.id),this.waiting&&(this.waiting=!1,this.actionNext())}},t.prototype.gotoBirth=function(){if(this._playerNodes&&this._playerNodes.length){var e=int(Math.random()*this._playerNodes.length),t=this._playerNodes[e];if(t&&t.paths){this.isRevival=!0,this.Ljd.selectedFoe=null;var n=t.paths.concat();n&&n.length>0&&(n[0].d=!0,this.Ljd.paths=n),this.revivalFrame||(this.revivalFrame=GObj.$c(PalaceBossRevivalFrame)),this.revivalFrame.show(10,this.__revivalCallBack,this)}}},t.prototype.__revivalCallBack=function(e){0>=e&&(this.revivalFrame.hide(),this.isRevival=!1,this.actionNext())},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("familywar11"),null,null,this.exit,this)},t.prototype.exit=function(){this._isend=!0,this.Ljd.selectedFoe=null,this.Ljd.paths=null,this.Ljd.wait(),App.UY.resultsReturn()},t.prototype.__mapResultHandler=function(e){this.exit()},t.prototype.dispose=function(){if(this._isend=!0,this.waiting=!1,this.isRevival=!1,e.prototype.dispose.call(this),this._bossInfo=null,GObj.$d(this.uiView),this.uiView=null,GObj.$d(this.revivalFrame),this.revivalFrame=null,App.BG.playerAttrsInfo.hurtadd=0,this._robotDic)for(var t in this._robotDic)GObj.$d(this._robotDic[t]),delete this._robotDic[t];this._robotDic=null},t}(MapRoleObiter);__reflect(MapFamilyWarObiter.prototype,"MapFamilyWarObiter");var MapFFMObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._robotDic={};for(var t=App.MB.ffmBossList,n=this._data.mapId,i=0;i<t.length;i++)t[i].TSF.mapid==n&&(this.bossVo=t[i])},t.prototype.start=function(t,n){this._start||e.prototype.start.call(this,t,n)},t.prototype.dispose=function(){if(this._isend=!0,GObj.$d(this.timeTxt),this.timeTxt=null,GObj.$d(this.rewardView),this.rewardView=null,this.bossVo=null,this._robotDic)for(var t in this._robotDic)GObj.$d(this._robotDic[t]);this._robotDic=null,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapFFMObiter.prototype,"MapFFMObiter");var MapGodSpiritObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){this._monsterDict={},e.prototype.init.call(this),this.updateHurtAdd(),RES.isGroupLoaded(KqZ.TC)?this.updateView():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),RES.loadGroup(KqZ.TC))},t.prototype.__resourceLoadComplete=function(e){e.groupName==KqZ.TC&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),this.updateView())},t.prototype.updateView=function(){this._warView=GObj.$c(GodSpiritRightView),this._warView.playerInfo=this._roleDict,this._warView.show(),this.leftView=GObj.$c(GodSpiritLeftView),this.leftView.playerInfo=this._roleDict,this.leftView.show(),this.wait2SecFlag=!0,this._exitBar.alertStr=fvg.GVf(33)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.start=function(t,n){e.prototype.start.call(this,t,n),ClockManager.setTimeout(this.__waitEndHandler,this,2e3)},t.prototype.__waitEndHandler=function(){this.waiting=!1,this.checkNextAction()},t.prototype.__bossAttackHandler=function(t){e.prototype.__bossAttackHandler.call(this,t),this.leftView&&(this.leftView.playerInfo=this._roleDict)},t.prototype.__roleUpdateHandler=function(t){e.prototype.__roleUpdateHandler.call(this,t),this.leftView&&(this.leftView.playerInfo=this._roleDict)},t.prototype.__addRoleHandler=function(t){e.prototype.__addRoleHandler.call(this,t),this._warView&&(this._warView.playerInfo=this._roleDict),this.updateHurtAdd()},t.prototype.checkNextAction=function(){this.Ljd&&this.actionNext()},t.prototype.__wait2Second=function(){ClockManager.setTimeout(this.__afterPickup,this,100)},t.prototype.__afterPickup=function(){this.waiting=!1,this.actionNext()},t.prototype.actionNext=function(){if(!this._nodeLen||this._isend||this.isRevivie||this.waiting)return!0;if(!this.Ljd)return!0;var e=this.Ljd.selectedFoe;if(!e||e.isDie){if(e=this.getCurrMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=e,this.wait2SecFlag)return this.waiting=!0,ClockManager.setTimeout(this.__wait2Second,this,100),!0;this.wait2SecFlag=!0}if(e){var t=GMath.distance(this.Ljd.x,this.Ljd.y,e.x,e.y)-1;if(t>StaticData.ROLE_ATTACK_DIS){var n=GMath.towards(this.Ljd.x,this.Ljd.y,e.x,e.y,StaticData.ROLE_ATTACK_DIS-15),i={x:int(n.x),y:int(n.y)};return t>=StaticData.ROLE_SPRINT_DIS&&(i.a=3),this.Ljd.paths=[i],!0}this._attackX=int(e.x),this._attackY=int(e.y),e instanceof MonsterHandler?NpcHpView.instance.show(e.data):NpcHpView.instance.hide();var r=this.Ljd.attack(e);return this.playerAttack(r),!0}return!0},t.prototype.getCurrMonster=function(e,t){var n=this._nodeDict[0];return(!n||n.isDie)&&(n=this.getMonster(e,t)),!n||n.isDie?null:n},t.prototype.__bossNodesHandler=function(t){e.prototype.__bossNodesHandler.call(this,t)},t.prototype.getMonster=function(e,t){if(this._monsterList){this.sortDis(e,t);for(var n=this._monsterList.length,i=n;i>=0;i--){var r=this._monsterList[i];if(r&&!r.isDie)return r}}if(this._nodeDict)for(var a in this._nodeDict)return this._nodeDict[a];return null},t.prototype.__removeRoleHandler=function(t){e.prototype.__removeRoleHandler.call(this,t),this.leftView.playerInfo=this._roleDict,this._warView.playerInfo=this._roleDict,this.updateHurtAdd()},t.prototype.gotoBirth=function(){if(!this.isRevivie){this.isRevivie=!0;var e=this._playerNodes[0];if(e&&e.paths){this.Ljd.selectedFoe=null;var t=e.paths.concat();t&&t.length>0&&(t[0].d=!0,this.Ljd.paths=t),this.revivieView||(this.revivieView=GObj.$c(GodSpiritCountDown)),this.isRevivie=!0,this.revivieView.show(this.__turnbossRevivieHandler,this)}}},t.prototype.__turnbossRevivieHandler=function(){this.isRevivie&&(this.isRevivie=!1,this.revivieView&&this.revivieView.hide(),this.checkNextAction())},t.prototype.__mapAttackHandler=function(t){e.prototype.__mapAttackHandler.call(this,t),this.waiting&&(this.waiting=!1,this.checkNextAction())},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("purgatory55"),null,null,this.exit,this)},t.prototype.updateHurtAdd=function(){var e,t=1;if(App.XW.familyInfo.id)for(var n in this._roleDict)e=this._roleDict[n],e.data.familyid==App.XW.familyInfo.id&&t++;App.BG.playerAttrsInfo.hurtadd=Math.max(GeneralCompute.VZ(t),0)},t.prototype.exit=function(){e.prototype.exit.call(this),App.MB.clearDropList()},t.prototype.dispose=function(){this._isDis=!0,RES.destroyRes(KqZ.TC),GObj.$d(this._warView),this._warView=null,GObj.$d(this.leftView),this.leftView=null,GObj.$d(this.revivieView),this.revivieView=null,Alert.instance.dispose();for(var t in this._monsterDict)GObj.$d(this._monsterDict[t]),this._monsterDict[t]=null;this._monsterDict=null,App.BG.playerAttrsInfo.hurtadd=0,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapGodSpiritObiter.prototype,"MapGodSpiritObiter");var MapHarryObiter=function(e){function t(){var t=e.call(this)||this;return t.update_time_space=1500,t._atkCount=0,t._defRest=!1,RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,t.__mapLoadComplete,t),RES.loadGroup(KqZ.ZD),t}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._posRange=int(Math.sqrt(StaticData.HARRY_NODE_RANGE*StaticData.HARRY_NODE_RANGE*.5)),this._defFid=App.MT.defFid,this._isDef=this._defFid==App.KF.fid,this._updateTime=0,this._rightList=[],this._lastReliveTime=App.MT.lastReliveTime||0},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd&&(this.Ljd=e,this.Ljd)){var t=this._data.role.birth;if(t){var n;n=this._isDef?t[1]:t[0],n&&this.Ljd.initPos(n.x+GMath.randomInt(-this._posRange,this._posRange),n.y+GMath.randomInt(-this._posRange,this._posRange))}}},enumerable:!0,configurable:!0}),t.prototype.__mapLoadComplete=function(e){if(e.groupName==KqZ.ZD){if(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),this._isDis)return void RES.destroyRes(KqZ.ZD);this._mapView=GObj.$c(HarryMapFrame),this._mapView.show(),this._rightView=GObj.$c(HarryRightMapFrame),this._rightView.show(),this._bottomView=GObj.$c(HarryBottomMapFrame),this._bottomView.updateList(this._nodeDict),this._bottomView.show(),this._plateNoviceView=GObj.$c(HarryPlateNoticeView)}},t.prototype.__roleHpHandler=function(e){if(e&&e.id){if(e.id==App.KF.uid)return this.Ljd.data.attr&&(this.Ljd.data.attr.lefthp=e.h),e.h||this.gotoBirth(),void this.Ljd.updateHp(e.h);var t=this._roleDict[e.id];if(t&&t.data&&(t.updateHp(e.h),!e.h&&(this.Ljd.selectedFoe===t&&(this.Ljd.selectedFoe=null),this._rightList)))for(var n=this._rightList.length,i=void 0,r=0;n>r;r++)if(i=this._rightList[r],i&&i.id==e.id)return void this.updateRightList(!0)}},t.prototype.__reliveHandler=function(){this._lastReliveTime=App.MT.lastReliveTime||0+StaticData.HARRY_RELIVE_TIME,this._reliving&&(this._reliving=!1,this.actionNext()),this._reliveTxt&&this._reliveTxt.parent&&this._reliveTxt.parent.removeChild(this._reliveTxt),vkG.$r(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.__atkComHandler=function(e){this._atkDef=e,e?this.Ljd.paths=[{x:int(this.Ljd.x),y:int(this.Ljd.y),d:!0}]:this.actionNext()},t.prototype.__heartbeatHandler=function(){this._tempTime=this._lastReliveTime-App.NN.serverSecond,this._tempTime<0&&(this._tempTime=0),this._reliveTxt&&(this._reliveTxt.text=fvg.GVf("harry12",kpd.TV(this._tempTime)))},t.prototype.__battleStartHandler=function(){this._start=!0,this.actionNext()},t.prototype.getNearNode=function(){var e,t,n,i=99999999;for(var r in this._nodeDict)e=this._nodeDict[r],t=e.data,t&&t.index&&t.nodeType!=BossNodeType.WJ&&i>=t.index&&(i=t.index,n=e);return n},t.prototype.getAtkMainNode=function(){var e,t,n,i=99999999;for(var r in this._nodeDict)e=this._nodeDict[r],t=e.data,t&&t.index&&t.nodeType==BossNodeType.WJ&&i>=t.index&&(i=t.index,n=e);return n},t.prototype.updateRightList=function(e){if(void 0===e&&(e=!1),(e||!(GApp.timer-this._updateTime<this.update_time_space))&&this._rightView&&this._defNode){if(this._updateTime=GApp.timer,this._rightList.length=0,this._roleDict){var t=void 0,n=this._defNode.x,i=this._defNode.y;GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE&&(n=this._atkMainNode.x,i=this._atkMainNode.y);var r=App.MT.defFid,a=void 0,o=void 0,s=void 0;for(var p in this._roleDict)if(t=this._roleDict[p],t&&!t.isDie){if(s=t.data,this._isDef){if(s.fid==r)continue}else if(s.fid!=r)continue;a=t.x,o=t.y,Math.abs(n-a)>StaticData.HARRY_NODE_RANGE||Math.abs(i-o)>StaticData.HARRY_NODE_RANGE||GMath.distance(n,i,a,o)<=StaticData.HARRY_NODE_RANGE&&this._rightList.push(s)}}this._rightView.updateData(this._rightList)}},t.prototype.__addRoleHandler=function(e){if(e)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(t.fid!=this._defFid&&this._atkCount++,n=GObj.$c(RoleHandler,t),this._roleDict[t.id]=n)},t.prototype.__removeRoleHandler=function(e){var t=this._roleDict[e];t&&(t.data&&t.data.fid!=this._defFid&&this._atkCount--,delete this._roleDict[e],GObj.$d(t),t=null),this._atkCount<=0&&this.actionNext()},t.prototype.__selectedFoeHandler=function(t){e.prototype.__selectedFoeHandler.call(this,t),vkG.$d(UtJ.IA,!1)},t.prototype.gotoBirth=function(){var e=this._data.role.birth;if(e){var t=e.length,n=0;this._isDef&&t>1&&(n=1);var i=e[n];this.Ljd.paths=[{x:i.x+GMath.randomInt(-this._posRange,this._posRange),y:i.y+GMath.randomInt(-this._posRange,this._posRange),d:!0}]}if(this._reliveTxt||(this._reliveTxt=GObj.$c(eui.Label),this._reliveTxt.x=120,this._reliveTxt.y=500,this._reliveTxt.size=30,this._reliveTxt.strokeColor=3354158,this._reliveTxt.stroke=2,this._reliveTxt.textColor=Color.KA,this._reliveTxt.width=240,this._reliveTxt.horizontalCenter=0,this._reliveTxt.textAlign=egret.HorizontalAlign.CENTER),this._lastReliveTime<=App.NN.serverSecond){var r=App.NN.serverSecond-this._lastReliveTime;r=int(r/StaticData.HARRY_RELIVE_TIME)+1,this._lastReliveTime+=r*StaticData.HARRY_RELIVE_TIME}this._rightView&&this._rightView.updateData(null),this._rightList.length=0,this.Ljd.selectedFoe=null,this._reliving=!0,this.__heartbeatHandler(),alvJ.instance.addToLayer(this._reliveTxt,alvJ.WL,alvJ.SF),vkG.$a(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.__mapAttackHandler=function(e){if(e&&e.u&&(this._isDef&&(!this._defRest||this._atkDef||this.Ljd.selectedFoe||this.actionNext()),e.d))for(var t=e.d.length,n=void 0,i=App.KF.uid,r=void 0,a=this._roleDict[e.u],o=0;t>o;o++)if(n=e.d[o]){if(r=this.getSelected(n.id))r.data&&r.data.attr&&(e.u!=i&&r.bruiseSyn(n),r.data.attr.lefthp=n.l,this.Ljd.selectedFoe===r&&(NpcHpView.instance.progress=r.data),this._bottomView&&this._bottomView.updateData(r.data),this._rightView&&this._rightView.updateGuard(r.data));else if(i==n.id){this.Ljd.bruiseSyn(n);var s=this.Ljd.selectedFoe;(!s||s.isDie||1!=s.type)&&(this.Ljd.selectedFoe=a,vkG.$d(UtJ.IA,!1))}0==o&&a&&a.skillShow(e,r)}},t.prototype.__bossNodesHandler=function(t){var n=this._defNode;e.prototype.__bossNodesHandler.call(this,t),this._defNode=this.getNearNode(),this._isDef&&n!=this._defNode&&(this._atkDef||this.Ljd.selectedFoe||this.actionNext()),this._rightView&&this._defNode&&this._defNode.data&&this._defNode.data.nodeType==BossNodeType.IA&&this._rightView.updateGuard(this._defNode.data),this._atkMainNode=this.getAtkMainNode(),this._bottomView&&this._bottomView.updateList(this._nodeDict)},t.prototype.getSelected=function(e){var t=this._nodeDict[e];return t?t:t=this._roleDict[e]},t.prototype.getMonster=function(e,t){return this._roleDict&&this._defNode&&this._atkMainNode?GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE?this.getAtkObject(this._atkMainNode.x,this._atkMainNode.y):this.getAtkObject(this._defNode.x,this._defNode.y):null},t.prototype.getAtkObject=function(e,t){var n,i,r,a,o=App.MT.defFid;for(var s in this._roleDict)if(n=this._roleDict[s],n&&!n.isDie){if(a=n.data,this._isDef){if(a.fid==o)continue}else if(a.fid!=o)continue;if(i=n.x,r=n.y,!(Math.abs(e-i)>StaticData.HARRY_NODE_RANGE||Math.abs(t-r)>StaticData.HARRY_NODE_RANGE)&&GMath.distance(e,t,i,r)<=StaticData.HARRY_NODE_RANGE)return n}return null},t.prototype.selected=function(){return null},t.prototype.gotoNode=function(){return this._defNode&&this._atkMainNode?this.Ljd.x<=this._atkMainNode.x?this._atkMainNode:GMath.distance(this.Ljd.x,this.Ljd.y,this._atkMainNode.x,this._atkMainNode.y)<StaticData.HARRY_NODE_RANGE?this._atkMainNode:this._defNode:null},t.prototype.defToRest=function(){this._defRest=!0;var e;for(var t in this._roleDict)e=this._roleDict[t],e&&!e.isDie&&(e.selectedFoe||e.wait())},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._atkDef||this._reliving||!this._start||this._isend)return!1;this._defRest=!1;var t=this.Ljd.selectedFoe;if(t&&t.data)t==this._defNode&&(t=null);else{var n=this.gotoNode();if(!n)return!1;var i=GMath.distance(this.Ljd.x,this.Ljd.y,n.x,n.y)-1;if(i>StaticData.HARRY_NODE_RANGE){var r=void 0;return r=this._isDef?n.x+GMath.randomInt(1,this._posRange):n.x+GMath.randomInt(-this._posRange,1),this.Ljd.paths=[{x:r,y:int(n.y+GMath.randomInt(-this._posRange,this._posRange))}],!0}}if((!t||t.isDie)&&(t=this.getMonster(this.Ljd.x,this.Ljd.y),t||(this._isDef?this._atkCount<=0?t=this._atkMainNode:this.defToRest():t=this._defNode),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t,0))return!0;NpcHpView.instance.show(t.data);var a=this.Ljd.attack(t);return this.playerAttack(a),this.updateRightList(),!0}return!0},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.DSF,this.__battleStartHandler,this),vkG.$a(UtJ.JW,this.__reliveHandler,this),vkG.$a(UtJ.IA,this.__atkComHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.DSF,this.__battleStartHandler,this),vkG.$r(UtJ.JW,this.__reliveHandler,this),vkG.$r(UtJ.IA,this.__atkComHandler,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),vkG.$r(HUtJ.HEARTBEAT,this.__heartbeatHandler,this)},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("harry15"),null,null,this.exit,this)},t.prototype.dispose=function(){this._isDis=!0,GObj.$d(this._mapView),this._mapView=null,GObj.$d(this._rightView),this._rightView=null,GObj.$d(this._bottomView),this._rightView=null,GObj.$d(this._reliveTxt),this._reliveTxt=null,GObj.$d(this._plateNoviceView),this._plateNoviceView=null,RES.destroyRes(KqZ.ZD),e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapHarryObiter.prototype,"MapHarryObiter");var MapMainBossObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._exitBar.alertStr=fvg.GVf(33)},t.prototype.gotoBirth=function(){},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("crossarena23"),null,null,this.exit,this)},t.prototype.__mapResultHandler=function(t){e.prototype.__mapResultHandler.call(this,t),1==t||2==t?this._data&&7==this._data.type&&(TaskBar.instance.autoTaskState=!1):this.dealSociety()},t.prototype.dealSociety=function(){App.VP.curSocietyNum--,this._data&&(102==this._data.type||5==this._data.type)&&App.VP.curSocietyNum>0&&(FightingWinPopUi.IL=App.VP.continueFight,FightingWinPopUi.EF=App.VP,FightingWinPopUi.IP=5),this._data&&42==this._data.type&&App.DX.curMapId&&(FightingWinPopUi.IL=App.DX.continueFight,FightingWinPopUi.EF=App.DX,FightingWinPopUi.IP=5),this._data&&45==this._data.type&&App.DA.curMapId&&(FightingWinPopUi.IL=App.DA.continueFight,FightingWinPopUi.EF=App.DA,FightingWinPopUi.IP=5)},t}(MapRoleObiter);__reflect(MapMainBossObiter.prototype,"MapMainBossObiter");var MapMirrorObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._exitBar.alertStr=fvg.GVf(33),this._robotList=[]},t.prototype.getMonster=function(e,t){if(this._robotList)for(var n=this._robotList.length,i=n;i>=0;i--){var r=this._robotList[i];if(r)return r}return null},t.prototype.toNode=function(e){if(e>=this._nodeLen){if(!this._loop)return void this.Ljd.wait();e%=this._nodeLen}var t=this._playerNodes[e];this.Ljd&&t.paths&&(this.Ljd.paths=t.paths.concat(),this.Ljd.nodeEnd()),NpcHpView.instance.hide();var n=App.MB.robotList;if(n){var i=n.length,r=void 0;r=this._data&&this._data.mirror?this._data.mirror:{};for(var a=0;i>a;a++){var o=n[a];o.x=r.x||0,o.y=r.y||0;var s=GObj.$c(BattleRobotHandler,o);this._robotList.push(s)}n.length=0}},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf(33),null,null,this.exit,this)},t.prototype.exit=function(){var e=this.Ljd.selectedFoe;if(e&&6==e.type){this.Ljd.wait();var t=e.data;this.lose(t.ret)}},t.prototype.win=function(e){if(!this._isend){this._isend=!0;var t,n;e==RobotVO.martialart_head?(AjJ.JN(1),t=XCA.DG(43,1)):e==RobotVO.martialart_provoke?(AjJ.A_(1),t=XCA.DG(30,1)):e==RobotVO.arena&&(ArenaMsgProxy.TD(1),t=XCA.DG(41,1)),usable(t)&&(n=Nkz.PI(t),FightingWinPopUi.QN(n))}},t.prototype.lose=function(e){if(!this._isend){this._isend=!0;var t,n;e==RobotVO.martialart_head?(AjJ.JN(0),FightingLosePopUi.WT()):e==RobotVO.martialart_provoke?(AjJ.A_(0),t=XCA.DG(30,2),n=Nkz.PI(t),ResultsLosePopUi.QX(n)):e==RobotVO.arena&&(ArenaMsgProxy.TD(0),t=XCA.DG(41,2),n=Nkz.PI(t),ResultsLosePopUi.QX(n))}},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0)return!1;var t=this.Ljd.selectedFoe;if(t&&this.Ljd.isDie&&6==t.type){this.Ljd.wait();var n=t.data;return this.lose(n.ret),!1}if((!t||t.isDie)&&(t=this.getMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=t,t&&(t.selectedFoe=this.Ljd,t.isDie&&6==t.type))){this.Ljd.wait();var n=t.data;return this.win(n.ret),!1}if(t){if(!MapHelps.EP(this.Ljd,t,0))return!0;NpcHpView.instance.show(t.data);var i=this.Ljd.attack(t);
return this.playerAttack(i),!0}return e?this._nodeIndex>=this._nodeLen&&!this._loop?!1:(this.toNode(this._nodeIndex),this._nodeIndex++,!0):!1},t.prototype.dispose=function(){if(this._robotList){for(var t=0,n=this._robotList;t<n.length;t++){var i=n[t];GObj.$d(i)}this._robotList.length=0,this._robotList=null}e.prototype.dispose.call(this)},t}(MapBattleObiter);__reflect(MapMirrorObiter.prototype,"MapMirrorObiter");var MapMuitBossObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this._robotDic={};for(var t=App.MB.taleBossList,n=this._data.mapId,i=0;i<t.length;i++)t[i].TSF.mapid==n&&(this.bossVo=t[i]);this.bossVo&&(this.lastTime=this.bossVo.atktime-App.NN.serverSecond+2,this.lastTime>0&&(this.timeTxt=GObj.$c(eui.Label),this.timeTxt.touchEnabled=!1,this.timeTxt.textColor=Color.TX,this.timeTxt.size=20,this.timeTxt.width=200,this.timeTxt.height=20,this.timeTxt.textAlign=egret.HorizontalAlign.CENTER,this.timeTxt.stroke=1,this.timeTxt.strokeColor=1968898,this.timeTxt.horizontalCenter=0,this.timeTxt.bottom=210,App.FT.addToLayer(this.timeTxt,alvJ.WL),vkG.$a(HUtJ.HEARTBEAT,this.__bossRevivalHandler,this),this.__bossRevivalHandler()),this.attacker=GObj.$c(AttackerView),this.belonger=GObj.$c(BelongerView),this.updateAttackerInfo(null))},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.XE,this.updateAttackerInfo,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.XE,this.updateAttackerInfo,this)},t.prototype.updateAttackerInfo=function(e){if(e){if(e.firstAtkBelong){var t=this._roleDict[e.firstAtkBelong].data||null;if(!t)return;this.attacker||(this.attacker=GObj.$c(AttackerView)),this.attacker.getRoleVo=t,this.attacker.show()}else this.attacker.hide();if(e.belongUid){var t=this._roleDict[e.belongUid]&&this._roleDict[e.belongUid].data||this.Ljd.data;if(!t)return;this.belonger||(this.belonger=GObj.$c(BelongerView)),this.belonger.getRoleVo=t,this.belonger.show()}else this.belonger.hide()}},t.prototype.gotoBirth=function(){e.prototype.gotoBirth.call(this),this.isRevival=!0,this.Ljd.selectedFoe=null,vkG.$d(UtJ.NQ),this.revivalFrame||(this.revivalFrame=GObj.$c(PalaceBossRevivalFrame)),this.revivalFrame.show(10,this.__revivalCallBack,this)},t.prototype.__revivalCallBack=function(e){0>=e&&(this.revivalFrame.hide(),this.isRevival=!1,this.actionNext())},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||this._isend||this.isRevival)return!0;var t=this.Ljd.selectedFoe;if(t&&!t.isDie){GMath.distance(this.Ljd.x,this.Ljd.y,t.x,t.y)-1;if(!MapHelps.EP(this.Ljd,t))return!0;var n=this.Ljd.attack(t),i=t.data;return 1!==this._type&&i.isboss&&NpcHpView.instance.show(i),this.playerAttack(n),!0}return this.toNode(),!0},t.prototype.toNode=function(){var e=this.Ljd.selectedFoe,t=!e||e.isDie;t&&(e=this.getCurrMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=e);var n=this._playerNodes[0];this.Ljd&&e&&!e.isDie&&n.paths&&(this.Ljd.paths=n.paths.concat(),this.Ljd.nodeEnd())},t.prototype.getCurrMonster=function(e,t){if(!this._nodeDict)return null;var n=Object.keys(this._nodeDict)[0],i=this._nodeDict[n];return!i||i.isDie?null:i},t.prototype.__bossRevivalHandler=function(){return!this.timeTxt||this.lastTime<=0?void this.stopCountDown():(this.timeTxt.text=fvg.GVf("211",kpd.HE(this.lastTime)),void this.lastTime--)},t.prototype.start=function(t,n){this._start||(this.createRobot(),e.prototype.start.call(this,t,n))},t.prototype.createRobot=function(){if(!this._robotAngleArr){var e=this.selected();if(e){var t=30*int(180*Math.atan2(this.Ljd.x-e.x,this.Ljd.y-e.y)/Math.PI/30);0>t&&(t+=360),this._robotAngleArr=[t];for(var n=0,i=GMath.randomInt(5,7),r=0;i>r;r++)n+=GMath.randomInt(500,1600),ClockManager.setTimeout(this.initRobot,this,n,r+1)}}},t.prototype.initRobot=function(e){if(!this._isend){var t=this.selected();if(t&&this._robotAngleArr){for(var n=GMath.randomInt(0,11),i=0;12>i;i++){var r=30*(n+i)%360;if(this._robotAngleArr.indexOf(r)<0)break}this._robotAngleArr.push(r);var a=App.MB.getRobotRoleVo(e+1e6),o=GObj.$c(RobotHandler,a);o.setActionCall(this.__robotOverHandler,this),o.showSkill=!0,o.initPos(t.x+300*GMath.sin(r),t.y+300*+GMath.cos(r)),this.__robotOverHandler(o,0),this._robotDic[a.id]=o}}},t.prototype.__robotOverHandler=function(e,t){2==this._type&&e&&(!e.selectedFoe||e.selectedFoe&&e.selectedFoe.isDie)&&(e.selectedFoe=this.selected())},t.prototype.robotCheckNextAction=function(){if(this._robotDic)for(var e in this._robotDic)this.__robotOverHandler(this._robotDic[e],0)},t.prototype.checkNextAction=function(){e.prototype.checkNextAction.call(this);var t=this.Ljd.selectedFoe;t&&this.stopCountDown(),this.robotCheckNextAction(),this.createRobot()},t.prototype.stopCountDown=function(){vkG.$r(HUtJ.HEARTBEAT,this.__bossRevivalHandler,this),this.timeTxt&&this.timeTxt.parent&&this.timeTxt.parent.removeChild(this.timeTxt)},t.prototype.dispose=function(){if(this.stopCountDown(),GObj.$d(this.timeTxt),this.timeTxt=null,GObj.$d(this.attacker),this.attacker=null,GObj.$d(this.belonger),this.belonger=null,GObj.$d(this.revivalFrame),this.revivalFrame=null,this.bossVo=null,this._robotDic)for(var t in this._robotDic)GObj.$d(this._robotDic[t]);this._robotDic=null,this.isRevival=!1,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapMuitBossObiter.prototype,"MapMuitBossObiter");var MapNewbieObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.attackFake=function(e,t){if(e&&t){var n,i;for(var r in this._npcList){if(n=this._npcList[r],i=n.data,i&&i.id==e)break;n=null,i=null}if(n&&i){var a=this.getMonster(n.x,n.y);if(a){var o=StaticData.SKILL_INFO[t];if(o){var s=AvatarHelp.getDirection8(n.x,n.y,a.x,a.y);n.avatar.direction8=s,n.attackFake(),SkillAction["do"](o.attack,s,n.x,n.y),o.title&&SkillNameAction.VK(o.title,n.x,n.y-n.avatar.heady,!0);var p=GObj.$c(SkillAttackVO);p.id=t,p.p1=1e3,p.p2=35412;var l=GObj.$c(AttackVO);l.atkAttr=GObj.$c(DnQ),l.atkAttr.init(),l.atkAttr.atk=9876543,l.skill=p,l.atkIndex=1,l.uid=App.KF.uid,l.atkx=n.x,l.atky=n.y,l.direction8=s,l.skillaction=o,this.attackAll(l)}}}}},t.prototype.attackAll=function(e){var t=this._monsterList.length;if(!(0>=t)){var n,i;for(i=t-1;i>=0;i--)n=this._monsterList[i],n&&(n.bruise(e),n.isDie&&this._monsterList.splice(i,1))}},t.prototype.setAttr=function(e){e.isboss?e.attr=App.MZ.bossAttr:(e.attr=App.MZ.npcAttr,e.attr.hp=50)},t}(MapBattleObiter);__reflect(MapNewbieObiter.prototype,"MapNewbieObiter");var MapPalaceBossObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.waiting=!0,this.hurtAdd=0,this._bossInfo={},this._robotDic={},RES.isGroupLoaded(KqZ.LR)?this.updateView():(RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),RES.loadGroup(KqZ.LR))},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.GQ,this.__bossSelectedHandler,this),vkG.$a(UtJ.CN,this.__myTeamUpdateHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.GQ,this.__bossSelectedHandler,this),vkG.$r(UtJ.CN,this.__myTeamUpdateHandler,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this)},t.prototype.start=function(t,n){e.prototype.start.call(this,t,n),ClockManager.setTimeout(this.__waitEndHandler,this,3e3)},t.prototype.__waitEndHandler=function(){this.waiting&&(this.waiting=!1,this.checkNextAction())},t.prototype.__resourceLoadComplete=function(e){e.groupName==KqZ.LR&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__resourceLoadComplete,this),this.updateView())},t.prototype.initRobot=function(e){if(!this._isend){var t=this._playerNodes.length,n=App.MB.getRobotRoleVo(e+1e4),i=GObj.$c(RobotHandler,n);i.setActionCall(this.__robotOverHandler,this),i.showSkill=!0;var r=int(Math.random()*t),a=this._playerNodes[r].paths[0];a&&i.initPos(a.x,a.y),this.__robotOverHandler(i,0),this._robotDic[n.id]=i}},t.prototype.__robotOverHandler=function(e,t){e&&(!e.selectedFoe||e.selectedFoe&&e.selectedFoe.isDie)&&(e.selectedFoe=this.getMonster(e.x+int(2e3*Math.random()),e.y+int(2e3*Math.random())))},t.prototype.__myTeamUpdateHandler=function(){App.PQ.myTeam.tid>0?this.hurtAdd=(App.PQ.myTeam.psnum-1)*App.PQ.addHurt*10:this.hurtAdd=0,App.BG.playerAttrsInfo.hurtadd=this.hurtAdd},t.prototype.updateView=function(){this.uiView=GObj.$c(PalaceBossUIView),this.uiView.bossList=this._bossInfo,this.uiView.show()},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd&&e&&(this.Ljd=e,this._playerNodes&&this._playerNodes.length)){var t=int(Math.random()*this._playerNodes.length),n=this._playerNodes[t].paths[0];n&&this.Ljd.initPos(n.x,n.y)}},enumerable:!0,configurable:!0}),t.prototype.__addRoleHandler=function(e){if(e)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(n=GObj.$c(RoleHandler,t),n.showSkill=!1,this._roleDict[t.id]=n)},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||this._isend||this.isRevival||this.waiting)return!0;var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(t=this.getCurrMonster(this.Ljd.x,this.Ljd.y),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t))return!0;NpcHpView.instance.show(t.data);var n=this.Ljd.attack(t);return this.playerAttack(n),!0}return!0},t.prototype.__bossNodesHandler=function(t){if(e.prototype.__bossNodesHandler.call(this,t),t&&t.length){for(var n,i=t.length,r=0;i>r;r++)n=t[r],n&&n.id&&(this._bossInfo[n.id]=n);vkG.$d(UtJ.BX)}},t.prototype.__mapAttackHandler=function(t){if(t&&t.u){e.prototype.__mapAttackHandler.call(this,t);var n=[];if(t.d)for(var i=t.d.length,r=void 0,a=void 0,o=0;i>o;o++)r=t.d[o],r&&(a=this._bossInfo[r.id],a&&a.attr&&(a.attr.lefthp=r.l,n.push(r.id)));vkG.$d(UtJ.MOT,n)}},t.prototype.getCurrMonster=function(e,t){if(this._nodeDict){var n=this._nodeDict[this.selectedId||0];return this.selectedId&&n&&!n.isDie||(n=this.getMonster(e,t)),!n||n.isDie?null:(this.selectedId=n.data.id,n)}},t.prototype.getMonster=function(e,t){var n;if(this._nodeDict){var i=void 0,r=void 0,a=Number.MAX_VALUE,o=void 0;for(var s in this._nodeDict)i=this._nodeDict[s],r=i.data,r&&(o=GMath.distance(e,t,r.x,r.y),a>o&&(n=i,a=o))}return n},t.prototype.checkNextAction=function(){this.Ljd.selectedFoe||this.actionNext(),this.robotCheckNextAction()},t.prototype.robotCheckNextAction=function(){if(this._robotDic)for(var e in this._robotDic)this.__robotOverHandler(this._robotDic[e],0)},t.prototype.__bossSelectedHandler=function(e){if(this.isRevival)return void App.TT.show(fvg.GVf("214"));if(e){var t=this._nodeDict[e.id];t&&this.Ljd.selectedFoe!=t&&(this.Ljd.selectedFoe=t,this.selectedId=t.data.id,NpcHpView.instance.hide()),this.waiting&&(this.waiting=!1,this.actionNext())}},t.prototype.gotoBirth=function(){if(this._playerNodes&&this._playerNodes.length){var e=int(Math.random()*this._playerNodes.length),t=this._playerNodes[e];if(t&&t.paths){this.isRevival=!0,this.Ljd.selectedFoe=null;var n=t.paths.concat();n&&n.length>0&&(n[0].d=!0,this.Ljd.paths=n),this.revivalFrame||(this.revivalFrame=GObj.$c(PalaceBossRevivalFrame)),this.revivalFrame.show(10,this.__revivalCallBack,this)}}},t.prototype.__revivalCallBack=function(e){0>=e&&(this.revivalFrame.hide(),this.isRevival=!1,this.actionNext())},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("pboss24"),null,null,this.exit,this)},t.prototype.exit=function(){this._isend=!0,this.Ljd.selectedFoe=null,this.Ljd.paths=null,this.Ljd.wait(),this.__mapResultHandler(3)},t.prototype.__mapResultHandler=function(t){var n=this.uiView?this.uiView.rewardDic:{};for(var i in n)App.MB.addCampGoods(parseInt(i),n[i]);e.prototype.__mapResultHandler.call(this,t)},t.prototype.dispose=function(){if(this._isend=!0,this.waiting=!1,this.isRevival=!1,e.prototype.dispose.call(this),this._bossInfo=null,GObj.$d(this.uiView),this.uiView=null,GObj.$d(this.revivalFrame),this.revivalFrame=null,App.BG.playerAttrsInfo.hurtadd=0,this._robotDic)for(var t in this._robotDic)GObj.$d(this._robotDic[t]),delete this._robotDic[t];this._robotDic=null},t}(MapRoleObiter);__reflect(MapPalaceBossObiter.prototype,"MapPalaceBossObiter");var MapRobotObiter=function(){function e(){this.eo=200,this.fy=500,this.hw=3e3,this.gh=100,this.sc=0,this.km=0;var e=this;e.ec={},e.fv=[]}return e.prototype.setBattleObiter=function(e){this.ne=e},e.prototype.start=function(e,t){var n=this;if(!n.yn&&e&&!(0>=t)){n.yn=!0,n.ue=e,n.sc=e.length||0;for(var i,r=0;r<n.sc;r++)i=n.ue[r].paths,i&&i.length>0&&(i=i.concat(),i[0].n=r,n.fv.push(i));n.wo(),MapMsgProxy.PU()}},e.prototype.ym=function(e){var t=this;if(e){var n=e.length;for(var i in t.ec)if(t.ec[i])return;var r=GMath.randomInt(1,2);r>n&&(r=n);var a=t.fv[0];if(a&&!(a.length<=0))for(var o=App.KF.apid,s=0;r>s;s++){var p=e[s];p.x=a[0].x,p.y=a[0].y,p.speed=StaticData.ROLE_SPEED-2,p.apid==o&&(p.apid=0),t.jc(p,a.concat())}}},e.prototype.wo=function(){var e=this;vkG.$a(UtJ.JK,e.ym,e),vkG.$a(UtJ.WBQ,e.fd,e),App.KF.chapter<StaticData.HIDE_BASE_CH&&vkG.$a(HUtJ.HEARTBEAT,e.uz,e)},e.prototype.cz=function(){var e=this;vkG.$r(UtJ.JK,e.ym,e),vkG.$r(UtJ.WBQ,e.fd,e),vkG.$r(HUtJ.HEARTBEAT,e.uz,e)},e.prototype.uz=function(){var e=this;if(e.km++,e.km%15==0){if(App.KF.chapter>=StaticData.HIDE_BASE_CH)return void vkG.$r(HUtJ.HEARTBEAT,e.uz,e);var t=StaticData.BUBBLE_ROBOT;App.XT.vipGrade>=1&&(t=StaticData.BUBBLE_ROBOT1);var n=t.length;for(var i in e.ec){var r=e.ec[i];r&&r.updateBubble(t[GMath.randomInt(0,n-1)])}}},e.prototype.fd=function(e){var t=this;if(e&&t.ec)for(var n in t.ec)GObj.$d(t.ec[n]),t.ec[n]=null},e.prototype.jc=function(e,t){var n=this;if(e&&e.id&&!n.ec[e.id]){var i=GObj.$c(RobotHandler,e);i.showSkill=!1,i.setActionCall(n.ux,n),i.paths=t,n.ec[e.id]=i}},e.prototype.ux=function(e,t){e&&this.qx(e,t)},e.prototype.qx=function(e,t){var n=this;if(e&&(t=t||0,n.ne)){var i=n.ne.getMonsterByNode(t);if(i)return void(e.selectedFoe=i);t+=1,t>=n.sc&&(t=0),e.paths=n.fv[t].concat()}},e.prototype.dispose=function(){var e=this;if(!e.q_){if(e.q_=!0,e.cz(),e.ec){for(var t in e.ec)GObj.$d(e.ec[t]);e.ec=null}e.ue=null}},e}();__reflect(MapRobotObiter.prototype,"MapRobotObiter");var MapTeamBattleObiter=function(e){function t(){var t=e.call(this)||this;return t._pass=1,t._nextPass=!1,t}return __extends(t,e),t.prototype.init=function(){this._monsterDict={},e.prototype.init.call(this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),RES.loadGroup(KqZ.IV)},t.prototype.__mapLoadComplete=function(e){if(e.groupName==KqZ.IV){if(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this),this._isDis)return void RES.destroyRes(KqZ.IV);this._warView=GObj.$c(TeamCopyMapFrame),this._warView.show(),this._passView=GObj.$c(TeamCopyPassView)}},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.EP,this.__teamPassHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.EP,this.__teamPassHandler,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.__mapLoadComplete,this)},t.prototype.__mapAttackHandler=function(t){if(t&&t.u&&(e.prototype.__mapAttackHandler.call(this,t),t.d))for(var n=t.d.length,i=void 0,r=void 0,a=0;n>a;a++)if(i=t.d[a],i&&(r=this._monsterDict[i.id],r&&r.data&&r.data.attr&&(r.data.attr.lefthp=i.l,NpcHpView.instance.progress=r.data,i.l<=0))){r.toDie(),delete this._monsterDict[i.id];for(var o=this._monsterList.length,s=void 0,p=o-1;p>=0;p--)s=this._monsterList[p],s.isDie&&this._monsterList.splice(p,1)}},t.prototype.getSelected=function(e){var t=this._nodeDict[e];return t||(t=this._monsterDict[e]),t},t.prototype.__teamPassHandler=function(e){this._pass=e||1,this._nextPass=!0},t.prototype.setAttr=function(t){return 22==t.nodeType?void(t.isboss?t.attr=App.JP.bossAttrYmg(this._pass):t.attr=App.JP.npcAttrYmg(this._pass)):void e.prototype.setAttr.call(this,t)},t.prototype.playerAttack=function(e){if(e){var t,n=0,i=this.Ljd.selectedFoe,r=[];i&&!i.isDie&&(t=i.bruise(e),t&&(r.push({t:t.t,id:t.id,v:t.v,c:t.c,fere:t.fere,rare:t.rare,flysword:t.flysword}),n+=t.v));var a,o,s,p=this._monsterList.length,l=e.skillaction,c=l.count,u=0,d=0;for(o=p-1;o>=0;o--)if(a=this._monsterList[o],a!=i){s=GMath.distance(this.Ljd.x,this.Ljd.y,a.x,a.y);var g=l.atkrange||1;if(!(s>g)&&(t=a.bruise(e),t&&(r.push({t:t.t,id:t.id,v:t.v,c:t.c,fere:t.fere,rare:t.rare,flysword:t.flysword}),n+=t.v),a.isDie&&(a.data.isboss&&vkG.$d(UtJ.CE),this._monsterList.splice(o,1),d++),u++,u>=c))break}for(MapMsgProxy.AV(e.uid,e.skillId,r,e.skill?e.skill.pasIdList:void 0),this.Ljd.suckHp(n),p=this._monsterList.length,o=0;p>o;o++)a=this._monsterList[o],a.selectedFoe=this.Ljd;vkG.$d(UtJ.UX,d)}},t.prototype.toNode=function(e){e>=this._nodeLen&&(this._nextPass=!1,e%=this._nodeLen);var t=this._playerNodes[e];if(this.Ljd&&t.paths&&(this.Ljd.paths=t.paths.concat(),this.Ljd.nodeEnd()),NpcHpView.instance.hide(),this._data.nodes){var n=this._data.nodes[t.id];if(n){this.createNpcs(n.npcs);for(var i,r=this._monsterList.length,a=0;r>a;a++)GObj.$d(this._monsterList[a]);for(var o in this._monsterDict)GObj.$d(this._monsterDict[o]),this._monsterDict[o]=null;i=null,this._monsterList.length=0,this._isSorted=!1;var s=n.monsters;if(s&&(r=s.length,!(0>=r))){var p=0,l=QycO.OK;n.name&&(l=n.name),p=n.type||1;for(var a=0;r>a;a++){var c=s[a],u=GObj.$c(MonsterVO);if(u.name=l,u.atkdis=StaticData.NPC_ATTACK_DIS,ObjectUtil.oto(c,u),u.nodeId=n.id,u.nodeType=p,c.attr){var d=GObj.$c(DnQ);d.init(),d.setAttrTemp(XCA.YV(c.attr)),u.attr=d}else this.setAttr(u);u.paths&&u.paths.length>0&&(u.x=u.paths[0].x,u.y=u.paths[0].y),i=GObj.$c(MonsterTeamHandler,u),this._monsterList.push(i),this._monsterDict[u.id]=i}}}}},t.prototype.dispose=function(){this._isDis=!0,RES.destroyRes(KqZ.IV),GObj.$d(this._warView),this._warView=null,GObj.$d(this._passView),this._passView=null;for(var t in this._monsterDict)GObj.$d(this._monsterDict[t]),this._monsterDict[t]=null;this._monsterDict=null,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapTeamBattleObiter.prototype,"MapTeamBattleObiter");var MapTurnupBossObiter=function(e){function t(){var t=e.call(this)||this;return t.isStart=!1,t}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.info=App.MB.turnupBossInfo,this.initPoint=[];for(var t=0;t<this._nodeLen;t++)this._playerNodes[t].paths&&this.initPoint.push(this._playerNodes[t].paths[0]);this.bossPoint=this.initPoint.pop(),this.mapView=GObj.$c(TurnupBossMapPopUi),this.mapView.mapId=this._data.mapId,this.mapView.show(),this.__turnbossInfoHandler()},t.prototype.start=function(t,n){this.isStart=!0,e.prototype.start.call(this,t,n)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this),vkG.$a(UtJ.WI,this.__turnbossRevivieHandler,this),vkG.$a(UtJ.ZC,this.__turnbossInfoHandler,this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this),vkG.$r(UtJ.WI,this.__turnbossRevivieHandler,this),vkG.$r(UtJ.ZC,this.__turnbossInfoHandler,this)},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){this.Ljd||(this.Ljd=e,this.initPlayerPoint(this.Ljd))},enumerable:!0,configurable:!0}),t.prototype.initPlayerPoint=function(e){if(e&&this.initPoint.length){var t=e.data.uid,n=this.initPoint[t%this.initPoint.length];n&&e.initPos(n.x,n.y)}},t.prototype.__addRoleHandler=function(e){if(e&&e.length)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(n=GObj.$c(RoleHandler,t),0==t.x&&0==t.y&&this.initPlayerPoint(n),this._roleDict[t.id]=n)},t.prototype.checkNextAction=function(){this.isStart&&this.actionNext()},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._isend||this.isRevivie)return!1;var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(t=this.selected(),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t))return!0;NpcHpView.instance.show(t.data);var n=this.Ljd.attack(t);return this.playerAttack(n),!0}return!0},t.prototype.gotoBirth=function(){if(!this.isRevivie){this.isRevivie=!0;var e=this._data.role.birth;if(e){var t=e.length,n=int(GMath.random(0,t)),i=e[n];this.Ljd.paths=[{x:i.x,y:i.y,d:!0}],this.Ljd.selectedFoe=null}this.revivieView||(this.revivieView=GObj.$c(TurnupBossCountDown)),this.revivieView.countDown=this.info.revivalTime,this.revivieView.show()}},t.prototype.__turnbossRevivieHandler=function(){this.isRevivie&&(this.isRevivie=!1,this.revivieView&&(this.revivieView.countDown=0,this.revivieView.hide()),this.checkNextAction())},t.prototype.__turnbossInfoHandler=function(){this.hurtRate=App.MB.turnupBossInfo.rbab*App.MB.turnupBossInfo.hurtRate,App.BG.playerAttrsInfo.hurtadd=this.hurtRate||0},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("revivie6"),null,null,this.exit,this)},t.prototype.dispose=function(){App.BG.playerAttrsInfo.hurtadd=0,this.info=null,this.initPoint=null,this.bossPoint=null,GObj.$d(this.revivieView),this.revivieView=null,GObj.$d(this.mapView),this.mapView=null,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapTurnupBossObiter.prototype,"MapTurnupBossObiter");var MapWuShenBossObiter=function(e){function t(){var t=e.call(this)||this;return t.isStart=!1,t}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.initPoint=[];for(var t=0;t<this._nodeLen;t++)this._playerNodes[t].paths&&this.initPoint.push(this._playerNodes[t].paths[0]);this.atkCount=0},t.prototype.start=function(t,n){this.isStart=!0,e.prototype.start.call(this,t,n)},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){this.Ljd||(this.Ljd=e,this.initPlayerPoint(this.Ljd))},enumerable:!0,configurable:!0}),t.prototype.initPlayerPoint=function(e){if(e&&this.initPoint&&this.initPoint.length){var t=e.data.uid,n=this.initPoint[t%this.initPoint.length];n&&e.initPos(n.x,n.y)}},t.prototype.__bossAttackHandler=function(e){if(e&&e.u){var t=this._nodeDict[e.u];if(t&&t.attack(this.Ljd),e.d)for(var n=e.d.length,i=void 0,r=App.KF.uid,a=void 0,o=0;n>o;o++)i=e.d[o],i&&(r==i.id?(this.Ljd.bruiseSyn(i),this.atkCount++,this.updateAtkCount(),this.Ljd.isDie&&(this.Ljd.selectedFoe=null,t&&(t.selectedFoe=null),this._isend=!0)):(a=this._roleDict[i.id],a&&a.bruiseSyn(i)))}},t.prototype.updateAtkCount=function(){this.msgTxt||(this.msgTxt=GObj.$c(eui.Label),this.msgTxt.size=20,this.msgTxt.textColor=Color.XB,this.msgTxt.height=20,this.msgTxt.horizontalCenter=0,this.msgTxt.bottom=190,App.FT.addToLayer(this.msgTxt,alvJ.WL)),this.msgTxt.text=fvg.GVf("wushen30",16-this.atkCount)},t.prototype.__addRoleHandler=function(e){if(e&&e.length)for(var t,n,i=e.length,r=0;i>r;r++)t=e[r],t&&t.id&&!this._roleDict[t.id]&&(n=GObj.$c(RoleHandler,t),n.showSkill=!1,0==t.x&&0==t.y&&this.initPlayerPoint(n),this._roleDict[t.id]=n)},t.prototype.checkNextAction=function(){this.isStart&&this.actionNext()},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._isend)return!1;var t=this.Ljd.selectedFoe;if((!t||t.isDie)&&(t=this.selected(),this.Ljd.selectedFoe=t),t){if(!MapHelps.EP(this.Ljd,t))return!0;NpcHpView.instance.show(t.data);var n=this.Ljd.attack(t);return this.playerAttack(n),this.canExit=!0,!0}return!0},t.prototype.gotoBirth=function(){},t.prototype.__exitClickHandler=function(e){this.canExit&&Alert.WK(fvg.GVf("33"),null,null,this.exit,this)},t.prototype.exit=function(){this._isend=!0,MapMsgProxy.ED()},t.prototype.dispose=function(){this.initPoint=null,GObj.$d(this.msgTxt),this.msgTxt=null,e.prototype.dispose.call(this)},t}(MapRoleObiter);__reflect(MapWuShenBossObiter.prototype,"MapWuShenBossObiter");var MapWuShenPlunderObiter=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.selfFace=1,this._data.role.birth&&(this.leftBirth=this._data.role.birth[0],this.rightBirth=this._data.role.birth[1])},t.prototype.addEvent=function(){e.prototype.addEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},Object.defineProperty(t.prototype,"playerHandler",{set:function(e){if(!this.Ljd){this.Ljd=e;var t,n;this.selfFace==StaticData.LEFT_FACE?(t=this.leftBirth,n=irK.R_R):(t=this.rightBirth,n=irK.L_L),t&&this.Ljd.initPos(parseInt(t.x),parseInt(t.y)),this.Ljd.wait(),this.Ljd.initDirection(n)}},enumerable:!0,configurable:!0}),t.prototype.start=function(t,n){e.prototype.start.call(this,t,n)},t.prototype.actionNext=function(e){if(void 0===e&&(e=!0),this._nodeLen<=0||!e||this._isend)return!1;if(this._nodeIndex>=this._nodeLen-1){var t=this.Ljd.selectedFoe;if(t&&this.Ljd.isDie)return this.Ljd.selectedFoe=null,t.selectedFoe=null,this.showFightResult(!1),!1;if(t||(t=this.getMonster(0,0),t&&(this.Ljd.selectedFoe=t,t.selectedFoe=this.Ljd)),t){if(t.isDie)return this.Ljd.selectedFoe=null,t.selectedFoe=null,this.showFightResult(!0),!1;if(!MapHelps.EP(this.Ljd,t))return!0;NpcHpView.instance.show(t.data);var n=this.Ljd.attack(t);return this.playerAttack(n),!0}return!1}return this.toNode(this._nodeIndex),this._nodeIndex++,!0},t.prototype.toNode=function(e){var t=this._playerNodes[e],n=this.getMonster(0,0);n&&6!=n.type&&(n=null),t&&t.paths&&(this.selfFace==StaticData.LEFT_FACE?this.Ljd.paths=t.paths.concat():n&&(n.paths=t.paths.concat())),t=this._playerNodes[e+1],t&&t.paths&&(this.selfFace==StaticData.RIGHT_FACE?this.Ljd.paths=t.paths.concat():n&&(n.paths=t.paths.concat())),NpcHpView.instance.hide()},t.prototype.getMonster=function(e,t){for(var n in this._roleDict)return this._roleDict[n];return null},t.prototype.__addRoleHandler=function(e){if(e)for(var t,n,i=e.length,r=0;i>r;r++)if(t=e[r],t&&t.id&&!this._roleDict[t.id]){n=GObj.$c(BattleRobotHandler,t),this._roleDict[t.id]=n;var a=this.rightBirth;a&&n.initPos(parseInt(a.x),parseInt(a.y))}},t.prototype.__removeRoleHandler=function(e){var t=this._roleDict[e];t&&(delete this._roleDict[e],GObj.$d(t),this.Ljd.selectedFoe=null),t=null},t.prototype.showFightResult=function(e){this._isend||(this._isend=!0,WulinLeagueMsgProxy.ZA(e?1:2))},t.prototype.gotoBirth=function(){},t.prototype.__exitClickHandler=function(e){Alert.WK(fvg.GVf("crossarena23"),null,null,this.exit,this)},t.prototype.exit=function(){this._isend||this.showFightResult(!1)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.leftBirth=null,this.rightBirth=null},t}(MapRoleObiter);__reflect(MapWuShenPlunderObiter.prototype,"MapWuShenPlunderObiter");var DamageRankItem=function(e){function t(){var t=e.call(this)||this;return t.kn(),t}return __extends(t,e),t.prototype.kn=function(){var e=this;e.touchChildren=e.touchEnabled=!1,e.rankTxt=GObj.$c(egret.TextField),e.rankTxt.textColor=Color.XB,e.rankTxt.size=16,e.rankTxt.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e.rankTxt),e.nameTxt=GObj.$c(egret.TextField),e.nameTxt.textColor=Color.XB,e.nameTxt.size=16,e.nameTxt.x=20,e.nameTxt.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e.nameTxt),e.damageTxt=GObj.$c(egret.TextField),e.damageTxt.textColor=Color.XB,e.damageTxt.size=16,e.damageTxt.x=155,e.damageTxt.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e.damageTxt)},Object.defineProperty(t.prototype,"textColor",{set:function(e){var t=this;t.rankTxt.textColor=e,t.nameTxt.textColor=e,t.damageTxt.textColor=e},enumerable:!0,configurable:!0}),t.prototype.updateData=function(e){var t=this;if(e){var n=fvg.GVf("rank5").split(QycO.XP);e.rank>=n.length?t.rankTxt.text=n[0]:t.rankTxt.text=n[e.rank],t.nameTxt.text=e.name,t.damageTxt.text=Nkz.YL(e.score)}},t.prototype.dispose=function(){var e=this;GObj.$d(e.rankTxt),e.rankTxt=null,GObj.$d(e.nameTxt),e.nameTxt=null,GObj.$d(e.damageTxt),e.damageTxt=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(DamageRankItem.prototype,"DamageRankItem");var DamageRankList=function(e){function t(){var t=e.call(this)||this;return t.zp(),t}return __extends(t,e),t.prototype.zp=function(){var e=this;e.ff=[],e.du=GObj.$c(RankVO),e.xz=GObj.$c(DamageRankItem),e.xz.textColor=Color.YO,e.xz.x=15,e.xz.y=150,e.addChild(e.xz)},t.prototype.updateData=function(e){var t=this;if(e){t.du.rank=e.order,t.du.name=App.KF.name,t.du.score=e.score,t.xz.updateData(t.du);var n,i=0,r=0;if(e.list){var a=void 0;for(i=e.list.length,i>6&&(i=6),r=0;i>r;r++)a=e.list[r],n=t.ff[r],n||(n=t.ff[r]=GObj.$c(DamageRankItem),n.y=20*r+30,n.x=15),t.addChild(n),n.updateData(a)}for(i=t.ff.length;i>r;r++)n=t.ff[r],n&&n.parent&&n.parent.removeChild(n)}},t.prototype.dispose=function(){var e=this;GObj.$d(e.du),e.du=null,GObj.$d(e.xz),e.xz=null,GObj.$d(e.ff),e.ff=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(DamageRankList.prototype,"DamageRankList");var DamageRankView=function(e){function t(){var t=e.call(this)||this;return t.yg=!1,t.aq=175,t.uw=54,t.tf(),t.fo(),t}return __extends(t,e),t.prototype.tf=function(){var e=this;e.touchEnabled=!0,e.touchChildren=!1,e.bgImg=GObj.$c(eui.Image),e.bgImg.touchEnabled=!1,e.bgImg.source="framehd_json.framehd_bg_7_png";var t=GObj.$c(egret.Rectangle);t.setTo(6,6,32,32),e.bgImg.scale9Grid=t,e.bgImg.width=255,e.bgImg.height=e.uw,e.addChild(e.bgImg),e.doBtn=GObj.$c(eui.ToggleButton),e.doBtn.skinName=RRUU.$e("SelectedButton_4"),e.doBtn.touchEnabled=!1,e.doBtn.x=230,e.doBtn.y=30,e.addChild(e.doBtn),e.firstTxt=GObj.$c(egret.TextField),e.firstTxt.textColor=Color.YO,e.firstTxt.size=16,e.firstTxt.x=15,e.firstTxt.y=30,e.addChild(e.firstTxt)},t.prototype.initData=function(e,t){var n=this;e!==n.ig&&(n.ig=e,n.om=t,n.data=null,GObj.$d(n.rlvo),n.rlvo=null,n.qn=!0,12==n.om&&(n.qn=!1),n.doBtn.visible=n.qn,100==n.om?n.hz=FDG.IN+(n.ig?n.ig.id||"":""):4==n.om?n.hz=FDG.FV:41==n.om?n.hz=FDG.FV:37==n.om?n.hz=FDG.IN+(n.ig?n.ig.id||"":""):n.hz=FDG.IN,n.fe())},t.prototype.fe=function(){var e,t=this;t.data||(t.rlvo||(t.rlvo=GObj.$c(RankListVO),t.rlvo.order=1,t.rlvo.score=0,e=GObj.$c(RankVO),e.rank=1,e.score=0,e.name=App.KF.name,t.rlvo.list=[e]),t.data=t.rlvo),t.listView&&t.listView.updateData(t.data),t.data.list&&t.data.list.length>0&&(e=t.data.list[0],t.firstTxt.text=fvg.GVf(23,e.name,NumberUtil.NM(e.score)))
},t.prototype.fo=function(){var e=this;e.addEventListener(eui.tep,e.bx,e),vkG.$a(UtJ.TT,e.vl,e)},t.prototype.fg=function(){var e=this;e.removeEventListener(eui.tep,e.bx,e),vkG.$r(UtJ.TT,e.vl,e)},t.prototype.vl=function(e){var t=this;e&&e.type==t.hz&&(t.data=App.PV.getData(t.hz),t.fe())},t.prototype.bx=function(){var e=this;e.qn&&(e.yg=!e.yg,e.doBtn.selected=e.yg,e.yg?(e.bgImg.height=e.aq,e.firstTxt.parent&&e.firstTxt.parent.removeChild(e.firstTxt),e.listView||(e.listView=GObj.$c(DamageRankList),e.listView.updateData(e.data)),e.addChild(e.listView)):(e.bgImg.height=e.uw,e.addChild(e.firstTxt),e.listView&&e.listView.parent&&e.listView.parent.removeChild(e.listView)))},t.prototype.dispose=function(){var e=this;e.fg(),GObj.$d(e.rlvo),e.rlvo=null,GObj.$d(e.bgImg),e.bgImg=null,GObj.$d(e.doBtn),e.doBtn=null,GObj.$d(e.firstTxt),e.firstTxt=null,GObj.$d(e.listView),e.listView=null,e.ig=null,e.hz=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(DamageRankView.prototype,"DamageRankView");var MapExitBar=function(e){function t(){var t=e.call(this)||this;return t.bb=!1,t.skinName=RRUU.$e("MapExitBar"),t.yu(),t.wg(),t}return __extends(t,e),t.prototype.yu=function(){var e=this;e.left=25,e.bottom=210,e.kp=fvg.GVf(31),alvJ.instance.addToLayer(this,alvJ.WL)},t.prototype.setExitCall=function(e,t){var n=this;n.he=e,n.rt=t},t.prototype.__exitClickHandler=function(e){var t=this;Alert.WK(t.kp,null,null,t.exit,t)},t.prototype.exit=function(){var e=this;TaskBar.instance.autoTaskState=!1,e.he?e.he.call(e.rt):App.UY.enterChapter()},Object.defineProperty(t.prototype,"alertStr",{set:function(e){this.kp=e},enumerable:!0,configurable:!0}),t.prototype.wg=function(){var e=this;e.addEventListener(eui.tep,e.__exitClickHandler,e)},t.prototype.lh=function(){var e=this;e.removeEventListener(eui.tep,e.__exitClickHandler,e)},t.prototype.dispose=function(){var e=this;e.bb||(e.he=null,e.rt=null,Alert.GM(e.exit,e),e.bb=!0,e.lh(),e.parent&&e.parent.removeChild(e))},t}(eui.Button);__reflect(MapExitBar.prototype,"MapExitBar");var NpcHpView=function(e){function t(){var n=e.call(this,"NpcHpView")||this;return n.MAX_NPC_NUM=10,n.MAX_HP_NUM=4,n.curNpcMaxPro=223,n.curNpcHp=0,n.npcHpSpeed=3,n._progress=100,n._isShow=!1,singleton(t._instance),t._instance=n,n.skinName=RRUU.$s(n.id),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.horizontalCenter=0,e.top=130,e.rewardBtn.label=fvg.GVf("107"),e.initBossHpTextures()},t.prototype.initBossHpTextures=function(){for(var e=[],t=0;4>t;t++)e[t]=RES.getRes("game_json.hp_boss_"+t+"_png");this.textureArr=e},t.prototype.getSpeedByOverNum=function(e){return e*=10,3>e?10:Math.min(50,int(3*e))},t.prototype.__enterFrameNpcHpHandler=function(){var e=this;e.curNpcHp=int(e._progress/100*e.MAX_NPC_NUM*e.curNpcMaxPro),e.animNpcHp-=e.npcHpSpeed,e.animNpcHp<e.curNpcHp&&(e.animNpcHp=e.curNpcHp);var t=e.animNpcHp%e.curNpcMaxPro*100/e.curNpcMaxPro;0>=t&&e.curNpcHp>e.curNpcMaxPro/100&&(t=100),e.bossBloodTopImg.width=int(e.curNpcMaxPro*t/100);var n=Math.floor((e.animNpcHp-1)/e.curNpcMaxPro);e.bossBloodTopImg.texture=e.textureArr[n%e.MAX_HP_NUM],e.bossBloodBottomImg.texture=e.textureArr[(n+e.MAX_HP_NUM-1)%e.MAX_HP_NUM];var i=Math.ceil(e.animNpcHp/e.curNpcMaxPro);hFO.instance.getNumberView(bRC.IT,i+"",-4,e.hpNum),e.hpXNum.visible=e.hpNum.visible=i>=1,1>=i&&e.animNpcHp<e.curNpcMaxPro&&(e.bossBloodBottomImg.texture=null)},t.prototype.getProByMonVo=function(e){if(e.attr){var t=e.attr.lefthp/e.attr.maxhp*100;return t}},t.prototype.initEvent=function(){var e=this;e.rewardBtn.addEventListener(eui.tep,e.__rewardBtnHandler,e)},t.prototype.removeEvent=function(){var e=this;e.rewardBtn.removeEventListener(eui.tep,e.__rewardBtnHandler,e)},t.prototype.__rewardBtnHandler=function(){App.VS.popup(null,AwardPreviewPopUi,void 0,this.bossid)},t.prototype.$setProgress=function(e){var t=this;isNaN(e)||t._progress!==e&&(e>100?e=100:0>e&&(e=0),t._progress=e,t.hpPro.text=e.toFixed(2)+"%",t.updateHpSpeed())},t.prototype.updateHpSpeed=function(){var e=this;e.curNpcHp=int(e._progress/100*e.MAX_NPC_NUM*e.curNpcMaxPro);var t=(e.animNpcHp-e.curNpcHp)/e.curNpcMaxPro;e.npcHpSpeed=e.getSpeedByOverNum(t)},t.prototype.show=function(e,t){var n=this;e&&(n.initHpView(e),n._isShow||(t&&(n.MAX_NPC_NUM=t),n._isShow=!0,n.initHpEvent(),n.initHpData(e),alvJ.instance.addToLayer(this,alvJ.WL)))},t.prototype.initHpView=function(e){var t=this,n=PlayerManager.instance.jkU.chapter,i="";7==App.UY.sceneType&&(i=fvg.GVf("task5",n)+" "),t.npcName.text=i+e.name,t.rewardBtn.visible=e.isboss&&(2==App.UY.sceneType||44==App.UY.sceneType),t.bossid=e.id,t.hpPro.text="100%",MapHelps.QQ(e.type,App.UY.sceneType)?(t.damageRank||(t.damageRank=GObj.$c(DamageRankView),t.damageRank.x=35,t.damageRank.y=47),t.damageRank.initData(e,App.UY.sceneType),t.addChildAt(t.damageRank,0)):t.damageRank&&t.damageRank.parent&&t.damageRank.parent.removeChild(t.damageRank)},t.prototype.initHpEvent=function(){var e=this;Nvm.instance.registeEnterFrame(e.__enterFrameNpcHpHandler,e)},t.prototype.initHpData=function(e){var t=this;t.progress=e,t.animNpcHp=t.curNpcMaxPro*t.MAX_NPC_NUM},t.prototype.removeHpEvent=function(){var e=this;Nvm.instance.unRegisteEnterFrame(e.__enterFrameNpcHpHandler,e)},Object.defineProperty(t.prototype,"progress",{get:function(){return this._value},set:function(e){var t=this;if("undefined"!=typeof e){var n=0;n="number"==typeof e?e:t.getProByMonVo(e),t.$setProgress(n)}},enumerable:!0,configurable:!0}),t.prototype.hide=function(){var e=this;e._isShow&&(e.removeHpEvent(),e._value=null,e._isShow=!1,e.parent.removeChild(e))},t._instance=null,t}(BaseUI);__reflect(NpcHpView.prototype,"NpcHpView");var CrossHarryBottomView=function(e){function t(){var t=e.call(this,"CrossHarryBottomView")||this;return t.je=5,t.skinName=RRUU.$s(t.id),t.bottom=210,t.horizontalCenter=0,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.lr=[],e.gg=parseInt(XCA.CG(IDU.AI)||"0")+3,e.cdImg_1.source=e.cdImg_2.source="crossharrymap_json.cross_harry_cdbg_png",e.cdTxt_1.visible=e.cdTxt_2.visible=!1,e.cdImg_1.visible=e.cdImg_2.visible=!1},t.prototype.initEvent=function(){var e=this;e.roadBtn_1.addEventListener(eui.tep,e.qg,e),e.roadBtn_2.addEventListener(eui.tep,e.qg,e),vkG.$a(HUtJ.HEARTBEAT,e.mg,e)},t.prototype.removeEvent=function(){var e=this;e.roadBtn_1.removeEventListener(eui.tep,e.qg,e),e.roadBtn_2.removeEventListener(eui.tep,e.qg,e),vkG.$r(HUtJ.HEARTBEAT,e.mg,e),vkG.$r(HUtJ.HEARTBEAT,e.bl,e)},t.prototype.initData=function(){var e=this;e.eo=App.IB.harryVo.secs||0;var t=e.eo-App.NN.serverSecond+StaticData.HARRY_START_TIME;t>0&&!App.IB.start||(e.tipBgImg&&e.tipBgImg.parent&&e.tipBgImg.parent.removeChild(e.tipBgImg),e.tipTxt&&e.tipTxt.parent&&e.tipTxt.parent.removeChild(e.tipTxt))},t.prototype.mg=function(){var e=this;return e.pq=e.eo-App.NN.serverSecond+StaticData.HARRY_START_TIME,e.je--,e.pq<0&&(e.tipBgImg&&e.tipBgImg.parent&&e.tipBgImg.parent.removeChild(e.tipBgImg),e.tipTxt&&e.tipTxt.parent&&e.tipTxt.parent.removeChild(e.tipTxt)),e.pq<0&&e.je<=0?void vkG.$r(HUtJ.HEARTBEAT,e.mg,e):void(e.tipTxt.text=fvg.GVf("harry17",e.pq))},t.prototype.show=function(e,t){var n=this;n.mv=e,n.rq=t,alvJ.instance.addToLayer(this,alvJ.WL)},t.prototype.updateRoad=function(){var e=this;e.lr.length=0;for(var t=App.IB.road,n=1;3>=n;n++)n!=t&&e.lr.push(n);e.roadBtn_1.icon=e.ru(e.lr[0]),e.roadBtn_2.icon=e.ru(e.lr[1]),e.wq=e.gg,e.cdTxt_1.visible=e.cdTxt_2.visible=!0,e.cdImg_1.visible=e.cdImg_2.visible=!0,vkG.$a(HUtJ.HEARTBEAT,e.bl,e),e.bl()},t.prototype.bl=function(){var e=this;if(e.wq<=0)return vkG.$r(HUtJ.HEARTBEAT,e.bl,e),e.cdTxt_1.visible=e.cdTxt_2.visible=!1,void(e.cdImg_1.visible=e.cdImg_2.visible=!1);e.cdTxt_1.text=e.cdTxt_2.text=toChars(e.wq);var t=e.cdImg_1.scrollRect||GObj.$c(egret.Rectangle);t.x=t.y=0,t.width=e.cdImg_1.width,t.height=e.cdImg_1.height*e.wq/e.gg,e.cdImg_1.scrollRect=t,e.cdImg_2.scrollRect=t,e.wq--},t.prototype.ru=function(e){switch(e){case 1:return"crossharrymap_json.cross_harry_top_png";case 2:return"crossharrymap_json.cross_harry_cen_png";case 3:return"crossharrymap_json.cross_harry_bot_png";default:return"crossharrymap_json.cross_harry_top_png"}},t.prototype.qg=function(e){var t=this;if(t.wq>0)return void App.TT.show(fvg.GVf("crossharry7"));var n,i=e.currentTarget;switch(i){case t.roadBtn_1:n=t.lr[0];break;case t.roadBtn_2:n=t.lr[1]}t.mv&&t.mv.call(t.rq,n)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cdImg_1),t.cdImg_1=null,GObj.$d(t.cdImg_2),t.cdImg_2=null,GObj.$d(t.cdTxt_1),t.cdTxt_1=null,GObj.$d(t.cdTxt_2),t.cdTxt_2=null,GObj.$d(t.tipBgImg),t.tipBgImg=null,GObj.$d(t.tipTxt),t.tipTxt=null,t.mv=null,t.rq=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryBottomView.prototype,"CrossHarryBottomView");var CrossHarryHeadBtn=function(e){function t(){var t=e.call(this)||this;return t.hp=!1,t.dj=!1,t.fs(),t}return __extends(t,e),t.prototype.fs=function(){var e=this;e.touchEnabled=!0,e.qb=GObj.$c(egret.Bitmap),e.addChild(e.qb),e.pw=GObj.$c(egret.TextField),e.pw.x=3,e.pw.y=84,e.pw.width=70,e.pw.height=14,e.pw.size=14,e.pw.textColor=Color.XB,e.pw.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e.pw),e.yk=GObj.$c(egret.Bitmap),e.yk.texture=RES.getRes("core_json.pro_ui_1_png"),e.yk.x=8,e.yk.y=72,e.yk.width=53,e.addChild(e.yk)},Object.defineProperty(t.prototype,"isGuard",{get:function(){return this.hp},set:function(e){var t=this;t.hp!=e&&(t.hp=!0,t.hp&&(t.qb.texture=RES.getRes("harrymap_json.harry_head_3_png"),t.yk.x=12,t.yk.y=71))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.dj},set:function(e){var t=this;t.dj!=e&&(t.dj=e,t.dj?(t.xq||(t.xq=GObj.$c(egret.Bitmap),t.hp?t.xq.texture=RES.getRes("harrymap_json.harry_head_sel_3_png"):t.xq.texture=RES.getRes("harrymap_json.harry_head_sel_png"),t.xq.x=0,t.xq.y=-4),t.xq.parent||t.addChild(t.xq)):t.xq&&t.xq.parent&&t.xq.parent.removeChild(t.xq))},enumerable:!0,configurable:!0}),t.prototype.updateData=function(e){var t=this;e&&(t.et=e,t.qb.texture=RES.getRes("harrymap_json.harry_head_"+e.sex+"_png"),t.pw.text=e.name,e.attr&&(t.yk.width=e.attr.lefthp/e.attr.maxhp*53))},Object.defineProperty(t.prototype,"data",{get:function(){return this.et},enumerable:!0,configurable:!0}),t.prototype.updateGuard=function(e){var t=this;t.isGuard=!0,e&&e.attr&&(t.yk.width=e.attr.lefthp/e.attr.maxhp*53)},t.prototype.dispose=function(){var e=this;GObj.$d(e.qb),e.qb=null,GObj.$d(e.pw),e.pw=null},t}(egret.Sprite);__reflect(CrossHarryHeadBtn.prototype,"CrossHarryHeadBtn");var CrossHarryMapFrame=function(e){function t(){var t=e.call(this,"CrossHarryMapFrame")||this;return t.po=3,t.skinName=RRUU.$s(t.id),t.top=0,t.bottom=230,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.killDescLab.text=fvg.GVf("harry29"),e.nameDescLab.text=fvg.GVf("teamcopy17"),e.scoreDescLab.text=fvg.GVf("harry11"),e.bt()},t.prototype.db=function(e){Alert.WK(fvg.GVf("harry19"),null,Alert.EX)},t.prototype.initEvent=function(){var e=this;e.gradeBtn.addEventListener(eui.tep,e.hw,e),e.totalBtn.addEventListener(eui.tep,e.xd,e),e.scoreBtn.addEventListener(eui.tep,e.r_v,e),e.descBtn.addEventListener(eui.tep,e.db,e),vkG.$a(UtJ.TT,e.hz,e),vkG.$a(UtJ.DOU,e.bt,e),vkG.$a(HUtJ.HEARTBEAT,e.bw,e)},t.prototype.removeEvent=function(){var e=this;e.gradeBtn.removeEventListener(eui.tep,e.hw,e),e.totalBtn.removeEventListener(eui.tep,e.xd,e),e.scoreBtn.removeEventListener(eui.tep,e.r_v,e),e.descBtn.removeEventListener(eui.tep,e.db,e),vkG.$r(UtJ.TT,e.hz,e),vkG.$r(UtJ.DOU,e.bt,e),vkG.$r(HUtJ.HEARTBEAT,e.bw,e)},t.prototype.initData=function(){this.pv()},t.prototype.bt=function(){this.au=App.IB.harryVo.ovsecs||0},t.prototype.bw=function(){var e=this;e.ho=e.au-App.NN.serverSecond,e.ho<0&&(e.ho=0),e.timeLab.text=kpd.HE(e.ho)},t.prototype.hz=function(e){var t=this;e.type==FDG.TD&&(t.jt=e,t.pv())},t.prototype.pv=function(){var e=this;if(e.jt&&e.jt.list){var t=e.jt.list.length;if(!(0>=t)){var n=e.jt.list[0];e.nameLab.text=n.name,e.killLab.text=toChars(n.score),e.scoreLab.text=toChars(n.p1);var i=n.fid||1;e.facLab.text=fvg.GVf("martialart_appell_"+i,n.fgrade||0)}}},t.prototype.hw=function(e){var t=this;t.gradeGroup.visible=!t.gradeGroup.visible},t.prototype.xd=function(e){App.VS.popup(null,CrossHarryTotalPopUi)},t.prototype.r_v=function(e){App.VS.popup(null,CrossHarryBoxPopUi)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.nameDescLab),t.nameDescLab=null,GObj.$d(t.facLab),t.facLab=null,GObj.$d(t.killLab),t.killLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.killDescLab),t.killDescLab=null,GObj.$d(t.scoreDescLab),t.scoreDescLab=null,GObj.$d(t.gradeGroup),t.gradeGroup=null,GObj.$d(t.gradeBtn),t.gradeBtn=null,GObj.$d(t.totalBtn),t.totalBtn=null,GObj.$d(t.scoreBtn),t.scoreBtn=null,GObj.$d(t.descBtn),t.descBtn=null,t.jt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryMapFrame.prototype,"CrossHarryMapFrame");var CrossHarryRightView=function(e){function t(){var t=e.call(this,"CrossHarryRightView")||this;return t.aq=3,t.skinName=RRUU.$s("CrossHarryRightViewSkin"),t.bottom=176,t.right=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.pf=[];var t=App.KF.fid==App.IB.defFid;t?e.aq=3:e.aq=2;for(var n,i=0;i<e.aq;i++)n=GObj.$c(CrossHarryHeadBtn),n.x=-10,n.y=30+105*i,e.pf.push(n);e.atkBtn.selected=!1},t.prototype.initEvent=function(){if(this.atkBtn.addEventListener(eui.tep,this.ug,this),vkG.$a(UtJ.AN,this.db,this),this.pf)for(var e=this.pf.length,t=void 0,n=0;e>n;n++)t=this.pf[n],t.addEventListener(eui.tep,this.ri,this)},t.prototype.removeEvent=function(){var e=this;if(e.atkBtn.removeEventListener(eui.tep,e.ug,e),vkG.$r(UtJ.AN,e.db,e),e.pf)for(var t=e.pf.length,n=void 0,i=0;t>i;i++)n=e.pf[i],n.removeEventListener(eui.tep,e.ri,e)},t.prototype.ri=function(e){var t=this;t.sz&&(t.sz.selected=!1);var n=e.currentTarget;t.sz=n,n&&n.data&&(n.selected=!0,vkG.$d(UtJ.TZ,n.data))},t.prototype.db=function(e){this.atkBtn.selected=e},t.prototype.ug=function(e){vkG.$d(UtJ.AN,this.atkBtn.selected)},t.prototype.updateAtkBtn=function(e){var t=this;t.atkBtn&&(t.atkBtn.selected=e)},t.prototype.updateData=function(e){var t=this,n=0;e&&(n=e.length),n>t.aq&&(n=t.aq);for(var i,r,a=0;n>a;a++)i=t.pf[a],r=e[a],i.updateData(r),i.parent||t.addChild(i);for(n=t.pf.length;n>a;a++)i=t.pf[a],i&&i.parent&&i.parent.removeChild(i)},t.prototype.initData=function(){},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.pf),t.pf=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryRightView.prototype,"CrossHarryRightView");var CrossHarrySelectRoadPopUi=function(e){function t(){var t=e.call(this,"CrossHarrySelectRoadPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.iw=5,e.title=fvg.GVf("crossharry10")},t.prototype.initEvent=function(){var e=this;e.topBtn.addEventListener(eui.tep,e.ae,e),e.cenBtn.addEventListener(eui.tep,e.yo,e),e.botBtn.addEventListener(eui.tep,e.la,e)},t.prototype.removeEvent=function(){var e=this;e.topBtn.removeEventListener(eui.tep,e.ae,e),e.cenBtn.removeEventListener(eui.tep,e.yo,e),e.botBtn.removeEventListener(eui.tep,e.la,e),vkG.$r(HUtJ.HEARTBEAT,e.ie,e)},t.prototype.initData=function(){var e=this;vkG.$a(HUtJ.HEARTBEAT,e.ie,e),e.ie()},t.prototype.ie=function(){var e=this;if(e.iw<=0){e.removeEvent();var t=int(3*Math.random())+1;return void e.kk(t)}e.descTxt.text=fvg.GVf("crossharry1",e.iw),e.iw--},t.prototype.ae=function(e){this.kk(1)},t.prototype.yo=function(e){this.kk(2)},t.prototype.la=function(e){this.kk(3)},t.prototype.kk=function(e){var t=App.BG.playerHandler;t&&MapMsgProxy.NI(StaticData.CROSS_HARRY_MAP_ID,t.avatar.x,t.avatar.y,e),this.dispose()},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.topBtn),t.topBtn=null,GObj.$d(t.cenBtn),t.cenBtn=null,GObj.$d(t.botBtn),t.botBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossHarrySelectRoadPopUi.prototype,"CrossHarrySelectRoadPopUi");var CrossHarrySmallMap=function(e){function t(){var t=e.call(this,"CrossHarrySmallMap")||this;return t.skinName=RRUU.$s("CrossHarrySmallMapSkin"),t.top=0,t.right=0,t.touchEnabled=t.touchChildren=!1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ue=App.KF.fid==App.IB.defFid,e._f={},e.wo={},e["do"]={},e.aj={},e.wo[BossNodeType.HQ]=e.nodeImg_1,e.wo[BossNodeType.BI]=e.nodeImg_2,e.wo["1_20"]=e.nodeImg_3,e.wo["1_30"]=e.nodeImg_4,e.wo["2_20"]=e.nodeImg_5,e.wo["2_30"]=e.nodeImg_6,e.wo["3_20"]=e.nodeImg_7,e.wo["3_30"]=e.nodeImg_8,e._f[BossNodeType.HQ]={x:53,y:71},e._f[BossNodeType.BI]={x:139,y:5},e._f["1_20"]={x:73,y:5},e._f["1_30"]={x:105,y:5},e._f["2_20"]={x:104,y:33},e._f["2_30"]={x:122,y:20},e._f["3_20"]={x:140,y:59},e._f["3_30"]={x:140,y:35}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PX,e.__battleStartHandler,e),vkG.$a(HUtJ.HEARTBEAT,e.rf,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PX,e.__battleStartHandler,e),vkG.$r(HUtJ.HEARTBEAT,e.rf,e)},t.prototype.initData=function(){this.__battleStartHandler()},t.prototype.updateAllNode=function(e){this.je=e},t.prototype.rf=function(){var e=this;if(e.je){var t,n;for(t in e.je)n=e.je[t],n&&e.mp(n)}},t.prototype.updateAdvance=function(){var e,t,n,i=this,r=App.IB.advanceDic,a=App.IB.nodelhpDic;for(e in i.je)t=i.je[e],t&&(n=r[e]||0,i.ze(t,n),t.attr&&void 0!=a[e]&&t.attr.lefthp>a[e]&&(t.attr.lefthp=a[e]))},t.prototype.ze=function(e,t){var n,i=this;if(e.nodeType==BossNodeType.HQ||e.nodeType==BossNodeType.BI?(n=i._f[e.nodeType],i.wt(e,t)):n=i._f[e.road+"_"+e.index],n){var r=i["do"][e.id];(1&t)>0&&1==e.state?(r||(r=i["do"][e.id]=App.KB.getUIEffect(gYq.GB,80),r.x=n.x,r.y=n.y),r.play(),!r.parent&&i.addChild(r)):r&&r.parent&&(r.stop(),r.parent.removeChild(r))}},t.prototype.wt=function(e,t){var n=this;(n.ue&&e.nodeType==BossNodeType.BI||!n.ue&&e.nodeType==BossNodeType.HQ)&&(1==e.state?(n.hj(1,2&t),n.hj(2,4&t),n.hj(3,8&t)):(n.hj(1,0),n.hj(2,0),n.hj(3,0)))},t.prototype.hj=function(e,t){var n=this,i=n.aj[e];t>0?(i||(i=n.aj[e]=App.KB.getUIEffect(gYq.UX),n.tp(i,e)),i.play(),!i.parent&&n.addChild(i)):i&&i.parent&&(i.stop(),i.parent.removeChild(i))},t.prototype.tp=function(e,t){var n=this;if(e)switch(e.scaleX=n.ue?1:-1,t){case 1:e.x=n.ue?107:56,e.y=n.ue?9:40,e.rotation=n.ue?0:-90;break;case 2:e.x=n.ue?115:93,e.y=n.ue?36:51,e.rotation=(n.ue,-38);break;case 3:e.x=n.ue?145:107,e.y=n.ue?58:78,e.rotation=n.ue?-90:0}},t.prototype.mp=function(e){var t,n=this;t=e.nodeType==BossNodeType.HQ||e.nodeType==BossNodeType.BI?n.wo[e.nodeType]:n.wo[e.road+"_"+e.index],t&&(t.visible=2==e.state);var i=n["do"][e.id];i&&2==e.state&&(i.parent&&i.parent.removeChild(i),i.stop(),GObj.$d(i),delete n["do"][e.id])},t.prototype.__battleStartHandler=function(){var e=this,t=App.IB.road;switch(t){case 1:e.qi.texture=RES.getRes("crossharrymap_json.cross_harry_road_1_png");break;case 2:e.qi.texture=RES.getRes("crossharrymap_json.cross_harry_road_2_png");break;case 3:e.qi.texture=RES.getRes("crossharrymap_json.cross_harry_road_3_png");break;default:e.qi.texture=RES.getRes("crossharrymap_json.cross_harry_road_png")}e.tvz()},t.prototype.tvz=function(){var e=this,t=App.IB.road;if(e.dirImg&&t)switch(e.dirImg.scaleX=e.ue?-1:1,!e.dirImg.visible&&(e.dirImg.visible=!0),t){case 1:e.dirImg.x=e.ue?57:0,e.dirImg.y=e.ue?30:70,e.dirImg.rotation=-90;break;case 2:e.dirImg.x=e.ue?104:25,e.dirImg.y=e.ue?46:75,e.dirImg.rotation=-38;break;case 3:e.dirImg.x=e.ue?122:20,e.dirImg.y=e.ue?80:100,e.dirImg.rotation=0}},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.qi),t.qi=null,GObj.$d(t.dirImg),t.dirImg=null;var n;if(t.wo)for(n in t.wo)GObj.$d(t.wo[n]),delete t.wo[n];if(t["do"])for(n in t["do"])GObj.$d(t["do"][n]),delete t["do"][n];if(t.aj)for(n in t.aj)GObj.$d(t.aj[n]),delete t.aj[n];t.wo=null,t._f=null,t["do"]=null,t.aj=null,t.nodeImg_1=null,t.nodeImg_2=null,t.nodeImg_3=null,t.nodeImg_4=null,t.nodeImg_5=null,t.nodeImg_6=null,t.nodeImg_7=null,t.nodeImg_8=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarrySmallMap.prototype,"CrossHarrySmallMap");var CrossHarryTopView=function(e){function t(){var t=e.call(this,"CrossHarryTopView")||this;return t.zs=[60,130,200],t.skinName=RRUU.$s("CrossHarryTopViewSkin"),t.top=10,t.horizontalCenter=-15,t.touchEnabled=t.touchChildren=!1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._nodeDict={},e.mi=[],e.os=[],e.sq=App.KF.fid==App.IB.defFid,e.rw=GObj.$c(egret.Bitmap),e.rw.texture=RES.getRes("crossharrymap_json.cross_harry_atk_goto_png"),e.sq?(e.rw.scaleX=-1,e.rw.x=73):(e.rw.scaleX=1,e.rw.x=60),e.rw.y=42,e.addChild(e.rw)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;e.tt&&e.updateList(e.tt)},t.prototype.updateData=function(e){if(e&&e.attr){var t=this._nodeDict[e.id];if(t){var n=e.nodeType==BossNodeType.HQ||e.nodeType==BossNodeType.BI?34:28;t.width=Math.min(Math.max(e.attr.lefthp/e.attr.maxhp*n,.01),n)}}},t.prototype.updateList=function(e){if(e){if(!this._nodeDict)return void(this.tt=e);this.tt=null;var t,n,i,r;this.mi.length=0;for(var a in e)t=e[a],t&&t.data&&(r=t.data,r.nodeType==BossNodeType.HQ?this._nodeDict[r.id]=this.hpImg1:r.nodeType==BossNodeType.BI?this._nodeDict[r.id]=this.hpImg4:r.nodeType==BossNodeType.AH&&(n?i=r:n=r),this.mi.push(r));var o=0;if(i?(n.index>i.index?(this._nodeDict[n.id]=this.hpImg3,this._nodeDict[i.id]=this.hpImg2):(this._nodeDict[n.id]=this.hpImg2,this._nodeDict[i.id]=this.hpImg3),this.defeatImg1.visible=this.defeatImg2.visible=!1,this.hpImg2&&!this.hpImg2.parent&&this.addChild(this.hpImg2),this.hpImg3&&!this.hpImg3.parent&&this.addChild(this.hpImg3)):n?(this._nodeDict[n.id]=this.hpImg3,this.defeatImg1.visible=!0,this.defeatImg2.visible=!1,this.hpImg2&&this.hpImg2.parent&&this.hpImg2.parent.removeChild(this.hpImg2),this.hpImg3&&!this.hpImg3.parent&&this.addChild(this.hpImg3),o=1):(this.defeatImg1.visible=this.defeatImg2.visible=!0,this.hpImg2&&this.hpImg2.parent&&this.hpImg2.parent.removeChild(this.hpImg2),this.hpImg3&&this.hpImg3.parent&&this.hpImg3.parent.removeChild(this.hpImg3),o=2),this.sq)this.rw.x=this.zs[o]+13;else{for(var s=void 0,p=0;o>p;p++)s=this.os[p],s||(s=this.os[p]=GObj.$c(egret.Bitmap),s.texture=RES.getRes("crossharrymap_json.cross_harry_atk_goto_png"),s.y=45),s.x=this.zs[p+1],s.parent||this.addChild(s);for(o=this.os.length;o>p;p++)s=this.os[p],s&&s.parent&&s.parent.removeChild(s)}this.updateNodeHp()}},t.prototype.updateNodeHp=function(){var e=this;if(e.mi)for(var t=0;t<e.mi.length;t++)e.mi[t]&&e.updateData(e.mi[t])},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL)},t.prototype.updateRoad=function(){var e=App.IB.road;this.tipTxt.text=fvg.GVf("crossharry9_"+e)||""},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rw),t.rw=null,GObj.$d(t.os),t.os=null,GObj.$d(t.hpImg1),t.hpImg1=null,GObj.$d(t.hpImg2),t.hpImg2=null,GObj.$d(t.hpImg3),t.hpImg3=null,GObj.$d(t.hpImg4),t.hpImg4=null,GObj.$d(t.defeatImg1),t.defeatImg1=null,GObj.$d(t.defeatImg2),t.defeatImg2=null,GObj.$d(t.tipTxt),t.tipTxt=null,GObj.$d(t.tipBgImg),t.tipBgImg=null,t._nodeDict=null,t.tt=null,t.mi=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryTopView.prototype,"CrossHarryTopView");var RoadSwitchingView=function(e){function t(){var t=e.call(this,"RoadSwitchingView")||this;return t.skinName=RRUU.$s("RoadSwitchingViewSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.descTxt.text=fvg.GVf("crossharry3")},t.prototype.startSwitch=function(e){var t=this;t.kt||(t.ih=e,t.kt=!0,t.progBar&&egret.Tween.get(t.progBar).to({value:100},3e3).call(t.at,t),!t.parent&&App.FT.addToLayer(this,alvJ.YN))},t.prototype.stopSwitch=function(){var e=this;e.kt&&(e.kt=!1,e.progBar&&(e.progBar.value=0,egret.Tween.removeTweens(e.progBar)),e.parent&&e.parent.removeChild(e))},t.prototype.at=function(){var e=this;e.kt&&(CrossHarryMsgProxy.WC(2,e.ih),e.stopSwitch())},t.prototype.dispose=function(){var t=this;t.progBar&&egret.Tween.removeTweens(t.progBar),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.progBar),t.progBar=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RoadSwitchingView.prototype,"RoadSwitchingView");var DefendView=function(e){function t(){var t=e.call(this,"DefendView")||this;return t.la=300,t.monsterAllNum=0,t.monsterDieNum=0,t.isFirstUpdate=!0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bottom=280,e.left=0},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.UX,e.dz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.fw,e),vkG.$r(UtJ.UX,e.dz,e)},t.prototype.initData=function(){this.updateTitle()},t.prototype.fw=function(){var e=this;e.la--;var t=e.la;if(0>t)return void vkG.$r(HUtJ.HEARTBEAT,e.fw,e);var n=0,i=0;t>200?(n=0,i=t-200):t>150?(n=1,i=t-150):t>100?i=t-100:t>50?(n=3,i=t-50):(n=4,i=t-0),e.scoreImg.source="defend_json.defend_"+n+"_png",e.level.textFlow=LgRe.OQ(fvg.GVf("defend_1",i,fvg.GVf("defend_2_"+Math.min(n+1,4))))},t.prototype.updatePro=function(e,t,n){var i=this;i.pro.textFlow=LgRe.OQ(fvg.GVf("defend_3",e,t)),i.monsterAllNum=n,i.isFirstUpdate&&(i.isFirstUpdate=!1,vkG.$a(HUtJ.HEARTBEAT,i.fw,i))},t.prototype.updateMonster=function(e){this.remain.textFlow=LgRe.OQ(fvg.GVf("defend_4",e))},t.prototype.dz=function(e){var t=this;t.monsterDieNum+=e,t.updateMonster(t.monsterAllNum-t.monsterDieNum)},t.prototype.updateTitle=function(){this.title.text=App.MB.campaignName},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(DefendView.prototype,"DefendView");var FamilyListPopUi=function(e){function t(){var t=e.call(this,"FamilyListPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=e.horizontalCenter=0,e.title=fvg.GVf("familywar15"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=FamilyWarListItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.KKF,e.on,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.KKF,e.on,e)},t.prototype.initData=function(){this.on()},t.prototype.on=function(){var e=this,t=App.MB.familyWarInfo.ps||[];e.itemData.replaceAll(t);var n=App.OZ.getDataByName(IDU.UH);n.sort(function(e,t){return parseInt(e.key)<parseInt(t.key)?-1:1});for(var i,r=0;r<n.length;r++)i=this["descTxt_"+(r+1)],i&&(i.text=fvg.GVf("familywar16",n[r].key,parseInt(n[r].value)/10),i.textColor=t.length>=parseInt(n[r].key)?Color.TX:Color.KA)},t.prototype.rr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyListPopUi.prototype,"FamilyListPopUi");var FamilyWarListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyWarListItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.bg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.bg,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.pv=e.data,e.nameTxt.text=e.pv.n,e.turnupTxt.text=App.JP.getTurnupName(e.pv.r||1),e.capTxt.text=fvg.GVf("public018",e.pv.c||0),e.headIcon.icon=kLM.JU(e.pv.s||1,e.pv.h||1,1))},t.prototype.bg=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.turnupTxt),t.turnupTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.headIcon),t.headIcon=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyWarListItem.prototype,"FamilyWarListItem");var FamilyWarLogItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyWarLogItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.df,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.df,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.hz=e.data,e.msgTxt.text=fvg.GVf("familywar18_"+e.hz.level,e.hz.boss))
},t.prototype.df=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,t.hz=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyWarLogItem.prototype,"FamilyWarLogItem");var FamilyWarLogPopUi=function(e){function t(){var t=e.call(this,"FamilyWarLogPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=e.horizontalCenter=0,e.title=fvg.GVf("familywar17"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=FamilyWarLogItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=App.MB.familyWarInfo.log||[];this.itemData.replaceAll(e)},t.prototype.qx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyWarLogPopUi.prototype,"FamilyWarLogPopUi");var FamilyWarUIView=function(e){function t(){var t=e.call(this,"FamilyWarUIView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.right=0,e.bottom=230,e.titleTxt.text=fvg.GVf("teamcopy30"),e.timeTxt.text="00:00:00",e.descTxt.text=fvg.GVf("teamcopy39"),e.haveTitleTxt.text=fvg.GVf("familywar12"),e.logBtn.label=fvg.GVf("familywar17")},t.prototype.initEvent=function(){var e=this;e.teamBtn.addEventListener(eui.tep,e.lk,e),e.bossListBtn.addEventListener(eui.tep,e.hu,e),e.buyBtn.addEventListener(eui.tep,e.sz,e),e.logBtn.addEventListener(eui.tep,e.qc,e),e.descBtn.addEventListener(eui.tep,e.ip,e),vkG.$a(UtJ.MU,e.lj,e),vkG.$a(UtJ.DV,e.vy,e),vkG.$a(UtJ.KKF,e.ti,e)},t.prototype.removeEvent=function(){var e=this;e.teamBtn.removeEventListener(eui.tep,e.lk,e),e.bossListBtn.removeEventListener(eui.tep,e.hu,e),e.buyBtn.removeEventListener(eui.tep,e.sz,e),e.logBtn.removeEventListener(eui.tep,e.qc,e),e.descBtn.removeEventListener(eui.tep,e.ip,e),vkG.$r(HUtJ.HEARTBEAT,e.jj,e),vkG.$r(UtJ.MU,e.lj,e),vkG.$r(UtJ.DV,e.vy,e),vkG.$r(UtJ.KKF,e.ti,e)},t.prototype.initData=function(){var e=this;e.ha(),e.lj(),e.vy(null),e.ti()},t.prototype.ha=function(){var e=this,t=App.OZ.getDataByName(IDU.LT),n=t[0],i=t[1],r=App.NN.todaySecond;e.nv=0,r>=n&&i>r&&(e.nv=i-r),e.nv>0&&vkG.$a(HUtJ.HEARTBEAT,e.jj,e),e.jj()},t.prototype.jj=function(){var e=this;e.destory||(e.nv>0?e.timeTxt.text=kpd.YW(e.nv):(e.timeTxt.text="00:00:00",vkG.$r(HUtJ.HEARTBEAT,e.jj,e)),e.nv--)},Object.defineProperty(t.prototype,"bossList",{set:function(e){this.ki=e},enumerable:!0,configurable:!0}),t.prototype.lk=function(e){var t=this;!t.xv||t.xv.destory?(t.xv=GObj.$c(FamilyListPopUi),t.xv.show()):e&&(GObj.$d(t.xv),t.xv=null)},t.prototype.lj=function(){this.numTxt.text=toChars(Math.round(2*Math.random()+3)+App.MB.count)},t.prototype.hu=function(e){var t=this;!t.dd||t.dd.destory?(t.dd=GObj.$c(PalaceBossListPopUi),t.dd.bossList=t.ki,t.dd.show()):(GObj.$d(t.dd),t.dd=null)},t.prototype.vy=function(e){this.haveTxt.text="x"+App.FK.hsx(StaticData.TID_GOODS_56)},t.prototype.sz=function(e){var t=this,n=App.OZ.getDataByName(IDU.LT),i=n[3],r=n[4],a=r-(App.MB.familyWarInfo.buy||0);Alert.WK(fvg.GVf("familywar14",i,a,r),void 0,void 0,t.gb,this,[i,a])},t.prototype.gb=function(e,t){return 0>=t?void App.TT.show(fvg.GVf("34")):App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):void CampaignMsgProxy.HW()},t.prototype.qc=function(e){var t=this;!t.si||t.si.destory?(t.si=GObj.$c(FamilyWarLogPopUi),t.si.show()):(GObj.$d(t.si),t.si=null)},t.prototype.ti=function(){for(var e=App.MB.familyWarInfo.ps||[],t=App.OZ.getDataByName(IDU.UH),n=e.length,i=0,r=0,a=0,o=0;o<t.length;o++)i=parseInt(t[o].key),n>=i&&i>r&&(r=i,a=parseInt(t[o].value));this.addHurtTxt.text=fvg.GVf("pboss28",a?a/10:0),App.BG.playerAttrsInfo.hurtadd=a},t.prototype.ip=function(e){var t=this;!t.vp||t.vp.destory?(t.vp=GObj.$c(GeneralAboutPopUi),t.vp.loU(AboutType.ZN),t.vp.show()):(GObj.$d(t.vp),t.vp=null)},t.prototype.show=function(){var e=this;App.FT.addToLayer(this,alvJ.WL),e.hu(null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.teamBtn),t.teamBtn=null,GObj.$d(t.bossListBtn),t.bossListBtn=null,t.ki=null,t.xv&&!t.xv.destory&&GObj.$d(t.xv),t.xv=null,t.dd&&!t.dd.destory&&GObj.$d(t.dd),t.dd=null,t.si&&!t.si.destory&&GObj.$d(t.si),t.si=null,t.vp&&!t.vp.destory&&GObj.$d(t.vp),t.vp=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.numTxt),t.numTxt=null,GObj.$d(t.haveTitleTxt),t.haveTitleTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.logBtn),t.logBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyWarUIView.prototype,"FamilyWarUIView");var PurgatoryfcsItemMc=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryfcsItemMc"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.removeView=function(){var e=this;GObj.$d(e.goodsItem),e.goodsItem=null,GObj.$d(e.back),e.back=null,GObj.$d(e.bigAwardImg),e.bigAwardImg=null},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){egret.Tween.removeTweens(this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;!e.CSo||!e.data},t.prototype.yz=function(e){GObj.$d(this)},t.prototype.playMc=function(e,t){var n=this;egret.Tween.get(n.back).to({scaleX:0},160,egret.Ease.backIn).call(n.ok,this,[e,t])},t.prototype.ok=function(e,t){var n=this;n.destory||(n&&egret.Tween.removeTweens(n),n.ug=e,n.pd=t,n.wr(),egret.Tween.get(n.back).to({scaleX:1},180,egret.Ease.backOut))},t.prototype.wr=function(){var e=this;if(!e.destory){e.back.source="primordialspirit_json.ps_card1_png";var t=GObj.$c(nlwj);t.tid=parseInt(e.data.tid),t.count=e.data.count,e.goodsItem.data=t;var n=t.TSF,i=!1;n&&n.p7,n&&n.p7&&i||e.ya(null),egret.Tween.get(e.goodsItem).to({visible:!0},100),App.HP.bigAwardIndex==e.index&&egret.Tween.get(e.bigAwardImg).to({visible:!0},100)}},t.prototype.ya=function(e){var t=this;t.destory||t.ug&&t.ug.call(t.pd)},Object.defineProperty(t.prototype,"index",{get:function(){return this.lf},set:function(e){this.lf=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),t.removeView(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryfcsItemMc.prototype,"PurgatoryfcsItemMc");var PurgatoryFlipCardsView=function(e){function t(){var t=e.call(this,"PurgatoryFlipCardsView")||this;return t.tb=3,t.pq=0,t.skinName=RRUU.$s("PurgatoryFlipCardsView"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.initView=function(){var e=this;e.wh=App.HP.limitTime,e.gj=[];for(var t=0;t<e.tb;t++){var n=GObj.$c(PurgatoryfcsItemMc);n.x=142*t+50,n.y=66,n.index=t,e.addChild(n),e.gj.push(n)}e.descTxt.text=fvg.GVf("purgatory35"),e.closeBtn.label=fvg.GVf("purgatory37"),e.chapterNum=GObj.$c(NumberView),e.chapterNum.y=11,e.addChild(e.chapterNum),hFO.instance.getNumberView(bRC.DF,toChars(App.HP.fcsLe),0,e.chapterNum),e.chapterNum.x=e.diImg.x+e.diImg.width+2,e.bigImg.x=e.chapterNum.x+e.chapterNum.width+2},t.prototype.ek=function(){var e=this;GObj.$d(e.outTimeTxt),e.outTimeTxt=null,GObj.$d(e.descTxt),e.descTxt=null,GObj.$d(e.closeBtn),e.closeBtn=null,GObj.$d(e.diImg),e.diImg=null,GObj.$d(e.bigImg),e.bigImg=null;for(var t=e.gj.length,n=0;t>n;n++)GObj.$d(e.gj[n]),e.gj[n]=null;e.gj=null},t.prototype.initEvent=function(){for(var e=this,t=0;t<e.tb;t++)e.gj[t].addEventListener(eui.tep,e.ud,e);vkG.$a(UtJ.RX_,e.sr,e),vkG.$a(HUtJ.HEARTBEAT,e.a_,e),e.closeBtn.addEventListener(eui.tep,e.j_,e)},t.prototype.removeEvent=function(){for(var e=this,t=0;t<e.tb;t++)e.gj[t].removeEventListener(eui.tep,e.ud,e);vkG.$r(UtJ.RX_,e.sr,e),vkG.$r(HUtJ.HEARTBEAT,e.a_,e),e.closeBtn.removeEventListener(eui.tep,e.j_,e)},t.prototype.initData=function(){},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.a_=function(e){var t=this;t.destory||(t.wh--,t.wh<=0&&(t.outTimeTxt.text="",vkG.$r(HUtJ.HEARTBEAT,t.a_,t),PurgatoryMsgProxy.FS(1,0)),t.outTimeTxt.text=fvg.GVf("purgatory36",t.wh))},t.prototype.sr=function(){for(var e=this,t=App.HP.goodsArr,n=t.length,i=0;n>i&&i<e.tb;i++)e.gj[i].data=t[i],e.gj[i].filters=App.HP.cardPos!=i?[UIFilter.SN()]:[],e.gj[i].playMc(e.ld,e)},t.prototype.ud=function(e){var t=e.currentTarget;PurgatoryMsgProxy.FS(1,t.index)},t.prototype.ld=function(){var e=this;e.pq++,3==e.pq&&ClockManager.setTimeout(e.j_,this,2e3)},t.prototype.j_=function(){var e=this;e.destory||e.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.ek(),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PurgatoryFlipCardsView.prototype,"PurgatoryFlipCardsView");var HarryBottomMapFrame=function(e){function t(){var t=e.call(this,"HarryBottomMapFrame")||this;return t.qs=5,t.se=[56,132,210],t.skinName=RRUU.$s(t.id),t.bottom=210,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._nodeDict=[],e.oa=[],e.jj=App.KF.fid==App.MT.defFid,e.md=GObj.$c(egret.Bitmap),e.jj?e.md.texture=RES.getRes("harrymap_json.harry_def_goto_png"):e.md.texture=RES.getRes("harrymap_json.harry_atk_goto_png"),e.md.x=60,e.md.y=32,e.addChild(e.md)},t.prototype.initEvent=function(){var e=this;vkG.$a(HUtJ.HEARTBEAT,e.dz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.dz,e)},t.prototype.initData=function(){var e=this;e.ew&&e.updateList(e.ew),e.mg=App.MT.harryVo.secs||0;var t=e.mg-App.NN.serverSecond+StaticData.HARRY_START_TIME;t>0&&!App.MT.start||(e.tipBgImg&&e.tipBgImg.parent&&e.tipBgImg.parent.removeChild(e.tipBgImg),e.tipTxt&&e.tipTxt.parent&&e.tipTxt.parent.removeChild(e.tipTxt))},t.prototype.dz=function(){var e=this;return e.zp=e.mg-App.NN.serverSecond+StaticData.HARRY_START_TIME,e.qs--,e.zp<0&&(e.tipBgImg&&e.tipBgImg.parent&&e.tipBgImg.parent.removeChild(e.tipBgImg),e.tipTxt&&e.tipTxt.parent&&e.tipTxt.parent.removeChild(e.tipTxt)),e.zp<0&&e.qs<=0?void vkG.$r(HUtJ.HEARTBEAT,e.dz,e):void(e.tipTxt.text=fvg.GVf("harry17",e.zp))},t.prototype.updateData=function(e){if(e&&e.attr){var t=this._nodeDict[e.id];if(t){var n=e.nodeType==BossNodeType.WJ||e.nodeType==BossNodeType.VR?43:31;t.width=e.attr.lefthp/e.attr.maxhp*n}}},t.prototype.updateList=function(e){if(e){if(!this._nodeDict)return void(this.ew=e);this.ew=null;var t,n,i,r;for(var a in e)t=e[a],t&&t.data&&(r=t.data,r.nodeType==BossNodeType.WJ?this._nodeDict[r.id]=this.hpImg1:r.nodeType==BossNodeType.UM?this._nodeDict[r.id]=this.hpImg4:r.nodeType==BossNodeType.VR&&(n?i=r:n=r));var o=0;if(i?(n.index>i.index?(this._nodeDict[n.id]=this.hpImg3,this._nodeDict[i.id]=this.hpImg2):(this._nodeDict[n.id]=this.hpImg2,this._nodeDict[i.id]=this.hpImg3),this.defeatImg1.visible=this.defeatImg2.visible=!1,this.hpImg2&&!this.hpImg2.parent&&this.addChild(this.hpImg2),this.hpImg3&&!this.hpImg3.parent&&this.addChild(this.hpImg3)):n?(this._nodeDict[n.id]=this.hpImg3,this.defeatImg1.visible=!0,this.defeatImg2.visible=!1,this.hpImg2&&this.hpImg2.parent&&this.hpImg2.parent.removeChild(this.hpImg2),this.hpImg3&&!this.hpImg3.parent&&this.addChild(this.hpImg3),o=1):(this.defeatImg1.visible=this.defeatImg2.visible=!0,this.hpImg2&&this.hpImg2.parent&&this.hpImg2.parent.removeChild(this.hpImg2),this.hpImg3&&this.hpImg3.parent&&this.hpImg3.parent.removeChild(this.hpImg3),o=2),this.jj)this.md.x=this.se[o];else{for(var s=void 0,p=0;o>p;p++)s=this.oa[p],s||(s=this.oa[p]=GObj.$c(egret.Bitmap),s.texture=RES.getRes("harrymap_json.harry_atk_goto_png"),s.y=40),s.x=this.se[p+1],s.parent||this.addChild(s);for(o=this.oa.length;o>p;p++)s=this.oa[p],s&&s.parent&&s.parent.removeChild(s)}}},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.md),t.md=null,GObj.$d(t.oa),t.oa=null,GObj.$d(t.hpImg1),t.hpImg1=null,GObj.$d(t.hpImg2),t.hpImg2=null,GObj.$d(t.hpImg3),t.hpImg3=null,GObj.$d(t.hpImg4),t.hpImg4=null,GObj.$d(t.defeatImg1),t.defeatImg1=null,GObj.$d(t.defeatImg2),t.defeatImg2=null,t._nodeDict=null,t.ew=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryBottomMapFrame.prototype,"HarryBottomMapFrame");var HarryGoodsMapItem=function(e){function t(){var t=e.call(this)||this;return t.nc(),t}return __extends(t,e),t.prototype.nc=function(){var e=this;e._itemView=GObj.$c(GoodsItemView),e.addChild(e._itemView),e.qc=GObj.$c(egret.TextField),e.qc.x=0,e.qc.y=78,e.qc.size=16,e.qc.textAlign=egret.HorizontalAlign.CENTER,e.qc.textColor=Color.XB,e.qc.width=74,e.qc.height=16,e.addChild(e.qc),e._itemView.showNumTxt=!1},t.prototype.updateData=function(e){var t=this;if(e){if(t._itemView.data)return void t._itemView.updateCount();t._itemView.data=e,e.TSF&&(t.qc.text=e.TSF.name,t.qc.textColor=aKF.DU(e.quality))}},t.prototype.dispose=function(){var e=this;GObj.$d(e._itemView),e._itemView=null,GObj.$d(e.qc),e.qc=null},t}(egret.Sprite);__reflect(HarryGoodsMapItem.prototype,"HarryGoodsMapItem");var HarryHeadMapBtn=function(e){function t(){var t=e.call(this)||this;return t.zg=!1,t.ix=!1,t.ef(),t}return __extends(t,e),t.prototype.ef=function(){var e=this;e.touchEnabled=!0,e.no=GObj.$c(egret.Bitmap),e.addChild(e.no),e.bi=GObj.$c(egret.TextField),e.bi.x=3,e.bi.y=85,e.bi.width=70,e.bi.height=14,e.bi.size=14,e.bi.textColor=Color.XB,e.bi.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e.bi),e.gi=GObj.$c(egret.Bitmap),e.gi.texture=RES.getRes("core_json.pro_ui_1_png"),e.gi.x=8,e.gi.y=72,e.addChild(e.gi)},Object.defineProperty(t.prototype,"isGuard",{get:function(){return this.zg},set:function(e){var t=this;t.zg!=e&&(t.zg=!0,t.zg&&(t.no.texture=RES.getRes("harrymap_json.harry_head_3_png"),t.gi.x=5,t.gi.y=62,t.no.width=72))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.ix},set:function(e){var t=this;t.ix!=e&&(t.ix=e,t.ix?(t.nv||(t.nv=GObj.$c(egret.Bitmap),t.zg?t.nv.texture=RES.getRes("harrymap_json.harry_head_sel_3_png"):t.nv.texture=RES.getRes("harrymap_json.harry_head_sel_png"),t.nv.x=0,t.nv.y=-4),t.nv.parent||t.addChild(t.nv)):t.nv&&t.nv.parent&&t.nv.parent.removeChild(t.nv))},enumerable:!0,configurable:!0}),t.prototype.updateData=function(e){var t=this;e&&(t.dw=e,t.no.texture=RES.getRes("harrymap_json.harry_head_"+e.sex+"_png"),t.bi.text=e.name,e.attr&&(t.gi.width=e.attr.lefthp/e.attr.maxhp*53))},Object.defineProperty(t.prototype,"data",{get:function(){return this.dw},enumerable:!0,configurable:!0}),t.prototype.updateGuard=function(e){var t=this;t.isGuard=!0,e&&e.attr&&(t.gi.width=e.attr.lefthp/e.attr.maxhp*53)},t.prototype.dispose=function(){var e=this;GObj.$d(e.no),e.no=null,GObj.$d(e.bi),e.bi=null},t}(egret.Sprite);__reflect(HarryHeadMapBtn.prototype,"HarryHeadMapBtn");var HarryMapFrame=function(e){function t(){var t=e.call(this,"HarryMapFrame")||this;return t.hp=3,t.skinName=RRUU.$s(t.id),t.bottom=300,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.godTxt.text=fvg.GVf("harry45"),e.killDescLab.text=fvg.GVf("harry44"),e.nameDescLab.text=fvg.GVf("harry46"),e.scoreDescLab.text=fvg.GVf("official4"),e.mv(),e.bd=[];var t=XCA.CG(IDU.DD);if(t)for(var n=t.split(QycO.XP),i=n.length,r=0;i>r;r++)e.bd.push(parseInt(n[r]));e.xk()},t.prototype.am=function(e){Alert.WK(fvg.GVf("harry19"),null,Alert.EX)},t.prototype.initEvent=function(){var e=this;e.gradeBtn.addEventListener(eui.tep,e.vu,e),e.totalBtn.addEventListener(eui.tep,e.z_,e),e.scoreBtn.addEventListener(eui.tep,e.gz,e),e.descBtn.addEventListener(eui.tep,e.am,e),vkG.$a(UtJ.TT,e.xb,e),vkG.$a(UtJ.RN,e.mv,e),vkG.$a(HUtJ.HEARTBEAT,e.mu,e),vkG.$a(UtJ.KU,e.xk,e)},t.prototype.removeEvent=function(){var e=this;e.gradeBtn.removeEventListener(eui.tep,e.vu,e),e.totalBtn.removeEventListener(eui.tep,e.z_,e),e.scoreBtn.removeEventListener(eui.tep,e.gz,e),e.descBtn.removeEventListener(eui.tep,e.am,e),vkG.$r(UtJ.TT,e.xb,e),vkG.$r(UtJ.RN,e.mv,e),vkG.$r(HUtJ.HEARTBEAT,e.mu,e),vkG.$r(UtJ.KU,e.xk,e)},t.prototype.initData=function(){this.hn()},t.prototype.mv=function(){this.mr=App.MT.harryVo.ovsecs||0},t.prototype.mu=function(){var e=this;e.cq=e.mr-App.NN.serverSecond,e.cq<0&&(e.cq=0),e.timeLab.text=kpd.HE(e.cq)},t.prototype.xb=function(e){var t=this;e.type==FDG.ET&&(t.nw=e,t.hn())},t.prototype.hn=function(){var e=this;if(e.nw&&e.nw.list){var t=e.nw.list.length;if(!(0>=t)){var n=e.nw.list[0];e.nameLab.text=n.name,e.killLab.text=toChars(n.score),e.scoreLab.text=toChars(n.p1);var i=n.fid||1;e.facLab.text=fvg.GVf("martialart_appell_"+i,n.fgrade||0)}}},t.prototype.vu=function(e){var t=this;t.gradeGroup.visible=!t.gradeGroup.visible},t.prototype.xk=function(){var e=this,t=!1;if(e.bd&&e.bd.length>0)for(var n=App.MT.harryBoxRes||0,i=App.MT.harryScoreVo.tsc||0,r=e.bd.length,a=0;r>a;a++)if(i>=e.bd[a]&&0==(n&1<<a)){t=!0;break}e.scoreBtn.icon=t?StaticData.GHj:null},t.prototype.z_=function(e){App.VS.popup(null,HarryTotalPopUi)},t.prototype.gz=function(e){App.VS.popup(null,HarryBoxPopUi)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.nameDescLab),t.nameDescLab=null,GObj.$d(t.facLab),t.facLab=null,GObj.$d(t.killLab),t.killLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.killDescLab),t.killDescLab=null,GObj.$d(t.scoreDescLab),t.scoreDescLab=null,GObj.$d(t.gradeGroup),t.gradeGroup=null,GObj.$d(t.gradeBtn),t.gradeBtn=null,GObj.$d(t.totalBtn),t.totalBtn=null,GObj.$d(t.scoreBtn),t.scoreBtn=null,GObj.$d(t.descBtn),t.descBtn=null,t.bd=null,t.nw=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryMapFrame.prototype,"HarryMapFrame");var HarryPlateNoticeView=function(e){function t(t){void 0===t&&(t=10);var n=e.call(this,"HarryPlateNoticeView")||this,i=RRUU.$s("HarryPlateNoticeViewSkin");return n.yt=t,n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sb=[],e.bn=!1,e.ib=10==e.yt?App.MT.defFid:App.IB.defFid,e.it=App.XB.info.fid!=e.ib?1:2,e.y=200},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.ZFT,e.q_,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ZFT,e.q_,e)},t.prototype.initData=function(){var e=this;e.alpha=0,e.x=-e.width},t.prototype.q_=function(e){var t=this;e&&(t.sb.push(e),t.x_l())},t.prototype.x_l=function(){var e=this;if(!e.bn){if(0==e.sb.length)return void(e.parent&&e.parent.removeChild(e));e.bn=!0,e.fn=e.sb.shift(),1==e.fn.type?(e.backImg.source="harrymap_json.harry_plate_back_2_png",e.typeImg.source="harrymap_json.harry_plate_type_1_png",e.nameTxt.text="["+fvg.GVf("martialart_"+e.fn.fid1+"_"+e.fn.duty1)+"]"+e.fn.name1):(e.backImg.source="harrymap_json.harry_plate_back_1_png",2==e.fn.type?e.typeImg.source="harrymap_json.harry_plate_type_2_"+(e.fn.value>10?11:e.fn.value)+"_png":3==e.fn.type?e.typeImg.source="harrymap_json.harry_plate_type_3_png":4==e.fn.type?e.typeImg.source="harrymap_json.harry_plate_type_4_png":5==e.fn.type&&(e.typeImg.source="harrymap_json.harry_plate_type_5_png",e.typeImg.x=0,e.nameTxt.x=e.typeImg.x+186+5,e.nameTxt.textAlign=egret.HorizontalAlign.LEFT),e.nameTxt.text=fvg.GVf("martialart_appell_"+e.fn.fid1,e.fn.fgrade1)+e.fn.name1),e.mz=e.fn.fid1!=e.ib?1:2,e.mz!=e.it?e.nameTxt.textColor=Color.KA:e.nameTxt.textColor=Color.SD,e.fs=egret.Tween.get(e),e.fs.to({x:(hCs.stageWidth-e.width)/2,alpha:1},200).wait(2e3),e.fs.to({x:hCs.stageWidth,alpha:0},200).wait(100),e.fs.call(e.ci,e),e.parent||App.FT.addToLayer(this,alvJ.YN)}},t.prototype.ci=function(){var e=this;egret.Tween.removeTweens(e),e.fs=null,e.alpha=0,e.x=-e.width,e.nameTxt.x=0,e.nameTxt.textAlign=egret.HorizontalAlign.RIGHT,e.typeImg.x=222,e.bn=!1,e.x_l()},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.typeImg),t.typeImg=null,t.fs=null,t.fn=null,t.sb=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryPlateNoticeView.prototype,"HarryPlateNoticeView");var HarryRightMapFrame=function(e){function t(){var t=e.call(this,"HarryRightMapFrame")||this;return t.mr=3,t.skinName=RRUU.$s(t.id),t.bottom=246,t.right=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fp=[];var t=App.KF.fid==App.MT.defFid;t?e.mr=3:(e.mr=2,e.un=GObj.$c(HarryHeadMapBtn),e.un.x=-20,e.un.y=205,e.un.isGuard=!0,e.addChild(e.un));for(var n,i=0;i<e.mr;i++)n=GObj.$c(HarryHeadMapBtn),n.x=-20,n.y=102*i,e.fp.push(n);e.atkBtn.selected=!1},t.prototype.initEvent=function(){if(this.atkBtn.addEventListener(eui.tep,this.os,this),vkG.$a(HUtJ.HEARTBEAT,this.ly,this),vkG.$a(UtJ.IA,this.ng,this),this.fp)for(var e=this.fp.length,t=void 0,n=0;e>n;n++)t=this.fp[n],t.addEventListener(eui.tep,this.uv,this)},t.prototype.removeEvent=function(){var e=this;if(e.atkBtn.removeEventListener(eui.tep,e.os,e),vkG.$r(HUtJ.HEARTBEAT,e.ly,e),vkG.$r(UtJ.IA,e.ng,e),e.fp)for(var t=e.fp.length,n=void 0,i=0;t>i;i++)n=e.fp[i],n.removeEventListener(eui.tep,e.uv,e)},t.prototype.uv=function(e){var t=this;t.uo&&(t.uo.selected=!1);var n=e.currentTarget;t.uo=n,n&&n.data&&(n.selected=!0,vkG.$d(UtJ.TZ,n.data))},t.prototype.ng=function(e){this.atkBtn.selected=e},t.prototype.os=function(e){vkG.$d(UtJ.IA,this.atkBtn.selected)},t.prototype.updateData=function(e){var t=this,n=0;e&&(n=e.length),n>t.mr&&(n=t.mr);for(var i,r,a=0;n>a;a++)i=t.fp[a],r=e[a],i.updateData(r),i.parent||t.addChild(i);for(n=t.fp.length;n>a;a++)i=t.fp[a],i&&i.parent&&i.parent.removeChild(i)},t.prototype.updateGuard=function(e){var t=this;e.nodeType==BossNodeType.IA&&t.un&&t.un.updateGuard(e)},t.prototype.initData=function(){},t.prototype.ly=function(){},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fp),t.fp=null,GObj.$d(t.un),t.un=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryRightMapFrame.prototype,"HarryRightMapFrame");var MulTiBoss1STRewardView=function(e){function t(t){var n=e.call(this,"MulTiBoss1STRewardView")||this;return n.ad=t,n.skinName=RRUU.$s(n.id),n.bottom=170,n.right=0,n}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.vn,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.vn,e)},t.prototype.initData=function(){var e=this,t=XCA.RE("3_40"),n=JSON.parse(t),i=n[e.ad];if(!isNaN(i)){var r=GObj.$c(nlwj);r.tid=i,e.itemView.data=r,e.titleLab.text=fvg.GVf("mulTiBoss2"),e.itemNameLabel.text=fvg.GVf("mulTiBoss")}e.hy()},t.prototype.vn=function(e){var t=this;e&&e.type==FDG.IN&&(t.data=App.PV.getData(FDG.IN),t.hy())},t.prototype.hy=function(){var e,t=this;t.data&&t.data.list&&t.data.list.length>0&&(e=t.data.list[0],t.playerNameLabel.text=e.name)},t.prototype.show=function(){var e=this;alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF);var t=MainToolBar.instance.parent.getChildIndex(MainToolBar.instance);e.parent&&e.parent.addChildAt(this,t-1)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.itemNameLabel),t.itemNameLabel=null,GObj.$d(t.playerNameLabel),t.playerNameLabel=null,t.rlvo=null,t.data=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MulTiBoss1STRewardView.prototype,"MulTiBoss1STRewardView");var PalaceBossDescPopUi=function(e){function t(){return e.call(this,"PalaceBossDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.BF,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(PalaceBossDescPopUi.prototype,"PalaceBossDescPopUi");var PalaceBossInviteItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PalaceBossInviteItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.inviteBtn.label=fvg.GVf("pboss16")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.kq,e),e.inviteBtn.addEventListener(eui.tep,e.eq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.kq,e),e.inviteBtn.removeEventListener(eui.tep,e.eq,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.lz=e.data,e.nameTxt.text=e.lz.name,e.turnupTxt.text=App.JP.getTurnupName(e.lz.rgrade),e.capTxt.text=fvg.GVf("public018",e.lz.cap||0),e.headIcon.icon=kLM.JU(e.lz.sex||1,e.lz.heads))},t.prototype.eq=function(e){var t=this;if(t.lz){if(t.lz.uid==App.KF.uid)return void App.TT.show(fvg.GVf("team1"));if(App.PQ.myTeam.tid>0&&App.PQ.myTeam.psnum>=App.PQ.getMaxPlayerByType(101))return void App.TT.show(fvg.GVf("teammsg6"));TeamMsgProxy.JI(101,t.lz.uid)}},t.prototype.kq=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.turnupTxt),t.turnupTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.inviteBtn),t.inviteBtn=null,t.lz=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PalaceBossInviteItem.prototype,"PalaceBossInviteItem");var PalaceBossInvitePopUi=function(e){function t(){var t=e.call(this,"PalaceBossInvitePopUi")||this;return t.skinName=RRUU.$s("PalaceBossInvitePopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.title=fvg.GVf("pboss15"),e.descTxt.text=fvg.GVf("team4"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=PalaceBossInviteItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.CG,e.un,e),vkG.$a(UtJ.CN,e["do"],e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.CG,e.un,e),vkG.$r(UtJ.CN,e["do"],e)},t.prototype.initData=function(){TeamMsgProxy.JM()},t.prototype.un=function(){for(var e=this,t=App.PQ.noTeamPlayers||[],n=[],i=App.KF.uid,r=0;r<t.length;r++)t[r].uid!=i&&n.push(t[r]);e.itemData.replaceAll(n),e.descTxt.visible=0==e.itemData.length},t.prototype["do"]=function(){this.initData()},t.prototype.qy=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PalaceBossInvitePopUi.prototype,"PalaceBossInvitePopUi");var PalaceBossListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PalaceBossListItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gotoBtn.label=fvg.GVf("103"),e.stateTxt.text=fvg.GVf("pboss8")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dr,e),e.gotoBtn.addEventListener(eui.tep,e.ss,e),vkG.$a(UtJ.MOT,e.zw,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dr,e),e.gotoBtn.removeEventListener(eui.tep,e.ss,e),vkG.$r(HUtJ.HEARTBEAT,e.yn,e),vkG.$r(UtJ.MOT,e.zw,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ld=e.data,e.nameTxt.text=e.ld.name;e.ld.p1||3;e.nameTxt.textColor=e.diffTxt.textColor=aKF.DU(e.ld.p1||3),e.headIcon.icon=kLM.VJ(e.ld.icon),e.diffTxt.text=fvg.GVf("pboss33_"+(e.ld.p1||3)),1==e.ld.state?(e.stateTxt.visible=!1,e.gotoBtn.visible=!0,e.timeTxt.text="",e.hpProg.visible=!0,e.progTxt.visible=!0,e.yb(),vkG.$r(HUtJ.HEARTBEAT,e.yn,e)):(e.stateTxt.visible=!0,e.gotoBtn.visible=!1,e.hpProg.visible=!1,e.progTxt.visible=!1,vkG.$a(HUtJ.HEARTBEAT,e.yn,e),e.yn()),e.diffTxt.visible=MapHelps.FS(e.ld.nodeType),e.descTxt.visible=!e.diffTxt.visible,e.descTxt.visible&&e.lt()}},t.prototype.lt=function(){var e=this,t=e.ld.p1||3,n=App.KF.grade/200;1>=n?t==aKF.WO||t==aKF.BN?(e.descTxt.text=fvg.GVf("pboss37"),e.descTxt.textColor=aKF.DU(aKF.BN)):(e.descTxt.text=fvg.GVf("pboss38"),e.descTxt.textColor=aKF.DU(aKF.JN)):n>1&&2>=n?t==aKF.WO?(e.descTxt.text=fvg.GVf("pboss36"),e.descTxt.textColor=aKF.DU(aKF.WO)):t==aKF.BN?(e.descTxt.text=fvg.GVf("pboss37"),e.descTxt.textColor=aKF.DU(aKF.BN)):(e.descTxt.text=fvg.GVf("pboss38"),e.descTxt.textColor=aKF.DU(aKF.JN)):t==aKF.WO||t==aKF.BN?(e.descTxt.text=fvg.GVf("pboss36"),e.descTxt.textColor=aKF.DU(aKF.WO)):t==aKF.JN?(e.descTxt.text=fvg.GVf("pboss37"),e.descTxt.textColor=aKF.DU(aKF.BN)):(e.descTxt.text=fvg.GVf("pboss38"),e.descTxt.textColor=aKF.DU(aKF.JN))
},t.prototype.yn=function(){var e=this;if(!e.destory&&e.ld){var t=(e.ld.rtime||0)-App.NN.serverSecond;t>0?e.timeTxt.text=kpd.formatDateBySec5(t):(e.timeTxt.text="00:00:00",vkG.$r(HUtJ.HEARTBEAT,e.yn,e))}},t.prototype.zw=function(e){var t=this;e&&t.ld&&e.indexOf(t.ld.id)>=0&&t.yb()},t.prototype.yb=function(){var e=this;if(e.ld.attr){var t=e.ld.attr.lefthp/e.ld.attr.maxhp*100;e.hpProg.value=int(t),e.progTxt.text=t.toFixed(2)+"%"}},t.prototype.ss=function(e){var t=this;t.ld&&vkG.$d(UtJ.GQ,t.ld)},t.prototype.dr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.stateTxt),t.stateTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,GObj.$d(t.hpProg),t.hpProg=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.diffTxt),t.diffTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.ld=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PalaceBossListItem.prototype,"PalaceBossListItem");var PalaceBossListPopUi=function(e){function t(){var t=e.call(this,"PalaceBossListPopUi")||this;return t.skinName=RRUU.$s("PalaceBossListPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("boss16"),e.verticalCenter=0,e.horizontalCenter=0,e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=PalaceBossListItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.BX,e.cs,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.BX,e.cs,e)},t.prototype.initData=function(){this.on()},Object.defineProperty(t.prototype,"bossList",{set:function(e){var t=this;e&&(t.t_=e,t.on())},enumerable:!0,configurable:!0}),t.prototype.cs=function(){this.on()},t.prototype.on=function(){var e=this;if(e.CSo&&e.t_){var t=[];for(var n in e.t_)t.push(e.t_[n]);t.sort(e.fa),e.itemData.replaceAll(t)}},t.prototype.fa=function(e,t){return e.id<=t.id?-1:1},t.prototype.hn=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.t_=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PalaceBossListPopUi.prototype,"PalaceBossListPopUi");var PalaceBossMyTeamItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PalaceBossMyTeamItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.inviteBtn.label=fvg.GVf("pboss16"),e.removeBtn.label=fvg.GVf("pboss22"),e.appointBtn.label=fvg.GVf("pboss23"),e.leaveBtn.label=fvg.GVf("pboss25")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rg,e),e.inviteBtn.addEventListener(eui.tep,e.dt,e),e.removeBtn.addEventListener(eui.tep,e.gh,e),e.appointBtn.addEventListener(eui.tep,e.ue,e),e.leaveBtn.addEventListener(eui.tep,e.gi,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rg,e),e.inviteBtn.removeEventListener(eui.tep,e.dt,e),e.removeBtn.removeEventListener(eui.tep,e.gh,e),e.appointBtn.removeEventListener(eui.tep,e.ue,e),e.leaveBtn.removeEventListener(eui.tep,e.gi,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.gl=e.data,e.gl?(e.nameTxt.text=e.gl.name,e.turnupTxt.text=App.JP.getTurnupName(e.gl.rgrade),e.capTxt.text=fvg.GVf("public018",e.gl.cap||0),e.headIcon.icon=kLM.JU(e.gl.sex||1,e.gl.heads),e.headIcon.visible=!0,e.addImg.visible=!1,e.inviteBtn.visible=!1,e.captainImg.visible=e.gl.uid==App.PQ.myTeam.captainId,e.removeBtn.visible=App.PQ.myTeam.isCaptain&&!e.captainImg.visible,e.appointBtn.visible=e.removeBtn.visible,e.leaveBtn.visible=e.gl.uid==App.KF.uid):(e.nameTxt.text="",e.turnupTxt.text="",e.capTxt.text="",e.headIcon.visible=!1,e.addImg.visible=!0,e.captainImg.visible=!1,e.removeBtn.visible=!1,e.appointBtn.visible=!1,e.leaveBtn.visible=!1,e.inviteBtn.visible=App.PQ.myTeam.isCaptain))},t.prototype.dt=function(e){var t=this;return App.PQ.myTeam.isCaptain?void(!t.te||t.te.destory?(t.te=GObj.$c(PalaceBossInvitePopUi),t.te.show()):(GObj.$d(t.te),t.te=null)):void App.TT.show(fvg.GVf("teammsg8"))},t.prototype.gh=function(e){var t=this;return App.PQ.myTeam.isCaptain?void(t.gl&&TeamMsgProxy.LL(t.gl.uid)):void App.TT.show(fvg.GVf("teammsg8"))},t.prototype.ue=function(e){var t=this;return App.PQ.myTeam.isCaptain?void(t.gl&&TeamMsgProxy.VG(t.gl.uid)):void App.TT.show(fvg.GVf("teammsg8"))},t.prototype.gi=function(e){var t=this;t.gl&&Alert.WK(fvg.GVf("pboss26"),void 0,void 0,t.ls,t)},t.prototype.ls=function(){var e=App.PQ.myTeam.tid;e>0&&TeamMsgProxy.YE()},t.prototype.rg=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.turnupTxt),t.turnupTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.inviteBtn),t.inviteBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.appointBtn),t.appointBtn=null,GObj.$d(t.addImg),t.addImg=null,GObj.$d(t.captainImg),t.captainImg=null,GObj.$d(t.leaveBtn),t.leaveBtn=null,t.te&&!t.te.destory&&GObj.$d(t.te),t.te=null,t.gl=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PalaceBossMyTeamItem.prototype,"PalaceBossMyTeamItem");var PalaceBossMyTeamPopUi=function(e){function t(){var t=e.call(this,"PalaceBossMyTeamPopUi")||this;return t.skinName=RRUU.$s("PalaceBossMyTeamPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.title=fvg.GVf("pboss21"),e.descTxt_2.text=fvg.GVf("pboss20"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=PalaceBossMyTeamItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.CN,e.yg,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.CN,e.yg,e)},t.prototype.initData=function(){var e=this;e.kx=App.PQ.getMaxPlayerByType(101),e.ig=App.PQ.myTeam,e.yg()},t.prototype.yg=function(){var e=this;if(e.ig&&e.ig.tid>0){e.itemData.source.length=0;for(var t=e.ig.ps,n=0;n<e.kx;n++)n<t.length?e.itemData.source.push(t[n]):e.itemData.source.push(null);e.itemData.source.sort(e.hi),e.itemData.refresh(),e.descTxt_1.text=fvg.GVf("pboss19",(t.length-1)*App.PQ.addHurt)}},t.prototype.hi=function(e,t){if(e&&!t)return-1;if(!e&&t)return 1;if(e&&t){if(e.iscap)return-1;if(t.iscap)return 1}return 0},t.prototype.pz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.ig=null,t.kx=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PalaceBossMyTeamPopUi.prototype,"PalaceBossMyTeamPopUi");var PalaceBossRevivalFrame=function(e){function t(){var t=e.call(this,"PalaceBossRevivalFrame")||this;return t.skinName=RRUU.$s("PalaceBossRevivalFrameSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.touchEnabled=e.touchChildren=!1},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.va,e)},t.prototype.initData=function(){},t.prototype.show=function(e,t,n){var i=this;i.lp=e||0,i.ii=t,i.cp=n,i.ux(),i.parent||App.FT.addToLayer(this,alvJ.YN)},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.ux=function(){var e=this;e.lp>0&&vkG.$a(HUtJ.HEARTBEAT,e.va,e),e.va()},t.prototype.va=function(){var e=this;e.destory||(e.lp>0?e.msgTxt.text=fvg.GVf("pboss27",e.lp):vkG.$r(HUtJ.HEARTBEAT,e.va,e),e.ii&&e.ii.call(e.cp,e.lp),e.lp--)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,t.ii=null,t.cp=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PalaceBossRevivalFrame.prototype,"PalaceBossRevivalFrame");var PalaceBossRewardPopUi=function(e){function t(){var t=e.call(this,"PalaceBossRewardPopUi")||this;return t.skinName=RRUU.$s("PalaceBossRewardPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("107"),e.verticalCenter=0,e.horizontalCenter=0,e.suerBtn.label=fvg.GVf("7"),e.descTxt.text=fvg.GVf("pboss34"),e._e=[],e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.suerBtn.addEventListener(eui.tep,e.mb,e)},t.prototype.removeEvent=function(){var e=this;e.suerBtn.removeEventListener(eui.tep,e.mb,e)},t.prototype.initData=function(){this.qz()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ed=e[0],n.qz())},t.prototype.qz=function(){var e=this;if(e.CSo&&e.ed){var t,n=[],i=0;for(var r in e.ed)e._e[i]||(e._e[i]=GObj.$c(nlwj)),t=e._e[i],t.tid=parseInt(r),t.count=e.ed[r],n.push(t),i++;e.rewardData.replaceAll(n)}},t.prototype.mb=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.suerBtn),t.suerBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t._e=null,t.ed=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PalaceBossRewardPopUi.prototype,"PalaceBossRewardPopUi");var PalaceBossTeamListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PalaceBossTeamListItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.joinBtn.label=fvg.GVf("pboss18"),e.ce=App.PQ.getMaxPlayerByType(101)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ik,e),e.joinBtn.addEventListener(eui.tep,e.or,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ik,e),e.joinBtn.removeEventListener(eui.tep,e.or,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.rc=e.data,e.nameTxt.text=e.rc.name,e.numTxt.text=fvg.GVf("team2",e.rc.ct||0,e.ce),e.numTxt.textColor=(e.rc.ct||0)>=e.ce?Color.KA:Color.XB,e.capTxt.text=fvg.GVf("goaltype5",e.rc.tcap||0),e.headIcon.icon=kLM.JU(e.rc.sex||1,e.rc.heads))},t.prototype.or=function(e){var t=this;if(t.rc){if((t.rc.ct||0)>=t.ce)return void App.TT.show(fvg.GVf("teammsg6"));if(App.PQ.myTeam.tid>0)return void App.TT.show(fvg.GVf("team3"));TeamMsgProxy.PJ(101,t.rc.tid)}},t.prototype.ik=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.numTxt),t.numTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.joinBtn),t.joinBtn=null,t.ce=null,t.rc=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PalaceBossTeamListItem.prototype,"PalaceBossTeamListItem");var PalaceBossTeamListPopUi=function(e){function t(){var t=e.call(this,"PalaceBossTeamListPopUi")||this;return t.skinName=RRUU.$s("PalaceBossTeamListPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.title=fvg.GVf("pboss17"),e.descTxt.text=fvg.GVf("team5"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=PalaceBossTeamListItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.VM,e.mm,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.VM,e.mm,e)},t.prototype.initData=function(){TeamMsgProxy.FW(101)},t.prototype.mm=function(){var e=this,t=App.PQ.teamList||[],n=t.length;e.itemData.source.length=0;for(var i=0;n>i;i++)e.itemData.source.push(t[i]);e.itemData.refresh(),e.descTxt.visible=0==e.itemData.length},t.prototype.am=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PalaceBossTeamListPopUi.prototype,"PalaceBossTeamListPopUi");var PalaceBossTeamPopUi=function(e){function t(){var t=e.call(this,"PalaceBossTeamPopUi")||this;return t.skinName=RRUU.$s("PalaceBossTeamPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("team7"),e.verticalCenter=0,e.horizontalCenter=0,e.findPlayerBtn.label=fvg.GVf("pboss11"),e.findTeamBtn.label=fvg.GVf("pboss12"),e.descTxt_1.text=fvg.GVf("pboss13"),e.descTxt_2.text=fvg.GVf("pboss14"),e.chkTxt.text=fvg.GVf("team6")},t.prototype.initEvent=function(){var e=this;e.findPlayerBtn.addEventListener(eui.tep,e.ob,e),e.findTeamBtn.addEventListener(eui.tep,e.hw,e),e.chkBtn.addEventListener(egret.Event.CHANGE,e.md,e)},t.prototype.removeEvent=function(){var e=this;e.findPlayerBtn.removeEventListener(eui.tep,e.ob,e),e.findTeamBtn.removeEventListener(eui.tep,e.hw,e),e.chkBtn.removeEventListener(egret.Event.CHANGE,e.md,e)},t.prototype.initData=function(){this.chkBtn.selected=!App.PQ.state},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.ob=function(e){var t=this;(!t.vw||t.vw.destory)&&(t.vw=GObj.$c(PalaceBossInvitePopUi),t.vw.addEventListener(UtJ.ST,t.te,t),t.vw.show()),t.hide()},t.prototype.hw=function(e){var t=this;(!t.cy||t.cy.destory)&&(t.cy=GObj.$c(PalaceBossTeamListPopUi),t.cy.addEventListener(UtJ.ST,t.te,t),t.cy.show()),t.hide()},t.prototype.te=function(e){var t=this,n=e.target;n&&n.removeEventListener(UtJ.ST,t.te,t),t.show()},t.prototype.md=function(e){App.PQ.state=this.chkBtn.selected?0:1,TeamMsgProxy.JZ(App.PQ.state)},t.prototype.gt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.findPlayerBtn),t.findPlayerBtn=null,GObj.$d(t.findTeamBtn),t.findTeamBtn=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,t.vw&&!t.vw.destory&&(t.vw.removeEventListener(UtJ.ST,t.te,t),GObj.$d(t.vw)),t.vw=null,t.cy&&!t.cy.destory&&(t.cy.removeEventListener(UtJ.ST,t.te,t),GObj.$d(t.cy)),t.cy=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PalaceBossTeamPopUi.prototype,"PalaceBossTeamPopUi");var PalaceBossUIView=function(e){function t(){var t=e.call(this,"PalaceBossUIView")||this;return t.skinName=RRUU.$s("PalaceBossUIViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.right=0,e.bottom=190,e["if"]=-1,e.rewardDic={},e.titleTxt.text=fvg.GVf("teamcopy30"),e.timeTxt.text="00:00:00",e.descTxt.text=fvg.GVf("teamcopy39"),e.haveTitleTxt.text=fvg.GVf("pboss32"),e.rewardBtn.label=fvg.GVf("pboss35")},t.prototype.initEvent=function(){var e=this;e.teamBtn.addEventListener(eui.tep,e.wm,e),e.bossListBtn.addEventListener(eui.tep,e.zs,e),e.buyBtn.addEventListener(eui.tep,e.nf,e),e.rewardBtn.addEventListener(eui.tep,e.kc,e),e.descBtn.addEventListener(eui.tep,e.ml,e),vkG.$a(UtJ.CN,e.r_,e),vkG.$a(UtJ.MU,e.pj,e),vkG.$a(UtJ.DV,e.bo,e),vkG.$a(UtJ.EE,e.ic,e)},t.prototype.removeEvent=function(){var e=this;e.teamBtn.removeEventListener(eui.tep,e.wm,e),e.bossListBtn.removeEventListener(eui.tep,e.zs,e),e.buyBtn.removeEventListener(eui.tep,e.nf,e),e.rewardBtn.removeEventListener(eui.tep,e.kc,e),e.descBtn.removeEventListener(eui.tep,e.ml,e),vkG.$r(UtJ.CN,e.r_,e),vkG.$r(HUtJ.HEARTBEAT,e.rs,e),vkG.$r(UtJ.MU,e.pj,e),vkG.$r(UtJ.DV,e.bo,e),vkG.$r(UtJ.EE,e.ic,e)},t.prototype.initData=function(){var e=this;e.wh(),e.pj(),e.bo(null)},t.prototype.wh=function(){var e=this;e.wk=App.MB.pbInfo.openInfo,e.wk&&(vkG.$a(HUtJ.HEARTBEAT,e.rs,e),e.rs())},t.prototype.rs=function(){var e=this,t=App.NN.date,n=0;e.eh=3600*t.getHours()+60*t.getMinutes()+t.getSeconds(),e.eh>=e.wk.st&&e.eh<e.wk.st+e.wk.ct?(n=int(e.wk.st+e.wk.ct-e.eh),e.timeTxt.text=kpd.YW(n)):(e.timeTxt.text="00:00:00",vkG.$r(HUtJ.HEARTBEAT,e.rs,e))},Object.defineProperty(t.prototype,"bossList",{set:function(e){this.vb=e},enumerable:!0,configurable:!0}),t.prototype.wm=function(e){var t=this;App.PQ.myTeam.tid>0?!t.qk||t.qk.destory?(t.qk=GObj.$c(PalaceBossMyTeamPopUi),t.qk.show()):e&&(GObj.$d(t.qk),t.qk=null):!t.cg||t.cg.destory?(t.cg=GObj.$c(PalaceBossTeamPopUi),t.cg.show()):e&&(GObj.$d(t.cg),t.cg=null)},t.prototype.r_=function(){var e=this;App.PQ.myTeam.tid>0?(e.cg&&!e.cg.destory&&GObj.$d(e.cg),e.cg=null,e.addHurtTxt.text=fvg.GVf("pboss28",(App.PQ.myTeam.psnum-1)*App.PQ.addHurt)):(e.qk&&!e.qk.destory&&GObj.$d(e.qk),e.qk=null,e.addHurtTxt.text=""),e["if"]!=App.PQ.myTeam.tid&&e.wm(null),e["if"]=App.PQ.myTeam.tid},t.prototype.pj=function(){this.numTxt.text=toChars(Math.round(2*Math.random()+3)+App.MB.count)},t.prototype.zs=function(e){var t=this;!t.sz||t.sz.destory?(t.sz=GObj.$c(PalaceBossListPopUi),t.sz.bossList=t.vb,t.sz.show()):(GObj.$d(t.sz),t.sz=null)},t.prototype.bo=function(e){this.haveTxt.text="x"+App.FK.hsx(StaticData.KILL_BOSS_TOKEN)},t.prototype.nf=function(e){var t=this,n=App.MB.pbInfo.max_buy_count,i=App.MB.pbInfo.last_buy_count;Alert.WK(fvg.GVf("pboss6",App.MB.pbInfo.kill_boss_token_point,i,n),void 0,void 0,t.qme,t)},t.prototype.qme=function(){if(App.MB.pbInfo.last_buy_count<=0)return void App.TT.show(fvg.GVf("304"));var e=App.MB.pbInfo.kill_boss_token_point;return e>App.KF.point?void _JDW.TR(StaticData.TID_POINT_ID):void ziI.JZ()},t.prototype.kc=function(e){var t=this;!t.bm||t.bm.destory?(t.bm=GObj.$c(PalaceBossRewardPopUi),t.bm.loU(t.rewardDic),t.bm.show()):(GObj.$d(t.bm),t.bm=null)},t.prototype.ic=function(e){for(var t,n,i=this,r=[],a=0;a<e.length;a++){n=e[a];for(t in n)i.rewardDic[t]||(i.rewardDic[t]=0),i.rewardDic[t]+=n[t];r.push({tid:parseInt(t),count:n[t]})}i.bm&&!i.bm.destory&&i.bm.loU(i.rewardDic),r.length>0&&vkG.$d(UtJ.KE,r,!0)},t.prototype.ml=function(e){var t=this;!t.td||t.td.destory?(t.td=GObj.$c(PalaceBossDescPopUi),t.td.show()):(GObj.$d(t.td),t.td=null)},t.prototype.show=function(){var e=this;App.FT.addToLayer(this,alvJ.WL),e.zs(null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.teamBtn),t.teamBtn=null,GObj.$d(t.bossListBtn),t.bossListBtn=null,t.wk=null,t.vb=null,t.cg&&!t.cg.destory&&GObj.$d(t.cg),t.cg=null,t.sz&&!t.sz.destory&&GObj.$d(t.sz),t.sz=null,t.qk&&!t.qk.destory&&GObj.$d(t.qk),t.qk=null,t.bm&&!t.bm.destory&&GObj.$d(t.bm),t.bm=null,t.td&&!t.td.destory&&GObj.$d(t.td),t.td=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.numTxt),t.numTxt=null,GObj.$d(t.haveTitleTxt),t.haveTitleTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,t.rewardDic=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PalaceBossUIView.prototype,"PalaceBossUIView");var TeamCopyMapAwardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TeamCopyMapAwardItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.itemView.data=t,t.TSF&&(e.nameTxt.text=t.TSF.name,e.nameTxt.textColor=aKF.DU(t.quality))}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ef,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ef,e)},t.prototype.ef=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TeamCopyMapAwardItem.prototype,"TeamCopyMapAwardItem");var TeamCopyMapFrame=function(e){function t(){var t=e.call(this,"TeamCopyMapFrame")||this;return t.uj=0,t.skinName=RRUU.$s(t.id),t.right=0,t.bottom=117,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.timeDescLab.text=fvg.GVf("teamcopy30"),e.rankLab.text=fvg.GVf("teamcopy16"),e.nameLab.text=fvg.GVf("teamcopy17"),e.numLab.text=fvg.GVf("teamcopy18"),e.rankdatas=GObj.$c(eui.ArrayCollection),e.rankGroup.dataProvider=e.rankdatas,e.rankGroup.itemRenderer=TeamCopyMapRankItem,e.awardatas=GObj.$c(eui.ArrayCollection),e.awardGroup.dataProvider=e.awardatas,e.awardGroup.itemRenderer=TeamCopyMapAwardItem},t.prototype.initEvent=function(){var e=this;e.rankBtn.addEventListener(eui.tep,e.zr,e),e.awardBtn.addEventListener(eui.tep,e.kd,e),vkG.$a(UtJ.TT,e.ozl,e),vkG.$a(UtJ.EP,e.zy,e),vkG.$a(HUtJ.HEARTBEAT,e.hw,e)},t.prototype.removeEvent=function(){var e=this;e.rankBtn.removeEventListener(eui.tep,e.zr,e),e.awardBtn.removeEventListener(eui.tep,e.kd,e),vkG.$r(UtJ.TT,e.ozl,e),vkG.$r(UtJ.EP,e.zy,e),vkG.$r(HUtJ.HEARTBEAT,e.hw,e)},t.prototype.initData=function(){var e=this,t=XCA.DG(22,1);e.qa=Nkz.PI(t),e.uj=App.MB.ymgOverTime,e.gi(),e.zy(1)},t.prototype.zy=function(e){var t=this;if(e=e||1,t.ml||(t.ml=GObj.$c(TeamCopyMapPassView)),t.ml.show(e),t.passLab&&(t.passLab.text=e.toString()),t.qa){var n=t.qa.length,i=[App.JP.ymgOutput1,App.JP.ymgOutput3];n>i.length&&(n=i.length);for(var r=0;n>r;r++){var a=t.qa[r];a.count=i[r](e-1),t.awardatas.source[r]=a}t.awardatas.refresh(),i.length=0,i=null}},t.prototype.ozl=function(e){var t=this;e.type==FDG.FV&&(t.qg=e,t.gi())},t.prototype.gi=function(){var e=this;if(e.qg){e.rankdatas.source.splice(0,e.rankdatas.source.length);var t=e.qg.list;if(t)for(var n=t.length,i=0;n>i;i++)e.rankdatas.source[i]=t[i];e.rankdatas.refresh()}},t.prototype.zr=function(e){var t=this;t.fightGroup.visible=!t.fightGroup.visible},t.prototype.hw=function(){var e=this;e.xh=e.uj-App.NN.serverSecond,e.xh>0?e.timeLab.text=kpd.HE(e.xh):e.timeLab.text="00:00"},t.prototype.kd=function(e){var t=this;t.awardCountGroup.visible=!t.awardCountGroup.visible},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.qa),t.qa=null,GObj.$d(t.timeDescLab),t.timeDescLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.ml),t.ml=null,GObj.$d(t.fightGroup),t.fightGroup=null,GObj.$d(t.awardCountGroup),t.awardCountGroup=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.numLab),t.numLab=null,t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup)),t.rankdatas=null,GObj.$d(t.awardBtn),t.awardBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,t.awardGroup&&(t.awardGroup.dataProvider=null,GObj.$d(t.awardGroup)),t.awardGroup=null,t.awardatas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TeamCopyMapFrame.prototype,"TeamCopyMapFrame");var TeamCopyMapPassView=function(e){function t(){var t=e.call(this)||this;return t.ti=0,t}return __extends(t,e),t.prototype.xw=function(){var e=this;if(!e.jg){var t=RES.getRes("teamcopy_pass_num_png");if(t){e.op=GObj.$c(egret.Bitmap),e.op.texture=RES.getRes("teamcopy_pass_bg_png"),e.op.x=.5*-e.op.width,e.op.y=.5*-e.op.height,e.addChild(e.op),e.cg=GObj.$c(egret.Bitmap),e.cg=GObj.$c(egret.Bitmap),e.cg.texture=RES.getRes("teamcopy_pass_1_png"),e.cg.y=.5*-e.cg.height,e.addChild(e.cg),e.tg=GObj.$c(egret.Bitmap),e.tg.texture=RES.getRes("teamcopy_pass_2_png"),e.tg.y=.5*-e.cg.height,e.addChild(e.tg),e.jg=[],e.qa=[];var n=GObj.$c(egret.Rectangle),i=t.textureWidth/10,r=t.textureHeight;n.width=i,n.height=r,n.y=0;for(var a=0;10>a;a++)n.x=i*a,e.jg.push(BitmapUtil.drawToTexture(t,n))}}},t.prototype.show=function(e){var t=this;if(t.xw(),t.jg){for(var n,i=toChars(e||0),r=i.length,a=30,o=-r*a*.5,s=0;r>s;s++){n=t.qa[s],n||(t.qa[s]=n=GObj.$c(egret.Bitmap));var p=i.charAt(s);n.texture=t.jg[p],n.x=o+s*a,n.y=.5*-n.height,t.addChild(n)}for(t.cg.x=o-60,t.tg.x=o+s*a+14,r=t.qa.length;r>s;s++)n=t.qa[s],n&&n.parent&&n.parent.removeChild(n);t.x=hCs.stageWidthHalf,t.y=hCs.stageHeightHalf,t.ti=0,t.scaleX=t.scaleY=3,App.FT.uiLayer.addChild(t),App.HA.registeEnterFrame(t.fa,t)}},t.prototype.fa=function(){var e=this;e.ti++,e.ti<=10?e.scaleX=e.scaleY-=.2:e.ti<=120||(e.parent&&e.parent.removeChild(e),App.HA.unRegisteEnterFrame(e.fa,e))},t.prototype.dispose=function(){var e=this;App.HA.unRegisteEnterFrame(e.fa,e),GObj.$d(e.cg),e.cg=null,GObj.$d(e.tg),e.tg=null,GObj.$d(e.op),e.op=null,GObj.$d(e.jg),e.jg=null,GObj.$d(e.qa),e.qa=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(TeamCopyMapPassView.prototype,"TeamCopyMapPassView");var TeamCopyMapRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TeamCopyMapRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.eq,e)},t.prototype.eq=function(){GObj.$d(this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;e.rankLab.text=toChars(t.rank),e.nameLab.text=e.data.name,e.damageLab.text=toChars(t.score)}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.eq,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.damageLab),t.damageLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TeamCopyMapRankItem.prototype,"TeamCopyMapRankItem");var TeamCopyPassView=function(e){function t(){var t=e.call(this)||this;return t.wo=20,t.wg=1,t.ht(),t.un(),t}return __extends(t,e),t.prototype.ht=function(){var e=this;e.touchChildren=e.touchEnabled=!1,e.uc=GObj.$c(egret.Bitmap),e.uc.texture=RES.getRes("pass_bg_png"),e.uc.x=.5*-e.uc.width,e.addChild(e.uc),e._passLab=GObj.$c(eui.Label),e._passLab.textColor=Color.TX,e._passLab.size=16,e._passLab.width=e.uc.width,e._passLab.x=e.uc.x,e._passLab.y=4,e._passLab.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e._passLab),e.rl(1),e.eh()},t.prototype.un=function(){var e=this;vkG.$a(UtJ.EP,e.rl,e),vkG.$a(HUtJ.HEARTBEAT,e.mo,e),vkG.$a(UtJ.II,e.mv,e)},t.prototype._t=function(){var e=this;vkG.$r(UtJ.EP,e.rl,e),vkG.$r(HUtJ.HEARTBEAT,e.mo,e),vkG.$r(UtJ.II,e.mv,e)},t.prototype.mv=function(){this.rl(1)},t.prototype.rl=function(e){var t=this;e=e||1,t.wg=App.JP.ymgSkipPass(e,App.MB.ymgAvgPass),t.wo=19,vkG.$a(HUtJ.HEARTBEAT,t.mo,t),t._passLab.text=fvg.GVf("teamcopy28",t.wo,t.wg),t.eh()},t.prototype.mo=function(){var e=this;e.wo--,e.wo<=0?(vkG.$r(HUtJ.HEARTBEAT,e.mo,e),e.pd()):e._passLab.text=fvg.GVf("teamcopy28",e.wo,e.wg)},t.prototype.eh=function(){var e=this;e.y=280,e.x=hCs.stageWidthHalf,App.FT.addToLayer(this,alvJ.WL)},t.prototype.pd=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.dispose=function(){var e=this;e._t(),GObj.$d(e.uc),e.uc=null,GObj.$d(e._passLab),e._passLab=null,e.parent&&e.parent.removeChild(e)},t}(egret.Sprite);__reflect(TeamCopyPassView.prototype,"TeamCopyPassView");var TurnupBossCountDown=function(e){function t(){var t=e.call(this,"TurnupBossCountDown")||this,n=RRUU.$s("TurnupBossCountDownSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.revivieBtn.label=fvg.GVf("revivie1"),e.horizontalCenter=0,e.bottom=210},t.prototype.initEvent=function(){var e=this;e.revivieBtn.addEventListener(eui.tep,e.uy,e)},t.prototype.removeEvent=function(){var e=this;e.revivieBtn.removeEventListener(eui.tep,e.uy,e),vkG.$r(HUtJ.HEARTBEAT,e.es,e)},t.prototype.initData=function(){},Object.defineProperty(t.prototype,"countDown",{get:function(){return this.qz},set:function(e){var t=this;t.qz=e,t.ru()},enumerable:!0,configurable:!0}),t.prototype.ru=function(){var e=this;e.CSo&&(e.qz>0&&vkG.$a(HUtJ.HEARTBEAT,e.es,e),e.es())},t.prototype.es=function(){var e=this;return e.timeTxt.text=fvg.GVf("revivie2",e.qz),e.qz<=0?void vkG.$r(HUtJ.HEARTBEAT,e.es,e):void e.qz--},t.prototype.show=function(){var e=this;e.parent||App.FT.addToLayer(this,alvJ.WL)},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)
},t.prototype.uy=function(e){var t=this;Alert.WK(fvg.GVf("revivie3",App.MB.turnupBossInfo.revivelPoint),void 0,void 0,t.ua,t)},t.prototype.ua=function(){return App.KF.point<App.MB.turnupBossInfo.revivelPoint?void _JDW.TR(StaticData.TID_POINT_ID):void CampaignMsgProxy.VG(1)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.revivieBtn),t.revivieBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TurnupBossCountDown.prototype,"TurnupBossCountDown");var TurnupBossMapPopUi=function(e){function t(){var t=e.call(this,"TurnupBossMapPopUi")||this,n=RRUU.$s("TurnupBossMapPopUiSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.right=0,e.bottom=363,e.titleTxt.text=fvg.GVf("teamcopy30"),e.timeTxt.text="00:00:00",e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addhurtBtn.addEventListener(eui.tep,e.jh,e),e.rankBtn.addEventListener(eui.tep,e.vv,e),e.rewardBtn.addEventListener(eui.tep,e.zq,e),vkG.$a(UtJ.ZC,e.nw,e),vkG.$a(UtJ.TT,e.tw,e),vkG.$a(UtJ.PT,e.vb,e)},t.prototype.removeEvent=function(){var e=this;e.addhurtBtn.removeEventListener(eui.tep,e.jh,e),e.rankBtn.removeEventListener(eui.tep,e.vv,e),e.rewardBtn.removeEventListener(eui.tep,e.zq,e),vkG.$r(UtJ.ZC,e.nw,e),vkG.$r(UtJ.TT,e.tw,e),vkG.$r(UtJ.PT,e.vb,e),vkG.$r(HUtJ.HEARTBEAT,e.vw,e)},t.prototype.initData=function(){var e=this;if(e.CSo&&e.vs){e.bo=App.MB.turnupBossInfo;for(var t=App.MB.turnupBossList,n=0;n<t.length;n++)if(t[n].TSF.mapid==e.vs){e.az=n+1,e.ur=t[n].TSF;break}if(e.ur){e.jw=e.ur.tid;var i=XCA.YV(e.ur.attrid);i&&(e.vl=i.hp)}e.nw(),e.tw();var r=App.NN.date,a=3e3-60*r.getMinutes()-r.getSeconds();e.js=a+5,e.js>0&&(vkG.$a(HUtJ.HEARTBEAT,e.vw,e),e.vw())}},Object.defineProperty(t.prototype,"mapId",{get:function(){return this.vs},set:function(e){var t=this;t.vs=e,t.initData()},enumerable:!0,configurable:!0}),t.prototype.jh=function(e){var t=this;Alert.WK(fvg.GVf("revivie4",t.bo.buyDamagePoint,t.bo.hurtRate/10,t.bo.rbab,t.bo.buyDamage),void 0,void 0,t.fs,t)},t.prototype.fs=function(){var e=this;return e.bo.rbab>=e.bo.buyDamage?void App.TT.show(fvg.GVf("34")):App.KF.point<e.bo.buyDamagePoint?void _JDW.TR(StaticData.TID_POINT_ID):void CampaignMsgProxy.VG(2)},t.prototype.vv=function(e){var t=this,n=GObj.$c(TurnupBossRankPopUi);n.loU(t.jw||0,!0,t.az||0),n.show()},t.prototype.zq=function(e){var t=this,n=GObj.$c(TurnupBossStagePopUi);n.loU(t.vl||0,t.az||0),n.show()},t.prototype.nw=function(){var e=this;e.hurtAddTxt.text=fvg.GVf("revivie5",e.bo.rbab*e.bo.hurtRate/10)},t.prototype.tw=function(e){var t=this;if(e=App.PV.getData(FDG.IN)){for(var n,i=e.score,r=t.bo.stageScore,a=App.BG.stageBoxState[9]||0,o=!1,s=0;s<r.length;s++)if(n=int(r[s]*t.vl/1e3),i>=n&&0==(a&1<<s)){o=!0;break}t.rewardBtn.icon=o?StaticData.GHj:null}},t.prototype.vb=function(e){e&&e.indexOf(9)>=0&&this.tw()},t.prototype.vw=function(){var e=this;e.timeTxt.text=kpd.formatDateBySec5(e.js),e.js<=0&&vkG.$r(HUtJ.HEARTBEAT,e.vw,e),e.js--},t.prototype.show=function(){var e=this;e.parent||App.FT.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.addhurtBtn),t.addhurtBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,t.ur=null,t.bo=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TurnupBossMapPopUi.prototype,"TurnupBossMapPopUi");var AchievementElevatePopUI=function(e){function t(){var t=e.call(this,"AchievementElevatePopUI")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bg.source=XianLaiUtil.UN("achievement_json.achievement_bg1_png"),e.rechargeBtn.btnBG.source=XianLaiUtil.UN("achievement_json.achievement_recharge_btn_png"),e.rechargeBtn.label,e.descLabel.text=fvg.GVf("oneyuan01")},t.prototype.initData=function(){this.vn()},t.prototype.initEvent=function(){var e=this;e.rechargeBtn.addEventListener(eui.tep,e.jd,e),vkG.$a(UtJ.NTG,e.rw,e)},t.prototype.removeEvent=function(){var e=this;e.rechargeBtn.removeEventListener(eui.tep,e.jd,e),vkG.$r(UtJ.NTG,e.rw,e)},t.prototype.vn=function(){this.rechargeBtn.visible=App.EJ.achievementVo.sa?!1:!0},t.prototype.rw=function(){App.EJ.achievementVo.sa&&msgTip(fvg.GVf("public088")),this.vn()},t.prototype.jd=function(){var e=this;if(App.EJ.achievementVo.sa)return void msgTip(fvg.GVf("achievement8"));e.yh=App.EJ.achievementConfig[2]||0;var t,n=App.MG.achievementVo;n&&n.bagList.length>0&&(t=n.bagList[0].id),NXr.BP({total_fee:100*e.yh,subject:4,levelId:t,param3:t})},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rechargeBtn),t.rechargeBtn=null,GObj.$d(t.descLabel),t.descLabel=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(AchievementElevatePopUI.prototype,"AchievementElevatePopUI");var AchievementItem=function(e){function t(){var t=e.call(this)||this;return t.jf=!0,t.skinName=RRUU.$s("AchievementItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.yq,e),e.addEventListener(eui.RFS,e.nx,e),vkG.$a(UtJ.NTG,e.af,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.yq,e),e.removeEventListener(eui.RFS,e.nx,e),vkG.$r(UtJ.NTG,e.af,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.em=e.data;var t=e.em.info;t&&(e.itemView.data=t,e.ok=e.em.type,e.qx=e.em.grade,e.jf=e.em.isClick,e.rl())}},t.prototype.af=function(){this.rl()},t.prototype.yq=function(){var e=this;return e.jf&&e.ru?void AchievementMsgProxy.WS(1,e.qx,e.ok):void(e.itemView.data&&App.FK.showGoodsDetails(e.itemView.data,!1))},t.prototype.rl=function(){var e=this;if(e.ru=!1,e.qx>App.EJ.achievementVo.g)return e.redImg.source="",e.ru=!1,void(e.getImg.visible=!1);e.bw=App.EJ.achievementVo.as;var t=e.bw[e.qx+"_"+e.ok]||0;0==e.ok?(e.ru=t?!1:!0,e.redImg.source=e.ru?StaticData.GHj:"",e.getImg.visible=!e.ru):1==e.ok&&(e.ru=App.EJ.achievementVo.sa?t?!1:!0:!1,e.redImg.source=e.ru?StaticData.GHj:"",e.getImg.visible=App.EJ.achievementVo.sa&&t?!0:!1)},t.prototype.nx=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.redImg),t.redImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AchievementItem.prototype,"AchievementItem");var AchievementRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("AchievementRankItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.mp,e),vkG.$a(UtJ.NTG,e.rg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.mp,e),vkG.$r(UtJ.NTG,e.rg,e)},t.prototype.rg=function(){this.dc()},t.prototype.mp=function(){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.ra=e.data,e.itemIndex<0||(e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankLab.text=""):(e.rankImg.source=null,e.rankLab.text=toChars(e.itemIndex+1)),e.dc(),e.scoreLab.text=e.ra?fvg.GVf("achievement12",e.ra.score):"",e.nameLab.text=e.ra?fvg.GVf("public020",e.ra.name):"",e.noRankLab.text=e.ra?"":fvg.GVf("rank10")))},t.prototype.dc=function(){var e=this;e.rewardData.source.length=0;var t=e.itemIndex+1>10?11:e.itemIndex+1,n=XCA.RE("533_"+App.EJ.achievementVo.sc+"_"+t);e.rewardData.source=Nkz.PI(n),e.rewardData.refresh()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.noRankLab),t.noRankLab=null,GObj.$d(t.rankLab),t.rankLab=null,t.ra=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup),t.rewardGroup=null),t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AchievementRankItem.prototype,"AchievementRankItem");var AchievementRankView=function(e){function t(){var t=e.call(this,"AchievementRankView")||this;return t.lw=!1,t.wsz=0,t.skinName=RRUU.$s("AchievementRankView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.rankGroup.dataProvider=e.datas,e.rankGroup.itemRenderer=AchievementRankItem,e.refreshBtn.label=fvg.GVf("shop4"),e.rankDescLab.text=fvg.GVf("public061"),e.rewardDescLab.text=fvg.GVf("107")},t.prototype.initData=function(){var e=this,t=App.PV.getAchievementRankByType(FDG.FS);(!t||GApp.timer-(t.rtime||0)>=3e5)&&RankMsgProxy.IU(FDG.FS),e.mz(t);var n=App.EJ.achievementConfig;e.conditionLab.text=fvg.GVf("achievement6",n[3])},t.prototype.initEvent=function(){var e=this;e.refreshBtn.addEventListener(eui.tep,e.cb,e),vkG.$a(UtJ.GI,e.mz,e),vkG.$a(UtJ.NTG,e.jq,e)},t.prototype.removeEvent=function(){var e=this;e.refreshBtn.removeEventListener(eui.tep,e.cb,e),vkG.$r(UtJ.GI,e.mz,e),vkG.$r(UtJ.NTG,e.jq,e),vkG.$r(HUtJ.HEARTBEAT,e.gh,e)},t.prototype.jq=function(){this.zh()},t.prototype.mz=function(e){var t=this;if(t.lw&&(msgTip(fvg.GVf("achievement11")),t.lw=!1),!e||e.type==FDG.FS){t.scroller&&t.scroller.stopAnimation(),t.datas.source.splice(0,t.datas.source.length);for(var n,i=20,r=e&&e.rank?e.rank:[],a=e?Math.max(e.rank.length,i):i,o=[],s=0;a>s;s++)n=r[s],o.push(n);t.datas.replaceAll(o),t.rankLab.text=fvg.GVf("rank0",e&&e.myrank>0?e.myrank>i?i+"+":e.myrank:fvg.GVf("public042")),t.scoreLab.text=fvg.GVf("achievement12",App.EJ.achievementVo.gp||0),t.nameLab.text=App.KF.name,t.zh()}},t.prototype.zh=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.gh,e),e.jn=App.EJ.achievementVo.et||0,e.jn-App.NN.serverSecond>0?(vkG.$a(HUtJ.HEARTBEAT,e.gh,e),e.gh()):(e.countTimeLab.text=fvg.GVf("public035"),e.countTimeLab.textColor=Color.HE,vkG.$r(HUtJ.HEARTBEAT,e.gh,e))},t.prototype.gh=function(){var e=this;if(!e.destory){var t=e.jn-App.NN.serverSecond;t>0?(e.countTimeLab.text=fvg.GVf("public050",kpd.YW(t)),e.countTimeLab.textColor=Color.TX):(e.countTimeLab.text=fvg.GVf("public035"),e.countTimeLab.textColor=Color.HE,vkG.$r(HUtJ.HEARTBEAT,e.gh,e))}},t.prototype.cb=function(e){var t=this;t.lw=!0;var n=ClockManager.instance.serverSecond;n>t.wsz+3&&(RankMsgProxy.EI(FDG.FS),t.wsz=n)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.countTimeLab),t.countTimeLab=null,GObj.$d(t.conditionLab),t.conditionLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.refreshBtn),t.refreshBtn=null,GObj.$d(t.rankDescLab),t.rankDescLab=null,GObj.$d(t.rewardDescLab),t.rewardDescLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller),t.scroller=null),t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup),t.rankGroup=null),t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(AchievementRankView.prototype,"AchievementRankView");var AchievementRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("AchievementRewardItem"),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.jp=App.EJ.achievementConfig[4],t.itemDatas1||(t.itemDatas1=GObj.$c(eui.ArrayCollection)),t.itemGroup1.dataProvider=t.itemDatas1,t.itemGroup1.itemRenderer=AchievementItem,t.itemDatas2||(t.itemDatas2=GObj.$c(eui.ArrayCollection)),t.itemGroup2.dataProvider=t.itemDatas2,t.itemGroup2.itemRenderer=AchievementItem},t.prototype.initData=function(){e.prototype.initData.call(this),this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yv,e)},t.prototype.yv=function(){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.itemIndex+1>e.jp?e.itemIndex+1-e.jp:e.itemIndex+1;e.gradeLab.text=e.itemIndex+1>App.EJ.achievementConfig[4]?fvg.GVf("achievement9",t):t+"";e.data;e.ae(e.data)}},t.prototype.ae=function(e){var t,n,i=this;usable(e)&&(t=e.split("_")[0],n=e.split("_")[1]),i.itemDatas1.source.length=0,i.itemDatas2.source.length=0;for(var r=Nkz.PI(t),a=[],o=0;o<r.length;o++){var s=r[o];a.push({info:s,grade:i.itemIndex+1,type:0,isClick:!0})}i.itemDatas1.replaceAll(a);for(var p=Nkz.PI(n),l=[],o=0;o<p.length;o++){var s=p[o];l.push({info:s,grade:i.itemIndex+1,type:1,isClick:!0})}i.itemDatas2.replaceAll(l)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.icon),t.icon=null,GObj.$d(t.gradeLab),t.gradeLab=null,t.itemGroup1&&(t.itemGroup1.dataProvider=null,GObj.$d(t.itemGroup1),t.itemGroup1=null),t.itemGroup2&&(t.itemGroup2.dataProvider=null,GObj.$d(t.itemGroup2),t.itemGroup2=null),t.itemDatas1=null,t.itemDatas1=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AchievementRewardItem.prototype,"AchievementRewardItem");var AchievementRewardView=function(e){function t(){var t=e.call(this,"AchievementRewardView")||this;return t.mv=94,t.qp=!0,t.skinName=RRUU.$s("AchievementRewardView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descLab1.text=fvg.GVf("achievement1"),e.descLab2.text=fvg.GVf("achievement2"),e.elevateBtn1.label=fvg.GVf("achievement3"),e.oneKeyBtn.label=fvg.GVf("achievement10"),e.itemDatas=GObj.$c(eui.ArrayCollection),e.rewardList.dataProvider=e.itemDatas,e.rewardList.itemRenderer=AchievementRewardItem,e.datas1=GObj.$c(eui.ArrayCollection),e.itemGroup1.dataProvider=e.datas1,e.itemGroup1.itemRenderer=AchievementItem,e.datas2=GObj.$c(eui.ArrayCollection),e.itemGroup2.dataProvider=e.datas2,e.itemGroup2.itemRenderer=AchievementItem},t.prototype.initData=function(){var e=this;e.vc(),e.wv(),e.validateNow(),ClockManager.setTimeout(e.m_,this,50)},t.prototype.m_=function(){this.od()},t.prototype.initEvent=function(){var e=this;e.oneKeyBtn.addEventListener(eui.tep,e.sf,e),e.elevateBtn.addEventListener(eui.tep,e.sm,e),e.elevateBtn1.addEventListener(eui.tep,e.sm,e),e.scroller.addEventListener(egret.Event.CHANGE,e.od,e),e.getTaskBtn.addEventListener(eui.tep,e.mk,e),vkG.$a(UtJ.NTG,e.wv,e)},t.prototype.removeEvent=function(){var e=this;e.oneKeyBtn.removeEventListener(eui.tep,e.sf,e),e.elevateBtn.removeEventListener(eui.tep,e.sm,e),e.elevateBtn1.removeEventListener(eui.tep,e.sm,e),e.scroller.removeEventListener(egret.Event.CHANGE,e.od,e),e.getTaskBtn.removeEventListener(eui.tep,e.mk,e),vkG.$r(UtJ.NTG,e.wv,e),vkG.$r(HUtJ.HEARTBEAT,e.vy,e)},t.prototype.vc=function(){var e=this;e.itemDatas.source.length=0,e.gi=App.EJ.achievementVo,e.on=App.EJ.achievementVo.sa||0;for(var t=e.gi.sa?App.EJ.achievementConfig[0]:App.EJ.achievementConfig[4],n=1;t>=n;n++){var i=XCA.RE("532_"+App.EJ.achievementVo.sc+"_"+n);e.itemDatas.source.push(i)}e.itemDatas.refresh(),e.validateNow()},t.prototype.rl=function(){var e=this,t=App.EJ.achievementVo.et,n=t-App.NN.serverSecond;return n>0?(vkG.$a(HUtJ.HEARTBEAT,e.vy,e),void e.vy()):(e.countTimeLab.text=fvg.GVf("public035"),e.countTimeLab.textColor=Color.HE,void vkG.$r(HUtJ.HEARTBEAT,e.vy,e))},t.prototype.vy=function(){var e=this,t=App.EJ.achievementVo.et,n=t-App.NN.serverSecond;n>0?(e.countTimeLab.text=fvg.GVf("public050",kpd.YW(n)),e.countTimeLab.textColor=Color.TX):(e.countTimeLab.text=fvg.GVf("public035"),e.countTimeLab.textColor=Color.HE,vkG.$r(HUtJ.HEARTBEAT,e.vy,e))},t.prototype.wv=function(){var e=this;if(e.on!=App.EJ.achievementVo.sa)return void e.initData();var t=App.EJ.achievementConfig[4],n=e.gi.g>t?e.gi.g-t:e.gi.g,i=e.gi.sa?App.EJ.achievementConfig[0]:App.EJ.achievementConfig[4];if(e.gradeLab.text=e.gi.g>t?fvg.GVf("achievement9",n):e.gi.g+"",e.oneKeyBtn.icon=UsU.CE()?StaticData.GHj:null,e.elevateImg.visible=e.elevateBtn.visible=e.elevateBtn1.visible=IoG.EZ()||e.gi.sa?!1:!0,e.rl(),e.gi.g>=i)return e.proBar.value=100,e.proLab.text="MAX",void(e.gradeLab.text=e.gi.sa?fvg.GVf("achievement9",i-t):i+"");var r=GeneralCompute.GU(e.gi.g),a=GeneralCompute.GU(e.gi.g+1),o=a-r;e.proBar.value=int(e.gi.cgp/o*100),e.proLab.text=fvg.GVf("public022",e.gi.cgp,o)},t.prototype.sf=function(){return UsU.CE()?void AchievementMsgProxy.WS(2):void msgTip(fvg.GVf("achievement7"))},t.prototype.mk=function(){App.VS.open(10118)},t.prototype.sm=function(){App.VS.popup(KqZ.IT,AchievementElevatePopUI)},t.prototype.od=function(){var e,t=this;t.qp?(t.qp=!1,e=App.EJ.achievementVo.g,t.scroller.viewport.scrollV=e*t.mv,t.scroller.height+t.scroller.viewport.scrollV>=t.scroller.viewport.contentHeight&&(t.scroller.viewport.scrollV=t.scroller.viewport.contentHeight-t.scroller.height<0?0:t.scroller.viewport.contentHeight-t.scroller.height)):e=Math.floor((t.scroller.height+t.scroller.viewport.scrollV)/t.mv);var n=t.tr(e);t.qs(n)},t.prototype.qs=function(e){var t=this,n=XCA.RE("532_"+App.EJ.achievementVo.sc+"_"+e);if(usable(n)){var i=n.split("_");if(i&&!(i.length<2)){for(var r=Nkz.PI(i[0]),a=Nkz.PI(i[1]),o=[],s=[],p=r.length,l=0;p>l;l++){var c=r[l];o.push({info:c,grade:e,type:0,isClick:!1})}t.datas1.replaceAll(o);for(var u=a.length,l=0;u>l;l++){var c=a[l];s.push({info:c,grade:e,type:1,isClick:!1})}t.datas2.replaceAll(s)}}},t.prototype.tr=function(e){var t=this,n=App.OZ.getDataByName(IDU.PK);if(!n||n.length<=0)return 0;for(var i=n.length,r=t.gi.sa?App.EJ.achievementConfig[0]:App.EJ.achievementConfig[4],a=r,o=0;i>o;o++)if(e<n[o]){a=n[o];break}var s=App.EJ.achievementConfig[4],p=Math.min(r,a)>App.EJ.achievementConfig[4]?Math.min(r,a)-App.EJ.achievementConfig[4]:Math.min(r,a);return t.showGradeLab.text=Math.min(r,a)>s?fvg.GVf("achievement9",p):Math.min(r,a)+"",Math.min(r,a)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.getTaskBtn),t.getTaskBtn=null,GObj.$d(t.elevateBtn),t.elevateBtn=null,GObj.$d(t.elevateBtn1),t.elevateBtn1=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.descLab2),t.descLab2=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.showGradeLab),t.showGradeLab=null,GObj.$d(t.countTimeLab),t.countTimeLab=null,GObj.$d(t.elevateImg),t.elevateImg=null,t.qp=!0,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardList&&(t.rewardList.dataProvider=null,GObj.$d(t.rewardList),t.rewardList=null),t.itemDatas=null,t.itemGroup1&&(t.itemGroup1.dataProvider=null,GObj.$d(t.itemGroup1),t.itemGroup1=null),t.datas1=null,t.itemGroup2&&(t.itemGroup2.dataProvider=null,GObj.$d(t.itemGroup2),t.itemGroup2=null),t.datas2=null,t.gi=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(AchievementRewardView.prototype,"AchievementRewardView");var AchievementTaskItem=function(e){function t(){var t=e.call(this)||this;return t.lx=!1,t.skinName=RRUU.$s("AchievementTaskItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ac,e),e.submitBtn.addEventListener(eui.tep,e.jj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ac,e),e.submitBtn.removeEventListener(eui.tep,e.jj,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo&&(e.progressBar.value=100,e.lx=!1,e.data.taskTemplate)){e.taskTitleTxt.text=e.data.taskTemplate.title,e.progressBar.value=e.data.pro/e.data.taskTemplate.maxValue*100,e.progressTxt.text=fvg.GVf("public022",e.data.pro,e.data.taskTemplate.maxValue);XCA.BY(e.data.tid);1==e.data.isComp?e.submitBtn.visible=!1:e.submitBtn.visible=!0,e.data.pro>=e.data.taskTemplate.maxValue?(e.submitBtn.label=fvg.GVf(104),e.submitBtn.icon=StaticData.GHj,e.lx=!0):(e.submitBtn.label=fvg.GVf(103),e.submitBtn.icon=null);var t=XCA.BY(e.data.taskTemplate.tid);t.p2&&(e.taskValue.text=t.p2.toString())}},Object.defineProperty(t.prototype,"canUpgrade",{get:function(){return this.lx},enumerable:!0,configurable:!0}),t.prototype.jj=function(e){var t=this;t.data&&(t.data.pro>=t.data.taskTemplate.maxValue?App.JA.checkIncome(t.cl,t):TaskHelp.VO(t.data.taskTemplate.type,t.data.taskTemplate.tar||1,t.data.taskTemplate.taskType,t.data.taskTemplate.vid))},t.prototype.cl=function(){var e=this;e.data&&(TaskMsgProxy.EJ(e.data.tid),e.data.tid>0&&vkG.$d(UtJ.YUJ,e.data.tid))},t.prototype.ac=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.taskTitleTxt),t.taskTitleTxt=null,GObj.$d(t.submitBtn),t.submitBtn=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.taskValue),t.taskValue=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AchievementTaskItem.prototype,"AchievementTaskItem");var AchievementTaskView=function(e){function t(){var t=e.call(this,"AchievementTaskView")||this;return t.skinName=RRUU.$s("AchievementTaskView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.taskDatas=GObj.$c(eui.ArrayCollection),e.taskList.dataProvider=e.taskDatas,e.taskList.itemRenderer=AchievementTaskItem},t.prototype.initData=function(){this.wz()},t.prototype.initEvent=function(){var e=this;e.elevateBtn.addEventListener(eui.tep,e._q,e),vkG.$a(UtJ._S,e.ds,e),vkG.$a(UtJ.NTG,e.bs,e)},t.prototype.removeEvent=function(){var e=this;e.elevateBtn.removeEventListener(eui.tep,e._q,e),vkG.$r(UtJ._S,e.ds,e),vkG.$r(UtJ.NTG,e.bs,e),vkG.$r(HUtJ.HEARTBEAT,e.uh,e)},t.prototype.wz=function(){var e=this;e.elevateBtn.visible=App.EJ.achievementVo.sa?!1:!IoG.EZ(),e.ds(),e.bj(),e.nc()},t.prototype.nc=function(){var e=this,t=App.EJ.achievementVo.et,n=t-App.NN.serverSecond;return n>0?(vkG.$a(HUtJ.HEARTBEAT,e.uh,e),void e.uh()):(e.countTimeLab.text=fvg.GVf("public035"),e.countTimeLab.textColor=Color.HE,void vkG.$r(HUtJ.HEARTBEAT,e.uh,e))},t.prototype.uh=function(){var e=this,t=App.EJ.achievementVo.et,n=t-App.NN.serverSecond;n>0?(e.countTimeLab.text=fvg.GVf("public050",kpd.YW(n)),e.countTimeLab.textColor=Color.TX):(e.countTimeLab.text=fvg.GVf("public035"),e.countTimeLab.textColor=Color.HE,vkG.$r(HUtJ.HEARTBEAT,e.uh,e))},t.prototype.bj=function(){var e=this,t=App.EJ.achievementVo,n=App.EJ.achievementConfig[4],i=t.g>n?t.g-n:t.g;e.gradeLab.text=t.g>n?fvg.GVf("achievement9",i):t.g+"",e.elevateBtn.visible=t.sa?!1:!IoG.EZ();var r=t.sa?App.EJ.achievementConfig[0]:App.EJ.achievementConfig[4];if(t.g>=r)return e.proBar.value=100,e.proLab.text="MAX",void(e.gradeLab.text=t.sa?fvg.GVf("achievement9",r-n):r+"");var a=GeneralCompute.GU(t.g),o=GeneralCompute.GU(t.g+1),s=o-a;e.proBar.value=int(t.cgp/s*100),e.proLab.text=fvg.GVf("public022",t.cgp,s)},t.prototype._q=function(){App.VS.popup(KqZ.IT,AchievementElevatePopUI)},t.prototype.bs=function(){this.wz()},t.prototype.ds=function(){var e=this,t=App.EJ.taskList;!t||t.length<=0||(t.sort(App.QA.taskCompareFun),e.taskDatas.replaceAll(t),e.taskDatas.refresh())},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.elevateBtn),t.elevateBtn=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.countTimeLab),t.countTimeLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.taskList&&(t.taskList.dataProvider=null,GObj.$d(t.taskList),t.taskList=null),e.prototype.dispose.call(this)},t}(BaseView);__reflect(AchievementTaskView.prototype,"AchievementTaskView");var AllTogetherGiftFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.aboutTxt.textFlow=LgRe.OQ(fvg.GVf("togethergift6")),e.ys=GObj.$c(kQr),e.ys.cwA(e.packsBtn),e.ys.cwA(e.rankBtn),e.ys.cwA(e.aboutBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.ys.addEventListener(egret.Event.CHANGE,t.ew,t),vkG.$a(UtJ.CR,t.lg,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.ys.removeEventListener(egret.Event.CHANGE,t.ew,t),vkG.$r(UtJ.HD,t.kv,t),vkG.$r(UtJ.CR,t.lg,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.oi(),t.ys.selectedIndex=0,FunnyMsgProxy._P([10007]),ziI.PC()},t.prototype.lg=function(){var e=this;e.np=null,e.oi(),e.ew(null)},t.prototype.oi=function(){for(var e=this,t=App.MG.allTogetherGift,n=t.length,i=0;n>i;i++)if(t[i].isExist&&t[i]!=e.np){e.np=t[i];break}e.updateLastTime()},t.prototype.ew=function(e){var t=this;t.lz&&(t.lz.visible=!1),t.aboutTxt.visible=!1,t.lz=null;var n=t.ys.LuO;switch(n){case t.packsBtn:t.iy||(t.iy=GObj.$c(AllTogetherGiftView),t.iy.x=26,t.iy.y=266,t.addChild(t.iy)),t.lz=t.iy;break;case t.rankBtn:t.gt||(t.gt=GObj.$c(AllTogetherGiftRank),t.gt.x=26,t.gt.y=266,t.addChild(t.gt)),t.lz=t.gt;break;case t.aboutBtn:t.aboutTxt.visible=!0}t.lz&&(t.lz.visible=!0,t.lz.ok_h=t.np)},t.prototype.updateLastTime=function(){var e=this;if(e.np){var t=e.np.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.kv,e):vkG.$r(UtJ.HD,e.kv,e),e.kv()}},t.prototype.kv=function(){var e=this;if(!e.destory){var t=e.np.showEnd-App.NN.serverSecond;if(t>0){var n=e.np.endTime-App.NN.serverSecond;n>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(n)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}else App.VS.close(KqZ.RQ),TopToolsBar.instance.updateBtnByType(TopToolsBar.FZ)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.packsBtn),t.packsBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.ys),t.ys=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.iy),t.iy=null,GObj.$d(t.gt),t.gt=null,GObj.$d(t.aboutTxt),t.aboutTxt=null,t.np=null,t.lz=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(AllTogetherGiftFrame.prototype,"AllTogetherGiftFrame");var AllTogetherGiftItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("AllTogetherGiftItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buyBtn.label=fvg.GVf("shop6"),e.priceLab.text=fvg.GVf("packs10"),e.goodsData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.goodsData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.xt,e),e.buyBtn.addEventListener(eui.tep,e.bg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.xt,e),e.buyBtn.removeEventListener(eui.tep,e.bg,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.qy=e.data,e.titleTxt.textFlow=LgRe.OQ(e.qy.bagTitle);var t=e.qy.conditionList[0];t&&(t.p1>0?e.discImg.source="allTogetherGift_json.gift_disc_"+t.p1+"_png":e.discImg.texture=null,e.priceTxt.text=toChars(t.p2)),e.haveGetTxt.text=fvg.GVf("packs1",e.qy.haveGet,e.qy.totalGet),e.goodsData.source.splice(0,e.goodsData.length);for(var n,i=e.qy.rewardList,r=0;r<i.length;r++)n=GObj.$c(nlwj),n.tid=i[r].tempId,n.count=i[r].count,e.goodsData.source.push(n);e.goodsData.refresh()}},t.prototype.bg=function(e){var t=this;if(t.qy){var n=parseInt(t.priceTxt.text)||0,i=t.qy.conditionList[0];if(i)return i.value>t.qy.totalFinish?void MessageTipManager.instance.show(fvg.GVf("togethergift5")):App.KF.point<n?void MessageTipManager.instance.show(fvg.GVf("public017")):t.qy.haveGet>=t.qy.totalGet?void MessageTipManager.instance.show(fvg.GVf("34")):void FunnyMsgProxy.LR(t.qy.id)}},t.prototype.xt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.haveGetTxt),t.haveGetTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.discImg),t.discImg=null,GObj.$d(t.priceLab),t.priceLab=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.goodsData=null,t.qy=null,e.prototype.dispose.call(this)
},t}(BaseItemRenderer);__reflect(AllTogetherGiftItem.prototype,"AllTogetherGiftItem");var AllTogetherGiftRank=function(e){function t(){var t=e.call(this,"AllTogetherGiftRank")||this,n=RRUU.$s("AllTogetherGiftRankSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rankLab.text=fvg.GVf("public061"),e.rewardLab.text=fvg.GVf("107"),e.ranksData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.ranksData,e.itemGroup.itemRenderer=AllTogetherGiftRankItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.ZGT,e.jf,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ZGT,e.jf,e),vkG.$r(UtJ.HD,e.ye,e)},t.prototype.initData=function(){},t.prototype.jf=function(e){var t=this;e==FDG.GG&&t.dq&&(t.jq=App.PV.getGeneralRankByType(FDG.GG,t.dq.id),t.ca())},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.ok_h},set:function(e){var t=this;e&&t.dq!=e&&(t.dq=e,t.jq=App.PV.getGeneralRankByType(FDG.GG,t.dq.id),App.PV.needRefreshByRank(t.jq)||App.PV.needRefreshByFunny(t.dq)?(t.jq&&(t.jq.rtime=GApp.timer),RankMsgProxy.EI(FDG.GG)):t.ca())},enumerable:!0,configurable:!0}),t.prototype.ca=function(){var e=this;if(e.CSo&&e.jq){vkG.$a(UtJ.HD,e.ye,e),e.ranksData.source.splice(0,e.ranksData.length);for(var t=e.jq.rank.length,n=0;t>n;n++)e.ranksData.source.push(e.jq.rank[n]);e.ranksData.refresh();var i=(e.jq.utime||0)>=e.dq.endTime?e.dq.endTime:e.jq.utime;e.updateTxt.text=fvg.GVf("togethergift7",kpd.formatDateBySec(i||0)),e.am()}},t.prototype.am=function(){var e=this;if(e.rankTxt_1.text=e.rankTxt_2.text="",e.nameTxt_1.text=e.nameTxt_2.text="",e.assetTxt_1.text=e.assetTxt_2.text="",e.jq){var t=e.ep(e.ranksData.source);if(1==t){e.rankTxt_1.text=fvg.GVf("38")+t,e.nameTxt_1.text=App.KF.name,e.assetTxt_1.text=fvg.GVf("togethergift8",e.jq.myscore||0);var n=e.ranksData.source[1];n&&(e.rankTxt_2.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_2.text=n.name||fvg.GVf("rank10"),e.assetTxt_2.text=fvg.GVf("togethergift8",n.score||0))}else if(t>1&&50>=t){e.rankTxt_2.text=fvg.GVf("38")+t,e.nameTxt_2.text=App.KF.name,e.assetTxt_2.text=fvg.GVf("togethergift8",e.jq.myscore||0);var n=e.ranksData.source[t-2];n&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_1.text=n.name,e.assetTxt_1.text=fvg.GVf("togethergift8",n.score||0))}else{e.rankTxt_2.text=fvg.GVf("38")+fvg.GVf("public042"),e.nameTxt_2.text=App.KF.name||fvg.GVf("rank10"),e.assetTxt_2.text=fvg.GVf("togethergift8",e.jq.myscore||0);var n=e.ranksData.source[e.ranksData.length-1];n&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_1.text=n.name||fvg.GVf("rank10"),e.assetTxt_1.text=fvg.GVf("togethergift8",n.score||0))}}},t.prototype.ep=function(e){if(!e||0==e.length)return 0;for(var t,n=e.length,i=0;n>i;i++)if(t=e[i],t.name==App.KF.name)return t.rank;return 0},t.prototype.ye=function(){var e=this;e.jq&&!e.destory&&App.PV.needRefreshByRank(e.jq)&&(e.jq.rtime=GApp.timer,RankMsgProxy.EI(FDG.GG))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scrollBar&&(t.scrollBar.stopAnimation(),t.scrollBar.viewport=null,GObj.$d(t.scrollBar)),t.scrollBar=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.updateTxt),t.updateTxt=null,GObj.$d(t.rankTxt_1),t.rankTxt_1=null,GObj.$d(t.rankTxt_2),t.rankTxt_2=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.assetTxt_1),t.assetTxt_1=null,GObj.$d(t.assetTxt_2),t.assetTxt_2=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.jq=null,t.ranksData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(AllTogetherGiftRank.prototype,"AllTogetherGiftRank");var AllTogetherGiftRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("AllTogetherGiftRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.goodsData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fl,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.jp=e.data,e.nameTxt.text=e.jp.name||fvg.GVf("rank10"),e.rankTxt.text=toChars(e.itemIndex+1);var t=e.itemIndex+1<=3;e.rankTxt.visible=!t,e.rankImg.visible=t,e.rankImg.source=t?"core_json.core_rank_"+toChars(e.itemIndex+1)+"_png":"",e.assetTxt.text=fvg.GVf("togethergift8",e.jp.score||0),e.goodsData.source.splice(0,e.goodsData.length);for(var n,i=e.jp.award||[],r=0;r<i.length;r++)n=GObj.$c(nlwj),n.tid=i[r].tid,n.count=i[r].count,e.goodsData.source.push(n);e.goodsData.refresh()}},t.prototype.fl=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.assetTxt),t.assetTxt=null,GObj.$d(t.rankImg),t.rankImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.goodsData=null,t.jp=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AllTogetherGiftRankItem.prototype,"AllTogetherGiftRankItem");var AllTogetherGiftView=function(e){function t(){var t=e.call(this,"AllTogetherGiftView")||this,n=RRUU.$s("AllTogetherGiftViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("togethergift4"),e.myWealthLab.text=fvg.GVf("togethergift10"),e.areaWealthLab.text=fvg.GVf("togethergift9"),e.gotoBtn.label=fvg.GVf("funny3"),e.bagData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.bagData,e.itemGroup.itemRenderer=AllTogetherGiftItem},t.prototype.initEvent=function(){var e=this;e.gotoBtn.addEventListener(eui.tep,e.rh,e),vkG.$a(UtJ.PP,e.vs,e)},t.prototype.removeEvent=function(){var e=this;e.gotoBtn.removeEventListener(eui.tep,e.rh,e),vkG.$r(UtJ.PP,e.vs,e)},t.prototype.initData=function(){this.te(!0)},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.ok_h},set:function(e){var t=this;t.tf!=e&&(t.tf=e,t.te(!0))},enumerable:!0,configurable:!0}),t.prototype.te=function(e){var t=this;if(t.CSo&&t.tf){var n=t.tf.bagList;t.bagData.replaceAll(n),e&&t.bagData.refresh(),t.allAssetTxt.text=toChars(n[0].totalFinish||0),t.myAssetTxt.text=toChars(n[0].haveFinish||0)}},t.prototype.vs=function(e){this.te(!1)},t.prototype.rh=function(e){App.VS.open(10089)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scrollBar&&(t.scrollBar.stopAnimation(),t.scrollBar.viewport=null,GObj.$d(t.scrollBar)),t.scrollBar=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.allAssetTxt),t.allAssetTxt=null,GObj.$d(t.myAssetTxt),t.myAssetTxt=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,GObj.$d(t.areaWealthLab),t.areaWealthLab=null,GObj.$d(t.myWealthLab),t.myWealthLab=null,t.bagData=null,t.tf=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(AllTogetherGiftView.prototype,"AllTogetherGiftView");var ArenaItemRenderer=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ArenaItemRendererSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.doBtn.label=fvg.GVf(37),e.sweepBtn.label=fvg.GVf("raid7"),e.headImg=GObj.$c(ImageIcon),e.headImg.horizontalCenter=0,e.headImg.verticalCenter=-66,e.backGroup.addChildAt(e.headImg,0),e._numView=GObj.$c(NumberView),e.rankGroup.addChildAt(e._numView,1)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.itemIndex%2==0?(e.backGroup.x=297,e.bgImg.x=233,e.bgImg.scaleX=1,e.bgImg.anchorOffsetX=0):(e.backGroup.x=0,e.bgImg.x=0,e.bgImg.scaleX=-1,e.bgImg.anchorOffsetX=e.bgImg.width);var t=e.data;e.nameLab.text=fvg.GVf(27)+t.name,e.diaLvView&&(GObj.$d(e.diaLvView),e.diaLvView=null),e.capLab.text=fvg.GVf(28)+(t.cap||0).toString();var n=t.heads>0?t.heads:1;e.headImg.source=kLM.JU(1,n),e.headImg.source||(e.headImg.source=kLM.JU(1,1)),e.framehd.source=kLM.ZQ(t.usehf?t.usehf:1),hFO.instance.getNumberView(bRC.PQ,(t.rank||0).toString(),-5,e._numView);var i=App.HB.arenaVo.myRank||0;e.sweepBtn.visible=i<=StaticData.ARENA_SWEEP_RANK&&(t.rank||0)>i,5===e.itemIndex&&fNs.instance.execute(hXS.F_,hXS.RZ,e.doBtn)}},t.prototype.cq=function(e){var t=this;if(App.UY.isCanSwitc()&&t.data){if(t.data.rank==App.HB.arenaVo.myRank)return void App.TT.show(fvg.GVf("arena12"));if(t.data.rank<=3&&App.HB.arenaVo.myRank>10)return void App.TT.show(fvg.GVf("arena10"));var n=App.HB.arenaVo.count||0;if(0>=n)return void App.TT.show(fvg.GVf("arena9"));App.VS.closeAll(),ArenaMsgProxy.DS(t.data.rank||1)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.gz,e),e.doBtn.addEventListener(eui.tep,e.cq,e),e.sweepBtn.addEventListener(eui.tep,e.si,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.gz,e),e.doBtn.removeEventListener(eui.tep,e.cq,e),e.sweepBtn.removeEventListener(eui.tep,e.si,e)},t.prototype.si=function(e){var t=this,n=App.HB.arenaVo;return n.myRank>StaticData.ARENA_SWEEP_RANK||n.myRank>=t.data.rank?void App.TT.show(fvg.GVf("arena15")):n.count<=0?void App.TT.show(fvg.GVf("arena9")):void ArenaMsgProxy.HQ(t.data.rank)},t.prototype.gz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._numView),t._numView=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.doBtn),t.doBtn=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.rankImg1),t.rankImg1=null,GObj.$d(t.rankImg2),t.rankImg2=null,GObj.$d(t.backGroup),t.backGroup=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.sweepBtn),t.sweepBtn=null,GObj.$d(t.diaLvView),t.diaLvView=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ArenaItemRenderer.prototype,"ArenaItemRenderer");var ArenaRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ArenaRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e._itemArr=[]},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data-1;0>t&&(t=0);var n=StaticData.ARENA_BOX_LIST[t],i=StaticData.ARENA_BOX_LIST[t+1]-1;n==i?e.rankLab.text=fvg.GVf("task9",n):e.rankLab.text=fvg.GVf("arena4",n,i);var r=XCA.DG(40,n);if(r){for(var a,o=Nkz.PI(r),s=o.length,p=0;s>p;p++)a=e._itemArr[p],a||(e._itemArr[p]=a=GObj.$c(GoodsItemView)),a.data=o[p],a.x=190+86*p,a.y=2,e.addChild(a);for(s=e._itemArr.length;s>p;p++)a=e._itemArr[p],a&&a.parent&&a.parent.removeChild(a)}}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ar,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ar,e)},t.prototype.ar=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e._itemArr),e._itemArr=null,GObj.$d(e.rankLab),e.rankLab=null,e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(ArenaRankItem.prototype,"ArenaRankItem");var ArenaRankPopUi=function(e){function t(){var t=e.call(this,"ArenaRankPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.HB.arenaVo.myRank||0;e.dayDescLab.text=fvg.GVf("arena3"),e.rankLab.text=fvg.GVf("rank0",!t||t>StaticData.ARENA_MAX_RANK?fvg.GVf("public042"):t.toString()),e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=ArenaRankItem,e.rankTxt.text=fvg.GVf("teamcopy16"),e.rewardTxt.text=fvg.GVf("107"),e.frameGroup.title=fvg.GVf("trehunting02")},t.prototype.initData=function(){var e=this;if(StaticData.ARENA_BOX_LIST){var t=StaticData.ARENA_BOX_LIST.length;if(!(0>=t)){for(var n=1;t>n;n++)e.datas.source.push(n);e.datas.refresh()}}},t.prototype.dd=function(e){GObj.$d(this)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.rewardTxt),t.rewardTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ArenaRankPopUi.prototype,"ArenaRankPopUi");var ArenaView=function(e){function t(){var t=e.call(this,"ArenaView")||this;return t.gl=0,t.cq=0,t.qk=0,t.rn=!0,t.hz=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.headImg=GObj.$c(ImageIcon),e.headImg.x=20,e.headImg.y=630,e.addChildAt(e.headImg,8),e.rankDescLab.text=fvg.GVf(38),e.nameDescLab.text=fvg.GVf(27),e.capDescLab.text=fvg.GVf(28),e.dayDescLab.text=fvg.GVf("arena1"),e.refreshBtn.label=fvg.GVf("arena2"),e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=ArenaItemRenderer},t.prototype.initData=function(){var t=this;ArenaMsgProxy.EY(),e.prototype.initData.call(this);var n=App.XT.getPrivilegeByVipGradeAndType(App.XT.vipInfo.vipGrade,21)||0;t.vipCountLab.text=fvg.GVf("arena5",n),t.gl=StaticData.ARENA_FIGHT_COUNT+n,t.cq=parseInt(XCA.CG(IDU.LV))||0,t.qk=parseInt(XCA.CG(IDU.EL))||0;var i=App.KF.currentHead,r=App.KF.currentFrame;t.headImg.source=kLM.JU(App.KF.sex||1,i,1),t.frameImg.source=kLM.ZQ(r),t.nameLab.text=App.KF.name,t.capLab.text=toChars(App.BG.playerAttrsInfo.cap),t.ei(),t.iz()},t.prototype.iz=function(){this.vipCountLab.visible=!IoG.EZ()},t.prototype.ei=function(){var e=this,t=App.HB.arenaVo,n=null;(!t.count||t.count<=0)&&(n=aKF.QV(aKF.PU)),LgRe.UQ(e.countLab,fvg.GVf("teamcopy32",n,t.count+"/"+e.gl));var i;i=!t.myRank||t.myRank>StaticData.ARENA_MAX_RANK?fvg.GVf("public042"):t.myRank.toString(),e.rankLab.text=i;var r=[];if(t.porson)for(var a=t.porson.length,o=0;a>o;o++)r.push(t.porson[o]);e.rn?(e.datas.source=r,e.datas.refresh(),ClockManager.setTimeout(e.scrollV,this,50)):e.datas.replaceAll(r),r.length>0&&(e.rn=!1)},t.prototype.scrollV=function(){this.itemScroller&&this.itemScroller.viewport&&(this.itemScroller.viewport.contentHeight<=this.height||(this.itemScroller.viewport.validateNow(),this.itemScroller.viewport.scrollV=this.itemScroller.viewport.contentHeight-this.itemScroller.height))},t.prototype.yi=function(e){App.VS.popup(10023,ArenaRankPopUi)},t.prototype.ol=function(e){ArenaMsgProxy.CF()},t.prototype.ss=function(e){},t.prototype.nvu=function(e){App.VS.open(KqZ.QG)},t.prototype.ef=function(e){var t=this,n=App.HB.arenaVo.count||0;if(n>=t.gl)return void App.TT.show(fvg.GVf("arena7"));var i=App.HB.arenaVo.buy||0;return i>=t.cq?void App.TT.show(fvg.GVf("arena8")):void Alert.WK(fvg.GVf(303,t.qk,t.cq-i,t.cq),null,null,t.tn,t)},t.prototype.tn=function(){var e=this;return App.KF.point<e.qk&&IoG.EZ()?void App.TT.show(fvg.GVf("public017")):void(App.BG.isPointEnough(e.qk)&&(App.TT.show(fvg.GVf("campaign2")),ArenaMsgProxy.ZQ()))},t.prototype.initEvent=function(){var e=this;e.boxBtn.addEventListener(eui.tep,e.yi,e),e.refreshBtn.addEventListener(eui.tep,e.ol,e),e.rankBtn.addEventListener(eui.tep,e.nvu,e),e.addBtn.addEventListener(eui.tep,e.ef,e),vkG.$a(UtJ.TR,e.ei,e),vkG.$a(UtJ.YJ,e.iz,e)},t.prototype.removeEvent=function(){var e=this;e.boxBtn.removeEventListener(eui.tep,e.yi,e),e.refreshBtn.removeEventListener(eui.tep,e.ol,e),e.rankBtn.removeEventListener(eui.tep,e.nvu,e),e.addBtn.removeEventListener(eui.tep,e.ef,e),vkG.$r(UtJ.TR,e.ei,e),vkG.$r(UtJ.YJ,e.iz,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.frameImg),t.frameImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ArenaView.prototype,"ArenaView");var CrossArenaDescPopUi=function(e){function t(){return e.call(this,"CrossArenaDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.GY,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(CrossArenaDescPopUi.prototype,"CrossArenaDescPopUi");var CrossArenaFinalsItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaFinalsItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.loseMaskImg.visible=!1,e.gu=GObj.$c(CrossArenaFinalsPlayer),e.gu.x=0,e.gu.isLeft=!0,e.yg=GObj.$c(CrossArenaFinalsPlayer),e.yg.right=0,e.yg.isLeft=!1,e.addChildAt(e.gu,1),e.addChildAt(e.yg,1)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.js,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.js,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.be=e.data,e.gu.player=e.be[0],e.yg.player=e.be[1],e.tm=(fvg.GVf("crossarena33_"+e.be[0].r)||"").split(","),e.groupNameTxt.text=e.tm[e.itemIndex]||"",e.gu.islose?(e.loseMaskImg.visible=!0,e.loseMaskImg.rotation=180):e.yg.islose?(e.loseMaskImg.visible=!0,e.loseMaskImg.rotation=0):e.loseMaskImg.visible=!1)},t.prototype.js=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.groupNameTxt),t.groupNameTxt=null,GObj.$d(t.loseMaskImg),t.loseMaskImg=null,GObj.$d(t.gu),t.gu=null,GObj.$d(t.yg),t.yg=null,t.be=null,t.tm=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaFinalsItem.prototype,"CrossArenaFinalsItem");var CrossArenaFinalsPlayer=function(e){function t(){var t=e.call(this,"CrossArenaFinalsPlayer")||this,n=RRUU.$s("CrossArenaFinalsPlayerSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xc=parseInt(XCA.CG(IDU.ZC)||"0"),e.standBtn.label=fvg.GVf("crossarena22")},t.prototype.initEvent=function(){var e=this;e.standBtn.addEventListener(eui.tep,e.uy,e)},t.prototype.removeEvent=function(){var e=this;e.standBtn.removeEventListener(eui.tep,e.uy,e)},t.prototype.initData=function(){this.kv()},Object.defineProperty(t.prototype,"player",{get:function(){return this.gc},set:function(e){var t=this;t.gc=e,t.kv()},enumerable:!0,configurable:!0}),t.prototype.kv=function(){var e=this;e.allGroup.visible=!!e.gc,e.noPlayerImg.visible=!e.gc,e.CSo&&e.gc&&(e.headIcon.icon=kLM.JU(e.gc.h,e.gc.heads),e.frameImg.source=kLM.ZQ(e.gc.usehf),e.nameTxt.text=e.gc.n,e.stageIcon.source="crossarena_json.crossarena_stage_s"+e.gc.l+"_png",e.standTxt.text=fvg.GVf("crossarena21",e.gc.t),e.rateTxt.text=fvg.GVf("crossarena60")+(e.gc.o/100).toFixed(2),e.rewardTxt.text=fvg.GVf("crossarena59")+toChars(App.HB.crossArenaVo.getStandByUid(e.gc.u)*e.xc),e.winImg.visible=1==e.gc.s,e.uj())},t.prototype.uy=function(e){var t=this;return 0!=t.gc.s?void App.TT.show(fvg.GVf("crossarena31")):App.HB.crossArenaVo.roundSupport?App.KF.point<t.xc?void App.TT.show(fvg.GVf("public017")):void ArenaMsgProxy.SO(t.gc.u,t.gc.g):void App.TT.show(fvg.GVf("crossarena34"))},Object.defineProperty(t.prototype,"islose",{get:function(){var e=this;return e.gc&&2==e.gc.s},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLeft",{set:function(e){var t=this;t._isLeft=e,t.uj()},enumerable:!0,configurable:!0}),t.prototype.uj=function(){var e=this;e.headGroup&&e.infoGroup&&(e._isLeft?(e.headGroup.left=137,e.infoGroup.left=10):(e.headGroup.left=21,e.infoGroup.left=110))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.standTxt),t.standTxt=null,GObj.$d(t.rewardTxt),t.rewardTxt=null,GObj.$d(t.rateTxt),t.rateTxt=null,GObj.$d(t.stageIcon),t.stageIcon=null,GObj.$d(t.standBtn),t.standBtn=null,GObj.$d(t.winImg),t.winImg=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.headGroup),t.headGroup=null,GObj.$d(t.infoGroup),t.infoGroup=null,GObj.$d(t.allGroup),t.allGroup=null,t.gc=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossArenaFinalsPlayer.prototype,"CrossArenaFinalsPlayer");var CrossArenaFinalsRewardPopUi=function(e){function t(){var t=e.call(this,"CrossArenaFinalsRewardPopUi")||this,n=RRUU.$s("CrossArenaFinalsRewardPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("22"),e.descTxt.text=fvg.GVf("crossarena42"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CrossArenaRewardItem,e.groupBtn_1.label=fvg.GVf("crossarena46"),e.groupBtn_2.label=fvg.GVf("crossarena47"),e.groupBtn_3.label=fvg.GVf("crossarena48"),e.rankTxt.text=fvg.GVf("teamcopy16"),e.rewardTxt.text=fvg.GVf("107"),e.ae=GObj.$c(kQr),e.ae.cwA(e.groupBtn_1),e.ae.cwA(e.groupBtn_2),e.ae.cwA(e.groupBtn_3)},t.prototype.initEvent=function(){var e=this;e.ae.addEventListener(egret.Event.CHANGE,e.gg,e)},t.prototype.removeEvent=function(){var e=this;e.ae.removeEventListener(egret.Event.CHANGE,e.gg,e)},t.prototype.initData=function(){this.ae.selectedIndex=0},t.prototype.gg=function(e){var t=this,n=t.ae.selectedIndex+1;t.itemData.source.length=0;for(var i=1;6>i;i++)t.itemData.source.push(n);t.itemData.refresh()},t.prototype.qy=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.groupBtn_1),t.groupBtn_1=null,GObj.$d(t.groupBtn_2),t.groupBtn_2=null,GObj.$d(t.groupBtn_3),t.groupBtn_3=null,GObj.$d(t.ae),t.ae=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.rewardTxt),t.rewardTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossArenaFinalsRewardPopUi.prototype,"CrossArenaFinalsRewardPopUi");var CrossArenaFinalsView=function(e){function t(){var t=e.call(this,"CrossArenaFinalsView")||this,n=RRUU.$s("CrossArenaFinalsViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.enterBtn.label=fvg.GVf("crossarena16"),e.descTxt.text=fvg.GVf("crossarena17"),e.rewardDescTxt.text=fvg.GVf("crossarena41"),e.rewardBtn.label=fvg.GVf("22"),e.groupBtn_1.label=fvg.GVf("crossarena46"),e.groupBtn_2.label=fvg.GVf("crossarena47"),e.groupBtn_3.label=fvg.GVf("crossarena48"),e.nv=GObj.$c(kQr),e.nv.cwA(e.groupBtn_1),e.nv.cwA(e.groupBtn_2),e.nv.cwA(e.groupBtn_3),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CrossArenaFinalsItem},t.prototype.initEvent=function(){var e=this;e.enterBtn.addEventListener(eui.tep,e.ye,e),e.recordBtn.addEventListener(eui.tep,e.xr,e),e.rewardBtn.addEventListener(eui.tep,e.jb,e),e.nv.addEventListener(egret.Event.CHANGE,e.ko,e),vkG.$a(UtJ.EU,e.fu,e)},t.prototype.removeEvent=function(){var e=this;e.enterBtn.removeEventListener(eui.tep,e.ye,e),e.recordBtn.removeEventListener(eui.tep,e.xr,e),e.rewardBtn.removeEventListener(eui.tep,e.jb,e),e.nv.removeEventListener(egret.Event.CHANGE,e.ko,e),vkG.$r(UtJ.EU,e.fu,e)},t.prototype.initData=function(){this.nv.selectedIndex=0},t.prototype.ko=function(e){this.fu(!0)},t.prototype.fu=function(e){var t=this;if(!t.destory){t.scroller&&t.scroller.stopAnimation();for(var n=App.HB.crossArenaVo,i=t.nv.selectedIndex,r=n.group?n.group[i]:null,a=[],o=[],s=r&&r.o?r.o:[],p=0;p<s.length;p++)s[p].g=i+1,s[p].r=r.r,o.push(s[p]),2==o.length&&(a.push(o),o=[]);o.length>0&&a.push(o),t.itemData.replaceAll(a),n.round>=4?t.timeTxt.text=fvg.GVf("crossarena40",kpd.formatDateBySec5(n.ladder_time)):t.timeTxt.text=fvg.GVf("crossarena18",kpd.RZ(n.time)),t.countTxt.text=fvg.GVf("crossarena19",n.roundSupport+"/3"),e?t.itemData.refresh():egret.Tween.get(t).wait(100).call(t.gp,t)}},t.prototype.gp=function(){var e=this;if(egret.Tween.removeTweens(e),!e.destory){var t=e.scroller.viewport.scrollV,n=e.scroller.viewport.contentHeight-e.scroller.height;t>n&&e.itemData.refresh()}},t.prototype.ye=function(e){if(this.yr())return void App.TT.show(fvg.GVf("crossarena39"));var t=App.HB.crossArenaVo;if(3!=t.status)return void App.TT.show(fvg.GVf("crossarena28"));var n=t.getSelfInfo(),i=t.getSelfGroup();if(-1==n||!i)return void App.TT.show(fvg.GVf("crossarena30"));if(i.o&&i.o[n].s>0)return void App.TT.show(fvg.GVf("crossarena31"));var r=n%2==0?n+1:n-1;return i.o[r]?void(App.UY.isCanSwitc(!0)&&(App.HB.crossArenaVo.face=App.KF.uid<i.o[r].u?StaticData.LEFT_FACE:StaticData.RIGHT_FACE,App.VS.closeAll(),App.VS.enterMapOpenUI(StaticData.CROSS_ARENA_MAP_ID,10024,void 0,!1),App.UY.enter(StaticData.CROSS_ARENA_MAP_ID))):void App.TT.show(fvg.GVf("crossarena32"))},t.prototype.yr=function(){var e=App.NN.date,t=3600*e.getHours()+60*e.getMinutes()+e.getSeconds(),n=App.HB.crossArenaVo.finals_time-15;return n>t},t.prototype.xr=function(e){App.VS.popup(10024,CrossArenaRecordPopUi,null,this.nv.selectedIndex+1)},t.prototype.jb=function(e){App.VS.popup(10024,CrossArenaFinalsRewardPopUi)},t.prototype.dispose=function(){var t=this;t.destory||(egret.Tween.removeTweens(t),t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.enterBtn),t.enterBtn=null,GObj.$d(t.rewardDescTxt),t.rewardDescTxt=null,GObj.$d(t.groupBtn_1),t.groupBtn_1=null,GObj.$d(t.groupBtn_2),t.groupBtn_2=null,GObj.$d(t.groupBtn_3),t.groupBtn_3=null,GObj.$d(t.nv),t.nv=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(CrossArenaFinalsView.prototype,"CrossArenaFinalsView");var CrossArenaHistoryItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaHistoryItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.nx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.contentTxt.textFlow=LgRe.OQ(fvg.GVf("crossarena50_"+t.r,t.n,t.a))}},t.prototype.nx=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaHistoryItem.prototype,"CrossArenaHistoryItem");var CrossArenaHistoryPopUi=function(e){function t(){var t=e.call(this,"CrossArenaHistoryPopUi")||this,n=RRUU.$s("CrossArenaHistoryPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt.text=fvg.GVf("martialart21"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CrossArenaHistoryItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=App.HB.crossArenaVo.log,t=e||[];this.itemData.replaceAll(t)},t.prototype.cf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossArenaHistoryPopUi.prototype,"CrossArenaHistoryPopUi");var CrossArenaHomeView=function(e){function t(){var t=e.call(this,"CrossArenaHomeView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("crossarena10"),e.startBtn.label=fvg.GVf("crossarena11"),e.autoBtn.label=fvg.GVf("crossarena45"),e.matchingTxt.text=fvg.GVf("crossarena49"),e.countTxt.text=fvg.GVf("resultharry2"),e.nq=App.HB.crossArenaVo.winCountArr;
for(var t=e.nq.length,n=0;t>n;n++)this["countTxt_"+(n+1)]&&(this["countTxt_"+(n+1)].text=fvg.GVf("crossarena12",e.nq[n]));e.nk=parseInt(e.nq[t-1]),e.boxArr=[],e.getImgArr=[];for(var n=1;4>=n;n++)e.boxArr.push(this["boxBtn_"+n]),e.getImgArr.push(this["getImg_"+n]),e.boxArr[n-1].$autoSelected=!1,e.getImgArr[n-1].visible=!1;e.az=GObj.$c(MeanEffect),e.az.touchEnabled=e.az.touchChildren=!1,e.az.horizontalCenter=3,e.addChild(e.az)},t.prototype.initData=function(){var e=this;e.hv(),e.autoBtn.selected=e.yh?e.yh.autoState:!1,e.ki(),e.yh&&e.yh.autoState&&ClockManager.setTimeout(e.rr,this,3e3)},t.prototype.initEvent=function(){var e=this;if(e.stageRewardBtn.addEventListener(eui.tep,e.ga,e),e.rankBtn.addEventListener(eui.tep,e.bn,e),e.buyCountBtn.addEventListener(eui.tep,e.aj,e),e.startBtn.addEventListener(eui.tep,e.bx,e),e.descBtn.addEventListener(eui.tep,e.mb,e),e.autoBtn.addEventListener(egret.Event.CHANGE,e.zo,e),e.historyBtn.addEventListener(eui.tep,e.cq,e),e.boxArr)for(var t=0;t<e.boxArr.length;t++)e.boxArr[t].addEventListener(eui.tep,e.en,e);vkG.$a(UtJ.PT,e.yb,e),vkG.$a(UtJ.EU,e.hv,e)},t.prototype.removeEvent=function(){var e=this;if(e.stageRewardBtn.removeEventListener(eui.tep,e.ga,e),e.rankBtn.removeEventListener(eui.tep,e.bn,e),e.buyCountBtn.removeEventListener(eui.tep,e.aj,e),e.startBtn.removeEventListener(eui.tep,e.bx,e),e.descBtn.removeEventListener(eui.tep,e.mb,e),e.autoBtn.removeEventListener(egret.Event.CHANGE,e.zo,e),e.historyBtn.removeEventListener(eui.tep,e.cq,e),e.boxArr)for(var t=0;t<e.boxArr.length;t++)e.boxArr[t].removeEventListener(eui.tep,e.en,e);vkG.$r(UtJ.PT,e.yb,e),vkG.$r(UtJ.EU,e.hv,e),vkG.$r(HUtJ.HEARTBEAT,e.ou,e)},t.prototype.ga=function(e){App.VS.popup(10024,CrossArenaStagePopUi)},t.prototype.bn=function(e){App.VS.popup(10024,CrossArenaRankPopUi)},t.prototype.cq=function(e){App.VS.popup(10024,CrossArenaHistoryPopUi)},t.prototype.aj=function(e){var t=this;Alert.WK(fvg.GVf("303",t.yh.buyPoint,t.yh.buy,t.yh.maxBuy),void 0,void 0,t.ak,t)},t.prototype.bx=function(e){this.vw()},t.prototype.vw=function(){var e=this;if(e.yh.matching)return App.TT.show(fvg.GVf("crossarena44")),!1;if(!e.yh.count)return App.TT.show(fvg.GVf("arena9")),!1;if(2==e.yh.tt){e.yh.result=0,e.yh.matching=!0,TaskBar.instance.autoTaskState=!1;var t=GObj.$c(CrossArenaMatchFrame);return t.show(),!0}},t.prototype.ak=function(){var e=this;return e.yh.buy?App.KF.point<e.yh.buyPoint?void App.TT.show(fvg.GVf("public017")):void ArenaMsgProxy.YM():void App.TT.show(fvg.GVf("304"))},t.prototype.en=function(e){var t=this,n=e.currentTarget,i=t.boxArr.indexOf(n);if(i>=0&&!t.getImgArr[i].visible){var r=GObj.$c(BoxPopUi),a=parseInt(t.nq[i]),o=App.HB.crossArenaVo.victory;r.showDetail(48,o,a,a,i+1)}},t.prototype.yb=function(e){var t=this;if(e&&e.indexOf(8)>=0){for(var n=App.BG.stageBoxState[8]||0,i=App.HB.crossArenaVo.victory,r=void 0,a=0;a<t.boxArr.length;a++)r=t.boxArr[a],r.icon=null,0!=(n&1<<a)?(t.getImgArr[a].visible=!0,r.selected=!0):(i>=parseInt(t.nq[a]||"0")?(r.selected=!0,r.icon=StaticData.GHj):r.selected=!1,t.getImgArr[a].visible=!1);t.winCountTxt.text=i+"/"+t.nk,t.winCountProgBar.value=Math.min(100,int(i/t.nk*100))}},t.prototype.hv=function(){var e=this;if(!e.destory){e.yh=App.HB.crossArenaVo;var t=e.yh.stage;e.az.start(gYq.BC+t),e.az.y=-20,e.stageNameTxt.text=fvg.GVf("crossarena9_"+e.yh.stage),e.yh.stage==MaxLevel.CROSS_ARENA_MAX_LEVEL?(e.scoreTxt.text=e.yh.cro1v1_score+"/MAX",e.scoreProgBar.value=100):(e.scoreTxt.text=e.yh.cro1v1_score+"/"+e.yh.targetScore,e.scoreProgBar.value=Math.min(100,int(e.yh.cro1v1_score/e.yh.targetScore*100)));var n=fvg.GVf("teamcopy32",e.yh.count?Color.SE:Color.KA,e.yh.count);e.lastCountTxt.textFlow=LgRe.OQ(n),e.startBtn.icon=e.yh.count&&App.XB.info.fgrade>=5?StaticData.GHj:null,2==e.yh.status?(e.timeTxt.size=26,e.timeTxt.y=622,e.timeTxt.height=22,e.blackImg_1.visible=!0,e.blackImg_2.visible=!1,e.startBtn.visible=!1,e.autoBtn.visible=!1,e.buyCountBtn.visible=!1,e.lastCountTxt.visible=!1,e.timeTxt.text=fvg.GVf("crossarena14"),vkG.$r(HUtJ.HEARTBEAT,e.ou,e)):(vkG.$a(HUtJ.HEARTBEAT,e.ou,e),e.ou()),e.yb([8])}},t.prototype.ou=function(){var e=this;if(!e.destory){var t=e.yh.time-App.NN.serverSecond;0>=t&&(t=0,vkG.$r(HUtJ.HEARTBEAT,e.ou,e)),1==e.yh.tt?(e.autoBtn.visible&&(e.timeTxt.size=26,e.timeTxt.y=623,e.timeTxt.height=22,e.blackImg_1.visible=!0,e.blackImg_2.visible=!1,e.startBtn.visible=!1,e.autoBtn.visible=!1,e.buyCountBtn.visible=!1,e.lastCountTxt.visible=!1,e.yh.autoState=e.autoBtn.selected=!1,e.ki()),e.timeTxt.text=fvg.GVf("crossarena24",kpd.YW(t))):(e.autoBtn.visible||(e.timeTxt.size=16,e.timeTxt.y=704,e.timeTxt.height=16,e.blackImg_1.visible=!1,e.blackImg_2.visible=!0,e.startBtn.visible=!0,e.autoBtn.visible=!0,e.buyCountBtn.visible=!0,e.lastCountTxt.visible=!0,e.ki()),e.timeTxt.text=fvg.GVf("crossarena25",kpd.YW(t)))}},t.prototype.mb=function(e){App.VS.popup(10024,CrossArenaDescPopUi)},t.prototype.zo=function(e){var t=this;t.yh.autoState=t.autoBtn.selected,t.ki(),t.yh.autoState&&ClockManager.setTimeout(t.rr,this,3e3)},t.prototype.rr=function(){var e=this;e.yh&&e.yh.autoState&&(e.vw()||(e.yh.autoState=e.autoBtn.selected=!1,e.ki()))},t.prototype.ki=function(){var e=this;1==e.yh.status&&2==e.yh.tt?(e.startBtn.visible=!e.autoBtn.selected,e.matchingTxt.visible=!e.startBtn.visible):e.startBtn.visible=e.matchingTxt.visible=e.autoBtn.visible=!1},t.prototype.dispose=function(){var t=this;t.CSo&&(t.removeEvent(),t.yh.matching||(t.yh.autoState=!1),GObj.$d(t.az),t.az=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.scoreProgBar),t.scoreProgBar=null,GObj.$d(t.winCountProgBar),t.winCountProgBar=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.winCountTxt),t.winCountTxt=null,GObj.$d(t.countTxt_1),t.countTxt_1=null,GObj.$d(t.countTxt_2),t.countTxt_2=null,GObj.$d(t.countTxt_3),t.countTxt_3=null,GObj.$d(t.countTxt_4),t.countTxt_4=null,GObj.$d(t.lastCountTxt),t.lastCountTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.stageNameTxt),t.stageNameTxt=null,GObj.$d(t.startBtn),t.startBtn=null,GObj.$d(t.buyCountBtn),t.buyCountBtn=null,GObj.$d(t.boxBtn_1),t.boxBtn_1=null,GObj.$d(t.boxBtn_2),t.boxBtn_2=null,GObj.$d(t.boxBtn_3),t.boxBtn_3=null,GObj.$d(t.boxBtn_4),t.boxBtn_4=null,GObj.$d(t.getImg_1),t.getImg_1=null,GObj.$d(t.getImg_2),t.getImg_2=null,GObj.$d(t.getImg_3),t.getImg_3=null,GObj.$d(t.getImg_4),t.getImg_4=null,GObj.$d(t.stageRewardBtn),t.stageRewardBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.autoBtn),t.autoBtn=null,GObj.$d(t.matchingTxt),t.matchingTxt=null,GObj.$d(t.historyBtn),t.historyBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.blackImg_1),t.blackImg_1=null,GObj.$d(t.blackImg_2),t.blackImg_2=null,t.nq=null,t.boxArr=null,t.getImgArr=null,t.yh=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(CrossArenaHomeView.prototype,"CrossArenaHomeView");var CrossArenaMatchFrame=function(e){function t(){var t=e.call(this,"CrossArenaMatchFrame")||this,n=RRUU.$s("CrossArenaMatchFrameSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.nameTxt.alpha=e.headImg.alpha=e.frameImg.alpha=0,e.alpha=0},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.Event.ADDED_TO_STAGE,e.ry,e),vkG.$a(UtJ.ME,e._c,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.Event.ADDED_TO_STAGE,e.ry,e),vkG.$r(UtJ.ME,e._c,e)},t.prototype.initData=function(){ArenaMsgProxy.TU(2)},t.prototype.ry=function(e){var t=this;egret.Tween.get(t).to({alpha:1},200).call(t.kx,t)},t.prototype.kx=function(){var e=this;egret.Tween.removeTweens(e),egret.Tween.get(e).to({alpha:1,y:140},200,egret.Ease.backOut).call(e.o_,e)},t.prototype.o_=function(){var e=this;e.vy=0,egret.Tween.get(e).to({alpha:1},100).call(e.w_,e)},t.prototype.w_=function(){var e=this;e.vy>=5&&e.t_?(e.nameTxt.text=e.t_.name,e.headImg.source=kLM.JU(e.t_.sex,e.t_.head),e.frameImg.source=kLM.ZQ(e.t_.usehf),egret.Tween.get(this,null,null,!0).to({headAlpha:1},100).wait(500).call(e.qk,e)):e.vy>=20?(GObj.$d(e),App.TT.show(fvg.GVf("crossarena26"))):(e.nameTxt.text="S"+(1+int(Math.random()*LoginManager.instance.SERVER_MAX_ID))+"."+Nkz.PT(),e.headImg.source=kLM.JU(1+int(2*Math.random()),1+int(5*Math.random())),e.frameImg.source=kLM.ZQ(1+int(5*Math.random())),egret.Tween.get(this,null,null,!0).to({headAlpha:1},200).wait(100).to({headAlpha:0},200).call(e.w_,e)),e.vy++},t.prototype._c=function(e){this.t_=e},t.prototype.qk=function(){var e=this;App.HB.crossArenaVo.face=App.KF.uid<e.t_.uid?StaticData.LEFT_FACE:StaticData.RIGHT_FACE,App.VS.closeAll(),GObj.$d(e),App.UY.isCanSwitc(!0)&&(App.VS.enterMapOpenUI(StaticData.CROSS_ARENA_MAP_ID,10024,void 0,!1),App.UY.enter(StaticData.CROSS_ARENA_MAP_ID))},Object.defineProperty(t.prototype,"headAlpha",{get:function(){return this.nameTxt.alpha},set:function(e){var t=this;t.nameTxt.alpha=e,t.headImg.alpha=e,t.frameImg.alpha=e},enumerable:!0,configurable:!0}),t.prototype.show=function(){App.FT.addToLayer(this,alvJ.RX,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.nameTxt),egret.Tween.removeTweens(t.headImg),egret.Tween.removeTweens(t.frameImg),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.frameImg),t.frameImg=null,t.t_=null,App.HB.crossArenaVo.matching=!1,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossArenaMatchFrame.prototype,"CrossArenaMatchFrame");var CrossArenaRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.me,e),e.boxBtn.addEventListener(eui.tep,e.lt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.me,e),e.boxBtn.removeEventListener(eui.tep,e.lt,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ml=e.data,e.rankTxt.text=toChars(e.itemIndex+1),e.nameTxt.text=e.ml.name,e.countTxt.text=toChars(e.ml.score);var t=App.HB.crossArenaVo.getStageByScore(e.ml.score||0);e.stageIcon.source="crossarena_json.crossarena_stage_ss"+t+"_png",e.ml.type==FDG.UZ?(e.boxBtn.x=230,e.countTxt.x=140,0==e.itemIndex?(e.appellIcon.source="crossarena_json.crossarena_stage_top_png",e.appellIcon.visible=!0):e.appellIcon.visible=!1):(e.boxBtn.x=355,e.countTxt.x=185,e.appellIcon.visible=!1)}},t.prototype.me=function(e){GObj.$d(this)},t.prototype.lt=function(e){for(var t,n=this,i=int((n.ml.rank-1)/16)+1,r=n.ml.type==FDG.UZ?0:100*i,a=n.itemIndex+1;a>=1&&(t="45_"+(r+a),!XCA.RE(t));a--);var o=GObj.$c(BoxPopUi);o.showDetail(45,1,1,r+a)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.stageIcon),t.stageIcon=null,GObj.$d(t.appellIcon),t.appellIcon=null,t.ml=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaRankItem.prototype,"CrossArenaRankItem");var CrossArenaRankPopUi=function(e){function t(){var t=e.call(this,"CrossArenaRankPopUi")||this;return t.skinName=RRUU.$s("CrossArenaRankPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.serviceBtn.label=fvg.GVf("crossarena1"),e.crosserviceBtn.label=fvg.GVf("crossarena2"),e.lasttimeBtn.label=fvg.GVf("crossarena3"),e.descLab_1.text=fvg.GVf("crossarena4"),e.rankLab.text=fvg.GVf("crossarena58"),e.stageLab.text=fvg.GVf("crossarena6"),e.descTxt_3.text=fvg.GVf("rank10"),e.rankTxt.text=fvg.GVf("public061"),e.countTxt.text=fvg.GVf("martialart110"),e.awardTxt.text=fvg.GVf("martialart104"),e.topTxt.text=fvg.GVf("crossarena54"),e.cz=GObj.$c(kQr),e.cz.cwA(e.serviceBtn),e.cz.cwA(e.crosserviceBtn),e.groupBtn_1.label=fvg.GVf("crossarena46"),e.groupBtn_2.label=fvg.GVf("crossarena47"),e.groupBtn_3.label=fvg.GVf("crossarena48"),e.xy=GObj.$c(kQr),e.xy.cwA(e.groupBtn_1),e.xy.cwA(e.groupBtn_2),e.xy.cwA(e.groupBtn_3),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=CrossArenaRankItem},t.prototype.initEvent=function(){var e=this;e.cz.addEventListener(egret.Event.CHANGE,e.cl,e),e.boxBtn.addEventListener(eui.tep,e.gq,e),e.lasttimeBtn.addEventListener(eui.tep,e.mr,e),e.xy.addEventListener(egret.Event.CHANGE,e.ob,e),vkG.$a(UtJ.TT,e.mu,e)},t.prototype.removeEvent=function(){var e=this;e.cz.removeEventListener(egret.Event.CHANGE,e.cl,e),e.boxBtn.removeEventListener(eui.tep,e.gq,e),e.lasttimeBtn.removeEventListener(eui.tep,e.mr,e),e.xy.removeEventListener(egret.Event.CHANGE,e.ob,e),vkG.$r(UtJ.TT,e.mu,e)},t.prototype.initData=function(){this.cz.selectedIndex=0},t.prototype.pn=function(e){GObj.$d(this)},t.prototype.cl=function(e){var t=this;t.itemScroller&&t.itemScroller.stopAnimation();var n=t.cz.LuO;switch(n){case t.serviceBtn:t.title=fvg.GVf("crossarena1"),t.descLab_2.text=fvg.GVf("crossarena36"),t.awardGroup.visible=!0,t.pointGroup.visible=!0,t.countTxt.x=146,t.awardTxt.x=220,t.rankLab.x=40,t.rankLab.y=577,t.rankingLab.y=577,t.stageLab.x=214,t.stageLab.y=577,t.stageIcon.bottom=88,t.hw=FDG.UZ;break;case t.crosserviceBtn:t.title=fvg.GVf("crossarena2"),t.descLab_2.text=fvg.GVf("crossarena5"),t.awardGroup.visible=!1,t.pointGroup.visible=!1,t.countTxt.x=190,t.awardTxt.x=340,t.rankLab.y=577,t.rankingLab.y=577,t.stageLab.x=214,t.stageLab.y=577,t.stageIcon.bottom=88,t.hw=FDG.BB}if(t.qc(t.hw),t.dx=App.PV.getData(t.hw),!t.dx||GApp.timer-(t.dx.rtime||0)>3e5)t.hw==FDG.UZ?RankMsgProxy.IU(t.hw):ArenaMsgProxy.SW(t.hw);else{if(t.hw==FDG.UZ){t.datas.source.splice(0,t.datas.source.length);for(var i=t.dx.list,r=0;r<i.length;r++)t.datas.source.push(i[r]);t.datas.refresh(),t.descTxt_3.visible=0==t.datas.length,t.rankingLab.text=(t.dx.order||fvg.GVf("public042"))+""}else-1==t.xy.selectedIndex?t.xy.selectedIndex=0:t.ob(null);var a=App.HB.crossArenaVo.stage;t.stageIcon.source="crossarena_json.crossarena_stage_ss"+a+"_png"}},t.prototype.qc=function(e){var t=this;e==FDG.UZ?(t.titleGroup.y=60,t.itemScroller.y=109,t.itemScroller.height=326):(t.titleGroup.y=60,t.itemScroller.y=126,t.itemScroller.height=309),t.groupBtn_1.visible=t.groupBtn_2.visible=t.groupBtn_3.visible=e!=FDG.UZ},t.prototype.mu=function(e){var t=this;e&&e.type==t.hw&&t.cl(null)},t.prototype.ob=function(e){var t=this;if(t.itemScroller&&t.itemScroller.stopAnimation(),t.dx&&t.hw==FDG.BB){var n=16*t.xy.selectedIndex;t.datas.source.length=0;for(var i=t.dx.list,r=n+16,a=n;r>a&&!(a>=i.length);a++)t.datas.source.push(i[a]);if(t.datas.refresh(),t.descTxt_3.visible=0==t.datas.length,t.dx.order>0){var o=int((t.dx.order-1)/16)+1,s=int((t.dx.order-1)%16)+1;t.rankingLab.text=fvg.GVf("crossarena"+(45+o))+"-"+s}else t.rankingLab.text=fvg.GVf("public042")}},t.prototype.gq=function(e){var t=App.HB.crossArenaVo.stage,n=GObj.$c(BoxPopUi);n.showDetail(45,1,1,90+t)},t.prototype.mr=function(e){App.HB.crossArenaVo.period>1?App.VS.openMain(10079):msgTip(fvg.GVf("rank10"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.awardTxt),t.awardTxt=null,t.itemScroller&&(t.itemScroller.viewport=null,t.itemScroller.stopAnimation=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.descLab_1),t.descLab_1=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.stageLab),t.stageLab=null,GObj.$d(t.awardGroup),t.awardGroup=null,GObj.$d(t.awardLab),t.awardLab=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.serviceBtn),t.serviceBtn=null,GObj.$d(t.crosserviceBtn),t.crosserviceBtn=null,GObj.$d(t.lasttimeBtn),t.lasttimeBtn=null,GObj.$d(t.pointGroup),t.pointGroup=null,GObj.$d(t.stageIcon),t.stageIcon=null,GObj.$d(t.descTxt_3),t.descTxt_3=null,GObj.$d(t.titleGroup),t.titleGroup=null,GObj.$d(t.groupBtn_1),t.groupBtn_1=null,GObj.$d(t.groupBtn_2),t.groupBtn_2=null,GObj.$d(t.groupBtn_3),t.groupBtn_3=null,GObj.$d(t.xy),t.xy=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossArenaRankPopUi.prototype,"CrossArenaRankPopUi");var CrossArenaRecordItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaRecordItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.vp,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.vp,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.group,n=e.data.list;e.contentTxt.textFlow=LgRe.OQ(fvg.GVf("crossarena38_"+t+"_"+n[0],n[1],n[2]))}},t.prototype.vp=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaRecordItem.prototype,"CrossArenaRecordItem");var CrossArenaRecordPopUi=function(e){function t(){var t=e.call(this,"CrossArenaRecordPopUi")||this,n=RRUU.$s("CrossArenaRecordPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("martialart21"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CrossArenaRecordItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.OV,e.cz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.OV,e.cz,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ud=e[0],n.initData())},t.prototype.initData=function(){var e=this;if(e.ud){var t=App.HB.crossArenaVo.recordInfo;!t.utime[e.ud]||GApp.timer-t.utime[e.ud]>3e5?ArenaMsgProxy.TU(5,e.ud):e.cz()}},t.prototype.cz=function(){for(var e=this,t=App.HB.crossArenaVo.recordInfo.list[e.ud]||[],n=[],i=0;i<t.length;i++)n.push({group:e.ud,list:t[i]});e.itemData.replaceAll(n)},t.prototype.xo=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossArenaRecordPopUi.prototype,"CrossArenaRecordPopUi");var CrossArenaRewardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaRewardItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.lh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.lh,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.rankTxt.text=fvg.GVf("crossarena43_"+(e.itemIndex+1));var t=XCA.RE("50_"+e.data+"_"+(e.itemIndex+1));e.rewardData.source=Nkz.PI(t),e.rewardData.refresh()}},t.prototype.lh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaRewardItem.prototype,"CrossArenaRewardItem");var CrossArenaStageItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaStageItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.so,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.so,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.rankImg.source="crossarena_json.crossarena_stage_s"+e.data+"_png",e.datas.source.splice(0,e.datas.source.length);for(var t=XCA.DG(45,90+e.data),n=Nkz.PI(t),i=0;i<n.length;i++)e.datas.source[i]=n[i];e.datas.refresh()}},t.prototype.so=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaStageItem.prototype,"CrossArenaStageItem");var CrossArenaStagePopUi=function(e){function t(){var t=e.call(this,"CrossArenaStagePopUi")||this;return t.skinName=RRUU.$s("CrossArenaStagePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("crossarena55"),e.settlementLab.text=fvg.GVf("crossarena7"),e.rankTxt.text=fvg.GVf("teamcopy16"),e.rewardTxt.text=fvg.GVf("107"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=CrossArenaStageItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;e.datas.source.splice(0,e.datas.source.length);for(var t=5;t>=1;t--)e.datas.source.push(t);e.datas.refresh();var n=App.HB.crossArenaVo;e.stageIcon.source="crossarena_json.crossarena_stage_ss"+n.stage+"_png",e.myLab.text=fvg.GVf("crossarena6")+fvg.GVf(n.stage),e.stageIcon.x=e.myLab.x+e.myLab.textWidth+5},t.prototype.ca=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.myLab),t.myLab=null,GObj.$d(t.settlementLab),t.settlementLab=null,GObj.$d(t.stageIcon),t.stageIcon=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.rewardTxt),t.rewardTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossArenaStagePopUi.prototype,"CrossArenaStagePopUi");var CrossArenaTopItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CrossArenaTopItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipGrade=GObj.$c(NumberView),e.vipGrade.x=170,e.vipGrade.y=60,e.nameGroup.addChildAt(e.vipGrade,2)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hg,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.bc=e.data,e.headIcon.icon=kLM.JU(parseInt(e.bc.head),e.bc.heads),e.nameTxt.text=fvg.GVf("public020",e.bc.name),e.gradeTxt.text=fvg.GVf("public013",e.bc.grade),e.capTxt.text=fvg.GVf("public018",e.bc.cap),e.bc.rank<=4?(e.appellIcon.icon=kLM.EF(e.bc.p2||0),e.rankTxt.visible=!1,e.appellIcon.visible=!0):(e.rankTxt.text=toChars(e.itemIndex+2),e.rankTxt.visible=!0,e.appellIcon.visible=!1),e.bc.card?(e.cardImg.source=kLM._Y(e.bc.card),e.cardImg.x=e.nameTxt.x+e.nameTxt.textWidth+3,e.cardImg.visible=!0):e.cardImg.visible=!1,e.bc.ho>0?(e.winCount.label=toChars(e.bc.ho),e.winCount.visible=!0):e.winCount.visible=!1,e.vipImg.visible=e.vipGrade.visible=e.bc.vip>0,hFO.instance.getNumberView(bRC.MI,toChars(e.bc.vip||0),-4,e.vipGrade))},t.prototype.hg=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.appellIcon),t.appellIcon=null,GObj.$d(t.cardImg),t.cardImg=null,GObj.$d(t.winCount),t.winCount=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.rankTxt),t.rankTxt=null,t.bc=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossArenaTopItem.prototype,"CrossArenaTopItem");var CrossArenaTopView=function(e){function t(){var t=e.call(this,"CrossArenaTopView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.historyBtn.label=fvg.GVf("crossarena15"),t.jp=GObj.$c(FigureView),t.jp.x=257,t.jp.y=306,t.jp.scaleX=.8,t.jp.scaleY=.8,t.avatarGroup.addChild(t.jp),t.vipGrade=GObj.$c(NumberView),t.nameGroup.addChild(t.vipGrade),t.datas=GObj.$c(eui.ArrayCollection),t.itemGroup.dataProvider=t.datas,t.itemGroup.itemRenderer=CrossArenaTopItem,t.nc=GObj.$c(MeanEffect),t.nc.touchEnabled=t.nc.touchChildren=!1,t.nc.x=320,t.nc.y=150,t.nc.scaleX=.6,t.nc.scaleY=.6,t.addChild(t.nc)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.historyBtn.addEventListener(eui.tep,t.sf,t),vkG.$a(UtJ.TT,t.gj,t)},t.prototype.removeEvent=function(){var e=this;e.historyBtn.removeEventListener(eui.tep,e.sf,e),vkG.$r(UtJ.TT,e.gj,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.ef=App.PV.getData(FDG.ZF),(!t.ef||GApp.timer-(t.ef.rtime||0)>3e5)&&ArenaMsgProxy.SW(FDG.ZF),t.ij()},t.prototype.gj=function(e){var t=this;e&&e.type==FDG.ZF&&(t.ef=e,t.ij())},t.prototype.sf=function(e){App.VS.popup(10079,CrossArenaRecordPopUi,null,1)},t.prototype.ij=function(){var e=this;if(e.CSo&&e.ef){for(var t=e.ef.list||[],n=0,i=n+4,r=[],a=n;i>a&&!(a>=t.length);a++)r.push(t[a]);var o=r[0];if(o){var s=o.fid,p=o.fgrade;e.nameLab.text=fvg.GVf("public020",o.name);var l=XCA.AQS.UFA(21,1,p);if(l){var c=Nkz.LI(l.p5);e.prestigeLab.text=fvg.GVf("martialart_appell_"+s,p)+c[s||1]}e.cpLab.text=fvg.GVf("public018",o.cap),e.gradeLab.text=fvg.GVf("public013",o.grade),hFO.instance.getNumberView(bRC.MI,toChars(o.vip||0),-4,e.vipGrade),FigureHelps.NW(e.jp,{b:o.b,w:o.w,c:o.c,s:o.head}),e.appellIcon.icon=kLM.EF(StaticData.CROSS_ARENA_TOP_APPELL_ID);var u=o.stage||1;e.nc.start("cross_arena_stage_"+u)}e.nameLab.visible=e.cpLab.visible=e.prestigeLab.visible=e.gradeLab.visible=e.jp.visible=e.nc.visible=!!o,e.appellIcon.visible=!!o,e.vipGrade.visible=e.vipImg.visible=o&&o.vip>0,e.datas.source.length=0;for(var d=1;d<r.length;d++)e.datas.source.push(r[d]);e.datas.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.cpLab),t.cpLab=null,GObj.$d(t.prestigeLab),t.prestigeLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.nc),t.nc=null,GObj.$d(t.appellIcon),t.appellIcon=null,GObj.$d(t.historyBtn),t.historyBtn=null,GObj.$d(t.jp),t.jp=null,GObj.$d(t.nameGroup),t.nameGroup=null,GObj.$d(t.avatarGroup),t.avatarGroup=null,t.ef=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(CrossArenaTopView.prototype,"CrossArenaTopView");var CrossArenaView=function(e){function t(){var t=e.call(this,"CrossArenaView")||this;return t.touchEnabled=!1,t.wq=0,t.initEvent(),t.no(),t}return __extends(t,e),t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.EU,e.uu,e),vkG.$a(HUtJ.HEARTBEAT,e.no,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.EU,e.uu,e),vkG.$r(HUtJ.HEARTBEAT,e.no,e)},t.prototype.no=function(){var e=this;(!e.wq||GApp.timer-e.wq>=6e4)&&(e.wq=GApp.timer,ziI.MF("cross1v1"))},t.prototype.uu=function(){var e=this,t=App.HB.crossArenaVo;t.status!=e.kf&&(GObj.$d(e.mn),e.mn=null,GObj.$d(e.cm),e.cm=null),e.kf=t.status,3==t.status?e.mn||(e.mn=GObj.$c(CrossArenaFinalsView),e.addChild(e.mn)):4==t.status?App.VS.openMain(10079):e.cm||(e.cm=GObj.$c(CrossArenaHomeView),e.addChild(e.cm))},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.cm),e.cm=null,GObj.$d(e.mn),e.mn=null,e.parent&&e.parent.removeChild(e)},t}(BaseView);__reflect(CrossArenaView.prototype,"CrossArenaView");var DirectCrashDescPopUi=function(e){function t(){return e.call(this,"DirectCrashDescPopUi")||this}return __extends(t,e),Object.defineProperty(t.prototype,"skinString",{get:function(){return RRUU.$s("GeneralAboutTwoPopUi")
},enumerable:!0,configurable:!0}),t.prototype.initData=function(){this._aboutType=AboutType.TO,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(DirectCrashDescPopUi.prototype,"DirectCrashDescPopUi");var AuctionFrame=function(e){function t(t){var n=e.call(this,t)||this;return n._o=0,n.mm=0,n.dy=!1,n.fl=!1,n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.auctionDescTxt.text=fvg.GVf("auction2"),t.auctionBtn.label=fvg.GVf("auction3"),t.haveTxt.text=fvg.GVf("auction17"),t.awardLab.text=fvg.GVf("auction21"),t.currentLab.text=fvg.GVf("auction22"),t.haveNumTxt.text=NumberUtil.DB(App.KF.point),t.attrDatas=GObj.$c(eui.ArrayCollection),t.attrDataGroup.itemRenderer=AuctionItemView,t.attrDataGroup.dataProvider=t.attrDatas,t.uj=GObj.$c(AuctionRecordView),t.uj.x=375,t.uj.y=110,t.addChild(t.uj),AuctionMsgProxy.RA()},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.pfc(),t.xd=parseInt(XCA.CG(IDU.MRU)),t.aj()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.attrDataGroup.addEventListener(egret.Event.CHANGE,t.uu,t),t.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.km,t),t.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.qq,t),t.scroller.addEventListener(egret.Event.CHANGE,t.py,t),t.sizeSelector.addEventListener(egret.Event.CHANGE,t.as,t),t.auctionBtn.addEventListener(eui.tep,t.lb,t),t.aboutBtn.addEventListener(eui.tep,t.he,t),vkG.$a(UtJ.HB,t.pfc,t),vkG.$a(UtJ.TW,t.uh,t)},t.prototype.removeEvent=function(){var e=this;e.attrDataGroup.removeEventListener(egret.Event.CHANGE,e.uu,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.km,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qq,e),e.scroller.removeEventListener(egret.Event.CHANGE,e.py,e),e.sizeSelector.removeEventListener(egret.Event.CHANGE,e.as,e),e.auctionBtn.removeEventListener(eui.tep,e.lb,e),e.aboutBtn.removeEventListener(eui.tep,e.he,e),vkG.$r(UtJ.HB,e.pfc,e),vkG.$r(UtJ.TW,e.uh,e)},t.prototype.uh=function(){this.haveNumTxt.text=NumberUtil.DB(App.KF.point)},t.prototype.pfc=function(){var e=this;e.attrDatas.source.length=0;for(var t=0;t<App.XL.goodsList.length;t++){var n=GObj.$c(nlwj);n.tid=App.XL.goodsList[t].item,n.count=App.XL.goodsList[t].num,e.attrDatas.source.push(n)}e.attrDatas.refresh(),e.attrDataGroup.selectedIndex=e._o,e.uu(null)},t.prototype.lb=function(){var e=this;if(0==e.mm)return void MessageTipManager.instance.show(fvg.GVf("auction4"));var t=e.sizeSelector.selectedCount,n=App.XL.goodsList[e.attrDataGroup.selectedIndex].id,i=App.XL.goodsList[e.attrDataGroup.selectedIndex].tid,r=App.KF.point;return t>r?void _JDW.TR(StaticData.TID_POINT_ID):void AuctionMsgProxy.JO(n,t,i)},t.prototype.as=function(e){},t.prototype.he=function(){App.VS.popup(KqZ.BF,GeneralAboutPopUi,null,AboutType.XE)},t.prototype.wz=function(){var e=this,t=e.attrDataGroup.selectedIndex;if(App.XL.goodsList[t]){App.XL.goodsList[t].itype==StaticData.TID_POINT_ID?e.priceImg.source="game_json.gold_png":App.XL.goodsList[t].itype==StaticData.TID_GOODS_27&&(e.priceImg.source="auction_json.auction_ticket_png");var n=App.XL.goodsList[t].min;e.currNameTxt.text=fvg.GVf("auction14",t+1,App.JP.getTurnupNameNoSon(n)),e.haveTxt.visible=!0,e.haveImg.visible=!0,e.haveNumTxt.visible=!0,e.haveNumTxt.text=NumberUtil.DB(App.KF.point);var i=GObj.$c(nlwj);i.tid=App.XL.goodsList[t].item,i.count=App.XL.goodsList[t].num,e.item.data=i,App.XL.notices=App.XL.goodsList[t].name,vkG.$d(UtJ.IJ)}},t.prototype.uu=function(e){var t=this;t.wz();var n=t.attrDataGroup.selectedIndex;if(t._o=n,App.XL.goodsList[n]){var i=App.XL.goodsList[n].sta;if(t.mm=i,i&&0!=i)if(1==i){t.uj.visible=!0,t.sizeSelector.visible=!0,t.auctionBtn.visible=!0,t.awardLab.visible=!1,t.awardOwer.visible=!1,t.haveOfferedTxt.visible=!1,t.myPriceLab.text=fvg.GVf("auction19"),t.myPriceTxt.text="0",t.sizeSelector.maxStep=1e3,t.sizeSelector.minStep=App.XL.goodsList[n].ap,t.sizeSelector.minCount=App.XL.goodsList[n].sp,t.sizeSelector.maxCount=0==App.XL.goodsList[n].mp?Number.MAX_VALUE:App.XL.goodsList[n].mp,t.sizeSelector.selectedCount=App.XL.goodsList[n].sp;var r=t.xd,a=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds();t.timeTxt.text=fvg.GVf("auction24",kpd.YW(r-a)),vkG.$a(HUtJ.HEARTBEAT,t.zx,t)}else if(2==i){t.uj.visible=!0,t.sizeSelector.visible=!1,t.auctionBtn.visible=!1,t.awardLab.visible=!1,t.awardOwer.visible=!1,t.haveOfferedTxt.visible=!0,t.haveOfferedTxt.text=fvg.GVf("auction7"),t.myPriceLab.text=fvg.GVf("auction19"),t.myPriceTxt.text=App.XL.goodsList[n].auctionPrice.toString();var r=t.xd,a=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds();t.timeTxt.text=fvg.GVf("auction24",kpd.YW(r-a)),vkG.$a(HUtJ.HEARTBEAT,t.zx,t)}else 3==i?(t.uj.visible=!0,t.sizeSelector.visible=!1,t.auctionBtn.visible=!1,t.awardLab.visible=!0,t.awardOwer.visible=!0,t.haveOfferedTxt.visible=!0,App.XL.goodsList[n].myprice>0?t.haveOfferedTxt.text=fvg.GVf("auction7"):t.haveOfferedTxt.text=fvg.GVf("auction15"),t.awardOwer.text=App.XL.goodsList[n].person,t.myPriceLab.text=fvg.GVf("auction20"),t.timeTxt.text=fvg.GVf("auction5"),t.myPriceTxt.text=App.XL.goodsList[n].auctionPrice.toString(),vkG.$r(HUtJ.HEARTBEAT,t.zx,t)):4==i?(t.uj.visible=!1,t.sizeSelector.visible=!1,t.auctionBtn.visible=!1,t.awardLab.visible=!0,t.awardOwer.visible=!0,t.haveOfferedTxt.visible=!0,t.haveOfferedTxt.text=fvg.GVf("auction15"),t.awardOwer.text=fvg.GVf("auction11"),t.myPriceLab.text=fvg.GVf("auction20"),t.timeTxt.text=fvg.GVf("auction5"),t.myPriceTxt.text="0",vkG.$r(HUtJ.HEARTBEAT,t.zx,t)):5==i?(t.currNameTxt.text=fvg.GVf("auction14",n+1,App.JP.getTurnupNameNoSon(App.BG.turnupInfo.grade)),t.uj.visible=!0,t.sizeSelector.visible=!1,t.auctionBtn.visible=!1,t.awardLab.visible=!0,t.awardOwer.visible=!0,t.haveOfferedTxt.visible=!0,t.haveOfferedTxt.text=fvg.GVf("auction12"),t.awardOwer.text=fvg.GVf("auction13"),t.myPriceLab.text=fvg.GVf("auction20"),t.timeTxt.text=fvg.GVf("auction5"),t.myPriceTxt.text=fvg.GVf("auction13"),vkG.$r(HUtJ.HEARTBEAT,t.zx,t)):6==i&&(t.currNameTxt.text=fvg.GVf("auction14",n+1,App.JP.getTurnupNameNoSon(App.BG.turnupInfo.grade)),t.uj.visible=!1,t.sizeSelector.visible=!1,t.auctionBtn.visible=!1,t.awardLab.visible=!1,t.awardOwer.visible=!1,t.haveOfferedTxt.visible=!0,t.haveOfferedTxt.text=fvg.GVf("auction16"),t.awardOwer.text=fvg.GVf("auction13"),t.myPriceLab.text=fvg.GVf("auction19"),t.myPriceTxt.text="0",t.timeTxt.text=fvg.GVf("auction5"),vkG.$r(HUtJ.HEARTBEAT,t.zx,t));else t.currNameTxt.text=fvg.GVf("auction14",n+1,App.JP.getTurnupNameNoSon(App.BG.turnupInfo.grade)),t.timeTxt.text=fvg.GVf("auction4"),t.uj.visible=!1,t.sizeSelector.visible=!0,t.auctionBtn.visible=!0,t.awardLab.visible=!1,t.awardOwer.visible=!1,t.haveOfferedTxt.visible=!1,t.myPriceLab.text=fvg.GVf("auction19"),t.myPriceTxt.text="0",t.sizeSelector.maxStep=1e3,t.sizeSelector.minStep=100,t.sizeSelector.minCount=0,t.sizeSelector.maxCount=Number.MAX_VALUE,t.sizeSelector.selectedCount=0,vkG.$r(HUtJ.HEARTBEAT,t.zx,t)}},t.prototype.zx=function(){var e=this;if(!e.destory){var t=e.xd,n=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds();e.timeTxt.text=fvg.GVf("auction24",kpd.YW(t-n)),n>=t&&(e.timeTxt.text=fvg.GVf("auction5"),vkG.$r(HUtJ.HEARTBEAT,e.zx,e))}},t.prototype.aj=function(){var e=this,t=e.scroller;t.viewport.scrollH<=0&&(e.leftBtn.visible=!1,e.rightBtn.visible=!0),t.viewport.scrollH+t.width>=t.viewport.contentWidth},t.prototype.py=function(e){var t=this,n=t.scroller;return n.viewport.scrollH<=0?(t.leftBtn.visible=!1,void(t.leftBtn.icon=null)):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?(t.rightBtn.visible=!1,void(t.rightBtn.icon=null)):void(t.rightBtn.visible=!0))},t.prototype.km=function(e){var t=this;t.dy=!0,App.HA.registeEnterFrame(t.qm,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.ic,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.ic,t)},t.prototype.ic=function(){var e=this;e.jl(null),e.zw(null),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.ic,e),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.ic,e)},t.prototype.jl=function(e){var t=this;t.dy=!1,App.HA.unRegisteEnterFrame(t.qm,t)},t.prototype.qm=function(){var e=this;if(e.dy){var t=e.scroller;if(t.viewport.scrollH<=0)return e.dy=!1,e.leftBtn.visible=!1,void(e.leftBtn.icon=null);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0),t.viewport.scrollH>50}},t.prototype.yk=function(){var e=this;if(e.fl){var t=e.scroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.fl=!1,e.rightBtn.visible=!1,void(e.rightBtn.icon=null);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0),t.viewport.scrollH<=t.viewport.contentWidth}},t.prototype.qq=function(e){var t=this;t.fl=!0,App.HA.registeEnterFrame(t.yk,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.ic,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.ic,t)},t.prototype.zw=function(e){var t=this;t.fl=!1,App.HA.unRegisteEnterFrame(t.yk,t)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.ic(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.attrDatas=null,GObj.$d(t.uj),t.uj=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.auctionDescTxt),t.auctionDescTxt=null,GObj.$d(t.currNameTxt),t.currNameTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.myPriceTxt),t.myPriceTxt=null,GObj.$d(t.sizeSelector),t.sizeSelector=null,GObj.$d(t.awardLab),t.awardLab=null,GObj.$d(t.awardOwer),t.awardOwer=null,GObj.$d(t.myPriceLab),t.myPriceLab=null,GObj.$d(t.priceImg),t.priceImg=null,GObj.$d(t.item),t.item=null,GObj.$d(t.haveOfferedTxt),t.haveOfferedTxt=null,GObj.$d(t.auctionBtn),t.auctionBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.xd),t.xd=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.haveNumTxt),t.haveNumTxt=null,GObj.$d(t.haveImg),t.haveImg=null,GObj.$d(t.currentLab),t.currentLab=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(AuctionFrame.prototype,"AuctionFrame");var AuctionItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("AuctionItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.du,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.du,e)},t.prototype.du=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&(e.item.data=e.data,e.data?e.selectedBg.visible=!0:e.selectedBg.visible=!1,App.XL.goodsList[e.itemIndex])){var t=App.XL.goodsList[e.itemIndex].sta;t&&0!=t?1==t?(e.currStatusTxt.text=fvg.GVf("auction10"),e.currStatusTxt.textColor=Color.TX):2==t?(e.currStatusTxt.text=fvg.GVf("auction7"),e.currStatusTxt.textColor=Color.TX):3==t?(e.currStatusTxt.text=fvg.GVf("auction8"),e.currStatusTxt.textColor=Color.HE):4==t?(e.currStatusTxt.text=fvg.GVf("auction9"),e.currStatusTxt.textColor=Color.XB):5==t?(e.currStatusTxt.text=fvg.GVf("auction12"),e.currStatusTxt.textColor=Color.XB):6==t&&(e.currStatusTxt.text=fvg.GVf("auction16"),e.currStatusTxt.textColor=Color.XB):(e.currStatusTxt.text=fvg.GVf("auction6"),e.currStatusTxt.textColor=Color.XB)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.item),t.item=null,GObj.$d(t.selectedBg),t.selectedBg=null,GObj.$d(t.currStatusTxt),t.currStatusTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AuctionItemView.prototype,"AuctionItemView");var AuctionRecordView=function(e){function t(){var t=e.call(this,"AuctionRecordView")||this;t.vu=3e5,t.ws=130;var n=RRUU.$s("AuctionRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1,e.wo=[],e.hr=[],e.mj=GObj.$c(GeneralRecordView,e.ws),e.ao=GObj.$c(GeneralRecordView,e.ws),e.mj.minHeight=230,e.ao.minHeight=230,e.wo.push(e.mj),e.wo.push(e.ao)},t.prototype.initData=function(){var e=this,t=App.XL.crossTime;!t||GApp.timer-t>e.vu?(AuctionMsgProxy.RA(),e.ks()):e.ks()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.IJ,e.oz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.IJ,e.oz,e),vkG.$r(UtJ.HD,e.yv,e),App.HA.unRegisteEnterFrame2(e.i_,e)},t.prototype.oz=function(){this.ks()},t.prototype.ks=function(){var e=this;if(vkG.$a(UtJ.HD,e.yv,e),!App.XL.notices)return void(e.recordGroup.numChildren>0&&(e.recordGroup.removeChild(e.mj),e.recordGroup.removeChild(e.ao)));e.hr.length=0;for(var t=0;t<App.XL.notices.length;t++){var n=App.XL.notices[t];e.hr.push(fvg.GVf("auction1",n))}e.hr&&(e.mj.setStringRecordData(e.hr),e.ao.setStringRecordData(e.hr),e.mj.y=0,e.ao.y=e.mj.totalHeight,e.recordGroup.addChild(e.mj),e.recordGroup.addChild(e.ao),App.HA.registeEnterFrame2(e.i_,e))},Object.defineProperty(t.prototype,"visible",{set:function(e){this.$visible=!0},enumerable:!0,configurable:!0}),t.prototype.i_=function(){var e=this;if(!e.destory)for(var t=e.wo.length-1;t>=0;t--)e.yk=e.wo[t],e.yk.y--,e.yk.y<=-e.yk.totalHeight-5&&(e.yk=e.wo.splice(t,1)[0],e.yk.y=e.wo[0].y+e.wo[0].totalHeight,e.yk.setStringRecordData(e.hr),e.wo.push(e.yk))},t.prototype.yv=function(){var e=App.XL.crossTime;(!e||GApp.timer-e>this.vu)&&(App.XL.crossTime=GApp.timer,AuctionMsgProxy.RA())},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.mj),t.mj=null,GObj.$d(t.ao),t.ao=null,GObj.$d(t.recordGroup),t.recordGroup=null,GObj.$d(t.hr),t.hr=null,t.wo=null,t.yk=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(AuctionRecordView.prototype,"AuctionRecordView");var BagItemView=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("BagItemViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.selected=!1,e.touchEnabled=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.__clickBagItemHandler,e),e.addEventListener(eui.RFS,e.gu,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.__clickBagItemHandler,e),e.removeEventListener(eui.RFS,e.gu,e)},t.prototype.__clickBagItemHandler=function(e){var t=this;t.data&&App.FK.showGoodsDetails(t.itemView.data)},t.prototype.dataChanged=function(){var e=this;e.CSo&&!e.destory&&(e.data?(e.itemView.data=e.data,e.updateView()):(e.itemView.data=null,e.lp()))},t.prototype.updateView=function(){var e=this,t=e.data,n=t.TSF;t.masterType==Iwrv.CL?(n.step>0?QNV.isSpiritEquipGoods(n.tid)?e.nameTxt.text=fvg.GVf("spirit20",n.step):e.nameTxt.text=App.JP.getTurnupName(n.step):e.nameTxt.text=fvg.GVf("public013",n.needgrade),e.nameTxt.textColor=aKF.DU(aKF.MM),e.itemView.gNlK=!1):(e.nameTxt.text=n.name,e.nameTxt.textColor=aKF.DU(t.quality),e.itemView.gNlK=CanUseBoxTip.NC(t))},t.prototype.lp=function(){this.nameTxt.text=""},t.prototype.gu=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BagItemView.prototype,"BagItemView");var BagView=function(e){function t(){var t=e.call(this,"BagView")||this;return t.ff=[Iwrv.GK,Iwrv.CL,Iwrv.PL,Iwrv.PF],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.smeltingBtn.label=fvg.GVf("smelting24"),e.mergeBtn.label=fvg.GVf("store012"),e.analysisBtn.label=fvg.GVf("smelting13"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=BagItemView},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t._q(),t.st(),t.ez()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.smeltingBtn.addEventListener(eui.tep,t.qi,t),t.addItemBtn.addEventListener(eui.tep,t.gp,t),t.mergeBtn.addEventListener(eui.tep,t.yg,t),t.analysisBtn.addEventListener(eui.tep,t.ip,t),vkG.$a(UtJ.DV,t.ur,t),vkG.$a(UtJ.YJ,t.ez,t)},t.prototype.removeEvent=function(){var e=this;e.smeltingBtn.removeEventListener(eui.tep,e.qi,e),e.addItemBtn.removeEventListener(eui.tep,e.gp,e),e.mergeBtn.removeEventListener(eui.tep,e.yg,e),e.analysisBtn.removeEventListener(eui.tep,e.ip,e),vkG.$r(UtJ.DV,e.ur,e),vkG.$r(UtJ.YJ,e.ez,e)},t.prototype.ez=function(){this.addItemBtn.visible=!IoG.EZ()},t.prototype.dataUpdated=function(){this._q()},t.prototype._q=function(){var e=this;if(e.viewData){var t,n=e.tabType,i=[];switch(e.lineImg.visible=!1,e.hv(),n){case 2:t=Iwrv.CL,i=App.FK.getGoodsListByTypes([Iwrv.CL],1),e.eq(i.length,App.BG.equipBagSize);break;case 4:t=Iwrv.PF,i=App.FK.getGoodsListByTypes([Iwrv.PF],1);break;case 1:t=Iwrv.GK,i=App.FK.getGoodsListByTypes([Iwrv.WO,Iwrv.GK],1),e.us();break;case 3:t=Iwrv.PL,i=App.FK.getGoodsListByTypes([Iwrv.PL],1)}e.datas.replaceAll(e.rt(i,t)),e.datas.refresh()}},t.prototype.hv=function(){var e=this;e.addItemGroup.visible=!1,e.propsGroup.visible=!1,e.itemScroller.height=694},t.prototype.eq=function(e,t){var n=this;n.bagSizeTxt.text=" "+e+"/"+t,n.itemScroller.height=638,n.addItemGroup.visible=!0,n.lineImg.visible=!0},t.prototype.us=function(){var e=this;e.propsGroup.visible=!0,e.itemScroller.height=638,e.lineImg.visible=!0},t.prototype.ur=function(e){var t=this;e&&e.length>0&&t._q(),t.st()},t.prototype.st=function(){var e=this,t=UsU.OX();e.smeltingBtn.icon=t?StaticData.GHj:null,e.mergeBtn.icon=UsU.NL()?StaticData.GHj:""},t.prototype.rt=function(e,t){var n=this;e||(e=[]);var i;switch(t){case Iwrv.CL:i=App.BG.equipBagSize;break;case Iwrv.WO:case Iwrv.GK:i=App.BG.itemBagSize;break;default:i=App.BG.propBagSize}t==Iwrv.PF?e.sort(n.ec):t==Iwrv.GK?e.sort(n.qn):(t=Iwrv.PL)&&e.sort(n.bj);for(var r=[],a=0;i>a;a++)a<e.length?r[a]=e[a]:r[a]=null;return r},t.prototype.ec=function(e,t){return e.goodsGrade>t.goodsGrade?-1:1},t.prototype.qn=function(e,t){return e.masterType>t.masterType?-1:e.masterType<t.masterType?1:e.quality>t.quality?-1:1},t.prototype.bj=function(e,t){return e.quality>t.quality?-1:1},t.prototype.qi=function(e){rRcz.FG()},t.prototype.gp=function(e){App.VS.open(10088)},t.prototype.yg=function(e){rRcz.FG(1)},t.prototype.ip=function(e){rRcz.FG(2)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.mergeBtn),t.mergeBtn=null,GObj.$d(t.analysisBtn),t.analysisBtn=null,GObj.$d(t.propsGroup),t.propsGroup=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BagView.prototype,"BagView");var BankFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.tq=GObj.$c(kQr),e.tq.cwA(e.loginBtn),e.tq.cwA(e.growingBtn);var t=XCA.CG(IDU.FV).split(QycO.PK);e.nj=[];for(var n=0;n<t.length;n++)e.nj.push(t[n].split(QycO.XP))},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.ro(),t.tq.selectedIndex=0},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.tq&&t.tq.addEventListener(egret.Event.CHANGE,t.wk,t),vkG.$a(UtJ.VVN,t.ro,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.tq&&t.tq.removeEventListener(egret.Event.CHANGE,t.wk,t),vkG.$r(UtJ.VVN,t.ro,t)},t.prototype.wk=function(e){var t=this;t.NwP&&(t.NwP.visible=!1),t.NwP=null;var n=t.tq.LuO;switch(n){case t.loginBtn:t.wi||(t.wi=GObj.$c(BankView),t.wi.x=22,t.wi.y=58,t.addChild(t.wi)),t.NwP=t.wi,t.wi.type=19;break;case t.growingBtn:if(!rRcz.SS(12))return void(t.tq.selectedIndex=0);t.wi||(t.wi=GObj.$c(BankView),t.wi.x=38,t.wi.y=175,t.addChild(t.wi)),t.wi.type=20,t.NwP=t.wi}t.NwP&&(t.NwP.visible=!0)},t.prototype.ro=function(){var e,t=this,n=App.CC.bankbuy,i=App.XT.vipInfo.vipGrade,r=App.KF.point,a=!1;if((1&n)>0){for(var o=XCA.CG(IDU.SM),s=o.split(","),p=App.CC.bankgold,l=0;l<s.length;l++)if(App.KF.days>=parseInt(s[l])&&0==(p&1<<l)){a=!0;break}}else e=t.nj[0],parseInt(e[0])<=i&&parseInt(e[1])<=r&&(a=!0);if(t.loginBtn.icon=a?StaticData.GHj:null,a=!1,(2&n)>0){for(var p=App.CC.bankgrow,c=XCA.CG(IDU.EU),s=c.split(","),l=0;l<s.length;l++)if(App.KF.grade>=parseInt(s[l])&&0==(p&1<<l)){a=!0;break}}else e=t.nj[1],parseInt(e[0])<=i&&parseInt(e[1])<=r&&(a=!0);t.growingBtn.icon=a?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.tq),t.tq=null,GObj.$d(t.loginBtn),t.loginBtn=null,GObj.$d(t.growingBtn),t.growingBtn=null,GObj.$d(t.wi),t.wi=null,t.nj=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(BankFrame.prototype,"BankFrame");var BankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("BankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xr=!1,e.receiveBtn.label=fvg.GVf("bankitem004"),e.dataCollection=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.dataCollection,e.item.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&!e.destory&&e.data){var t=e.itemIndex+1;20==e.data.type?(e.gradeTxt.text=fvg.GVf("bankitem002",e.data.condition),e.descTxt.text=fvg.GVf("112",App.KF.grade,e.data.condition),App.KF.grade>=e.data.condition?e.descTxt.textColor=Color.SQ:e.descTxt.textColor=Color.KA):(e.gradeTxt.text=fvg.GVf("bankitem001",e.data.condition),e.descTxt.text=fvg.GVf("112",App.KF.days,e.data.condition),App.KF.days>=e.data.condition?e.descTxt.textColor=Color.SQ:e.descTxt.textColor=Color.KA),e.descTxt.x=e.gradeTxt.width+12,e.dataCollection.source.splice(0,e.dataCollection.source.length);for(var n=XCA.DG(e.data.type,t),i=Nkz.PI(n),r=0;r<i.length;r++)e.dataCollection.source[r]=i[r];e.dataCollection.refresh(),e.xi()}},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.lm,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.gm,e),vkG.$a(UtJ.VVN,e.xi,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.lm,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.gm,e),vkG.$r(UtJ.VVN,e.xi,e)},t.prototype.lm=function(e){var t=this;if(0==App.CC.bankbuy)return void MessageTipManager.instance.show(fvg.GVf("bankitem005"));if(19==t.data.type){if(1==App.CC.bankbuy||3==App.CC.bankbuy){if(!(App.KF.days>=t.data.condition))return void MessageTipManager.instance.show(fvg.GVf("bankitem006"));RewardHallMsgProxy.PP(2,1,t.itemIndex+1)}}else if(2==App.CC.bankbuy||3==App.CC.bankbuy){if(!(App.KF.grade>=t.data.condition))return void MessageTipManager.instance.show(fvg.GVf("bankitem007"));RewardHallMsgProxy.PP(2,2,t.itemIndex+1)}},t.prototype.xi=function(){var e=this;if(e.data){var t,n,i=!1;19==e.data.type?(n=App.CC.bankgold,e.xr=0==(n&1<<e.itemIndex)&&App.KF.days>=e.data.condition,e.xr&&(1&App.CC.bankbuy)>0?(e.receiveBtn.icon=StaticData.GHj,i=!0):e.receiveBtn.icon=null):(n=App.CC.bankgrow,e.xr=0==(n&1<<e.itemIndex)&&App.KF.grade>=e.data.condition,e.xr&&(2&App.CC.bankbuy)>0?(e.receiveBtn.icon=StaticData.GHj,i=!0):e.receiveBtn.icon=null),t=(n&1<<e.itemIndex)>0,e.receiveBtn.visible=!t,e.receiveImg.visible=t}},t.prototype.gm=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receiveImg),t.receiveImg=null,t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.dataCollection=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BankItem.prototype,"BankItem");var BankView=function(e){function t(){var t=e.call(this,"BankGrowingView")||this;return t.skinName=RRUU.$s("BankView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bh=XCA.CG(IDU.FV).split("|"),e.buyBtn.label=fvg.GVf("shop6"),e.datas=GObj.$c(eui.ArrayCollection),e.iconList.dataProvider=e.datas,e.iconList.itemRenderer=BankItem,e.af(),e.vt(),e.yb=App.KB.getUIEffect(gYq.VX),e.buyBtn.groupDisplay.addChild(e.yb)},t.prototype.initData=function(){},Object.defineProperty(t.prototype,"type",{set:function(e){var t=this;t.bw=e,t.af()},enumerable:!0,configurable:!0}),t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.ql,e),vkG.$a(UtJ.VVN,e.vt,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.ql,e),vkG.$r(UtJ.VVN,e.vt,e)},t.prototype.ql=function(e){var t,n=this,i=1;return 19==n.bw?(i=1,t=(n.bh[0]||"").split(",")):(i=2,t=(n.bh[1]||"").split(",")),App.XT.vipInfo.vipGrade<parseInt(t[0]||"0")?void _JDW.TR(StaticData.TID_VIP_SCORE):App.KF.point<parseInt(t[1]||"0")?void MessageTipManager.instance.show(fvg.GVf("bankview002")):void Alert.WK(fvg.GVf("bankview004",t[1]||0),null,null,n.gy,this,[i])},t.prototype.gy=function(e){RewardHallMsgProxy.PP(1,e)},t.prototype.vt=function(){var e,t=this;19==t.bw?1==App.CC.bankbuy||3==App.CC.bankbuy?(t.buyTxt.visible=!1,t.buyBtn.visible=!1,t.hasBuyImg.visible=!0):(t.buyTxt.visible=!0,t.buyBtn.visible=!0,t.hasBuyImg.visible=!1,e=(t.bh[0]||"").split(",")):2==App.CC.bankbuy||3==App.CC.bankbuy?(t.buyTxt.visible=!1,t.buyBtn.visible=!1,t.hasBuyImg.visible=!0):(t.buyTxt.visible=!0,t.buyBtn.visible=!0,t.hasBuyImg.visible=!1,e=(t.bh[1]||"").split(",")),t.buyBtn.visible&&App.XT.vipInfo.vipGrade>=parseInt(e[0]||"0")&&App.KF.point>=parseInt(e[1]||"0")?t.buyBtn.icon=StaticData.GHj:t.buyBtn.icon=null},t.prototype.af=function(){var e=this;if(e.CSo){e.datas.source.splice(0,e.datas.source.length);var t;if(19==e.bw){e.bankBgImg.source="bank_json.bank_point_bg_png",e.buyTxt.text=fvg.GVf("bankview001","SVIP2");var n=XCA.CG(IDU.SM);t=n.split(",")}else{e.bankBgImg.source="bank_json.bank_growing_bg_png",e.buyTxt.text=fvg.GVf("bankview001","SVIP5");var i=XCA.CG(IDU.EU);t=i.split(",")}for(var r=0;r<t.length;r++){var a={};a.condition=t[r],a.type=e.bw,e.datas.source.push(a)}e.datas.refresh(),e.vt()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.yb),t.yb=null,t.iconScroller&&(t.iconScroller.stopAnimation(),t.iconScroller.viewport=null,GObj.$d(t.iconScroller)),t.iconScroller=null,t.iconList&&(t.iconList.dataProvider=null,GObj.$d(t.iconList)),t.iconList=null,t.datas=null,GObj.$d(t.bankBgImg),t.bankBgImg=null,GObj.$d(t.buyTxt),t.buyTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BankView.prototype,"BankView");var BeastImage=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BeastImageSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.bv,e),vkG.$a(UtJ.CF,e.by,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.bv,e),vkG.$r(UtJ.CF,e.by,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.redPointImg.visible=UsU.EV(e.data),e.bx=gLw.IQ(e.data.tid);var t=XCA.FR(parseInt(e.data.cost));e.quaImg.source="beast_json.beast_star_"+(t.qua-3)+"_png";var n=App.JO.beastGradeDict[e.bx]||0,i=Math.floor(n/8);e.seriesLab.text=toChars(i);var r=gLw.IQ(e.data.tid);e.titleBg.icon=kLM.DH(toChars(r)),e.nameTxt.text=e.data.name;var a=(PlayerManager.instance.jkU,0>=n);e.actLab.text=a?e.data.desc:QycO.OK,e.lockImg.visible=e.actbgImg.visible=a}},t.prototype.by=function(){this.dataChanged()},t.prototype.bv=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleBg),t.titleBg=null,GObj.$d(t.seriesLab),t.seriesLab=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.quaImg),t.quaImg=null,t.actLab.text=null,t.bx=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BeastImage.prototype,"BeastImage");var BeastOtherAttrPopUi=function(e){function t(){var t=e.call(this,"BeastOtherAttrPopUi")||this;return t.skinName=RRUU.$s("BeastOtherAttrPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.updateView()},t.prototype.updateView=function(){var e=this;if(e.cy){e.bq=gLw.IQ(e.cy.tid),e.vj=App.JO.beastGradeDict[e.bq]||0,e.nameLab.text=fvg.GVf("beast13");
var t=Math.floor(e.vj/8);t>0&&t<MaxLevel.BEAST_MAX_LEVEL/8?(e.currStageTxt.text=fvg.GVf("beast06",Nkz.QT(t)),e.currActiveTxt.text=fvg.GVf("beast01"),e.currAttrTxt_1.text=AttributeTemplate.KK(e.cy.p4+t),e.nextStageTxt.text=fvg.GVf("beast07",Nkz.QT(t+1)),e.nextActiveTxt.text=fvg.GVf("112",t,t+1),e.nextAttrTxt_1.text=AttributeTemplate.KK(e.cy.p4+t+1),e.nextActiveTxt.x=e.currActiveTxt.x=250):e.vj>=MaxLevel.BEAST_MAX_LEVEL?(e.currStageTxt.text=fvg.GVf("beast06",Nkz.QT(t)),e.currActiveTxt.text=fvg.GVf("beast01"),e.currAttrTxt_1.text=AttributeTemplate.KK(e.cy.p4+t),e.nextStageTxt.text=QycO.OK,e.nextActiveTxt.text=QycO.OK,e.nextAttrTxt_1.text=QycO.OK):(e.currStageTxt.text=fvg.GVf("beast07",Nkz.QT(t+1)),e.currActiveTxt.text=fvg.GVf("112",t,t+1),e.currActiveTxt.textColor=Color.KA,e.currAttrTxt_1.text=AttributeTemplate.KK(e.cy.p4+t+1)),t=t<int(MaxLevel.BEAST_MAX_LEVEL/8)?t+1:t;Math.ceil(t/4)}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.cy=e[0],n.updateView())},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.qs=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.currActiveTxt),t.currActiveTxt=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,t.bq=null,t.vj=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(BeastOtherAttrPopUi.prototype,"BeastOtherAttrPopUi");var BeastUpgradeView=function(e){function t(){var t=e.call(this,"BeastUpgradeView")||this;return t.sl=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nextPreBtn.label=fvg.GVf("beast13"),e.activationBtn.label=fvg.GVf("public008"),e.countDesc.text=fvg.GVf("renown5"),e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=-10,e.addChild(e.fightView),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=BeastImage,e.iconView=GObj.$c(ImageIcon),e.iconbtn.iconGroup.addChild(e.iconView),e.iconView.y=60},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.itemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.__selectedChangeHandler,t),t.itemList.addEventListener(egret.Event.CHANGE,t.qu,t),t.activationBtn.addEventListener(eui.tep,t.km,t),t.iconbtn.addEventListener(eui.tep,t.dj,t),t.nextPreBtn.addEventListener(eui.tep,t.dj,t),vkG.$a(UtJ.CF,t.pe,t),vkG.$a(UtJ.DV,t.si,t)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__selectedChangeHandler,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.qu,e),e.activationBtn.removeEventListener(eui.tep,e.km,e),e.iconbtn.removeEventListener(eui.tep,e.dj,e),e.nextPreBtn.removeEventListener(eui.tep,e.dj,e),vkG.$r(UtJ.CF,e.pe,e),vkG.$r(UtJ.DV,e.si,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.yo(),t.itemList.selectedIndex=0,t.__selectedChangeHandler(null)},t.prototype.__selectedChangeHandler=function(e){var t=this;t.xp=t.itemList.selectedIndex,t.tp=null;var n=t.itemData.source[t.xp];n&&(t.tp=n,t.zq(),t.si(null))},t.prototype.zq=function(){var e=this,t=e.tp.attrid,n=e.tp.p4;e.ya=gLw.IQ(e.tp.tid),e.mq=App.JO.beastGradeDict[e.ya]||0;var i=PlayerManager.instance.jkU;XCA.YV(t+e.mq),XCA.YV(n+int(e.mq/8));e.mq>0?e.activationBtn.label=fvg.GVf("public008"):e.activationBtn.label=fvg.GVf("public012");var r,a,o="",s=gLw.GM(e.tp.tid),p=XCA.YV(t),l=0;if(p){for(r in xxf.UK)a=App.JP.getBeastAttr(s,e.mq,p[r])||0,a>0&&(a=0==e.mq?0:a,o+=fvg.GVf("skill004",xxf.UK[r],a)+"\n",l+=App.JP.getBeastAttr(s,e.mq,p.p1)||0);for(r in xxf.IM)a=App.JP.getBeastAttr(s,e.mq,p[r])||0,a&&(o+=fvg.GVf("skill004",xxf.IM[r],(a/10).toFixed(1)+"%")+"\n")}e.fightView.fightNum=l,e.lab1.textFlow=LgRe.OQ(o.replace("\n","    "));var c=e.mq>=MaxLevel.BEAST_MAX_LEVEL||e.mq<=0;if(e.maxLab.visible=c,e.needLab.visible=!c,e.countDesc.visible=!c,e.needBgimg.visible=!c,e.needImg.visible=!c,e.mq>=MaxLevel.BEAST_MAX_LEVEL?(e.maxLab.text=fvg.GVf("skill006"),e.maxLab.textColor=Color.KA,e.activationBtn.visible=!1):(e.maxLab.text=QycO.OK,e.activationBtn.visible=!0),e.iconView.icon=kLM.SH(e.ya),e.iconbtn.label=e.tp.name+fvg.GVf("skill020",int(e.mq/8)),i.grade<e.tp.needgrade)return e.fightView.fightNum=0,void e.qf();if(e.mq<=0){var u=parseInt(e.tp.cost);e.gw=App.FK.hsx(u),e.sl=1}else e.gw=App.FK.hsx(StaticData.TID_BEAST_ID),e.sl=App.JP.getBeastNeedCount(e.mq);e.needLab.text=fvg.GVf("public022",e.gw,e.sl),e.activationBtn.icon=null,e.gw>=e.sl?(e.needLab.textColor=Color.TX,e.mq<MaxLevel.BEAST_MAX_LEVEL&&(e.activationBtn.icon=StaticData.GHj)):e.needLab.textColor=Color.KA,e.qf(),e.fd()},t.prototype.km=function(e){var t=this;if(t.mq>=MaxLevel.BEAST_MAX_LEVEL)return void MessageTipManager.instance.show(fvg.GVf("skill006"));if(t.gw>=t.sl)SkillMsgProxy.LL(t.ya),t.cg||(t.cg=App.KB.getUIEffect(gYq.FS));else{var n=t.mq>0,i=parseInt(t.tp.cost),r=n?StaticData.TID_BEAST_ID:i;_JDW.TR(r,t.sl-t.gw)}},t.prototype.dj=function(e){var t=this;PlayerManager.instance.jkU;t.mq>0?App.VS.popup(KqZ._A,BeastOtherAttrPopUi,null,t.tp):MessageTipManager.instance.show(fvg.GVf("beast02"))},t.prototype.fd=function(){var e=this,t=e.mq%8;if(0==t)return void e.qf();for(var n=1;t>=n;n++)this["pictureimg"+n]&&(this["pictureimg"+n].source="beast_json.beast_skill_"+n+"_png"),this["line"+n]&&(this["line"+n].source="beast_json.beast_skill_line_"+n+"_png")},t.prototype.qu=function(e){var t=this;egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.itemList);t.itemList.selectedItem;egret.Tween.get(t).wait(200).call(t.tb,t)},t.prototype.tb=function(){var e=this;if(!e.destory){var t=154*Math.floor(e.itemList.selectedIndex/4);t=Math.min(t,Math.max(e.scroller.viewport.contentHeight-e.scroller.height,0)),t!=e.itemList.scrollV&&egret.Tween.get(e.itemList).to({scrollV:t},100)}},t.prototype.qf=function(){var e=this;if(e.mq>=MaxLevel.BEAST_MAX_LEVEL)for(var t=1;t<=MaxLevel.BEAST_MAX_LEVEL/8;t++)this["pictureimg"+t]&&(this["pictureimg"+t].source="beast_json.beast_skill_"+t+"_png"),this["line"+t]&&(this["line"+t].source="beast_json.beast_skill_line_"+t+"_png");else for(var n=1;n<=MaxLevel.BEAST_MAX_LEVEL/8;n++)this["pictureimg"+n]&&(this["pictureimg"+n].source="beast_json.beast_"+n+"_png"),this["line"+n]&&(this["line"+n].source="beast_json.beast_line_"+n+"_png")},t.prototype.yo=function(){var e=this;e.itemData.source.length=0;var t=XCA.AQS.oVs(31);for(var n in t)e.itemData.source.push(t[n][1]);e.itemData.source.sort(e.p_),e.itemData.refresh()},t.prototype.p_=function(e,t){var n=App.JO.beastGradeDict[gLw.IQ(e.tid)]||0,i=App.JO.beastGradeDict[gLw.IQ(t.tid)]||0,r=n>0?-100+e.sort:e.sort,a=i>0?-100+t.sort:t.sort;return a>r?-1:1},t.prototype.pe=function(){var e=this;e.__selectedChangeHandler(null),e.si(null),e.fd()},t.prototype.si=function(e){var t=this;t.tp&&t.mq<MaxLevel.BEAST_MAX_LEVEL?t.gw>=t.sl?t.needLab.textColor=Color.TX:t.needLab.textColor=Color.KA:t.needLab.text=""},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller),t.scroller=null),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.lab1),t.lab1=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.iconbtn),t.iconbtn=null,GObj.$d(t.needBgimg),t.needBgimg=null,GObj.$d(t.needImg),t.needImg=null,GObj.$d(t.needLab),t.needLab=null,GObj.$d(t.nextPreBtn),t.nextPreBtn=null,t.gw=null,t.maxLab=null,t.countDesc=null,t.mq=null,t.sl=null,t.ya=null,t.xp=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BeastUpgradeView.prototype,"BeastUpgradeView");var BeastUpstarItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BeastUpstarItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.io,e),vkG.$a(UtJ.CF,e.wf,e),vkG.$a(UtJ.GK,e.wf,e),vkG.$a(UtJ.DV,e.lj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.io,e),vkG.$r(UtJ.CF,e.wf,e),vkG.$r(UtJ.GK,e.wf,e),vkG.$r(UtJ.DV,e.lj,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.bl=e.data,e.de=gLw.IQ(e.bl.tid);var t=XCA.FR(parseInt(e.bl.cost));e.wm=App.JO.beastStarDict[e.de]||0,e.seriesLab.text=toChars(e.wm),e.titleBg.icon=kLM.DH(toChars(e.de)),e.nameTxt.text=e.data.name,e.quaImg.source="beast_json.beast_star_"+(t.qua-3)+"_png";var n=(App.JO.beastGradeDict[e.de]||0)<=0;if(e.actLab.text=n?e.bl.desc:QycO.OK,e.lockImg.visible=n,e.starImg.visible=!n,e.seriesLab.visible=!n,!n){var i=Math.ceil(e.wm/10);i=Math.max(Math.min(3,i),1),e.starImg.source=kLM.getBigStarPathByType(i+1)}e.redPointImg.visible=UsU.WQ(e.bl)}},t.prototype.wf=function(){this.dataChanged()},t.prototype.lj=function(e){this.dataChanged()},t.prototype.io=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleBg),t.titleBg=null,GObj.$d(t.seriesLab),t.seriesLab=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,t.actLab.text=null,t.de=null,t.bl=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BeastUpstarItem.prototype,"BeastUpstarItem");var BeastUpstarView=function(e){function t(){var t=e.call(this,"BeastUpstarView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._s=e.jd=-1,e.lq=GObj.$c(nlwj),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChild(e.fightView),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=BeastUpstarItem,e.qd=GObj.$c(GeneralStarView),e.qd.maxStar=10,e.qd.open_star_key=[kLM.getBigStarPathByType(2),kLM.getBigStarPathByType(3),kLM.getBigStarPathByType(4),kLM.getBigStarPathByType(5)],e.qd.close_star_key=kLM.ZH(),e.qd.star_width=23,e.qd.gap=-1,e.qd.x=60,e.qd.y=-20,e.upstarGroup.addChild(e.qd),e.speTitleTxt.text=fvg.GVf("beast12"),e.upstarBtn.label=fvg.GVf("store042"),e.onekeyBtn.label=fvg.GVf("beast5"),e.upstageBtn.label=fvg.GVf("beast10"),e.costTxt.text=fvg.GVf("superequipCasting3")},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.wr,e),e.upstarBtn.addEventListener(eui.tep,e.oe,e),e.onekeyBtn.addEventListener(eui.tep,e.ps,e),e.upstageBtn.addEventListener(eui.tep,e._r,e),vkG.$a(UtJ.GK,e.yz,e),vkG.$a(UtJ.CF,e.d_,e),vkG.$a(UtJ.DV,e.nw,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.wr,e),e.upstarBtn.removeEventListener(eui.tep,e.oe,e),e.onekeyBtn.removeEventListener(eui.tep,e.ps,e),e.upstageBtn.removeEventListener(eui.tep,e._r,e),vkG.$r(UtJ.GK,e.yz,e),vkG.$r(UtJ.CF,e.d_,e),vkG.$r(UtJ.DV,e.nw,e)},t.prototype.initData=function(){var e=this;e.bl(),e.itemList.selectedIndex=0,e.wr(null)},t.prototype.bl=function(){var e=this;e.itemData.source.length=0;var t=XCA.AQS.oVs(44);for(var n in t)e.itemData.source.push(t[n][1]);e.itemData.source.sort(e.jx),e.itemData.refresh()},t.prototype.jx=function(e,t){var n=App.JO.beastGradeDict[gLw.IQ(e.tid)]||0,i=App.JO.beastGradeDict[gLw.IQ(t.tid)]||0,r=n>0?-100+e.sort:e.sort,a=i>0?-100+t.sort:t.sort;return a>r?-1:1},t.prototype.wr=function(e){var t=this;t.vt=t.itemList.selectedItem,t.fi=null,t.tq(),t.px()},t.prototype.px=function(){var e=this;e.vt&&(e.pl=gLw.IQ(e.vt.tid),e.qg=App.JO.beastStarDict[e.pl]||0,e.qd.currStar=e.qg,e.mo(),e.lq.tid=parseInt(e.vt.cost),e.wo(),e.pe(),e.mk(),e.jw(),e.co())},t.prototype.wo=function(){var e=this,t=e.vt.attrid+(e.qg||1);e.currAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t,0==e.qg));var n=e.qg>=e.vt.maxgrade;t=e.vt.attrid+e.qg+(n?0:1),e.nextAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t,!1,n))},t.prototype.pe=function(){var e=this,t=Nkz.LI(e.vt.p6);if(t){var n=-1,i=void 0,r=[];for(var a in t)r.push(parseInt(a));r.sort(function(e,t){return t>e?-1:1});for(var o=0;o<r.length;o++)r[o]<=e.qg&&(n=o);i=r[n],i?e.specTxt.text=fvg.GVf("beast3",n+1,t[i]):e.specTxt.text="--",i=r[n+1],i?e.nextSpecTxt.text=fvg.GVf("beast4",i,n+2,t[i]):e.nextSpecTxt.text=fvg.GVf("public014")}},t.prototype.mk=function(){var e=this,t=e.vt.attrid+e.qg,n=XCA.YV(t),i=n?n.p1:0;e.fightView.fightNum=i},t.prototype.jw=function(){var e=this;e.fi||(e.fi=Nkz.LI(e.vt.p5)),e.ny=e.fi[e.qg+1]||0;var t=e.qg>=e.vt.maxgrade;if(e.ny>0&&!t){e.upstageGroup.visible=!0,e.upstarGroup.visible=!1,e.lq.count=e.ny,e.er=App.FK.hsx(parseInt(e.vt.cost)),e.goodsItem.data=e.lq,e.goodsItem.bottomText=fvg.GVf("public022",e.er,e.ny),e.goodsItem.bottomColor=e.er>=e.ny?Color.TX:Color.KA;var n=int((App.JO.beastGradeDict[e.pl]||0)/8),i=int(App.JO.getBeastGradeByStar(e.qg+1)/8);e.upstageBtn.icon=n>=i&&e.er>=e.ny?StaticData.GHj:null,e.needGradeTxt.text=fvg.GVf("beast8",i,n,i),e.needGradeTxt.textColor=n>=i?Color.TX:Color.KA}else{if(e.upstageGroup.visible=!1,e.upstarGroup.visible=!0,e.maxImg.visible=t,e.upstarBtn.visible=e.onekeyBtn.visible=e.consIcon.visible=!t,e.upstarGroup.x=60,t)return e.upstarGroup.x=105,e.progBar.value=100,e.expTxt.text="MAX",e.haveTxt.text="",void(e.qd.currStar=e.qg-1);var r=App.JO.beastStarDict["gp_"+e.pl]||0;e.ny=App.JP.getBeastUpstarNeed(e.vt.p1,e.vt.p2,e.qg),e.expTxt.text=fvg.GVf("public022",r,10*e.ny),e.progBar.value=int(r/(10*e.ny)*100),e.er=App.FK.hsx(StaticData.TID_GOODS_17),e.haveTxt.text=e.er+"/1",e.haveTxt.textColor=e.er>=1?Color.SQ:Color.KA,e.upstarBtn.icon=e.onekeyBtn.icon=e.er>=1&&App.JO.beastGradeDict[e.pl]?StaticData.GHj:null}},t.prototype.co=function(){var e=this;-1!=e.jd&&e.jd==e.pl&&e._s!=e.qg&&App.KB.showEffect(gYq.UQ),e._s=e.qg,e.jd=e.pl},t.prototype.yz=function(){var e=this;e.vt&&(e.px(),e.itemData.itemUpdated(e.vt))},t.prototype.d_=function(){var e=this;e.mo(),e.jw()},t.prototype.mo=function(){var e=this;e.iconBtn.iconGroup.icon=kLM.SH(e.pl);var t=App.JO.beastGradeDict[e.pl]||0;if(t>0){var n=Math.ceil(e.qg/10);n=Math.max(Math.min(3,n),1)}else e.iconBtn.icon=null;var i=int((e.qg-1)/5);e.iconBtn.label=e.vt.name+fvg.GVf("beast11",0>=i?0:i)},t.prototype.nw=function(e){var t=this;t.jw(),t.itemData.itemUpdated(t.vt)},t.prototype.oe=function(e){var t=this;if(t.vt)return(App.JO.beastGradeDict[t.pl]||0)<=0?void App.TT.show(fvg.GVf("beast02")):t.er<=0?void _JDW.TR(StaticData.TID_GOODS_17):void SkillMsgProxy.CD(1,t.pl)},t.prototype.ps=function(e){var t=this;if(t.vt)return(App.JO.beastGradeDict[t.pl]||0)<=0?void App.TT.show(fvg.GVf("beast02")):t.er<=0?void _JDW.TR(StaticData.TID_GOODS_17):void SkillMsgProxy.CD(2,t.pl)},t.prototype._r=function(e){var t=this;if(t.vt){var n=App.JO.getBeastGradeByStar(t.qg+1);return(App.JO.beastGradeDict[t.pl]||0)<n?void App.TT.show(fvg.GVf("beast6",int(n/8))):t.er<t.ny?void _JDW.TR(t.lq.tid):void SkillMsgProxy.VZ(t.pl)}},t.prototype.tq=function(){var e=this;egret.Tween.removeTweens(e),egret.Tween.removeTweens(e.itemList);e.itemList.selectedItem;egret.Tween.get(e).wait(200).call(e.ht,e)},t.prototype.ht=function(){var e=this;if(!e.destory){var t=154*Math.floor(e.itemList.selectedIndex/4);t=Math.min(t,Math.max(e.scroller.viewport.contentHeight-e.scroller.height,0)),t!=e.itemList.scrollV&&egret.Tween.get(e.itemList).to({scrollV:t},100)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fightView),t.fightView=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.qd),t.qd=null,GObj.$d(t.iconBtn.iconGroup),GObj.$d(t.iconBtn),t.iconBtn=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.speTitleTxt),t.speTitleTxt=null,GObj.$d(t.specTxt),t.specTxt=null,GObj.$d(t.nextSpecTxt),t.nextSpecTxt=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.onekeyBtn),t.onekeyBtn=null,GObj.$d(t.upstarGroup),t.upstarGroup=null,GObj.$d(t.costTxt),t.costTxt=null,GObj.$d(t.maxImg),t.maxImg=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.upstageBtn),t.upstageBtn=null,GObj.$d(t.needGradeTxt),t.needGradeTxt=null,GObj.$d(t.upstageGroup),t.upstageGroup=null,t.lq=null,t.vt=null,t.fi=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BeastUpstarView.prototype,"BeastUpstarView");var BeastView=function(e){function t(){var t=e.call(this,"BeastView")||this;return t.skinName=RRUU.$s("BeastView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upgradeBtn.label=fvg.GVf("public008"),e.upstarBtn.label=fvg.GVf("store042"),e.gl=GObj.$c(kQr),e.gl.cwA(e.upgradeBtn),e.gl.cwA(e.upstarBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.gl.addEventListener(egret.Event.CHANGE,t.pl,t),vkG.$a(UtJ.CF,t.rr,t),vkG.$a(UtJ.GK,t.op,t),vkG.$a(UtJ.DV,t.ty,t)},t.prototype.removeEvent=function(){var e=this;e.gl.removeEventListener(egret.Event.CHANGE,e.pl,e),vkG.$r(UtJ.CF,e.rr,e),vkG.$r(UtJ.GK,e.op,e),vkG.$r(UtJ.DV,e.ty,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.gl.selectedIndex=0,t.ty(null)},t.prototype.pl=function(e){var t=this,n=t.gl.LuO;switch(t.hz&&(t.hz.visible=!1),t.hz=null,n){case t.upgradeBtn:t.yh||(t.yh=GObj.$c(BeastUpgradeView),t.yh.x=0,t.yh.y=0,t.addChildAt(t.yh,0)),t.hz=t.yh;break;case t.upstarBtn:t.wgf||(t.wgf=GObj.$c(BeastUpstarView),t.wgf.x=0,t.wgf.y=0,t.addChildAt(t.wgf,0)),t.hz=t.wgf}t.hz&&(t.hz.visible=!0)},t.prototype.rr=function(){this.upgradeBtn.icon=UsU.ED()?StaticData.GHj:null},t.prototype.op=function(){this.upstarBtn.icon=UsU.YGY()?StaticData.GHj:null},t.prototype.ty=function(e){var t=this;t.rr(),t.op()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.gl),t.gl=null,GObj.$d(t.yh),t.yh=null,GObj.$d(t.wgf),t.wgf=null,t.hz=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BeastView.prototype,"BeastView");var BeautyAttributeView=function(e){function t(t){var n=e.call(this)||this;return n.skinName=RRUU.$s("BeautyAttributeViewSkin"),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nameLab.textColor=e.attributeLab.textColor=Color.HQ},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=App.JS.getSkinGrade(e.data.tid),n=AttributeTemplate.getAttrStr(e.data.p4);e.nameLab.text=e.data.name+":",t>0?(e.attributeLab.textColor=Color.TX,e.nameLab.textColor=Color.TX):e.nameLab.textColor=e.attributeLab.textColor=Color.HQ,e.attributeLab.textFlow=LgRe.OQ(n)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.kv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.kv,e)},t.prototype.kv=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.attributeLab),t.attributeLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BeautyAttributeView.prototype,"BeautyAttributeView");var BeautyPillPopUi=function(e){function t(){var t=e.call(this,"BeautyPillPopUi")||this;return t.skinName=RRUU.$s("BeautyPillPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>=3&&(n.jh=e[0],n.pk=e[1],n.hz=e[2],n.df())},t.prototype.initView=function(){var e=this;e.devourdata=GObj.$c(eui.ArrayCollection),e.devourList.dataProvider=e.devourdata,e.devourList.itemRenderer=BeautyPillViewItem;var t=GObj.$c(nlwj);t.tid=e.pk,e.goodsItem.data=t;var n=t.TSF;n&&(e.kx=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(n.qua),e.qualityImg.source="framehd_json.framehd_quality_"+n.qua+"_png"),e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("beauty5")},t.prototype.initData=function(){this.df()},t.prototype.df=function(){var e=this;if(e.CSo&&e.jh){var t=GObj.$c(nlwj);t.tid=e.pk,e.goodsItem.data=t;var n=t.TSF;n&&(e.kx=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(n.qua),e.qualityImg.source="framehd_json.framehd_quality_"+n.qua+"_png");var i,r=App.JS.getRetinueInfoByType(e.jh);if(r&&r.stempDict){for(var a in r.stempDict)i=r.stempDict[a],e.devourdata.source.push(i);e.devourdata.source.sort(App.JS.datasSort),e.devourdata.refresh(),e.an()}}},t.prototype.an=function(){var e=this,t=App.JS.getRetinueInfoByType(e.jh);e.useedLab.text=fvg.GVf("beauty4",t.snum||0,e.hz);var n=App.FK.hsx(e.pk);e.haveLab.text=fvg.GVf("414",n),e.useBtn.icon=t.snum<e.hz&&n>0?StaticData.GHj:null,e.attrsLab.text=LRJ.IG(e.kx,t.snum)},t.prototype.lv=function(){this.an()},t.prototype.jc=function(e){var t=this,n=App.JS.getRetinueInfoByType(t.jh);if(n){if(t.hz<=0)return void App.TT.show(fvg.GVf("beauty11"));if(n.snum>=t.hz)return void App.TT.show(fvg.GVf("fashion24"));var i=App.FK.hsx(t.pk);if(!(i>0))return void _JDW.TR(t.pk);RetinueMsgProxy.CA(t.jh,1),t.an()}},t.prototype.kk=function(){GObj.$d(this)},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.jc,e),vkG.$a(UtJ.BP,e.lv,e)},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.jc,e),vkG.$r(UtJ.BP,e.lv,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,t.scrollerList&&(t.scrollerList.stopAnimation(),t.scrollerList.viewport=null,GObj.$d(t.scrollerList),t.scrollerList=null),t.devourList&&(t.devourList.dataProvider=null,GObj.$d(t.devourList)),t.devourdata=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(BeautyPillPopUi.prototype,"BeautyPillPopUi");var BeautyPillViewItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BeautyPillViewItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nameLab.textColor=e.devourCountLab.textColor=Color.HQ},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=-1;t=App.JS.getSkinGrade(e.data.tid),e.nameLab.text=e.data.name+":",t>0?(e.devourCountLab.textColor=Color.TX,e.nameLab.textColor=Color.TX):e.nameLab.textColor=e.devourCountLab.textColor=Color.HQ,e.devourCountLab.text=fvg.GVf("beauty9",e.data?e.data.p1*(t||1)||0:0)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.cd,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.cd,e)},t.prototype.cd=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.devourCountLab),t.devourCountLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BeautyPillViewItem.prototype,"BeautyPillViewItem");var BeautySkillPopUi=function(e){function t(){var t=e.call(this,"BeautySkillPopUi")||this;return t.skinName=RRUU.$s("BeautySkillPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.activationLab.textColor=Color.TX,e.datae=GObj.$c(eui.ArrayCollection),e.attributeList.dataProvider=e.datae,e.attributeList.itemRenderer=BeautyAttributeView},t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.as=e[0],n.bt(n.as))},t.prototype.bt=function(e){var t=this;if(e==t.as){var n=App.JS.getRetinueInfoByType(t.as);if(n&&n.stempDict){var i,r,a=0,o=0;t.datae.source.length=0;for(var s in n.stempDict)i=n.stempDict[s],i&&i.p4>0&&(r=i.p5,App.JS.getSkinGrade(i.tid)>0&&a++,t.datae.source.push(i));t.datae.source.sort(App.JS.datasSort),t.datae.refresh();var p,l,c=App.BG.playerAttrsInfo,u=parseInt(XCA.CG(IDU.FF))||1e4;if(p=(c.feretime||u)/1e3,l=(c.fereatk||0)/10,usable(r)){var d=r.split(QycO.PK);d&&d.length>=2&&(t.nameLab.text=d[0])}o=t.datae.length,t.activationLab.text=fvg.GVf("beauty8",a,o)}}},t.prototype.zc=function(){GObj.$d(this)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.BP,e.bt,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.BP,e.bt,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.skillimg),t.skillimg=null,GObj.$d(t.activationLab),t.activationLab=null,t.attributeList&&(t.attributeList.dataProvider=null,GObj.$d(t.attributeList)),t.scrollerList&&(t.scrollerList.stopAnimation(),t.scrollerList.viewport=null,GObj.$d(t.scrollerList),t.scrollerList=null),t.as=null,t.datae=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BeautySkillPopUi.prototype,"BeautySkillPopUi");var BeautySkinAttrPopUi=function(e){function t(){var t=e.call(this,"PlayerAttributPopUi")||this;return t.skinName=RRUU.$s("PlayerAttributPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.yr=e[0],n.initData()},t.prototype.initView=function(){var e=this;e.attrDatas=GObj.$c(eui.ArrayCollection),e.title=fvg.GVf("beauty35"),e.attrDataGroup.dataProvider=e.attrDatas,e.attrDataGroup.itemRenderer=PlayerAttributItem},t.prototype.initData=function(){var e=this;if(e.CSo&&e.yr){var t=App.JS.getRetinueInfoByType(32);if(t){var n,i,r=e.yr,a=XCA.YV(r.attrid),o=gLw.IQ(r.tid),s=t.sgradeDict[o]||0,p=xxf.UK;for(n in p){var l=p[n]+":",c=a[n]*s;c>0&&(i=GObj.$c(Object),i.attrName=l,i.attrValue=c.toString(),i.textColor=Color.QO,e.attrDatas.source.push(i))}p=xxf.IM;for(n in p){var u=p[n]+":",c=GMath.toFixed(.1*a[n],1)*s;c>0&&(i=GObj.$c(Object),i.attrName=u,i.attrValue=c+"%",i.textColor=Color.QO,e.attrDatas.source.push(i))}e.attrDatas.refresh()}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.attrScroller&&(t.attrScroller.stopAnimation(),t.attrScroller.viewport=null,GObj.$d(t.attrScroller)),t.attrScroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.yr=null,t.attrDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BeautySkinAttrPopUi.prototype,"BeautySkinAttrPopUi");var BeautySkinItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BeautySkinItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.uq,e),vkG.$a(UtJ.BP,e.vt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.uq,e),vkG.$r(UtJ.BP,e.vt,e)},t.prototype.vt=function(e){var t=this;t.dataChanged(),t.bs()},t.prototype.uq=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=(App.JS.getRetinueInfoByType(e.me),e.data),n=App.JS.getSkinGrade(t.tid);e.lockImg.visible=0>=n;var i=parseInt(t.cost),r=(XCA.FR(i),GObj.$c(nlwj));if(r.tid=i,r.count=0,e.itemView.data=r,e.itemView.showQuality=!1,e.itemView.showEffect=!1,e.qualityImg.source=aKF.LU(t.qua),t.p6){var a=t.p6.split("|");a.length>=2&&t.p2>0&&n>0?(e.desc.text=QycO.OK,e.descImg.visible=!1):a.length>=2&&(e.desc.text=a[2]?a[2]:null,e.descImg.visible=a[2]?!0:!1)}e.bs()}},Object.defineProperty(t.prototype,"immType",{get:function(){return this.me},set:function(e){var t=this;t.me=e,t.bs()},enumerable:!0,configurable:!0}),t.prototype.bs=function(){var e=this;if(e.CSo&&e.data){e.redPointImg.visible=!1;var n=App.JS.getRetinueInfoByType(e.immType);if(n){var i=e.data;if(i){var r=gLw.IQ(i.tid),a=n.sgradeDict[r]||0,o=i.needgp||0,s=App.FK.hsx(parseInt(i.cost))||0;s>0&&0>o&&0>=a?(e.redPointImg.visible=!0,e.lockImg.visible=!0):a>0&&e.lockImg&&(e.lockImg.visible=!1);var p=App.FK.hsx(parseInt(i.cost)),l=App.JP.getBeautyNeedCount(a);p&&p>0&&(e.redPointImg.visible=p>=l&&a<i.maxgrade?!0:!1),t.TE||(e.redPointImg.visible=!1),i.p6&&(n.use==r?(e.usingImg.visible=!0,e.desc.text=QycO.OK,e.descT.visible=!1,e.aclockImg.visible=!1):(e.usingImg.visible=!1,e.descT.visible=!0,i.p2>0&&a>0?(e.descT.text=fvg.GVf("public097",a),e.aclockImg.visible=!0):(e.descT.text=QycO.OK,e.aclockImg.visible=!1)))
}}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.qualityImg),t.qualityImg=null,GObj.$d(t.descT),t.descT=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.usingImg),t.usingImg=null,GObj.$d(t.itemView),t.itemView=null,e.prototype.dispose.call(this)},t.TE=!0,t}(BaseItemRenderer);__reflect(BeautySkinItem.prototype,"BeautySkinItem");var BeautySkinPopUi=function(e){function t(t){var n=e.call(this,"BeautySkinPopUi")||this;return n.ot=!1,n._i=!1,n.skinName=RRUU.$s("BeautySkinPopUi"),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.mm=e[0],n.xi()},t.prototype.initView=function(){var e=this;e.skinDescLab.text=fvg.GVf("beauty3"),e.title=fvg.GVf("beauty27"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=BeautySkinItem,e.x_=GObj.$c(FigureView),e.x_.x=215,e.x_.y=380,e.avatarGroup.addChild(e.x_),e.fightView=GObj.$c(FightView),e.fightView.x=106,e.fightView.y=44,e.addChild(e.fightView),e.hwIcon.showDefault=!0,e.addWearImg.visible=!1,e.hideGroup.visible=!1},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.addEventListener(egret.Event.ADDED,e.eo,e),e.skinBtn.addEventListener(eui.tep,e.nnr,e),e.lockAttrBtn.addEventListener(eui.tep,e.dm,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.fy,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.b_,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.fk,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.nq,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.rm,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.em,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.kd,e),e.hwIcon.addEventListener(eui.tep,e.hv,e),e.addWearImg.addEventListener(eui.tep,e.hv,e),vkG.$a(UtJ.BP,e.al,e),vkG.$a(UtJ.IYL,e.al,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.removeEventListener(egret.Event.ADDED,e.eo,e),e.skinBtn.removeEventListener(eui.tep,e.nnr,e),e.lockAttrBtn.removeEventListener(eui.tep,e.dm,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.fy,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.b_,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.fk,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.nq,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.rm,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.em,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.kd,e),e.hwIcon.removeEventListener(eui.tep,e.hv,e),e.addWearImg.removeEventListener(eui.tep,e.hv,e),vkG.$r(UtJ.BP,e.al,e),vkG.$r(UtJ.IYL,e.al,e)},t.prototype.initData=function(){e.prototype.initData.call(this),BeautySkinItem.TE=!1,this.xi()},t.prototype.dm=function(e){App.VS.popup(10018,BeautySkinAttrPopUi,null,this.yr)},t.prototype.xi=function(){var e=this,t=App.JS.getRetinueInfoByType(e.mm);if(t&&t.stempDict&&e.CSo){e.cb=0;var n;e.datas||(e.datas=GObj.$c(eui.ArrayCollection)),e.itemList.dataProvider=e.datas;for(var i in t.stempDict)if(n=t.stempDict[i]){var r=t.sgradeDict[i]||0,a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0;n.hide>=0&&0>=r&&0>=o||(e.datas.source.push(n),o>0&&0>a&&0>=r&&(e.cb=e.datas.length-1))}e.datas.source.sort(e.ej),e.datas.refresh(),e.datas.length>0&&(e.itemList.selectedIndex=0,e.ob())}},t.prototype.ej=function(e,t){var n=App.JS.checkCanActive(e),i=App.JS.checkCanActive(t);return n&&!i?-1:!n&&i?1:App.JS.datasSort(e,t)},t.prototype.ob=function(){var e=this,t=App.JS.getRetinueInfoByType(e.mm);if(t){var n=e.itemList.selectedItem;if(e.yr=null,n&&(e.yr=n),n){var i=gLw.IQ(n.tid),r=t.sgradeDict[i]||0;if(n.p6){var a=n.p6.split("|");r>0&&t.use!=i?(e.conLab.text=fvg.GVf("beauty16",a[1]?a[1]:null),e.skinBtn.visible=!0):(e.skinBtn.visible=!1,t.sgradeDict[i]?e.conLab.text=QycO.OK:e.conLab.text=fvg.GVf("beauty18",a[0]?a[0]:null))}var o=n.needgp||0,s=App.FK.hsx(parseInt(n.cost))||0;s>0&&0>o&&0>=r&&(e.skinBtn.visible=!1),e.hm=n;var p;if(e.nameLbl.text=n.name,n.p5){var a=n.p5.split(QycO.PK);a&&a.length>=2&&a.length>=3&&(p=a[2])}var l=(App.FK.hsx(parseInt(e.yr.cost)),App.JP.getBeautyNeedCount(r),App.BG.turnupInfo.grade||0,t.sgradeDict[i]||1),c=XCA.YV(n.attrid);e.fightView.fightNum=c.p1*l,e.hx(p),e.ij(i)}}},t.prototype.ij=function(e){var t=this;if(e){var n=App.OX.getHWByBeautySubType(e);if(n&&n[0]>0){var i=XCA.AQS.UFA(63,n[0],1);t.hwIcon.upgradeId=i?i.tid:0,t.addWearImg.visible=!1;var r=XCA.AQS.UFA(64,n[0],1);if(!r)return;var a=GObj.$c(nlwj);if(a.tid=parseInt(r.cost),t.itemIconView.data=a,t.itemNameTxt.text=i.name||fvg.GVf("public030"),i.name){var o=gLw.GM(r.tid);t.itemNameTxt.textColor=aKF.DU(o)}else t.itemNameTxt.textColor=Color.QO}else t.hwIcon.upgradeId=0,t.addWearImg.visible=!0,t.itemIconView.data=null,t.itemNameTxt.text=""}},t.prototype.hx=function(e){var t=this;t.x_&&(t.yo&&t.yo==e||(t.yo=e,t.yo&&(32==t.mm&&(t.x_.x=250,t.x_.y=420),FigureHelps.NW(t.x_,{b:t.yo},!1))))},t.prototype.nnr=function(e){var t=this,n=t.itemList.selectedItem;if(n){var i=gLw.IQ(n.tid);RetinueMsgProxy.EE(t.mm,i),msgTip(fvg.GVf("beauty6"))}},t.prototype.__selectedChangeHandler=function(e){this.ob()},t.prototype.eo=function(e){for(var t,n=this,i=n.itemList.numChildren,r=0;i>r;r++)t=n.itemList.getChildAt(r),t&&(t.immType=n.mm)},t.prototype.js=function(e){GObj.$d(this)},t.prototype.al=function(e){var t=this;e==t.mm&&t.ob()},t.prototype.kd=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.b_=function(e){this.ot=!0},t.prototype.fk=function(e){this.ot=!1},t.prototype.fy=function(){var e=this;if(e.ot){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.ot=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.nq=function(){var e=this;if(e._i){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e._i=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.rm=function(e){this._i=!0},t.prototype.em=function(e){this._i=!1},t.prototype.hv=function(e){this.hwIcon.upgradeId>0||App.VS.open(10045)},t.prototype.dispose=function(){var t=this;t.removeEvent(),BeautySkinItem.TE=!0,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.skinBtn),t.skinBtn=null,GObj.$d(t.conLab),t.conLab=null,GObj.$d(t.skinDescLab),t.skinDescLab=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.nameLbl),t.nameLbl=null,GObj.$d(t.wearBtn),t.wearBtn=null,GObj.$d(t.hwIcon),t.hwIcon=null,GObj.$d(t.addWearImg),t.addWearImg=null,GObj.$d(t.itemIconView),t.itemIconView=null,GObj.$d(t.itemNameTxt),t.itemNameTxt=null,t.yr=null,GObj.$d(t.x_),t.x_=null,t.hm=null,t.yo=null,t.mm=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BeautySkinPopUi.prototype,"BeautySkinPopUi");var BeautySkinUpView=function(e){function t(){var t=e.call(this,"BeautySkinUpView")||this;return t.oy=!1,t.srf=!1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vu=0,e.doUpBtn.label=fvg.GVf("public098"),e.doTBtn.label=fvg.GVf("beauty10"),e.needTxt.text=fvg.GVf("hw12"),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChildAt(e.fightView,3),e.he=GObj.$c(FigureView),e.he.x=225,e.he.y=340,e.addChildAt(e.he,2),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=BeautySkinItem,e.curAttrData=GObj.$c(eui.ArrayCollection),e.curAttrGroup.dataProvider=e.curAttrData,e.curAttrGroup.itemRendererSkinName=RRUU.$s("BeautySkinUpFrameSkin"),e.nextAttrData=GObj.$c(eui.ArrayCollection),e.nextAttrGroup.dataProvider=e.nextAttrData,e.nextAttrGroup.itemRendererSkinName=RRUU.$s("BeautySkinUpFrameSkin"),e.uv=GObj.$c(GeneralStarView),e.uv.maxStar=10,e.uv.open_star_key=kLM.NZ(),e.uv.close_star_key=kLM.ZH(),e.uv.star_width=32,e.uv.x=90,e.uv.y=574,e.addChild(e.uv)},t.prototype.initData=function(){var e=this;e.zw(),e.cp()},t.prototype.initEvent=function(){var e=this;e.showBtn.addEventListener(eui.tep,e.bs,e),e.doTBtn.addEventListener(eui.tep,e.qe,e),e.doUpBtn.addEventListener(eui.tep,e.ym,e),e.skinBtn.addEventListener(eui.tep,e.bq,e),e.itemList.addEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.addEventListener(egret.Event.ADDED,e.ah,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.gs,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.aq,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ca,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.pg,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.dp,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.kl,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.mh,e),vkG.$a(UtJ.BP,e.dk,e)},t.prototype.removeEvent=function(){var e=this;e.showBtn.removeEventListener(eui.tep,e.bs,e),e.doTBtn.removeEventListener(eui.tep,e.qe,e),e.doUpBtn.removeEventListener(eui.tep,e.ym,e),e.skinBtn.removeEventListener(eui.tep,e.bq,e),e.itemList.removeEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.removeEventListener(egret.Event.ADDED,e.ah,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.gs,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.aq,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ca,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.pg,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.dp,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.kl,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.mh,e),vkG.$r(UtJ.BP,e.dk,e)},t.prototype.cp=function(){var e=this;if(e.CSo&&e.uh){FigureHelps.NW(e.he,{b:e.sx},!1);var t=(gLw.GM(e.uh.tid),parseInt(e.uh.cost)),n=XCA.FR(t);toChars(n.icon);e.hm=gLw.IQ(e.uh.tid);var i=GObj.$c(nlwj);i.tid=parseInt(e.uh.cost),e.needIcon.data=i,e.dk()}},t.prototype.bq=function(e){var t=this.itemList.selectedItem;if(t){var n=gLw.IQ(t.tid);RetinueMsgProxy.EE(32,n),msgTip(fvg.GVf("beauty6"))}},t.prototype.dk=function(){var e=this,t=App.JS.getRetinueInfoByType(32),n=gLw.IQ(e.uh.tid);e.ys=t.sgradeDict[n]||0;var i=App.FK.hsx(parseInt(e.uh.cost)),r=App.JP.getBeautyNeedCount(e.ys);e.doUpBtn.icon=i>=r&&e.ys<e.uh.maxgrade?StaticData.GHj:null,e.uh.p2>0&&e.ys>0?(e.doUpBtn.visible=!0,e.uv.visible=!0,e.doTBtn.visible=!1,e.rankView.visible=!0,e.starImg.visible=!0,e.uv.visible=!0,e.nameImg.horizontalCenter=-178):(e.doUpBtn.visible=!1,e.uv.visible=!1,e.doTBtn.visible=!0,e.rankView.visible=!1,e.starImg.visible=!1,e.uv.visible=!1,e.nameImg.horizontalCenter=-190);var a=i>=r?Color.TX:Color.KA;e.needIcon.bottomText=fvg.GVf("public022",i,1),e.needIcon.bottomColor=a,e.nextLab.text=fvg.GVf("beauty19",e.uh.p1),e.nameImg.source=kLM.DUO(n),e.quaImg.source=kLM.WT(e.uh.qua),e.typeImg.source=kLM.JT(e.uh.qua),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.ys),-2,e.rankView,1),e.uv.currStar=e.ys%10||0,e.ey(),e.showBtn.visible=e.ys>0,e.ge(e.ys,t.use,n)},t.prototype.ey=function(){var e=this;e.updateAttr(e.curAttrData,!0),e.hk()?(e.maxLab.text=fvg.GVf("magicblade27"),e.nextAttrData.source.length=0,e.nextAttrData.refresh()):(e.maxLab.text="",e.updateAttr(e.nextAttrData,!1))},t.prototype.updateAttr=function(e,t){var n=this,i=n.uh,r=App.JS.getRetinueInfoByType(32),a=gLw.IQ(i.tid),o=(r.sgradeDict[a]||0)+(t?0:1),s=XCA.YV(i.attrid);e.source.splice(0,e.source.length);var p;if(s){var l=void 0,c=void 0,u={};gLw.GM(i.tid);for(l in xxf.UK)c=s[l]||0,c>0&&(c+=u[l]||0,c*=o,p={},p.name=xxf.UK[l],p.value="+"+c,p.vx=18*p.name.length,p.color=t?Color.SE:Color.SQ,e.source.push(p));for(l in xxf.IM)c=s[l]||0,c>0&&(c+=u[l]||0,c*=o,p={},p.name=xxf.IM[l],p.value="+"+(c/10).toFixed(1)+"%",p.vx=14*p.name.length,p.color=t?Color.SE:Color.SQ,e.source.push(p));if(t){var d=s.p1*(o||1);n.fightView.fightNum=d,n.ss=d}e.refresh()}},t.prototype.bl=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS),t._nextMc&&t._nextMc.parent&&t.removeChild(t._nextMc)},t.prototype.ym=function(e){var t=this;if(t.uh){if(t.hk())return void MessageTipManager.instance.show(fvg.GVf("treasure10"));var n=App.FK.hsx(parseInt(t.uh.cost)),i=App.JP.getBeautyNeedCount(t.ys);if(i>n)return void _JDW.TR(parseInt(t.uh.cost),i-n);var r=gLw.IQ(t.uh.tid);RetinueMsgProxy.EC(32,r)}},t.prototype.hk=function(){var e=this;return e.uh?e.ys>=e.uh.maxgrade:!1},t.prototype.zw=function(){var e=this,t=App.JS.getRetinueInfoByType(32);if(t&&t.stempDict&&e.CSo){e.ck=0;var n;e.datas||(e.datas=GObj.$c(eui.ArrayCollection)),e.itemList.dataProvider=e.datas;for(var i in t.stempDict)if(n=t.stempDict[i],n&&!isNaN(n.p2)){var r=t.sgradeDict[i]||0,a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0;n.hide>=0&&0>=r&&0>=o||(e.datas.source.push(n),o>0&&0>a&&0>=r&&(e.ck=e.datas.length-1))}e.datas.source.sort(e.mi),e.datas.refresh(),e.datas.length>0&&(e.itemList.selectedIndex=0,e.ed())}},t.prototype.ed=function(){var e=this,t=App.JS.getRetinueInfoByType(32);if(t){var n=e.itemList.selectedItem;if(e.uh=null,n&&(e.uh=n),n){var i=gLw.IQ(n.tid),r=t.sgradeDict[i]||0;e.ge(r,t.use,i);var a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0;if(o>0&&0>a&&0>=r?(e.doTBtn.visible=!0,e.skinBtn.visible=!1,e.doTBtn.icon=StaticData.GHj):(e.doTBtn.visible=!1,e.skinBtn.visible=!0,e.doTBtn.icon=""),n.p5){var s=n.p5.split(QycO.PK);s&&s.length>=2&&s.length>=3&&(e.sx=s[2])}e.cp()}}},t.prototype.ge=function(e,t,n){var i=this;e>0&&t!=n?i.skinBtn.visible=!0:i.skinBtn.visible=!1},t.prototype.mi=function(e,t){var n=App.JS.checkCanActive(e),i=App.JS.checkCanActive(t);return n&&!i?-1:!n&&i?1:App.JS.datasSort(e,t)},t.prototype.qe=function(e){var t=this;if(t.uh){var n=App.JS.getRetinueInfoByType(32);if(n){var i=t.itemList.selectedItem;if(i){var r=gLw.IQ(i.tid),a=n.sgradeDict[r]||0,o=i.needgp||0,s=App.FK.hsx(parseInt(i.cost))||0,p=n.openSkinTypes;return 0==p.length?void MessageTipManager.instance.show(fvg.GVf("beauty21")):0>=s?void msgTip(fvg.GVf("public015")):s>0&&0>o&&0>=a?(t.doTBtn.visible=!1,t.skinBtn.visible=!1,RetinueMsgProxy.EC(32,r),void App.KB.showEffect(gYq.MF)):void(!a||0>=a||(t.doTBtn.visible=!1,RetinueMsgProxy.EE(32,r),t.ed()))}}}},t.prototype.__selectedChangeHandler=function(e){this.ed()},t.prototype.ah=function(e){for(var t,n=this,i=n.itemList.numChildren,r=0;i>r;r++)t=n.itemList.getChildAt(r),t&&(t.immType=32)},t.prototype.gs=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.ca=function(e){this.oy=!0},t.prototype.pg=function(e){this.oy=!1},t.prototype.aq=function(){var e=this;if(e.oy){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.oy=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.dp=function(){var e=this;if(e.srf){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.srf=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.kl=function(e){this.srf=!0},t.prototype.mh=function(e){this.srf=!1},t.prototype.bs=function(e){var t=this;if(t.uh){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));if(0==t.ys)return void App.TT.show(fvg.GVf("superequip1"));var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);var r=App.FQ.islt+(6>i?App.FQ.send_cd:10);return App.FQ.islt&&r>App.NN.serverSecond?void(6>i?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11"))):void Alert.WK(fvg.GVf("chat12",t.uh.name),void 0,void 0,t.xy,t)}},t.prototype.xy=function(){var e=this,t=GObj.$c(ChatItemData),n=e.hm;t.mt=33,t.st=n,t.gr=e.ys,t.cap=e.ss,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.bl,t),GObj.$d(t.weS)),t.weS=null,t.curAttrGroup&&(t.curAttrGroup.dataProvider=null,GObj.$d(t.curAttrGroup),t.curAttrGroup=null,t.curAttrData=null),t.nextAttrGroup&&(t.nextAttrGroup.dataProvider=null,GObj.$d(t.nextAttrGroup),t.nextAttrGroup=null,t.nextAttrData=null),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.needIcon),t.needIcon=null,GObj.$d(t.doUpBtn),t.doUpBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.he),t.he=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.maxLab),t.maxLab=null,GObj.$d(t.doTBtn),t.doTBtn=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.uv),t.uv=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.skinBtn),t.skinBtn=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.uh=null,t.sx=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BeautySkinUpView.prototype,"BeautySkinUpView");var BeautySpiritItem=function(e){function t(t){var n=e.call(this,"BeautySpiritItem")||this;n._selected=!1,n.bl=0,n.ej=t;var i=RRUU.$s("BeautySpiritItemSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),t.prototype.initView=function(){this.lockImg.visible=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DDI,e.yj,e)},t.prototype.initData=function(){},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DDI,e.yj,e)},t.prototype.yj=function(){this.g_()},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.tp},set:function(e){var t=this;t.tp=e;var n=App.FK.Fkl(11,t.equipType)[0];return n?(t.ju=t.bl=n.TSF.step,void(t.hs?t.BottomText=fvg.GVf("spirit20",t.ju):t.BottomText="")):void(t.BottomText="")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowGrade",{get:function(){return this.hs},set:function(e){this.hs=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLock",{get:function(){return this.lz},set:function(e){var t=this;t.lz=t.lockImg.visible=e},enumerable:!0,configurable:!0}),t.prototype.g_=function(){var e=this;e.isShowUpgradeEff=!0,e.checkUpgrade()},Object.defineProperty(t.prototype,"isShowUpgradeEff",{get:function(){return this._isShowUpgradeEff},set:function(e){this._isShowUpgradeEff=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._selectedBack.visible=t._selected},enumerable:!0,configurable:!0}),t.prototype.checkUpgrade=function(){var e=this;if(e._isShowUpgradeEff){var t=App.FK.Fkl(11,e.equipType)[0];t&&(e.ju=t.TSF.step,e.ju!=e.bl&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.ob,e),e.weS.x=-36,e.weS.y=-40),e.bl=e.ju,e.weS.play(1),e.isShowUpgradeEff=!1,e.addChild(e.weS)),e.bl=e.ju)}},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;t._data=e,t._itemView.data=t._data,t.ku()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"BottomText",{set:function(e){this._itemView.bottomText=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),t.prototype.ku=function(){var e=this;e._data&&e._data.quality>=aKF.PU?(e._typeIcon.visible=!1,e._itemView.data=e._data,e._itemView.visible=!0):(e._typeIcon.visible=!0,e.tp&&(e._typeIcon.source="beauty_json.beauty_spirit_"+e.tp%2200+"_png"),e._itemView.data=null,e._itemView.visible=!1)},t.prototype.ob=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e._selectedBack),e._selectedBack=null,GObj.$d(e._data),e._data=null,GObj.$d(e._itemView),e._itemView=null,GObj.$d(e._typeIcon),e._typeIcon=null,GObj.$d(e.iconDisplay),e.iconDisplay=null,e.weS&&(e.weS.stop(),e.weS.removeEventListener(egret.Event.COMPLETE,e.ob,e)),GObj.$d(e.weS),e.weS=null},t}(BaseUI);__reflect(BeautySpiritItem.prototype,"BeautySpiritItem",["ISelectedButton","egret.IEventDispatcher"]);var BeautySpiritView=function(e){function t(){var t=e.call(this,"BeautySpiritView")||this;return t.mw=!0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upGradeBtn.label=fvg.GVf("beauty22"),e.upAutoGradeBtn.label=fvg.GVf("beauty23"),e.advanceBtn.label=fvg.GVf("beauty22"),e.intensifyBtn.label=fvg.GVf("store001"),e.upStarBtn.label=fvg.GVf("store005"),e.ko=fvg.GVf("beauty24").split(","),e.noActiveLab.text=fvg.GVf("public010"),e.title=fvg.GVf("beauty28"),e.ec=XCA.CG(IDU.KA).split(QycO.XP).map(returnInt);var t,n=Iwrv.AF;e.itemArray=[],e.equipGroup=GObj.$c(kQr),e.aj={};for(var i=0;i<n.length;i++)t=GObj.$c(BeautySpiritItem,n[i]),e.itemArray.push(t),t.isShowGrade=!0,t.isLock=e.checkIsOpen(i),e.equipGroup.cwA(t),e.itemGroup.addChild(t),e.aj[n[i]]=parseInt(App.JS.spiritComposeId[i]);e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChild(e.fightView),e.tp(),e.jq=-1,e.il=0,e.kx=GObj.$c(nlwj),e.hc=GObj.$c(kQr),e.hc.cwA(e.advanceBtn),e.hc.cwA(e.intensifyBtn),e.hc.cwA(e.upStarBtn),e.ww=GObj.$c(FigureView),e.addChildAt(e.ww,8),e.xb=GObj.$c(BeautySpiritItem),e.xb.isShowGrade=!1,e.xb.x=139,e.xb.y=170,e.xb.isShowUpgradeEff=!1,e.addChild(e.xb),e.ol=GObj.$c(BeautySpiritItem),e.ol.isShowGrade=!1,e.ol.x=285,e.ol.y=170,e.ol.isShowUpgradeEff=!1,e.addChild(e.ol),e.lockTipLbl.visible=!1,e.lvUpGroup.visible=!0,e.smaicon.goodsTid=StaticData.TID_GOODS_34},t.prototype.initData=function(){var e=this;e.equipGroup.selectedIndex=0,e.hc.selectedIndex=0,e.uju=32,e.nu(),e.lm(),e.xe()},t.prototype.nu=function(){var e=this,t=App.JS.getRetinueInfoByType(e.uju);if(t){var n=t.spiritCap;e.fightView.fightNum=n}},t.prototype.initEvent=function(){var e=this;e.hc&&e.hc.addEventListener(egret.Event.CHANGE,e.yl,e),e.equipGroup&&e.equipGroup.addEventListener(egret.Event.CHANGE,e.vy,e),e.upGradeBtn.addEventListener(eui.tep,e["if"],e),e.upAutoGradeBtn.addEventListener(eui.tep,e.sz,e),e.intensifyBtn.addEventListener(eui.tep,e.ev,this,!1,5),e.upStarBtn.addEventListener(eui.tep,e.ev,this,!1,5),e.xb.addEventListener(eui.tep,e.ii,e),e.ol.addEventListener(eui.tep,e.ty,e),vkG.$a(UtJ.DDI,e.hi,e),vkG.$a(UtJ.UP,e.cf,e)},t.prototype.removeEvent=function(){var e=this;e.hc&&e.hc.removeEventListener(egret.Event.CHANGE,e.yl,e),e.equipGroup&&e.equipGroup.removeEventListener(egret.Event.CHANGE,e.vy,e),e.upGradeBtn.removeEventListener(eui.tep,e["if"],e),e.upAutoGradeBtn.removeEventListener(eui.tep,e.sz,e),e.intensifyBtn.removeEventListener(eui.tep,e.ev,e),e.upStarBtn.removeEventListener(eui.tep,e.ev,e),e.xb.removeEventListener(eui.tep,e.ii,e),e.ol.removeEventListener(eui.tep,e.ty,e),vkG.$r(UtJ.DDI,e.hi,e),vkG.$r(UtJ.UP,e.cf,e)},t.prototype.tp=function(){for(var e,t=Iwrv.AF,n=0;n<t.length;n++){e=GxD.instance.Fkl(11,t[n]);var i=this.itemArray[n];i.equipType=t[n],e.length>0?i.data=e[0]:i.data=null}},t.prototype.checkIsOpen=function(e){return this.ec[e]>=App.DA.curFloor?!0:!1},t.prototype.ii=function(){var e=this;if(e.xb.data){var t=GObj.$c(SpiritEquipDetailFrame,11);t.show(e.xb.equipType,e.xb.data,!1)}},t.prototype.ty=function(){var e=this;if(e.ol.data){var t=GObj.$c(SpiritEquipDetailFrame,11);t.show(e.ol.equipType,e.ol.data,!1)}},t.prototype.hi=function(){var e=this;e.lm(),e.xe()},t.prototype.xe=function(){for(var e=Iwrv.AF.length,t=0;e>t;t++){var n=this.itemArray[t];n&&(n.icon=UsU.JJ(n.equipType)&&!n.isLock?StaticData.GHj:null)}},t.prototype.cf=function(){this.tp()},t.prototype.vy=function(e){var t=this,n=t.equipGroup.selectedIndex;t.selectedPartLab.text=t.ko[n];var i=t.equipGroup.LuO;i&&(i.isLock?(t.lvUpGroup.visible=!1,t.lockTipLbl.visible=!0,t.lockTipLbl.text=fvg.GVf("spirit29",t.ec[n])):(t.lvUpGroup.visible=!0,t.lockTipLbl.visible=!1),t.xb.data=i.data,t.xb.equipType=i.equipType,t.gradeLab1.text=fvg.GVf("beauty25")),t.yo=t.xb.equipType,t.lm()},t.prototype.lm=function(){var e=this;if(e.mw=!0,e.CSo&&e.yo){if(e.cp=App.FK.Fkl(11,e.yo)[0],e.kx.tid=0,e.ca=App.PI.getBeautyComposeByMat(e.cp?e.cp.tid:0)[0],e.itemBg_1.visible=!0,e.itemBg_2.visible=!0,e.arrowsImg1.visible=!0,e.noActiveLab.visible=!1,e.noActiveLab1.text="",e.ca)e.kx.tid=e.ca.nmat,e.ol.equipType=e.yo,e.ol.data=e.kx,e.xb.visible=!0,e.xb.data=e.cp,e.ol.visible=!0,e.gradeLab1.x=105,e.fightLab1.x=68,e.xb.x=125,e.xb.y=170,e.itemBg_1.x=105,e.ol.x=280,e.ol.y=170,e.itemBg_2.x=260,e.gradeLab2.x=262,e.fightLab2.x=230,e.arrowsImg1.visible=!0,e.gradeLab1.text=fvg.GVf("beauty25",e.cp.TSF.step),e.xb.BottomText=fvg.GVf("godsuit09",e.cp.TSF.step),e.gradeLab2.text=fvg.GVf("beauty25",e.kx.TSF.step),e.ol.BottomText=fvg.GVf("godsuit09",e.kx.TSF.step),e.fightLab1.text=fvg.GVf("smelting6",e.cp.TSF.p2),e.fightLab2.text=fvg.GVf("smelting6",e.kx.TSF.p2);else if(e.cp)e.mw=!1,e.xb.data=e.cp,e.gradeLab1.text=fvg.GVf("beauty25",e.cp.TSF.step),e.fightLab1.text=fvg.GVf("smelting6",e.cp.TSF.p2),e.xb.BottomText=fvg.GVf("godsuit09",e.cp.TSF.step),e.fightLab1.x=145,e.gradeLab2.text="",e.fightLab2.text="",e.xb.x=205,e.xb.y=170,e.itemBg_1.x=185,e.ol.visible=!1,e.itemBg_2.visible=!1,e.xb.visible=!0,e.nextGradeTxt.text="",e.nextAttrTxt.text="",e.noActiveLab1.text=fvg.GVf("magicblade25"),e.proTxt.text="MAX",e.proGress.value=100;else{var t=XCA.RW(e.aj[e.yo]);if(!t)return;e.ca=t,e.kx.tid=t.nmat||0,e.ol.visible=!0,e.ol.equipType=e.yo,e.ol.data=e.kx,e.itemBg_1.visible=!1,e.itemBg_2.x=185,e.ol.x=205,e.ol.y=170,e.fightLab1.text="",e.currAttrTxt.text="",e.xb.visible=!1,e.arrowsImg1.visible=!1,e.gradeLab2.text=fvg.GVf("beauty25",e.kx.TSF.step),e.ol.BottomText=fvg.GVf("godsuit09",e.kx.TSF.step),e.fightLab2.text=fvg.GVf("smelting6",e.kx.TSF.p2),e.gradeLab2.x=185,e.fightLab2.x=152,e.noActiveLab.visible=!0}e.qg(),e.ow(),e.updateNeedCount(),e.cp&&(-1!=e.jq&&e.jq==e.yo&&e.il!=e.cp.tid&&App.KB.showEffect(gYq.UQ),e.jq=e.yo,e.il=e.cp.tid),e.nu()}},t.prototype.qg=function(){var e=this;if(e.cp){if(!e.cp.TSF)return;var t=e.cp.TSF.p1;e.currAttrTxt.text=LRJ.KG(t),e.cp.TSF.step?e.curGradeTxt.text=e.cp.TSF.name:e.curGradeTxt.text=fvg.GVf("public013",e.cp.TSF.needgrade)}else e.curGradeTxt.text=""},t.prototype.ow=function(){var e=this;if(e.nextAttrTxt.text="",e.nextGradeTxt.text="",e.ca){var t=XCA.FR(e.ca.nmat);if(t){var n=t.p1;e.nextAttrTxt.text=LRJ.KG(n),e.nextGradeTxt.text=t.name}}},t.prototype.yl=function(e){},t.prototype.ev=function(e){e.stopPropagation(),e.stopImmediatePropagation(),MessageTipManager.instance.show(fvg.GVf("public057"))},t.prototype.updateNeedCount=function(){var e=this;if(!e.ca)return void(e.needEisTxt.text="0");e.lk=App.FK.hsx(e.ca.mat2);var t=e.ca.ct2;e.needEisTxt.text=fvg.GVf("public022",e.lk,1),e.lk>=1?e.needEisTxt.textColor=Color.TX:e.needEisTxt.textColor=Color.KA;var n=RetinueManager.instance.getRetinueInfoByType(32);return n?(e.upGradeBtn.icon=e.upAutoGradeBtn.icon=UsU.JJ(e.yo)?StaticData.GHj:null,e.advanceBtn.icon=UsU.RIB()?StaticData.GHj:null,e.proTxt.text=10*(n.spiritDict[e.yo]||0)+"/"+10*t,void(e.proGress.value=(n.spiritDict[e.yo]||0)/t*100)):(e.proTxt.text="0/"+10*t,void(e.proGress.value=0))},t.prototype["if"]=function(){var e=this,t=GApp.timer;return t-e.sf<400?void MessageTipManager.instance.show(fvg.GVf("store003")):(e.sf=t,e.lk<=0?void _JDW.TR(e.ca.mat2):e.mw?void RetinueMsgProxy.BD(e.yo,1):void MessageTipManager.instance.show(fvg.GVf("public014")))},t.prototype.sz=function(){var e=this,t=GApp.timer;return t-e.sf<400?void MessageTipManager.instance.show(fvg.GVf("store003")):(e.sf=t,e.lk<=0?void _JDW.TR(e.ca.mat2):e.mw?void RetinueMsgProxy.BD(e.yo,2):void MessageTipManager.instance.show(fvg.GVf("public014")))},t.prototype.py=function(){GObj.$d(this)
},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.needEisTxt),t.needEisTxt=null,GObj.$d(t.upGradeBtn),t.upGradeBtn=null,GObj.$d(t.upAutoGradeBtn),t.upAutoGradeBtn=null,GObj.$d(t.curGradeTxt),t.curGradeTxt=null,GObj.$d(t.nextGradeTxt),t.nextGradeTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.proGress),t.proGress=null,GObj.$d(t.proTxt),t.proTxt=null,GObj.$d(t.advanceBtn),t.advanceBtn=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,GObj.$d(t.upStarBtn),t.upStarBtn=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.hc),t.hc=null,GObj.$d(t.ca),t.ca=null,GObj.$d(t.kx),t.kx=null,GObj.$d(t.aj),t.aj=null,GObj.$d(t.ww),t.ww=null,GObj.$d(t.itemBg_1),t.itemBg_1=null,GObj.$d(t.itemBg_2),t.itemBg_2=null,GObj.$d(t.xb),t.xb=null,GObj.$d(t.ol),t.ol=null,GObj.$d(t.arrowsImg1),t.arrowsImg1=null,GObj.$d(t.selectedPartLab),t.selectedPartLab=null,GObj.$d(t.ko),t.ko=null,GObj.$d(t.gradeLab1),t.gradeLab1=null,GObj.$d(t.gradeLab2),t.gradeLab2=null,GObj.$d(t.fightLab1),t.fightLab1=null,GObj.$d(t.fightLab2),t.fightLab2=null,GObj.$d(t.noActiveLab),t.noActiveLab=null,GObj.$d(t.noActiveLab1),t.noActiveLab1=null,GObj.$d(t.smaicon),t.smaicon=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BeautySpiritView.prototype,"BeautySpiritView");var BeautyView=function(e){function t(){var t=e.call(this,"BeautyView")||this;return t.xp=0,t.isMaxLevel=!0,t.ry=0,t.uj=0,t.mq=!1,t.skinName=RRUU.$s("BeautyView"),t.hx=32,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ph=-1,e.fw=0,e.vub=GObj.$c(nlwj),e.upBtn.label=fvg.GVf("beauty01"),e.autoUpBtn.label=fvg.GVf("beauty02"),e.getJadeBtn.label=fvg.GVf("beauty34"),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChild(e.fightView),e.cl=GObj.$c(FigureView),e.cl.x=225,e.cl.y=340,e.backGroup.addChildAt(e.cl,1),e.skinTemps=[],e.sf=GObj.$c(GeneralStarView),e.sf.maxStar=10,e.sf.open_star_key=["game_json.flower_png","game_json.flower_png"],e.sf.close_star_key="game_json.flower_off_png",e.sf.star_width=32,e.sf.x=91,e.sf.y=574,e.addChild(e.sf),e.sma1icon.goodsTid=StaticData.TID_GOODS_41,e.sma2icon.goodsTid=StaticData.TID_GOODS_41,e.skillData=GObj.$c(eui.ArrayCollection),e.skillGroup.dataProvider=e.skillData,e.skillGroup.itemRenderer=ImmortalSkillItem,e.uy=App.KB.getUIEffect(gYq.VKE),e.directBtn.groupDisplay.addChild(e.uy)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.hx||(t.hx=32);var n=App.JS.getRetinueInfoByType(t.hx);t.qh=n?n.grade:0,t.lt(t.hx),t.ei(),t.js(),t.oi(),t.rn(),fNs.instance.execute(hXS.FV,hXS.RZ,[t.upBtn,t.autoUpBtn],0===t.tu.openSkinTypes.length)},t.prototype.rn=function(){App.MG.carnivalBeautyList},t.prototype.qk=function(){App.VS.open(10148)},t.prototype.hs=function(){var e=this;if(e.nextSkinGroup.visible){var t=(App.JS.getRetinueInfoByType(e.hx),XCA.CG(IDU.JT));if(t){for(var n=t.split(QycO.PK),i=0,r=n.length;r>i;i++){var a=n[i];if(a){var o=a.split(QycO.XP),s=parseInt(o[0]),p=parseInt(o[1]);if(p&&p>e.vs.p2){var l=GObj.$c(nlwj);return l.tid=s,e.nextSkin.data=l,void(e.nextSkinLab.text=fvg.GVf("imm11",p))}}}e.nextSkinGroup.visible=!1}}},t.prototype.bv=function(){var e=this,t=e.tu.openSkinTypes;t.length<=0?(e.mq=!0,t.push("1")):e.mq=!1,e.skinTemps.length=0;for(var n=0;n<t.length;n++)e.skinTemps.push(e.tu.stempDict[t[n]]);e.skinTemps.sort(gLw._X);var i=e.tu.use||-1,r=e.tu.stempDict[i];if(e.ph=-1,!e.mq)for(var n=0;n<e.skinTemps.length;n++)if(e.skinTemps[n].tid==r.tid){e.ph=n;break}-1==e.ph&&(e.ph=Math.max(e.ph,0)),e.ag()},t.prototype.ag=function(){var e=this,t=e.skinTemps[e.ph],n=gLw.IQ(t.tid);if(e.mq)e.nameImg.visible=!0,e.rankView.visible=!0,e.rankImg_2.visible=!0,e.sf.visible=!1,e.autoUpBtn.visible=!1,e.culPro.visible=!1,e.culProLab.visible=!1,e.upBtn.x=189,e.upBtn.y=668,e.upBtn.label=fvg.GVf("public012");else{if(!t)return e.nameImg.visible=!1,e.rankView.visible=!1,e.rankImg_2.visible=!1,e.sf.visible=!1,e.autoUpBtn.visible=!1,e.culPro.visible=!1,e.culProLab.visible=!1,e.upBtn.x=189,e.upBtn.y=668,void(e.upBtn.label=fvg.GVf("public012"));e.nameImg.visible=!0,e.rankView.visible=!0,e.rankImg_2.visible=!0,e.sf.visible=!0,e.autoUpBtn.visible=!0,e.culPro.visible=!0,e.culProLab.visible=!0,e.upBtn.x=120,e.upBtn.y=668,e.upBtn.label=fvg.GVf("beauty01"),e.nameImg.source=kLM.DUO(n)}e.rankView.visible=e.rankImg_2.visible=e.ks>=1,e._i=t.name,e._f(),e.sz()},t.prototype._f=function(){var e=this;hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.ks),-2,e.rankView,1)},t.prototype.sz=function(){FigureHelps.NW(this.cl,{b:App.KF.fere||"meiren1"},!1)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.upBtn.addEventListener(eui.tep,t.pi,t),t.autoUpBtn.addEventListener(eui.tep,t.yd,t),t.pillBtn.addEventListener(eui.tep,t.xe,t),t.skillBtn.addEventListener(eui.tep,t.os,t),t.skinBtn.addEventListener(eui.tep,t.jf,t),t.hiddenWeaponBtn.addEventListener(eui.tep,t.fd,t),t.getJadeBtn.addEventListener(eui.tep,t.ye,t),t.directBtn.addEventListener(eui.tep,t.fj,t),vkG.$a(UtJ.BP,t.lt,t),vkG.$a(UtJ.WTM,t.ei,t),vkG.$a(UtJ.YJ,t.oi,t),vkG.$a(UtJ.PP,t.oi,t),vkG.$a(UtJ.AW,t.rn,t)},t.prototype.removeEvent=function(){var e=this;e.upBtn.removeEventListener(eui.tep,e.pi,e),e.autoUpBtn.removeEventListener(eui.tep,e.yd,e),e.pillBtn.removeEventListener(eui.tep,e.xe,e),e.skillBtn.removeEventListener(eui.tep,e.os,e),e.skinBtn.removeEventListener(eui.tep,e.jf,e),e.hiddenWeaponBtn.removeEventListener(eui.tep,e.fd,e),e.getJadeBtn.removeEventListener(eui.tep,e.ye,e),e.directBtn.removeEventListener(eui.tep,e.fj,e),vkG.$r(UtJ.BP,e.lt,e),vkG.$r(UtJ.WTM,e.ei,e),vkG.$r(UtJ.YJ,e.oi,e),vkG.$r(UtJ.PP,e.oi,e),vkG.$r(UtJ.AW,e.rn,e)},t.prototype.lt=function(e){var t=this;if(t.hx&&(t.tu=App.JS.getRetinueInfoByType(t.hx),t.tu)){t.vs=XCA.AQS.UFA(t.hx,1,t.tu.grade||1);var n=t.tu.openSkinTypes,i=XCA.AQS.UFA(t.hx,1,t.tu.grade+1),r=t.vs.p2;t.ks=r,t._f(),0==n.length&&(r=0);var a=0,o=t.tu.grade>0?t.tu.gp-t.vs.needgp:t.tu.gp||0,s=0;0==t.uj&&(t.ry=t.tu.grade-t.qh),t.qh=t.tu.grade,i?(t.isMaxLevel=!1,t.attrLabOne.text=LRJ.KG(i.attrid,!1,!1,null),a=t.tu.grade>0?i.needgp-t.vs.needgp:i.needgp,s=Math.min(100,int(o/a*100))):(t.isMaxLevel=!0,t.culProLab.text="MAX",s=100,t.attrLabOne.text=fvg.GVf("skill006"),t.attrLabOne.y=523),t.ry>=2?t.qz():(i&&(t.culProLab.text=fvg.GVf("public022",o,a)),t.culPro.grade=t.qh,t.culPro.targetValue=s),t.attrLab.text=LRJ.KG(t.vs.attrid,0==t.tu.grade,!1,null);var p=t.tu.grade%10;0==p&&t.tu.grade>0&&(p=10),t.sf.currStar=p,t.pl=parseInt(t.vs.cost)||0,t.xp=App.FK.hsx(t.pl),t.countLab.text=fvg.GVf("beauty17",toChars(t.xp),1),t.countLab.textColor=t.xp>=1?Color.TX:Color.KA,t.count1Lab.text=fvg.GVf("beauty17",toChars(t.xp),Math.ceil((a-o)/10)),t.count1Lab.textColor=t.xp>=Math.ceil((a-o)/10)?Color.TX:Color.KA;var l=!1;l=UsU.TQ(),t.upBtn.icon=l?StaticData.GHj:null,t.autoUpBtn.icon=l?StaticData.GHj:null,t.bv(),t.hs(),0==n.length&&t.xp>0&&(t.upBtn.icon=StaticData.GHj);var c=XCA.YV(t.vs.attrid);t.fightView.fightNum=t.tu.cap||(c?c.p1:0),t.tj=t.tu.maxPill,t.pillBtn.label=fvg.GVf("public022",t.tu.snum||0,t.tj),t.pillBtn.icon=UsU.VY(t.hx)?StaticData.GHj:null}},t.prototype.oi=function(){var e=this;if(App.MG.directVo&&App.MG.directVo.getBagDataBySort(3)){var t=App.MG.directVo.getBagDataBySort(3);IoG.EZ()?e.directBtn.visible=!1:2!=t.status?e.directBtn.visible=!0:e.directBtn.visible=!1,e.directBtn.icon=1==t.status?StaticData.GHj:""}},t.prototype.qz=function(){var e=this;if(egret.Tween.removeTweens(e.culPro),e.uj==e.ry||!e.culPro)return void(e.uj=0);if(0==e.uj){e.uj++;var t=e.tu.grade-e.ry+e.uj,n=XCA.AQS.UFA(e.hx,1,t||1),i=XCA.AQS.UFA(e.hx,1,t+1),r=0,a=t>0?e.tu.gp-n.needgp:0;return r=t>0?i.needgp-n.needgp:i.needgp,i?e.culProLab.text=fvg.GVf("public022",a,r):e.culProLab.text="MAX",void egret.Tween.get(e.culPro).to({value:100},200).call(e.qz,e)}if(e.culPro.targetValue=0,e.uj<e.ry-1){e.uj++;var t=e.tu.grade-e.ry+e.uj,n=XCA.AQS.UFA(e.hx,1,t||1),i=XCA.AQS.UFA(e.hx,1,t+1),r=0;r=t>0?i.needgp-n.needgp:i.needgp,i?e.culProLab.text=fvg.GVf("public022",r,r):e.culProLab.text="MAX",egret.Tween.get(e.culPro).to({value:100},200).call(e.qz,e)}else{e.uj++;var i=XCA.AQS.UFA(e.hx,1,e.tu.grade+1),o=100;if(i){var r=0,a=e.tu.grade>0?e.tu.gp-e.vs.needgp:0;r=e.tu.grade>0?i.needgp-e.vs.needgp:i.needgp,o=Math.min(100,int(a/r*100)),e.culProLab.text=fvg.GVf("public022",a,r)}else e.culProLab.text="MAX";e.culPro.grade=e.qh,e.culPro.targetValue=o}},t.prototype.fd=function(e){App.VS.open(10045)},t.prototype.ye=function(){App.VS.open(10129)},t.prototype.xe=function(e){var t=this;t.parent&&t.vs&&t.vs.p1&&App.VS.popup(10018,BeautyPillPopUi,null,t.hx,t.vs.p1,t.tj)},t.prototype.os=function(e){App.VS.popup(10018,BeautySkillPopUi,null,this.hx)},t.prototype.jf=function(e){App.VS.popup(10018,BeautySkinPopUi,null,this.hx)},t.prototype.fj=function(){App.VS.open(10156)},t.prototype.ei=function(e){this.hiddenWeaponBtn.icon=UsU.EJ()?StaticData.GHj:null},t.prototype.yd=function(e){var t=this;fNs.instance.execute(hXS.FV,hXS.YL);var n=XCA.AQS.UFA(t.hx,1,t.tu.grade||1),i=XCA.AQS.UFA(t.hx,1,t.tu.grade+1),r=i?i.p2:n.p2;return t.isMaxLevel?void MessageTipManager.instance.show(fvg.GVf("beauty7")):t.xp<=0?void _JDW.TR(t.pl):(RetinueMsgProxy.KT(t.hx),void(n.p2!=r&&App.KB.showEffect(gYq.TU)))},t.prototype.pi=function(e){var t=this;fNs.instance.execute(hXS.FV,hXS.YL);var n=t.tu.openSkinTypes;return t.isMaxLevel?void MessageTipManager.instance.show(fvg.GVf("beauty7")):t.xp<=0?void _JDW.TR(t.pl):0==n.length?(App.KB.showEffect(gYq.MF),RetinueMsgProxy.YO(t.hx),t.bv(),void t.lt(t.hx)):void RetinueMsgProxy.NT(t.hx)},t.prototype.js=function(){var e=this;e.skillData.source=[];var t=XCA.AQS.oVs(87);for(var n in t)e.skillData.source.push(t[n])},t.prototype.mg=function(){App.VS.open(10148)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.FV,hXS.NW),t.removeEvent(),egret.Tween.removeTweens(t.culPro),GObj.$d(t.culPro),t.culPro=null,GObj.$d(t.skillBtn),t.skillBtn=null,GObj.$d(t.cl),t.cl=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.skinBtn),t.skinBtn=null,GObj.$d(t.culProLab),t.culProLab=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.autoUpBtn),t.autoUpBtn=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.attrLabOne),t.attrLabOne=null,GObj.$d(t.countLab),t.countLab=null,GObj.$d(t.count1Lab),t.count1Lab=null,GObj.$d(t.sf),t.sf=null,GObj.$d(t.sma1icon),t.sma1icon=null,GObj.$d(t.sma2icon),t.sma2icon=null,GObj.$d(t.pillBtn),t.pillBtn=null,GObj.$d(t.backGroup),t.backGroup=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.rankImg_2),t.rankImg_2=null,GObj.$d(t.imgbg2),t.imgbg2=null,GObj.$d(t.attrArrowImg),t.attrArrowImg=null,GObj.$d(t.nextSkin),t.nextSkin=null,GObj.$d(t.nextSkinLab),t.nextSkinLab=null,GObj.$d(t.nextSkinGroup),t.nextSkinGroup=null,GObj.$d(t.getJadeBtn),t.getJadeBtn=null,GObj.$d(t.directBtn),t.directBtn=null,GObj.$d(t.uy),t.uy=null,t.skillGroup&&(t.skillGroup.dataProvider=null,GObj.$d(t.skillGroup),t.skillGroup=null),t.skillData=null,t.xp=null,t.vs=null,t.pl=null,t.hx=null,t.skinTemps=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BeautyView.prototype,"BeautyView");var hFO=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.texturePool={},t.textrueInfo={},t.registerSources(bRC.IT,"game_json.num_hp_boss_png","0123456789",24,38),t.registerSources(bRC.MI,"game_json.num_vip_png","0123456789",13,23),t.registerSources(bRC.TE,"game_json.num_vip_2_png","0123456789",20,26),t.registerSources(bRC.ES,"game_json.num_vip_3_png","0123456789",26,42),t.registerSources(bRC.HF,"game_json.num_vip_4_png","0123456789",13,17),t.registerSources(bRC.CA,"game_json.num_vip_5_png","0123456789",48,74),t.registerSources(bRC.TA,"game_json.num_vip_6_png","0123456789",24,28),t.registerSources(bRC.BL,"game_json.num_vip_7_png","0123456789",16,20),t.registerSources(bRC.UA,"game_json.num_fighting_1_png","0123456789dwy",30,28),t.registerSources(bRC.ZD,"game_json.num_fighting_2_png","0123456789",15,19),t.registerSources(bRC.HB,"game_json.num_fighting_3_png","0123456789",21,32),t.registerSources(bRC.PQ,"game_json.num_funny_png","0123456789",26,32),t.registerSources(bRC.CM,"game_json.num_match_1_png","0123456789",40,48),t.registerSources(bRC.RC,"game_json.num_rebate_png","0123456789",40,50),t.registerSources(bRC.YT,"game_json.num_turnup_png","0123456789",36,49),t.registerSources(bRC.ZT,"game_json.num_peak_type_1_png","0123456789",17,21),t.registerSources(bRC.BN,"game_json.num_official_1_png","0123456789",40,46),t.registerSources(bRC.XE,"game_json.num_official_2_png","0123456789",40,46),t.registerSources(bRC.XD,"game_json.num_official_3_png","0123456789",40,46),t.registerSources(bRC.WV,"game_json.num_official_4_png","0123456789",40,46),t.registerSources(bRC.I_,"game_json.num_wulin_1_png","0123456789",20,28),t.registerSources(bRC.VF,"game_json.num_core_blue_dia_png","0123456789",19,24),t.registerSources(bRC.KK,"core_json.blue_dia_1_png","12345678",22,19),t.registerSources(bRC.YZ,"core_json.blue_dia_2_png","12345678",41,19),t.registerSources(bRC.QTY,"core_json.blue_dia_3_png","12345678",22,19),t.registerSources(bRC.UT,"core_json.blue_dia_4_png","12345678",41,19),t.registerSources(bRC.SL,"game_json.num_battle_png","0123456789",19,21),t.registerSources(bRC.PN,"game_json.num_taiy_png","0123456789",14,20),t.registerSources(bRC.TP,"game_json.num_card_png","0123456789",16,25),t.registerSources(bRC.EZ,"game_json.num_appell_1_png","0123456789",22,24),t.registerSources(bRC.WBC,"game_json.num_offline_png","0123456789",26,37),t.registerSources(bRC.DF,"game_json.num_ps_png","0123456789",12,18),t.registerSources(bRC.LK,"game_json.num_chapter_png","0123456789",22,36),t.registerSources(bRC.GM,"game_json.num_godsuit_png","0123456789db",16,26),t.registerSources(bRC.NO,"game_json.num_fighting_add_png","+0123456789",24,33),t.registerSources(bRC.OI,"game_json.num_fighting_add_2_png","+0123456789",28,40),t.registerSources(bRC.GS,"game_json.num_fighting_add_3_png","+0123456789",32,46),t.registerSources(bRC.KNJ,"game_json.num_fighting_add_4_png","+0123456789",36,50),t.registerSources(bRC.TK,"game_json.num_fighting_add_5_png","+0123456789",36,52),t.registerSources(bRC.QK,"game_json.num_equip_png","0123456789",16,20),t.registerSources(bRC.PO,"game_json.num_task_vip_png","0123456789",24,28),t.registerSources(bRC.QW,"game_json.num_lv_png","",32,28),t.registerSources(bRC.LZ,"game_json.num_chat_png","0123456789",16,20),t.registerSources(bRC.BX,"game_json.num_sword_png","0123456789",19,31)}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.registerSources=function(e,t,n,i,r){var a=this,o=a.textrueInfo[e];o||(o={},o.type=e,o.resName=t,o.character=n,o.charWidth=i,o.charHeight=r,a.textrueInfo[e]=o)},e.prototype.analysisNumberBitmap=function(e){var t=this,n=t.textrueInfo[e];if(!n)return errorNull("!"+e),!1;var i=RES.getRes(n.resName);if(!i)return!1;var r=[];t.texturePool[e]=r;var a=GObj.$c(egret.Rectangle);a.x=0,a.y=0,a.width=n.charWidth,a.height=n.charHeight;var o=i.$bitmapWidth,s=i.$bitmapHeight;a.height&&(a.height=s);for(var p=0;p<n.character.length;p++)a.x=p*a.width,a.x+a.width>o&&(a.width=o-a.x),r[p]=BitmapUtil.drawToTexture(i,a);return!0},e.prototype.getNumberView=function(e,t,n,i,r){void 0===r&&(r=2);var a=this;if(!t||0==t.length)return i;if(!a.texturePool[e]&&!a.analysisNumberBitmap(e))return i;var o;o=i?i:GObj.$c(NumberView);for(var s,p=a.textrueInfo[e].character,l=[],c=0;c<t.length;c++)s=p.indexOf(t.charAt(c)),s>=0&&s<a.texturePool[e].length&&l.push(a.texturePool[e][s]);return o.setTextureArr(l,n,r),o},e}();__reflect(hFO.prototype,"hFO");var bRC=function(){function e(){}return e.IT="boss_hp_num",e.MI="vip_type",e.TE="vip_type_2",e.ES="vip_type_3",e.HF="vip_type_4",e.CA="vip_type_5",e.TA="vip_type_6",e.BL="VIP_TYPE_7",e.UA="fighting_type",e.NO="fighting_add",e.OI="fighting_add_2",e.GS="fighting_add_3",e.KNJ="fighting_add_4",e.TK="FIGHTING_ADD_5",e.ZD="fighting_type_2",e.HB="fighting_type_3",e.PQ="funny_type_1",e.CM="match_type_1",e.RC="rebate_num",e.YT="turnup_type_1",e.ZT="peak_type_1",e.I_="WULIN_TYPE_1",e.BN="official_type_1",e.XE="official_type_2",e.XD="official_type_3",e.WV="official_type_4",e.VF="blue_dia_num",e.KK="blue_dia_type_1",e.YZ="blue_dia_type_2",e.QTY="blue_dia_type_3",e.UT="blue_dia_type_4",e.SL="battle_num",e.PN="taiy_num",e.TP="card_num",e.EZ="appell_num",e.WBC="offline_num",e.DF="num_ps",e.LK="num_chapter",e.GM="godsuit_num",e.QK="game_equip",e.PO="num_task_vip",e.QW="num_lv",e.LZ="num_chat",e.BX="num_sword",e}();__reflect(bRC.prototype,"bRC");var NumberView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.setTextureArr=function(e,t,n){void 0===n&&(n=2);var i=this;e&&(i.u_(),i.ws=e,i.xz=t,i.fg=n,i.yz())},t.prototype.yz=function(){var e=this;!e.nn&&(e.nn=[]);for(var t,n=0,i=0,r=0;r<e.ws.length;r++)e.nn[r]||(e.nn[r]=GObj.$c(egret.Bitmap)),t=e.nn[r],t.texture=e.ws[r],1===e.fg?(t.y=r*(e.ws[r].textureHeight+e.xz),n=t.width,i=t.y+t.height):2===e.fg&&(t.x=r*(e.ws[r].textureWidth+e.xz),n=t.x+t.width,i=t.height),e.addChild(t);e.width=n,e.height=i},t.prototype.u_=function(){var e=this;if(e.ws=null,e.xz=0,e.width=0,e.height=0,e.nn)for(var t=void 0,n=0;n<e.nn.length;n++)t=e.nn[n],t.texture=null,t.parent&&t.parent.removeChild(t)},t.prototype.dispose=function(){var e=this;e.u_(),e.nn=null,e.parent&&e.parent.removeChild(e)},t}(eui.Group);__reflect(NumberView.prototype,"NumberView");var SimpleNumberView=function(e){function t(){var t=e.call(this,"SimpleNumberView")||this;return t.rh=null,t.numberView=new NumberView,t.st=[],t.bitX=0,t.addChild(t.numberView),t}return __extends(t,e),t.prototype.setTexture=function(e,t){var n=this;if(null==n.rh||e!=n.rh){n.rh=e,n.st.length>0&&(n.st=null),n.zp=t;var i=RES.getRes(e),r=GObj.$c(egret.Rectangle);r.x=0,r.y=0,r.width=i.textureWidth/t.length,r.height=i.textureHeight;for(var a=0;a<t.length;a++)r.x=a*r.width,n.st[a]=BitmapUtil.drawToTexture(i,r)}},t.prototype.setNum=function(e){var t=this;e!=t.cw&&(t.cw=e,t.zc())},t.prototype.zc=function(){var e=this;if(e.zp&&e.st){for(var t,n=e.zp,i=[],r=toChars(e.cw),a=0;a<r.length;a++)t=n.indexOf(r.charAt(a)),i.push(e.st[t]);e.numberView.setTextureArr(i,e.bitX)}},t.prototype.dispose=function(){var t=this;GObj.$d(t.numberView),t.numberView=null,t.st=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SimpleNumberView.prototype,"SimpleNumberView");var AwardPreviewPopUi=function(e){function t(){var t=e.call(this,"AwardPreviewPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("22"),e.reward1Data=GObj.$c(eui.ArrayCollection),e.data1Group.itemRenderer=GoodsItemRenderer,e.data1Group.dataProvider=e.reward1Data,e.reward2Data=GObj.$c(eui.ArrayCollection),e.data2Group.itemRenderer=GoodsItemRenderer,e.data2Group.dataProvider=e.reward2Data},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YT,e.ws,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YT,e.ws,e)},t.prototype.initData=function(){this.zq()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.jn=e[0]||0,n.initData())},t.prototype.zq=function(){var e=this;if(e.jn){e.reward1Data.source.length=0,e.reward2Data.source.length=0;var t=3+QycO.SY+e.jn+QycO.SY+1,n=3+QycO.SY+e.jn+QycO.SY+2,i=XCA.RE(t),r=XCA.RE(n);e.reward1Data.source=Nkz.PI(i),e.reward1Data.refresh(),e.reward2Data.source=Nkz.PI(r),e.reward2Data.refresh(),e.desc1Lab.text=fvg.GVf("shuramap05"),e.desc2Lab.text=fvg.GVf("")}},t.prototype.ws=function(){1==App.UY.sceneType&&GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.desc1Lab),t.desc1Lab=null,GObj.$d(t.desc2Lab),t.desc2Lab=null,t.data1Group&&(t.data1Group.dataProvider=null,GObj.$d(t.data1Group)),t.data1Group=null,t.data2Group&&(t.data2Group.dataProvider=null,GObj.$d(t.data2Group)),t.data2Group=null,t.reward2Data=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(AwardPreviewPopUi.prototype,"AwardPreviewPopUi");var BelongerView=function(e){function t(){var t=e.call(this)||this;return t.windowType=2,t.bottom=220,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$s("BelongerView")},t.prototype.initView=function(){this.attackBtn.label=fvg.GVf("shuramap02")},t}(AttackerView);__reflect(BelongerView.prototype,"BelongerView");var BossItemView=function(e){function t(){var t=e.call(this)||this;return t.or=3,t.lc=!1,t.pi=0,t.skinName=RRUU.$s("BossItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.doBtn.label=fvg.GVf(213),e.sweepBtn.label=fvg.GVf("raid7"),e.headImg=GObj.$c(ImageIcon),e.headImg.horizontalCenter=-178,e.headImg.verticalCenter=0,e.addChildAt(e.headImg,e.getChildIndex(e.bossNameBg))},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sa,e),e.doBtn.addEventListener(eui.tep,e.wq,e),e.sweepBtn.addEventListener(eui.tep,e.dq,e),vkG.$a(HUtJ.HEARTBEAT,e.lt,e),vkG.$a(UtJ.CH,e.kj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sa,e),e.doBtn.removeEventListener(eui.tep,e.wq,e),e.sweepBtn.removeEventListener(eui.tep,e.dq,e),vkG.$r(HUtJ.HEARTBEAT,e.lt,e),vkG.$r(UtJ.CH,e.kj,e)},t.prototype.wq=function(e){var t=this;if(t.data){var n=t.data;if(4!=n.type&&(n.h<=0||t.pi>0))return void MessageTipManager.instance.show(fvg.GVf(214));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(t.data&&t.data.TSF){if(t.data.atkno<=0)return void MessageTipManager.instance.show(fvg.GVf(215));if(4==n.type){var i=App.MB.taleNum||0;if(0>=i)return void MessageTipManager.instance.show(fvg.GVf(215))}App.VS.closeAll();var r=t.data.TSF.mapid,a=4===n.type;App.VS.enterMapOpenUI(r,a?10026:10025,null,!1),App.UY.enter(r)}}}},t.prototype.dq=function(e){var t=this;if(t.data){var n=t.data;if(5===n.type){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(n&&n.TSF){if(n.atkno<=0)return void App.TT.show(fvg.GVf(215));CampaignMsgProxy.NU(n.TSF.type,n.tid)}}}},t.prototype.kj=function(e){var t=this;if(t.data){var n=t.data;!n.TSF||e&&e.indexOf(n.tid)<0||(CondHelp.WC(n.TSF.con,n.TSF.conval)?(t.lc=!0,t.condLab.textColor=Color.KA,t.pi=n.atktime-App.NN.serverSecond+2,t.pi<0?(t.pi=0,t.condLab.visible=!1,t.doBtn.visible=!0):(t.condLab.visible=!0,t.doBtn.visible=!1,t.condLab.text=kpd.HE(t.pi)),n.atkno>0?t.numLab.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",Color.SQ,n.atkno)):t.numLab.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",Color.KA,n.atkno)),t.numLab.visible=!0):(t.lc=!1,t.condLab.visible=!0,t.condLab.textColor=Color.KA,t.condLab.text=CondHelp.AH(n.TSF.con,n.TSF.conval),t.numLab.visible=!1,t.doBtn.visible=!1),4==n.type?(t.bgImg.source="boss_json.boss_tale_item_png",t.hpPro.visible=!0,t.hpPro.value=n.h,t.numLab.visible=!1):5==n.type&&(t.bgImg.source="boss_json.boss_one_item_png",t.hpPro.visible=!1),t.zx())}},t.prototype.lt=function(){var e=this;if(e.data&&e.lc||e.data&&e.doBtn.visible)return e.pi=e.data.atktime-ClockManager.instance.serverSecond+2,e.pi<0?(e.pi=0,e.condLab.visible=!1,4==e.data.type&&e.data.h<=0&&(e.data.h=100,e.hpPro.value=e.data.h),void e.kj(null)):void(e.condLab.text=kpd.HE(e.pi))},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;if(t.TSF){e.kj(null),e.bossNameLab.text=t.TSF.name,e.headImg.source=kLM.VJ(t.TSF.icon);var n=XCA.DG(3,t.tid);if(n){for(var i,r=Nkz.PI(n),a=r.length,o=0;a>o&&(i=e._itemArr[o],i||(i=GObj.$c(GoodsItemView),e._itemArr.push(i)),i.data=r[o],i.x=122+82*o,i.verticalCenter=0,e.addChild(i),!(o>=e.or));o++);for(i&&e.doBtn.parent&&e.doBtn.parent.swapChildren(i,e.doBtn),a=e._itemArr.length;a>o;o++)i=e._itemArr[o],i&&i.parent&&i.parent.removeChild(i);0==e.itemIndex&&e.parent&&fNs.instance.execute(hXS.ZK,hXS.YL,e.doBtn)}}}},t.prototype.zx=function(){var e=this,t=e.data;if(t.TSF){t.h>0&&e.pi<=0?App.MB.oneBossList.indexOf(t)>=0?e.doBtn.icon=t.atkno>0?StaticData.GHj:null:e.doBtn.icon=App.MB.taleNum>0?StaticData.GHj:null:e.doBtn.icon=null;var n=!!t.totalCount&&5==t.type&&!e.condLab.visible;e.sweepBtn.visible=n,n?e.doBtn.verticalCenter=20:e.doBtn.verticalCenter=0}},t.prototype.sa=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.condLab),t.condLab=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.bossNameLab),t.bossNameLab=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.doBtn),t.doBtn=null,GObj.$d(t.sweepBtn),t.sweepBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BossItemView.prototype,"BossItemView");var BossView=function(e){function t(){var t=e.call(this,"BossView")||this;return t.owg=5,t.ds=6e4,t.um=1,t.tn=0,ziI.MF("BossFrame"),t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=BossItemView},t.prototype.initData=function(){var e=this,t=XCA.CG(IDU.IK);if(t){var n=t.split(QycO.XP);n&&n.length>=3&&(e.owg=parseInt(n[0]),e.ds=60*parseInt(n[1]),e.um=parseInt(n[2]))}e.taleTimeLab.visible=!1,e.taleNumLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("teamcopy32",Color.TX,App.MB.taleNum+"/"+e.owg)),e.vp()},t.prototype.dataUpdated=function(){var e=this;e.vp(),fNs.instance.execute(hXS.ZK,hXS.RZ,e.viewData.vid)},t.prototype.vp=function(){var e=this;if(e.viewData){var t=e.tabType;e.zk=t,e.datas.source.splice(0,e.datas.source.length);var n;if(1===t?(e.itemScroller.stopAnimation(),e.itemScroller.height=700,e.taleNumLab.visible=!1,e.taleTimeLab.visible=!1,n=App.MB.oneBossList):2===t&&(e.itemScroller.stopAnimation(),e.itemScroller.height=685,e.taleNumLab.visible=!0,e.taleTimeLab.visible=!0,n=App.MB.taleBossList,e.ig()),n){var i=new Array,r=new Array;if(n)for(var a,o=n.length,s=0;o>s;s++)a=n[s],CondHelp.WC(a.TSF.con,a.TSF.conval)?i.push(a):r.push(a);i.sort(e.fb),n=i.concat(r);for(var p=n.length,l=void 0,s=0;p>s;s++)l=n[s],e.datas.source[s]=l}e.datas.refresh()}},t.prototype.ig=function(){var e=this;return App.MB.taleNum>0?e.taleNumLab.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",Color.TX,App.MB.taleNum+"/"+e.owg)):e.taleNumLab.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",Color.KA,App.MB.taleNum+"/"+e.owg)),App.MB.taleNum>=e.owg?(e.tn=0,e.taleTimeLab.visible=!1,void(e.taleTimeLab.text=fvg.GVf("teamcopy43",kpd.HE(e.tn)))):(2===e.zk&&(e.taleTimeLab.visible=!0),e.tn=e.ds-(ClockManager.instance.serverSecond-App.MB.taleTime),void(e.tn<=0&&(e.tn=0)))},t.prototype.tf=function(){var e=this;e.tn<=0||(e.tn--,e.taleTimeLab.text=fvg.GVf("teamcopy43",kpd.HE(e.tn)),e.tn<=0&&(App.MB.taleNum+=1,e.ig()))},t.prototype.fb=function(e,t){return e.atkno&&t.atkno?e.TSF.con>=t.TSF.con?e.TSF.con>t.TSF.con?-1:e.TSF.conval>=t.TSF.conval?-1:1:1:e.atkno||t.atkno?e.atkno?-1:1:e.TSF.con>=t.TSF.con?e.TSF.con>t.TSF.con?-1:e.TSF.conval>=t.TSF.conval?-1:1:1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YY,e.ig,e),vkG.$a(HUtJ.HEARTBEAT,e.tf,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YY,e.ig,e),vkG.$r(HUtJ.HEARTBEAT,e.tf,e)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.ZK,hXS.NW),t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)
},t}(BaseView);__reflect(BossView.prototype,"BossView");var ManyBossItemView=function(e){function t(){var t=e.call(this)||this;return t.dc=3,t.tl=!1,t.uy=0,t.skinName=RRUU.$s("ManyBossItemView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wd,e),e.addEventListener(eui.tep,e.lh,e),vkG.$a(UtJ.CH,e.rt,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wd,e),e.removeEventListener(eui.tep,e.lh,e),vkG.$r(UtJ.CH,e.rt,e)},t.prototype.lh=function(e){var t=this.data,n=t.TSF.name.split("("),i=n[1].split(")");CondHelp.WC(t.TSF.con,t.TSF.conval)||MessageTipManager.instance.show(fvg.GVf("public037",i[0]))},t.prototype.rt=function(e){var t=this;if(t.data){var n=t.data;!n.TSF||e&&e.indexOf(n.tid)<0||(CondHelp.WC(n.TSF.con,n.TSF.conval)?(t.tl=!0,t.maskImg.visible=!1):(t.tl=!1,t.maskImg.visible=!0),t.hq())}},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;if(t.TSF){e.rt(null);var n=t.TSF.name.split("("),i=n[1].split(")");e.bossNameLab.text=i[0],e.headIcon.source=kLM.VJ(t.TSF.icon)}}},t.prototype.hq=function(){var e=this.data;!e.TSF},t.prototype.wd=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bossNameLab),t.bossNameLab=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.maskImg),t.maskImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ManyBossItemView.prototype,"ManyBossItemView");var ManyBossView=function(e){function t(){var t=e.call(this,"ManyBossView")||this;return t.ba=5,t.gy=6e4,t.en=1,t.ndf=0,t.vc=!1,t.nd=!1,t.cx=!1,t.yd_=144,ziI.MF("BossFrame"),t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=ManyBossItemView,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.challengeBtn.label=fvg.GVf("37"),e.firstDescLab.text=fvg.GVf("bosshome_4"),e.nu=GObj.$c(FigureBattleView),e.nu.x=190,e.nu.y=520,e.nu.scaleX=.8,e.nu.scaleY=.8,e.nu.setAction(irK.ACTION_STAND),e.nu.direction8=irK.B_B,e.addChild(e.nu)},t.prototype.initData=function(){var e=this,t=XCA.CG(IDU.IK);if(t){var n=t.split(QycO.XP);n&&n.length>=3&&(e.ba=parseInt(n[0]),e.gy=60*parseInt(n[1]),e.en=parseInt(n[2]))}var i=0,r=App.MB.taleBossList;if(r){var a=new Array;new Array;if(r)for(var o=r.length,s=void 0,p=0;o>p;p++)CondHelp.WC(r[p].TSF.con,r[p].TSF.conval)&&(i=p),s=r[p],a.push(s);e.datas.source=a}e.datas.refresh(),e.taleTimeLab.visible=!1,e.taleNumLab.y=678,e.taleNumLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("teamcopy32",Color.TX,App.MB.taleNum+"/"+e.ba)),e.itemDataGroup.selectedIndex=i,e.mv()},t.prototype.dataUpdated=function(){fNs.instance.execute(hXS.ZK,hXS.RZ,this.viewData.vid)},t.prototype._t=function(){var e=this;e.datas.source.splice(0,e.datas.source.length);var t;if(e.taleNumLab.visible=!0,e.taleTimeLab.visible=!0,e.taleNumLab.y=668,t=App.MB.taleBossList,e.iv(),t){var n=new Array;new Array;if(t)for(var i=t.length,r=void 0,a=0;i>a;a++)r=t[a],n.push(r);e.datas.source=n}e.datas.refresh()},t.prototype.iv=function(){var e=this;return App.MB.taleNum>0?e.taleNumLab.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",Color.TX,App.MB.taleNum+"/"+e.ba)):e.taleNumLab.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",Color.KA,App.MB.taleNum+"/"+e.ba)),App.MB.taleNum>=e.ba?(e.ndf=0,e.taleTimeLab.visible=!1,e.taleNumLab.y=678,void(e.taleTimeLab.text=fvg.GVf("teamcopy43",kpd.HE(e.ndf)))):(e.taleTimeLab.visible=!0,e.taleNumLab.y=668,e.ndf=e.gy-(ClockManager.instance.serverSecond-App.MB.taleTime),void(e.ndf<=0&&(e.ndf=0)))},t.prototype.ar=function(){var e=this;e.as();var t=App.MB.taleBossList[e.itemDataGroup.selectedIndex];if(t)return e.xr=t.atktime-App.NN.serverSecond+2,e.proBar.value=t.h,e.proLab.text=t.h+"%",e.challengeBtn.icon=App.MB.taleNum>0&&e.xr<=0?StaticData.GHj:null,e.xr<0?(e.xr=0,e.revivalTxt.text="",e.challengeBtn.visible=!0,void(4==t.type&&t.h<=0&&(t.h=100))):void(e.revivalTxt.text=fvg.GVf(211,kpd.HE(e.xr)))},t.prototype.as=function(){var e=this;e.ndf<=0||(e.ndf--,e.taleTimeLab.text=fvg.GVf("teamcopy43",kpd.HE(e.ndf)),e.ndf<=0&&(App.MB.taleNum+=1,e.iv()))},t.prototype.tr=function(e,t){return e.atkno&&t.atkno?e.TSF.con>=t.TSF.con?e.TSF.con>t.TSF.con?-1:e.TSF.conval>=t.TSF.conval?-1:1:1:e.atkno||t.atkno?e.atkno?-1:1:e.TSF.con>=t.TSF.con?e.TSF.con>t.TSF.con?-1:e.TSF.conval>=t.TSF.conval?-1:1:1},t.prototype.initEvent=function(){var e=this;e.challengeBtn.addEventListener(eui.tep,e.ie,e),e.itemDataGroup.addEventListener(egret.Event.CHANGE,e.mv,e),e.itemDataGroup.addEventListener(egret.Event.CHANGING,e.bd,e),e.itemDataGroup.addEventListener(egret.Event.ADDED,e.qg,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.yb,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ra,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.ji,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.dm,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ue,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.ka,e),vkG.$a(UtJ.YY,e.iv,e),vkG.$a(HUtJ.HEARTBEAT,e.ar,e)},t.prototype.removeEvent=function(){var e=this;e.challengeBtn.removeEventListener(eui.tep,e.ie,e),e.itemDataGroup.removeEventListener(egret.Event.CHANGE,e.mv,e),e.itemDataGroup.removeEventListener(egret.Event.CHANGING,e.bd,e),e.itemDataGroup.removeEventListener(egret.Event.ADDED,e.qg,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.yb,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ra,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.ji,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.dm,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ue,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.ka,e),vkG.$r(UtJ.YY,e.iv,e),vkG.$r(HUtJ.HEARTBEAT,e.ar,e)},t.prototype.mv=function(){var e=this;e.xk=e.itemDataGroup.selectedItem,e.td()},t.prototype.bd=function(e){var t=this,n=t.datas.source[t.itemDataGroup.selectedIndex];CondHelp.WC(n.TSF.con,n.TSF.conval)||e.preventDefault()},t.prototype.td=function(){var e=this;if(e.xk){e.rewardData.source.length=0,e.proBar.value=e.xk.h,e.proLab.text=e.xk.h+"%",e.nameImg.source=kLM.BBF(e.xk.TSF.icon),usable(e.xk.TSF.res)&&e.nu.updatePart(e.xk.TSF.res),e.firstNameLab.text=usable(e.xk.fn)?e.xk.fn:fvg.GVf("462");var t=XCA.DG(3,e.xk.tid);if(usable(t)){var n=Nkz.PI(t);e.rewardData.replaceAll(n),e.challengeBtn.icon=App.MB.taleNum>0&&e.xr<=0?StaticData.GHj:null}}},t.prototype.ie=function(){var e=this;if(e.xk){if(e.xk.h<=0)return void MessageTipManager.instance.show(fvg.GVf(214));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(e.xk&&e.xk.TSF){if(e.xk.atkno<=0)return void MessageTipManager.instance.show(fvg.GVf(215));if(4==e.xk.type){var t=App.MB.taleNum||0;if(0>=t)return void MessageTipManager.instance.show(fvg.GVf(215))}App.VS.closeAll();var n=e.xk.TSF.mapid;App.VS.enterMapOpenUI(n,10026,null,!1),App.UY.enter(n)}}}},t.prototype.yb=function(){var e=this;if(e.vc){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.vc=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.ra=function(e){this.vc=!0},t.prototype.ji=function(e){this.vc=!1},t.prototype.dm=function(){var e=this;if(e.nd){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.nd=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.ue=function(e){this.nd=!0},t.prototype.ka=function(e){this.nd=!1},t.prototype.qg=function(e){var t=this;ClockManager.setTimeout(t.jn,this,50)},t.prototype.jn=function(){var e=this;if(e.itemDataGroup&&!e.cx){e.itemDataGroup.removeEventListener(egret.Event.ADDED,e.qg,e);var t=e.itemDataGroup.selectedIndex;if(!isNaN(t)){var n=e.yd_*t+e.yd_;if(n<=e.itemScroller.width)e.itemScroller.viewport.scrollH=0;else{n-=e.itemScroller.width;var i=e.itemScroller.viewport.contentWidth-e.itemScroller.width;e.itemScroller.viewport.scrollH=Math.min(n,i)}e.cx=!0}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),fNs.instance.execute(hXS.ZK,hXS.NW),GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.taleTimeLab),t.taleTimeLab=null,GObj.$d(t.taleNumLab),t.taleNumLab=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.nu),t.nu=null,GObj.$d(t.firstDescLab),t.firstDescLab=null,GObj.$d(t.firstNameLab),t.firstNameLab=null,GObj.$d(t.revivalTxt),t.revivalTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ManyBossView.prototype,"ManyBossView");var TeamBossItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TeamBossItemView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.headImg=GObj.$c(ImageIcon),e.headImg.horizontalCenter=0,e.headImg.verticalCenter=0,e.addChild(e.headImg)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){},t.prototype.dispose=function(){this.removeEvent()},t}(BaseItemRenderer);__reflect(TeamBossItemView.prototype,"TeamBossItemView");var TurnupBossItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TurnupBossItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rankBtn.label=fvg.GVf("boss3"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pr,e),e.rankBtn.addEventListener(eui.tep,e.bf,e),e.hpStateBtn.addEventListener(eui.tep,e.ftz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pr,e),e.rankBtn.removeEventListener(eui.tep,e.bf,e),e.hpStateBtn.removeEventListener(eui.tep,e.ftz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ky=e.data,e.cu=App.MB.turnupBossInfo.getBossInfoById(e.ky.tid),e.maskImg.visible=App.MB.turnupBossInfo.challengeBossId!=e.ky.tid,e.selectedImg.visible=!e.maskImg.visible,e.nameTxt.text=e.ky.TSF.name;var t=XCA.DG(51,e.ky.TSF.pre),n=Nkz.PI(t);e.rewardData.source=n,e.headIcon.icon=kLM.VJ(e.ky.TSF.icon),e.fristNameTxt.text=e.cu&&(e.cu.un||"");var i=e.cu?(e.cu.hp||0)/10:0;100==i?e.hpStateBtn.icon="boss_json.hp_attr_none_png":e.hpStateBtn.icon=i>100?"boss_json.hp_attr_up_png":"boss_json.hp_attr_down_png",e.hpStateBtn.label=i+"%"}},t.prototype.bf=function(e){var t=this;t.cu&&App.VS.popup(10028,TurnupBossRankPopUi,null,t.cu.bid,!1,t.ky.tid%10)},t.prototype.ftz=function(e){var t=this;if(t.cu){var n=(t.cu.hp||0)/10,i=fvg.GVf("boss8",n);Alert.WK(i,void 0,Alert.EX)}},t.prototype.pr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.fristNameTxt),t.fristNameTxt=null,GObj.$d(t.selectedImg),t.selectedImg=null,GObj.$d(t.hpStateBtn),t.hpStateBtn=null,t.ky=null,t.rewardData=null,t.cu=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TurnupBossItem.prototype,"TurnupBossItem");var TurnupBossRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TurnupBossRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rankImg.visible=!1,e.rankingTxt.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dy,e),e.rewardBtn.addEventListener(eui.tep,e.je,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dy,e),e.rewardBtn.removeEventListener(eui.tep,e.je,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.rankData=e.data.rankinfo,e.bossIndex=e.data.index,e.itemIndex<3?(e.rankImg.visible=!0,e.rankingTxt.visible=!1,e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png"):(e.rankImg.visible=!1,e.rankingTxt.visible=!0,e.rankingTxt.text=""+(e.itemIndex+1)),e.rankData?(e.nameTxt.text=e.rankData.name,e.damageTxt.text=toChars(e.rankData.score)):(e.nameTxt.text=fvg.GVf("rank10"),e.damageTxt.text="0"))},t.prototype.je=function(e){var t=this,n=GObj.$c(BoxPopUi);n.showDetail(52,1,t.itemIndex+1,Math.min(10*t.bossIndex+t.itemIndex+1,10*t.bossIndex+4))},t.prototype.dy=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankingTxt),t.rankingTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.damageTxt),t.damageTxt=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,t.rankData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TurnupBossRankItem.prototype,"TurnupBossRankItem");var TurnupBossRankPopUi=function(e){function t(){var t=e.call(this,"TurnupBossRankPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("boss3"),e.rankData=GObj.$c(eui.ArrayCollection),e.rankGroup.dataProvider=e.rankData,e.rankGroup.itemRenderer=TurnupBossRankItem,e.rankTxt.text=fvg.GVf("public061"),e.countTxt.text=fvg.GVf("teamcopy18"),e.awardTxt.text=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.dh,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.dh,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ni=e[0],n.xr=e[1],n.tc=e[2],n.xr?n.li=FDG.MK+n.ni:n.li=FDG.BW+n.ni,n.initData())},t.prototype.initData=function(){var e=this;if(e.CSo&&e.li){for(var t,n=0;10>n;n++)t={},t.index=e.tc,e.rankData.source.push(t);e.ix=App.PV.getData(e.li);var i=0;if(e.xr)i=3e4;else if(e.ix){var r=App.NN.date,a=App.MB.turnupBossInfo.getBossInfoById(e.ni),o=1e3*(60*r.getMinutes()+r.getSeconds()),s=GApp.timer-e.ix.rtime;i=s>o||a&&a.die?0:GApp.timer}!e.ix||GApp.timer-e.ix.rtime>=i?e.xr?ArenaMsgProxy.SW(e.li):RankMsgProxy.IU(e.li):e.jt()}},t.prototype.dh=function(e){var t=this;e&&e.type==t.li&&(t.ix=e,t.jt())},t.prototype.jt=function(){for(var e,t=this,n=t.rankData.source.length,i=t.ix.list,r=0;n>r;r++)e=t.rankData.source[r],e.rankinfo=r<i.length?i[r]:null;t.rankData.replaceAll(t.rankData.source),t.myRankTxt.text=fvg.GVf("rank0",t.ix.order||fvg.GVf("public042")),t.myDemageTxt.text=fvg.GVf("rank12",t.ix.score||0)},t.prototype.ys=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myDemageTxt),t.myDemageTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.awardTxt),t.awardTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup)),t.rankGroup=null,t.rankData=null,t.ix=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TurnupBossRankPopUi.prototype,"TurnupBossRankPopUi");var TurnupBossStageItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TurnupBossStageItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("funny4"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rl,e),e.receiveBtn.addEventListener(eui.tep,e.ldm,e),vkG.$a(UtJ.PT,e.zm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rl,e),e.receiveBtn.removeEventListener(eui.tep,e.ldm,e),vkG.$r(UtJ.PT,e.zm,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.titleTxt.textFlow=LgRe.OQ(fvg.GVf("rank13",e.data.target));var t=e.data.index||1,n=XCA.DG(53,100*t+e.itemIndex+1),i=Nkz.PI(n);e.rewardData.source.length=0;for(var r=0;r<i.length;r++)e.rewardData.source.push(i[r]);e.rewardData.refresh(),e.progTxt.text="("+(e.data.curr||0)+"/"+e.data.target+")",e.progTxt.textColor=(e.data.curr||0)>=e.data.target?Color.TX:Color.KA,e.receiveBtn.icon=(e.data.curr||0)>=e.data.target?StaticData.GHj:null,e.bx()}},t.prototype.bx=function(){var e=this,t=App.BG.stageBoxState[9]||0;e.receiveBtn.visible=0==(t&1<<e.itemIndex),e.receivedImg.visible=!e.receiveBtn.visible},t.prototype.zm=function(e){e&&e.indexOf(9)>=0&&this.bx()},t.prototype.ldm=function(e){var t=this;if(t.data){if((t.data.curr||0)<t.data.target)return void App.TT.show(fvg.GVf("firstcharge004"));var n=App.BG.stageBoxState[9]||0;return(n&1<<t.itemIndex)>0?void App.TT.show(fvg.GVf("444")):void ziI.WU(9,t.itemIndex+1)}},t.prototype.rl=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receivedImg),t.receivedImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TurnupBossStageItem.prototype,"TurnupBossStageItem");var TurnupBossStagePopUi=function(e){function t(){var t=e.call(this,"TurnupBossStagePopUi")||this,n=RRUU.$s("TurnupBossStagePopUiSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("107"),e.verticalCenter=0,e.horizontalCenter=0,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=TurnupBossStageItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.ks,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.ks,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.hl=e[0],n.vn=e[1],n.initData())},t.prototype.initData=function(){var e=this;if(e.CSo&&e.hl){for(var t=App.MB.turnupBossInfo.stageScore,n=0;n<t.length;n++)e.rewardData.source.push({target:int(t[n]*e.hl/1e3),index:e.vn});var i=App.PV.getData(FDG.IN);e.ks(i),!i&&e.rewardData.refresh()}},t.prototype.ks=function(e){var t=this;if(e&&e.type==FDG.IN&&t.rewardData.length){for(var n=e.score,i=0;i<t.rewardData.length;i++)t.rewardData.source[i].curr=n;t.rewardData.replaceAll(t.rewardData.source)}},t.prototype.kr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TurnupBossStagePopUi.prototype,"TurnupBossStagePopUi");var TurnupBossView=function(e){function t(){var t=e.call(this,"TurnupBossView")||this,n=RRUU.$s("TurnupBossViewSkin");return t.skinName=n,ziI.MF("reborn_boss"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.challengeBtn.label=fvg.GVf("37"),e.descTxt.text=fvg.GVf("boss2"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=TurnupBossItem},t.prototype.initEvent=function(){var e=this;e.challengeBtn.addEventListener(eui.tep,e.et,e),e.auctionBtn.addEventListener(eui.tep,e.mt,e),vkG.$a(UtJ.ZC,e.wa,e),vkG.$a(UtJ.YJ,e.jo,e)},t.prototype.removeEvent=function(){var e=this;e.challengeBtn.removeEventListener(eui.tep,e.et,e),e.auctionBtn.removeEventListener(eui.tep,e.mt,e),vkG.$r(UtJ.ZC,e.wa,e),vkG.$r(HUtJ.HEARTBEAT,e.h_,e),vkG.$r(UtJ.YJ,e.jo,e)},t.prototype.initData=function(){var e=this;e.mx=App.MB.turnupBossInfo,e.hq(),e.oh(),e.jo()},t.prototype.jo=function(){IoG.XB(this.auctionBtn)},t.prototype.mt=function(){App.BG.turnupInfo.turnupNum>=MaxLevel.AUCTION_MIN_GRADE&&App.VS.open(KqZ.BF)},t.prototype.wa=function(){var e=this;e.hq(),e.oh()},t.prototype.oh=function(){var e=this;if(e.mx){e.lastTimeTxt.textFlow=LgRe.OQ(fvg.GVf("teamcopy32",e.mx.rbac?Color.SQ:Color.KA,e.mx.rbac+"/"+e.mx.maxCount));var t=e.mx.challengeBossId;e.kn=e.mx.getBossInfoById(t),e.pv=0,e.kn&&e.kn.die?(e.um=1,e.pv=e.kn.crrl-App.NN.serverSecond):e.pv=e.mx.rbkt-App.NN.serverSecond,e.revivalTxt.visible=e.pv>0,e.challengeBtn.visible=e.lastTimeTxt.visible=!e.revivalTxt.visible,e.challengeBtn.icon=UsU.ZW()?StaticData.GHj:null,e.pv>0&&(vkG.$a(HUtJ.HEARTBEAT,e.h_,e),e.h_());var n=rRcz.SS(83,!1);App.BG.turnupInfo.turnupNum>=MaxLevel.AUCTION_MIN_GRADE&&n?IoG.XB(e.auctionBtn,!0):IoG.XB(e.auctionBtn,!1)}},t.prototype.h_=function(){var e=this;1==e.um?e.revivalTxt.text=fvg.GVf("boss5",kpd.formatDateBySec5(e.pv)):e.revivalTxt.text=fvg.GVf("boss4",kpd.formatDateBySec5(e.pv)),e.pv<=0&&(vkG.$r(HUtJ.HEARTBEAT,e.h_,e),ziI.MF("reborn_boss")),e.pv--},t.prototype.hq=function(){var e,t,n=this,i=App.MB.turnupBossList,r=n.mx&&n.mx.challengeBossId,a=i.length;for(t=0;a>t;t++)if(i[t].tid==r){e=i[t];break}if(e!=n.mj)for(n.mj=e,t+=1,t>=4?(t=t%2==0?t-1:t-2,t+3>a&&(t=a-3)):t=1,a=t+3,t-=1,n.itemData.source.length=0;a>t;t++)n.itemData.source.push(i[t]);n.itemData.refresh()},t.prototype.et=function(e){var t=this;if(t.mj){if(t.mx.rbac<=0)return void App.TT.show(fvg.GVf("arena9"));if(t.kn&&t.kn.die)return void App.TT.show(fvg.GVf("boss6"));var n=App.NN.date,i=n.getMinutes(),r=n.getHours(),a=App.MB.turnupBossInfo.startTime;if(!(a.indexOf(r)>=0&&50>i))return void App.TT.show(fvg.GVf("boss7"));if(12==App.UY.sceneType)return void App.TT.show(fvg.GVf("revivie7"));if(App.UY.isCanSwitc(!0)){var o=t.mj.TSF.mapid;App.VS.closeAll(),App.VS.enterMapOpenUI(o,10028,void 0,!1),App.UY.enter(o)}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scorller&&(t.scorller.stopAnimation(),t.scorller.viewport=null,GObj.$d(t.scorller)),t.scorller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.lastTimeTxt),t.lastTimeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.revivalTxt),t.revivalTxt=null,GObj.$d(t.auctionBtn),t.auctionBtn=null,t.itemData=null,t.kn=null,t.mx=null,t.mj=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TurnupBossView.prototype,"TurnupBossView");var VipBossView=function(e){function t(){var t=e.call(this,"VipBossView")||this;return t.skinName=RRUU.$s("VipBossView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goBtn.label=fvg.GVf("vipboss01"),e.descLab.text=fvg.GVf("boss9"),e.conditionLab1.text=fvg.GVf("boss10",999,999),e.conditionLab2.text=fvg.GVf("boss11",10,10),e.conditionTxt.text=fvg.GVf("boss13"),e.previewdata=GObj.$c(eui.ArrayCollection),e.preGroup.dataProvider=e.previewdata,e.preGroup.itemRenderer=GoodsItemRenderer,e.fz=[],e.starGroup=GObj.$c(eui.Group),e.starGroup.x=70,e.starGroup.y=42,e.starGroup.width=200;for(var t=0;10>t;t++)e.fz[t]=GObj.$c(eui.Image),e.fz[t].y=33*t,e.starGroup.addChild(e.fz[t]);e.addChild(e.starGroup);var n=XCA.CG(IDU.TNO);e.zw=n.split("|"),e.upStarBtn.label=fvg.GVf("funny3"),e.descLab1.text=fvg.GVf("boss12"),e.zk=[],e.fj=GObj.$c(GeneralRecordView,160),e.si=GObj.$c(GeneralRecordView,160),e.zk.push(e.fj),e.zk.push(e.si)},t.prototype.initData=function(){this.vm()},t.prototype.initEvent=function(){var e=this;e.goBtn.addEventListener(eui.tep,e.ej,e),e.upStarBtn.addEventListener(eui.tep,e.ed,e),vkG.$a(UtJ.ND,e.fg,e),vkG.$a(UtJ.HS,e.uu,e),vkG.$a(UtJ.HA,e.uu,e)},t.prototype.removeEvent=function(){var e=this;e.goBtn.removeEventListener(eui.tep,e.ej,e),e.upStarBtn.removeEventListener(eui.tep,e.ed,e),vkG.$r(UtJ.ND,e.fg,e),vkG.$r(UtJ.HS,e.uu,e),vkG.$r(UtJ.HA,e.uu,e)},t.prototype.ed=function(){var e=this;if(App.KF.grade<e.np)return void msgTip(fvg.GVf("boss14",e.np));var t=App.XT.vipInfo.vipGrade;4>t&&App.VS.open(10088),CampaignMsgProxy.MS()},t.prototype.uu=function(){this.vm()},t.prototype.fg=function(){var e=this;return e.no?(App.MB.vipBossStar>=MaxLevel.SVIP_MAX_LEVEL&&(e.conditionTxt.visible=e.conditionLab2.visible=e.conditionLab1.visible=!1,e.descLab1.visible=!0),void e.uw()):(e.conditionTxt.visible=e.conditionLab2.visible=e.conditionLab1.visible=!1,void(e.descLab1.visible=!1))},t.prototype.vm=function(){var e=this,t=XCA.DG(71,App.MB.vipBossStar);if(t){var n=Nkz.PI(t),i=n.length;e.previewdata.source.splice(0,e.previewdata.length);for(var r=0;i>r;r++)e.previewdata.source.push(n[r]);e.previewdata.refresh();var a;if(a=App.MB.vipBossList){var o=new Array,s=new Array;if(a)for(var p=a.length,l=void 0,c=0;p>c;c++)l=a[c],CondHelp.WC(l.TSF.con,l.TSF.conval)?o.push(l):s.push(l);a=o.concat(s);for(var u=a.length,c=0;u>c;c++)e.ei=a[c];var d=e.ei.atkno>0?Color.SQ:Color.KA;e.frequencyTxt.textFlow=LgRe.OQ(fvg.GVf("vipboss02",d,e.ei.atkno,e.ei.TSF.atkCo)),e.goBtn.icon=e.ei.atkno>0?StaticData.GHj:null,e.no=App.XT.vipInfo.vipGrade>=e.ei.TSF.conval,e.frequencyTxt.visible=e.goBtn.visible=e.no,e.descTxt.text=e.no?"":fvg.GVf("vipboss03",e.ei.TSF.conval),e.es(),e.fg(),e.uh(),e.lk(App.MB.vipBossStar)}var g=App.XT.vipInfo.vipGrade;g>=4?e.upStarBtn.label=fvg.GVf("treasure26"):e.upStarBtn.label=fvg.GVf("funny3")}},t.prototype.aq=function(){var e=this;if(!e.destory)for(var t=e.zk.length-1;t>=0;t--)e.ky=e.zk[t],e.ky.y--,e.ky.y<=-e.ky.totalHeight-5&&(e.ky=e.zk.splice(t,1)[0],e.ky.y=e.zk[0].y+e.zk[0].totalHeight,e.ky.setRecordData(App.MB.crossRecords),e.zk.push(e.ky))},t.prototype.uw=function(){var e,t,n=this;if(App.KF.grade>=n.np&&App.MB.vipBossTimes>=n.pk?(n.goBtn.visible=!1,n.upStarBtn.visible=!0,n.upStarBtn.icon=StaticData.GHj):(n.goBtn.visible=!0,n.upStarBtn.visible=!1),App.MB.vipBossStar>=MaxLevel.SVIP_MAX_LEVEL)return n.conditionLab1.visible=!1,n.conditionLab2.visible=!1,n.conditionTxt.visible=!1,void(n.descLab1.visible=!0);n.conditionLab1.visible=!0,n.conditionLab2.visible=!0,n.conditionTxt.visible=!0,n.descLab1.visible=!1,e=App.KF.grade>=n.np?Color.SQ:Color.KA,n.conditionLab1.textFlow=LgRe.OQ(fvg.GVf("boss10",e,App.KF.grade,n.np));var i;App.MB.vipBossTimes>=n.pk?(i=n.pk,t=Color.SQ):(i=App.MB.vipBossTimes,t=Color.KA),n.conditionLab2.textFlow=LgRe.OQ(fvg.GVf("boss11",t,i,n.pk))},t.prototype.es=function(){var e=this;if(!(App.MB.vipBossStar>=MaxLevel.SVIP_MAX_LEVEL)&&e.zw){var t=e.zw[App.MB.vipBossStar];e.pk=parseInt(t.split(",")[0]),e.np=parseInt(t.split(",")[1])}},t.prototype.uh=function(){var e=this;e.fj.setRecordData(App.MB.crossRecords),e.si.setRecordData(App.MB.crossRecords),e.fj.y=0,e.si.y=e.fj.totalHeight,e.recordGroup.addChild(e.fj),e.recordGroup.addChild(e.si),App.HA.registeEnterFrame2(e.aq,e)},t.prototype.lk=function(e){var t=this,n=Math.floor(e/t.fz.length)||0,i=e%t.fz.length;e>0?0==i?t.gradeLab.text=fvg.GVf("public063",n-1,10):t.gradeLab.text=fvg.GVf("public063",n,i):t.gradeLab.text=fvg.GVf("public063",n,0);for(var r=0;r<t.fz.length;r++)i>r?t.fz[r].source=kLM.getBigStarPathByType((n+1)%5+1):t.fz[r].source=kLM.ZH()},t.prototype.ej=function(e){var t=this;if(t.ei.atkno<1)return void MessageTipManager.instance.show(fvg.GVf(215));if(31!=t.ei.type&&t.ei.h<=0)return void MessageTipManager.instance.show(fvg.GVf(214));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(t.ei&&t.ei.TSF){App.VS.closeAll();var n=t.ei.TSF.mapid;App.VS.enterMapOpenUI(n,10027,null,!1),App.UY.enter(n)}}},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),App.HA.unRegisteEnterFrame2(t.aq,t),GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.frequencyTxt),t.frequencyTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.conditionLab1),t.conditionLab1=null,GObj.$d(t.conditionLab2),t.conditionLab2=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.upStarBtn),t.upStarBtn=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.conditionTxt),t.conditionTxt=null,GObj.$d(t.fj),t.fj=null,GObj.$d(t.si),t.si=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.preGroup&&(t.preGroup.dataProvider=null,GObj.$d(t.preGroup)),t.preGroup=null,GObj.$d(t.starGroup),t.starGroup=null,t.fz)for(var n=0;n<t.fz.length;n++)GObj.$d(t.fz[n]);
t.fz=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(VipBossView.prototype,"VipBossView");var BuyPackItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BuyPackItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=XCA.CG("zero_title").split(",");e.targetLab.text=fvg.GVf("buyPack04",e.data.value,t[e.data.index]),e.bf()}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fg,e),vkG.$a(UtJ.WU,e.bf,e),vkG.$a(UtJ.IN,e.bf,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fg,e),vkG.$r(UtJ.WU,e.bf,e),vkG.$r(UtJ.IN,e.bf,e)},t.prototype.bf=function(){var e=this,t=App.KF.point>=e.data.value,n=App.RG.zeroGiftGet&1<<e.data.index;e.getImg.visible=0!=n,e.redImg.visible=t&&0==n},t.prototype.fg=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.targetLab),t.targetLab=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.getImg),t.getImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BuyPackItem.prototype,"BuyPackItem");var BuyPackView=function(e){function t(){var t=e.call(this,"BuyPackView")||this;return t.skinName=RRUU.$s("BuyPackViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemDatas,e.itemList.itemRenderer=BuyPackItem,e.awardDatas=GObj.$c(eui.ArrayCollection),e.awardGroup.dataProvider=e.awardDatas,e.awardGroup.itemRenderer=GoodsItemRenderer,e.ng=GObj.$c(FigureView),e.addChild(e.ng),e.descLab.text=fvg.GVf("buyPack01"),e.tr=[],e.smaicon.goodsTid=StaticData.TID_POINT_ID,e.mu||(e.mu=GObj.$c(MovieEffect),e.mu.touchEnabled=e.mu.touchChildren=!1,e.mu.play(gYq.HC),e.mu.x=242,e.mu.y=462),e.addChildAt(e.mu,1)},t.prototype.initData=function(){var e=this;e.ba=App.KF.point,e.ar(),e._b(),e.aw()},t.prototype.ar=function(){var e=this;e.qo=[];var t=XCA.CG(IDU.ZW);if(t){e.qo=t.split(","),e.itemDatas.source.length=0;for(var n,i=App.RG.zeroGiftGet,r=0;r<e.qo.length;r++)n={},n.value=parseInt(e.qo[r]),n.index=r,n.value<=App.KF.point?n.state=0:n.state=1,0!=(i&1<<n.index)&&(n.state=2),e.itemDatas.source.push(n),e.tr[r]=parseInt(e.qo[r]);e.itemDatas.source.sort(e.se),e.itemDatas.refresh(),e.itemList.selectedIndex=0,e.lk()}},t.prototype.se=function(e,t){return e.state-t.state},t.prototype.initEvent=function(){var e=this;e.itemScroller.addEventListener(egret.Event.CHANGE,e._b,e),e.itemList.addEventListener(egret.Event.CHANGE,e.zv,e),e.getBtn.addEventListener(eui.tep,e.bf,e),vkG.$a(UtJ.WU,e.ab,e),vkG.$a(UtJ.IN,e.ip,e),vkG.$a(HUtJ.UPDATE_HOUR1,e.aw,e)},t.prototype.removeEvent=function(){var e=this;e.itemScroller.removeEventListener(egret.Event.CHANGE,e._b,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.zv,e),e.getBtn.removeEventListener(eui.tep,e.bf,e),vkG.$r(UtJ.WU,e.ab,e),vkG.$r(UtJ.IN,e.ip,e),vkG.$r(HUtJ.UPDATE_HOUR1,e.aw,e),vkG.$r(HUtJ.HEARTBEAT,e.je,e)},t.prototype.zv=function(){this.lk()},t.prototype.ab=function(){this.ar()},t.prototype.ip=function(){var e=this;e.ba!=App.KF.point&&e.ar(),e.ba=App.KF.point},t.prototype.lk=function(){var e=this;e.jw=e.itemDatas.source[e.itemList.selectedIndex].index||0;var t=XCA.RE("521_"+(e.jw+1));if(t){var n,i=t.split("|");e.awardDatas.source.length=0;for(var r=0;r<i.length;r++){n=GObj.$c(nlwj);var a=i[r].split(",");n.tid=parseInt(a[0]),n.count=parseInt(a[1]),e.awardDatas.source.push(n)}var o=App.KF.point;e.costNumLab.text=e.qo[e.jw],e.costNumLab.textColor=parseInt(e.qo[e.jw])<=o?Color.XB:Color.KA,e.descImg1.source=kLM.SL("desc_2_"+(e.jw+1)),e.rewardImg.source=kLM.UJ(e.jw+1);var s=i[0].split(",")[0],p=XCA.FR(parseInt(s));p&&(e.gi=p.p7||""),e.awardDatas.refresh(),e.cy()}},t.prototype.aw=function(){var e=this,t=XCA.CG(IDU.S_),n=parseInt(t)-kpd.FZ();if(0>n);else if(n>0){var i=App.NN.midnightTime-App.NN.serverSecond+86400,r=Math.round(i/3600);e.lastTimeLab.text=fvg.GVf("buyPack02",n,r)}else vkG.$a(HUtJ.HEARTBEAT,e.je,e)},t.prototype.je=function(){var e=this,t=App.NN.midnightTime-App.NN.serverSecond+86400;return 5>=t?(e.lastTimeLab.text="",void vkG.$r(HUtJ.HEARTBEAT,e.je,e)):void(e.lastTimeLab.text=fvg.GVf("buyPack03",kpd.HE(t)))},t.prototype.cy=function(){var e=this;e.getedImg.visible=e.getBtn.visible=e.costNumLab.visible=e.smaicon.visible=e.jadeBgImg.visible=!1,e.descLab.visible=!1,e.getBtn.icon=null;var t=e.itemDatas.source[e.itemList.selectedIndex].state;2==t?e.getedImg.visible=!0:1==t?(e.getBtn.label=fvg.GVf("shop6"),e.getBtn.visible=e.costNumLab.visible=e.smaicon.visible=e.jadeBgImg.visible=!0):(e.getBtn.label=fvg.GVf("shop6"),e.getBtn.visible=e.costNumLab.visible=e.smaicon.visible=e.jadeBgImg.visible=!0,e.getBtn.icon=StaticData.GHj)},t.prototype.bf=function(e){var t=this,n=XCA.CG(IDU.S_);if(kpd.FZ()>parseInt(n))return msgTip(fvg.GVf("public035")),void App.VS.close(KqZ.QO);var i=t.itemDatas.source[t.itemList.selectedIndex].state;return 1==i?void _JDW.TR(StaticData.TID_POINT_ID):void RechargeGiftMsgproxy.AQ(2,t.jw+1)},t.prototype._b=function(){var e=this,t=e.itemScroller;return t?t.viewport.scrollH<=0?void(e.leftImg.visible=!1):(e.leftImg.visible=!0,t.viewport.scrollH+t.width>=t.viewport.contentWidth?void(e.rightImg.visible=!1):void(e.rightImg.visible=!0)):void 0},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.leftImg),t.leftImg=null,GObj.$d(t.rightImg),t.rightImg=null,GObj.$d(t.itemScroller),t.itemScroller=null,GObj.$d(t.descImg1),t.descImg1=null,GObj.$d(t.rewardImg),t.rewardImg=null,GObj.$d(t.fightImg),t.fightImg=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.awardGroup),t.awardGroup=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.ng),t.ng=null,GObj.$d(t.costNumLab),t.costNumLab=null,GObj.$d(t.smaicon),t.smaicon=null,GObj.$d(t.jadeBgImg),t.jadeBgImg=null,GObj.$d(t.lastTimeLab),t.lastTimeLab=null,GObj.$d(t.mu),t.mu=null,t.itemDatas=null,t.awardDatas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BuyPackView.prototype,"BuyPackView");var CampaignBuyCountPopUi=function(e){function t(){var t=e.call(this,"CampaignBuyCountPopUi")||this;return t.wj=0,t.skinName=RRUU.$s("CampaignBuyCountPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.vu=e[0],n.kw())},t.prototype.initView=function(){var e=this;e.title=fvg.GVf("5"),e.cancelBtn.label=fvg.GVf("6"),e.sureBtn.label=fvg.GVf("7"),e.zo={},e.gr||(e.gr=XCA.CG(IDU.LE));var t=e.gr.split("|");if(t.length>0)for(var n=void 0,i=t.length,r=0;i>r;r++)n=t[r].split(","),n.length>=2&&(e.zo[n[0]]=parseInt(n[1])),r==i-1&&(e.cc=parseInt(n[1]));e.kw()},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.cancelBtn.addEventListener(eui.tep,e.ut,e),e.sureBtn.addEventListener(eui.tep,e.ll,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e),e.minusBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e)},t.prototype.removeEvent=function(){var e=this;e.cancelBtn.removeEventListener(eui.tep,e.ut,e),e.sureBtn.removeEventListener(eui.tep,e.ll,e),e.minBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e),e.maxBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e),e.addBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e),e.minusBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ei,e)},t.prototype.kw=function(){var e=this;if(e.CSo&&e.vu){e.sh=1,e.wa(),e.ro=e.totalBuyCount-(e.vu.buyno||0);var t=e.totalBuyCount-(e.vu.buyno||0),n=t>0?Color.TX:Color.KA;e.lastTxt.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("campaign4",n,t,e.totalBuyCount))}},Object.defineProperty(t.prototype,"totalBuyCount",{get:function(){var e=2;return App.XT.vipInfo.vipGrade>0&&(e+=App.XT.getPrivilegeByVipGradeAndType(App.XT.vipInfo.vipGrade,3)),e},enumerable:!0,configurable:!0}),t.prototype.ei=function(e){var t=this;if(!t.lu){t.lu=!0,t.vq=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.dm=10;break;case t.minBtn:t.dm=-10;break;case t.addBtn:t.dm=1;break;case t.minusBtn:t.dm=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.gq,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.gq,t),Nvm.instance.registeEnterFrame(t.yd,t)}},t.prototype.gq=function(e){var t=this;t.lu&&(t.lu=!1,t.vq<10&&(t.sh+=t.dm,t.wa()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.gq,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.gq,t),Nvm.instance.unRegisteEnterFrame(t.yd,t))},t.prototype.yd=function(){var e=this;e.lu&&(e.vq++,e.vq%10==0&&(e.sh+=e.dm,e.wa()))},t.prototype.wa=function(){var e=this;e.sh>=e.ro&&(e.sh=e.ro),e.sh<=0&&(e.sh=1);var t=(e.totalBuyCount,e.totalBuyCount-(e.vu.buyno||0));0>=t&&(t=1),e.countTxt.text=fvg.GVf("beauty17",e.sh,t);for(var n=e.vu.buyno||0,i=0,r=n;r<e.sh+n;r++)i+=e.zo[r+1]?e.zo[r+1]:e.cc;e.wj=i,e.descTxt.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("campaign3",e.wj,e.sh))},t.prototype.ut=function(e){GObj.$d(this)},t.prototype.ll=function(e){var t=this;return t.wj>App.KF.point?void(IoG.EZ()?MessageTipManager.instance.show(fvg.GVf("public017")):_JDW.TR(StaticData.TID_POINT_ID)):t.vu.buyno>=t.totalBuyCount?(MessageTipManager.instance.show(fvg.GVf("304")),void t.ut(null)):(CampaignMsgProxy.AB(t.vu.tid,t.sh),void t.ut(null))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.minusBtn),t.minusBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.lastTxt),t.lastTxt=null,GObj.$d(t.vu),t.vu=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CampaignBuyCountPopUi.prototype,"CampaignBuyCountPopUi");var CampaignItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CampaignItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ez=GObj.$c(egret.HtmlTextParser),e.doBtn.label=fvg.GVf(213),e.numLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("teamcopy32",Color.SQ,1));var t=App.NN.date.getDay();(0==t||6==t)&&(e.ur||(e.ur=GObj.$c(egret.Bitmap),e.ur.texture=RES.getRes("camp_double_png"),e.addChild(e.ur)))},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wr,e),e.doBtn.addEventListener(eui.tep,e.ce,e),e.numBtn.addEventListener(eui.tep,e.px,e),vkG.$a(UtJ.CH,e.bz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wr,e),e.doBtn.removeEventListener(eui.tep,e.ce,e),e.numBtn.removeEventListener(eui.tep,e.px,e),vkG.$r(UtJ.CH,e.bz,e)},t.prototype.ce=function(e){var t=this;if(t.ga){if(t.ga.atkno<=0)return void MessageTipManager.instance.show(fvg.GVf(216));if(!App.UY.isCanSwitc())return;var n=t.ga.TSF.mapid;n&&(App.VS.closeAll(),App.VS.enterMapOpenUI(n,10047,null,!1),App.MB.campaignName=t.ga.TSF.name,App.UY.enter(n))}},t.prototype.px=function(e){var t=this;t.ga&&App.VS.popup(10047,CampaignBuyCountPopUi,null,t.ga)},Object.defineProperty(t.prototype,"totalBuyCount",{get:function(){var e=2;return App.XT.vipInfo.vipGrade>0&&(e+=App.XT.getPrivilegeByVipGradeAndType(App.XT.vipInfo.vipGrade,3)),e},enumerable:!0,configurable:!0}),t.prototype.bz=function(e){var t=this;!t.ga||e.indexOf(t.ga.tid)<0||(t.ga.atkno>0?t.numLab.textFlow=t.ez.parser(fvg.GVf("teamcopy32",Color.SQ,t.ga.atkno)):t.numLab.textFlow=t.ez.parser(fvg.GVf("teamcopy32",Color.KA,t.ga.atkno)),t.ga.atkno>t.se&&MessageTipManager.instance.show(fvg.GVf("campaign2")),t.bk())},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.ga=e.data,e.ga.TSF)){e.bk();var t=1,n=1;e.ga.data&&(t=e.ga.data.level||1,n=e.ga.data.next),e.bgImg.source=StaticData.CAMPAIGN_FRAME_BG[e.ga.type],CondHelp.WC(e.ga.TSF.con,e.ga.TSF.conval)?(e.levelLab.text=fvg.GVf(302,t),e.nextLab.text=fvg.GVf(301,n,t+1),e.se=e.ga.atkno,e.ga.atkno>0?e.numLab.textFlow=e.ez.parser(fvg.GVf("teamcopy32",Color.SQ,e.ga.atkno)):e.numLab.textFlow=e.ez.parser(fvg.GVf("teamcopy32",Color.KA,e.ga.atkno)),e.numBtn.visible=e.numLab.visible=e.levelLab.visible=e.doBtn.visible=!0):(e.nextLab.text=CondHelp.AH(e.ga.TSF.con,e.ga.TSF.conval),e.numBtn.visible=e.numLab.visible=e.levelLab.visible=e.doBtn.visible=!1),0==e.itemIndex&&e.parent&&fNs.instance.execute(hXS.FU,hXS.RZ,e.doBtn)}},t.prototype.bk=function(){var e=this;e.ga&&e.ga.atkno&&e.ga.atkno>0?e.doBtn.icon=StaticData.GHj:e.doBtn.icon=null},t.prototype.wr=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.doBtn),t.doBtn=null,GObj.$d(t.levelLab),t.levelLab=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.ur),t.ur=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CampaignItemView.prototype,"CampaignItemView");var CampaignView=function(e){function t(t){var n=e.call(this,"CampaignView")||this;return n.skinName=RRUU.$s("CampaignView"),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=CampaignItemView,e.descLab.text=fvg.GVf(300),e.raidBtn.label=fvg.GVf("boss1"),e.goBtn.label=fvg.GVf("funny3"),e.raidLab.text=fvg.GVf("campaign1")},t.prototype.lf=function(){var e=this,t=App.XT.vipInfo.vipGrade,n=App.XT.getPrivilegeByVipGradeAndType(t,14);0==n?(e.raidBtn.visible=!1,e.goBtn.visible=!IoG.EZ(),e.raidLab.visible=!IoG.EZ()):(e.raidBtn.visible=!0,e.goBtn.visible=!1,e.raidLab.visible=!1)},t.prototype.initData=function(){var e=this;e.datas.source.splice(0,e.datas.source.length);var t=App.MB.mtcampList;if(t){var n={},i=App.KF.fgrade||0,r=1,a=0,o=XCA.CG(IDU.YP);if(o){var s=Nkz.LI(o);for(var p in s)i>=parseInt(p)&&r<parseInt(s[p])&&(r=parseInt(s[p]));for(a=i+1;100>a&&s[a]&&!(parseInt(s[a])>r);a++);n.level=r,n.next=a}for(var l=t.length,c=void 0,u=0;l>u;u++)c=t[u],c.data=n,e.datas.source[u]=c}e.datas.source.sort(e.bw),e.datas.refresh(),e.jo(),e.lf()},t.prototype.initEvent=function(){var e=this;e.raidBtn.addEventListener(eui.tep,e.gu,e),e.goBtn.addEventListener(eui.tep,e.kp,e),vkG.$a(UtJ.CH,e.jo,e),vkG.$a(UtJ.YJ,e.lf,e)},t.prototype.removeEvent=function(){var e=this;e.raidBtn.removeEventListener(eui.tep,e.gu,e),e.goBtn.removeEventListener(eui.tep,e.kp,e),vkG.$r(UtJ.CH,e.jo,e),vkG.$r(UtJ.YJ,e.lf,e)},t.prototype.jo=function(){for(var e,t=this,n=App.MB.mtcampList,i=n.length,r=!1,a=0;i>a;a++)e=t.datas.source[a],e&&e.atkno&&e.atkno>0&&(r=!0);t.raidBtn.icon=r?StaticData.GHj:""},t.prototype.bw=function(e,t){return e.type<t.type?-1:1},t.prototype.gu=function(e){CampaignMsgProxy.IQ()},t.prototype.kp=function(e){App.VS.open(10089)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.FU,hXS.YL),t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,GObj.$d(t.raidBtn),t.raidBtn=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.raidLab),t.raidLab=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(CampaignView.prototype,"CampaignView");var CardAttrItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CardAttrItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.noActiveLab.text=fvg.GVf("card2")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.attrtemp;e.bt=e.data.sonType;var n,i,r=App.BV.cardWakeInfo||{},a=r[e.bt]||0,o="";if(t){for(n in xxf.UK)t[n]&&(i=t[n],o+=fvg.GVf("skill004",xxf.UK[n],i));for(n in xxf.IM)t[n]&&(i=t[n],o+=fvg.GVf("skill004",xxf.IM[n],(i/10).toFixed(1)+"%"))}a>e.itemIndex?(e.noActiveLab.visible=!1,e.descLab.textColor=Color.TX):(e.noActiveLab.visible=!0,e.descLab.textColor=Color.SE),e.descLab.textFlow=LgRe.OQ(o),e.noActiveLab.x=e.descLab.x+e.descLab.width+2}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.oe,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.oe,e)},t.prototype.oe=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.noActiveLab),t.noActiveLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardAttrItem.prototype,"CardAttrItem");var CardBtnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$e("SelectedButton_2_2"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.az();var t="";switch(e.data.type){case 0:t=RRUU.$e("SelectedButton_2_1");break;case 1:t=RRUU.$e("SelectedButton_2_2");break;case 2:t=RRUU.$e("SelectedButton_2_3")}e.once(egret.Event.COMPLETE,e.az,e),e.skinName=t}},t.prototype.az=function(){var e=this;e.CSo&&e.data&&(e.pp=e.data.temp,e.labelDisplay.text=e.pp.name,e.iconDisplay.source=UsU.UK(e.pp)?StaticData.GHj:null)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sw,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sw,e)},t.prototype.sw=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.pp),t.pp=null,GObj.$d(t.labelDisplay),t.labelDisplay=null,GObj.$d(t.iconDisplay),t.iconDisplay=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardBtnItem.prototype,"CardBtnItem");var CardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CardItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},Object.defineProperty(t.prototype,"isShowStar",{get:function(){return this.zu},set:function(e){this.zu=e},enumerable:!0,configurable:!0}),t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.jy=e.data;var t=XCA.AQS.UFA(69,e.jy,1);if(t){var n=GObj.$c(nlwj);n.tid=parseInt(t.cost),e.itemView.data=n;var i=App.BV.cardInfo||{};e.mc=i[e.jy]||0,e.itemView.bottomText=fvg.GVf("skill020",e.mc)}}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ke,e),vkG.$a(UtJ.GW,e.ii,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ke,e),vkG.$r(UtJ.GW,e.ii,e)},t.prototype.ii=function(){this.dataChanged()},t.prototype.ke=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardItem.prototype,"CardItem");var CardItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CardItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.noActiveLab.text=fvg.GVf("card23")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.di=e.data.type,e.td(),e.fz())},t.prototype.fz=function(){var e=this,t=App.BV.cardWakeInfo||{},n=t[e.di]||0,i=XCA.AQS.UFA(70,e.di,1);i&&(e.nameLab.text=i.name,e.starGradeLab.text=n+"",0>=n?(e.noActiveLab.visible=!0,e.starGradeLab.visible=!1,e.starImg.visible=!1):(e.noActiveLab.visible=!1,e.starGradeLab.visible=!0,e.starImg.visible=!0),e.wakeBtn.icon=UsU.LW(n,i)?StaticData.GHj:null,n>0?(e.bgImg.source=null,e.titlebgImg.source=kLM.GD(gLw.GM(i.tid)),e.rm(i.tid)):(e.bgImg.source=kLM.BGW(gLw.GM(i.tid)),e.titlebgImg.source=kLM.GD(gLw.GM(i.tid)),e.oe&&(e.oe.stop(),e.oe.parent&&e.removeChild(e.oe))))},t.prototype.rm=function(e){var t=this,n=gLw.GM(e);t.oe&&(t.oe.stop(),t.oe.parent&&t.removeChild(t.oe)),t.oe=App.KB.getUIEffect("q_"+n),t.oe.x=-11,t.oe.y=-20,t.oe.play(),!t.oe.parent&&t.addChildAt(t.oe,2)},t.prototype.td=function(){var e=this;e.yk=e.data.masType;var t=XCA.AQS.UFA(69,e.di,1);if(t){e.nameLab.text=t.name;var n=App.BV.cardInfo||{};e.on=n[e.di]||0,e.gradeLab.text=e.on+"",e.maskImg.visible=e.on>0?!1:!0,e.icon.source=UsU.PL(e.on,t)?StaticData.GHj:null,e.cardImg.icon=kLM.IF(gLw.getIconIdByTid(t.tid))}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.gf,e),e.wakeBtn.addEventListener(eui.tep,e.es,e),e.cardImg.addEventListener(eui.tep,e.te,e),vkG.$a(UtJ.GW,e.c_,e),vkG.$a(UtJ.PTT,e.bk,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.gf,e),e.wakeBtn.removeEventListener(eui.tep,e.es,e),e.cardImg.removeEventListener(eui.tep,e.te,e),vkG.$r(UtJ.GW,e.c_,e),vkG.$r(UtJ.PTT,e.bk,e)},t.prototype.c_=function(){this.td()},t.prototype.bk=function(){this.fz()},t.prototype.te=function(){var e=this;App.VS.popup(10016,CardupGradePopUi,null,e.yk,e.itemIndex)},t.prototype.es=function(){var e=this;return e.on<=0?void MessageTipManager.instance.show(fvg.GVf("card11")):void App.VS.popup(10016,CardWakePopUi,null,e.yk,e.di)},t.prototype.gf=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cardImg),t.cardImg=null,GObj.$d(t.wakeBtn),t.wakeBtn=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.nameLab),t.nameLab,GObj.$d(t.starGradeLab),t.starGradeLab=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.noActiveLab),t.noActiveLab=null,GObj.$d(t.icon),t.icon=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.titlebgImg),t.titlebgImg=null,t.oe&&(t.oe.stop(),GObj.$d(t.oe)),t.oe=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardItemView.prototype,"CardItemView");var CardupGradePopUi=function(e){function t(){var t=e.call(this,"CardupGradePopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("card26"),e.fightView=GObj.$c(FightView),e.fightView.x=106,e.fightView.y=40,e.addChild(e.fightView),e.cardDatas=GObj.$c(eui.ArrayCollection),e.cardList.dataProvider=e.cardDatas,e.cardList.itemRenderer=CardItem,e.upgradeBtn1.label=fvg.GVf("beauty02"),e.upgradeBtn.label=fvg.GVf("public012"),e.upgradeBtn2.label=fvg.GVf("specia001"),e.smaicon1.goodsTid=StaticData.TID_GOODS_52,e.smaicon2.goodsTid=StaticData.TID_GOODS_52},t.prototype.initData=function(){var e=this;e.cardList.selectedIndex=e.jf||0,e.dp()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>1&&(n.py=e[0],n.jf=e[1],n.cardList.selectedIndex=n.jf||0,n.dp())},t.prototype.dp=function(){var e=this;e.CSo&&(e.fu(),e.ww(),e.nw(),e.kx())},t.prototype.fu=function(){var e=this;if(e.nq=XCA.AQS.UFA(71,e.py,1),e.nq){e.yg=e.nq.p5.split(",");for(var t=[],n=0;n<e.yg.length;n++){var i=parseInt(e.yg[n]);t.push(i)}e.cardDatas.replaceAll(t),e.hu=parseInt(e.yg[e.cardList.selectedIndex]),e.bgImg.source=kLM.BB(e.hu)}},t.prototype.ww=function(){var e=this,t=GObj.$c(nlwj);if(e.ic=XCA.AQS.UFA(69,e.hu,1),e.ic){var n=gLw.GM(e.ic.tid);e.nameLabel.text=e.ic.name,e.nameLabel.textColor=aKF.DU(n),e.nh=e.ic.maxgrade;var i=App.BV.cardInfo||{};e.tj=i[e.hu]||0;var r=i["mc_"+e.hu]||0;if(e.fightView.fightNum=r,e.tj<=0?(e.currAttrLab.text=fvg.GVf("public010"),e.currAttrLab.textColor=Color.KA):(e.currAttrLab.textFlow=LgRe.OQ(e.sk(e.tj)),e.currAttrLab.textColor=Color.SE),e.tj>=e.ic.maxgrade?e.nextAttrLab.text=fvg.GVf("fixsoul12"):e.nextAttrLab.textFlow=LgRe.OQ(e.sk(e.tj+1)),e.tj<=0){e.activeGroup.visible=!0,e.upgradeGroup.visible=!1,e.mu=parseInt(e.ic.cost),t.tid=e.mu,e.needItem.data=t;var a=App.FK.hsx(e.mu)<1?Color.KA:Color.TX;e.needItem.bottomText=App.FK.hsx(e.mu)+"/1",e.needItem.bottomColor=a}else{e.mu=StaticData.TID_GOODS_52;var o=App.JP.getCardUpgradeConsume(e.tj,n),s=Math.ceil(o/10);e.upgradeLab.text=fvg.GVf("beauty17",App.FK.hsx(e.mu),s),e.upgradeLab.textColor=App.FK.hsx(e.mu)>=s?Color.TX:Color.KA,e.upgradeLab1.text=fvg.GVf("beauty17",App.FK.hsx(e.mu),1),e.upgradeLab1.textColor=App.FK.hsx(e.mu)>=1?Color.TX:Color.KA,e.tj>=e.ic.maxgrade?(e.progressBar.value=100,e.expProLab.text="MAX"):(e.activeGroup.visible=!1,e.upgradeGroup.visible=!0,e.progressBar.value=int((i["gp_"+e.hu]||0)/o*100),e.expProLab.text=fvg.GVf("beauty17",i["gp_"+e.hu]||0,o))}}},t.prototype.sk=function(e){var t,n,i=this,r=XCA.YV(i.ic.attrid),a=gLw.GM(i.ic.tid),o="",s=0;if(r){for(t in xxf.UK)n=App.JP.getCardUpgradeAttr(r[t],e,a)||0,n>0&&(n=0==e?0:n,o+="\n"+fvg.GVf("skill004",xxf.UK[t],n),s+=App.JP.getCardUpgradeAttr(r.p1,e,a)||0);for(t in xxf.IM)n=App.JP.getCardUpgradeAttr(r[t],e,a)||0,n>0&&(o+="\n"+fvg.GVf("skill004",xxf.IM[t],n))}return o},t.prototype.nw=function(){var e=this,t=App.BV.cardWakeInfo||{};e.mv=t[e.hu]||0;var n=XCA.AQS.UFA(70,e.hu,1);n&&(e.buffIcon.upgradeId=n.tid,e.mv<=0?(e.attrDescLab.textFlow=LgRe.OQ(AttributeTemplate.TI(n.attrid+1)),e.lockImg.visible=!0):(e.attrDescLab.textFlow=LgRe.OQ(AttributeTemplate.TI(n.attrid+e.mv)),e.lockImg.visible=!1),e.conditionLab.text=fvg.GVf("card4",e.mv),e.starImg.x=e.conditionLab.x+e.conditionLab.width+2)},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.je,e),e.upgradeBtn1.addEventListener(eui.tep,e.je,e),e.upgradeBtn2.addEventListener(eui.tep,e.re,e),e.cardList.addEventListener(egret.Event.CHANGE,e.qg,e),vkG.$a(UtJ.GW,e.z_,e),vkG.$a(UtJ.PTT,e.ir,e),vkG.$a(UtJ.DV,e.kx,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.je,e),e.upgradeBtn1.removeEventListener(eui.tep,e.je,e),e.upgradeBtn2.removeEventListener(eui.tep,e.re,e),e.cardList.removeEventListener(egret.Event.CHANGE,e.qg,e),vkG.$r(UtJ.GW,e.z_,e),vkG.$r(UtJ.PTT,e.ir,e),vkG.$r(UtJ.DV,e.kx,e)},t.prototype.kx=function(){var e=this;e.upgradeBtn.icon=e.upgradeBtn1.icon=e.upgradeBtn2.icon=UsU.PL(e.tj,e.ic)?StaticData.GHj:null},t.prototype.z_=function(){var e=this;e.ww(),e.kx()},t.prototype.ir=function(){var e=this;e.nw(),e.kx()},t.prototype.qg=function(e){var t=this,n=t.cardList.selectedIndex;t.hu=parseInt(t.yg[n]),t.dp()},t.prototype.re=function(){var e=this,t=App.BV.cardInfo||{},n=t[e.hu]||0;if(n>=e.ic.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var i=App.FK.hsx(e.mu);return 1>i?void(n>0?_JDW.TR(StaticData.TID_GOODS_52):MessageTipManager.instance.show(fvg.GVf("public015"))):void CardMsgProxy.GH(2,e.hu)},t.prototype.je=function(){var e=this,t=App.BV.cardInfo||{},n=t[e.hu]||0;if(n>=e.ic.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var i=App.FK.hsx(e.mu);return 1>i?void(n>0?_JDW.TR(StaticData.TID_GOODS_52):MessageTipManager.instance.show(fvg.GVf("public015"))):void CardMsgProxy.GH(3,e.hu)},t.prototype.uw=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.needItem),t.needItem=null,GObj.$d(t.upgradeBtn2),t.upgradeBtn2=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.upgradeBtn1),t.upgradeBtn1=null,GObj.$d(t.buffIcon),t.buffIcon=null,GObj.$d(t.conditionLab),t.conditionLab=null,GObj.$d(t.attrDescLab),t.attrDescLab=null,GObj.$d(t.cardScroller),t.cardScroller=null,GObj.$d(t.cardList),t.cardList=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,GObj.$d(t.expProLab),t.expProLab=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.upgradeLab),t.upgradeLab=null,GObj.$d(t.ic),t.ic=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.activeGroup),t.activeGroup=null,GObj.$d(t.upgradeLab1),t.upgradeLab1=null,GObj.$d(t.jieImg),t.jieImg=null,GObj.$d(t.nameLabel),t.nameLabel=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,e.prototype.dispose.call(this)
},t}(BasePopUi);__reflect(CardupGradePopUi.prototype,"CardupGradePopUi");var CardView=function(e){function t(){var t=e.call(this,"CardView")||this;return t.bb=!1,t.ye=!1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.fightView=GObj.$c(FightView),t.fightView.x=121,t.fightView.y=-10,t.addChildAt(t.fightView,1),t.cardDatas=GObj.$c(eui.ArrayCollection),t.cardList.dataProvider=t.cardDatas,t.cardList.itemRenderer=CardItemView,t.btnDatas=GObj.$c(eui.ArrayCollection),t.btnList.dataProvider=t.btnDatas,t.btnList.itemRenderer=CardBtnItem,t.attrBtn.label=fvg.GVf("card25")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.btnList.selectedIndex=0,t.ph()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.upGradeBtn.addEventListener(eui.tep,t.kp,t),t.btnList.addEventListener(egret.Event.CHANGING,t.d_,t),t.attrBtn.addEventListener(eui.tep,t.xw,t),vkG.$a(UtJ.NX,t.bz,t),vkG.$a(UtJ.GW,t.bz,t),vkG.$a(UtJ.PTT,t.bz,t)},t.prototype.removeEvent=function(){var e=this;e.upGradeBtn.removeEventListener(eui.tep,e.kp,e),e.btnList.removeEventListener(egret.Event.CHANGE,e.d_,e),e.attrBtn.removeEventListener(eui.tep,e.xw,e),vkG.$r(UtJ.NX,e.bz,e),vkG.$r(UtJ.GW,e.bz,e),vkG.$r(UtJ.PTT,e.bz,e)},t.prototype.bz=function(){this.ph()},t.prototype.xw=function(){App.VS.popup(10016,CardWakeAttrViewPopUi)},t.prototype.ph=function(){var e=this;e.g_(),e.qz=e.btnList.selectedIndex+1,e.aq();var t=App.BV.cardGroupInfo||{};e.nw=t[e.qz]||0,e.groupNameLab.text=fvg.GVf("card1",e.rs.name,e.nw);var n=t.cac||0;e.fightView.fightNum=n;e.rs.attrid+e.nw;e.nw<=0?(e.currAttrLab.text=fvg.GVf("public010"),e.currAttrLab.textColor=Color.KA):(e.currAttrLab.text=LRJ.KG(e.rs.attrid+e.nw),e.currAttrLab.textColor=Color.SE),e.nw>=e.rs.maxgrade?e.nextAttrLab.text=fvg.GVf("fixsoul12"):e.nextAttrLab.text=LRJ.KG(e.rs.attrid+e.nw+1),e.gu();var i=XCA.AQS.UFA(71,e.qz,1);e.upGradeBtn.icon=UsU.YI(i)?StaticData.GHj:null},t.prototype.aq=function(){var e=this;if(e.rs=XCA.AQS.UFA(71,e.qz,1),e.rs){e.cardDatas.source.splice(0,e.cardDatas.source.length),e.zv=e.rs.p5.split(",");for(var t=0;t<e.zv.length;t++){var n=parseInt(e.zv[t]);e.cardDatas.source.push({type:n,masType:e.qz})}e.cardDatas.refresh()}},t.prototype.gu=function(){var e=this;e.upGradeBtn.label=fvg.GVf("specia001");var t=e.rs.p6.split(",");e.nw<=0?(e.gradeDescLab.text=fvg.GVf("card6"),e.upGradeBtn.label=fvg.GVf("public012")):e.gradeDescLab.text=fvg.GVf("card7",t[e.nw],App.BV.getAllGradeByType(e.zv),t[e.nw]),e.nw>=e.rs.maxgrade?e.gradeDescLab.visible=!1:e.gradeDescLab.visible=!0,App.BV.getAllGradeByType(e.zv)>=parseInt(t[e.nw])?e.nw<=0?App.BV.getActiveNumByType(e.zv)>=e.zv.length/2?e.gradeDescLab.textColor=Color.SQ:e.gradeDescLab.textColor=Color.KA:e.gradeDescLab.textColor=Color.SQ:e.gradeDescLab.textColor=Color.KA},t.prototype.g_=function(){var e,t=XCA.AQS.oVs(71),n=[];for(var i in t)e={},e.temp=t[i][1],e.type=1,n.push(e);n[0].type=0,n[n.length-1].type=2,this.btnDatas.replaceAll(n)},t.prototype.d_=function(){this.ph()},t.prototype.u_=function(){if(this.ye){this.btnScroller}},t.prototype.bm=function(e){this.ye=!0},t.prototype.qh=function(e){this.ye=!1},t.prototype.ro=function(){var e=this;if(e.bb){e.btnScroller}},t.prototype.cp=function(e){this.bb=!0},t.prototype.tx=function(e){this.bb=!1},t.prototype.kp=function(){var e=this;if(e.nw<=0&&App.BV.getActiveNumByType(e.zv)<e.zv.length/2)return void MessageTipManager.instance.show(fvg.GVf("card8"));if(e.nw>=e.rs.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("fixsoul12"));var t=e.rs.p6.split(",");return App.BV.getAllGradeByType(e.zv)<parseInt(t[e.nw])?void MessageTipManager.instance.show(fvg.GVf("card9",t[e.nw])):void CardMsgProxy.TW(1,e.qz)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.upGradeBtn),t.upGradeBtn=null,GObj.$d(t.groupNameLab),t.groupNameLab=null,GObj.$d(t.cardScroller),t.cardScroller=null,GObj.$d(t.cardList),t.cardList=null,GObj.$d(t.btnScroller),t.btnScroller=null,GObj.$d(t.btnList),t.btnList=null,GObj.$d(t.gradeDescLab),t.gradeDescLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.fightView),t.fightView=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(CardView.prototype,"CardView");var CardWakeAttrPopUi=function(e){function t(){var t=e.call(this,"CardWakeAttrPopUi")||this;return t.skinName=RRUU.$s("CardWakeAttrPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.title=fvg.GVf("martialart109")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.l_()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n._k=e[0]),n.l_()},t.prototype.l_=function(){var e=this;if(e.CSo&&e._k){var t=App.BV.cardWakeInfo||{},n=XCA.AQS.UFA(70,e._k,1),i=t[e._k]||0;e.playerValueTxt.text=AttributeTemplate.KK(n.attrid+(i||1),0==i)}},t.prototype.gh=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.playerValueTxt),t.playerValueTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CardWakeAttrPopUi.prototype,"CardWakeAttrPopUi");var CardWakeAttrViewPopUi=function(e){function t(){var t=e.call(this,"CardWakeAttrViewPopUi")||this;return t.skinName=RRUU.$s("CardWakeAttrViewPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.titleTxt.text=fvg.GVf("card25")},t.prototype.initData=function(){this.yf()},t.prototype.yf=function(){var e=this;e.showAttr(e.descTxt)},t.prototype.showAttr=function(e){var t,n,i="",r=App.BG.playerAttrsInfo,a="";for(t in xxf.IM)n=r[t],n&&t==toChars("evcardpropve")&&(a+="\n"+fvg.GVf("card17",(n/10).toFixed(1),(n/10*2.5).toFixed(1))),n&&t==toChars("evcardpropvp")&&(a+="\n"+fvg.GVf("card19",(n/10).toFixed(1))),t==toChars("evcardatkpve")&&(n=n||0,a+="\n"+fvg.GVf("card21")+"\n"+fvg.GVf("card18",(n/10+5).toFixed(1),(10*(n/10+5)).toFixed(1))),t==toChars("evcardatkpvp")&&(n=n||0,a+="\n"+fvg.GVf("card22")+"\n"+fvg.GVf("card20",(n/10+20).toFixed(1)));i=a.substr(1),e.textFlow=LgRe.OQ(i)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.ra=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.kl),t.kl=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CardWakeAttrViewPopUi.prototype,"CardWakeAttrViewPopUi");var CardWakeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CardWakeItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},Object.defineProperty(t.prototype,"isShowStar",{get:function(){return this.mx},set:function(e){this.mx=e},enumerable:!0,configurable:!0}),t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ja=e.data;var t=XCA.AQS.UFA(70,e.ja,1);if(t){var n=GObj.$c(nlwj);n.tid=parseInt(t.cost),e.itemView.data=n;var i=App.BV.cardWakeInfo||{};e.ha=i[e.ja]||0,e.gradeLab.text=e.ha+""}}},Object.defineProperty(t.prototype,"sonType",{get:function(){return this.ja},enumerable:!0,configurable:!0}),t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wl,e),vkG.$a(UtJ.PTT,e.eu,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wl,e),vkG.$r(UtJ.PTT,e.eu,e)},t.prototype.eu=function(){this.dataChanged()},t.prototype.wl=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.starImg),t.starImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardWakeItem.prototype,"CardWakeItem");var CardWakePopUi=function(e){function t(t){var n=e.call(this,"CardWakePopUi")||this;return n.skinName=RRUU.$s("CardWakePopUi"),n.horizontalCenter=0,n.verticalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("beast10"),e.upgradeBtn.label=fvg.GVf("beast10"),e.cardDatas=GObj.$c(eui.ArrayCollection),e.cardList.dataProvider=e.cardDatas,e.cardList.itemRenderer=CardWakeItem,e.attrDatas=GObj.$c(eui.ArrayCollection),e.attrList.dataProvider=e.attrDatas,e.attrList.itemRenderer=CardAttrItem,e.fightView=GObj.$c(FightView),e.fightView.x=122,e.fightView.y=40,e.addChild(e.fightView)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.xa=e[0],n._k=e[1],n.mt()},t.prototype.initData=function(){this.mt()},t.prototype.mt=function(){var e=this;if(e.CSo&&(e.sl=XCA.AQS.UFA(71,e.xa,1),e.sl)){e.mo=e.sl.p5.split(","),e.iconBg.source=kLM.BB(e._k);for(var t=App.BV.cardInfo||{},n=[],i=0;i<e.mo.length;i++){var r=parseInt(e.mo[i]),a=t[r]||0;a>0&&n.push(r)}e.cardList.selectedIndex=n.indexOf(e._k)||0,e.cardDatas.replaceAll(n),e.qg(),e.fu()}},t.prototype.qg=function(){var e=this;if(e.hb=XCA.AQS.UFA(70,e._k,1),e.hb){e.vn=e.hb.maxgrade,e.attrDatas.source.splice(0,e.attrDatas.source.length);for(var t,n=1;n<=e.vn;n++)t=XCA.YV(e.hb.attrid+1),t&&e.attrDatas.source.push({attrtemp:t,sonType:e._k});e.attrDatas.refresh();var i=App.BV.cardWakeInfo||{};e.ah=i[e._k]||0,e.cx=parseInt(e.hb.cost);var r=e.hb.p5.split(",");e.wi=parseInt(r[e.ah]);var a=i["gp_"+e._k]||0,o=GObj.$c(nlwj);o.tid=parseInt(e.hb.cost),e.item1.data=o;var s=App.FK.hsx(e.cx);e.item1.bottomText=fvg.GVf("public022",s,e.wi),e.item1.bottomColor=s>=e.wi?Color.TX:Color.KA,e.ah>=e.vn?(e.progressBar.value=100,e.expProLab.text="MAX",e.item1.bottomText="MAX",e.item1.bottomColor=Color.XB):(e.expProLab.text=fvg.GVf("public022",a,10*e.wi),e.progressBar.value=int(a/(10*e.wi)*100),e.item1.bottomText=fvg.GVf("public022",App.FK.hsx(e.cx),e.wi));var p=i["ca_"+e._k]||0;e.fightView.fightNum=p,e.nameLabel.text=e.hb.name;gLw.GM(e.hb.tid)}},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.oe,e),e.cardList.addEventListener(egret.Event.CHANGE,e.ua,e),e.cardAttrBtn.addEventListener(eui.tep,e.bd,e),vkG.$a(UtJ.PTT,e.lg,e),vkG.$a(UtJ.DV,e.fu,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.oe,e),e.cardList.removeEventListener(egret.Event.CHANGE,e.ua,e),e.cardAttrBtn.removeEventListener(eui.tep,e.bd,e),vkG.$r(UtJ.PTT,e.lg,e),vkG.$r(UtJ.DV,e.fu,e)},t.prototype.bd=function(){App.VS.popup(10016,CardWakeAttrPopUi,null,this._k)},t.prototype.fu=function(){var e=this;e.upgradeBtn.icon=UsU.LW(e.ah,e.hb)?StaticData.GHj:null},t.prototype.lg=function(){var e=this;e.qg(),e.fu()},t.prototype.ua=function(e){var t=this,n=t.cardList.selectedItem;t._k=n,t.mt()},t.prototype.oe=function(){var e=this,t=App.BV.cardWakeInfo||{},n=t[e._k]||0,i=App.BV.cardInfo||{},r=i[e._k]||0;return 0>=r?void MessageTipManager.instance.show(fvg.GVf("card10")):n>=e.hb.maxgrade?void MessageTipManager.instance.show(fvg.GVf("skill006")):App.FK.hsx(e.cx)<1?void MessageTipManager.instance.show(fvg.GVf("public015")):void CardMsgProxy.WJ(3,e._k)},t.prototype.sq=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cardScroller),t.cardScroller=null,GObj.$d(t.cardList),t.cardList=null,GObj.$d(t.attrScroller),t.attrScroller=null,GObj.$d(t.attrList),t.attrList=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.expProLab),t.expProLab=null,GObj.$d(t.iconBg),t.iconBg=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.cardAttrBtn),t.cardAttrBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CardWakePopUi.prototype,"CardWakePopUi");var CardDrawEffect=function(e){function t(t){var n=e.call(this,"CardDrawEffect")||this;return n.lj=t,n.skinName=RRUU.$s(n.id),n.horizontalCenter=0,n.verticalCenter=0,App.UU.isplayingTenEffect=!0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ab=[];var t=20,n=20,i=119,r=134;e.uj=[[0,0],[i+t,0],[2*i+2*t,0],[0,r+t],[2*i+2*t,r+t],[0,2*r+2*t],[2*i+2*t,2*r+2*t],[0,3*r+3*t],[i+t,3*r+3*t],[2*i+2*t,3*r+3*t]];for(var a,o=10,s=0;o>s;s++)a=GObj.$c(LuckDrawCard,e.lj[s]),e.ab.push(a),a.visible=!1,e.cardGroup.addChild(a);e.cardGroup.x=int((e.width-(3*i+2*t))/2),e.cardGroup.y=int((e.height-(4*r+3*n))/2),e.su=GObj.$c(BonesDisplay);var p=kLM.FF("card");e.su.source=p,e.addChild(e.su),e.su.x=int(e.width/2),e.su.y=int(e.height/2),e.su.visible=!1,e.su.stop()},t.prototype.fs=function(e){var t=this;return t.maskImg.visible&&(t.maskImg.visible=!1),e==t.lj.length?void ClockManager.setTimeout(t.dispose,this,2e3):void t.ab[e].flip(t.fs,this,[++e])},t.prototype.jt=function(e){var t=this;return t.maskImg.visible&&(t.maskImg.visible=!1),e==t.lj.length?void t.fs(0):(t.ab[e].visible=!0,t.ab[e].scaleX=4,t.ab[e].scaleY=4,t.ab[e].x=(t.width-476)/2,t.ab[e].y=(t.height-536)/2,t.ab[e].alpha=.01,void egret.Tween.get(t.ab[e]).to({scaleX:1,scaleY:1,x:t.uj[e][0],y:t.uj[e][1],alpha:1},100).call(t.jt,this,[++e]))},t.prototype.initEvent=function(){var e=this;e.su.addEventListener(egret.Event.COMPLETE,e.zn,e)},t.prototype.zn=function(){console.log("finish !!!")},t.prototype.removeEvent=function(){var e=this;e.su.removeEventListener(egret.Event.COMPLETE,e.zn,e)},t.prototype.initData=function(){var e=this;e.su.visible=!0,e.su.play(null,1),App.NG.isMobile()?(e.su.visible=!1,e.jt(0)):egret.Tween.get(e).wait(2e3).call(function(){e.su.visible=!1,e.jt(0)},e)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.RX,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UU.isplayingTenEffect=!1;for(var n=0;n<t.ab.length;n++)GObj.$d(t.ab[n]);GObj.$d(t.cardGroup),t.cardGroup=null,GObj.$d(t.su),t.su=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CardDrawEffect.prototype,"CardDrawEffect");var LuckDrawCard=function(e){function t(t){var n=e.call(this,"LuckDrawCard")||this;for(var i in t)n.aa=parseInt(i),n.xo=t[i];return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.positive.scaleX=-1,e.positive.visible=!1,e.lya=GObj.$c(nlwj);var t=XCA.FR(e.aa);e.bgImg.icon=kLM.CW(t.qua),e.goodsName.text=t.name,e.goodsName.textColor=aKF.OU(t.qua-1),e.lya.tid=e.aa,e.lya.count=e.xo,e.item.data=e.lya,e.uf=e.lya.quality,e.vy=GObj.$c(MeanEffect),e.vy.verticalCenter=0,e.vy.horizontalCenter=0,e.of=GObj.$c(MeanEffect),e.of.verticalCenter=0,e.of.horizontalCenter=0,e.opposite.addChild(e.of),e.of.start(gYq.TV),e.yv=GObj.$c(MeanEffect),e.yv.verticalCenter=-5,e.yv.horizontalCenter=3},t.prototype.initEvent=function(){var e=this;e.vy.addEventListener(egret.Event.COMPLETE,e.ea,e)},t.prototype.removeEvent=function(){var e=this;e.vy.removeEventListener(egret.Event.COMPLETE,e.ea,e)},t.prototype.initData=function(){},t.prototype.sb=function(){this.cardEffect()},t.prototype.cardEffect=function(){var e=this;e.addChild(e.vy),e.vy.start(gYq.YX),e.vy.play(1)},t.prototype.ea=function(){this.vy.visible=!1},t.prototype.cx=function(){var e=this;e.cardEffect(),e.addChild(e.yv),e.uf>=5&&e.yv.start(gYq.FE)},Object.defineProperty(t.prototype,"sx",{set:function(e){var t=this;t.total.scaleX=e,t.ow&&e>=0||t.dz||(e>=0?(t.ow=!0,t.positive.visible=!1,t.opposite.visible=!0):(t.dz=!0,t.positive.visible=!0,t.opposite.visible=!1))},enumerable:!0,configurable:!0}),t.prototype.flip=function(e,t,n){var i=this;i.uf<5?egret.Tween.get(i).to({sx:1},1).to({sx:0},165).to({sx:-1},165).call(e,t,n):egret.Tween.get(i).to({sx:1},1).to({sx:0},165).to({sx:-1},165).call(i.cx,i).call(e,t,n)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.positive),t.positive=null,GObj.$d(t.opposite),t.opposite=null,GObj.$d(t.total),t.total=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.goodsName),t.goodsName=null,GObj.$d(t.vy),t.vy=null,GObj.$d(t.yv),t.yv=null,GObj.$d(t.of),t.of=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(LuckDrawCard.prototype,"LuckDrawCard");var ChatFamilyView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this),t.itemList.dataProvider=t.datas,t.itemList.itemRenderer=ChatItemView,t.refreshAll()},t.prototype.addOneChatVo=function(t){t&&8==t.op&&e.prototype.addOneChatVo.call(this,t)},t.prototype.scrollV=function(t){var n=this;n.viewport&&(t?e.prototype.scrollV.call(this,t):n.viewport.scrollV>=n.viewport.contentHeight-n.height-200&&e.prototype.scrollV.call(this,t),vkG.$d(UtJ.JB))},t.prototype.refreshAll=function(){this.refresh(App.FQ.familyList)},t}(ChatListView);__reflect(ChatFamilyView.prototype,"ChatFamilyView");var ChatItemShowPopUi=function(e){function t(){var t=e.call(this,"ChatItemShowPopUi")||this,n=RRUU.$s("ChatItemShowPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.og||(e.og=GObj.$c(FigureView)),e.addChildAt(e.og,12),e.fightView=GObj.$c(FightView),e.fightView.x=80,e.fightView.y=100,e.addChild(e.fightView)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.qi()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.vc=e[0],n["in"]=e[1],n.hj=e[2],n.qi())},t.prototype.qi=function(){var e=this;if(e.CSo&&e.vc){var t=e.vc,n=t.mt,i=t.st,r=t.gr,a=XCA.AQS.UFA(n,i,1);a&&(e.iconView.upgradeId=a.tid,e.nameTxt.text=fvg.GVf("chatShow"+n,a.name),e.rankTxt.text=fvg.GVf("chat29",r),e.nameTxt.textColor=aKF.DU(gLw.GM(a.tid))),e.ownerTxt.text=fvg.GVf("chat13",e["in"]),e.fightView.fightNum=e.vc.cap,e.showAvatar(n,i,r)}},t.prototype.showAvatar=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i=this,r=FigureHelps.TS(e,t,n);if(r.part){var a=r.part,o=r.offset;a&&(i.og.x=200+o.x,i.og.y=440+o.y,FigureHelps.NW(i.og,a,!1))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.ownerTxt),t.ownerTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.rankTxt),t.rankTxt=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ChatItemShowPopUi.prototype,"ChatItemShowPopUi");var ChatItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ChatItemViewSkin"),t.touchEnabled=!1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.shieldedBtn.$autoSelected=!1,e.sealBtn.label=fvg.GVf("chat14"),e.svipGrade=GObj.$c(SvipNumView),e.svipGrade.x=0,e.svipGrade.y=0,e.vipGroup.addChild(e.svipGrade),e.appellImg=GObj.$c(ImageIcon),e.nameGroup.addChildAt(e.appellImg,0)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.tk,e),e.shieldedBtn.addEventListener(eui.tep,e.kp,e),e.textTxt.addEventListener(egret.TextEvent.LINK,e.oa,e),e.sealBtn.addEventListener(eui.tep,e.ia,e),vkG.$a(UtJ.EZ,e.zw,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.tk,e),e.shieldedBtn.removeEventListener(eui.tep,e.kp,e),e.textTxt.removeEventListener(egret.TextEvent.LINK,e.oa,e),e.sealBtn.removeEventListener(eui.tep,e.ia,e),vkG.$r(UtJ.EZ,e.zw,e)},t.prototype.dataChanged=function(){var e=this;if(e.data){e.chatData=e.data,e.chatData.read=!0;var t=e.chatData.text;e.zw(),3==e.chatData.op&&(t=usable(e.chatData.textFormat)?e.chatData.textFormat:App.FQ.getFormatBulletinString(e.chatData)),e.chatData.item&&(t=App.FQ.getShowItemString(e.chatData.item)),LgRe.UQ(e.textTxt,t),e.nameTxt.text=e.chatData.name,e.headIcon.icon=kLM.JU(1,e.chatData.heads,1),e.frameImg.source=kLM.ZQ(e.chatData.usehf),e.bubbleImg.source=kLM.FX(Math.max(e.chatData.bubble,1)),e.chatData.vip>0&&(e.svipGrade.svipNum=e.chatData.vip),e.svipGrade.visible=e.chatData.vip>0;var n=App.FQ.getEmoticonPathStr(e.chatData);if(e.emoticonIcon.source="",""!=n?(e.emoticonIcon.source=PATH.VQ+n+".png",e.textTxt.visible=!1):e.textTxt.visible=!0,e.chatData.item&&6==e.chatData.item.jt&&(e.textTxt.textFlow=LgRe.OQ(fvg.GVf("purgatory65"))),1==e.chatData.urt)return e.gmImg||(e.gmImg=GObj.$c(egret.Bitmap),e.gmImg.texture=RES.getRes("chat_json.chat_gm_png")),e.gmImg.parent||e.addChild(e.gmImg),e.nameTxt.textColor=Color.SD,e.textTxt.textColor=Color.SD,e.appellImg.parent&&e.appellImg.parent.removeChild(e.appellImg),e.cardImg.visible=!1,e.prestigeTxt.text=QycO.OK,void(e.sectsImg.source=QycO.OK);if(e.gmImg&&e.gmImg.parent&&e.gmImg.parent.removeChild(e.gmImg),e.chatData.apid&&App.PV.rankAppellDict[e.chatData.apid]?(e.appellImg.source=kLM.SI(e.chatData.apid),e.appellImg.parent||e.nameGroup.addChildAt(e.appellImg,0)):e.appellImg.parent&&e.appellImg.parent.removeChild(e.appellImg),e.chatData.fid&&e.chatData.fgrade){if(!usable(e.chatData.fname)||!e.chatData.fquality){var i=XCA.AQS.UFA(21,1,e.chatData.fgrade);if(i){e.chatData.fname=fvg.GVf("martialart_appell_"+e.chatData.fid,e.chatData.fgrade),e.chatData.fquality=gLw.GM(i.tid);var r=Nkz.LI(i.p5);e.chatData.fname=e.chatData.fname+r[e.chatData.fid]}}e.sectsImg.source="chat_json.chat_bg_"+e.chatData.fid+"_png",e.prestigeTxt.text=e.chatData.fname,e.prestigeTxt.textColor=aKF.DU(e.chatData.fquality)}else e.prestigeTxt.text=QycO.OK,e.sectsImg.source=QycO.OK;e.nameTxt.textColor=Color.SE,e.textTxt.textColor=Color.XB,e.cardImg.visible=e.chatData.card>=1,e.cardImg.source=e.chatData.card>=1?kLM._Y(e.chatData.card):""}},t.prototype.yx=function(e){var t=this;t.chatData&&t.chatData.uid&&App.VS.popup(10074,PlayerInfoAlertPopUi,null,t.chatData.uid)},t.prototype.kp=function(e){var t=this;t.shieldedBtn.selected?App.FQ.changeFilterList(t.chatData.uid,!1):Alert.WK(fvg.GVf("chat7"),void 0,void 0,t.lc,t)},t.prototype.lc=function(){App.FQ.changeFilterList(this.chatData.uid,!0)},t.prototype.zw=function(){var e=this;e.shieldedBtn.selected=App.FQ.filterUid.indexOf(e.chatData.uid)>=0,e.shieldedBtn.visible=e.chatData.uid!=App.KF.uid&&!App.KF.isGM,e.sealBtn.visible=e.chatData.uid!=App.KF.uid&&App.KF.isGM},t.prototype.oa=function(e){var t=this,n=t.chatData&&t.chatData.item;n&&6==n.jt?App.VS.open(10145):n&&App.VS.popup(10074,ChatItemShowPopUi,null,n,t.chatData.name,t.chatData.head)},t.prototype.ia=function(e){var t=this;t.chatData&&App.KF.isGM&&Alert.WK(fvg.GVf("chat15",t.chatData.name),void 0,void 0,t.vl,this,[t.chatData.uid,t.chatData.openid])},t.prototype.vl=function(e,t){e>0&&usable(t)&&this.chatData,ChatMsgProxy.PL(e,t)},t.prototype.tk=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bubbleImg),t.bubbleImg=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.textTxt),t.textTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.svipGrade),t.svipGrade=null,GObj.$d(t.cardImg),t.cardImg=null,GObj.$d(t.appellImg),t.appellImg=null,GObj.$d(t.shieldedBtn),t.shieldedBtn=null,GObj.$d(t.sealBtn),t.sealBtn=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.nameGroup),t.nameGroup=null,GObj.$d(t.look),t.look=null,GObj.$d(t.sectsImg),t.sectsImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ChatItemView.prototype,"ChatItemView");var ChatMartialArtView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this),t.itemList.dataProvider=t.datas,t.itemList.itemRenderer=ChatItemView,t.refreshAll()},t.prototype.addOneChatVo=function(t){t&&3==t.op&&e.prototype.addOneChatVo.call(this,t)},t.prototype.scrollV=function(t){var n=this;n.viewport&&(t?e.prototype.scrollV.call(this,t):n.viewport.scrollV>=n.viewport.contentHeight-n.height-200&&e.prototype.scrollV.call(this,t),vkG.$d(UtJ.JB))},t.prototype.refreshAll=function(){this.refresh(App.FQ.martialArtList)},t}(ChatListView);__reflect(ChatMartialArtView.prototype,"ChatMartialArtView");var ChatView=function(e){function t(){var t=e.call(this,"ChatView")||this;return t.co=0,t.kr=0,t.skinName=RRUU.$s(t.id),App.FQ.openChatFrame=!0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sendBtn.label=fvg.GVf(20),e.commonBtn.label=fvg.GVf("chatEmoticon1"),e.vipBtn.label=fvg.GVf("chatEmoticon2"),e.limitLabel.text=fvg.GVf("chat20"),e.ea=GObj.$c(kQr),e.ea.cwA(e.commonBtn),e.ea.cwA(e.vipBtn);var t=XCA.CG("emoticon_vip");""==t&&(t="4|22|30"),e.se=t.split("|"),e._datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e._datas,e.itemList.itemRenderer=EmoticonItemView,e.limitBox.$autoSelected=!1,e.limitBox.label=fvg.GVf("chat20"),e.limitBox.selected=App.FQ.limitState,e.emoticonGsprite.visible=!1,e.limtGroup.visible=rRcz.SS(78,!1)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.ve(),t.vu(),t.ea.selectedIndex=0},t.prototype.vh=function(e){var t=this;switch(t.kr=e,t.kr){case 2:App.XB.info.fid||MessageTipManager.instance.show(fvg.GVf("chat6"));break;case 3:!rRcz.SS(43)}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.ea.addEventListener(egret.Event.CHANGE,t.fb,this,!1,10),t.sendBtn.addEventListener(eui.tep,t.nd,t),t.limitBox.addEventListener(eui.tep,t.xv,t),t.emoticonBtn.addEventListener(eui.tep,t.di,t),t.sendLab.addEventListener(egret.Event.FOCUS_IN,t.zy,t),vkG.$a(UtJ.IO,t.l_,t),vkG.$a(UtJ.BJ,t.ve,t),vkG.$a(UtJ.UG,t.ov,t)},t.prototype.removeEvent=function(){var e=this;e.ea.removeEventListener(egret.Event.CHANGE,e.fb,this,!1),e.sendBtn.removeEventListener(eui.tep,e.nd,e),e.limitBox.removeEventListener(eui.tep,e.xv,e),e.emoticonBtn.removeEventListener(eui.tep,e.di,e),e.sendLab.removeEventListener(egret.Event.FOCUS_IN,e.zy,e),vkG.$r(UtJ.IO,e.l_,e),vkG.$r(UtJ.BJ,e.ve,e),vkG.$r(UtJ.UG,e.ov,e)},t.prototype.ve=function(){var e=this;if(e.hornLab){var t=App.FQ.horn||0;t>999&&(t=999),e.hornLab.text=toChars(App.FQ.horn)}},t.prototype.xv=function(e){if(rRcz.SS(78,!1)){var t=App.FQ.limitTime||0,n=GApp.timer;if(t>0&&15e3>n-t)return void App.TT.show(fvg.GVf("chat21",15));App.FQ.limitTime=n,App.FQ.limitState=this.limitBox.selected=!App.FQ.limitState}},t.prototype.nd=function(e){var t=this;if(App.KF.chapter<StaticData.CHAT_CH)return App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH)),void(t.sendLab.text=QycO.OK);var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);if(usable(t.sendLab.text)){if(!cmd(t.sendLab.text)){if(GApp.timer<t.co)return void App.TT.show(fvg.GVf("chat5",StaticData.CHAT_INTERVAL));t.co=GApp.timer+1e3*StaticData.CHAT_INTERVAL;var r=t.tabType;switch(r){case 1:ChatMsgProxy.AU(2,t.sendLab.text);break;case 2:ChatMsgProxy.AU(3,t.sendLab.text);break;case 5:ChatMsgProxy.AU(8,t.sendLab.text);break;default:ChatMsgProxy.AU(2,t.sendLab.text)}}t.sendLab.text=QycO.OK}},t.prototype.dataUpdated=function(){this.vu()},t.prototype.vu=function(){var e=this;if(e.viewData){var t=e.tabType;switch(e.emoticonBtn.visible=!0,e.sendBar.visible=!0,e.xi&&(e.xi.visible=!1,e.xi=null),e.kj&&(e.kj.visible=!1),t){case 1:e.yq||(e.yq=GObj.$c(TaleView),e.addChildAt(e.yq,3)),e.xi=e.yq,e.hornImg.visible=!0,e.hornLab.visible=!0;break;case 2:e.sl||(e.sl=GObj.$c(ChatMartialArtView),e.addChildAt(e.sl,3)),e.xi=e.sl,e.hornImg.visible=!1,e.hornLab.visible=!1;break;case 3:e.hr||(e.hr=GObj.$c(SystemView),e.addChildAt(e.hr,3)),e.hr.y=46,e.xi=e.hr,e.sendBar.visible=!1;break;case 4:e.emoticonBtn.visible=!1,e.kj||(e.kj=GObj.$c(RedBagView),e.kj.y=33,e.addChildAt(e.kj,3)),e.kj.visible=!0,e.hornImg.visible=!1,e.hornLab.visible=!1;break;case 5:e.sn||(e.sn=GObj.$c(ChatFamilyView),e.addChildAt(e.sn,3)),e.xi=e.sn,e.hornImg.visible=!1,e.hornLab.visible=!1}e.xi&&(e.xi.refreshAll(),e.xi.visible=!0),e.pw()}},t.prototype.ov=function(e){this.zy(null)},t.prototype.zy=function(e){this.emoticonGsprite.visible=!1},t.prototype.dq=function(e){var t=this,n=e.target;t.emoticonGsprite.contains(n)||n==t.emoticonBtn||(t.emoticonGsprite.visible=!1,App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.dq,t))},t.prototype.di=function(e){var t=this;t.emoticonGsprite.visible=!t.emoticonGsprite.visible,t.emoticonGsprite.visible?App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.dq,t):App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.dq,t)},t.prototype.fb=function(e){var t=this,n=e.target;if(n&&n.LuO==t.vipBtn){if(IoG.EZ())return void msgTip(fvg.GVf("public101"));if(t.se[0]>App.XT.vipInfo.vipGrade)return t.ea.selectedIndex=0,MessageTipManager.instance.show(fvg.GVf("sb5",t.se[0]))}t.pw()},t.prototype.l_=function(e){var t=this;e&&t.xi&&App.FQ.isShowChatData(e)&&t.xi.addOneChatVo(e)},t.prototype.pw=function(){var e=this;e._datas.source.length=0;for(var t=e.se[e.ea.selectedIndex+1],n=e.tabType,i=0;t>i;i++){var r={};r.index=i+1,r.selectedIndex=e.ea.selectedIndex+1,r.selectedBtn=n,e._datas.source.push(r)}e._datas.refresh()},t.prototype.dispose=function(){var t=this;App.FQ.openChatFrame=!1,t.removeEvent(),t.sendLab&&(t.sendLab.text=QycO.OK,t.sendLab.visible=!1,GObj.$d(t.sendLab),t.sendLab=null),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.vipBtn),t.vipBtn=null,GObj.$d(t.sendBtn),t.sendBtn=null,GObj.$d(t.yq),t.yq=null,GObj.$d(t.hr),t.hr=null,GObj.$d(t.kj),t.kj=null,GObj.$d(t.sn),t.sn=null,GObj.$d(t.sendBar),t.sendBar=null,GObj.$d(t.emoticonBtn),t.emoticonBtn=null,GObj.$d(t.commonBtn),t.commonBtn=null,GObj.$d(t.emoticonGsprite),t.emoticonGsprite=null,GObj.$d(t.ea),t.ea=null,t.xi=null,t._datas=null,e.prototype.dispose.call(this)
},t}(BaseView);__reflect(ChatView.prototype,"ChatView");var EmoticonItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("EmoticonItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.removeView=function(){var e=this;e.emoticonIcon&&GObj.$d(e.emoticonIcon),e.emoticonIcon=null},t.prototype.initEvent=function(){var e=this;e.emoticonIcon.addEventListener(eui.tep,e.ng,e)},t.prototype.removeEvent=function(){var e=this;e.emoticonIcon.removeEventListener(eui.tep,e.ng,e)},t.prototype.initData=function(){},t.prototype.zy=function(){},t.prototype.ng=function(e){var t=this;if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));App.FQ.horn||0,App.XT.vipInfo.vipGrade||0;if(!cmd(t.sp)){if(GApp.timer<App.FQ.emoticonLastTime)return void App.TT.show(fvg.GVf("chat22",StaticData.CHAT_EMOCTION_INTERVAL));App.FQ.emoticonLastTime=GApp.timer+1e3*StaticData.CHAT_EMOCTION_INTERVAL;var n=t.data.selectedBtn;switch(n){case 1:ChatMsgProxy.AU(2,t.sp);break;case 2:ChatMsgProxy.AU(3,t.sp);break;case 5:ChatMsgProxy.AU(8,t.sp);break;default:ChatMsgProxy.AU(2,t.sp)}}vkG.$d(UtJ.UG)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&e.ya()},t.prototype.ya=function(){var e=this;1==e.data.selectedIndex?e.sp="##_"+e.data.selectedIndex+"_"+e.data.index:2==e.data.selectedIndex&&(e.sp="##_"+e.data.selectedIndex+"_1_"+e.data.index),e.emoticonIcon.source=PATH.VQ+e.data.selectedIndex+"_"+e.data.index+".png"},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.removeView(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(EmoticonItemView.prototype,"EmoticonItemView");var SystemItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SystemItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.txtParser=GObj.$c(egret.HtmlTextParser)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.tv,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.tv,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.chatData=e.data;var t;t=usable(e.chatData.textFormat)?e.chatData.textFormat:App.FQ.getFormatBulletinString(e.chatData),e.contentTxt.textFlow=e.txtParser.parser(fvg.GVf("chat3",t)),e.height=e.contentTxt.height+10}},t.prototype.tv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,t.chatData=null,t.txtParser=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SystemItemView.prototype,"SystemItemView");var SystemView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this),t.itemList.dataProvider=t.datas,t.itemList.itemRenderer=SystemItemView,t.refreshAll()},t.prototype.addOneChatVo=function(t){t&&1==t.op&&e.prototype.addOneChatVo.call(this,t)},t.prototype.refreshAll=function(){this.refresh(App.FQ.systemList)},t}(ChatListView);__reflect(SystemView.prototype,"SystemView");var TaleView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.init=function(){var t=this;e.prototype.init.call(this),t.itemList.dataProvider=t.datas,t.itemList.itemRenderer=ChatItemView,t.refreshAll()},t.prototype.addOneChatVo=function(t){t&&2==t.op&&e.prototype.addOneChatVo.call(this,t)},t.prototype.scrollV=function(t){var n=this;n.viewport&&(t?e.prototype.scrollV.call(this,t):n.viewport.scrollV>=n.viewport.contentHeight-n.height-200&&e.prototype.scrollV.call(this,t),vkG.$d(UtJ.JB))},t.prototype.refreshAll=function(){this.refresh(App.FQ.chatList)},t}(ChatListView);__reflect(TaleView.prototype,"TaleView");var BasicInfoView=function(e){function t(t){var n=e.call(this,"BasicInfoView")||this;return n.vx=t,n.skinName=RRUU.$s("BasicInfoView"),n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipGrade=GObj.$c(NumberView),e.vipGrade.x=55,e.vipGrade.y=70,e.headGroup.addChild(e.vipGrade),e.gradeLab.text=fvg.GVf("10")+":",e.reliLab.text=fvg.GVf("renown2")+":",e.daohangLab.text=fvg.GVf("martialart103"),e.lifeLab.text=fvg.GVf("turnup001")+":",e.tranLab.text=fvg.GVf("martialart104")+"",e.tranRank.text=fvg.GVf("martialart55")+"",e.zhanShenRank.text=fvg.GVf("arena13")+"",e.wanxianRank.text=fvg.GVf("crossarena53"),e.wanxianLevel.text=fvg.GVf("crossarena54"),e.fightView=GObj.$c(FightView),e.fightView.horizontalCenter=0,e.fightView.y=128,e.addChild(e.fightView),e.equipData=GObj.$c(eui.ArrayCollection),e.equipList.itemRenderer=PlayerEquipItem,e.equipList.dataProvider=e.equipData},t.prototype.initData=function(){this.bn()},t.prototype.bn=function(){var e=this;e.vx&&(e.playerInfo=App.FQ.playerInfoList[e.vx],(!e.playerInfo||e.playerInfo.updateTime.player+300<App.NN.serverSecond)&&ChatMsgProxy.DC(e.vx)),e.ff()},t.prototype.ff=function(){var e=this;if(e.playerInfo&&e.CSo){var t=e.playerInfo.basicInfo.rgrade;e.lifeLab0.text=(t||0)+"";var n=e.playerInfo.basicInfo.feats;e.reliLab0.text=(n||0)+"";var i=e.playerInfo.basicInfo.fgrade;if(e.daohangLab0.text=fvg.GVf("specia002",i),e.playerInfo.basicInfo.fid&&e.playerInfo.basicInfo.fid>0){var r=fvg.GVf("martialart_appell_"+e.playerInfo.basicInfo.fid,e.playerInfo.basicInfo.fgrade)+""+e.playerInfo.basicInfo.fsname;e.playerInfo.basicInfo.duty&&(r+=""+e.playerInfo.basicInfo.duty),e.tranLab0.text=r,e.tranRank0.text=e.playerInfo.rankInfo.fr>0?toChars(e.playerInfo.rankInfo.fr):"--",e.zhanShenRank0.text=e.playerInfo.rankInfo.ar>0?toChars(e.playerInfo.rankInfo.ar):"--"}else e.tranLab0.text=fvg.GVf("martialart52"),e.tranRank0.text="--",e.zhanShenRank0.text="--";e.headIcon.source=kLM.JU(e.playerInfo.basicInfo.sex,e.playerInfo.basicInfo.head||1),e.frameImg.source=kLM.ZQ(e.playerInfo.basicInfo.hfrm||1),e.nameTxt.text=e.playerInfo.basicInfo.name,e.gradeLab0.text=toChars(e.playerInfo.basicInfo.grade)||"0",e.fightView.fightNum=e.playerInfo.basicInfo.cap,e.playerInfo.basicInfo.vip>0?(hFO.instance.getNumberView(bRC.MI,e.playerInfo.basicInfo.vip.toString(),-4,e.vipGrade),e.nameTxt.x=120):e.nameTxt.x=120,e.vipBack.visible=e.vipGrade.visible=e.playerInfo.basicInfo.vip>0;var a=160;e.vipBack.visible&&(a=e.vipGrade.x+e.vipGrade.width+5),e.equipData.source.length=0;for(var o=1;2>=o;o++)e.equipData.source.push({type:o,uid:e.vx});e.equipData.refresh();var s=e.playerInfo.rankInfo.rjdf;e.wanxianRank0.text=usable(s)?fvg.GVf("player6_"+s):"--",e.wanxianLevel0.text=e.playerInfo.rankInfo.rj?e.playerInfo.rankInfo.rj:"--"}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DM,e.xk,e),e.shieldBtn.addEventListener(eui.tep,e.ya,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DM,e.xk,e),e.shieldBtn.removeEventListener(eui.tep,e.ya,e)},t.prototype.ya=function(){var e=this;return App.FQ.filterUid.indexOf(e.vx)>=0?void MessageTipManager.instance.show(fvg.GVf("chat26")):void Alert.WK(fvg.GVf("chat7"),void 0,void 0,e._l,e)},t.prototype._l=function(){App.FQ.changeFilterList(this.vx,!0)},t.prototype.xk=function(e){var t=this;t.playerInfo=App.FQ.playerInfoList[t.vx],t.ff()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.gradeLab0),t.gradeLab=null,GObj.$d(t.reliLab),t.reliLab=null,GObj.$d(t.reliLab0),t.reliLab0=null,GObj.$d(t.tranLab),t.tranLab=null,GObj.$d(t.tranLab0),t.tranLab=null,GObj.$d(t.vipBack),t.vipBack=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.lifeLab),t.lifeLab=null,GObj.$d(t.daohangLab),t.daohangLab=null,GObj.$d(t.daohangLab0),t.daohangLab0=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.tranLab),t.tranLab=null,GObj.$d(t.tranLab0),t.tranLab0=null,GObj.$d(t.tranRank),t.tranRank=null,GObj.$d(t.tranRank0),t.tranRank0=null,GObj.$d(t.zhanShenRank),t.zhanShenRank=null,GObj.$d(t.zhanShenRank0),t.zhanShenRank0=null,GObj.$d(t.wanxianRank),t.wanxianRank=null,GObj.$d(t.wanxianRank0),t.wanxianRank0=null,GObj.$d(t.wanxianLevel),t.wanxianLevel=null,GObj.$d(t.wanxianLevel0),t.wanxianLevel0=null,GObj.$d(t.equipList),t.equipList=null,GObj.$d(t.equipScroller),t.equipScroller=null,GObj.$d(t.shieldBtn),t.shieldBtn=null,GObj.$d(t.headGroup),t.headGroup=null,GObj.$d(t.fightView),t.fightView=null,t.equipData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BasicInfoView.prototype,"BasicInfoView");var CardItemRender=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("CardItemRenderSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nj=GObj.$c(GeneralStarView),e.nj.maxStar=5,e.nj.open_star_key=["core_json.big_star_4_png","core_json.big_star_5_png"],e.nj.close_star_key="core_json.big_star_off_png",e.nj.star_width=23,e.nj.gap=-1,e.nj.x=5,e.nj.y=155,e.addChild(e.nj),e.currLvView=GObj.$c(NumberView),e.currLvView.horizontalCenter=67,e.currLvView.y=77,e.addChildAt(e.currLvView,4)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.mx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.mx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){if(e.km=e.data.sontype,e.fz=e.data.grade,e.di=XCA.AQS.getGradeTempByMasTypeAndSubType(48,e.km)[1],e.ch=App.JUY.getTempByCollTypeAndGrade(e.km,e.fz),e.iconView.icon=kLM.TJ(e.di.tid),e.fz){e.gradeTxt.text=toChars(e.fz);var t=e.ch?e.ch.p1:0;e.nj.currStar=t}e.gradeTxt.visible=!!e.fz,e.nj.visible=!!e.fz,e.zz();e.data.step||0}},t.prototype.zz=function(){var e=this;e.sy||(e.sy=App.KB.getUIEffect(gYq.XN),e.sy.x=0,e.sy.y=0,e.addChildAt(e.sy,1)),e.sy.visible=!0,e.sy.play()},t.prototype.mx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.nj),t.nj=null,GObj.$d(t.currLvView),t.currLvView=null,t.sy&&(t.sy.stop(),GObj.$d(t.sy)),t.sy=null,t.di=null,t.ch=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardItemRender.prototype,"CardItemRender");var CollectionInfoView=function(e){function t(t){var n=e.call(this,"CollectionInfoView")||this;return n.nv=t,n.skinName=RRUU.$s("CollectionInfoView"),n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.cardData=GObj.$c(eui.ArrayCollection),e.cardList.dataProvider=e.cardData,e.cardList.itemRenderer=CardItemRender,e.encircleData=GObj.$c(eui.ArrayCollection),e.encircleList.dataProvider=e.encircleData,e.encircleList.itemRenderer=EncircleItemRender},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DM,e.om,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DM,e.om,e)},t.prototype.initData=function(){this.xf()},t.prototype.om=function(e){this.xf()},t.prototype.xf=function(){var e=this;if(e.playerInfo=App.FQ.playerInfoList[e.nv],e.playerInfo&&e.CSo){var t=[];for(var n in e.playerInfo.cardInfo.hck)t.push({sontype:parseInt(n),grade:e.playerInfo.cardInfo.hck[n],step:e.ae(parseInt(n))});e.cardData.replaceAll(t),e.cardData.refresh(),e.cardGroup.visible=t.length>0;var i=[],r=Object.keys(e.playerInfo.cardInfo.ev.quality);if(!r||r.length<=0)return void(e.fabaoGroup.visible=!1);for(var a=0;a<r.length;a++)i.push({sontype:parseInt(r[a]),grade:e.playerInfo.cardInfo.ev.quality[r[a]],step:e.playerInfo.cardInfo.ev.EVquality[r[a]]||0});e.encircleData.replaceAll(i),e.encircleData.refresh(),e.fabaoGroup.visible=i.length>0,e.fabaoGroup.y=t.length>0?245:0}},t.prototype.ae=function(e){var t=0,n=App.JUY.getTempByCollType(e);return t=n?n.p1:0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cardList),t.cardList=null,GObj.$d(t.encircleList),t.encircleList=null,GObj.$d(t.cardGroup),t.cardGroup=null,GObj.$d(t.fabaoGroup),t.fabaoGroup=null,t.encircleData=null,t.cardData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CollectionInfoView.prototype,"CollectionInfoView");var EncircleItemRender=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("EncircleItemRenderSkin"),t}return __extends(t,e),t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){this.ha()},t.prototype.ha=function(){var e=this;e.CSo&&e.data&&(e.dv=e.data.sontype,e.xd=XCA.AQS.UFA(69,e.dv,1),e.dr=e.data.grade||0,e.kq=e.data.step||0,e.cardImg.icon=kLM.IF(gLw.getIconIdByTid(e.xd.tid)),e.dr<=0?e.gradeLab.text="":e.gradeLab.text=e.dr+"",e.cardImg.icon=kLM.IF(gLw.getIconIdByTid(e.xd.tid)),e.starGradeLab.text=e.kq+"",e.nameImg.source=PATH.JH+"n_"+e.dv+FileConst.png,e.bgImg.source=PATH.JH+"q_"+gLw.GM(e.xd.tid)+FileConst.png,e.iej(e.xd.tid))},t.prototype.iej=function(e){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cardImg),t.cardImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.rk),t.rk=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.nameImg),t.nameImg=null,t.xd=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(EncircleItemRender.prototype,"EncircleItemRender");var EquipItemRender=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("EquipItemRenderSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=GObj.$c(nlwj);if(t.tid=e.data.info,!e.data.info)return void(e.equipLevel.text="--");t.count=1,e.yq=e.data.type,e.itemIcon.data=t,1==e.yq?t.TSF.step&&0!=t.TSF.step?e.equipLevel.text=App.JP.getTurnupName(t.TSF.step):e.equipLevel.text=fvg.GVf("public028",t.TSF.needgrade):e.equipLevel.text=fvg.GVf("skill020",t.TSF.step)}},t.prototype.dispose=function(){var e=this;GObj.$d(e.itemIcon),e.itemIcon=null,GObj.$d(e.equipLevel),e.equipLevel=null},t}(BaseItemRenderer);__reflect(EquipItemRender.prototype,"EquipItemRender");var FashionInfoView=function(e){function t(t){var n=e.call(this,"FashionInfoView")||this;return n.gl=t,n.skinName=RRUU.$s("FashionInfoView"),n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fq||(e.fq=GObj.$c(FigureView)),e.fq.x=296,e.fq.y=340,e.addChildAt(e.fq,2),e._j||(e._j=GObj.$c(FigureView)),e._j.x=100,e._j.y=300,e.addChild(e._j),e.descData=GObj.$c(eui.ArrayCollection),e.descGroup.dataProvider=e.descData,e.descGroup.itemRenderer=FashionItemView},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DM,e.tv,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DM,e.tv,e)},t.prototype.initData=function(){var e=this;e.playerInfo=App.FQ.playerInfoList[e.gl],e.cg()},t.prototype.tv=function(e){var t=this;t.playerInfo=App.FQ.playerInfoList[t.gl],t.cg()},t.prototype.cg=function(){var e=this;if(e.playerInfo&&e.CSo){var t=e.playerInfo.basicInfo.sex,n=StaticData.AVATAR_DEFAULT,i=StaticData.AVATAR_DEFAULT,r="",a="",o="";usable(e.playerInfo.basicInfo.b)&&(i=e.playerInfo.basicInfo.b),usable(e.playerInfo.basicInfo.fere)&&(r=e.playerInfo.basicInfo.fere),usable(e.playerInfo.basicInfo.w)&&(n=e.playerInfo.basicInfo.w),usable(e.playerInfo.basicInfo.c)&&(a=e.playerInfo.basicInfo.c),usable(e.playerInfo.basicInfo.wing)&&(o=e.playerInfo.basicInfo.wing),FigureHelps.NW(e.fq,{b:i,w:n,c:a,s:t},!1),FigureHelps.NW(e._j,{b:r},!1),e.playerInfo=App.FQ.playerInfoList[e.gl],e.descData.source.length=0;for(var s=(e.playerInfo.superInfo,Object.keys(e.playerInfo.superInfo)),p=0;p<s.length;p++)for(var l=e.playerInfo.superInfo[s[p]],c=Object.keys(l),u=0;u<c.length;u++){var d=s[p]+"_"+c[u];e.descData.source.push({key:d,value:l[c[u]]})}e.descData.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fq),t.fq=null,GObj.$d(t._j),t._j=null,GObj.$d(t.rect),t.rect=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FashionInfoView.prototype,"FashionInfoView");var FashionItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FashionItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.data&&(e.di=e.data.key,e.sq=e.data.value,e.descLab.textFlow=LgRe.OQ(fvg.GVf("player1",fvg.GVf("player_"+e.di),e.sq)))},t.prototype.initEvet=function(){var e=this;e.addEventListener(eui.RFS,e.nm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nm,e)},t.prototype.nm=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FashionItemView.prototype,"FashionItemView");var PlayerEquipItem=function(e){function t(){var t=e.call(this)||this;return t.gs=[101,102,103,104,105,106,107,108],t.skinName=RRUU.$s("PlayerEquipItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.equipData=GObj.$c(eui.ArrayCollection),e.equipGroup.dataProvider=e.equipData,e.equipGroup.itemRenderer=EquipItemRender},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data)switch(e.js=e.data.uid,e.fe=e.data.type,e.yp=App.FQ.playerInfoList[e.js],e.titleImg.source="player_json.player_equip_"+e.fe+"_png",e.pk=!1,e.fe){case 1:e.equipData.source.length=0;for(var t=1;8>=t;t++)e.equipData.source.push({info:e.yp.equipInfo[toChars(t)],type:e.fe});e.equipData.refresh();break;case 2:e.equipData.source.length=0;for(var t=0;t<e.gs.length;t++)e.equipData.source.push({info:e.yp.evilequip[toChars(e.gs[t])],type:e.fe});e.equipData.refresh()}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.vv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.vv,e)},t.prototype.vv=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.equipGroup),t.equipGroup=null,t.equipData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PlayerEquipItem.prototype,"PlayerEquipItem");var PlayerInfoAlertPopUi=function(e){function t(){var t=e.call(this,"PlayerInfoAlertPopUi")||this;return t.skinName=RRUU.$s("PlayerInfoAlertPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fm=GObj.$c(kQr),e.basicInfoBtn.label=fvg.GVf("player2"),e.fashionInfoBtn.label=fvg.GVf("player3"),e.collectionInfoBtn.label=fvg.GVf("player4"),e.fm.cwA(e.basicInfoBtn),e.fm.cwA(e.fashionInfoBtn),e.fm.cwA(e.collectionInfoBtn)},t.prototype.initData=function(){var e=this;e.defaultIndex(0),e.nd()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.mg=e[0],n.playerInfo=App.FQ.playerInfoList[n.mg],n.initData())},t.prototype.defaultIndex=function(e,t){var n=this;n.xk=e,n.fm&&(n.fm.selectedIndex=n.xk||0)},t.prototype.nd=function(){this.vc()},t.prototype.vc=function(){},t.prototype.initEvent=function(){var e=this;e.fm.addEventListener(egret.Event.CHANGE,e.jm,e)},t.prototype.removeEvent=function(){var e=this;e.fm.removeEventListener(egret.Event.CHANGE,e.jm,e)},t.prototype.jm=function(e){var t=this,n=t.fm.LuO;switch(t.px&&(t.px.visible=!1),t.px=null,n){case t.basicInfoBtn:t.kt||(t.kt=GObj.$c(BasicInfoView,t.mg),t.kt.x=32,t.kt.y=60,t.addChildAt(t.kt,1)),t.px=t.kt;break;case t.fashionInfoBtn:t.bv||(t.bv=GObj.$c(FashionInfoView,t.mg),t.bv.x=32,t.bv.y=60,t.addChildAt(t.bv,1)),t.px=t.bv;break;case t.collectionInfoBtn:t.playerInfo=App.FQ.playerInfoList[t.mg];var i=!0;if(t.playerInfo){for(var r in t.playerInfo.cardInfo.hck){i=!1;break}for(var r in t.playerInfo.cardInfo.ev.quality){i=!1;break}}if(i)return App.TT.show(fvg.GVf("player5")),void(t.fm.selectedIndex=t.co);t.ml||(t.ml=GObj.$c(CollectionInfoView,t.mg),t.ml.y=50,t.addChildAt(t.ml,1)),t.px=t.ml}t.px&&(t.px.visible=!0),t.co=t.fm.selectedIndex},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.basicInfoBtn),t.basicInfoBtn=null,GObj.$d(t.fashionInfoBtn),t.fashionInfoBtn=null,GObj.$d(t.collectionInfoBtn),t.collectionInfoBtn=null,GObj.$d(t.kt),t.kt=null,GObj.$d(t.bv),t.bv=null,GObj.$d(t.ml),t.ml=null,GObj.$d(t.fm),t.fm=null,t.px=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PlayerInfoAlertPopUi.prototype,"PlayerInfoAlertPopUi");var OpenRedBagPopUi=function(e){function t(){var t=e.call(this,"OpenRedBagPopUi")||this;return t.ky=0,t.pe=0,t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.openBtn.label=fvg.GVf("redbag8"),e.tryBtn.label=fvg.GVf("redbag38"),e.refreshBtn.label=fvg.GVf("shop4"),e.title=fvg.GVf("redbag9"),e.opTxt_1.text=fvg.GVf("redbag10"),e.opTxt_2.text=fvg.GVf("redbag11"),e.opTxt_3.text=fvg.GVf("redbag12"),e.opTxt_4.text=fvg.GVf("redbag13"),e.descTxt_1.text=fvg.GVf("redbag14"),e.descTxt_2.textFlow=LgRe.OQ(fvg.GVf("redbag15",Color.TX,10,10)),e.timeTxt.text=fvg.GVf("redbag16","00:50")},t.prototype.initEvent=function(){var e=this;e.openBtn.addEventListener(eui.tep,e.ql,e),e.tryBtn.addEventListener(eui.tep,e.mh,e),e.refreshBtn.addEventListener(eui.tep,e.of,e),vkG.$a(UtJ.JNO,e.pz,e),vkG.$a(UtJ.HJ,e.yu,e),vkG.$a(UtJ.PA,e.ob,e),vkG.$a(UtJ._F,e.pz,e)},t.prototype.removeEvent=function(){var e=this;e.openBtn.removeEventListener(eui.tep,e.ql,e),e.tryBtn.removeEventListener(eui.tep,e.mh,e),e.refreshBtn.removeEventListener(eui.tep,e.of,e),vkG.$r(UtJ.HD,e.kr,e),vkG.$r(UtJ.JNO,e.pz,e),vkG.$r(UtJ.HJ,e.yu,e),vkG.$r(UtJ.PA,e.ob,e),vkG.$r(UtJ._F,e.pz,e)},t.prototype.initData=function(){this.pz()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.sr=e[0],ziI.MF("red_packet_refresh_single",n.sr.id),n.pz())},t.prototype.pz=function(){var e=this;if(e.CSo&&e.sr){if(e.pointTxt.text=toChars(e.sr.remain),e.gf=(e.sr.cd||0)<=0?2:1,e.kk=(e.sr.remain||0)>0?0:3,e.sr.maon=int(e.sr.maon),1==e.sr.type)e.sysGroup.visible=!0,e.playerGroup.visible=!1,e.openCountTxt.text=toChars(e.sr.aon||0),e.wo=(e.sr.maon||0)>0?2:1,e.sendNameTxt.text=fvg.GVf("18"),e.openBtn.visible=!0,e.peakNameTxt.text=e.sr.blun?e.sr.blun:"--",e.ob(),e.timeTxt.textColor=Color.TX,e.ji(),e.openedImg.y=245;else if(2==e.sr.type){e.sysGroup.visible=!1,e.playerGroup.visible=!0,e.tryBtn.visible=!0,e.openedImg.y=306,e.sendNameTxt.text=e.sr.playerName,e.peakNameTxt.text="--"!=e.sr.blun?e.sr.blun:e.sr.laster,e.openCountTxt.text=fvg.GVf("public022",e.sr.aon||0,e.sr.openNumber||0),e.opTxt_4.text="--"!=e.sr.blun?fvg.GVf("redbag13"):fvg.GVf("redbag44"),e.costTxt.text=toChars(e.sr.consume),e.costTxt.textColor=e.sr.consume>App.KF.point?Color.KA:Color.TX;var t=App.FQ.redbagInfo;e.vl=t.oneMaxCount||0,e.bu=e.vl-(e.sr.maon||0);var n=e.bu>0?Color.TX:Color.KA;e.descTxt.textFlow=LgRe.OQ(fvg.GVf("redbag39",n,e.bu,e.vl)),e.wo=e.sr.allot>1?2:1}e.sr.cd<=0?(e.timeTxt.text=fvg.GVf("redbag29"),e.timeTxt.textColor=Color.KA,e.openedImg.visible=!0,e.openedImg.source="core_json.redbag_stale_png",e.openBtn.visible=!1,e.tryBtn.visible=!1):(vkG.$a(UtJ.HD,e.kr,e),e.kr()),e.openedImg.visible=1!=e.wo||1!=e.gf||0!=e.kk,2==e.wo&&(e.openedImg.source="core_json.core_opened_png",e.openBtn.visible=!1,e.tryBtn.visible=!1),2==e.gf?(e.openedImg.source="core_json.redbag_stale_png",e.openBtn.visible=!1,e.tryBtn.visible=!1):3==e.kk&&(e.openedImg.source="core_json.getover_png",e.openBtn.visible=!1,e.tryBtn.visible=!1)}},t.prototype.ql=function(e){var t=this;if(1==t.sr.type&&t.pe<=0)return void App.TT.show(fvg.GVf("redbag18"));if(2==t.gf)return void App.TT.show(fvg.GVf("redbag29"));if(3==t.kk&&App.TT.show(fvg.GVf("redbag20")),2==t.wo)return void App.TT.show(fvg.GVf("redbag22"));if(2==t.sr.type){if(App.KF.point<(t.sr.consume||0))return void App.TT.show(fvg.GVf("redbag34"));if(t.bu<=0)return void App.TT.show(fvg.GVf("redbag46"))}ChatMsgProxy._N(t.sr.id),1==t.sr.type&&(t.sr.maon=1),vkG.$d(UtJ._F)},t.prototype.yu=function(){var e=this,t=App.FQ.redbagInfo;if(2==e.sr.type&&-7!=t.state&&-8!=t.state&&e.sr.maon<e.vl&&(e.sr.maon+=1),-1==t.state)return void App.TT.show(fvg.GVf("redbag19"));if(1==e.sr.type&&-2==t.state)return void App.TT.show(fvg.GVf("redbag18"));if(-3==t.state)return void App.TT.show(fvg.GVf("redbag20"));if(-4==t.state)return void App.TT.show(fvg.GVf("redbag22"));if(1==t.state){var n=parseInt(t.msg),i=fvg.GVf("redbag21",n);return void Alert.WK(i,null,1,null,this,[n])}var r=t.vipGrade||4;if(2==t.state){var a=2==t.state&&App.XT.vipGrade<r;a&&(e.sr.maon=0),vkG.$d(UtJ._F);var o=GObj.$c(nlwj);return o.tid=StaticData.TID_POINT_ID,o.count=parseInt(t.msg),void App.VS.popup(10077,RedBagVipPopUi,o,r)}if(3==t.state){var n=parseInt(t.msg),i=fvg.GVf("redbag21",n);return void Alert.WK(i,null,1,null,this,[n])}if(2==e.sr.type){if(-2==t.state)return void App.TT.show(fvg.GVf("redbag46"));if(-5==t.state)return void App.TT.show(fvg.GVf("redbag34"));if(-6==t.state)return void App.TT.show(fvg.GVf("redbag40"));if(-7==t.state)return void App.TT.show(fvg.GVf("redbag43"));if(-8==t.state)return void App.TT.show(fvg.GVf("redbag47"))}},t.prototype.gi=function(e){},t.prototype.ob=function(){var e=this,t=App.FQ.redbagInfo,n=t.sysMaxCount;e.pe=t.sysCount||0;var i=e.pe>0?Color.TX:Color.KA;e.descTxt_2.textFlow=LgRe.OQ(fvg.GVf("redbag15",i,e.pe,n)),e.ji()},t.prototype.ji=function(){var e=this;e.openBtn.icon=UsU.NP(e.sr)?StaticData.GHj:null},t.prototype.dx=function(e){GObj.$d(this)},t.prototype.kr=function(){var e=this;e.sr.cd--,e.timeTxt.text=fvg.GVf("redbag16",kpd.TV(e.sr.cd)),e.timeTxt.textColor=Color.TX,e.sr.cd<=0&&(e.sr.cd=0,e.timeTxt.text=fvg.GVf("redbag29"),e.timeTxt.textColor=Color.KA,e.openedImg.visible=!0,e.openedImg.source="core_json.redbag_stale_png",e.openBtn.visible=!1,vkG.$r(UtJ.HD,e.kr,e))},t.prototype.mh=function(e){this.ql(e)},t.prototype.of=function(e){ziI.MF("red_packet_refresh_single",this.sr.id)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.openBtn),t.openBtn=null,GObj.$d(t.pointTxt),t.pointTxt=null,GObj.$d(t.sendNameTxt),t.sendNameTxt=null,GObj.$d(t.openCountTxt),t.openCountTxt=null,GObj.$d(t.peakNameTxt),t.peakNameTxt=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.opTxt_1),t.opTxt_1=null,GObj.$d(t.opTxt_2),t.opTxt_2=null,GObj.$d(t.opTxt_3),t.opTxt_3=null,GObj.$d(t.opTxt_4),t.opTxt_4=null,GObj.$d(t.openedImg),t.openedImg=null,GObj.$d(t.sysGroup),t.sysGroup=null,GObj.$d(t.playerGroup),t.playerGroup=null,GObj.$d(t.costTxt),t.costTxt=null,GObj.$d(t.tryBtn),t.tryBtn=null,GObj.$d(t.refreshBtn),t.refreshBtn=null,GObj.$d(t.descTxt),t.descTxt=null,t.sr=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(OpenRedBagPopUi.prototype,"OpenRedBagPopUi");var RedBagDescPopUi=function(e){function t(){return e.call(this,"RedBagDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.PU,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(RedBagDescPopUi.prototype,"RedBagDescPopUi");var RedBagItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RedBagItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ju,e),vkG.$a(UtJ.JNO,e.ft,e),vkG.$a(UtJ.PA,e.ft,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ju,e),vkG.$r(UtJ.JNO,e.ft,e),vkG.$r(UtJ.PA,e.ft,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){if(e.zp=e.data,e.yq=(e.zp.cd||0)<=0?2:1,e.ta=(e.zp.remain||0)>0?0:3,e.pointTxt.text=toChars(e.zp.remain),1==e.zp.type)e.nickNameTxt.visible=!1,e.kx=(e.zp.maon||0)>0?2:1,e.ft();else{e.redPointImg.visible=!1,e.kx=e.zp.allot>1?2:1,e.nickNameTxt.visible=!0,e.zp.playerName=e.zp.playerName?e.zp.playerName:"S1.";var t=e.zp.playerName.split(".");e.nickNameTxt.text=t[0]+".\n"+t[1]}e.openedImg.visible=1!=e.kx||1!=e.yq||0!=e.ta,2==e.kx&&(e.openedImg.source="core_json.core_opened_png"),2==e.yq?e.openedImg.source="core_json.redbag_stale_png":3==e.ta&&(e.openedImg.source="core_json.getover_png")}},t.prototype.ju=function(e){GObj.$d(this)},t.prototype.ft=function(){var e=this;1==e.zp.type?e.redPointImg.visible=UsU.NP(e.zp):e.redPointImg.visible=!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.pointTxt),t.pointTxt=null,GObj.$d(t.nickNameTxt),t.nickNameTxt=null,GObj.$d(t.openedImg),t.openedImg=null,t.zp=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RedBagItemView.prototype,"RedBagItemView");
var RedBagRecordItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RedBagRecordItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.xz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.xz,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.contentTxt.textFlow=e.data,e.height=e.contentTxt.height)},t.prototype.xz=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RedBagRecordItem.prototype,"RedBagRecordItem");var RedBagRecordPopUi=function(e){function t(){var t=e.call(this,"RedBagRecordPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.attrDatas=GObj.$c(eui.ArrayCollection),e.attrDataGroup.dataProvider=e.attrDatas,e.attrDataGroup.itemRenderer=RedBagRecordItem,e.title=fvg.GVf("redbag23"),e.getBtn.label=fvg.GVf("redbag41"),e.sendBtn.label=fvg.GVf("redbag42"),e["do"]=GObj.$c(kQr),e["do"].cwA(e.getBtn),e["do"].cwA(e.sendBtn),e.getBtn.visible=!1,e.sendBtn.visible=!1,e.attrScroller.height=400},t.prototype.initData=function(){var e=this;e.kj(1),e["do"].selectedIndex=0},t.prototype.initEvent=function(){var e=this;e["do"].addEventListener(egret.Event.CHANGE,e.lt,e),vkG.$a(UtJ.TU,e.kj,e)},t.prototype.removeEvent=function(){var e=this;e["do"].removeEventListener(egret.Event.CHANGE,e.lt,e),vkG.$r(UtJ.TU,e.kj,e)},t.prototype.ui=function(){var e=this;e.attrDataGroup&&e.attrDataGroup.invalidateDisplayList()},t.prototype.kj=function(e){var t=this;t.attrDatas.source.splice(0,t.attrDatas.source.length);var n,i;if(1==e){n=App.FQ.redbagInfo.myRecords,i=n.length;for(var r,a=void 0,o=void 0,s=void 0,p=void 0,l=void 0,c=void 0,u=0;i>u;u++)s=n[u],a=s.rpType,p=s.score,c=s.state,1==c?(r=fvg.GVf("redbag28"),l=aKF.DU(aKF.BN)):2==c?(r=fvg.GVf("redbag27"),l=Color.KA):(r=fvg.GVf("redbag24"),l=aKF.DU(aKF.JN)),o=fvg.GVf("redbag25",l,r,p),2==a&&(r=s.rppName,o=fvg.GVf("redbag26",r,p)),t.attrDatas.source.push(LgRe.OQ(o))}else if(2==e){n=App.FQ.redbagInfo.message,i=n.length;for(var o=void 0,u=0;i>u;u++)o=n[u],t.attrDatas.source.push(LgRe.OQ(o))}t.attrDatas.refresh(),egret.Tween.get(t).wait(50).call(t.ui,t)},t.prototype.wb=function(e){GObj.$d(this)},t.prototype.lt=function(e){var t=this,n=t["do"].LuO;switch(n){case t.getBtn:ziI.MF("red_packet_record"),t.kj(1);break;case t.sendBtn:ziI.MF("red_packet_publish_record"),t.kj(2)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.attrScroller&&(t.attrScroller.stopAnimation(),t.attrScroller.viewport=null,GObj.$d(t.attrScroller)),t.attrScroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.sendBtn),t.sendBtn=null,t.attrDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RedBagRecordPopUi.prototype,"RedBagRecordPopUi");var RedBagRecordView=function(e){function t(){var t=e.call(this,"RedBagRecordView")||this;t.uh=3e5,t.gf=420;var n=RRUU.$s("RedBagRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ny=!1,e.touchEnabled=e.touchChildren=!1,e.xo=[],e.dz=[],e.rz=GObj.$c(GeneralRecordView,e.gf),e.wp=GObj.$c(GeneralRecordView,e.gf),e.xo.push(e.rz),e.xo.push(e.wp)},t.prototype.initData=function(){var e=this,t=App.FQ.redbagInfo.crossTime;!t||GApp.timer-t>e.uh?ziI.MF("red_packet_big_record"):e.xz()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ._W,e.bw,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ._W,e.bw,e),vkG.$r(UtJ.HD,e.dw,e),App.HA.unRegisteEnterFrame2(e.bf,e)},t.prototype.bw=function(){this.xz()},t.prototype.xz=function(){var e=this;e.ny||(e.ny=!0,vkG.$a(UtJ.HD,e.dw,e),e.dz=App.FQ.redbagInfo.notices,e.rz.setRecordData(e.dz),e.wp.setRecordData(e.dz),e.rz.y=0,e.wp.y=e.rz.totalHeight,e.recordGroup.addChild(e.rz),e.recordGroup.addChild(e.wp),App.HA.registeEnterFrame2(e.bf,e))},t.prototype.bf=function(){var e=this;if(!e.destory)for(var t=e.xo.length-1;t>=0;t--)e.qa=e.xo[t],e.qa.y--,e.qa.y<=-e.qa.totalHeight-5&&(e.qa=e.xo.splice(t,1)[0],e.qa.y=e.xo[0].y+e.xo[0].totalHeight,e.qa.setRecordData(e.dz),e.xo.push(e.qa))},t.prototype.dw=function(){var e=App.FQ.redbagInfo.crossTime;(!e||GApp.timer-e>this.uh)&&(App.FQ.redbagInfo.crossTime=GApp.timer,ziI.MF("red_packet_big_record"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rz),t.rz=null,GObj.$d(t.wp),t.wp=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.xo=null,t.qa=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RedBagRecordView.prototype,"RedBagRecordView");var RedBagView=function(e){function t(){var t=e.call(this,"RedBagView")||this;return ziI.MF("get_red_packets_act"),t.skinName=RRUU.$s("RedBagViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sendBagBtn.label=fvg.GVf("redbag1"),e.refreshBtn.label=fvg.GVf("redbag2"),e.recordBtn.label=fvg.GVf("redbag23"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=RedBagItemView,e.yz=GObj.$c(RedBagRecordView),e.yz.x=20,e.yz.y=287,e.addChild(e.yz);var t=rRcz.SS(78,!1);e.scroller.y=t?40:4,e.scroller.height=t?235:272},t.prototype.initEvent=function(){var e=this;e.sendBagBtn.addEventListener(eui.tep,e.ef,e),e.refreshBtn.addEventListener(eui.tep,e.zq,e),e.recordBtn.addEventListener(eui.tep,e.ee,e),e.aboutBtn.addEventListener(eui.tep,e.zp,e),e.itemGroup.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.__itemTabHandler,e),vkG.$a(UtJ.JNO,e.yg,e)},t.prototype.removeEvent=function(){var e=this;e.sendBagBtn.removeEventListener(eui.tep,e.ef,e),e.refreshBtn.removeEventListener(eui.tep,e.zq,e),e.recordBtn.removeEventListener(eui.tep,e.ee,e),e.aboutBtn.removeEventListener(eui.tep,e.zp,e),e.itemGroup.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__itemTabHandler,e),vkG.$r(UtJ.JNO,e.yg,e)},t.prototype.initData=function(){this.yg()},t.prototype.yg=function(){var e=this;e.itemData.source.splice(0,e.itemData.source.length);var t,n,i,r=App.FQ.redbagInfo,a=r.redBagList,o=0;for(var s in a)if(t=a[s]){if(n=t.type,i=r.showEndTime(n),2==n&&o>StaticData.RED_BAG_SIZE)continue;t.cd+i>0&&(e.itemData.source.push(a[s]),2==n&&o++)}e.itemData.source.sort(e.cv),e.itemData.refresh()},t.prototype.cv=function(e,t){var n,i=(e.cd||0)<=0?2:1;n=1==e.type?(e.maon||0)>0?2:1:e.allot>1?2:1;var r,a=(e.remain||0)>0?0:3,o=(t.cd||0)<=0?2:1;r=1==t.type?(t.maon||0)>0?2:1:t.allot>1?2:1;var s=(t.remain||0)>0?0:3;return o>i?-1:i==o?s>a?-1:a==s?r>n?-1:n==r?e.type>t.type?1:-1:1:1:1},t.prototype.__itemTabHandler=function(e){var t=this.itemGroup.selectedItem;App.VS.popup(10077,OpenRedBagPopUi,null,t)},t.prototype.ef=function(e){return rRcz.SS(76,!1)?void App.VS.popup(10077,SendRedBagPopUi):void App.TT.show(fvg.GVf("4"))},t.prototype.zq=function(e){ziI.MF("get_red_packets_act")},t.prototype.ee=function(e){App.VS.popup(10077,RedBagRecordPopUi)},t.prototype.zp=function(e){App.VS.popup(10077,RedBagDescPopUi)},t.prototype.kl=function(e){return e},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.sendBagBtn),t.sendBagBtn=null,GObj.$d(t.refreshBtn),t.refreshBtn=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t.yz),t.yz=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RedBagView.prototype,"RedBagView");var RedBagVipPopUi=function(e){function t(){var t=e.call(this,"RedBagVipPopUi")||this;return t.skinName=RRUU.$s("RedBagVipPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.zv=e[0],n.pg=e[1],n.tr())},t.prototype.initView=function(){var e=this;e.aa=GObj.$c(RedBagVipRecordView),e.aa.x=41,e.aa.y=187,e.addChild(e.aa),e.tr()},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.su,e),e.sureBtn.addEventListener(eui.tep,e.cu,e),vkG.$a(UtJ.HA,e.ku,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.su,e),e.sureBtn.removeEventListener(eui.tep,e.cu,e),vkG.$r(UtJ.HA,e.ku,e)},t.prototype.tr=function(){var e=this;if(e.CSo&&e.zv&&e.pg){e.goodsItem.data=e.zv;var t=App.XT.vipGrade;t<e.pg?(e.sureBtn.skinName=SimpleButton_4,e.ls=1,e.sureBtn.label=fvg.GVf("funny3"),e.descTxt.text=fvg.GVf("redbag30",e.pg)):(e.sureBtn.skinName=SimpleButton_3,e.ls=2,e.sureBtn.label=fvg.GVf("confirm"),e.descTxt.text=fvg.GVf("redbag31"))}},t.prototype.cu=function(){var e=this;return 1==e.ls?void App.VS.open(10089):void e.su(null)},t.prototype.su=function(e){GObj.$d(this)},t.prototype.ku=function(){this.tr()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.sureBtn),t.sureBtn=null,t.zv=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(RedBagVipPopUi.prototype,"RedBagVipPopUi");var RedBagVipRecordView=function(e){function t(){var t=e.call(this,"RedBagVipRecordView")||this;t.mi=6e5,t.df=275;var n=RRUU.$s("RedBagVipRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xi=!1,e.touchEnabled=e.touchChildren=!1,e.jy=[],e.lz=[],e.gd=GObj.$c(GeneralRecordView,e.df),e.cd=GObj.$c(GeneralRecordView,e.df),e.jy.push(e.gd),e.jy.push(e.cd)},t.prototype.initData=function(){var e=this,t=App.FQ.redbagInfo.vipTime;!t||GApp.timer-t>e.mi?ziI.MF("big_bang_record"):e.ip()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.IX,e.hd,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.IX,e.hd,e),vkG.$r(UtJ.HD,e.wgq,e),App.HA.unRegisteEnterFrame2(e.ax,e)},t.prototype.hd=function(){this.ip()},t.prototype.ip=function(){var e=this;e.xi||(e.xi=!0,vkG.$a(UtJ.HD,e.wgq,e),e.lz=App.FQ.redbagInfo.vipNotices,e.gd.setRecordData(e.lz,8,3),e.cd.setRecordData(e.lz,8,3),e.gd.y=0,e.cd.y=e.gd.totalHeight,e.recordGroup.addChild(e.gd),e.recordGroup.addChild(e.cd),App.HA.registeEnterFrame2(e.ax,e))},t.prototype.ax=function(){var e=this;if(!e.destory)for(var t=e.jy.length-1;t>=0;t--)e.lj=e.jy[t],e.lj.y--,e.lj.y<=-e.lj.totalHeight-5&&(e.lj=e.jy.splice(t,1)[0],e.lj.y=e.jy[0].y+e.jy[0].totalHeight,e.lj.setRecordData(e.lz),e.jy.push(e.lj))},t.prototype.wgq=function(){var e=App.FQ.redbagInfo.vipTime;(!e||GApp.timer-e>this.mi)&&(App.FQ.redbagInfo.vipTime=GApp.timer,ziI.MF("big_bang_record"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gd),t.gd=null,GObj.$d(t.cd),t.cd=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.jy=null,t.lj=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RedBagVipRecordView.prototype,"RedBagVipRecordView");var SendRedBagItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SendRedBagItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ah,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ah,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.pointTxt.text=toChars(e.data))},t.prototype.ah=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.pointTxt),t.pointTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SendRedBagItem.prototype,"SendRedBagItem");var SendRedBagPopUi=function(e){function t(){var t=e.call(this,"SendRedBagPopUi")||this;return t.skinName=RRUU.$s("SendRedBagPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sendBtn.label=fvg.GVf("redbag5"),e.title=fvg.GVf("redbag6"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=SendRedBagItem},t.prototype.initEvent=function(){var e=this;e.sendBtn.addEventListener(eui.tep,e.oa,e),e.itemGroup.addEventListener(egret.Event.CHANGE,e.ni,e),vkG.$a(UtJ.PA,e.fa,e),vkG.$a(UtJ.IN,e.ni,e),vkG.$a(UtJ.QRG,e.xm,e)},t.prototype.removeEvent=function(){var e=this;e.sendBtn.removeEventListener(eui.tep,e.oa,e),e.itemGroup.removeEventListener(egret.Event.CHANGE,e.ni,e),vkG.$r(UtJ.PA,e.fa,e),vkG.$r(UtJ.IN,e.ni,e),vkG.$r(UtJ.QRG,e.xm,e)},t.prototype.initData=function(){for(var e=this,t=App.FQ.redbagInfo.sendPointArr,n=0;n<t.length;n++)e.itemData.source.push(parseInt(t[n]));e.itemData.refresh(),e.itemGroup.selectedIndex=0,e.ni(null),e.fa()},t.prototype.ni=function(e){var t=this;t.wv=t.itemGroup.selectedItem,t.pointTxt.text=toChars(t.wv),t.pointTxt.textColor=t.wv<App.KF.point?Color.XB:Color.KA},t.prototype.fa=function(){var e=this;e.os=App.FQ.redbagInfo.sendVipGrade;var t=App.XT.vipGrade;if(e.os<=t){e.sendBtn.skinName=SimpleButton_1,e.sendBtn.label=fvg.GVf("redbag5"),e.gl=2,e.cg=App.FQ.redbagInfo.sendCount,e.dx=App.FQ.redbagInfo.apn||0,e.descTxt.textColor=Color.XB;var n=e.dx>=e.cg?Color.KA:Color.TX;e.descTxt.textFlow=LgRe.OQ(fvg.GVf("redbag32",n,e.cg-e.dx,e.cg))}else e.sendBtn.skinName=SimpleButton_2,e.sendBtn.label=fvg.GVf("funny3"),e.gl=1,e.descTxt.text=fvg.GVf("redbag33",e.os),e.descTxt.textColor=Color.TX},t.prototype.oa=function(e){var t=this;if(1==t.gl)return void App.VS.open(10089);var n=App.FQ.redbagInfo.playerRedbBagCount;if(n>=StaticData.RED_BAG_SIZE)return void App.TT.show(fvg.GVf("redbag36"));if(t.dx>=t.cg)return void App.TT.show(fvg.GVf("redbag35"));if(t.wv>App.BG.jkU.point)return void App.TT.show(fvg.GVf("redbag34"));var i=App.FQ.redbagInfo.isSend;if(i)ChatMsgProxy.LG(t.itemGroup.selectedIndex);else{var r=fvg.GVf("redbag45",t.wv);Alert.WK(r,null,null,t.sf,this,[t.wv])}},t.prototype.sf=function(){ChatMsgProxy.LG(this.itemGroup.selectedIndex),App.FQ.redbagInfo.isSend=!0},t.prototype.fv=function(e){GObj.$d(this)},t.prototype.xm=function(){var e=App.FQ.redbagInfo;return-1==e.code?void App.TT.show(fvg.GVf("bankview003")):-2==e.code?void App.TT.show(fvg.GVf("redbag35")):-3==e.code?void App.TT.show(fvg.GVf("redbag34")):-4==e.code?void App.TT.show(fvg.GVf("redbag36")):1==e.code?void App.TT.show(fvg.GVf("redbag37")):-5==e.code?void App.TT.show(fvg.GVf("redbag48")):void 0},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.sendBtn),t.sendBtn=null,GObj.$d(t.pointTxt),t.pointTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SendRedBagPopUi.prototype,"SendRedBagPopUi");var BattleRankView=function(e){function t(){var t=e.call(this,"BattleRankView")||this;return t.skinName=RRUU.$s("BattleRankView"),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.mm(),e._itemArr=[],e.yu=[],e.fj=[App.JP.getGoodsCount1,App.JP.getGoodsCount1,App.JP.getGoodsCount1],e.bv=[e.helpFacLab1,e.helpFacLab2],e.eo=[e.helpScoreLab1,e.helpScoreLab2],e.df=App.XD.cityBattleVo["cd"+App.XD.currSelectedType]||1,e.fd=App.XD.cityBattleVo["cf"+App.XD.currSelectedType]||1,e.ky=[];for(var t,n=[1,2,3,4],i=0,r=0;4>r;r++)t=n[r],t!=e.df&&t!=e.fd&&(e.ky.push(t),e.bv[i].text=fvg.GVf("martialart_name_"+t),i++);e.defFacLab1.text=fvg.GVf("martialart_name_"+e.df),e.atkFacLab1.text=fvg.GVf("martialart_name_"+e.fd),e.totalLab.text=fvg.GVf("harry23"),e.descLab.text=fvg.GVf("city28"),e.descTitleLab.text=fvg.GVf("harry22"),e.scoreDescLab.text=fvg.GVf("harry26"),e.atkLab.text=fvg.GVf("harry24"),e.defLab.text=fvg.GVf("harry25"),e.helpLab.text=fvg.GVf("city10"),e.sectsLab.text=fvg.GVf("harry42"),e.integralLab.text=fvg.GVf("461");for(var a,o,r=0;3>r;r++)a=GObj.$c(GoodsItemView),o=GObj.$c(nlwj),o.tid=e.ts[r],a.data=o,a.x=150+80*r,a.y=292,e.totalGroup.addChild(a),e._itemArr.push(a),e.yu.push(o)},t.prototype.mm=function(){var e=this;e.ts=[],e.sd=[];for(var t=XCA.CG(IDU.DC),n=t.split("|"),i=0;i<n.length;i++){var r=n[i].split(","),a=parseInt(r[0]),o=parseInt(r[1]);e.ts.push(a),e.sd.push(o)}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.sa(),t.yc()},t.prototype.yc=function(){var e=this,t=App.XD.cityBattlePlayerVo;if(t){for(var n,i,r=e.fj.length,a=0;r>a;a++)n=e._itemArr[a],i=e.yu[a],i.count=e.fj[a](App.XD.cityBattlePlayerVo.tsc,e.sd[a]),n.updateCount();e.killLab.text=fvg.GVf("harry20",t.kct||0),e.scoreLab.text=fvg.GVf("martialart100",t.tsc||0)}},t.prototype.sa=function(){var e=this;e.yc();var t=App.XD.cityBattlePlayerVo;if(t&&t.fs){e.defScoreLab1.text=toChars(t.fs[e.df]||0),e.atkScoreLab1.text=toChars(t.fs[e.fd]||0);for(var n=0;2>n;n++)e.eo[n].text=toChars(t.fs[e.ky[n]]||0)}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.VJQ,e.sa,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.VJQ,e.sa,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.yu),t.yu=null,GObj.$d(t.fj),t.fj=null,GObj.$d(t.bv),t.bv=null,GObj.$d(t.helpFacLab2),t.helpFacLab2=null,GObj.$d(t.eo),t.eo=null,GObj.$d(t.totalLab),t.totalLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descTitleLab),t.descTitleLab=null,GObj.$d(t.killLab),t.killLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.scoreDescLab),t.scoreDescLab=null,GObj.$d(t.atkLab),t.atkLab=null,GObj.$d(t.defLab),t.defLab=null,GObj.$d(t.defFacLab1),t.defFacLab1=null,GObj.$d(t.defScoreLab1),t.defScoreLab1=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,GObj.$d(t.totalGroup),t.totalGroup=null,GObj.$d(t.sd),t.sd=null,GObj.$d(t.mm),t.mm=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BattleRankView.prototype,"BattleRankView");var BattleTotalPopUi=function(e){function t(t){var n=e.call(this,"BattleTotalPopUi")||this;return n.skinName=RRUU.$s("BattleTotalPopUi"),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.iv=GObj.$c(kQr),e.iv.cwA(e.totalBtn),e.iv.cwA(e.scoreBtn),e.totalBtn.label=fvg.GVf("harry27"),e.scoreBtn.label=fvg.GVf("harry28"),e.title=fvg.GVf("harry43")},t.prototype.initData=function(){this.iv.selectedIndex=0},t.prototype.initEvent=function(){var e=this;e.iv.addEventListener(egret.Event.CHANGE,e.co,e)},t.prototype.removeEvent=function(){var e=this;e.iv.removeEventListener(egret.Event.CHANGE,e.co,e)},t.prototype.co=function(){var e=this,t=e.iv.LuO;switch(e.lu&&(e.lu.visible=!1,e.lu=null),t){case e.totalBtn:e.rp||(e.rp=GObj.$c(BattleRankView),e.addChild(e.rp)),e.rp.y=60,e.rp.visible=!0,e.lu=e.rp;break;case e.scoreBtn:e.ec||(e.ec=GObj.$c(CityJoinOneView),e.addChild(e.ec)),e.ec.y=60,e.ec.visible=!0,e.lu=e.ec}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ec),t.ec=null,GObj.$d(t.scoreBtn),t.scoreBtn=null,GObj.$d(t.totalBtn),t.totalBtn=null,GObj.$d(t.iv),t.iv=null,GObj.$d(t.rp),t.rp=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BattleTotalPopUi.prototype,"BattleTotalPopUi");var CityBattleBottomMapFrame=function(e){function t(){var t=e.call(this,"CityBattleBottomMapFrame")||this;return t.dj=5,t.cm=[56,132,210],t.skinName=RRUU.$s(t.id),t.bottom=176,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;vkG.$a(HUtJ.HEARTBEAT,e.sn,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.sn,e)},t.prototype.initData=function(){var e=this;e.lo=App.XD.cityBattleVo.st||0;var t=e.lo+120-App.NN.serverSecond+StaticData.HARRY_START_TIME;t>0?vkG.$a(HUtJ.HEARTBEAT,e.sn,e):(e.tipBgImg&&e.tipBgImg.parent&&e.tipBgImg.parent.removeChild(e.tipBgImg),e.tipTxt&&e.tipTxt.parent&&e.tipTxt.parent.removeChild(e.tipTxt))},t.prototype.sn=function(){var e=this;return e.ki=e.lo+120-App.NN.serverSecond+60,e.dj--,e.ki<0&&(e.tipBgImg&&e.tipBgImg.parent&&e.tipBgImg.parent.removeChild(e.tipBgImg),e.tipTxt&&e.tipTxt.parent&&e.tipTxt.parent.removeChild(e.tipTxt)),e.ki<0&&e.dj<=0?void vkG.$r(HUtJ.HEARTBEAT,e.sn,e):void(e.tipTxt.text=fvg.GVf("harry17",e.ki))},t.prototype.updateData=function(e){},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sx),t.sx=null,GObj.$d(t.mo),t.mo=null,t.ht=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CityBattleBottomMapFrame.prototype,"CityBattleBottomMapFrame");var CityBattleDescPopUi=function(e){function t(){return e.call(this,"CityBattleDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.RB,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(CityBattleDescPopUi.prototype,"CityBattleDescPopUi");var CityBattleFightPopUi=function(e){function t(){var t=e.call(this,"CityBattleFightPopUi")||this;return t.z_=App.XB.info.fid,t.skinName=RRUU.$s("CityBattleFightPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){var e=this;1==App.XD.currSelectedType?e.title=fvg.GVf("city47"):2==App.XD.currSelectedType&&(e.title=fvg.GVf("city48")),e.datas.source.length=0;var t=XCA.DG(88,1),n=Nkz.PI(t);if(n){for(var i,r=n.length,a=0;r>a;a++)i=n[a],e.datas.source.push(i);e.datas.refresh(),e.jk(),e.iy()}},t.prototype.iy=function(){var e=this;e.descTxt.text="",e.fm=0;var t=App.XD.cityBattleVo;t&&(e.fm=t.st+600-App.NN.serverSecond,e.fm>0?(vkG.$a(HUtJ.HEARTBEAT,e._h,e),e._h()):vkG.$r(HUtJ.HEARTBEAT,e._h,e))},t.prototype._h=function(){var e=this;e.descTxt.text=fvg.GVf("city23",kpd.YW(e.fm)),e.fm<=0&&(e.descTxt.text="",vkG.$r(HUtJ.HEARTBEAT,e._h,e)),e.fm--},t.prototype.initEvent=function(){var e=this;e.helpBattleBtn.addEventListener(eui.tep,e.wt,e),e.enterBattleBtn.addEventListener(eui.tep,e.wt,e)},t.prototype.removeEvent=function(){var e=this;e.helpBattleBtn.removeEventListener(eui.tep,e.wt,e),e.enterBattleBtn.removeEventListener(eui.tep,e.wt,e),vkG.$r(HUtJ.HEARTBEAT,e._h,e)},t.prototype.jk=function(){var e=this,t=App.XD.cityBattleVo;t&&(e.angerLab.text=fvg.GVf("city30",t["wc"+App.XD.currSelectedType]||0),e.flagImg1.source="mine_json.mine_mart_"+t["cf"+App.XD.currSelectedType]+"_png",e.martialTxt1.text=fvg.GVf("martialart_name_"+t["cf"+App.XD.currSelectedType]),e.flagImg2.source="mine_json.mine_mart_"+t["cd"+App.XD.currSelectedType]+"_png",e.martialTxt2.text=fvg.GVf("martialart_name_"+t["cd"+App.XD.currSelectedType]),e.enterBattleBtn.visible=e.df(),e.helpBattleBtn.visible=!e.df())},t.prototype.df=function(){var e=this,t=App.XD.cityBattleVo;return t?e.z_==t["cf"+App.XD.currSelectedType]||e.z_==t["cd"+App.XD.currSelectedType]?!0:!1:void 0},t.prototype.wt=function(){var e=App.XD.cityBattleVo;if(e&&App.UY.isCanSwitc()){var t=App.XD.cityBattleVo.cd-App.NN.serverSecond;if(t>0)return void App.TT.show(fvg.GVf("city5",t));App.VS.closeAll();var n;n=1==App.XD.currSelectedType?StaticData.CITY_MAP_ID1:StaticData.CITY_MAP_ID2,App.XD.hlpeId=this.qr(),App.VS.enterMapOpenUI(n,10032,void 0,!1),App.UY.enter(n,!0)}},t.prototype.qr=function(){var e=App.XD.cityBattleVo;return e?App.KF.fid==e["cd"+App.XD.currSelectedType]?App.KF.fid:e["cf"+App.XD.currSelectedType]:0},t.prototype.ah=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.datas),t.datas=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.flagImg1),t.flagImg1=null,GObj.$d(t.angerLab),t.angerLab=null,GObj.$d(t.flagImg2),t.flagImg2=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.martialTxt1),t.martialTxt1=null,GObj.$d(t.martialTxt2),t.martialTxt2=null,GObj.$d(t.helpBattleBtn),t.helpBattleBtn=null,GObj.$d(t.enterBattleBtn),t.enterBattleBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CityBattleFightPopUi.prototype,"CityBattleFightPopUi");var CityBattleHeadMapBtn=function(e){function t(){var t=e.call(this)||this;return t.ag=!1,t.ub=!1,t.wd(),t}return __extends(t,e),t.prototype.wd=function(){var e=this;e.touchEnabled=!0,e.uy=GObj.$c(egret.Bitmap),e.addChild(e.uy),e.xg=GObj.$c(egret.TextField),e.xg.x=0,e.xg.y=45,e.xg.width=70,e.xg.height=14,e.xg.size=12,e.xg.textColor=Color.XB,e.xg.textAlign=egret.HorizontalAlign.CENTER,e.addChild(e.xg),e.jo=GObj.$c(egret.Bitmap),e.jo.texture=RES.getRes("core_json.pb_thumb_2_png"),e.jo.x=8,e.jo.y=72,e.jo.width=73,e.addChild(e.jo)},Object.defineProperty(t.prototype,"isGuard",{get:function(){return this.ag},set:function(e){var t=this;t.ag!=e&&(t.ag=!0,t.ag&&(t.uy.texture=RES.getRes("harrymap_json.harry_head_3_png"),t.jo.x=3,t.jo.y=62))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.ub},set:function(e){var t=this;t.ub!=e&&(t.ub=e,t.ub?(t.xs||(t.xs=GObj.$c(egret.Bitmap),t.ag?t.xs.texture=RES.getRes("harrymap_json.harry_head_sel_3_png"):t.xs.texture=RES.getRes("harrymap_json.harry_head_sel_png"),t.xs.x=0,t.xs.y=-4),t.xs.parent||t.addChild(t.xs)):t.xs&&t.xs.parent&&t.xs.parent.removeChild(t.xs))},enumerable:!0,configurable:!0}),t.prototype.updateData=function(e){var t=this;e&&(t.uc=e,t.uy.texture=RES.getRes("harrymap_json.harry_head_"+e.sex+"_png"),t.xg.text=e.name,e.attr&&(t.jo.width=e.attr.lefthp/e.attr.maxhp*53))},Object.defineProperty(t.prototype,"data",{get:function(){return this.uc},enumerable:!0,configurable:!0}),t.prototype.updateGuard=function(e){var t=this;t.isGuard=!0,e&&e.attr&&(t.jo.width=e.attr.lefthp/e.attr.maxhp*53)},t.prototype.dispose=function(){var e=this;GObj.$d(e.uy),e.uy=null,GObj.$d(e.xg),e.xg=null},t}(egret.Sprite);__reflect(CityBattleHeadMapBtn.prototype,"CityBattleHeadMapBtn");var CityBattleLogItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleLogItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.gc,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.gc,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.on=e.data;var t=JSON.parse(e.data),n=(fvg.GVf(""),fvg.GVf("martialart_appell_"+t.fid1,t.fgrade1));1==t.type?e.on=fvg.GVf("city19",n+t.name1):2==t.type?e.on=fvg.GVf("city20",n+t.name1):3==t.type&&(e.on=fvg.GVf("city21",n+t.name1)),e.msgTxt.text=e.on}},t.prototype.gc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,t.on=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleLogItem.prototype,"CityBattleLogItem");var CityBattleLogPopUi=function(e){function t(){var t=e.call(this,"CityBattleLogPopUi")||this;return t.skinName=RRUU.$s("CityBattleLogPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("city39"),e.titleTxt_2.text=fvg.GVf("mine24"),e.itemData_1=GObj.$c(eui.ArrayCollection),e.itemGroup_1.dataProvider=e.itemData_1,e.itemGroup_1.itemRenderer=CityBattleLogItem,e.itemData_2=GObj.$c(eui.ArrayCollection),e.itemGroup_2.dataProvider=e.itemData_2,e.itemGroup_2.itemRenderer=CityBattleLogUserItem,e.title=fvg.GVf("city45")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TE,e.ab,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TE,e.ab,e)},t.prototype.initData=function(){ziI.BR("cross_city_fight_all_log"),ziI.BR("cross_city_fight_player_log"),this.ab()},t.prototype.ab=function(){var e=this,t=App.XD.cityBattleAllLog,n=App.XD.cityBattlePlayerLog,i=(n||[]).reverse(),r=(t||[]).reverse();e.itemData_1.source.length=0,e.itemData_2.source.length=0;var a,o=Math.max(i.length,r.length);for(a=0;o>a;a++)r[a]&&e.itemData_1.source.push(r[a]),i[a]&&e.itemData_2.source.push(i[a]);e.itemData_1.refresh(),e.itemData_2.refresh()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2,t.scroller_1&&(t.scroller_1.stopAnimation(),t.scroller_1.viewport=null,GObj.$d(t.scroller_1)),t.scroller_1=null,t.scroller_2&&(t.scroller_2.stopAnimation(),t.scroller_2.viewport=null,GObj.$d(t.scroller_2)),t.scroller_2=null,t.itemGroup_1&&(t.itemGroup_1.dataProvider=null,GObj.$d(t.itemGroup_1)),t.itemGroup_1=null,t.itemGroup_2&&(t.itemGroup_2.dataProvider=null,GObj.$d(t.itemGroup_2)),t.itemGroup_2=null,t.itemData_1=null,t.itemData_2=null,e.prototype.dispose.call(this)
},t}(BasePopUi);__reflect(CityBattleLogPopUi.prototype,"CityBattleLogPopUi");var CityBattleLogUserItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleLogUserItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.uo,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.uo,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=t.split("|");1==parseInt(n[0])?e.pp=fvg.GVf("city19",n[1]):2==parseInt(n[0])&&(e.pp=fvg.GVf("city20",n[1])),e.msgTxt.text=e.pp}},t.prototype.uo=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,t.pp=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleLogUserItem.prototype,"CityBattleLogUserItem");var CityBattleMainLogItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleMainLogItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wg,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=JSON.parse(e.data),n=(fvg.GVf(""),fvg.GVf("martialart_appell_"+t.fid1,t.fgrade1));1==t.type?e.db=fvg.GVf("city19",n+t.name1):2==t.type?e.db=fvg.GVf("city20",n+t.name1):3==t.type&&(e.db=fvg.GVf("city21",n+t.name1)),e.logTxt.text=e.db}},t.prototype.wg=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.logTxt),t.logTxt=null,t.db=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleMainLogItem.prototype,"CityBattleMainLogItem");var CityBattleMapFrame=function(e){function t(){var t=e.call(this,"CityBattleMapFrame")||this;return t.ic=3,t.skinName=RRUU.$s(t.id),t.bottom=230,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.killDescLab.text=fvg.GVf("harry29"),e.nameDescLab.text=fvg.GVf("teamcopy17"),e.scoreDescLab.text=fvg.GVf("17"),e.sv(),e.dd=[];var t=XCA.CG(IDU.KWT);if(t)for(var n=t.split(QycO.XP),i=n.length,r=0;i>r;r++)e.dd.push(parseInt(n[r]));e.ub()},t.prototype.oa=function(){App.VS.popup(null,CityBattleDescPopUi)},t.prototype.initEvent=function(){var e=this;e.gradeBtn.addEventListener(eui.tep,e.kw,e),e.totalBtn.addEventListener(eui.tep,e.uv,e),e.scoreBtn.addEventListener(eui.tep,e.wa,e),e.descBtn.addEventListener(eui.tep,e.oa,e),e.angerBtn.addEventListener(eui.tep,e.ky,e),vkG.$a(UtJ.TT,e.ko,e),vkG.$a(UtJ.RN,e.sv,e),vkG.$a(HUtJ.HEARTBEAT,e.cc,e),vkG.$a(UtJ.KU,e.ub,e)},t.prototype.removeEvent=function(){var e=this;e.gradeBtn.removeEventListener(eui.tep,e.kw,e),e.totalBtn.removeEventListener(eui.tep,e.uv,e),e.scoreBtn.removeEventListener(eui.tep,e.wa,e),e.descBtn.removeEventListener(eui.tep,e.oa,e),e.angerBtn.removeEventListener(eui.tep,e.ky,e),vkG.$r(UtJ.TT,e.ko,e),vkG.$r(UtJ.RN,e.sv,e),vkG.$r(HUtJ.HEARTBEAT,e.cc,e),vkG.$r(UtJ.KU,e.ub,e)},t.prototype.ky=function(){var e=App.XD.cityBattleVo;if(e){var t=e["wc"+App.XD.currSelectedType]||0,n=10+.5*(t-10);Alert.WK(fvg.GVf("city35",n),null,Alert.EX)}},t.prototype.initData=function(){var e=this;e.ep();var t=App.XD.cityBattleVo;t&&(e.angerBtn.label=t["wc"+App.XD.currSelectedType])},t.prototype.sv=function(){this.le=App.XD.cityBattleVo.st+600||0},t.prototype.cc=function(){var e=this;e.my=e.le-App.NN.serverSecond,e.my<0&&(e.my=0),e.timeLab.text=kpd.HE(e.my)},t.prototype.ko=function(e){var t=this;e.type==FDG.ML&&(t.v_=e,t.ep())},t.prototype.ep=function(){var e=this;if(e.v_&&e.v_.list){var t=e.v_.list.length;if(!(0>=t)){var n=e.v_.list[0];e.nameLab.text=n.name,e.killLab.text=toChars(n.score),e.scoreLab.text=toChars(n.p1);var i=n.fid||1;e.facLab.text=fvg.GVf("martialart_name_"+i)}}},t.prototype.kw=function(e){var t=this;t.gradeGroup.visible=!t.gradeGroup.visible},t.prototype.ub=function(){var e=this,t=!1;if(e.dd&&e.dd.length>0)for(var n=App.MT.harryBoxRes||0,i=App.XD.cityBattlePlayerVo.tsc||0,r=e.dd.length,a=0;r>a;a++)if(i>=e.dd[a]&&0==(n&1<<a)){t=!0;break}e.scoreBtn.icon=t?StaticData.GHj:null},t.prototype.uv=function(e){App.VS.popup(null,BattleTotalPopUi)},t.prototype.wa=function(e){App.VS.popup(null,KqZ.KA)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.nameDescLab),t.nameDescLab=null,GObj.$d(t.facLab),t.facLab=null,GObj.$d(t.killLab),t.killLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.killDescLab),t.killDescLab=null,GObj.$d(t.scoreDescLab),t.scoreDescLab=null,GObj.$d(t.gradeGroup),t.gradeGroup=null,GObj.$d(t.gradeBtn),t.gradeBtn=null,GObj.$d(t.totalBtn),t.totalBtn=null,GObj.$d(t.scoreBtn),t.scoreBtn=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.angerBtn),t.angerBtn=null,t.dd=null,t.v_=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CityBattleMapFrame.prototype,"CityBattleMapFrame");var CityBattleMartialRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleMartialRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.selected=!0,e.boxBtn.$autoSelected=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ll,e),e.boxBtn.addEventListener(eui.tep,e.wv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ll,e),e.boxBtn.removeEventListener(eui.tep,e.wv,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.hx=e.data,e.hx?(e.martTxt.text=fvg.GVf("martialart_name_"+e.hx.fid),e.belongTxt.text=toChars(e.hx.score)):(e.martTxt.text="--",e.belongTxt.text=toChars(0)),e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.visible=!1):(e.rankImg.source="",e.rankTxt.text=toChars(e.itemIndex+1),e.rankTxt.visible=!0))},t.prototype.wv=function(e){var t=GObj.$c(BoxPopUi);t.showDetail(91,1,this.itemIndex+1)},t.prototype.ll=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.martTxt),t.martTxt=null,GObj.$d(t.belongTxt),t.belongTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.rankImg),t.rankImg=null,t.hx=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleMartialRankItem.prototype,"CityBattleMartialRankItem");var CityBattleMartialRankPopUi=function(e){function t(){var t=e.call(this,"CityBattleMartialRankPopUi")||this;return t.rs=4,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("mine74"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CityBattleMartialRankItem,e.rankingLab.text=fvg.GVf("harry32"),e.sectsLab.text=fvg.GVf("harry33"),e.integralLab.text=fvg.GVf("harry34"),e.rewardLab.text=fvg.GVf("harry35"),e.title=fvg.GVf("459")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.qr,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.qr,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.YY);(!e||GApp.timer-e.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.YY),this.qr(e)},t.prototype.qr=function(e){var t=this;if(!e||e.type==FDG.YY){var n,i=e?Math.max(e.list.length,t.rs):t.rs;t.itemData.source.length=0;for(var r=e?e.list||[]:[],a=0;i>a;a++)n=r[a],t.itemData.source.push(n);t.itemData.refresh(),t.myRankTxt.text=fvg.GVf("rank1",fvg.GVf("martialart_name_"+App.KF.fid)),t.myBelongTxt.text=fvg.GVf("martialart100",e?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myBelongTxt),t.myBelongTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CityBattleMartialRankPopUi.prototype,"CityBattleMartialRankPopUi");var CityBattleRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleRankItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo)if(e.ai=e.data,e.rankLab.text=e.itemIndex+4+"",e.integralLab.text=fvg.GVf("harry34"),e.ai){e.nameLab.text=e.ai.name,e.scoreTxt.text=e.ai.score+"",e.nameLab.y=32;var t=XCA.AQS.UFA(21,1,e.ai.fgrade);if(t){var n=Nkz.LI(t.p5);e.appellLab.text=fvg.GVf("martialart_appell_"+e.ai.fid,e.ai.fgrade)+n[e.ai.fid||1],e.appellLab.textColor=aKF.DU(gLw.GM(t.tid))}}else e.nameLab.text=fvg.GVf("rank10"),e.nameLab.y=20,e.appellLab.text="",e.scoreTxt.text="0"},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.lr,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.lr,e)},t.prototype.lr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.appellLab),t.appellLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.integralLab),t.integralLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleRankItem.prototype,"CityBattleRankItem");var CityBattleRankView=function(e){function t(){var t=e.call(this,"CityBattleRankView")||this;return t.mp=10,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.datas=GObj.$c(eui.ArrayCollection),t.itemDataGroup.dataProvider=t.datas,t.itemDataGroup.itemRenderer=CityBattleRankItem,t.ul=GObj.$c(FigureView),t.ul.x=70,t.ul.y=300,t.avatorGroup1.addChildAt(t.ul,2),t.fw=GObj.$c(FigureView),t.fw.x=70,t.fw.y=235,t.avatorGroup2.addChildAt(t.fw,2),t.wv=GObj.$c(FigureView),t.wv.x=50,t.wv.y=300,t.avatorGroup3.addChildAt(t.wv,2)},t.prototype.initData=function(){e.prototype.initData.call(this);var t=App.PV.getData(FDG.JB);(!t||GApp.timer-t.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.JB),this.hz(t)},t.prototype.hz=function(e){this.ne(e),e&&e.type==FDG.JB&&(!e||e.list.length<=0)},t.prototype.ne=function(e){var t,n=this;t=e?e.list[0]:null,t?(n.firstTxt.text=fvg.GVf("city6",t.name),n.firstScoreTxt.text=fvg.GVf("city9",t.score),n.avatorGroup1.addChildAt(n.ul,0),FigureHelps.NW(n.ul,{b:t.b,w:t.w,c:t.c,s:t.sex||1}),n.headIcon.icon=kLM.JU(parseInt(t.head),t.heads),n.frameImg.source=kLM.ZQ(t.usehf||1),n.nameLab.text=t.name,n.fg&&n.fg.parent&&n.fg.parent.removeChild(n.fg)):(n.firstTxt.text=fvg.GVf("rank10"),n.firstScoreTxt.text=fvg.GVf("city9",0),n.ul&&n.ul.parent&&n.ul.parent.removeChild(n.ul),n.fg||(n.fg=GObj.$c(MovieEffect),n.fg.touchEnabled=n.fg.touchChildren=!1,n.fg.play(gYq.BU),n.fg.x=65,n.fg.y=300),n.avatorGroup1.addChildAt(n.fg,0)),t=e?e.list[1]:null,t?(n.avatorGroup2.addChildAt(n.fw,0),n.secondTxt.text=fvg.GVf("city7",t.name),FigureHelps.NW(n.fw,{b:t.b,w:t.w,c:t.c,s:t.sex||1}),n.secondScoreTxt.text=fvg.GVf("city9",t.score),n.gs&&n.gs.parent&&n.gs.parent.removeChild(n.gs)):(n.secondTxt.text=fvg.GVf("rank10"),n.secondScoreTxt.text=fvg.GVf("city9",0),n.fw&&n.fw.parent&&n.fw.parent.removeChild(n.fw),n.gs||(n.gs=GObj.$c(MovieEffect),n.gs.touchEnabled=n.gs.touchChildren=!1,n.gs.play(gYq.BU),n.gs.x=65,n.gs.y=230),n.avatorGroup2.addChildAt(n.gs,0)),t=e?e.list[2]:null,t?(n.avatorGroup3.addChildAt(n.wv,0),n.thirdTxt.text=fvg.GVf("city8",t.name),FigureHelps.NW(n.wv,{b:t.b,w:t.w,c:t.c,s:t.sex||1}),n.thirdScoreTxt.text=fvg.GVf("city9",t.score),n.gh&&n.gh.parent&&n.gh.parent.removeChild(n.gh)):(n.thirdTxt.text=fvg.GVf("rank10"),n.thirdScoreTxt.text=fvg.GVf("city9",0),n.wv&&n.wv.parent&&n.wv.parent.removeChild(n.wv),n.gh||(n.gh=GObj.$c(MovieEffect),n.gh.touchEnabled=n.gh.touchChildren=!1,n.gh.play(gYq.BU),n.gh.x=65,n.gh.y=295),n.avatorGroup3.addChildAt(n.gh,0));for(var i,r=e?e.list||[]:[],a=3;a<n.mp;a++)i=r[a],n.datas.source[a-3]=i;n.datas.refresh()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.martialRankBtn.addEventListener(eui.tep,t.jc,t),vkG.$a(UtJ.TT,t.cd,t)},t.prototype.removeEvent=function(){var e=this;e.martialRankBtn.removeEventListener(eui.tep,e.jc,e),vkG.$r(UtJ.TT,e.cd,e)},t.prototype.cd=function(e){e&&e.type!=FDG.JB||this.ne(e)},t.prototype.jc=function(){App.VS.popup(10041,CityBattleMartialRankPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.martialRankBtn),t.martialRankBtn=null,GObj.$d(t.itemDataGroup),t.itemDataGroup=null,GObj.$d(t.firstTxt),t.firstTxt=null,GObj.$d(t.secondTxt),t.secondTxt=null,GObj.$d(t.thirdTxt),t.thirdTxt=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.firstScoreTxt),t.firstScoreTxt=null,GObj.$d(t.secondScoreTxt),t.secondScoreTxt=null,GObj.$d(t.thirdScoreTxt),t.thirdScoreTxt=null,GObj.$d(t.ul),t.ul=null,GObj.$d(t.fw),t.fw=null,GObj.$d(t.wv),t.wv=null,GObj.$d(t.avatorGroup1),t.avatorGroup1=null,GObj.$d(t.avatorGroup2),t.avatorGroup2=null,GObj.$d(t.avatorGroup3),t.avatorGroup3=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(CityBattleRankView.prototype,"CityBattleRankView");var CityBattleRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleRewardItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("official7"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.datas.source.splice(0,e.datas.source.length);var t=XCA.DG(89,e.data+1),n=Nkz.PI(t);if(n){for(var i,r=n.length,a=0;r>a;a++)i=n[a],e.datas.source.push(i);e.datas.refresh(),e.cityNameTxt.text=fvg.GVf("city3_"+e.data),e.getBtn.visible=e.getImg.visible=!1;var o=App.XD.cityBattleVo;o&&(e.attentionLab.text=fvg.GVf("city34"),e.attentionLab.textColor=Color.KA,o.jw[""+e.data]>0?(e.attentionLab.text=fvg.GVf("city33"),e.attentionLab.textColor=Color.TX):(e.attentionLab.text=fvg.GVf("city34"),e.attentionLab.textColor=Color.KA))}}},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.ka,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.ka,e)},t.prototype.ka=function(){CityBattleMsgProxy.PE(1,this.ss)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.attentionLab),t.attentionLab=null,GObj.$d(t.cityNameTxt),t.cityNameTxt=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleRewardItem.prototype,"CityBattleRewardItem");var CityBattleRewardPopUi=function(e){function t(){var t=e.call(this,"CityBattleRewardPopUi")||this;return t.skinName=RRUU.$s("CityBattleRewardPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("official7"),e.datas=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.datas,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.myDatas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.myDatas,e.itemDataGroup.itemRenderer=CityBattleRewardItem,e.title=fvg.GVf("city46")},t.prototype.initData=function(){this._f()},t.prototype._f=function(){var e=this;e.jt(),e.zn(),e.qd()},t.prototype.qd=function(){var e=this,t=App.XD.cityBattleRewardVo;if(t){e.myDatas.source.length=0;for(var n=1;4>=n;n++)e.myDatas.source.push(n);e.myDatas.refresh()}},t.prototype.jt=function(){var e=this,t=App.XD.cityBattleRewardVo;return t?(0==t.dr?(e.getBtn.visible=!0,e.getImg.visible=!1):(e.getBtn.visible=!1,e.getImg.visible=!0),t.df?void(t.df.indexOf(App.KF.fid)<0&&(e.getBtn.visible=!1,e.getImg.visible=!1)):(e.getBtn.visible=!1,void(e.getImg.visible=!1))):void 0},t.prototype.zn=function(){for(var e=this,t=XCA.DG(89,1),n=Nkz.PI(t),i=0;i<n.length;i++)e.datas.source[i]=n[i];e.datas.refresh()},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.re,e),vkG.$a(UtJ.CU,e.sl,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.re,e),vkG.$r(UtJ.CU,e.sl,e)},t.prototype.sl=function(){this.jt()},t.prototype.re=function(){var e=App.XD.cityBattleRewardVo;if(e&&e.df&&!(e.df.length<=0))return e.df.indexOf(App.KF.fid)<0?void MessageTipManager.instance.show(fvg.GVf("city26")):void CityBattleMsgProxy.PE(2)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.itemDataGroup),t.itemDataGroup=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CityBattleRewardPopUi.prototype,"CityBattleRewardPopUi");var CityBattleRightMapFrame=function(e){function t(){var t=e.call(this,"CityBattleRightMapFrame")||this;return t.wm=3,t.skinName=RRUU.$s(t.id),t.bottom=220,t.right=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._g=[];var t=App.KF.fid==App.XD.cityBattleVo["cf"+App.XD.currSelectedType];t?e.wm=3:(e.wm=2,e.dy=GObj.$c(CityBattleHeadMapBtn),e.dy.x=1,e.dy.y=170,e.dy.isGuard=!0,e.addChild(e.dy));for(var n,i=0;i<e.wm;i++)n=GObj.$c(CityBattleHeadMapBtn),n.x=3,n.y=30+74*i,e._g.push(n);e.atkBtn.selected=!1},t.prototype.initEvent=function(){if(this.atkBtn.addEventListener(eui.tep,this.ep,this),vkG.$a(HUtJ.HEARTBEAT,this.bm,this),vkG.$a(UtJ.DU,this.zp,this),this._g)for(var e=this._g.length,t=void 0,n=0;e>n;n++)t=this._g[n],t.addEventListener(eui.tep,this._v,this)},t.prototype.removeEvent=function(){var e=this;if(e.atkBtn.removeEventListener(eui.tep,e.ep,e),vkG.$r(HUtJ.HEARTBEAT,e.bm,e),vkG.$r(UtJ.DU,e.zp,e),e._g)for(var t=e._g.length,n=void 0,i=0;t>i;i++)n=e._g[i],n.removeEventListener(eui.tep,e._v,e)},t.prototype._v=function(e){var t=this;t.qd&&(t.qd.selected=!1);var n=e.currentTarget;t.qd=n,n&&n.data&&(n.selected=!0,vkG.$d(UtJ.TZ,n.data))},t.prototype.zp=function(e){this.atkBtn.selected=e},t.prototype.ep=function(e){vkG.$d(UtJ.DU,this.atkBtn.selected)},t.prototype.updateData=function(e){var t=this,n=0;e&&(n=e.length),n>t.wm&&(n=t.wm);for(var i,r,a=0;n>a;a++)i=t._g[a],r=e[a],i.updateData(r),i.parent||t.addChild(i);for(n=t._g.length||0;n>a;a++)i=t._g[a],i&&i.parent&&i.parent.removeChild(i)},t.prototype.updateGuard=function(e){var t=this;e.nodeType==BossNodeType.NR&&t.dy&&t.dy.updateGuard(e)},t.prototype.initData=function(){},t.prototype.bm=function(){},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._g),t._g=null,GObj.$d(t.dy),t.dy=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CityBattleRightMapFrame.prototype,"CityBattleRightMapFrame");var CityBattleScoreRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityBattleScoreRewardItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noScoreTxt.text=fvg.GVf("406"),e.rewardDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.rewardDatas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=XCA.DG(87,e.itemIndex+1),n=Nkz.PI(t);if(e.rewardDatas.source.length=0,n){for(var i,r=n.length,a=0;r>a;a++)i=n[a],e.rewardDatas.source.push(i);e.rewardDatas.refresh(),e.descTxt.textFlow=LgRe.OQ(fvg.GVf("city2",e.data.score)),e.scoreTxt.text=fvg.GVf("112",App.XD.cityBattlePlayerVo.tsc||0,e.data.score),e.scoreTxt.textColor=(App.XD.cityBattlePlayerVo.tsc||0)<e.data.score?Color.KA:Color.TX,App.XD.cityBattlePlayerVo.tsc||0>e.data.score?e.noScoreTxt.visible=!1:e.noScoreTxt.visible=!0}}},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.noScoreTxt),t.noScoreTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityBattleScoreRewardItem.prototype,"CityBattleScoreRewardItem");var CityBattleScoreRewardPopUi=function(e){function t(){var t=e.call(this,"CityBattleScoreRewardPopUi")||this;return t.skinName=RRUU.$s("CityBattleScoreRewardPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.title=fvg.GVf("goal8"),t.descTxt.text=fvg.GVf("city24"),t.datas=GObj.$c(eui.ArrayCollection),t.itemDataGroup.dataProvider=t.datas,t.itemDataGroup.itemRenderer=CityBattleScoreRewardItem},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.datas.source.length=0;var n=XCA.CG(IDU.KWT);if(n){for(var i=n.split(QycO.XP),r=i.length,a=0;r>a;a++)t.datas.source.push({index:a,score:parseInt(i[a])});t.datas.refresh()}},t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CityBattleScoreRewardPopUi.prototype,"CityBattleScoreRewardPopUi");var CityBattleSmallMap=function(e){function t(){var t=e.call(this,"CrossHarrySmallMap")||this;return t.skinName=RRUU.$s("CityBattleSmallMapSkin"),t.top=0,t.right=0,t.touchEnabled=t.touchChildren=!1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.zj=App.KF.fid==App.XD.cityBattleVo["cd"+App.XD.currSelectedType],e.en={},e.dk={},e.qg={},e.os={},e.dk[BossNodeType.TR]=e.nodeImg_1,e.dk[BossNodeType.JE]=e.nodeImg_2,e.dk["2_20"]=e.nodeImg_5,e.dk["2_30"]=e.nodeImg_6,e.en[BossNodeType.TR]={x:53,y:71},e.en[BossNodeType.JE]={x:139,y:5},e.en["2_20"]={x:104,y:33},e.en["2_30"]={x:122,y:20},e.dk[BossNodeType.QL]=e.nodeImg_1,e.dk[BossNodeType.DG]=e.nodeImg_2,e.dk["2_20"]=e.nodeImg_5,e.dk["2_30"]=e.nodeImg_6,e.en[BossNodeType.QL]={x:53,y:71},e.en[BossNodeType.DG]={x:139,y:5},e.en["2_20"]={x:104,y:33},e.en["2_30"]={x:122,y:20}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.HD,e.ab,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.HD,e.ab,e)},t.prototype.initData=function(){var e=this;e.__battleStartHandler(),e.ex.texture=RES.getRes("crossharrymap_json.cross_harry_road_4_png"),e.xd()},t.prototype.updateAllNode=function(e){this.yb=e},t.prototype.ab=function(){var e=this;if(e.yb){var t,n;for(t in e.yb)n=e.yb[t],n&&e.ri(n)}},t.prototype.updateAdvance=function(){var e,t,n,i=this,r=App.XD.nodelhpDic;for(e in i.yb)t=i.yb[e],t&&(i.hb(t,n),t.attr&&void 0!=r[e]&&t.attr.lefthp>r[e]&&(t.attr.lefthp=r[e]))},t.prototype.hb=function(e,t){var n,i=this;if(e.nodeType==BossNodeType.TR||e.nodeType==BossNodeType.JE||e.nodeType==BossNodeType.QL||e.nodeType==BossNodeType.DG?(n=i.en[e.nodeType],i.qa(e,t)):n=i.en[e.road+"_"+e.index],n){var r=i.qg[e.id];(1&t)>0&&1==e.state?(r||(r=i.qg[e.id]=App.KB.getUIEffect(gYq.GB,80),r.x=n.x,r.y=n.y),r.play(),!r.parent&&i.addChild(r)):r&&r.parent&&(r.stop(),r.parent.removeChild(r))}},t.prototype.qa=function(e,t){var n=this;(n.zj&&e.nodeType==BossNodeType.JE&&e.nodeType==BossNodeType.DG||!n.zj&&e.nodeType==BossNodeType.TR&&e.nodeType==BossNodeType.QL)&&(1==e.state?n.sy(2,4&t):n.sy(2,0))},t.prototype.sy=function(e,t){var n=this,i=n.os[e];t>0?(i||(i=n.os[e]=App.KB.getUIEffect(gYq.UX),n.bh(i,e)),i.play(),!i.parent&&n.addChild(i)):i&&i.parent&&(i.stop(),i.parent.removeChild(i))},t.prototype.bh=function(e,t){var n=this;e&&(e.scaleX=n.zj?1:-1,e.x=n.zj?115:93,e.y=n.zj?36:51,e.rotation=(n.zj,-38))},t.prototype.ri=function(e){var t,n=this;t=e.nodeType==BossNodeType.TR||e.nodeType==BossNodeType.JE||e.nodeType==BossNodeType.QL||e.nodeType==BossNodeType.DG?n.dk[e.nodeType]:n.dk[e.road+"_"+e.index],t&&(t.visible=2==e.state);var i=n.qg[e.id];i&&2==e.state&&(i.parent&&i.parent.removeChild(i),i.stop(),GObj.$d(i),delete n.qg[e.id])},t.prototype.__battleStartHandler=function(){var e=this;e.ex.texture=RES.getRes("crossharrymap_json.cross_harry_road_4_png"),e.xd()},t.prototype.xd=function(){var e=this;e.dirImg&&(e.dirImg.scaleX=e.zj?-1:1,!e.dirImg.visible&&(e.dirImg.visible=!0),e.dirImg.x=e.zj?104:88,e.dirImg.y=e.zj?46:58,e.dirImg.rotation=-38)},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ex),t.ex=null,GObj.$d(t.dirImg),t.dirImg=null;var n;if(t.dk)for(n in t.dk)GObj.$d(t.dk[n]),delete t.dk[n];if(t.qg)for(n in t.qg)GObj.$d(t.qg[n]),delete t.qg[n];if(t.os)for(n in t.os)GObj.$d(t.os[n]),delete t.os[n];t.dk=null,t.en=null,t.qg=null,t.os=null,t.nodeImg_1=null,t.nodeImg_2=null,t.nodeImg_5=null,t.nodeImg_6=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CityBattleSmallMap.prototype,"CityBattleSmallMap");var CityBattleTopView=function(e){function t(){var t=e.call(this,"CityBattleTopView")||this;return t.hh=[43,91,139],t.skinName=RRUU.$s("CityBattleTopViewSkin"),t.top=150,t.horizontalCenter=0,t.touchEnabled=t.touchChildren=!1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._nodeDict={},e.ey=[],e.jy=[],e.xc=App.KF.fid==App.XD.cityBattleVo["cf"+App.XD.currSelectedType],e.ek=GObj.$c(egret.Bitmap),e.ek.texture=RES.getRes("crossharrymap_json.cross_harry_atk_goto_png"),e.xc?(e.ek.scaleX=-1,e.ek.x=73):(e.ek.scaleX=1,e.ek.x=60),e.ek.y=15,e.addChild(e.ek)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;e.hy&&e.updateList(e.hy)},t.prototype.updateData=function(e){if(e&&e.attr){var t=this._nodeDict[e.id];if(t){var n=t.scrollRect||GObj.$c(egret.Rectangle);n.height=t.height,n.width=Math.min(Math.max(e.attr.lefthp/e.attr.maxhp*t.width,0),t.width),t.scrollRect=n}}},t.prototype.updateList=function(e){if(e){if(!this._nodeDict)return void(this.hy=e);this.hy=null;var t,n,i,r;this.ey.length=0;for(var a in e)t=e[a],t&&t.data&&(r=t.data,r.nodeType==BossNodeType.TR||r.nodeType==BossNodeType.QL?this._nodeDict[r.id]=this.hpImg1:r.nodeType==BossNodeType.JE||r.nodeType==BossNodeType.DG?this._nodeDict[r.id]=this.hpImg4:(r.nodeType==BossNodeType.NR||r.nodeType==BossNodeType.UI)&&(n?i=r:n=r),this.ey.push(r));var o=0;if(i?(n.index>i.index?(this._nodeDict[n.id]=this.hpImg3,this._nodeDict[i.id]=this.hpImg2):(this._nodeDict[n.id]=this.hpImg2,this._nodeDict[i.id]=this.hpImg3),this.defeatImg1.visible=this.defeatImg2.visible=!1,this.hpImg2&&!this.hpImg2.parent&&this.addChild(this.hpImg2),this.hpImg3&&!this.hpImg3.parent&&this.addChild(this.hpImg3)):n?(this._nodeDict[n.id]=this.hpImg3,this.defeatImg1.visible=!0,this.defeatImg2.visible=!1,this.hpImg2&&this.hpImg2.parent&&this.hpImg2.parent.removeChild(this.hpImg2),this.hpImg3&&!this.hpImg3.parent&&this.addChild(this.hpImg3),o=1):(this.defeatImg1.visible=this.defeatImg2.visible=!0,this.hpImg2&&this.hpImg2.parent&&this.hpImg2.parent.removeChild(this.hpImg2),this.hpImg3&&this.hpImg3.parent&&this.hpImg3.parent.removeChild(this.hpImg3),o=2),this.xc)this.ek.x=this.hh[o]+13;else{for(var s=void 0,p=0;o>p;p++)s=this.jy[p],s||(s=this.jy[p]=GObj.$c(egret.Bitmap),s.texture=RES.getRes("crossharrymap_json.cross_harry_atk_goto_png"),s.y=15),s.x=this.hh[p+1],s.parent||this.addChild(s);for(o=this.jy.length;o>p;p++)s=this.jy[p],s&&s.parent&&s.parent.removeChild(s)}this.updateNodeHp()}},t.prototype.updateNodeHp=function(){var e=this;if(e.ey)for(var t=0;t<e.ey.length;t++)e.ey[t]&&e.updateData(e.ey[t])},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.WL)},t.prototype.updateRoad=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ek),t.ek=null,GObj.$d(t.jy),t.jy=null,GObj.$d(t.hpImg1),t.hpImg1=null,GObj.$d(t.hpImg2),t.hpImg2=null,GObj.$d(t.hpImg3),t.hpImg3=null,GObj.$d(t.hpImg4),t.hpImg4=null,GObj.$d(t.defeatImg1),t.defeatImg1=null,GObj.$d(t.defeatImg2),t.defeatImg2=null,GObj.$d(t.tipBgImg),t.tipBgImg=null,t._nodeDict=null,t.hy=null,t.ey=null,e.prototype.dispose.call(this)
},t}(BaseUI);__reflect(CityBattleTopView.prototype,"CityBattleTopView");var CityBattleView=function(e){function t(){var t=e.call(this,"CityBattleView")||this;return t.hw=120,t.skinName=RRUU.$s("CityBattleView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.waveLab.text="",e.frequencyLab.text="",e.battleGroup1.visible=e.battleGroup2.visible=!1,e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer,e.logDatas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.logDatas,e.itemDataGroup.itemRenderer=CityBattleMainLogItem,e.anBtns=[];for(var t,n=1;2>=n;n++)t=this["cityBtn"+n],t&&(t.addEventListener(eui.tep,e.cg,e),e.anBtns.push(t));e.mc1=App.KB.getUIEffect(gYq.LSK),e.mc1.stop(),e.mc1.x=60,e.mc1.y=-15,e.mc1.scaleX=.5,e.mc1.scaleY=.5,e.mc2=App.KB.getUIEffect(gYq.LSK),e.mc2.stop(),e.mc2.x=60,e.mc2.y=-15,e.mc2.scaleX=.5,e.mc2.scaleY=.5},t.prototype.initData=function(){ziI.BR("cross_city_fight"),ziI.BR("cross_city_fight_all_log"),this.ix()},t.prototype.initEvent=function(){var e=this;e.logBtn.addEventListener(eui.tep,e._n,e),e.rankBtn.addEventListener(eui.tep,e.da,e),e.aboutBtn.addEventListener(eui.tep,e.np,e),e.myRewardBtn.addEventListener(eui.tep,e.hx,e),vkG.$a(UtJ.GPH,e.o_,e),vkG.$a(UtJ.TE,e.ih,e)},t.prototype.removeEvent=function(){var e=this;e.logBtn.removeEventListener(eui.tep,e._n,e),e.rankBtn.removeEventListener(eui.tep,e.da,e),e.aboutBtn.removeEventListener(eui.tep,e.np,e),e.myRewardBtn.removeEventListener(eui.tep,e.hx,e),vkG.$r(UtJ.GPH,e.o_,e),vkG.$r(UtJ.TE,e.ih,e),vkG.$r(HUtJ.HEARTBEAT,e.yi,e),vkG.$r(HUtJ.HEARTBEAT,e.yu,e),vkG.$r(HUtJ.HEARTBEAT,e.gk,e)},t.prototype.cg=function(e){var t=this,n=e.target,i=t.anBtns.indexOf(n);i>=0&&t._c(i+1)},t.prototype.o_=function(){this.ix()},t.prototype.ix=function(){var e=this;e.pl(),e.ak(),2==e.z_?(e.itemGroup.visible=e.rewardImg.visible=!1,e.itemDataGroup.visible=!0):(e.itemGroup.visible=e.rewardImg.visible=!0,e.itemDataGroup.visible=!1),e.yt()},t.prototype.yt=function(){var e=this,t=App.XD.cityBattleVo;t&&(e.martial_def_1_lab.text=fvg.GVf("martialart_name_"+t.cd1),e.martial_atk_1_lab.text=fvg.GVf("martialart_name_"+t.cf1),e.martial_def_2_lab.text=fvg.GVf("martialart_name_"+t.cd2),e.martial_atk_2_lab.text=fvg.GVf("martialart_name_"+t.cf2))},t.prototype.ih=function(){var e=this,t=App.XD.cityBattleAllLog,n=(t||[]).reverse();e.logDatas.source.length=0;var i,r=n.length;for(i=0;r>i;i++)n[i]&&e.logDatas.source.push(n[i]);e.logDatas.refresh()},t.prototype.yu=function(){var e=this;e.fz?e.fe=e.kh.st+120+3-App.NN.serverSecond:e.fe=e.kh.st+600+3-App.NN.serverSecond,e.countTimeLab1.text=e.countTimeLab2.text=fvg.GVf(e.fz?"city17":"city18",kpd.formatDateBySec5(e.fe)),e.fe<=0&&(vkG.$r(HUtJ.HEARTBEAT,e.yu,e),ziI.BR("cross_city_fight"),ziI.BR("cross_city_fight_all_log"))},t.prototype._c=function(e){var t=this,n=App.XD.cityBattleVo;if(n){var i=App.XD.cityBattleVo.cd-App.NN.serverSecond;if(1==t.z_||3==t.z_)return void MessageTipManager.instance.show(fvg.GVf("public036"));if(n["v"+e]>0)return void MessageTipManager.instance.show(fvg.GVf("city27"));if(t.fz)return void MessageTipManager.instance.show(fvg.GVf("mine55_1"));if(t.lt())return void MessageTipManager.instance.show(fvg.GVf("city11"));if(t.cjj(e))return void MessageTipManager.instance.show(fvg.GVf("city12"));if(i>=0)return void MessageTipManager.instance.show(fvg.GVf("city22",i));App.XD.currSelectedType=e,App.VS.popup(10032,CityBattleFightPopUi)}},t.prototype.ak=function(){var e=this;if(2!=e.z_){e.datas.source.length=0;var t=XCA.DG(88,1),n=Nkz.PI(t);if(!n)return;for(var i=n.length,r=void 0,a=0;i>a;a++)r=n[a],e.datas.source.push(r);e.datas.refresh()}},t.prototype.pl=function(){var e=this;e.timeTxt.text="",e.ck=0,e.z_=0,e.kh=App.XD.cityBattleVo,e.battleGroup1.visible=e.battleGroup2.visible=!1,e.waveLab.text="",e.frequencyLab.text="",e.kh&&(e.kh.ot>App.NN.serverSecond?(e.z_=1,e.ck=e.kh.ot-App.NN.serverSecond,e.timeGroup.visible=!1):e.kh.ot<=App.NN.serverSecond&&e.kh.ot+2400>=App.NN.serverSecond?(e.countTimeLab.visible=!1,e.timebgImg.visible=!1,e.timebgImg.visible=!1,e.timeGroup.visible=!0,e.z_=2,e.ck=e.kh.ot+2400-App.NN.serverSecond,e.waveLab.text=fvg.GVf("city40",e.kh.w||1),e.frequencyLab.text=fvg.GVf("city41",e.lq()),4==e.kh.w?(e.nextCountTimeLab.text=fvg.GVf("city42",fvg.GVf("city44")),e.timebgImg.visible=!0,vkG.$r(HUtJ.HEARTBEAT,e.gk,e)):(e.sp=e.kh.nextTime-App.NN.serverSecond,e.sp>=0?(vkG.$a(HUtJ.HEARTBEAT,e.gk,e),e.gk()):e.nextCountTimeLab.text="")):e.z_=3,e.ck>0&&(vkG.$a(HUtJ.HEARTBEAT,e.yi,e),e.yi()),2==e.z_&&(e.mc1&&e.mc1.stop,e.mc2&&e.mc2.stop,e.battleGroup1.visible=e.battleGroup2.visible=!0,e.fz=!1,e.kh.st<=App.NN.serverSecond&&App.NN.serverSecond<e.kh.st+120?(e.fz=!0,e.fe=e.kh.st+120-App.NN.serverSecond):App.NN.serverSecond>e.kh.st+120&&e.kh.st+600>App.NN.serverSecond&&(e.mc1&&(e.mc1.play(),e.battleGroup1.addChild(e.mc1)),e.mc2&&(e.mc2.play(),e.battleGroup2.addChild(e.mc2)),e.fz=!1,e.fe=e.kh.st+600-App.NN.serverSecond),e.fe>=0&&(vkG.$a(HUtJ.HEARTBEAT,e.yu,e),e.yu()),e.kh.v1==e.kh.cd1?e.winLab1.text=fvg.GVf("city32"):e.kh.v1!=e.kh.cd1&&e.kh.v1>0&&(e.winLab1.text=fvg.GVf("city31")),e.kh.v2==e.kh.cd2?e.winLab2.text=fvg.GVf("city32"):e.kh.v2!=e.kh.cd2&&e.kh.v2>0&&(e.winLab2.text=fvg.GVf("city31")),e.winLab1.visible=e.kh.v1>0,e.winLab2.visible=e.kh.v2>0,e.countTimeLab1.visible=e.kh.v1<=0,e.countTimeLab2.visible=e.kh.v2<=0))},t.prototype.gk=function(){var e=this,t=e.kh.nextTime-App.NN.serverSecond;e.nextCountTimeLab.text=fvg.GVf("city42",kpd.YW(t)),0>t&&(vkG.$r(HUtJ.HEARTBEAT,e.gk,e),e.nextCountTimeLab.text="")},t.prototype.lq=function(){var e=0;for(var t in this.kh.jw)e++;return e},t.prototype.yi=function(){var e=this;e.timeTxt.textColor=2==e.z_?Color.TX:Color.KA,1==e.z_?(e.timeTxt.text=fvg.GVf("city37",kpd.YW(e.ck)),e.countTimeLab.text=fvg.GVf("city43",kpd.YW(e.ck)),e.timebgImg.visible=!0,e.ck=e.kh.ot-App.NN.serverSecond,e.timebgImg.visible=!0):2==e.z_&&(e.countTimeLab.text="",e.timebgImg.visible=!1,e.timeTxt.text=fvg.GVf("city38",kpd.YW(e.ck)),e.ck=e.kh.ot+2400-App.NN.serverSecond),e.ck<=0&&(vkG.$r(HUtJ.HEARTBEAT,e.yi,e),e.pl())},t.prototype.da=function(){App.VS.open(10041)},t.prototype._n=function(){App.VS.popup(10032,CityBattleLogPopUi)},t.prototype.cjj=function(e){var t=this;return t.kh=App.XD.cityBattleVo,t.kh&&t.kh.jw[t.kh.w+""]>0&&t.kh["cd"+e]!=App.KF.fid&&t.kh.jw[t.kh.w+""]!=t.kh["cf"+e]?!0:!1},t.prototype.lt=function(){var e=this,t=0;if(e.kh=App.XD.cityBattleVo,!e.kh)return!1;for(var n in e.kh.jw)e.kh.w!=parseInt(n)&&t++;return t>=3?!0:!1},t.prototype.tl=function(){var e=this;if(e.kh=App.XD.cityBattleVo,!e.kh)return!1;var t=e.kh.st+e.hw-App.NN.serverSecond;return t>0?!0:!1},t.prototype.hx=function(){App.VS.popup(10032,CityBattleRewardPopUi)},t.prototype.np=function(){App.VS.popup(10032,BattleEquipDescPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.anBtns),t.anBtns=null,GObj.$d(t.logBtn),t.logBtn=null,GObj.$d(t.bgImg1),t.bgImg1=null,GObj.$d(t.waveLab),t.waveLab=null,GObj.$d(t.winLab1),t.winLab1=null,GObj.$d(t.winLab2),t.winLab2=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.cityBtn1),t.cityBtn1=null,GObj.$d(t.cityBtn2),t.cityBtn2=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.areaImgs),t.areaImgs=null,GObj.$d(t.timeGroup),t.timeGroup=null,GObj.$d(t.rewardImg),t.rewardImg=null,GObj.$d(t.myRewardBtn),t.myRewardBtn=null,GObj.$d(t.frequencyLab),t.frequencyLab=null,GObj.$d(t.battleGroup1),t.battleGroup1=null,GObj.$d(t.battleGroup2),t.battleGroup2=null,GObj.$d(t.itemDataGroup),t.itemDataGroup=null,GObj.$d(t.countTimeLab1),t.countTimeLab1=null,GObj.$d(t.countTimeLab2),t.countTimeLab2=null,GObj.$d(t.countTimeLab),t.countTimeLab=null,GObj.$d(t.nextCountTimeLab),t.nextCountTimeLab=null,GObj.$d(t.martial_def_1_lab),t.martial_def_1_lab=null,GObj.$d(t.martial_atk_1_lab),t.martial_atk_1_lab=null,GObj.$d(t.martial_def_2_lab),t.martial_def_2_lab=null,GObj.$d(t.martial_atk_2_lab),t.martial_atk_2_lab=null,GObj.$d(t.timebgImg),t.timebgImg=null,t.mc1&&(t.mc1.stop(),GObj.$d(t.mc1)),t.mc1=null,t.mc2&&(t.mc2.stop(),GObj.$d(t.mc2)),t.mc2=null,t.logDatas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(CityBattleView.prototype,"CityBattleView");var CityJoinOneItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CityJoinOneItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.rankLab.text=toChars(e.itemIndex+1),e.de=e.data,e.de?(e.nameLab.text=e.de.name,e.martialartLab.text=fvg.GVf("martialart_name_"+e.de.fid),e.scoreLab.text=toChars(e.de.score)):(e.nameLab.text=fvg.GVf("rank10"),e.martialartLab.text="--",e.scoreLab.text=toChars(0)))},t.prototype.sw=function(e){var t=GObj.$c(BoxPopUi);t.showDetail(90,1,this.itemIndex+1)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.na,e),e.boxBtn.addEventListener(eui.tep,e.sw,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.na,e),e.boxBtn.removeEventListener(eui.tep,e.sw,e)},t.prototype.na=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.martialartLab),t.martialartLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.de),t.de=null,GObj.$d(t.boxBtn),t.boxBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CityJoinOneItem.prototype,"CityJoinOneItem");var CityJoinOneView=function(e){function t(){var t=e.call(this,"CityJoinOneView")||this;return t.lw=10,t.skinName=RRUU.$s("CityJoinOneViewSkin"),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=CityJoinOneItem,e.rankingLab.text=fvg.GVf("harry32"),e.sectsLab.text=fvg.GVf("harry33"),e.integralLab.text=fvg.GVf("harry34"),e.rewardLab.text=fvg.GVf("harry35")},t.prototype.initData=function(){var e=App.PV.getData(FDG.JB);(!e||GApp.timer-e.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.JB),this.mu(App.PV.getData(FDG.JB))},t.prototype.mu=function(e){var t=this;if(e&&e.type==FDG.JB){var n,i=e?Math.max(e.list.length,t.lw):t.lw;t.datas.source.length=0;for(var r=e?e.list||[]:[],a=0;i>a;a++)n=r[a],t.datas.source.push(n);t.datas.refresh(),t.myScoreLab.text=fvg.GVf("martialart100",e.score),t.myRankLab.text=fvg.GVf("rank0",e.order?e.order:"10+")}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.mu,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.mu,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankLab),t.myRankLab=null,GObj.$d(t.myScoreLab),t.myScoreLab=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CityJoinOneView.prototype,"CityJoinOneView");var ResultsCityBattlePopUi=function(e){function t(){var t=e.call(this,"ResultsCityBattlePopUi")||this;return t.b_=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){var e=this;e.xg();var t=App.XD.cityBattleResultsVo;if(t&&(e.factionLab.text=fvg.GVf("martialart_name_"+t.victory),e.winLab.text=fvg.GVf("martialart_name_"+t.victory),e.loseLab.text=fvg.GVf("martialart_name_"+t.defeat),e.itemData.source.length=0,e.zu)){for(var n,i=0;i<e.zu.length;i++)n=GObj.$c(nlwj),n.tid=e.zu[i],n.count=App.JP.getGoodsCount1(App.XD.cityBattlePlayerVo.tsc,e.vx[i]),e.itemData.source.push(n);e.itemData.refresh();var r=App.XD.cityBattleVo;r&&(r["cd"+[App.XD.currSelectedType]]==App.KF.fid?t.victory==App.KF.fid?e.bgImg.source="results_json.results_bg_png":e.bgImg.source="die_json.die_lose_bg_png":t.victory==r["cf"+[App.XD.currSelectedType]]?e.bgImg.source="results_json.results_bg_png":e.bgImg.source="die_json.die_lose_bg_png")}},t.prototype.xg=function(){var e=this;e.zu=[],e.vx=[];for(var t=XCA.CG(IDU.DC),n=t.split("|"),i=0;i<n.length;i++){var r=n[i].split(","),a=parseInt(r[0]),o=parseInt(r[1]);e.zu.push(a),e.vx.push(o)}},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.or,e),vkG.$a(UtJ.HD,e.fh,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.or,e),vkG.$r(UtJ.HD,e.fh,e)},t.prototype.fh=function(){var e=this;e.b_--,e.sureBtn.label=fvg.GVf("fightingwin001",e.b_),e.b_<=0&&e.nl()},t.prototype.or=function(e){this.nl()},t.prototype.nl=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UY.resultsReturn(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.factionLab),t.factionLab=null,GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.winLab),t.winLab=null,GObj.$d(t.loseLab),t.loseLab=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.vx),t.vx=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ResultsCityBattlePopUi.prototype,"ResultsCityBattlePopUi");var CloakAttrPopUi=function(e){function t(){var t=e.call(this,"CloakAttrPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.frameGroup.title=fvg.GVf("cloak4")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.cw()},t.prototype.cw=function(){var e,t,n=XCA.AQS.UFA(53,1,1),i=App.ZT.fosterGrade,r=XCA.YV(n.attrid),a="";if(r){for(e in xxf.UK)t=App.JP.getCloakAttr(r[e],i)||0,t>0&&(t=0==i?0:t,a+=fvg.GVf("skill004",xxf.UK[e],t)+"\n");for(e in xxf.IM)t=App.JP.getCloakAttr(r[e],i)||0,t>0&&(a+=fvg.GVf("skill004",xxf.UK[e],t)+"\n")}this.playerValueTxt.text=a},t.prototype.v_=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.playerValueTxt),t.playerValueTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CloakAttrPopUi.prototype,"CloakAttrPopUi");var CloakSkillItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CloakSkillItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.redPointImg.visible=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hx,e),e.addEventListener(eui.tep,e.ec,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hx,e),e.removeEventListener(eui.tep,e.ec,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.hq=e.data,e.aj=gLw.IQ(e.hq.tid),e.iconView.upgradeId=e.hq.tid;var t=App.ZT.fosterGrade<(e.hq.p1||0);if(e.lockImg.visible=t,t)e.iconView.bottomText="",e.levelTxt.text=fvg.GVf("public028",e.hq.p1||0)+fvg.GVf("skill067");else{e.levelTxt.visible=!1;var n=App.ZT.getCloakSkillGrade(e.aj);e.iconView.bottomText=n>0?fvg.GVf("public028",n):""}e.redPointImg.visible=UsU.EWC(e.hq)}},t.prototype.ec=function(){App.VS.popup(10007,CloakSkillPopUi,null,this.hq)},t.prototype.hx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.levelTxt),t.levelTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CloakSkillItem.prototype,"CloakSkillItem");var CloakSkillPopUi=function(e){function t(){var t=e.call(this,"CloakSkillPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.pz=-1,e.maxTxt.text=fvg.GVf("skill006"),e.descTxt_1.text=fvg.GVf("beast1"),e.descTxt_2.text=fvg.GVf("beast2"),e.upgradeBtn.label=fvg.GVf("public008"),e.frameGroup.title=fvg.GVf("cloak7"),e.lv={},e.lv[1]={n:"pfh",mi:!1},e.lv[2]={n:"pfcd",mi:!0,p:600},e.lv[3]={n:"pfdef",mi:!0},e.lv[4]={n:"pfcrit2",mi:!0},e.lv[5]={n:"pfcrit5",mi:!0},e.smaicon1.goodsTid=StaticData.TID_CLOCK_3},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.ij,e),vkG.$a(UtJ.DV,e.tv,e),vkG.$a(UtJ.VID,e.ia,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.ij,e),vkG.$r(UtJ.DV,e.tv,e),vkG.$r(UtJ.VID,e.ia,e)},t.prototype.initData=function(){this.ut()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.vd=e[0],n.ut())},t.prototype.ut=function(){var e=this;e.CSo&&e.vd&&(e.skillIcon.upgradeId=e.vd.tid,e.nameTxt.text=e.vd.name,e.sd=gLw.IQ(e.vd.tid),e.vw=App.ZT.getCloakSkillGrade(e.sd),e.gradeTxt.text=fvg.GVf("store034",e.vw,e.vd.maxgrade),e.mp(),e.bk(),e.ew(),-1!=e.pz&&e.pz!=e.vw&&App.KB.showEffect(gYq.UQ),e.pz=e.vw)},t.prototype.mp=function(){var e=this,t=e.vd.attrid+(e.vw||1),n=XCA.YV(e.vd.attrid+e.vw);e.capTxt.text=fvg.GVf("public018",n?n.p1:0),e.currAttrTxt.text=fvg.GVf("cloak5_"+e.sd,e.vw?e.qa(t):0),e.vw>0&&(t+=1),e.vw>=e.vd.maxgrade?e.descTxt_2.visible=e.nextAttrTxt.visible=!1:e.nextAttrTxt.text=fvg.GVf("cloak5_"+e.sd,e.qa(t))},t.prototype.qa=function(e){var t=this,n=XCA.YV(e),i=t.lv[t.sd];if(n&&i){var r=n[i.n]||0;return i.mi&&(r=i.p?i.p-r:r,r=(r/10).toFixed(1)),r}return 0},t.prototype.bk=function(){var e=this;e.j_=Math.min(e.vd.maxgrade,App.ZT.skillLimit),e.vw<e.vd.maxgrade?App.ZT.fosterGrade<e.vd.p1?e.upConTxt.text=fvg.GVf("cloak1",e.vd.p1||0):e.vw>=e.j_?e.upConTxt.text=fvg.GVf("cloak1",10*(e.j_+1)):e.upConTxt.text="":e.upConTxt.text=""},t.prototype.ew=function(){var e=this;return e.maxTxt.visible=e.vw>=e.vd.maxgrade,e.upgradeBtn.visible=!e.maxTxt.visible,e.upgradeBtn.visible?(e.bx=App.JP.getCloakSkillCount(e.vw,e.vd),e.p_=App.FK.hsx(e.vd.cost),e.upgradeBtn.icon=App.ZT.fosterGrade>=e.vd.p1&&e.vw<e.j_&&e.p_>=e.bx?StaticData.GHj:null,e.countTxt.text=e.p_+"/"+e.bx,void(e.countTxt.textColor=e.upgradeBtn.icon?Color.TX:Color.KA)):void(e.countTxt.text="--")},t.prototype.ij=function(e){var t=this;return App.ZT.fosterGrade<t.vd.p1?void App.TT.show(fvg.GVf("cloak2",t.vd.p1)):t.vw>=t.j_?void App.TT.show(fvg.GVf("cloak2",10*(t.j_+1))):t.p_<t.bx?void _JDW.TR(parseInt(t.vd.cost)):void CloakMsgProxy.KZ(t.sd)},t.prototype.ia=function(){this.ut()},t.prototype.tv=function(e){this.ew()},t.prototype.ln=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.upConTxt),t.upConTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.skillIcon),t.skillIcon=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.smaicon1),t.smaicon1=null,t.vd=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CloakSkillPopUi.prototype,"CloakSkillPopUi");var CloakUpPopUi=function(e){function t(){var t=e.call(this,"CloakUpPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oy=0,e.upgradeBtn.label=fvg.GVf("specia001"),e.fightView=GObj.$c(FightView),e.fightView.x=106,e.fightView.y=48,e.addChild(e.fightView),e.lo=GObj.$c(FigureView),e.avatarGroup.addChild(e.lo),e.nextAttrData=GObj.$c(eui.ArrayCollection),e.curAttrData=GObj.$c(eui.ArrayCollection),e.nextAttrGroup.dataProvider=e.nextAttrData,e.nextAttrGroup.itemRendererSkinName=RRUU.$s("SuperequipUpPopUiItem"),e.curAttrGroup.dataProvider=e.curAttrData,e.curAttrGroup.itemRendererSkinName=RRUU.$s("SuperequipUpPopUiItem"),e.curAttrTitle.text=fvg.GVf("superequipCasting22"),e.frameGroup.title=fvg.GVf("422")},t.prototype.initData=function(){this.bo()},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.sd,e),vkG.$a(UtJ.ZYV,e.ge,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.sd,e),vkG.$r(UtJ.ZYV,e.ge,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e){var i=e.length;i>0&&(n.dc=e[0],n.bo())}},t.prototype.bo=function(){var e=this;if(e.CSo&&e.dc){e.be=gLw.IQ(e.dc.tid);var t=gLw.GM(e.dc.tid),n=GObj.$c(nlwj);n.tid=parseInt(e.dc.cost),e.needIcon.data=n,e.nameImg.source=kLM.FQ(e.be),e.quaImg.source=kLM.WT(t),e.typeImg.source=kLM.JT(t),e.ge(),e.ap()}},t.prototype.ap=function(){var e=this;e.dc&&e.CSo&&FigureHelps.NW(e.lo,{c:e.dc.p5,s:App.KF.sex||1},!1)},t.prototype.ge=function(){var e=this;e.de=App.ZT.getCloakUpstar(e.be);var t=gLw.GM(e.dc.tid);hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.de),-2,e.rankView,1),e.nameLabel.text=e.dc.name+fvg.GVf("official32",e.de),e.nameLabel.textColor=aKF.DU(t),e.nextAttrTitle.text=fvg.GVf("superequipCasting23",e.de+1),e.gradeTxt.text=fvg.GVf("specia002",e.de);var n=App.FK.hsx(parseInt(e.dc.cost)),i=1;e.needIcon.bottomText=fvg.GVf("public022",n,i),e.needIcon.bottomColor=n>=i?Color.TX:Color.KA,e.upgradeBtn.icon=n>=i&&e.de<e.dc.maxgrade?StaticData.GHj:null,e.wi(),e.checkUpgrade()},t.prototype.wi=function(){var e=this;new RegExp("00e810","g");return e.curAttrTxt.text=e.we(e.de),e.fightView.fightNum=App.ZT.getCloakCap(e.be),e.de>=e.dc.maxgrade?(e.nextAttrTxt.textFlow=LgRe.OQ(fvg.GVf("public086")),void(e.nextAttrTxt.y=577)):void(e.nextAttrTxt.text=e.we(e.de+1))},t.prototype.we=function(e){var t,n,i="",r=XCA.YV(this.dc.attrid);if(r){for(t in xxf.UK)n=r[t]*e||0,r[t]&&(i+=fvg.GVf("skill004",xxf.UK[t],0==e?0:n)+"\n");for(t in xxf.IM)n=r[t]*e||0,r[t]&&(i+=fvg.GVf("skill004",xxf.IM[t],(0==e?0:n/10).toFixed(1)+"%")+"\n")}return i},t.prototype.sb=function(){var e={},t=XCA.FR(StaticData.TID_GOODS_9);if(!t)return e;var n=XCA.YV(t.p1);if(n){var i=void 0,r=App.BG.superEquipInfo["f_"+this.be]||0;for(i in xxf.UK)n[i]&&(e[i]=n[i]*r)}return e},t.prototype.checkUpgrade=function(){var e=this;e.oy&&e.de!=e.oy,e.oy=e.de},t.prototype.dz=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS),t._nextMc&&t._nextMc.parent&&t.removeChild(t._nextMc)},t.prototype.sd=function(e){var t=this;if(t.de>=t.dc.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("public086"));var n=GObj.$c(nlwj);n.tid=parseInt(t.dc.cost),n.count=1;var i=App.FK.hsx(n.tid);if(i<n.count)return void _JDW.TR(n.tid);var r=gLw.IQ(t.dc.tid);CloakMsgProxy.PU(r)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.dz,t),GObj.$d(t.weS)),t.weS=null,t.nextAttrGroup&&(t.nextAttrGroup.dataProvider=null,GObj.$d(t.nextAttrGroup)),t.nextAttrGroup=null,t.nextAttrData=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.needIcon),t.needIcon=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.nameLabel),t.nameLabel=null,GObj.$d(t.curAttrTxt),t.curAttrTxt=null,GObj.$d(t.curAttrTitle),t.curAttrTitle=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.nextAttrTitle),t.nextAttrTitle=null,GObj.$d(t.lo),t.lo=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.dc=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CloakUpPopUi.prototype,"CloakUpPopUi");var FosterView=function(e){function t(){var t=e.call(this,"FosterView")||this;return t.skinName=RRUU.$s("FosterView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xe=-1,e.maxTxt.text=fvg.GVf("skill006"),e.fosterBtn.label=fvg.GVf("godskill7"),e.oneKeyFosterBtn.label=fvg.GVf("godskill6"),e.activeBtn.label=fvg.GVf("public012"),e.basicsAttrLab.text=fvg.GVf("store045"),e.getFeatherBtn.label=fvg.GVf("fashion30"),e.attrDatas=GObj.$c(eui.ArrayCollection),e.attrDataGroup.dataProvider=e.attrDatas,e.attrDataGroup.itemRenderer=CloakSkillItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChild(e.fightView),e.mf=GObj.$c(FigureView),e.mf.x=250,e.mf.y=500,e.addChildAt(e.mf,1),e.qn=App.KB.getUIEffect(gYq.GU),e.directBtn.groupDisplay.addChild(e.qn),e.smaicon1.goodsTid=StaticData.TID_CLOCK_2},t.prototype.initEvent=function(){var e=this;e.fosterBtn.addEventListener(eui.tep,e.nj,e),e.oneKeyFosterBtn.addEventListener(eui.tep,e.af,e),e.cloakAttrBtn.addEventListener(eui.tep,e.i_,e),e.activeBtn.addEventListener(eui.tep,e.pg,e),e.getFeatherBtn.addEventListener(eui.tep,e.re,e),e.directBtn.addEventListener(eui.tep,e.hx,e),vkG.$a(UtJ.RF,e.ob,e),vkG.$a(UtJ.VID,e.vp,e),vkG.$a(UtJ.ZYV,e.ms,e),vkG.$a(UtJ.YJ,e.jf,e),vkG.$a(UtJ.PP,e.jf,e)},t.prototype.removeEvent=function(){var e=this;e.fosterBtn.removeEventListener(eui.tep,e.nj,e),e.oneKeyFosterBtn.removeEventListener(eui.tep,e.af,e),e.cloakAttrBtn.removeEventListener(eui.tep,e.i_,e),e.activeBtn.removeEventListener(eui.tep,e.pg,e),e.getFeatherBtn.removeEventListener(eui.tep,e.re,e),e.directBtn.removeEventListener(eui.tep,e.hx,e),vkG.$r(UtJ.RF,e.ob,e),vkG.$r(UtJ.VID,e.vp,e),vkG.$r(UtJ.ZYV,e.ms,e),vkG.$r(UtJ.YJ,e.jf,e),vkG.$r(UtJ.PP,e.jf,e)},t.prototype.initData=function(){var e=this;e.ag(),fNs.instance.execute(hXS.QS,hXS.RZ,e.activeBtn),e.jf()},t.prototype.jf=function(){var e=this;if(e.getFeatherBtn.visible=!IoG.EZ(),App.MG.directVo&&App.MG.directVo.getBagDataBySort(4)){var t=App.MG.directVo.getBagDataBySort(4);IoG.EZ()?e.directBtn.visible=!1:(e.directBtn.visible=!0,2!=t.status?e.directBtn.visible=!0:e.directBtn.visible=!1),e.directBtn.icon=1==t.status?StaticData.GHj:""}},t.prototype.ag=function(){var e=this;e.az=XCA.AQS.UFA(53,1,1),e.az&&(e.ny(),e.ob())},t.prototype.ob=function(){var e=this;e.xn=App.ZT.fosterGrade,e.ex(),e.ny(),e.dt(),e.bk(),-1!=e.xe&&e.xe!=e.xn&&App.KB.showEffect(gYq.UQ),e.xe=e.xn;var t=0,n=e.xn>=e.az.maxgrade;if(e.maxTxt.visible=n,n)return void(e.activeGroup.visible=e.fosterGroup.visible=!1);if(e.xn>0){e.fosterGroup.visible=!0,e.activeGroup.visible=!1,e.lvTxt.text=fvg.GVf("treasure9",e.xn);var i=App.ZT.fosterCurrGp,r=App.JP.getCloakNeedCount(e.xn);e.culPro.grade=e.xn,e.culPro.targetValue=Math.min(int(i/r*100),100),e.culProLab.text=i+"/"+r,t=App.FK.hsx(e.az.cost)||0,e.countTxt1.text=t+"/1",e.countTxt1.textColor=t>=1?Color.TX:Color.KA,e.fosterBtn.icon=e.oneKeyFosterBtn.icon=e.xn<e.az.maxgrade&&t>0?StaticData.GHj:null}else{if(e.fosterGroup.visible=!1,e.activeGroup.visible=!0,!e.activeItem.data){var a=GObj.$c(nlwj);a.tid=StaticData.TID_CLOCK_1,e.activeItem.data=a}t=App.FK.hsx(StaticData.TID_CLOCK_1),e.activeTxt.text=t+"/1",e.activeTxt.textColor=t>=1?Color.TX:Color.KA,e.activeBtn.icon=t>=1?StaticData.GHj:null}},t.prototype.bk=function(){var e,t,n=XCA.AQS.UFA(53,1,1),i=App.ZT.fosterGrade,r=XCA.YV(n.attrid),a="";if(r){for(e in xxf.UK)t=App.JP.getCloakAttr(r[e],i)||0,t>0&&(t=0==i?0:t,a+=fvg.GVf("fashion3",xxf.UK[e],t)+"\n");for(e in xxf.IM)t=App.JP.getCloakAttr(r[e],i)||0,t>0&&(a+=fvg.GVf("fashion3",xxf.UK[e],t)+"\n")}this.attrLab.textFlow=LgRe.OQ(a)},t.prototype.dt=function(){var e=App.ZT.fosterCap+App.ZT.skillCap;
this.fightView.fightNum=e},t.prototype.vp=function(){var e=this;e.ny(),e.dt()},t.prototype.ms=function(){this.ex()},t.prototype.ex=function(){var e=this,t=App.ZT.wearCloak||1,n=XCA.AQS.UFA(54,t,1),i=gLw.GM(n.tid),r=gLw.IQ(n.tid);e.nameImg.source=kLM.FQ(r),e.quaImg.source=kLM.WT(i),e.typeImg.source=kLM.JT(i),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.xn),-2,e.rankView,1),e.xn<=0?(e.rankView.visible=!1,e.starImg.visible=!1,e.nameImg.horizontalCenter=-197):(e.rankView.visible=!0,e.starImg.visible=!0,e.nameImg.horizontalCenter=-185),e.nameLabel.text=n.name+fvg.GVf("public028",e.xn),FigureHelps.NW(e.mf,{c:App.KF.c||"wing1",s:App.KF.sex||1},!1)},t.prototype.ny=function(){var e=this;if(!e.attrDatas.length){var t=XCA.AQS.oVs(55);for(var n in t)e.attrDatas.source.push(t[n][1])}e.attrDatas.refresh()},t.prototype.pg=function(){fNs.instance.execute(hXS.QS,hXS.NW);var e=App.FK.hsx(StaticData.TID_CLOCK_1);return 0>=e?void _JDW.TR(StaticData.TID_CLOCK_1):void CloakMsgProxy.SC(1)},t.prototype.i_=function(){App.VS.popup(10007,CloakAttrPopUi)},t.prototype.nj=function(){var e=this;if(e.az){var t=App.FK.hsx(e.az.cost);t>0?CloakMsgProxy.QE():_JDW.TR(parseInt(e.az.cost))}},t.prototype.af=function(){var e=this;if(e.az){var t=App.FK.hsx(e.az.cost);t>0?CloakMsgProxy.JS():_JDW.TR(parseInt(e.az.cost))}},t.prototype.hx=function(){App.VS.open(10157)},t.prototype.re=function(){App.VS.open(10088,{tabType:5})},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.QS,hXS.YL),t.removeEvent(),t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.attrDatas=null,GObj.$d(t.fosterBtn),t.fosterBtn=null,GObj.$d(t.oneKeyFosterBtn),t.oneKeyFosterBtn=null,GObj.$d(t.culPro),t.culPro=null,GObj.$d(t.culProLab),t.culProLab=null,GObj.$d(t.countTxt1),t.countTxt1=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.nameLabel),t.nameLabel=null,GObj.$d(t.cloakAttrBtn),t.cloakAttrBtn=null,GObj.$d(t.activeBtn),t.activeBtn=null,GObj.$d(t.mf),t.mf=null,GObj.$d(t.lvTxt),t.lvTxt=null,GObj.$d(t.activeItem),t.activeItem=null,GObj.$d(t.activeTxt),t.activeTxt=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.fosterGroup),t.fosterGroup=null,GObj.$d(t.activeGroup),t.activeGroup=null,GObj.$d(t.activeGroup),t.activeGroup=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.basicsAttrLab),t.basicsAttrLab=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.getFeatherBtn),t.getFeatherBtn=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.directBtn),t.directBtn=null,GObj.$d(t.qn),t.qn=null,t.az=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FosterView.prototype,"FosterView");var UpgradeStarItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("UpgradeStarItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.on,e),vkG.$a(UtJ.ZYV,e.yv,e),vkG.$a(UtJ.RF,e.yv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.on,e),vkG.$r(UtJ.ZYV,e.yv,e),vkG.$r(UtJ.RF,e.yv,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.jm=e.data,e.go=gLw.IQ(e.jm.tid),e.nameTxt.text=e.jm.name,e.nameTxt.textColor=aKF.DU(e.jm.qua),e.iconView.upgradeId=e.jm.tid,e.redPointImg.visible=UsU.NK(e.jm),e.yv())},t.prototype.yv=function(){var e=this;e.isWearing.visible=App.ZT.wearCloak===e.go;var t=App.ZT.getCloakGrade(e.go);e.iconView.bottomText=fvg.GVf("official32",0!=App.ZT.getCloakUpstar(e.go)?App.ZT.getCloakUpstar(e.go):1);var n=0>=t;e.lockImg.visible=n},t.prototype.on=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,t.jm=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(UpgradeStarItem.prototype,"UpgradeStarItem");var UpgradeStarView=function(e){function t(){var t=e.call(this,"UpgradeStarView")||this;return t.skinName=RRUU.$s("UpgradeStarView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.kt=e.lx=-1,e.maxTxt.text=fvg.GVf("skill006"),e.upStarBtn.label=fvg.GVf("store005"),e.basicsAttrLab.text=fvg.GVf("store045"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=UpgradeStarItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChild(e.fightView),e.ji=GObj.$c(GeneralStarView);var t=GObj.$c(nlwj);e.needItem.data=t,e.needItem.showNumTxt=!1,e.eq=GObj.$c(FigureView),e.eq.x=250,e.eq.y=500,e.addChildAt(e.eq,1)},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.gy,e),e.upStarBtn.addEventListener(eui.tep,e.af,e),e.wearBtn.addEventListener(eui.tep,e.vl,e),vkG.$a(UtJ.ZYV,e.or,e)},t.prototype.removeEvent=function(){var e=this;e.upStarBtn.removeEventListener(eui.tep,e.af,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.gy,e),e.wearBtn.removeEventListener(eui.tep,e.vl,e),vkG.$r(UtJ.ZYV,e.or,e)},t.prototype.initData=function(){var e,t,n,i,r=this,a=XCA.AQS.oVs(54);for(var o in a){if(e=a[o][1],!e)return;n=gLw.IQ(e.tid),t=App.ZT.getCloakGrade(n),i=App.FK.hsx(e.cost),e.hide>=0&&0>=t&&0>=i||r.datas.source.push(e)}r.datas.source.sort(r.so),r.datas.refresh(),r.itemList.selectedIndex=0,r.gy(null)},t.prototype.gy=function(e){var t=this;t.qq=t.itemList.selectedItem,t.dj()},t.prototype.dj=function(){var e=this;if(e.qq){e.wp=gLw.IQ(e.qq.tid),e.fm=App.ZT.getCloakUpstar(e.wp),e.wn=App.ZT.getCloakUpstar(e.wp),e.ji.currStar=e.wn,e.nameImg.source=kLM.FQ(e.wp),e.quaImg.source=kLM.WT(e.qq.qua),e.typeImg.source=kLM.JT(e.qq.qua),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.fm),-2,e.rankView,1),e.fm<=0?(e.rankView.visible=!1,e.starImg.visible=!1,e.nameImg.horizontalCenter=-197):(e.rankView.visible=!0,e.starImg.visible=!0,e.nameImg.horizontalCenter=-185),e.needItem.data.tid=parseInt(e.qq.cost),e.needItem.data.count=1,e.needItem.data=e.needItem.data,e.attrLab.textFlow=LgRe.OQ(e.pc(e.wn||1)),e.lg(),e.wm(),e.vq(),e.fh(),e.cz();var t=App.ZT.getCloakCap(e.wp);if(0==t){var n=XCA.YV(e.qq.attrid);t=n.p1}e.fightView.fightNum=t,e.ak==e.wp&&(-1!=e.kt&&e.wn!=e.kt||-1!=e.lx&&e.fm!=e.lx)&&App.KB.showEffect(gYq.UQ),e.lx=e.fm,e.kt=e.wn,e.ak=e.wp}},t.prototype.or=function(){var e=this;e.dj(),e.datas.itemUpdated(e.qq)},t.prototype.lg=function(){var e=this;if(e.maxTxt.visible=e.wn>=e.qq.maxgrade,e.maxTxt.visible)return void(e.upStarBtn.visible=!1);e.upStarBtn.visible=!0,e.fm>0?e.upStarBtn.label=fvg.GVf("store005"):e.upStarBtn.label=fvg.GVf("public012");var t=e.needItem.data,n=App.FK.hsx(t.tid);e.upStarBtn.icon=n>=t.count?StaticData.GHj:null,e.countTxt.text=n+"/"+t.count,e.countTxt.textColor=e.upStarBtn.icon?Color.TX:Color.KA},t.prototype.wm=function(){var e=this,t=e.qq.attrid+(e.wn+1);e.currAttrTxt.text=AttributeTemplate.KK(t,0==e.fm);var n=e.wn>=e.qq.maxgrade;t+=0==e.fm||n?0:1,e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,n)},t.prototype.vq=function(){var e=this;FigureHelps.NW(e.eq,{c:FigureType.KA+e.wp,s:App.KF.sex||1},!1)},t.prototype.fh=function(){this.allStartNumTxt.text=App.ZT.cloakUpStars.snu||"0"},t.prototype.cz=function(){var e=this;if(e.wearBtn.visible=e.fm>0,e.wearBtn.visible){var t=App.ZT.wearCloak;e.wp!=t?(e.cp=1,e.wearBtn.icon=kLM.OH(!0)):(e.cp=2,e.wearBtn.icon=kLM.OH(!1))}},t.prototype.so=function(e,t){var n=gLw.IQ(e.tid),i=gLw.IQ(t.tid),r=App.ZT.getCloakGrade(n)>0?-100+e.sort:e.sort,a=App.ZT.getCloakGrade(i)>0?-100+t.sort:t.sort;return r>0&&(r=UsU.NK(e)?-50+r:r),a>0&&(a=UsU.NK(t)?-50+a:a),a>r?-1:1},t.prototype.pc=function(e){var t,n,i,r=this,a="",o=XCA.YV(r.qq.attrid);if(o){for(t in xxf.UK)n=o[t]*e||0,o[t]&&(r.qq.p4?(i=App.FX.getSuitAttrAddition(r.qq.p4,1)||0,i=int(n*(1+i/100))):i=n,a+=fvg.GVf("fashion3",xxf.UK[t],0==e?0:i)+"\n");for(t in xxf.IM)n=o[t]*e||0,o[t]&&(a+=fvg.GVf("fashion3",xxf.IM[t],(0==e?0:n/10).toFixed(1)+"%")+"\n");r.qq.p4&&(a+=App.FX.getSuitAttrAddition(r.qq.p4))}return a},t.prototype.af=function(){var e=this,t=e.needItem.data,n=App.FK.hsx(t.tid);if(n<t.count)return void _JDW.TR(t.tid);var i=gLw.IQ(e.qq.tid);e.fm>0?App.VS.popup(10008,CloakUpPopUi,null,e.qq):CloakMsgProxy.SC(i)},t.prototype.vl=function(e){var t=this;if(t.fm>0){1==t.cp&&(t.ei||(t.ei=App.KB.getUIEffect(gYq.FS,100,1),t.ei.addEventListener(egret.Event.COMPLETE,t.rj,t),t.ei.x=303,t.ei.y=372),t.ei.play(1),t.addChild(t.ei));var n=App.ZT.wearCloak!=t.wp?1:2;CloakMsgProxy.Q_(n,t.wp)}},t.prototype.rj=function(e){var t=this;t.ei&&t.ei.parent&&t.removeChild(t.ei)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,GObj.$d(t.ji),t.ji=null,GObj.$d(t.upStarBtn),t.upStarBtn=null,GObj.$d(t.allStartNumTxt),t.allStartNumTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.eq),t.eq=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.basicsAttrLab),t.basicsAttrLab=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.qq=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(UpgradeStarView.prototype,"UpgradeStarView");var CollectCapRankingItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CollectCapRankingItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.lockBtn.label=fvg.GVf("knight24")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.np,e),e.lockBtn.addEventListener(eui.tep,e.xv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.np,e),e.lockBtn.removeEventListener(eui.tep,e.xv,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.xj=e.data,e.itemIndex+1<=3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankImg.visible=!0,e.rankTxt.visible=!1):(e.rankTxt.text=toChars(e.itemIndex+1),e.rankImg.visible=!1,e.rankTxt.visible=!0),e.xj?(e.nameTxt.text=e.xj.name||fvg.GVf("rank10"),e.capTxt.text=toChars(e.xj.score||0)):(e.nameTxt.text=fvg.GVf("rank10"),e.capTxt.text="0"))},t.prototype.xv=function(e){var t=this;t.xj&&t.xj.uid>0?App.VS.popup(KqZ.YT,CollectHallLibPopUi,null,11002,t.xj.uid):App.TT.show(fvg.GVf("knight25"))},t.prototype.np=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockBtn),t.lockBtn=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.rankImg),t.rankImg=null,t.xj=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CollectCapRankingItem.prototype,"CollectCapRankingItem");var CollectCapRankingPopUi=function(e){function t(){var t=e.call(this,"CollectCapRankingPopUi")||this;return t.jd=50,t._p=6e5,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.btn_1.label=fvg.GVf("knight32"),e.rankLab.text=fvg.GVf("public061"),e.capLab.text=fvg.GVf("knight35"),e.zv=GObj.$c(kQr),e.zv.cwA(e.btn_1),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CollectCapRankingItem},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.zv.addEventListener(egret.Event.CHANGE,t.gs,t),vkG.$a(UtJ.ZGT,t.oe,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.zv.removeEventListener(egret.Event.CHANGE,t.gs,t),vkG.$r(UtJ.ZGT,t.oe,t),vkG.$r(UtJ.HD,t.cs,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.cx=1,t.defaultIndex(t.cx)},t.prototype.defaultIndex=function(e){var t=this;t.cx=e,t.zv&&(t.zv.selectedIndex=t.je(t.cx))},t.prototype.je=function(e){switch(e){case 1:return 0}return 0},t.prototype.ul=function(e){switch(e){case 0:return FDG.GF;case 1:return FDG.ZV}return FDG.GF},t.prototype.gs=function(e){var t=this;t.un=t.ul(t.zv.selectedIndex),t.qb=App.PV.getGeneralRankByType(t.un),(!t.qb||GApp.timer-(t.qb.rtime||0)>=t._p)&&(t.qb&&(t.qb.rtime=GApp.timer),RankMsgProxy.EI(t.un)),t.aw(),t.updateLastTime(),t.bd()},t.prototype.oe=function(e){var t=this;e==t.un&&(t.qb=App.PV.getGeneralRankByType(t.un),t.aw())},t.prototype.aw=function(){var e=this;e.itemData.source.length=0;for(var t,n=e.qb?e.qb.rank:[],i=e.jd,r=0;i>r;r++)t=n[r],t&&(t.rtype=e.qb.rankType),e.itemData.source.push(t);e.itemData.refresh();var a=e.qb?e.qb.utime:0;e.updateTxt.text=a>0?fvg.GVf("togethergift7",kpd.formatDateBySec(a||0)):"",e.lz()},t.prototype.lz=function(){var e=this;e.rankTxt_1.text=e.rankTxt_2.text="",e.nameTxt_1.text=e.nameTxt_2.text="",e.useTxt_1.text=e.useTxt_2.text="";var t=e.qb?e.qb.myrank||0:0;if(1==t){e.rankTxt_1.text=fvg.GVf("38")+t,e.nameTxt_1.text=App.KF.name,e.useTxt_1.text=fvg.GVf("public060",e.qb.myscore||0);var n=e.itemData.source[1];n&&(e.rankTxt_2.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_2.text=n.name||fvg.GVf("rank10"),e.useTxt_2.text=fvg.GVf("public060",n.score||0))}else if(t>1&&t<=e.jd){e.rankTxt_2.text=fvg.GVf("38")+t,e.nameTxt_2.text=App.KF.name,e.useTxt_2.text=fvg.GVf("public060",e.qb.myscore||0);var n=e.itemData.source[t-2];n&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_1.text=n.name,e.useTxt_1.text=fvg.GVf("public060",n.score||0))}else{e.rankTxt_2.text=fvg.GVf("38")+fvg.GVf("public042"),e.nameTxt_2.text=App.KF.name||fvg.GVf("rank10"),e.useTxt_2.text=fvg.GVf("public060",e.qb?e.qb.myscore||0:0);var n=e.itemData.source[e.itemData.length-1];e.rankTxt_1.text=fvg.GVf("38")+(n?n.rank||0:e.jd),e.nameTxt_1.text=n&&n.name||fvg.GVf("rank10"),e.useTxt_1.text=fvg.GVf("public060",n&&n.score||0)}},t.prototype.bd=function(){var e=this;switch(e.zv.selectedIndex){case 0:e.title=fvg.GVf("knight36"),e.cardLab.text=fvg.GVf("knight33")}},t.prototype.updateLastTime=function(){var e=this;vkG.$a(UtJ.HD,e.cs,e),e.cs()},t.prototype.cs=function(){var e=this;e.destory||e.qb&&GApp.timer-(e.qb.rtime||0)>=e._p&&(e.qb.rtime=GApp.timer,RankMsgProxy.EI(FDG.ZV))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.updateTxt),t.updateTxt=null,GObj.$d(t.rankTxt_1),t.rankTxt_1=null,GObj.$d(t.rankTxt_2),t.rankTxt_2=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.useTxt_1),t.useTxt_1=null,GObj.$d(t.useTxt_2),t.useTxt_2=null,GObj.$d(t.btn_1),t.btn_1=null,GObj.$d(t.zv),t.zv=null,GObj.$d(t.cardLab),t.cardLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.capLab),t.capLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.qb=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CollectCapRankingPopUi.prototype,"CollectCapRankingPopUi");var CollectHallCard=function(e){function t(){var t=e.call(this)||this;return t.cu=-1,t.skinName=RRUU.$s("CollectHallCardSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.au=GObj.$c(GeneralStarView),e.au.maxStar=5,e.au.open_star_key=[kLM.getBigStarPathByType(4),kLM.getBigStarPathByType(5)],e.au.close_star_key=kLM.AQ(),e.au.star_width=23,e.au.gap=-1,e.au.x=30,e.au.y=180,e.addChild(e.au)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=Object.keys(e.data);if(e.cu=parseInt(t[0])||0,e.ev=e.data[e.cu]||0,e.jb=App.JUY.getTempByCollTypeAndGrade(e.cu,e.ev),e.jb){e.au.visible=!0,e.au.currStar=e.jb.p1,e.scoreTxt.text=toChars(e.jb.p4||0),e.iconView.icon=kLM.TJ(e.jb.tid);var n=e.jb.attrid+e.ev,i=XCA.YV(n);i&&(e.capTxt.text=fvg.GVf("martialart70",i.p1||0))}else e.au.visible=!1,e.iconView.icon=kLM.TJ(StaticData.NOTHING_COLL_TID),e.capTxt.text=e.scoreTxt.text="",e.au.currStar=0}},t.prototype.dz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.aa&&(t.aa.stop(),GObj.$d(t.aa)),t.aa=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.au),t.au=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,t.jb=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CollectHallCard.prototype,"CollectHallCard");var CollectHallFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upCapBtn.label=fvg.GVf("knight31"),e.ii=[],e._fightView=GObj.$c(NumberView),e._fightView.x=250,e._fightView.y=515,e.addChild(e._fightView);var t=GObj.$c(nlwj);t.tid=StaticData.TID_GOODS_22,e.appellItem.data=t,e.appellNameTxt.text=t.name,e.appellNameTxt.textColor=aKF.DU(t.quality),e.be=GObj.$c(FigureView),e.be.x=244,e.be.y=450,e.hn.addChildAt(e.be,0)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.rankBtn.addEventListener(eui.tep,t.qz,t),t.aboutBtn.addEventListener(eui.tep,t.ko,t),t.likeBtn.addEventListener(eui.tep,t.xz,t),t.upCapBtn.addEventListener(eui.tep,t.vp,t),t.capRankBtn.addEventListener(eui.tep,t.gc,t),vkG.$a(UtJ.OB,t.zg,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.rankBtn.removeEventListener(eui.tep,t.qz,t),t.aboutBtn.removeEventListener(eui.tep,t.ko,t),t.likeBtn.removeEventListener(eui.tep,t.xz,t),t.upCapBtn.removeEventListener(eui.tep,t.vp,t),t.capRankBtn.removeEventListener(eui.tep,t.gc,t),vkG.$r(UtJ.OB,t.zg,t),vkG.$r(UtJ.HD,t.f_,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),ziI.BZ(11001),t.yl=App.MG.getCollectHallFunny(),t.updateLastTime()},t.prototype.zg=function(){this.wm()},t.prototype.wm=function(){var e=this;if(e.uv=App.JUY.collHallInfo,e.uv){var t=e.uv.player;t&&t.u>0?(e.pe=t.up||[],e.nameTxt.text=t.n||"",e.likeBtn.label=fvg.GVf("knight28",e.uv.total||0),e.likeBtn.icon=e.uv.count>0?StaticData.GHj:null,e.ey&&e.ey.parent&&e.ey.parent.removeChild(e.ey),FigureHelps.NW(e.be,{b:e.uv.player.b,w:e.uv.player.w,c:e.uv.player.c,s:e.uv.player.s}),e.likeBtn.visible=e._fightView.visible=e.img_1.visible=!0,hFO.instance.getNumberView(bRC.UA,toChars(t.v||0),-12,e._fightView),t.u!=e.wd&&e.va(),e.wd=t.u):(e.pe=[],e.nameTxt.text=fvg.GVf("rank10"),e.ey||(e.ey=GObj.$c(MovieEffect),e.ey.touchEnabled=e.ey.touchChildren=!1,e.ey.play(gYq.BU),e.ey.x=260,e.ey.y=460),e.hn.addChildAt(e.ey,0),e.likeBtn.visible=e._fightView.visible=e.img_1.visible=!1,e.likeBtn.icon=null,e.likeBtn.label="",e.va()),e.appellIcon.icon=kLM.EF(StaticData.APPELL_COLL)}},t.prototype.va=function(){var e=this;App.HA.unRegisteEnterFrame(e.nt,e);var t=Math.min(e.pe.length,4);0==t&&(t=3),e.sr=0;for(var n,i=0;t>i;i++)n=e.ii[i],n||(e.ii[i]=n=GObj.$c(CollectHallCard),e.cardsGroup.addChild(n)),n.x=150*i,n.data=e.pe[i]||{};t>3&&(e.sr=e.ii.length-1,e.mg=e.ii.length,App.HA.registeEnterFrame(e.nt,e))},t.prototype.nt=function(){var e=this;if(!e.destory)for(e.he=e.mg-1;e.he>=0;e.he--)e.ii[e.he].x--,0==e.he&&e.ii[e.he].x<=-144&&(e.te=e.ii.shift(),e.te.x=e.ii[e.ii.length-1].x+150,e.ii.push(e.te),e.sr++,e.sr>=e.pe.length&&(e.sr=0),e.te.data=e.pe[e.sr])},t.prototype.updateLastTime=function(){var e=this;if(e.rankBtn.visible=!!e.yl,e.yl){var t=e.yl.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.f_,e):vkG.$r(UtJ.HD,e.f_,e),e.f_()}},t.prototype.f_=function(){var e=this;if(!e.destory){var t=e.yl.showEnd-App.NN.serverSecond;if(t>0){var n=e.yl.endTime-App.NN.serverSecond;0>n&&(n=0),e.rankBtn.label=kpd.YW(n)}else e.rankBtn.visible=!1}},t.prototype.qz=function(e){App.VS.popup(KqZ.YT,CollectRankingPopUi)},t.prototype.ko=function(e){App.VS.popup(KqZ.YT,GeneralAboutPopUi,null,AboutType.QA)},t.prototype.xz=function(e){var t=this;return t.uv.player&&t.uv.player.u?t.uv.count<=0?void App.TT.show(fvg.GVf("knight30")):void ziI.ZO(11001):void App.TT.show(fvg.GVf("knight29"))},t.prototype.vp=function(e){App.VS.open(10015)},t.prototype.gc=function(e){rRcz.BQ()},t.prototype.dispose=function(){var t=this;if(App.HA.unRegisteEnterFrame(t.nt,t),t.removeEvent(),GObj.$d(t.appellItem),t.appellItem=null,GObj.$d(t.appellNameTxt),t.appellNameTxt=null,GObj.$d(t.img_1),t.img_1=null,GObj.$d(t.likeBtn),t.likeBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.appellIcon),t.appellIcon=null,GObj.$d(t.upCapBtn),t.upCapBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t._fightView),t._fightView=null,GObj.$d(t.be),t.be=null,GObj.$d(t.capRankBtn),t.capRankBtn=null,t.ii){for(;t.ii.length>0;)GObj.$d(t.ii.pop());t.ii=null}GObj.$d(t.cardsGroup),t.cardsGroup=null,t.pe=null,t.te=null,t.uv=null,t.yl=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(CollectHallFrame.prototype,"CollectHallFrame");var CollectHallLibPopUi=function(e){function t(){var t=e.call(this,"CollectHallLibPopUi")||this;return t.skinName=RRUU.$s("CollectHallLibPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CollectHallCard,e.title=fvg.GVf("knight34")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.KF,e.ea,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.KF,e.ea,e)},t.prototype.initData=function(){this.sn()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.on=e[0],n.tr=e[1],n.sn())},t.prototype.sn=function(){var e=this;e.CSo&&e.tr&&ziI.GY(e.on,e.tr)},t.prototype.ea=function(e){var t=this;if(e&&e.type==t.on&&e.uid==t.tr){t.itemData.source.length=0;for(var n=e.msg?e.msg:[],i=0;i<n.length;i++)t.itemData.source.push(n[i]);t.itemData.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CollectHallLibPopUi.prototype,"CollectHallLibPopUi");var CollectRankingItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CollectRankingItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.selected=!0,e.boxBtn.$autoSelected=!1,e.lockBtn.label=fvg.GVf("knight24")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fc,e),e.boxBtn.addEventListener(eui.tep,e.vs,e),e.lockBtn.addEventListener(eui.tep,e.ko,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fc,e),e.boxBtn.removeEventListener(eui.tep,e.vs,e),e.lockBtn.removeEventListener(eui.tep,e.ko,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.uz=e.data.rankVo,e.m_=e.data.funnyVo,e.itemIndex+1<=3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankImg.visible=!0,e.rankTxt.visible=!1):(e.rankTxt.text=toChars(e.itemIndex+1),e.rankImg.visible=!1,e.rankTxt.visible=!0),e.uz?(e.nameTxt.text=e.uz.name||fvg.GVf("rank10"),e.addCapTxt.text=fvg.GVf("knight23",e.uz.score||0)):(e.nameTxt.text=fvg.GVf("rank10"),e.addCapTxt.text=fvg.GVf("knight23",0)),e.pf())},t.prototype.pf=function(){var e=this,t=!1;if(e.m_){var n=e.m_.bagList[e.itemIndex];n&&(t=n.rewardList.length>0)}e.boxBtn.visible=t},t.prototype.vs=function(e){var t=this;if(t.m_){var n=t.m_.bagList[t.itemIndex];n&&App.VS.popup(KqZ.YT,CollectRankingRewardPopUi,null,n.rewardList)}},t.prototype.ko=function(e){var t=this;t.uz&&t.uz.uid>0?App.VS.popup(KqZ.YT,CollectHallLibPopUi,null,11001,t.uz.uid):App.TT.show(fvg.GVf("knight25"))},t.prototype.fc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockBtn),t.lockBtn=null,GObj.$d(t.addCapTxt),t.addCapTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.rankImg),t.rankImg=null,t.uz=null,t.m_=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CollectRankingItem.prototype,"CollectRankingItem");var CollectRankingPopUi=function(e){function t(){var t=e.call(this,"CollectRankingPopUi")||this;return t.uf=10,t.yg=6e5,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.yp=[],e.rankLab.text=fvg.GVf("public061"),e.cardLab.text=fvg.GVf("knight33"),e.rewardLab.text=fvg.GVf("107"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=CollectRankingItem,e.title=fvg.GVf("knight37")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.ZGT,t.ud,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.ZGT,t.ud,t),vkG.$r(HUtJ.HEARTBEAT,t.hi,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.fg=App.MG.getCollectHallFunny(),t.fg&&(t.qg=App.PV.getGeneralRankByType(FDG.ZV,t.fg.id),!t.qg||GApp.timer-(t.qg.rtime||0)>=t.yg?(t.qg&&(t.qg.rtime=GApp.timer),RankMsgProxy.EI(FDG.ZV)):t.cq(),t.updateLastTime())},t.prototype.ud=function(e){var t=this;e==FDG.ZV&&t.fg&&(t.qg=App.PV.getGeneralRankByType(FDG.ZV,t.fg.id),t.cq())},t.prototype.cq=function(){var e=this;e.itemData.source.length=0;for(var t,n=e.uf,i=0;n>i;i++)t=e.yp[i],t||(t=e.yp[i]={}),t.funnyVo=e.fg,t.rankVo=e.qg?e.qg.rank[i]:null,e.itemData.source.push(t);e.itemData.refresh();var r=e.qg?(e.qg.utime||0)>=e.fg.endTime?e.fg.endTime:e.qg.utime:0;e.updateTxt.text=r>0?fvg.GVf("togethergift7",kpd.formatDateBySec(r||0)):"",e.bz()},t.prototype.bz=function(){var e=this;e.rankTxt_1.text=e.rankTxt_2.text="",e.nameTxt_1.text=e.nameTxt_2.text="",e.useTxt_1.text=e.useTxt_2.text="";var t=e.qg?e.qg.myrank||0:0;if(1==t){e.rankTxt_1.text=fvg.GVf("38")+t,e.nameTxt_1.text=App.KF.name,e.useTxt_1.text=fvg.GVf("knight23",e.qg.myscore||0);var n=e.itemData.source[1];n&&n.rankVo&&(e.rankTxt_2.text=fvg.GVf("38")+(n.rankVo.rank||0),e.nameTxt_2.text=n.rankVo.name||fvg.GVf("rank10"),e.useTxt_2.text=fvg.GVf("knight23",n.rankVo.score||0))}else if(t>1&&t<=e.uf){e.rankTxt_2.text=fvg.GVf("38")+t,e.nameTxt_2.text=App.KF.name,e.useTxt_2.text=fvg.GVf("knight23",e.qg.myscore||0);var n=e.itemData.source[t-2];n&&n.rankVo&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rankVo.rank||0),e.nameTxt_1.text=n.rankVo.name,e.useTxt_1.text=fvg.GVf("knight23",n.rankVo.score||0))}else{e.rankTxt_2.text=fvg.GVf("38")+fvg.GVf("public042"),e.nameTxt_2.text=App.KF.name||fvg.GVf("rank10"),e.useTxt_2.text=fvg.GVf("knight23",e.qg?e.qg.myscore||0:0);var n=e.itemData.source[e.itemData.length-1];n&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rankVo&&n.rankVo.rank||0),e.nameTxt_1.text=n.rankVo&&n.rankVo.name||fvg.GVf("rank10"),e.useTxt_1.text=fvg.GVf("knight23",n.rankVo&&n.rankVo.score||0))}},t.prototype.updateLastTime=function(){var e=this;if(e.fg){var t=e.fg.showEnd-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.hi,e):vkG.$r(HUtJ.HEARTBEAT,e.hi,e),e.hi()}},t.prototype.hi=function(){var e=this;if(!e.destory){e.qg&&GApp.timer-(e.qg.rtime||0)>=e.yg&&(e.qg.rtime=GApp.timer,RankMsgProxy.EI(FDG.ZV));var t=e.fg.showEnd-App.NN.serverSecond;0>=t&&(GObj.$d(e),TopToolsBar.instance.updateBtnByType(TopToolsBar.HL))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.updateTxt),t.updateTxt=null,GObj.$d(t.rankTxt_1),t.rankTxt_1=null,GObj.$d(t.rankTxt_2),t.rankTxt_2=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.useTxt_1),t.useTxt_1=null,GObj.$d(t.useTxt_2),t.useTxt_2=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.cardLab),t.cardLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.qg=null,t.fg=null,t.yp=null,e.prototype.dispose.call(this)
},t}(BasePopUi);__reflect(CollectRankingPopUi.prototype,"CollectRankingPopUi");var CollectRankingRewardPopUi=function(e){function t(){var t=e.call(this,"CollectRankingRewardPopUi")||this;return t.skinName=RRUU.$s("CollectRankingRewardPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("107")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.tm()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.hn=e[0],n.tm())},t.prototype.tm=function(){var e=this;if(e.CSo&&e.hn){for(var t,n=e.hn.length,i=0;n>i;i++)t=GObj.$c(nlwj),t.tid=e.hn[i].tempId,t.count=e.hn[i].count,e.itemData.source.push(t);e.itemData.refresh(),e.itemGroup.width=80*n}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.hn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CollectRankingRewardPopUi.prototype,"CollectRankingRewardPopUi");var ConsAlertItem=function(e){function t(){var t=e.call(this,"ConsAlertItem")||this;return t.skinName=RRUU.$s("ConsAlertItem"),t}return __extends(t,e),t.prototype.initView=function(){this.selectBtn.selected=!0,this.gv()},t.prototype.initData=function(){},t.prototype.gv=function(){var e=this;if(e.CSo&&e.sontype){var t=App.ME.getConsInfo();e.po=gLw.IQ(e.kx);var n=t.haveDict[e.po]||0;e.haveLab.text=fvg.GVf("cons13")+toChars(n)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.qx,e),e.selectBtn.addEventListener(eui.tep,e.bg,e),vkG.$a(UtJ.QU,e.tv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.qx,e),e.selectBtn.removeEventListener(eui.tep,e.bg,e),vkG.$r(UtJ.QU,e.tv,e)},t.prototype.qx=function(){GObj.$d(this)},t.prototype.bg=function(e){var t=App.ME.getConsInfo(),n=t.haveDict[this.po]||0;1==this.selectBtn.selected?vkG.$d(UtJ.OF,this.po,!0,n):vkG.$d(UtJ.OF,this.po,!1,n)},t.prototype.tv=function(e){this.gv()},Object.defineProperty(t.prototype,"sontype",{get:function(){return this.kx},set:function(e){var t=this;t.kx=e,t.gv()},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.selectBtn),t.selectBtn=null,GObj.$d(t.haveLab),t.haveLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ConsAlertItem.prototype,"ConsAlertItem");var ConsAlertPopUi=function(e){function t(){var t=e.call(this,"ConsAlertPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[e.ConsAlertItem_1,e.ConsAlertItem_2,e.ConsAlertItem_3,e.ConsAlertItem_4,e.ConsAlertItem_5],e.frameGroup.title=fvg.GVf("cons23"),e.clearBtn.label=fvg.GVf("cons23"),e.zd={con_1:!0,con_2:!0,con_3:!0,con_4:!0,con_5:!0};var t=App.ME.getConsInfo();e.jj=(t.haveDict[ConsType.VS]||0)+(t.haveDict[ConsType.MV]||0)+(t.haveDict[ConsType.JZ]||0)+(t.haveDict[ConsType.BI]||0)+(t.haveDict[ConsType.FZ]||0),e.hl()},t.prototype.initData=function(){},t.prototype.hl=function(){var e=this;if(e.CSo){App.ME.getConsInfo();e.haveLab.text=fvg.GVf("cons14",e.jj);var t=App.KF.gold,n=XCA.AQS.UFA(34,1,1);e.needLab.text=fvg.GVf("public022",t,(n?n.p3:1e6)*e.jj),t<(n?n.p3:1e6)*e.jj?e.needLab.textColor=Color.KA:e.needLab.textColor=Color.XB}},t.prototype.initEvent=function(){var e=this;e.clearBtn.addEventListener(eui.tep,e.dv,e),vkG.$a(UtJ.OF,e.tc,e),vkG.$a(UtJ.QU,e.ff,e)},t.prototype.removeEvent=function(){var e=this;e.clearBtn.removeEventListener(eui.tep,e.dv,e),vkG.$r(UtJ.OF,e.tc,e),vkG.$r(UtJ.QU,e.ff,e)},t.prototype.dv=function(e){var t=App.KF.gold,n=XCA.AQS.UFA(34,1,1);return t<(n?n.p3:1e6)*this.jj?void _JDW.TR(StaticData.TID_GOLD_ID):0==this.jj?void App.TT.show(fvg.GVf("cons20")):0==this.zd["con_"+ConsType.VS]&&0==this.zd["con_"+ConsType.MV]&&0==this.zd["con_"+ConsType.JZ]&&0==this.zd["con_"+ConsType.BI]&&0==this.zd["con_"+ConsType.FZ]?void App.TT.show(fvg.GVf("cons20")):void ConsMsgProxy.JD(this.zd)},t.prototype.ff=function(e,t,n){var i=App.ME.getConsInfo();this.jj=(i.haveDict[ConsType.VS]||0)+(i.haveDict[ConsType.MV]||0)+(i.haveDict[ConsType.JZ]||0)+(i.haveDict[ConsType.BI]||0)+(i.haveDict[ConsType.FZ]||0),this.hl()},t.prototype.tc=function(e,t,n){0==t&&(e==ConsType.VS&&(this.zd["con_"+ConsType.VS]=!1,this.jj=this.jj-n),e==ConsType.MV&&(this.zd["con_"+ConsType.MV]=!1,this.jj=this.jj-n),e==ConsType.JZ&&(this.zd["con_"+ConsType.JZ]=!1,this.jj=this.jj-n),e==ConsType.BI&&(this.zd["con_"+ConsType.BI]=!1,this.jj=this.jj-n),e==ConsType.FZ&&(this.zd["con_"+ConsType.FZ]=!1,this.jj=this.jj-n)),1==t&&(e==ConsType.VS&&(this.zd["con_"+ConsType.VS]=!0,this.jj=this.jj+n),e==ConsType.MV&&(this.zd["con_"+ConsType.MV]=!0,this.jj=this.jj+n),e==ConsType.JZ&&(this.zd["con_"+ConsType.JZ]=!0,this.jj=this.jj+n),e==ConsType.BI&&(this.zd["con_"+ConsType.BI]=!0,this.jj=this.jj+n),e==ConsType.FZ&&(this.zd["con_"+ConsType.FZ]=!0,this.jj=this.jj+n)),this.hl()},t.prototype.dispose=function(){this.removeEvent(),GObj.$d(this._itemArr),this._itemArr=null,GObj.$d(this.haveLab),this.haveLab=null,GObj.$d(this.needLab),this.needLab=null,GObj.$d(this.clearBtn),this.clearBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ConsAlertPopUi.prototype,"ConsAlertPopUi");var ConsHelpPopUi=function(e){function t(){return e.call(this,"ConsHelpPopUi")||this}return __extends(t,e),t.prototype.initView=function(){this.frameGroup.title=fvg.GVf("cons7")},t.prototype.initData=function(){this._aboutType=AboutType.IL,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(ConsHelpPopUi.prototype,"ConsHelpPopUi");var ConsItem=function(e){function t(){var t=e.call(this,"ConsItem")||this;return t.skinName=RRUU.$s("ConsItem"),t}return __extends(t,e),t.prototype.initView=function(){this.bl=this.zz,this.xi()},t.prototype.initData=function(){this.xi()},t.prototype.xi=function(){var e=this;if(e.CSo&&e.sontype){var t=App.ME.lewcons,n=App.ME.getConsInfo(),i=App.ME.grade;e.vd=gLw.IQ(e.zz);var r=n.haveDict[e.vd]||0,a=XCA.AQS.UFA(34,1,1);t>0&&r<i*a.p2&&(e.addBtn.icon=StaticData.GHj),0==App.ME.lincons&&(e.addBtn.icon=null),e.bb||(e.bb=n.haveDict[e.vd]||0),e.getLab.text=toChars(e.bb),0==t?e.fewBtn.visible=!1:(e.fewBtn.visible=!0,e.addBtn.visible=!0),e.bb==r?e.fewBtn.visible=!1:e.fewBtn.visible=!0,e.bb==(a?a.p2:3)*i||0==t?e.addBtn.visible=!1:e.addBtn.visible=!0}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.we,e),e.fewBtn.addEventListener(eui.tep,e.cy,e),e.addBtn.addEventListener(eui.tep,e.ua,e),vkG.$a(UtJ.TN,e._s,e),vkG.$a(UtJ.QU,e.dv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.we,e),e.fewBtn.removeEventListener(eui.tep,e.cy,e),e.addBtn.removeEventListener(eui.tep,e.ua,e),vkG.$r(UtJ.TN,e._s,e),vkG.$r(UtJ.QU,e.dv,e)},t.prototype.we=function(){App.ME.lincons=App.ME.lewcons,GObj.$d(this)},t.prototype._s=function(e){this.xi()},t.prototype.dv=function(e){this.bb=0,this.xi()},t.prototype.cy=function(e){var t=App.ME.getConsInfo(),n=t.haveDict[this.vd]||0;this.bb!=n&&(App.ME.lincons=App.ME.lincons+1,this.bb=this.bb-1,this.xi(),vkG.$d(UtJ.JV,2,this.vd))},t.prototype.ua=function(e){var t=this;XCA.AQS.UFA(34,1,1);return App.ME.lincons<=0?void App.TT.show(fvg.GVf("cons18")):(t.bb=t.bb+1,App.ME.lincons=App.ME.lincons-1,t.xi(),void vkG.$d(UtJ.JV,1,t.vd))},Object.defineProperty(t.prototype,"sontype",{get:function(){return this.zz},set:function(e){var t=this;t.zz=e,t.xi()},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fewBtn),t.fewBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.getLab),t.getLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ConsItem.prototype,"ConsItem");var ConsView=function(e){function t(){var t=e.call(this,"ConsView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[e.consItem_1,e.consItem_2,e.consItem_3,e.consItem_4,e.consItem_5],e.upBtn.label=fvg.GVf("public008"),e.jiaBtn.label=fvg.GVf("hangup001"),e.maxLab.text=fvg.GVf("public014"),e.yv=0,e.qx=0,e.wg=0,e.zk=0,e.uj=0;App.ME.getConsInfo();e.dr=App.ME.lewcons,e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=-1,e.addChild(e.fightView),e.hf()},t.prototype.initData=function(){e.prototype.initData.call(this),this.__obgpUpdateHandler()},t.prototype.__pointChangeHandler=function(){},t.prototype.__obgpUpdateHandler=function(){},t.prototype.hf=function(){if(this.CSo){this.px=App.ME.lewcons||0,this.pz=App.ME.grade||0,this.gradeLab.text=fvg.GVf("cons1",this.pz);var e=(App.KF.gold||0,XCA.AQS.UFA(34,1,1));this.fightView.fightNum=App.ME.totalCap||0,this.jyLab.text=toChars(Math.floor(153633*Math.pow(this.pz+1,2)+2487617)),this.tqLab.text=toChars(Math.floor(153633*Math.pow(this.pz+1,2)+2487617));var t=App.ME.getConsInfo(),n=XCA.AQS.UFA(35,ConsType.VS,1),i=XCA.AQS.UFA(35,ConsType.MV,1),r=XCA.AQS.UFA(35,ConsType.JZ,1),a=XCA.AQS.UFA(35,ConsType.BI,1),o=XCA.AQS.UFA(35,ConsType.FZ,1);this.jinLab0.textFlow=LgRe.OQ(fvg.GVf("cons8",parseInt(AttributeTemplate.ZK(n.attrid))*t.haveDict[ConsType.VS]||0||0)),this.muLab0.textFlow=LgRe.OQ(fvg.GVf("cons9",parseInt(AttributeTemplate.ZK(i.attrid))*t.haveDict[ConsType.MV]||0||0)),this.shuiLab0.textFlow=LgRe.OQ(fvg.GVf("cons10",parseInt(AttributeTemplate.ZK(r.attrid))*t.haveDict[ConsType.JZ]||0||0)),this.huoLab0.textFlow=LgRe.OQ(fvg.GVf("cons11",parseInt(AttributeTemplate.ZK(a.attrid))*t.haveDict[ConsType.BI]||0||0)),this.tuLab0.textFlow=LgRe.OQ(fvg.GVf("cons12",parseInt(AttributeTemplate.ZK(o.attrid))*t.haveDict[ConsType.FZ]||0||0)),0==this.yv?this.jinLab.visible=!1:(this.jinLab.visible=!0,this.jinLab.text=fvg.GVf("426",parseInt(AttributeTemplate.ZK(n.attrid))*this.yv)),0==this.wg?this.shuiLab.visible=!1:(this.shuiLab.visible=!0,this.shuiLab.text=fvg.GVf("426",parseInt(AttributeTemplate.ZK(r.attrid))*this.wg)),0==this.zk?this.huoLab.visible=!1:(this.huoLab.visible=!0,this.huoLab.text=fvg.GVf("426",parseInt(AttributeTemplate.ZK(a.attrid))*this.zk)),0==this.uj?this.tuLab.visible=!1:(this.tuLab.visible=!0,this.tuLab.text=fvg.GVf("426",parseInt(AttributeTemplate.ZK(o.attrid))*this.uj)),0==this.qx?this.muLab.visible=!1:(this.muLab.visible=!0,this.muLab.text=fvg.GVf("426",parseInt(AttributeTemplate.ZK(i.attrid))*this.qx)),this.dr<=0&&(this.dr=0),this.needLab.text=fvg.GVf("cons22",toChars(this.dr));var s=(App.ME.lewcons,App.KF.gold),p=App.KF.obgp;this.pz==e.maxgrade?(this.upBtn.visible=!1,this.maxLab.visible=!0,this.jyLab.text="0",this.tqLab.text="0"):this.upBtn.icon=s>Math.floor(153633*Math.pow(this.pz+1,2)+2487617)&&p>Math.floor(153633*Math.pow(this.pz+1,2)+2487617)?StaticData.GHj:null,p<Math.floor(153633*Math.pow(this.pz+1,2)+2487617)?this.jyLab.textColor=Color.KA:this.jyLab.textColor=Color.TX,s<Math.floor(153633*Math.pow(this.pz+1,2)+2487617)?this.tqLab.textColor=Color.KA:this.tqLab.textColor=Color.TX;s>Math.floor(153633*Math.pow(this.pz+1,2)+2487617)&&p>Math.floor(153633*Math.pow(this.pz+1,2)+2487617)}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.upBtn.addEventListener(eui.tep,t._v,t),t.helpBtn.addEventListener(eui.tep,t.pv,t),t.jiaBtn.addEventListener(eui.tep,t["in"],t),t.clearBtn.addEventListener(eui.tep,t.an,t),vkG.$a(UtJ.QU,t.gf,t),vkG.$a(UtJ.JV,t.sd,t),vkG.$a(UtJ.GU,t.__obgpUpdateHandler,t)},t.prototype.removeEvent=function(){var e=this;e.upBtn.removeEventListener(eui.tep,e._v,e),e.helpBtn.removeEventListener(eui.tep,e.pv,e),e.jiaBtn.removeEventListener(eui.tep,e["in"],e),e.clearBtn.removeEventListener(eui.tep,e.an,e),vkG.$r(UtJ.QU,e.gf,e),vkG.$r(UtJ.JV,e.sd,e),vkG.$r(UtJ.GU,e.__obgpUpdateHandler,e)},t.prototype.gf=function(e){this.dr=App.ME.lewcons,this.yv=0,this.qx=0,this.wg=0,this.zk=0,this.uj=0,this.hf()},t.prototype.sd=function(e,t){if(1==e){if(App.ME.lewcons<=0)return;this.dr=this.dr-1,t==ConsType.VS?this.yv=this.yv+1:t==ConsType.MV?this.qx=this.qx+1:t==ConsType.JZ?this.wg=this.wg+1:t==ConsType.BI?this.zk=this.zk+1:t==ConsType.FZ&&(this.uj=this.uj+1)}2==e&&(this.dr=this.dr+1,t==ConsType.VS?this.yv=this.yv-1:t==ConsType.MV?this.qx=this.qx-1:t==ConsType.JZ?this.wg=this.wg-1:t==ConsType.BI?this.zk=this.zk-1:t==ConsType.FZ&&(this.uj=this.uj-1)),vkG.$d(UtJ.TN,this.dr),this.bq={con_1:this.yv,con_2:this.qx,con_3:this.wg,con_4:this.zk,con_5:this.uj},this.hf()},t.prototype.pv=function(e){App.VS.popup(10070,ConsHelpPopUi)},t.prototype["in"]=function(e){return 0==this.yv&&0==this.qx&&0==this.wg&&0==this.zk&&0==this.uj&&0!=App.ME.lewcons?void App.TT.show(fvg.GVf("cons21")):0==this.yv&&0==this.qx&&0==this.wg&&0==this.zk&&0==this.uj?void App.TT.show(fvg.GVf("cons16")):(this.yv=0,this.qx=0,this.wg=0,this.zk=0,this.uj=0,ConsMsgProxy.VE(this.bq),void App.KB.showEffect(gYq.UQ))},t.prototype.an=function(e){App.VS.popup(10070,ConsAlertPopUi)},t.prototype._v=function(e){var t=XCA.AQS.UFA(34,1,1);if(t){var n=App.KF.gold;if(n<Math.floor(153633*Math.pow(this.pz+1,2)+2487617))return void _JDW.TR(StaticData.TID_GOLD_ID);var i=App.KF.obgp;if(i<Math.floor(153633*Math.pow(this.pz+1,2)+2487617))return void _JDW.TR(StaticData.TID_EXP_ID);ConsMsgProxy._G(1),this.yv=0,this.qx=0,this.wg=0,this.zk=0,this.uj=0}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.tqLab),t.tqLab=null,GObj.$d(t.jyLab),t.jyLab=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.jinLab0),t.jinLab0=null,GObj.$d(t.shuiLab0),t.shuiLab0=null,GObj.$d(t.muLab0),t.muLab0=null,GObj.$d(t.huoLab0),t.huoLab0=null,GObj.$d(t.tuLab0),t.tuLab0=null,GObj.$d(t.jinLab),t.jinLab0=null,GObj.$d(t.shuiLab),t.shuiLab0=null,GObj.$d(t.muLab),t.muLab0=null,GObj.$d(t.huoLab),t.huoLab0=null,GObj.$d(t.tuLab),t.tuLab0=null,GObj.$d(t.helpBtn),t.helpBtn=null,GObj.$d(t.needLab),t.needLab=null,GObj.$d(t.jiaBtn),t.jiaBtn=null,GObj.$d(t.clearBtn),t.clearBtn=null,GObj.$d(t.maxLab),t.maxLab=null,GObj.$d(t._itemArr),t._itemArr=null,t.pz=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ConsView.prototype,"ConsView");var ContinueChargeFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bm=[],e.datas=GObj.$c(eui.ArrayCollection),e.chargeGroup.dataProvider=e.datas,e.chargeGroup.itemRenderer=ContinueChargeItem,e.superData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.superData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.ruleLab.textFlow=LgRe.OQ(fvg.GVf("continuecgarge2"))},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.at(),t.updateLastTime()},t.prototype.at=function(){var e=this;if(e.mx=App.MG.valueChargeList[0],e.CSo&&e.mx){for(var t=[],n=0;n<e.mx.bagList.length;n++)t.push(e.mx.bagList[n]);t.sort(e.ev),e.datas.replaceAll(t);var i=e.mx.p2||0;e.descLab.text=fvg.GVf("comtinuecharge3",i),e.currDayLab.text=fvg.GVf("comtinuecharge6",e.mx.p3),e.ol()}},t.prototype.updateLastTime=function(){var e=this;if(e.mx){var t=e.mx.endTime-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.tg,e):vkG.$r(HUtJ.HEARTBEAT,e.tg,e),e.tg()}},t.prototype.tg=function(){var e=this;if(!e.destory){var t=e.mx.endTime-App.NN.serverSecond;t>0?(e.ug=!1,e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(e.ug=!0,vkG.$r(HUtJ.HEARTBEAT,e.tg,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}},t.prototype.ol=function(){var e=this;if(e.cu=App.MG.valueChargeSupList[0],e.cu){var t=e.cu.bagList[0],n=t.rewardList.length;e.superData.source.length=0;for(var i,r,a=0;n>a;a++)r=t.rewardList[a],r&&(e.bm[a]||(e.bm[a]=GObj.$c(nlwj)),i=e.bm[a],i.tid=r.tempId,i.count=r.count,e.superData.source.push(i));e.superData.refresh()}},t.prototype.ev=function(e,t){var n=e.conditionList[0],i=t.conditionList[0];return n.p1<i.p1?-1:1},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.gotoRechargeBtn.addEventListener(eui.tep,t.qj,t),vkG.$a(UtJ.PP,t.hf,t),vkG.$a(UtJ.WCH,t.at,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.gotoRechargeBtn.removeEventListener(eui.tep,t.qj,t),vkG.$r(UtJ.PP,t.hf,t),vkG.$r(UtJ.WCH,t.at,t),vkG.$r(UtJ.HD,t.tg,t)},t.prototype.hf=function(e){var t=this;t.mx&&e&&e.indexOf(t.mx.id)>=0&&t.at()},t.prototype.qj=function(){App.VS.open(10089)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gotoRechargeBtn),t.gotoRechargeBtn=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.ruleLab),t.ruleLab=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.scroller),t.scroller=null,GObj.$d(t.chargeGroup),t.chargeGroup=null,GObj.$d(t.currDayLab),t.currDayLab=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(ContinueChargeFrame.prototype,"ContinueChargeFrame");var ContinueChargeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ContinueChargeItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ho=[],e.getBtn.label=fvg.GVf("104"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&(e.sm=e.data,e.sm)){var t,n,i=e.sm.rewardList.length;e.rewardData.source.length=0;for(var r=0;i>r;r++)t=e.sm.rewardList[r],t&&(e.ho[r]||(e.ho[r]=GObj.$c(nlwj)),n=e.ho[r],n.tid=t.tempId,n.count=t.count,e.rewardData.source.push(n));e.rewardData.refresh(),e.am()}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.th,e),e.getBtn.addEventListener(eui.tep,e.iv,e)},t.prototype.am=function(){var e=this;if(e.sm&&(e.dw=e.sm.conditionList[0],e.dw)){e.descLab.textFlow=LgRe.OQ(fvg.GVf("comtinuecharge4",Nkz.QT(e.dw.p1),e.dw.value));var t=0!=e.sm.status?1:0;e.protxt.text=fvg.GVf("112",t,1),e.protxt.x=e.descLab.x+e.descLab.width+2,e.protxt.textColor=0!=e.sm.status?Color.TX:Color.KA,e.getBtn.icon=1==e.sm.status?StaticData.GHj:null;var n=App.MG.valueChargeList[0];n&&(n.p3>e.dw.p1?(e.getBtn.visible=1==e.sm.status,e.outTimeImg.visible=0==e.sm.status,e.getImg.visible=2==e.sm.status):(e.getBtn.visible=2!=e.sm.status,e.getImg.visible=!e.getBtn.visible,e.outTimeImg.visible=!1))}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.th,e),e.getBtn.removeEventListener(eui.tep,e.iv,e)},t.prototype.iv=function(e){var t=this;return t.sm?2==t.sm.status?void App.TT.show(fvg.GVf("444")):0==t.sm.status?void App.TT.show(fvg.GVf("firstcharge004")):void FunnyMsgProxy.LR(t.sm.id):void App.TT.show(fvg.GVf("rename109"))},t.prototype.th=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.protxt),t.protxt=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.outTimeImg),t.outTimeImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ContinueChargeItem.prototype,"ContinueChargeItem");var ActivateTipManager=function(e){function t(){var n=e.call(this,"MessageTipManager")||this;singleton(t._instance),t._instance=n;var i=RRUU.$s("ActivateTipManagerSkin");return n.skinName=i,n.horizontalCenter=0,n.verticalCenter=0,n.touchEnabled=n.touchChildren=!0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){},t.prototype.resizeMask=function(){var e=this;e.stage&&(e.maskBg.width=App.YX.stage.stageWidth,e.maskBg.height=App.YX.stage.stageHeight,e.maskBg0.width=App.YX.stage.stageWidth,e.maskBg0.height=App.YX.stage.stageHeight)},t.prototype.show=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i=this,r=FigureHelps.TS(e,t,n);if(r.part){switch(e){case 79:n>1?i.activateTip.source="core_json.activate_upgrade_png":i.activateTip.source="core_json.activate_success_png";break;default:i.activateTip.source="core_json.activate_success_png"}var a=i.getAvatarName(e,t,n);i.resetUI(),i.resetAvatar(r),i.initPerformance(a),i.addToTop()}},t.prototype.getAvatarName=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i=XCA.AQS.UFA(e,t,n),r="";if(i&&(r=i.name),79==e){var a=XCA.AQS.UFA(79,1,1);if(!a)return;var o=Math.ceil(n/10)==n/10&&n>0&&n<a.maxgrade?n/10+1:Math.ceil(n/10);if(a=XCA.AQS.UFA(79,t,o),!a)return;r=a.name}return r},t.prototype.resetUI=function(){var e=this;e.destoryUI(),e.effectLight=UIEffectFactory.instance.getUIEffect(gYq.CA,100,1),e.effectBottom=UIEffectFactory.instance.getUIEffect(gYq.HZ),e.effectLight.horizontalCenter=0,e.effectBottom.horizontalCenter=0,e.effectLight.y=76,e.effectBottom.y=372,e.contentGroup.addChildAt(e.effectLight,3),e.contentGroup.addChildAt(e.effectBottom,3),e.stopTween(),e.effectLight.stop(),e.effectBottom.stop(),e.maskBg.alpha=0,e.maskBg0.alpha=0,e.nameGroup.alpha=0,e.activateTip1.alpha=0,e.pedestal.visible=!1,e.activateTip.visible=!1,e.effectLight.visible=!1,e.effectBottom.visible=!1,e.activateTip.scaleX=1.8,e.activateTip.scaleY=1.8,e.nameGroup.y=160},t.prototype.resetAvatar=function(e){var t=this,n=e.part,i=e.offset;n&&(t.huk=GObj.$c(FigureView),t.huk.visible=!1,t.contentGroup.addChildAt(t.huk,5),t.huk.x=260+i.x,t.huk.y=535+i.y,FigureHelps.NW(t.huk,n,!1))},t.prototype.initPerformance=function(e){var t=this;t.nameTxt.text=e,egret.Tween.get(t.maskBg0).to({alpha:1},400,egret.Ease.backOut),egret.Tween.get(t.maskBg).to({alpha:1},400,egret.Ease.backOut).call(t.tweenShowPedestal,t).wait(120).call(t.tweenShowEffect,t).wait(300).call(t.tweenShowTitle,t).wait(1e3).call(t.addCloseEvent,t).wait(1e4).call(t.hide,t)},t.prototype.tweenShowPedestal=function(){this.pedestal.visible=!0},t.prototype.tweenShowEffect=function(){var e=this;e.effectLight.visible=!0,e.effectBottom.visible=!0,e.huk.visible=!0,e.effectLight.play(1),e.effectLight.addEventListener(egret.Event.COMPLETE,function(){e.effectLight.visible=!1},e),e.effectBottom.play()},t.prototype.tweenShowTitle=function(e){var t=this;t.activateTip.visible=!0,egret.Tween.get(t.activateTip).to({scaleX:1,scaleY:1},250,egret.Ease.backOut),egret.Tween.get(t.nameGroup).wait(150).to({alpha:1,y:320},100,egret.Ease.backOut)},t.prototype.addCloseEvent=function(){var e=this;e.once(eui.tep,e.hide,e),egret.Tween.get(e.activateTip1).to({alpha:1},500,egret.Ease.backOut)},t.prototype.addToTop=function(){var e=this;e.parent||(alvJ.instance.addToLayer(this,alvJ.YN),e.resizeMask())},t.prototype.stopTween=function(){var e=this;e.effectLight.stop(),e.effectBottom.stop(),egret.Tween.removeTweens(e.maskBg),egret.Tween.removeTweens(e.maskBg0)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.hide,e)},t.prototype.destoryUI=function(){var e=this;GObj.$d(e.effectLight),e.effectLight=null,GObj.$d(e.effectBottom),e.effectBottom=null,GObj.$d(e.huk),e.huk=null},t.prototype.hide=function(){var e=this;e.stopTween(),e.removeEvent(),e.destoryUI(),e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(ActivateTipManager.prototype,"ActivateTipManager");var Alert=function(e){function t(){var n=e.call(this,"Alert")||this;return n._unableCloseEvent=!1,n.maxContnetHeight=300,n.minContnetHeight=107,singleton(t._instance),t._instance=n,n.skinName=RRUU.$s("AlertSkin"),n.touchEnabled=!1,n.horizontalCenter=0,n.verticalCenter=0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e._btnArr=[],e._textArr=[],e._iconArr=[],e._txtArr=[],e._contextSpr=GObj.$c(egret.Sprite),e.titleLab.text=fvg.GVf("5"),e.noBtn.label=fvg.GVf("6"),e.yesBtn.label=fvg.GVf("7")},t.prototype.initEvent=function(){var e=this;e.noBtn.addEventListener(eui.tep,e.__cancelClickHandler,e),e.yesBtn.addEventListener(eui.tep,e.__confirmClickHandler,e)},t.WK=function(e,n,i,r,a,o,s,p,l,c,u,d,g){void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=null),void 0===u&&(u=!1),void 0===d&&(d=0);var v=this;n||(n=fvg.GVf("5")),i||(i=t.EX|t.HE),v.instance._unableCloseEvent=u,p?v.instance.yesBtn.label=p:v.instance.yesBtn.label=fvg.GVf("7"),l?v.instance.noBtn.label=l:v.instance.noBtn.label=fvg.GVf("6"),g||(g=alvJ.YN),v.instance.show(e,n,i,r,a,o,s,c,d,g)},t.QN=function(e,n,i,r,a,o,s){void 0===r&&(r=null),void 0===a&&(a=null),void 0===s&&(s=null);var p=this;t.WK(e,n,i,r,a,o,s),p.instance._unableCloseEvent=!0,p.instance.noBtn.label=fvg.GVf("rewardhal49"),p.instance.yesBtn.label=fvg.GVf("rewardhal50")},t.GM=function(e,t){void 0===t&&(t=null);var n=this;n.instance.hide(e,t)},t.prototype.hide=function(e,t){void 0===t&&(t=null);var n=this;n._confirmCall===e&&n._thisObj===t&&n.dispose()},t.prototype.show=function(e,n,i,r,a,o,s,p,l,c){var u=this;u._confirmCall=r,u._cancelCall=s,u._thisObj=a,u._callArg=o,u.titleLab.text=n,u.setContext(e);var d=u.contextLab.height+20;if(d>u.minContnetHeight){var g=d<u.maxContnetHeight?d-u.minContnetHeight:u.maxContnetHeight-u.minContnetHeight;u.height=u.height+g,u.contentScroller.height=u.contentScroller.height+g}u.noBtn.parent&&u.noBtn.parent.removeChild(u.noBtn),u.yesBtn.parent&&u.yesBtn.parent.removeChild(u.yesBtn),u._btnArr.length=0,i&t.HE&&u._btnArr.push(u.noBtn),i&t.EX&&u._btnArr.push(u.yesBtn),p&&u._btnArr.reverse();for(var v=u._btnArr.length,h=0;v>h;h++){var m=u._btnArr[h];u.btnGroup.addChild(m)}l>0?(u._countDown=App.NN.serverSecond+l,vkG.$a(HUtJ.HEARTBEAT,u.__yesBtnTimeHandler,u)):0>l&&(u._countDown=App.NN.serverSecond-l,vkG.$a(HUtJ.HEARTBEAT,u.__notBtnTimeHandler,u)),alvJ.instance.addToLayer(this,c,alvJ.LR),fNs.instance.execute(hXS.PS,hXS.NW,u.yesBtn)},t.prototype.__yesBtnTimeHandler=function(){var e=this,t=e._countDown-App.NN.serverSecond;e.yesBtn.label=fvg.GVf("public107",t),0>=t&&(vkG.$r(HUtJ.HEARTBEAT,e.__yesBtnTimeHandler,e),e.__confirmClickHandler(null))},t.prototype.__notBtnTimeHandler=function(){var e=this,t=e._countDown-App.NN.serverSecond;e.noBtn.label=fvg.GVf("public106",t),0>=t&&(vkG.$r(HUtJ.HEARTBEAT,e.__notBtnTimeHandler,e),e.__cancelClickHandler(null))},t.prototype.reSetHeight=function(){var e=this;e.height=274,e.contentScroller.height=e.minContnetHeight},t.prototype.setContext=function(e){var t=this;e=toChars(e);var n=e.match(/{[a-z]+}/g);if(!n)return e.indexOf("</")>=0?t.contextLab.textFlow=(new egret.HtmlTextParser).parser(e):t.contextLab.text=e,t.contextLab.textHeight>75?t.contextLab.height=t.contextLab.textHeight:t.contextLab.height=75,t.contextLab.parent||t.addChild(t.contextLab),void(t._contextSpr.parent&&t._contextSpr.parent.removeChild(t._contextSpr));for(var i,r,a,o,s=n.length,p=0,l=0;s>l;l++)if(i=n[l],r=i.replace("{","").replace("}",""),o=kLM.LF(r)){t._iconArr.push(GObj.$c(egret.Bitmap,o));var c=e.indexOf(i);a=e.substring(p,c),e=e.replace(i,""),t._textArr.push(a),p=c}if(s=t._iconArr.length,0>=s)return t.contextLab.text=e,t.contextLab.parent||t.addChild(t.contextLab),void(t._contextSpr.parent&&t._contextSpr.parent.removeChild(t._contextSpr));t.contextLab.parent&&t.contextLab.parent.removeChild(t.contextLab),p<e.length&&t._textArr.push(e.substring(p,e.length)),s=t._textArr.length,i="";for(var u,d,g=0,l=0;s>l;l++)u=t._txtArr[l],u||(u=GObj.$c(egret.TextField),u.y=8,u.size=16,u.textColor=Color.XB,t._txtArr.push(u)),d=t._iconArr[l],a=t._textArr[l],u.text=a,u.x=g,t._contextSpr.addChild(u),g+=u.textWidth+4,i+=a,d&&(d.x=g,d.y=u.y+(16-d.height)/2,t._contextSpr.addChild(d),g+=d.width+4);for(s=t._txtArr.length;s>l;l++)u=t._txtArr[l],u&&u.parent&&u.parent.removeChild(u);t._contextSpr.y=80,t._contextSpr.x=44+(286-t._contextSpr.width)/2,t._contextSpr.parent||t.addChild(t._contextSpr)},t.prototype.__cancelClickHandler=function(e){var t=this,n=t._cancelCall,i=t._thisObj,r=t._callArg;t.dispose(),n&&(r?n.apply(i,r):n.call(i))},t.prototype.__confirmClickHandler=function(e){var t=this,n=t._confirmCall,i=t._thisObj,r=t._callArg;t.dispose(),n&&(r?n.apply(i,r):n.call(i))},t.prototype.dispose=function(){var e=this;if(e.reSetHeight(),e._confirmCall=null,e._thisObj=null,e._callArg=null,e.contentScroller&&e.contentScroller.stopAnimation(),e.parent&&e.parent.removeChild(e),e._btnArr.length=0,e._textArr.length=0,e._iconArr){for(var t=e._iconArr.length,n=0;t>n;n++)GObj.$d(e._iconArr[n]);e._iconArr.length=0}},t._instance=null,t.EX=1,t.HE=2,t
}(BaseUI);__reflect(Alert.prototype,"Alert");var BaseHeadView=function(e){function t(){var t=e.call(this,"BaseHeadView")||this;return t.touchEnabled=t.touchChildren=!1,t}return __extends(t,e),t.prototype.setData=function(e,t,n){var i=this;i.sz=e||1,i.ou=t||0,i.vb=n||0,i.updateView()},t.prototype.updateView=function(){var e=this;e.headIcon||(e.headIcon=GObj.$c(ImageIcon),e.headIcon.x=8,e.headIcon.y=8,e.addChild(e.headIcon)),e.headIcon.icon=e.vb>0?kLM.JU(e.sz,e.vb):null,e.backIcon||(e.backIcon=GObj.$c(ImageIcon),e.addChild(e.backIcon)),e.backIcon.icon=kLM.ZQ(e.ou)},t.prototype.dispose=function(){var t=this;GObj.$d(t.backIcon),t.backIcon=null,GObj.$d(t.headIcon),t.headIcon=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BaseHeadView.prototype,"BaseHeadView");var BaseIconView=function(e){function t(){var t=e.call(this,"BaseIconView")||this;return t.skinName=RRUU.$e("BaseIconView"),t}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{get:function(){return this.fd},set:function(e){var t=this;if(e!=t.fd&&(t.fd=e,t.iconDisplay.texture=null,LoaderManager.instance.clearLoad(null,t.ap,t),t.fd))if("string"==typeof t.fd){var n=t.fd;n&&n.length>0&&LoaderManager.instance.load(n,t.ap,t)}else t.iconDisplay.texture=t.fd},enumerable:!0,configurable:!0}),t.prototype.ap=function(e){var t=this;t.destory||e.url!=t.fd||(e&&e.data&&"egret.Texture"==e.data.__proto__.__class__&&(t.iconDisplay.texture=e.data),t.eb&&t.dc&&t.eb.call(t.dc))},t.prototype.setCallBack=function(e,t){var n=this;n.eb=e,n.dc=t},Object.defineProperty(t.prototype,"iconWidth",{get:function(){var e=this;return e.iconDisplay&&e.iconDisplay.texture?e.iconDisplay.texture.textureWidth:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconHeight",{get:function(){var e=this;return e.iconDisplay&&e.iconDisplay.texture?e.iconDisplay.texture.textureHeight:0},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;LoaderManager.instance.clearLoad(null,t.ap,t),GObj.$d(t.iconDisplay),t.iconDisplay=null,t.fd=null,t.eb=null,t.dc=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BaseIconView.prototype,"BaseIconView");var BaseUpgradeIcon=function(e){function t(){var t=e.call(this,"BaseUpgradeIcon")||this;return t._showNumTxt=!0,t.skinName=RRUU.$s("BaseUpgradeIcon"),t}return __extends(t,e),t.prototype.initView=function(){this.textBack.size=14},Object.defineProperty(t.prototype,"upgradeId",{get:function(){return this.fi},set:function(e){var t=this;if(t.fi!=e)if(t.fi=e,"string"==typeof e)t.qualityImg.texture=null,t.iconView.icon=t.fi;else if(t.fi>0){var n=gLw.GM(t.fi);t.qualityImg.source=aKF.LU(n);var i=gLw.DM(t.fi);if(1==i)t.iconView.icon=gLw.QY(t.fi);else if(2==i)t.iconView.icon=gLw.QY(t.fi),t.iconView.width=60,t.iconView.height=60;else if(12==i)t.iconView.icon=kLM.NQ(gLw.getIconIdByTid(t.fi));else if(24==i)t.iconView.icon=kLM.EB(gLw.getIconIdByTid(t.fi));else if(33==i)t.iconView.icon=kLM.ZA(t.fi);else if(40==i||41==i)t.iconView.icon=kLM.XW(gLw.getIconIdByTid(t.fi));else if(48==i)t.iconView.icon=kLM.VW(t.fi);else if(50==i){var r=gLw.RO(t.fi);t.iconView.icon=kLM.FI(r)}else 54==i?t.iconView.icon=kLM.NY(gLw.getIconIdByTid(t.fi)):55==i?t.iconView.icon=kLM.PM(gLw.getIconIdByTid(t.fi)):57==i?t.iconView.icon=kLM.ZX(t.fi):58==i?t.iconView.icon=kLM.LU(t.fi):63==i?t.iconView.icon=kLM.ONB(gLw.getIconIdByTid(t.fi)):65==i?t.iconView.icon=kLM.PV(gLw.getIconIdByTid(t.fi)):70==i?t.iconView.icon=kLM.IF(gLw.getIconIdByTid(t.fi)):72==i?t.iconView.icon=kLM.LJ(gLw.FJ(t.fi)):88==i?t.iconView.icon=kLM.EIQ(gLw.getIconIdByTid(t.fi)):90==i&&(t.iconView.icon=kLM.XX(i,gLw.getIconIdByTid(t.fi)))}else t.qualityImg.source=t.showDefault?aKF.LU(aKF.MM):null,t.iconView.icon=null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showNumTxt",{get:function(){return this._showNumTxt},set:function(e){var t=this;t._showNumTxt=e,t.textBack.visible=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomText",{get:function(){return this.textBack.text},set:function(e){this.textBack.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomColor",{set:function(e){this.textBack.textColor=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.destory||(GObj.$d(t.qualityImg),t.qualityImg=null,GObj.$d(t.iconView),t.iconView=null,t.fi=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(BaseUpgradeIcon.prototype,"BaseUpgradeIcon");var BoxPopUi=function(e){function t(t){void 0===t&&(t="BoxPopUi");var n=e.call(this,t)||this,i=RRUU.$s(n.id);return n.skinName=i,n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf(104),e.titleTxt.text=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.__getClickHandler,e)},t.prototype.initData=function(){},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.__getClickHandler,e)},t.prototype.__closeClickHandler=function(e){this.dispose()},t.prototype.__getClickHandler=function(e){var t=this;33==t.zn?ActivityMsgProxy.KQ(t.az):44==t.zn?NXr.XZ():18==t.zn?App.BX.PpQ(42,void 0):48==t.zn?ziI.WU(8,t._p1):78==t.zn?WulinLeagueMsgProxy.VZ(t.az):84==t.zn?WulinLeagueMsgProxy.EH(0):129==t.zn?FamilyMsgProxy.AT(9,t._p1):302==t.zn?PvpMsgProxy.MH(t.az):60==t.zn?SwordTombMsgProxy.VH():61==t.zn?TownMagicMsgProxy.HC():998==t.zn?NXr.IS(t._p1):ziI.QO(t.zn,t.az),t.dispose()},t.prototype.my=function(){var e=this;e.alertTxt.text=fvg.GVf(98),e.getBtn.parent&&e.getBtn.parent.removeChild(e.getBtn)},t.prototype.showDetail=function(e,t,n,i,r,a,o){void 0===a&&(a=!1),void 0===o&&(o=[]);var s=this;if(!s.dp){switch(i||(i=n),s.zn=e,s.az=i,s._p1=r,s.dp=!0,t>=n?s.proLab.textColor=Color.TX:s.my(),s.proLab.text=fvg.GVf(112,t,n),s.receiveImg.visible=!1,s.alertTxt.textColor=Color.KA,e){case 302:s.descLab.text=fvg.GVf(217,n);break;case 1:s.descLab.text=fvg.GVf(201,n);break;case 2:s.descLab.text=fvg.GVf(202,n);break;case 17:s.getBtn.visible=!1;case 18:s.descLab.text=fvg.GVf(204,n);break;case 33:s.descLab.text=fvg.GVf(206,n),s.getBtn.icon=t>=n?StaticData.GHj:null;break;case 28:s.descLab.horizontalCenter=0,s.proLab.text="",s.getBtn.visible=!1;break;case 42:s.descLab.visible=!1,s.proLab.text="",s.getBtn.visible=!1;break;case 44:s.descLab.visible=!1,s.proLab.text="";var p=XCA.CG(IDU.SN);parseInt(p)<=App.XT.vipInfo.vipGrade?(s.alertTxt.visible=!1,s.receiveImg.visible=!!App.XT.isget,s.getBtn.visible=!App.XT.isget):(s.getBtn.visible=!1,s.alertTxt.visible=!0,s.alertTxt.text=fvg.GVf("gril7",p));break;case 45:s.descLab.visible=!1,s.proLab.text="",s.getBtn.visible=!1,s.alertTxt.visible=!0,s.alertTxt.text=fvg.GVf("crossarena4"),s.alertTxt.textColor=Color.TX;break;case 82:s.descLab.visible=!1,s.proLab.text="",s.getBtn.visible=!1,s.alertTxt.visible=!0,s.alertTxt.text=fvg.GVf("crossarena4"),s.alertTxt.textColor=Color.TX;break;case 48:s.descLab.text=fvg.GVf("crossarena13",n);break;case 52:case 59:case 74:case 75:case 86:s.descLab.text=fvg.GVf("445",n),s.proLab.text="",s.alertTxt.visible=s.getBtn.visible=!1;break;case 78:s.descLab.text=fvg.GVf("wushen24",n),s.getBtn.icon=t>=n?StaticData.GHj:null;break;case 84:s.descLab.text=fvg.GVf("elite9",r),s.alertTxt.visible=s.getBtn.visible=!1;break;case 123:s.descLab.text=fvg.GVf("445",n),s.getBtn.visible=!1,s.alertTxt.visible=!1,s.proLab.text="";break;case 90:s.descLab.text=fvg.GVf("445",n),s.alertTxt.visible=s.getBtn.visible=!1;break;case 91:s.descLab.text=fvg.GVf("445",n),s.alertTxt.visible=s.getBtn.visible=!1,s.getBtn.visible=!1,s.proLab.text="";break;case 126:s.descLab.text=fvg.GVf("445",n),s.alertTxt.visible=s.getBtn.visible=!1;break;case 124:s.descLab.textFlow=LgRe.OQ(fvg.GVf("harry7",n)),s.getBtn.visible=!1,s.alertTxt.text=fvg.GVf("horoskop18");break;case 129:s.descLab.text=fvg.GVf("family32",n),s.getBtn.icon=t>=n?StaticData.GHj:null,s.alertTxt.visible=!1;break;case 131:s.alertTxt.visible=!1,s.proLab.text="",s.getBtn.visible=!1,s.descLab.text=fvg.GVf("familywar9",n);break;case 134:s.proLab.text="",s.getBtn.visible=!1,s.descLab.visible=!1,s.alertTxt.textFlow=LgRe.OQ(fvg.GVf("valentines16",App.MA.valentinesVo.layer));break;case 60:s.descLab.text=fvg.GVf(r,n),s.descLab.horizontalCenter=0,s.proLab.text="",s.getBtn.visible=!0,s.getBtn.label=fvg.GVf("raid7"),s.getBtn.icon=StaticData.GHj,s.alertTxt.visible=!1;break;case 61:s.descLab.text=fvg.GVf("townmagic03",n),s.descLab.horizontalCenter=0,s.proLab.text="",s.getBtn.visible=!0,s.getBtn.label=fvg.GVf("raid7"),s.getBtn.icon=StaticData.GHj,s.alertTxt.visible=!1;break;case 998:s.descLab.text="",s.descLab.horizontalCenter=0,s.proLab.text="",s.getBtn.visible=!0,s.alertTxt.visible=!1,s.getBtn.label=fvg.GVf("shop6"),s.getBtn.visible=!!s.az,s.titleTxt.text=fvg.GVf("direct_crash",t)}s._itemArr=[];var l=[];if(o&&o.length>0)l=o;else{var c;c=a?XCA.RE(i):XCA.DG(s.zn,s.az);for(var u,d,g=c.split(QycO.PK),v=0,h=g.length;h>v;v++){var m=g[v].split(QycO.XP);m&&m.length>=2&&(d=GObj.$c(nlwj),d.tid=m[0],d.count=m[1],l.push(d))}}for(var v=0,h=l.length;h>v;v++)u=GObj.$c(GoodsItemView),u.data=l[v],s._itemArr.push(u);for(h=s._itemArr.length,v=0;h>v;v++)u=s._itemArr[v],s.itemGroup.addChild(u);alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)}},t.prototype.recycle=function(){var t=this;if(t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.alertTxt),t.alertTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,t.itemGroup.removeChildren(),GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.receiveImg),t.receiveImg=null,t._itemArr){for(var n=t._itemArr.length,i=0;n>i;i++)GObj.$d(t._itemArr[i]);t._itemArr.length=0}e.prototype.dispose.call(this)},t.prototype.dispose=function(){this.recycle()},t}(BasePopUi);__reflect(BoxPopUi.prototype,"BoxPopUi");var ChapterIncomeBar=function(e){function t(){var n=e.call(this,"ChapterIncomeBar")||this;singleton(t._instance),t._instance=n;var i=RRUU.$s("ChapterIncomeBarSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.horizontalCenter=0,e.verticalCenter=0,e.playing=!1,e.goldRate_1=App.XT.getPrivilegeByVipGradeAndType(101,7)/1e3,e.expRate_1=App.XT.getPrivilegeByVipGradeAndType(101,10)/1e3,e.goldRate_2=App.XT.getPrivilegeByVipGradeAndType(102,7)/1e3,e.expRate_2=App.XT.getPrivilegeByVipGradeAndType(102,10)/1e3},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.JD,e.__chapterChangeHandler,e)},t.prototype.__chapterChangeHandler=function(){this.show(1)},t.prototype.show=function(e){var t=this;t.playing||(t.playing=!0,t._currType=e,App.HA.registeEnterFrame2(t.__checkMapScene,t))},t.prototype.__checkMapScene=function(){var e=this,t=App.UY.sceneType;7!=t&&(App.HA.unRegisteEnterFrame2(e.__checkMapScene,e),egret.Tween.get(e).wait(100).call(e.play,e))},t.prototype.play=function(){var e=this;egret.Tween.removeTweens(e);var t=App.KF.chapter,n=App.JP.chapterOutputExp(t),i=App.JP.chapterOutputGold(t),r=0,a=0,o=1,s=1+App.BG.playerAttrsInfo.gpimprate/1e3;1==e._currType?(r=App.JP.chapterOutputExp(t-1),a=App.JP.chapterOutputGold(t-1),App.DE.supremeVO.isGold&&(o+=e.goldRate_1),App.DE.supremeVO.isPoint&&(o+=e.goldRate_2)):2==e._currType?(r=n,a=i,App.DE.supremeVO.isPoint&&(o+=e.goldRate_2),s-=e.expRate_1):3==e._currType&&(r=n,a=i,App.DE.supremeVO.isGold&&(o+=e.goldRate_1),s-=e.expRate_2),a=int(a*o),r=int(r*s),o=1,s=1+App.BG.playerAttrsInfo.gpimprate/1e3,(App.DE.supremeVO.isGold||2==e._currType)&&(o+=e.goldRate_1),(App.DE.supremeVO.isPoint||3==e._currType)&&(o+=e.goldRate_2),i=int(i*o),n=int(n*s);var p=App.SMF.getBuffAttrByType(10001);r*=1+p/1e3,n*=1+p/1e3,e.chapterTxt.text=fvg.GVf("39",t),e.preExpTxt.text=NumberUtil.DB(int(r)),e.preGoldTxt.text=NumberUtil.DB(int(a)),e.currExpTxt.textFlow=LgRe.OQ(fvg.GVf("chapterIncome_1",NumberUtil.DB(n))),e.currGoldTxt.textFlow=LgRe.OQ(fvg.GVf("chapterIncome_1",NumberUtil.DB(i)));var l=App.FT.getStageWidth();e.horizontalCenter=-(l/2+e.width),egret.Tween.get(e).to({horizontalCenter:0},300,egret.Ease.backInOut).call(e.scrollBackOver,e),e.parent||App.FT.addToLayer(this,alvJ.YN)},t.prototype.scrollBackOver=function(){var e=this;e.addEventListener(eui.tep,e.__closeHandker,e),egret.Tween.get(e).wait(1500).call(e.packupIcon,e)},Object.defineProperty(t.prototype,"backScrollRect",{set:function(e){},enumerable:!0,configurable:!0}),t.prototype.packupIcon=function(){var e=this,t=App.FT.getStageWidth();egret.Tween.get(e).to({horizontalCenter:t/2+e.width/2},300,egret.Ease.backInOut).call(e.dispose,e)},t.prototype.__closeHandker=function(e){this.packupIcon()},t.prototype.dispose=function(){var e=this;e.removeEventListener(eui.tep,e.__closeHandker,e),App.HA.unRegisteEnterFrame2(e.__checkMapScene,e),egret.Tween.removeTweens(e),e.playing=!1,egret.Tween.removeTweens(e),e.parent&&e.parent.removeChild(e)},t._instance=null,t}(BaseUI);__reflect(ChapterIncomeBar.prototype,"ChapterIncomeBar");var CommonDynamicFrame=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$e("CommonEffectFrame")},t.prototype.viewY=function(){return 63},t.prototype.frameButtonClz=function(){return FrameEffectButton},t}(CommonFrame);__reflect(CommonDynamicFrame.prototype,"CommonDynamicFrame");var CommonEffectFrame=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getSkinName=function(){return RRUU.$e("CommonEffectFrame")},t.prototype.viewY=function(){return 63},t.prototype.frameButtonClz=function(){return FrameEffectButton},t}(CommonFrame);__reflect(CommonEffectFrame.prototype,"CommonEffectFrame");var CultProgressBar=function(e){function t(){var t=e.call(this)||this;return t.lz=2,t.jro=!1,t.ce=!1,t.ej=!1,t.initView(),t}return __extends(t,e),t.prototype.initView=function(){this.slideDuration=0},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){var e=this;Nvm.instance.unRegisteEnterFrame(e.xk,e)},t.prototype.initData=function(){},t.prototype.init=function(){var e=this;Nvm.instance.unRegisteEnterFrame(e.xk,e),e.value=0,e.op=0,e.jro=!1,e.ce=!1,e.ej=!1,e.em=void 0},t.prototype.qc=function(){var e=this;e.ce||(e.ej?(Nvm.instance.registeEnterFrame(e.xk,e),e.ce=!0):(e.value=e.targetValue,e.ej=!0,e.oni()),e.op=e.targetValue)},t.prototype.xk=function(){var e=this;e.kx=e.value+e.rollSpeed,e.value=e.kx,e.kx>=100&&(e.jro=!1),e.kx>=e.kp&&!e.jro&&(e.value=e.targetValue,Nvm.instance.unRegisteEnterFrame(e.xk,e),e.ce=!1),e.oni()},t.prototype.oni=function(){var e=this;e.ic||(e.ic=App.KB.getUIEffect(gYq.ZV),e.ic.y=-30,e.addChild(e.ic)),e.ic.x=-78+Math.round(e.width*e.value/100)},Object.defineProperty(t.prototype,"targetValue",{get:function(){return this.kp},set:function(e){var t=this;t.kp=e||0,t.qc()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grade",{get:function(){return this.em},set:function(e){var t=this;void 0!=t.em&&(t.jro||(t.jro=e>t.em)),t.em=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rollSpeed",{get:function(){return this.lz},set:function(e){e&&(this.lz=e)},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.ic),e.ic=null},t}(eui.ProgressBar);__reflect(CultProgressBar.prototype,"CultProgressBar");var EitherOrPopUi=function(e){function t(){var n=e.call(this,"EitherOrPopUi")||this;return singleton(t._instance),t._instance=n,n.skinName=RRUU.$s("EitherOrPopUiSkin"),n.touchEnabled=!1,n.horizontalCenter=0,n.verticalCenter=0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initEvent=function(){var e=this;e.noBtn.addEventListener(eui.tep,e.__cancelClickHandler,e),e.yesBtn.addEventListener(eui.tep,e.__confirmClickHandler,e)},t.QY=function(e,t,n,i,r,a,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null);var s=this;s.instance.showDetail(e,t,n,i,r,a,o)},t.prototype.showDetail=function(e,t,n,i,r,a,o){var s=this;s.title=fvg.GVf("explore26"),s.contextLab.text=e,s.yesBtn.label=t,s.noBtn.label=n,s._confirmCall=i,s._cancelCall=o,s._thisObj=r,s._callArg=a,alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.__cancelClickHandler=function(e){var t=this,n=t._cancelCall,i=t._thisObj,r=t._callArg;t.dispose(),n&&(r?n.apply(i,r):n.call(i))},t.prototype.__confirmClickHandler=function(e){var t=this,n=t._confirmCall,i=t._thisObj,r=t._callArg;t.dispose(),n&&(r?n.apply(i,r):n.call(i))},t.prototype.dispose=function(){var e=this;e._confirmCall=null,e._thisObj=null,e.parent&&e.parent.removeChild(e)},t._instance=null,t}(BasePopUi);__reflect(EitherOrPopUi.prototype,"EitherOrPopUi");var FakeBulletinManager=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init(),t.initEvent()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;App.KF.chapter<StaticData.HIDE_BASE_CH&&ClockManager.setTimeout(e.__playFakeBulletin,this,3e5+6e4*int(5*Math.random()))},e.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.JD,e.__levelChangeHandler,e)},e.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.JD,e.__levelChangeHandler,e)},e.prototype.__levelChangeHandler=function(){App.KF.chapter>=StaticData.HIDE_BASE_CH&&GObj.$d(this)},e.prototype.__playFakeBulletin=function(){var e,t=this,n=int(4*Math.random())+1,i=Nkz.PT();switch(n){case 1:e=t.creatBulletin_1(i);break;case 2:e=t.creatBulletin_2(i);break;case 3:e=t.creatBulletin_3(i);break;case 4:e=t.creatBulletin_4(i)}e&&App.FQ.addOneChatVo(e)&&vkG.$d(UtJ.IO,e),t.init()},e.prototype.creatBulletin_1=function(e){var t=int(4*Math.random())+1,n=App.FQ.getOneChatVo();return n.op=1,n.name=e,n.text=fvg.GVf("fake1_"+t),n.rtime=App.NN.serverSecond,n},e.prototype.creatBulletin_2=function(e){var t=App.FQ.getOneChatVo();return t.op=1,t.name=e,t.text=fvg.GVf("fake2"),t.rtime=App.NN.serverSecond,t},e.prototype.creatBulletin_3=function(e){var t=App.FQ.getOneChatVo();return t.op=1,t.name=e,t.text=fvg.GVf("fake3"),t.rtime=App.NN.serverSecond,t},e.prototype.creatBulletin_4=function(e){var t=[2029015001,2032015001,2035015001,2013015001,2042015001],n=App.FQ.getOneChatVo();return n.op=1,n.name=e,n.upid=t[int(Math.random()*t.length)],n.text=fvg.GVf("fake4"),n.rtime=App.NN.serverSecond,n},e.prototype.dispose=function(){e._instance=null},e._instance=null,e}();__reflect(FakeBulletinManager.prototype,"FakeBulletinManager");var FightView=function(e){function t(){var t=e.call(this,"FightView")||this;return t.ri=!0,t.initFight(),t}return __extends(t,e),t.prototype.initFight=function(){var e=this;e.fightBg=GObj.$c(eui.Image),e.fightBg.source="game_json.fighting_png",e.addChild(e.fightBg),e.fightingView=GObj.$c(NumberView),e.fightingView.x=76,e.fightingView.y=33,e.fightingView.horizontalCenter=10,e.addChild(e.fightingView)},Object.defineProperty(t.prototype,"fightNum",{set:function(e){var t=this;t.rm===e||t.destory||(t.ri?t.rm=Nkz.RA(e):t.rm=e,hFO.instance.getNumberView(bRC.UA,t.rm.toString(),-8,t.fightingView))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowUnit",{set:function(e){this.ri=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;GObj.$d(t.fightBg),t.fightBg=null,GObj.$d(t.fightingView),t.fightingView=null,t.parent&&t.parent.removeChild(t),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FightView.prototype,"FightView");var FrameBgLayer=function(e){function t(){var n=e.call(this)||this;return singleton(t._instance),t._instance=n,n.init(),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.init=function(){var e=this;e.texture=RES.getRes("framehd_json.framehd_bg_layer_png"),e.horizontalCenter=0,e.addEvent(),e.__resizeHandler()},t.prototype.__resizeHandler=function(){var e=this,t=hCs.stageWidth/e.width,n=hCs.stageHeight/e.height,i=1;i=t>=n?Math.ceil(t):Math.ceil(n),e.scaleX=e.scaleY=i},t.prototype.addEvent=function(){var e=this;vkG.$a(HUtJ.RESIZE,e.__resizeHandler,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.RESIZE,e.__resizeHandler,e)},t.prototype.show=function(){var e=this;e.parent||App.FT.frameuiLayer.addChild(e)},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.dispose=function(){var e=this;e.removeEvent(),e.source=null,e.parent&&e.parent.removeChild(e)},t._instance=null,t}(eui.Image);__reflect(FrameBgLayer.prototype,"FrameBgLayer");var FrameEffectGroup=function(e){function t(){var t=e.call(this)||this;return t._frameType=KqZ.CI,t}return __extends(t,e),t.prototype.openEffectComplete=function(){},t.prototype.addEffect=function(){QycO.NK},t.prototype.dispose=function(){var t=this;t._rabbitEff&&egret.Tween.removeTweens(t._rabbitEff),GObj.$d(t._rabbitEff),t._rabbitEff=null,e.prototype.dispose.call(this)},t}(FrameGroup);__reflect(FrameEffectGroup.prototype,"FrameEffectGroup");var FunnyFrameButton=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ou,e),vkG.$a(UtJ.PP,e.qf,e),vkG.$a(UtJ.PT,e.hg,e),vkG.$a(UtJ.IU,e.jb,e),vkG.$a(UtJ.SQ,e.jb,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ou,e),vkG.$r(UtJ.PP,e.qf,e),vkG.$r(UtJ.PT,e.hg,e),vkG.$r(UtJ.IU,e.jb,e),vkG.$r(UtJ.SQ,e.jb,e)},t.prototype.qf=function(e){this.ll()},t.prototype.hg=function(e){e&&(e.indexOf(6)>=0||e.indexOf(7)>=0)&&this.ll()},t.prototype.jb=function(e){var t=this,n=t.viewDat.data.ok_h||{};1!=e||!n||10018!=n.type&&10021!=n.type||t.ll()},t.prototype.ll=function(){var e=this,t=e.viewDat.data.ok_h||{};usable(t.backicon)?(e.selIcon=kLM.NK(t.backicon),e.unselIcon=kLM.JI(t.backicon)):(e.selIcon=e.viewDat.selIcon,e.unselIcon=e.viewDat.unselIcon),e.__redPointHandler()},t.prototype.__redPointHandler=function(){var e=this,t=e.viewDat.data.ok_h||{};e.icon=t.hasReceiveBag?StaticData.GHj:""},t.prototype.ou=function(e){this.dispose()},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(FrameEffectButton);__reflect(FunnyFrameButton.prototype,"FunnyFrameButton");var GoodsAttributeRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("GoodsAttributeRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dataChanged=function(){var e=this,t=e.data;t?(e.attrTitleTxt.text=t.title,e.attrContentTxt.textFlow=LgRe.OQ(t.content)):(e.attrTitleTxt.text="",e.attrContentTxt.textFlow=[]),e.attrContentTxt.height=e.attrContentTxt.textHeight,e.height=e.attrContentTxt.y+e.attrContentTxt.height+5},t}(BaseItemRenderer);__reflect(GoodsAttributeRenderer.prototype,"GoodsAttributeRenderer");var GoodsDetailsPopUi=function(e){function t(){var n=e.call(this,"GoodsDetailsPopUi")||this;return n.skinName=RRUU.$s("GoodsDetailsPopUi"),singleton(t._instance),t._instance=n,n.horizontalCenter=0,n.verticalCenter=0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.minBtn.label="-10",e.maxBtn.label="+10",e.sellBtn.label=fvg.GVf("415"),e.goodsItem.showNumTxt=!1,e.attrData=GObj.$c(eui.ArrayCollection),e.attrDataGroup.dataProvider=e.attrData,e.attrDataGroup.itemRenderer=GoodsAttributeRenderer},t.prototype.initEvent=function(){var e=this;e.sellBtn.addEventListener(eui.tep,e.__sellBtnClickHandler,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e)},t.prototype.addStageEvent=function(){var e=this;hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,e.__btnUpHandler,e),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,e.__btnUpHandler,e),vkG.$a(UtJ.DV,e.__goodsUpdatHandler,e)},t.prototype.removeStageEvent=function(){var e=this;hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.__btnUpHandler,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.__btnUpHandler,e),vkG.$r(UtJ.DV,e.__goodsUpdatHandler,e),Nvm.instance.unRegisteEnterFrame(e.__enterFrameHandler,e)},t.prototype.initData=function(){var e=this;e.clear(),e.updateView()},t.prototype.__closeFrameHandler=function(e){this.dispose()},t.prototype.__btnDownHandler=function(e){var t=this;if(!t.btnDown){t.btnDown=!0,t.downTime=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.step=10;break;case t.minBtn:t.step=-10;break;case t.addBtn:t.step=1;break;case t.removeBtn:t.step=-1}Nvm.instance.registeEnterFrame(t.__enterFrameHandler,t)}},t.prototype.__btnUpHandler=function(e){var t=this;t.btnDown&&(t.btnDown=!1,t.downTime<10&&(t.Gep+=t.step,t.wNG()),Nvm.instance.unRegisteEnterFrame(t.__enterFrameHandler,t))},t.prototype.__enterFrameHandler=function(){var e=this;e.btnDown&&(e.downTime++,e.downTime%10==0&&(e.Gep+=e.step,e.wNG()))},t.prototype.__sellBtnClickHandler=function(e){var t=this;if(t._goodsData&&t._goodsTemp)if(1==t.btnState){if(2!=t._goodsData.btype){var n=t._goodsData.canWear;n?MessageTipManager.instance.show(n):GoodsMsgProxy.QA(t._goodsData.btype,t._goodsData.id,t._goodsTemp.tid)}t.dispose()}else if(2==t.btnState){if(t._goodsData.masterType==Iwrv.GK)if(t._goodsTemp.p2>0){var i=App.FK.hsx(t._goodsTemp.p2);if(i<t.Gep)return _JDW.TR(t._goodsTemp.p2,t.Gep-i),void t.dispose()}else{if(t._goodsTemp.p3>0&&App.XT.vipInfo.vipGrade<t._goodsTemp.p3)return void MessageTipManager.instance.show(fvg.GVf("439"));if(t._goodsData.sonType==Iwrv.TN){var r=XCA.CS(t._goodsTemp.p1);if(!r)return;if(r.grade>=MaxLevel.APPELL_MAX_LEVEL)return void App.TT.show(fvg.GVf("renown7"))}else if(QNV.ZT(t._goodsTemp.tid)){var a=t._goodsTemp.p1,o=!0,s=0;if(1==a?(o=App.KF.head[t._goodsTemp.p4]?!1:!0,s=4):(o=App.KF.frame[t._goodsTemp.p4]?!1:!0,s=5),!o)return void MessageTipManager.instance.show(fvg.GVf("45"+s))}}else if(QNV.OJ(t._goodsTemp.tid))return App.VS.openMain(10122),void t.dispose();GoodsMsgProxy.TI(t._goodsData.id,t.Gep)}else if(3==t.btnState){var p=aKF.QV(t._goodsData.quality),l=fvg.GVf("bag1",p,t._goodsTemp.name);Alert.WK(l,null,null,t.__sellBtnHandler,t)}},t.prototype.__sellBtnHandler=function(){var e=this;GoodsMsgProxy.BB(e._goodsData.id,e.Gep)},t.prototype.__goodsUpdatHandler=function(e){var t=this;if(e&&e.indexOf(t._goodsData.id)>=0){var n=GxD.instance.getnlwjByGoodsId(t._goodsData.id);n&&n.count>0?(t.maxCount=n.count,t.goodsCountTxt.text=fvg.GVf("414",t.maxCount),t.wNG()):t.dispose()}},t.prototype.showGoodsDetails=function(e,t){void 0===t&&(t=!0);var n=this;e&&(n._goodsData=e,n._canSell=t,n.updateView(),n.addStageEvent(),n.show())},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.updateView=function(){var e=this;if(e.CSo&&e._goodsData){e._goodsTemp=e._goodsData.TSF,e.goodsItem.data=e._goodsData,e.goodsNameTxt.text=e._goodsTemp.name,e.goodsNameTxt.textColor=aKF.DU(e._goodsData.quality),e.qualityBg.texture=aKF.QQ(e._goodsData.quality),e.goodsLevelTxt.text=fvg.GVf("413",e._goodsTemp.needgrade),e.maxCount=e._goodsData.count,e._goodsData.id>0&&(e.goodsCountTxt.text=fvg.GVf("414",e.maxCount)),e.attrData.source.splice(0,e.attrData.source.length),e.getEquipAttr(e.attrData.source,e._goodsTemp);var t=0;e.attrData.source.push({title:fvg.GVf("416"),content:e._goodsTemp.desc}),e.btnState=e._goodsTemp.p8||0;var n=e._goodsData;1==e.btnState?(e.getEquipRandomAttr(e.attrData.source,n),e.sellBtn.label=fvg.GVf("appell1"),e.goodsCountTxt.text=fvg.GVf("public018",e._goodsTemp.p2),e._goodsTemp.step>0?QNV.isSpiritEquipGoods(e._goodsTemp.tid)?e.goodsLevelTxt.text=fvg.GVf("spirit20",e._goodsTemp.step):e.goodsLevelTxt.text=fvg.GVf("431",App.JP.getTurnupName(e._goodsTemp.step)):e.goodsLevelTxt.text=fvg.GVf("public013",e._goodsTemp.needgrade)):(usable(e._goodsTemp.outsrc)&&e.attrData.source.push({title:fvg.GVf("417"),content:e._goodsTemp.outsrc}),3==e.btnState?(e.attrData.source.push({title:fvg.GVf("419"),content:fvg.GVf("420",e._goodsTemp.sellgold)}),e.sellBtn.label=fvg.GVf("415")):2==e.btnState?(e.sellBtn.label=fvg.GVf("418"),e._goodsData.masterType==Iwrv.GK&&e._goodsTemp.p2&&(t=App.FK.hsx(e._goodsTemp.p2))):e._canSell=!1);var i=App.FK.getGradeByGid(e._goodsData.tid);if(-1==i)e.labelImg.visible=!1;else{var r=i>0?1:0;e.labelImg.texture=RES.getRes("core_json.core_state_"+r+"_png"),e.labelImg.visible=!0}e.sellGroup.visible=e._canSell;var a=e.height;e.height=Math.max(350,a),e.attrData.refresh(),e.Gep=t||e.maxCount,e.wNG()}},t.prototype.wNG=function(){var e=this;e.Gep>=e.maxCount&&(e.Gep=e.maxCount),e.Gep<=0&&(e.Gep=1),e.countTxt.text=e.Gep.toString()},t.prototype.getEquipAttr=function(e,t){if(t&&t.p1&&this._goodsData.sonType!=Iwrv.EZ){var n=XCA.YV(t.p1);if(n){var i="",r=xxf.UK;
for(var a in r)n[a]&&(i.length>0&&(i+="\n"),i+=r[a]+": +"+n[a]);r=xxf.IM;for(var a in r)n[a]&&(i.length>0&&(i+="\n"),i+=r[a]+": +"+n[a]/10+"%");e.push({title:"",content:i})}}},t.prototype.getEquipRandomAttr=function(e,t){if(t&&t.p6&&!(t.p6.length<=0)){var n=Nkz.EW(toChars(t.p6));if(n.sort(LRJ.DV),n&&n.length){for(var i,r,a,o=n.length,s="",p="",l=0;o>l;l++)i=n[l],i&&(r=XCA.YV(parseInt(i[1])),s=this.getRandomAttrAsStringByAttrId(parseInt(i[1]),!1,!1,parseInt(i[0])),parseInt(i[2])>0?(a=XCA.EN(parseInt(i[2])),p+=fvg.GVf("store060",s)+"\n"):p+=fvg.GVf("store061",s)+"\n");e.push({title:fvg.GVf("store062"),content:p})}}},t.prototype.getRandomAttrAsStringByAttrId=function(e,t,n,i,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0),void 0===r&&(r=1);var a=XCA.YV(e);if(!a)return null;var o=xxf.UK,s="",p=0;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=o[l]+" +0":n?s+=fvg.GVf("skill006"):(p=a[l],isNaN(i)||(p=Math.round(p+p*i)),s+=o[l]+" +"+Math.round(p*r)));o=xxf.IM;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=o[l]+" +0%":n?s+=fvg.GVf("skill006"):(p=a[l],i>0&&(p=Math.round(p*i)),s+=o[l]+" +"+p/10*r+"%"));return s},t.prototype.clear=function(){var e=this;e.goodsItem.data=null,e.goodsNameTxt.text="",e.goodsLevelTxt.text="",e.goodsCountTxt.text="",e.countTxt.text="",e.maxCount=0,e.Gep=0},t.prototype.dispose=function(){var e=this;e.clear(),e.removeStageEvent(),e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(GoodsDetailsPopUi.prototype,"GoodsDetailsPopUi");var GoodsItemRenderer=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("GoodsItemRendererSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.is,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.is,e)},t.prototype.is=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;e.item.data=e.data},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.item),t.item=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GoodsItemRenderer.prototype,"GoodsItemRenderer");var GoodsItemView=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.touchEnabled=!0,t.iconDisplay.touchEnabled=!0},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.bs,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.bs,e)},t.prototype.bs=function(e){var t=this;t._data&&App.FK.showGoodsDetails(t._data,!1)},t.prototype.updateCount=function(){this.updateNumTxt()},t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),e.prototype.dispose.call(this))},t}(BaseItemView);__reflect(GoodsItemView.prototype,"GoodsItemView");var GourmetGoodsBar=function(e){function t(){var n=e.call(this,"GourmetGoodsBar")||this;return n.MIN_WIDTH=14,n.MAX_WIDTH=355,n.QUEUE_MAX=12,n.SHOW_MAX_NUM=3,singleton(t._instance),t._instance=n,n.skinName=RRUU.$s("GourmetGoodsBarSkin"),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.bottom=100,e.itemArr=[];for(var t=0;t<e.SHOW_MAX_NUM;t++)e.itemArr[t]=GObj.$c(BaseItemView),e.itemArr[t].data=GObj.$c(nlwj);e.goodsQueueArr=[],e.playing=!1,e.touchEnabled=e.touchChildren=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ._FG,e.__rewardGoodsUpdateHandler,e)},t.prototype.__rewardGoodsUpdateHandler=function(e){var t=this;if(e&&0!=e.length){for(var n=0;n<e.length;n++)t.goodsQueueArr.push(e[n]);t.goodsQueueArr.length>t.QUEUE_MAX&&t.goodsQueueArr.splice(0,t.goodsQueueArr.length-t.QUEUE_MAX),t.show()}},t.prototype.show=function(){var e=this;if(!e.playing&&0!=e.goodsQueueArr.length){e.playing=!0,e.goodsQueueArr.length>e.SHOW_MAX_NUM?e.playGoods=e.goodsQueueArr.splice(0,e.SHOW_MAX_NUM):e.playGoods=e.goodsQueueArr.splice(0,e.goodsQueueArr.length);for(var t,n,i=0;i<e.playGoods.length;i++)t=e.itemArr[i],n=t.data,n.tid=e.playGoods[i].tid,n.count=e.playGoods[i].count,n.p1=e.playGoods[i].p1,t.data=n,e.itemGroup.addChild(t);var r=App.FT.getStageWidth();e.horizontalCenter=-(r/2+e.width),egret.Tween.get(e).to({horizontalCenter:0},300,egret.Ease.backInOut).call(e.scrollBackOver,e),e.parent||App.FT.addToLayer(this,alvJ.YN)}},t.prototype.scrollBackOver=function(){var e=this;egret.Tween.get(e).wait(700).call(e.waitOver,e)},t.prototype.waitOver=function(){var e=this,t=App.FT.getStageWidth();egret.Tween.get(e).to({horizontalCenter:t/2+e.width/2},300,egret.Ease.backInOut).call(e.packupBack,e)},t.prototype.packupBack=function(){var e=this;e.dispose(),egret.Tween.get(e).wait(600).call(e.playNext,e)},t.prototype.playNext=function(){var e=this;egret.Tween.removeTweens(e),e.playing=!1;var t=App.FT.getStageWidth();e.horizontalCenter=-(t/2+e.width),e.show()},t.prototype.dispose=function(){var e=this;egret.Tween.removeTweens(e),e.itemGroup.removeChildren();var t=App.FT.getStageWidth();e.horizontalCenter=-(t/2+e.width),e.parent&&e.parent.removeChild(e)},t._instance=null,t}(BaseUI);__reflect(GourmetGoodsBar.prototype,"GourmetGoodsBar");var ImageIcon=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this.mx},set:function(e){this.bz(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"icon",{get:function(){return this.mx},set:function(e){this.bz(e)},enumerable:!0,configurable:!0}),t.prototype.bz=function(e){var t=this;t.mx!=e&&(t.mx&&typeof e==GConst.TOF_STR&&App.TE.clearIcon(t.mx,t.hn,t),t.mx=e,t.texture=null,e&&(typeof e==GConst.TOF_STR?App.TE.getIcon(e,t.hn,t):t.texture=e))},t.prototype.hn=function(e,t){var n=this;n.mx==t&&(n.texture=e,n.tm&&n.tm.call(n.qg))},t.prototype.loadCompleteCall=function(e,t){var n=this;n.tm=e,n.qg=t},t.prototype.dispose=function(){var e=this;e.mx&&typeof e.mx==GConst.TOF_STR&&App.TE.clearIcon(e.mx,e.hn,e),e.tm=null,e.qg=null,e.mx=null,e.texture=null,e.parent&&e.parent.removeChild(e)},t}(eui.Image);__reflect(ImageIcon.prototype,"ImageIcon");var JumpView=function(e){function t(){var t=e.call(this,"JumpView")||this;return t.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),t}return __extends(t,e),t.prototype.dataUpdated=function(){var e=this.viewData;if(e){var t=e.openData;if(t){var n=t.jumpViewid;App.VS.openMain(n)}}},t}(BaseView);__reflect(JumpView.prototype,"JumpView");var MessageTipManager=function(e){function t(){var n=e.call(this,"MessageTipManager")||this;singleton(t._instance),t._instance=n;var i=RRUU.$s("MessageTipManagerSkin");return n.skinName=i,n.touchEnabled=n.touchChildren=!1,n.horizontalCenter=0,n.verticalCenter=-80,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.show=function(e){var t=this;egret.Tween.removeTweens(t.contentGroup),t.contentGroup.y=80,t.contentGroup.alpha=0,t.msgTxt.text=e,egret.Tween.get(t.contentGroup).to({y:30,alpha:1},150,egret.Ease.sineInOut).call(t.tweenOver,t),t.parent||alvJ.instance.addToLayer(this,alvJ.YN)},t.prototype.tweenOver=function(){var e=this;egret.Tween.get(e.contentGroup).wait(1e3).to({y:-20,alpha:0},150,egret.Ease.sineIn).call(e.hide,e)},t.prototype.hide=function(){var e=this;egret.Tween.removeTweens(e.contentGroup),e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(MessageTipManager.prototype,"MessageTipManager");var global=window||{};global.msgTip=msgTip;var NewGoodsEffectPopUI=function(e){function t(){var t=e.call(this,"NewGoodsEffectPopUI")||this;return t.ma=5,t["do"]=!1,t.skinName=RRUU.$s("NewGoodsEffectPopUI"),t.horizontalCenter=0,t.verticalCenter=-50,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.db=[],e.goodViewList=[],e._q=App.KB.getUIEffect(gYq.FS),e._q.stop(),e._q.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.tv,e),vkG.$a(HUtJ.HEARTBEAT,e.sl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.tv,e),vkG.$r(HUtJ.HEARTBEAT,e.sl,e)},t.prototype.initData=function(){!this.CSo},t.prototype.jx=function(){var e=this;if(e.CSo){e.db.length>5?(e.itemScroller.height=160,e.bgImg.height=271):(e.bgImg.height=191,e.itemScroller.height=90);var t;e.itemGroup.removeChildren();for(var n,i=0;i<e.db.length;i++)t=GObj.$c(GoodsItemView),n=GObj.$c(nlwj),n.tid=e.db[i].tid,n.count=e.db[i].count,t.data=n,e.goodViewList.push(t),t.visible=!1,e.itemGroup.addChild(t);e.ne();var r=e.db.length;r>5&&(r=5),e.itemScroller.x=(546-72*r-14*(r-1))/2}},t.prototype.ne=function(){var e=this;if(e.CSo&&!e["do"]){for(var t=0;t<e.goodViewList.length;t++)if(!e.goodViewList[t].visible)return e.goodViewList[t].visible=!0,e._q.x=e.goodViewList[t].x-e.goodViewList[t].width/2,e._q.y=e.goodViewList[t].y-e.goodViewList[t].height/2,e._q.play(1),e.itemGroup.addChild(e._q),(t+1)%5==1&&e.avg(t/5-1),void ClockManager.setTimeout(e.ne,this,150);e._q.stop(),e._q.visible=!1,e["do"]=!0}},t.prototype.sl=function(){var e=this;e.ma&&(e.ma--,e.ma<=0&&GObj.$d(e))},t.prototype.avg=function(e){var t=this;if(e&&!(0>=e)&&!t.destory&&t.itemScroller&&t.itemScroller.viewport&&!(t.itemScroller.viewport.contentHeight<=t.itemScroller.height)){t.itemScroller.viewport.validateNow();var n=t.itemScroller.viewport.contentHeight-t.itemScroller.height,i=80*(e||0);i>n&&(i=n),t.itemScroller.viewport.scrollV=i}},t.prototype.tv=function(e){var t=this;if(t["do"]);else{t["do"]=!0;for(var n=0;n<t.goodViewList.length;n++)t.goodViewList[n].visible=!0;t._q.stop(),t._q.visible=!1,t["do"]=!0}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.db=e[0]),n.jx()},t.prototype.show=function(){App.FK.isOpen=!0,alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.itemScroller),t.itemScroller=null,GObj.$d(t.bgImg),t.bgImg=null,t.goodViewList){for(var n=0;n<t.goodViewList.length;n++)GObj.$d(t.goodViewList[n]);t.goodViewList.length=0}App.FK.isOpen=!1,e.prototype.dispose.call(this)},t}(PopUI);__reflect(NewGoodsEffectPopUI.prototype,"NewGoodsEffectPopUI");var _JDW=function(e){function t(){var t=e.call(this,"OutputFrame")||this;return t.skinName=RRUU.$s("_JDWSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemList=[],e.titleLab.text=fvg.GVf("output1"),e.priceDescLab.text=fvg.GVf("output2"),e.buyBtn.label=fvg.GVf("shop6"),e._goodsInfo=GObj.$c(nlwj),e._goodsItem=GObj.$c(GoodsItemView),e._goodsItem.x=157,e._goodsItem.y=59,e.addChild(e._goodsItem)},t.prototype.initData=function(){},t.prototype.__buyClickHandler=function(e){var t=this;if(t.data){var n=parseInt(t.countIpt.text)||0;if(!(0>=n)){var i=t.data.price||0;if(i*=n,App.KF.point<i)return void MessageTipManager.instance.show(fvg.GVf(8));ShopMsgProxy.LR(t.data.shopid,n),GObj.$d(t)}}},t.prototype.wNG=function(){var e=this;if(e.data){e.Gep>=e.maxCount&&(e.Gep=e.maxCount),e.Gep<=0&&(e.Gep=1),e.countIpt.text=e.Gep+"/"+e.maxCount;var t=e.data.price||0;t*=e.Gep,App.KF.point<t?e.priceLab.textColor=Color.KA:e.priceLab.textColor=Color.XB,e.priceLab.text=t.toString()}},t.prototype.show=function(e,t,n){var i=this;i.data=t,i._goodsInfo.tid=e,i._goodsInfo.count=1;var r=290;if(i.data.shopid){var a=App.IQ.getShopGoodsByShopId(i.data.shopid);a&&(i._goodsInfo.count=a.count),i.priceLab.text=t.price,i.maxCount=999,i.Gep=Math.ceil(n/i._goodsInfo.count),i.wNG()}else i.buyGroup.parent&&i.buyGroup.parent.removeChild(i.buyGroup),r=164;if(i._goodsItem.data=i._goodsInfo,i.data.way&&Array.isArray(i.data.way)){i._wayImg||(i._wayImg=GObj.$c(egret.Bitmap),i._wayImg.texture=RES.getRes("way_title_png"),i._wayImg.x=.5*(i.width-i._wayImg.width),i._wayImg.y=r),r+=36,i.addChild(i._wayImg);for(var o=i.data.way,s=o.length,p=void 0,l=void 0,c=void 0,u=0;s>u;u++)l=o[u],c=l.chapter||0,App.KF.chapter<c||(p=GObj.$c(OutputItem,l),p.y=r,p.x=20,i._itemList.push(p),i.addChild(p),r+=80)}r+=10,i.height=r,alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.__closeHandler=function(){vkG.$d(UtJ.JE)},t.TR=function(e,n){void 0===n&&(n=1);var i=this;if(i._cacheObj||(i._cacheObj=RES.getRes("output_json"),i._cacheObj)){var r=i._cacheObj[e];return r?void GObj.$c(t).show(e,r,n):void MessageTipManager.instance.show(fvg.GVf("public015"))}},t.prototype.initEvent=function(){var e=this;hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,e.__btnUpHandler,e),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,e.__btnUpHandler,e),e.buyBtn.addEventListener(eui.tep,e.__buyClickHandler,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.delBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),vkG.$a(UtJ.UD,e.__closeHandler,e)},t.prototype.removeEvent=function(){var e=this;hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.__btnUpHandler,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.__btnUpHandler,e),e.buyBtn.removeEventListener(eui.tep,e.__buyClickHandler,e),e.minBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.maxBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.addBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),e.delBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__btnDownHandler,e),vkG.$r(UtJ.UD,e.__closeHandler,e)},t.prototype.__btnDownHandler=function(e){var t=this;if(!t.btnDown){t.btnDown=!0,t.downTime=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.step=10;break;case t.minBtn:t.step=-10;break;case t.addBtn:t.step=1;break;case t.delBtn:t.step=-1}Nvm.instance.registeEnterFrame(t.__enterFrameHandler,t)}},t.prototype.__btnUpHandler=function(e){var t=this;t.btnDown&&(t.btnDown=!1,t.downTime<10&&(t.Gep+=t.step,t.wNG()),Nvm.instance.unRegisteEnterFrame(t.__enterFrameHandler,t))},t.prototype.__enterFrameHandler=function(){var e=this;e.btnDown&&(e.downTime++,e.downTime%10==0&&(e.Gep+=e.step,e.wNG()))},t.prototype.dispose=function(){var n=this;Nvm.instance.unRegisteEnterFrame(n.__enterFrameHandler,n),n.removeEvent(),GObj.$d(this.frameGroup),this.frameGroup=null,GObj.$d(n.buyBtn),n.buyBtn=null,GObj.$d(n.delBtn),n.delBtn=null,GObj.$d(n.addBtn),n.addBtn=null,GObj.$d(n.titleLab),n.titleLab=null,GObj.$d(n.priceDescLab),n.priceDescLab=null,GObj.$d(n.countIpt),n.countIpt=null,GObj.$d(n._goodsItem),n._goodsItem=null,GObj.$d(n._wayImg),n._wayImg=null,GObj.$d(n._itemList),n._itemList=null,GObj.$d(n.buyGroup),n.buyGroup=null,GObj.$d(n.minBtn),n.minBtn=null,GObj.$d(n.maxBtn),n.maxBtn=null,n.data=null,n._goodsInfo=null,t._cacheObj=null,e.prototype.dispose.call(this)},t._cacheObj=null,t}(BaseUI);__reflect(_JDW.prototype,"_JDW");var OutputItem=function(e){function t(t){var n=e.call(this,"OutputItem")||this;return n.ro=t,n.skinName=RRUU.$s("OutputItemSkin"),n.touchEnabled=!1,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ro&&(e._iconImg=GObj.$c(ImageIcon),e._iconImg.horizontalCenter=-120,e._iconImg.y=3,e._iconImg.source=PATH.HO+e.ro.icon+FileConst.png,e.addChild(e._iconImg),e.gotoBtn.label=fvg.GVf(103),e.nameLab.text=e.ro.name,e.ap())},t.prototype.ap=function(){var e=this;if(e.ro){var t=e.ro.vid;if(!t)return e.ay(),void e.je();var n=App.GP.getOpenUIDataTvoByVid(t),i={text:""},r=rRcz.O_({openData:n},!1,i);r?e.je():(e.levelLab.text=i.text,e.ay())}},t.prototype.ay=function(){var e=this;e.gotoBtn.parent&&e.gotoBtn.parent.removeChild(e.gotoBtn)},t.prototype.je=function(){var e=this;e.levelLab.parent&&e.levelLab.parent.removeChild(e.levelLab)},t.prototype.initData=function(){},t.prototype.hq=function(e){var t=this;if(t.ro){var n=t.ro.vid;if(!isNaN(n)){if(t.bj(n))return;return void(App.VS.open(n)&&vkG.$d(UtJ.UD))}switch(vkG.$d(UtJ.UD),n){case"RaidPopUi":rRcz.VH();break;case"SmeltingPopUi":rRcz.FG()}}},t.prototype.bj=function(e){return 10089!==e||App.MG.getFirstChargeState()?!1:(rRcz.SZ(),vkG.$d(UtJ.UD),!0)},t.prototype.initEvent=function(){var e=this;e.gotoBtn.addEventListener(eui.tep,e.hq,e)},t.prototype.removeEvent=function(){var e=this;e.gotoBtn.removeEventListener(eui.tep,e.hq,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.levelLab),t.levelLab=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,GObj.$d(t._iconImg),t._iconImg=null,t.ro=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(OutputItem.prototype,"OutputItem");var PopGroup=function(e){function t(){var t=e.call(this)||this;return t._destory=!1,t._skinComplete=!1,t.once(egret.Event.COMPLETE,t.__skinCompleteHandler,t),t._frameType=KqZ.NW,t.verticalCenter=0,t}return __extends(t,e),t.prototype.__skinCompleteHandler=function(e){var t=this;if(!t._skinComplete){if(t._destory)return void t.dispose();t._skinComplete=!0,t.init(),t.initEvent(),t.initData()}},Object.defineProperty(t.prototype,"openTip",{set:function(e){var t=this;t._openTip=e,t.updateCloseTip()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{set:function(e){var t=this;t._val=e,t.updateTitle()},enumerable:!0,configurable:!0}),t.prototype.updateTitle=function(){var e=this;e.titleName&&(e.titleName.text=e._val)},t.prototype.updateCloseTip=function(){var e=this;e.closeTip&&(e.closeTip.visible=e._openTip)},t.prototype.initEvent=function(){var e=this;e.returnBtn&&e.returnBtn.addEventListener(eui.tep,e.__closeClickHandler,e),vkG.$a(UtJ.JE,e.__closeClickHandler,e)},t.prototype.removeEvent=function(){var e=this;e.returnBtn&&e.returnBtn.removeEventListener(eui.tep,e.__closeClickHandler,e),vkG.$r(UtJ.JE,e.__closeClickHandler,e)},t.prototype.initData=function(){},t.prototype.init=function(){var e=this;if(e.titleDisplay){var t=e.titleDisplay.source;typeof t==GConst.TOF_STR?usable(t)&&RES.getResAsync(t,e.__resCompleteHandler,e):e.__resCompleteHandler()}e.updateTitle(),e.updateCloseTip()},t.prototype.__resCompleteHandler=function(){var e=this;e.titleDisplay&&(e.titleDisplay.x=42+.5*(96-e.titleDisplay.width))},t.prototype.__closeClickHandler=function(){var e=this;e.parent&&GObj.$d(e.parent)},t.prototype.dispose=function(){var e=this;e.removeEvent(),e._destory=!0,GObj.$d(e.returnBtn),e.returnBtn=null,GObj.$d(e.closeTip),e.closeTip=null,GObj.$d(e.titleName),e.titleName=null,e.parent&&e.parent.removeChild(e)},t}(eui.Panel);__reflect(PopGroup.prototype,"PopGroup");var RewardsGoodsBar=function(e){function t(){var n=e.call(this,"RewardsGoodsBar")||this;return n.MIN_WIDTH=14,n.MAX_WIDTH=355,n.QUEUE_MAX=12,n.SHOW_MAX_NUM=3,singleton(t._instance),t._instance=n,n.skinName=RRUU.$s("RewardsGoodsBarSkin"),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.bottom=90,e.itemArr=[];for(var t=0;t<e.SHOW_MAX_NUM;t++)e.itemArr[t]=GObj.$c(BaseItemView),e.itemArr[t].data=GObj.$c(nlwj);e.goodsQueueArr=[],e.playing=!1,e.touchEnabled=e.touchChildren=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.KE,e.__rewardGoodsUpdateHandler,e)},t.prototype.__rewardGoodsUpdateHandler=function(e){var t=this;if(e&&0!=e.length){for(var n=0;n<e.length;n++)t.goodsQueueArr.push(e[n]);t.goodsQueueArr.length>t.QUEUE_MAX&&t.goodsQueueArr.splice(0,t.goodsQueueArr.length-t.QUEUE_MAX),t.show()}},t.prototype.show=function(){var e=this;if(!e.playing&&0!=e.goodsQueueArr.length){e.playing=!0,e.goodsQueueArr.length>e.SHOW_MAX_NUM?e.playGoods=e.goodsQueueArr.splice(0,e.SHOW_MAX_NUM):e.playGoods=e.goodsQueueArr.splice(0,e.goodsQueueArr.length);for(var t,n,i=0;i<e.playGoods.length;i++)t=e.itemArr[i],n=t.data,n.tid=e.playGoods[i].tid,n.count=e.playGoods[i].count,n.p1=e.playGoods[i].p1,t.data=n,e.itemGroup.addChild(t);var r=App.FT.getStageWidth();e.horizontalCenter=-(r/2+e.width),egret.Tween.get(e).to({horizontalCenter:0},300,egret.Ease.backInOut).call(e.scrollBackOver,e),e.parent||App.FT.addToLayer(this,alvJ.YN)}},t.prototype.scrollBackOver=function(){var e=this;egret.Tween.get(e).wait(700).call(e.waitOver,e)},t.prototype.waitOver=function(){var e=this,t=App.FT.getStageWidth();egret.Tween.get(e).to({horizontalCenter:t/2+e.width/2},300,egret.Ease.backInOut).call(e.packupBack,e)},t.prototype.packupBack=function(){var e=this;e.dispose(),egret.Tween.get(e).wait(600).call(e.playNext,e)},t.prototype.playNext=function(){var e=this;egret.Tween.removeTweens(e),e.playing=!1;var t=App.FT.getStageWidth();e.horizontalCenter=-(t/2+e.width),e.show()},t.prototype.dispose=function(){var e=this;egret.Tween.removeTweens(e),e.itemGroup.removeChildren();var t=App.FT.getStageWidth();e.horizontalCenter=-(t/2+e.width),e.parent&&e.parent.removeChild(e)},t._instance=null,t}(BaseUI);__reflect(RewardsGoodsBar.prototype,"RewardsGoodsBar");var SmallIcon=function(e){function t(){var t=e.call(this)||this;return t.qb=0,t.xc(),t}return __extends(t,e),Object.defineProperty(t.prototype,"goodsTid",{get:function(){return this.qb},set:function(e){var t=this;t.qb!==e&&(App.NG.isQQminiChannel()||e!==StaticData.TID_PLATFORM||(e=StaticData.TID_GOLD_ID),t.qb=e,t.source=kLM.PO(e))},enumerable:!0,configurable:!0}),t.prototype.xc=function(){var e=this;e.hy=GObj.$c(nlwj),e.touchEnabled=!0,e.addEventListener(eui.tep,e.oe,e)},t.prototype.oe=function(e){var t=this;t.qb&&(t.hy.tid=t.qb,App.FK.showGoodsDetails(t.hy))},t}(eui.Image);__reflect(SmallIcon.prototype,"SmallIcon");var SvipNumView=function(e){function t(){var t=e.call(this,"SvipNumView")||this;return t.initFight(),t}return __extends(t,e),t.prototype.initFight=function(){var e=this;e.svipBg=GObj.$c(eui.Image),e.svipBg.source="core_json.core_svip_png",e.addChild(e.svipBg),e.svipNumView=GObj.$c(NumberView),e.svipNumView.x=45,e.svipNumView.y=0,e.addChild(e.svipNumView)},Object.defineProperty(t.prototype,"svipNum",{set:function(e){var t=this;t.ox===e||t.destory||(t.ox=e,hFO.instance.getNumberView(bRC.LZ,t.ox.toString(),-4,t.svipNumView))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;GObj.$d(t.svipBg),t.svipBg=null,GObj.$d(t.svipNumView),t.svipNumView=null,t.parent&&t.parent.removeChild(t),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SvipNumView.prototype,"SvipNumView");var TextBack=function(e){function t(){var t=e.call(this,"TextBgImg")||this;return t.xw=0,t.initText(),t}return __extends(t,e),t.prototype.initText=function(){var e=this;e.txtBg=GObj.$c(eui.Image),e.txtBg.source="framehd_json.framehd_bgnum_4_png",e.txtBg.scale9Grid=new egret.Rectangle(10,7,3,1),e.addChild(e.txtBg),e.txtLabel=GObj.$c(eui.Label),e.txtLabel.size=16,e.txtLabel.textColor=Color.XB,e.txtLabel.horizontalCenter=0,e.txtLabel.verticalCenter=0,e.addChild(e.txtLabel),e.eu()},t.prototype.vo=function(){var e=this,t=e.txtBg;t&&!t.parent&&e.addChildAt(t,0)},t.prototype.ha=function(){var e=this,t=e.txtBg;t&&t.parent&&e.removeChild(t)},t.prototype.qx=function(){var e=this;e.xw++,e.xw>1||egret.callLater(e.eu,e)},t.prototype.eu=function(){var e=this;e.xw=0;var t=e.txtLabel;if(t){var n=t.width;n>0?e.vo():e.ha(),e.txtBg.width=n+15}},Object.defineProperty(t.prototype,"text",{get:function(){return this.zn},set:function(e){var t=this,n=t.txtLabel;n&&n.text!==e&&(n.text=e,t.qx())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textColor",{set:function(e){var t=this,n=t.txtLabel;n&&n.textColor!==e&&(n.textColor=e,t.qx())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{set:function(e){var t=this,n=t.txtLabel;n&&n.size!==e&&(n.size=e,t.qx())},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;GObj.$d(t.txtBg),t.txtBg=null,GObj.$d(t.txtLabel),t.txtLabel=null,t.parent&&t.parent.removeChild(t),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TextBack.prototype,"TextBack");var AllDayActivityView=function(e){function t(){var t=e.call(this,"AllDayActivityView")||this;return t.skinName=RRUU.$s("AllDayActivityViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=DailyActivityItemRenderer,e.descTxt.text=fvg.GVf("dailyactivity4"),e.sr()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.LE,e.sr,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.LE,e.sr,e)},t.prototype.sr=function(){var e,t=this;e=App.ZF.todayDailyActivity(),t.datas.replaceAll(e),t.datas.length>0?t.descTxt.visible=!1:t.descTxt.visible=!0},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),t.itemScroller&&(t.itemScroller.stopAnimation(),GObj.$d(t.itemScroller),t.itemScroller=null),GObj.$d(t.datas),t.datas=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(AllDayActivityView.prototype,"AllDayActivityView");var DailyActivityItemRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("DailyActivityItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.titleImg.source=kLM.MR(t.icon);var n=t.desc.split("\n");if(n.length>1?(e.timeTxt.text=n[0],e.descTxt.textFlow=LgRe.OQ(n[1])):e.timeTxt.text=t.desc,e.stateImg.source=kLM.VE(t.icon),1==t.type)e.goBtn.label=fvg.GVf("103");else{e.goBtn.label=fvg.GVf("103");var i=parseInt(t.actStart),r=parseInt(t.actEnd),a=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds();i>a?(e.goBtn.visible=!0,e.statusTxt.visible=!0,e.statusTxt.y=75,e.statusTxt.textColor=59408,e.statusTxt.text=fvg.GVf("rewardhall8",kpd.YW(i-a)),vkG.$a(HUtJ.HEARTBEAT,e.em,e)):a>=i&&r>=a?(e.goBtn.visible=!0,e.statusTxt.visible=!1):a>r&&(e.statusTxt.text=fvg.GVf("dailyactivity6"),e.goBtn.visible=!1,e.statusTxt.visible=!0,e.statusTxt.y=48,e.statusTxt.textColor=16715021)}}},t.prototype.initEvent=function(){var e=this;e.goBtn.addEventListener(eui.tep,e.nl,e),e.addEventListener(eui.RFS,e.rj,e)},t.prototype.removeEvent=function(){var e=this;e.goBtn.removeEventListener(eui.tep,e.nl,e),e.removeEventListener(eui.RFS,e.rj,e),vkG.$r(HUtJ.HEARTBEAT,e.em,e)},t.prototype.rj=function(e){this.dispose()},t.prototype.em=function(){var e=this;if(!e.destory){var t=parseInt(e.data.actStart),n=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds();e.statusTxt.text=fvg.GVf("rewardhall8",kpd.YW(t-n)),n>=t&&(e.goBtn.visible=!0,e.statusTxt.visible=!1,vkG.$r(HUtJ.HEARTBEAT,e.em,e))}},t.prototype.nl=function(){var e=this;if(e.data)return 1!==App.UY.sceneType?void msgTip(fvg.GVf("35")):void rRcz.IT(e.data.id)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.stateImg),t.stateImg=null,GObj.$d(t.statusTxt),t.statusTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(DailyActivityItemRenderer.prototype,"DailyActivityItemRenderer");var LimitActivityView=function(e){function t(){var t=e.call(this,"LimitActivityView")||this;return t.skinName=RRUU.$s("LimitActivityViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=DailyActivityItemRenderer,e.descTxt.text=fvg.GVf("dailyactivity4"),e.no()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.LE,e.no,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.LE,e.no,e)},t.prototype.no=function(){var e,t=this;e=App.ZF.todayLimitActivity(),t.datas.replaceAll(t.sortByTime(e)),t.datas.length>0?t.descTxt.visible=!1:t.descTxt.visible=!0},t.prototype.sortByTime=function(e){for(var t=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds(),n=[],i=[],r=[],a=0;a<e.length;a++){var o=parseInt(e[a].actStart),s=parseInt(e[a].actEnd);t>=o&&s>=t&&n.push(e[a]),o>t&&i.push(e[a]),t>s&&r.push(e[a])}return n.concat(i,r)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),t.itemScroller&&(t.itemScroller.stopAnimation(),GObj.$d(t.itemScroller),t.itemScroller=null),GObj.$d(t.datas),t.datas=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(LimitActivityView.prototype,"LimitActivityView");var TomorrowActivityItemRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TomorrowActivityItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.titleImg.source=kLM.MR(t.icon);var n=t.desc.split("\n");n.length>1?(e.timeTxt.text=n[0],e.descTxt.textFlow=LgRe.OQ(n[1])):e.timeTxt.text=t.desc,e.stateImg.source=kLM.VE(t.icon)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.__DNE,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.__DNE,e)},t.prototype.__DNE=function(){this.dispose()},t.prototype.dispose=function(){var t=this;
t.removeEvent(),GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.stateImg),t.stateImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TomorrowActivityItemRenderer.prototype,"TomorrowActivityItemRenderer");var TomorrowActivityView=function(e){function t(){var t=e.call(this,"TomorrowActivityView")||this;return t.skinName=RRUU.$s("TomorrowActivityViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=TomorrowActivityItemRenderer,e.descTxt.text=fvg.GVf("dailyactivity4"),e.ds()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.LE,e.ds,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.LE,e.ds,e)},t.prototype.ds=function(){var e,t=this;e=App.ZF.tomorrowActivitys(),t.datas.replaceAll(e),t.datas.length>0?t.descTxt.visible=!1:t.descTxt.visible=!0},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),t.itemScroller&&(t.itemScroller.stopAnimation(),GObj.$d(t.itemScroller),t.itemScroller=null),GObj.$d(t.datas),t.datas=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TomorrowActivityView.prototype,"TomorrowActivityView");var DirectBuyView=function(e){function t(){var t=e.call(this,"DirectBuyView")||this,n=RRUU.$s("DirectBuyView");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("oneyuan01"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.ap=GObj.$c(FigureView),e.ap.x=240,e.ap.y=340,e.addChildAt(e.ap,1),e.priceImg=e.buyBtn.priceImg,e.originalImg=e.buyBtn.originalImg},t.prototype.initData=function(){var e=this;e.gh=App.MG.directVo,e.gh&&(e.setSelectedIndex(),e.qu())},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.ce,e),vkG.$a(UtJ.PP,e.ri,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.ce,e),vkG.$r(UtJ.PP,e.ri,e)},t.prototype.ri=function(){this.sp()},t.prototype.qu=function(){var e=this;if(e.viewData){var t=e.tabType;switch(t){case 1:e.ws=1,e.fx=0;break;case 2:e.ws=2,e.fx=1;break;case 3:e.ws=3,e.fx=2;break;case 4:e.ws=4,e.fx=3;break;case 5:e.ws=5,e.fx=4;break;case 6:e.ws=6,e.fx=5}e.yp=e.gh.getBagDataBySort(e.fx+1),e.lw=e.yp.conditionList[0].value,e.rz(),e.vt(),e.cx(),e.sp()}},t.prototype.rb=function(e){this.qu()},t.prototype.cx=function(){var e=this,t=XCA.CG(IDU.GK),n=t.split(QycO.XP),i=n[e.fx],r=parseInt(i.slice(0,2)),a=parseInt(i.slice(2,5)),o=parseInt(i.slice(5)),s=FigureHelps.TS(r,a,o);s&&(FigureHelps.NW(e.ap,s.part,!1),e.ap.x=240+s.offset.x,e.ap.y=340+s.offset.y,e.vb=XCA.AQS.UFA(r,a,o||1),e.quaImg.source=kLM.WT(e.vb.qua),e.typeImg.source=kLM.JT(e.vb.qua),e.nameImg.source=kLM.SJ(parseInt(i)))},t.prototype.rz=function(){var e=this;e.priceImg.source=kLM.VA(e.lw),e.originalImg.source=kLM.AT(e.lw),e.fightImg.source=kLM.AS(e.lw)},t.prototype.ce=function(e){var t=this;App.JA.checkIncome(t.qy,t)},t.prototype.qy=function(){var e=this;if(e.gh&&e.yp)if(e.gh.isExist||msgTip(fvg.GVf("public035")),0===e.yp.status){var t=fvg.GVf("direct1",e.lw);Alert.WK(t,null,null,e.pw,this,[28])}else{if(2==e.yp.status)return void msgTip(fvg.GVf("oneyuan02"));FunnyMsgProxy.LR(e.yp.id)}},t.prototype.pw=function(e){var t=this;NXr.BP({total_fee:100*t.lw,subject:4,param3:t.yp.id})},t.prototype.vt=function(){var e=this;if(e.yp){var t,n=e.yp.rewardList,i=n.length,r=e.rewardData.source;r.length=0;for(var a=0;i>a;a++)t=GObj.$c(nlwj),t.tid=n[a].tempId,t.count=n[a].count,r.push(t);e.rewardData.source=r,e.rewardData.refresh()}},t.prototype.setSelectedIndex=function(){var e=this;if(e.yp){for(var t,n=0;6>n;n++)2!=e.yp.status&&(t=n);e.fx=t}},t.prototype.dataUpdated=function(){this.qu()},t.prototype.sp=function(){var e=this;e.yp&&(e.buyBtn.icon=null,2==e.yp.status?(e.gotImg.visible=!0,e.buyBtn.visible=!1):1==e.yp.status?(e.buyBtn.icon=StaticData.GHj,e.gotImg.visible=!1,e.buyBtn.visible=!0,e.buyBtn.getImg.visible=!0,e.priceImg.visible=!1,e.originalImg.visible=!1,e.buyBtn.lineImg.visible=!1):(e.gotImg.visible=!1,e.buyBtn.visible=!0,e.buyBtn.getImg.visible=!1,e.priceImg.visible=!0,e.originalImg.visible=!0,e.buyBtn.lineImg.visible=!0))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.gotImg),t.gotImg=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.ap),t.ap=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.fightImg),t.fightImg=null,GObj.$d(t.priceImg),t.priceImg=null,GObj.$d(t.originalImg),t.originalImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(DirectBuyView.prototype,"DirectBuyView");var MeanEffect=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.start=function(t,n,i){void 0===n&&(n=StaticData.PLAY_UI_INTERVAL),void 0===i&&(i=0),e.prototype.start.call(this,t,n,i)},t.prototype.textureData=function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=0),e&&0!=e.length&&(this._interval=t,this._loop=n,this._key&&(this._frameSize=0,GApp.effectUIChche.delCache(this._key),this._key=null),this.QWx(e,this._key))},t.getTextureArr=function(e,t){if(!e||0>=t)return null;var n=e.textureWidth/t,i=e.textureHeight,r=[];this.rect||(this.rect=GObj.$c(egret.Rectangle));for(var a=0;t>a;a++)this.rect.x=n*a,this.rect.y=0,this.rect.width=n,this.rect.height=i,r.push(BitmapUtil.drawToTexture(e,this.rect));return r},t}(EqualEffect);__reflect(MeanEffect.prototype,"MeanEffect");var MovieEffect=function(e){function t(){var t=e.call(this)||this;return t.maxCount=99,t._loop=0,t._loopCount=0,t.touchChildren=!1,t.touchEnabled=!1,t}return __extends(t,e),t.prototype.play=function(t,n,i){void 0===n&&(n=StaticData.PLAY_UI_INTERVAL),void 0===i&&(i=0),(!n||0>=n)&&(n=StaticData.PLAY_UI_INTERVAL),this.playInterval=n,this._loop=i,e.prototype.start.call(this,t,irK.B_B,i),(!i||0>=i)&&(this._loopCount=this.maxCount)},t.prototype.register=function(){App.HA.registeEnterFrame(this.update,this)},t.prototype.unregister=function(){if(this._bmpArr){for(var e=this._bmpArr.length,t=0;e>t;t++)this._bmpArr[t].texture=null;this._bmpArr.length=0}App.HA.unRegisteEnterFrame(this.update,this)},t.prototype.complete=function(){if(this._loop<=0){if(this._startTime=GApp.timer,this._loopCount=this.maxCount,this._bmpArr)for(var e=this._bmpArr.length,t=0;e>t;t++)this._bmpArr[t].texture=null}else this._loopCount--,this._loopCount<=0&&(this.unregister(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE)))},t}(SkillView);__reflect(MovieEffect.prototype,"MovieEffect");var NewGoodsUIEffect=function(e){function t(){var t=e.call(this)||this;return t.xx=.2,t.we=.2,t.da=0,t.np=0,t.xp=0,t.eo=0,t.yh=!1,t.endTime=0,t.jb(),t}return __extends(t,e),t.prototype.jb=function(){var e=this;e.touchEnabled=e.touchChildren=!1,e.li=GObj.$c(egret.Bitmap),e.li.texture=RES.getRes("core_json.new_goods_bg_png"),e.addChild(e.li),e.xz=GObj.$c(egret.TextField),e.xz.y=6,e.xz.size=16,e.xz.x=32,e.xz.width=e.li.width-63,e.xz.height=20,e.xz.textAlign=egret.HorizontalAlign.CENTER,e.xz.textColor=Color.XB,e.addChild(e.xz)},t.prototype.start=function(e,t,n,i,r){var a=this;a.endTime=GApp.timer+700,a.yh=!1,a._enterFrame=0;var o=fvg.GVf("public077")+e;n&&n>1&&(o=o+" x"+n),a.xz.text=o,a.xz.textColor=aKF.DU(t),a.da=i,a.np=r,a.x=.5*(hCs.stage.stageWidth-a.li.width),a.y=hCs.stage.stageHeight/2+160,App.FT.uiLayer.addChild(a),Nvm.instance.registeEnterFrame(a.update,a)},t.prototype.update=function(){var e=this;return e._enterFrame++,e.yh?void(e._enterFrame<=10?(e.y-=1,e.alpha-=.1):GObj.$d(e)):void(e._enterFrame<=40?(e.eo=GEase.spring(e.y,e.np,e.eo,e.xx,e.we),e.y+=e.eo):e._enterFrame>60&&GObj.$d(e))},t.prototype.end=function(){var e=this;e.yh=!0,e._enterFrame=0},t.prototype.recycle=function(){var e=this;Nvm.instance.unRegisteEnterFrame(e.update,e),e._enterFrame=0,e.yh=!1,e.alpha=1,e.parent&&e.parent.removeChild(e)},t}(UIEffect);__reflect(NewGoodsUIEffect.prototype,"NewGoodsUIEffect");var RotateEffect=function(e){function t(){var t=e.call(this)||this;return t._startTime=0,t._tempTime=0,t.la(),t}return __extends(t,e),t.prototype.la=function(){var e=this;e._bmp=GObj.$c(egret.Bitmap),e.addChild(e._bmp)},t.prototype.start=function(e,t){void 0===t&&(t=StaticData.PLAY_UI_INTERVAL);var n=this;return e||n._bmp.texture?(n._startTime=GApp.timer,e&&(n._bmp.texture=e),n._bmp.x=.5*-n._bmp.width,n._bmp.y=.5*-n._bmp.height,n._interval=int(t/20),void App.HA.registeEnterFrame(n.update,n)):void GObj.$d(n)},t.prototype.stop=function(){var e=this;App.HA.unRegisteEnterFrame(e.update,e)},t.prototype.update=function(){var e=this;e._tempTime=GApp.timer;var t=e._tempTime-e._startTime;0>t||(e.rotation=int(t/e._interval%360))},t.prototype.recycle=function(){var e=this;App.HA.unRegisteEnterFrame(e.update,e),e._enterFrame=0,e.alpha=1,e.parent&&e.parent.removeChild(e),e._bmp&&(e._bmp.texture=null,e._bmp.parent&&e._bmp.parent.removeChild(e._bmp))},t}(UIEffect);__reflect(RotateEffect.prototype,"RotateEffect");var UIEffectFactory=function(){function e(){var t=this;singleton(e._instance),e._instance=this,t.init()}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._uiEffectDic={}},e.prototype.showEffect=function(e,t,n,i){void 0===t&&(t=100),void 0===n&&(n=-25),void 0===i&&(i=130);var r=this,a=r._uiEffectDic[e];a||(a=r.getUIEffect(e,t,1),a.stop(),a.addEventListener(egret.Event.COMPLETE,r.__playCompleteHandler,r),r._uiEffectDic[e]=a),a.play(1),a.horizontalCenter=n,a.verticalCenter=i,App.FT.addToLayer(a,alvJ.YN)},e.prototype.__playCompleteHandler=function(e){var t=e.target;t&&t.parent&&t.parent.removeChild(t)},e.prototype.getUIEffect=function(e,t,n,i){void 0===t&&(t=100),void 0===n&&(n=0),void 0===i&&(i=!0);var r=GObj.$c(MeanEffect);return r.touchEnabled=r.touchChildren=!1,r.calculateRect=i,r.start(e,t,n),r},e}();__reflect(UIEffectFactory.prototype,"UIEffectFactory");var UIEffectManager=function(){function e(){this._pools={},this._callDict={},this._urlDict={},singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.getEffectSheet=function(e,t,n){var i=this;if(i._pools){var r=i._pools[e];if(r)return void(null!=t&&t.call(n,r,e));var a=i._callDict[e];if(a||(i._callDict[e]=a=[]),a.push({compFunc:t,thisObject:n}),!i._urlDict[e]){i._urlDict[e]=!0;var o=PATH.CX+e+FileConst.png;LoaderManager.instance.load(o,i.__pngLoadComplet,this,LoaderConst.PRIORITY_DEFAULT,e)}}},e.prototype.__pngLoadComplet=function(e){var t=this,n=e.args,i=e.data,r=t._callDict[n];if(r){if(!i)return void delete t._callDict[n];for(var a=gYq.NR[n]||gYq.JH,o=[],s=i.textureWidth/a,p=i.textureHeight,l=GObj.$c(egret.Rectangle),c=0;a>c;c++)l.x=s*c,l.y=0,l.width=s,l.height=p,o.push(BitmapUtil.drawToTexture(i,l));GObj.$d(l),t._pools[n]=o,t._urlDict[n]=!1;var r=t._callDict[n];if(r){for(var u=r.length,c=0;u>c;c++){var d=r[c];d.compFunc.call(d.thisObject,o,n)}delete t._callDict[n]}}},e._instance=null,e}();__reflect(UIEffectManager.prototype,"UIEffectManager");var LevelUpEffect=function(e){function t(t){var n=e.call(this,"LevelUpEffect")||this;return n.horizontalCenter=0,n.top=300,n.width=373,n.height=136,n.levelNum=t[0],n.skinComplete=!0,n.init(),n}return __extends(t,e),t.UV=function(e){var n=GObj.$c(t,[e]);App.FT.addToLayer(n,alvJ.YN,alvJ.SF)},t.prototype.initView=function(){var e=this;e.mc=GObj.$c(MovieEffect),e.mc.x=210,e.mc.y=155,e.addChild(e.mc),e.levelNumView=GObj.$c(NumberView),e.levelNumView.horizontalCenter=0,e.levelNumView.verticalCenter=30,e.addChild(e.levelNumView)},t.prototype.initEvent=function(){var e=this;e.mc.once(egret.Event.COMPLETE,e.__playEffectComplete,e)},t.prototype.initData=function(){var e=this;hFO.instance.getNumberView(bRC.CA,e.levelNum.toString(),-2,e.levelNumView),e.levelNumView.scaleX=4,e.levelNumView.scaleY=4,e.levelNumView.alpha=0,e.mc.play(gYq.PU,500,1),egret.Tween.get(e.levelNumView).wait(360).to({scaleX:1,scaleY:1,alpha:1},300,egret.Ease.backOut)},t.prototype.removeEvent=function(){},t.prototype.__playEffectComplete=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.levelNumView),t.levelNumView=null,GObj.$d(t.mc),t.mc=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(LevelUpEffect.prototype,"LevelUpEffect");var TurnupEffect=function(e){function t(t){var n=e.call(this,"TurnupEffect")||this;return n.horizontalCenter=0,n.top=300,n.grade=t[0],n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.UA=function(e){var n=GObj.$c(t,[e]);App.FT.addToLayer(n,alvJ.YN,alvJ.SF)},t.prototype.initView=function(){var e=this;e.mc=GObj.$c(MovieEffect),e.mc.x=288,e.mc.y=205,e.addChildAt(e.mc,0)},t.prototype.initEvent=function(){var e=this;e.mc.once(egret.Event.COMPLETE,e.__playEffectComplete,e)},t.prototype.initData=function(){var e=this;e.mc.play(gYq.TW,100,1),egret.Tween.get(e).wait(100).call(e.updateView,e)},t.prototype.removeEvent=function(){},t.prototype.updateView=function(){var e=this;e.updateCurrAttrs(),e.updateNextAttrs(),e.updateGroup(e.grade-1,e.lastGroup),e.updateGroup(e.grade,e.nowGroup),e.arrow1.visible=!0,e.arrow2.visible=!0},t.prototype.updateCurrAttrs=function(){var e=this;e.oTX=XCA.AQS.UFA(7,1,e.grade),e.nextTemp=XCA.AQS.UFA(7,1,e.grade+1);var t=0;t=e.oTX?e.oTX.attrid:e.nextTemp.attrid;var n,i=XCA.YV(t),r=1;if(i){for(n in xxf.UK)i[n]&&this["currAttrTxt_"+r]&&(this["currAttrTxt_"+r].text=fvg.GVf("skill004",xxf.UK[n],0==e.grade?0:i[n]),r++);for(n in xxf.IM)i[n]&&this["currAttrTxt_"+r]&&(this["currAttrTxt_"+r].text=fvg.GVf("skill004",xxf.IM[n],0==e.grade?0:(i[n]/10).toFixed(1)+"%"),r++)}},t.prototype.updateNextAttrs=function(){var e=this;if(!e.nextTemp)return e.nextAttrTxt_1.text=fvg.GVf("public014"),e.nextAttrTxt_2.text=fvg.GVf("public014"),void(e.nextAttrTxt_3.text=fvg.GVf("public014"));var t,n=e.nextTemp.attrid,i=XCA.YV(n),r=1;if(i){for(t in xxf.UK)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text=fvg.GVf("skill004",xxf.UK[t],i[t]),r++);for(t in xxf.IM)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text=fvg.GVf("skill004",xxf.IM[t],(i[t]/10).toFixed(1)+"%"),r++)}},t.prototype.updateGroup=function(e,t){var n=this;if(e>45){var i=e-45;n.turnupImg1=GObj.$c(eui.Image),n.turnupImg2=GObj.$c(eui.Image),n.turnupNumView1=GObj.$c(NumberView),t.addChild(n.turnupImg1),t.addChild(n.turnupNumView1),t.addChild(n.turnupImg2),n.turnupImg1.source="bar_json.bar_turnup_1_png",n.turnupImg2.source="bar_json.bar_turnup_2_png",hFO.instance.getNumberView(bRC.TA,i.toString(),-2,n.turnupNumView1)}else{var i=int((e-1)/5)+1,r=(e-1)%5+1;n.turnupImg1=GObj.$c(eui.Image),n.turnupImg2=GObj.$c(eui.Image),n.turnupNumView1=GObj.$c(NumberView),n.turnupNumView2=GObj.$c(NumberView),t.addChild(n.turnupNumView1),t.addChild(n.turnupImg1),t.addChild(n.turnupNumView2),t.addChild(n.turnupImg2),n.turnupImg1.source="bar_json.bar_turnup_2_png",n.turnupImg2.source="bar_json.bar_turnup_3_png",hFO.instance.getNumberView(bRC.TA,i.toString(),-2,n.turnupNumView1),hFO.instance.getNumberView(bRC.TA,r.toString(),-2,n.turnupNumView2)}},t.prototype.__playEffectComplete=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.turnupNumView1),t.turnupNumView1=null,GObj.$d(t.turnupNumView2),t.turnupNumView2=null,GObj.$d(t.turnupImg1),t.turnupImg1=null,GObj.$d(t.turnupImg2),t.turnupImg2=null,GObj.$d(t.mc),t.mc=null,GObj.$d(t.lastGroup),t.lastGroup=null,GObj.$d(t.nowGroup),t.nowGroup=null,GObj.$d(t.arrow1),t.arrow1=null,GObj.$d(t.arrow2),t.arrow2=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.currAttrTxt_3),t.currAttrTxt_3=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,GObj.$d(t.nextAttrTxt_2),t.nextAttrTxt_2=null,GObj.$d(t.nextAttrTxt_3),t.nextAttrTxt_3=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TurnupEffect.prototype,"TurnupEffect");var EliteAllianceRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("EliteAllianceRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hy,e),e.boxBtn.addEventListener(eui.tep,e.dy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hy,e),e.boxBtn.removeEventListener(eui.tep,e.dy,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.diamondNum&&(GObj.$d(e.diamondNum),e.diamondNum=null),e.yf=e.data,e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.text=""):(e.rankImg.source=null,e.rankTxt.text=toChars(e.itemIndex+1)),e.mnameTxt.text=e.yf.leagueName||fvg.GVf("rank10"),e.nameTxt.text=fvg.GVf("wushen18",e.yf.masterName||"--"),e.scoreTxt.text=fvg.GVf("elite16",e.yf.score||0))},t.prototype.dy=function(e){GObj.$c(BoxPopUi)},t.prototype.ab=function(){var e=this.itemIndex+1;return 1==e?1:e>=2&&5>=e?2:e>=6&&20>=e?3:4},t.prototype.hy=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.mnameTxt),t.mnameTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.diamondNum),t.diamondNum=null,t.yf=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(EliteAllianceRankItem.prototype,"EliteAllianceRankItem");var EliteAllianceRankView=function(e){function t(){var t=e.call(this,"EliteAllianceRankView")||this;return t.skinName=RRUU.$s("EliteAllianceRankViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("wushen14"),e.descTxt0.text=fvg.GVf("wushen31"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=EliteAllianceRankItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.vh,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.vh,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.XM);(!e||GApp.timer-e.rtime>=3e5)&&RankMsgProxy.IU(FDG.XM),this.vh(e),this.ja()},t.prototype.ja=function(){},t.prototype.vh=function(e){var t=this;if(!e||e.type==FDG.XM){t.itemScroller&&t.itemScroller.stopAnimation();for(var n=e&&e.list?e.list:[],i=20,r=[],a=0;i>a;a++)r.push(n[a]||{});t.itemData.replaceAll(r),t.myRankTxt.text=fvg.GVf("wushen16",e&&e.order?e.order:fvg.GVf("public042")),t.myScoreTxt.text=fvg.GVf("wushen17",e&&e.score?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myScoreTxt),t.myScoreTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.descTxt0),t.descTxt0=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(EliteAllianceRankView.prototype,"EliteAllianceRankView");var EliteBoxItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("EliteBoxItemViewSkin"),t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.jj=e.data,e.itemView.data=e.jj)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sz,e)},t.prototype.initView=function(){},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sz,e)},t.prototype.sz=function(){GObj.$d(this)},t.prototype.dispose=function(){var e=this;GObj.$d(e.itemView),e.itemView=null},t}(BaseItemRenderer);__reflect(EliteBoxItemView.prototype,"EliteBoxItemView");var EliteBoxPopUi=function(e){function t(){var t=e.call(this,"EliteBoxPopUi")||this;t.go=0;var n=RRUU.$s("EliteBoxPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf(104),e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemDatas,e.itemList.itemRenderer=EliteBoxItemView,e.title=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.__getClickHandler,e),e.itemList.addEventListener(egret.Event.CHANGE,e.io,e)},t.prototype.initData=function(){var e=this;e.itemList.selectedIndex=e.go},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.__getClickHandler,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.io,e)},t.prototype.__getClickHandler=function(e){var t=this;84==t.xn&&WulinLeagueMsgProxy.EH(t.tk.tid),t.dispose()},t.prototype.io=function(){var e=this;e.tk=e.itemList.selectedItem},t.prototype.yz=function(){var e=this;e.alertTxt.text=fvg.GVf(98),e.getBtn.visible=!1},t.prototype.showByKey=function(e,t,n,i,r){var a=this;if(!a.oi){a.xn=e,a.oi=!0;var o;t>=n?o=Color.TX:(o=Color.KA,a.yz());var s=fvg.GVf("elite30",o,t,n);switch(a.receiveImg.visible=!1,a.alertTxt.textColor=Color.KA,e){case 84:a.descLab.textFlow=LgRe.OQ(fvg.GVf("elite31",r,s)),a.getBtn.icon=t>=n?StaticData.GHj:null}a._itemArr=[];var p=XCA.RE(i);if(p){var l=Nkz.PI(p),c=l.length;a.itemDatas.source.splice(0,a.itemDatas.length);for(var u=0;c>u;u++){l[u];a.itemDatas.source.push(l[u])}a.itemDatas.refresh(),a.io(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)}}},t.prototype.recycle=function(){var t=this;if(t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.alertTxt),t.alertTxt=null,GObj.$d(t.receiveImg),t.receiveImg=null,GObj.$d(t.itemList),t.itemList=null,t.itemDatas=null,e.prototype.dispose.call(this),t._itemArr){for(var n=t._itemArr.length,i=0;n>i;i++)GObj.$d(t._itemArr[i]);t._itemArr.length=0}},t.prototype.dispose=function(){this.recycle()},t}(BasePopUi);__reflect(EliteBoxPopUi.prototype,"EliteBoxPopUi");var EliteChallengeBossItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("EliteChallengeBossItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.headImg=GObj.$c(ImageIcon),e.headImg.x=0,e.headImg.y=0,e.addChildAt(e.headImg,2)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.jc,e),vkG.$a(UtJ.XIX,e.ve,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.ve=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.bd=e.data,e.headImg.source=kLM.VJ(e.bd.TSF.icon),e.gm=App.MB.eliteBossInfo.bossNum||0,e.fq=App.MB.eliteBossInfo.ambit||1,e.nameLab.text=fvg.GVf("elite8",e.bd.TSF.name,e.fq),e.itemIndex<e.gm?e.dieImg.visible=!0:e.dieImg.visible=!1)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.jc,e),vkG.$r(UtJ.XIX,e.ve,e)},t.prototype.jc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.bd),t.bd=null,GObj.$d(t.dieImg),t.dieImg=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(EliteChallengeBossItem.prototype,"EliteChallengeBossItem");var EliteChallengeItem=function(e){function t(){var t=e.call(this,"EliteChallengeItem")||this;return t.qy=[],t.mr=0,t.skinName=RRUU.$s("EliteChallengeItem"),t}return __extends(t,e),t.prototype.initView=function(){this.cq=fvg.GVf("elite7").split(",")},t.prototype.initEvent=function(){var e=this;e.frameGroup.addEventListener(eui.tep,e.le,e),e.imgGroup.addEventListener(eui.tep,e.le,e),vkG.$a(UtJ.XIX,e.yi,e)},t.prototype.initData=function(){var e=this;e.CSo&&App.MB&&(e.ug=App.MB.eliteBossInfo.ambit||1,e.ug>MaxLevel.ELITE_BOSS_GRADE?(e.ug=MaxLevel.ELITE_BOSS_GRADE,e.ra=4,e.rd=1):(e.ra=App.MB.eliteBossInfo.level||1,e.rd=App.MB.eliteBossInfo.bossNum||0),e.dataChanged())},t.prototype.dataChanged=function(){var e=this;e.showBgimg(e.mr)},t.prototype.yi=function(){var e=this;e.ug=App.MB.eliteBossInfo.ambit||1,e.ug>MaxLevel.ELITE_BOSS_GRADE?(e.ug=MaxLevel.ELITE_BOSS_GRADE,e.ra=4,e.rd=1):(e.ra=App.MB.eliteBossInfo.level||1,e.rd=App.MB.eliteBossInfo.bossNum||0),e.dataChanged()},t.prototype.showBgimg=function(e){var t=this;if(t.mr=e,t.CSo){switch(e){case 3:t.bgImg.visible=!0;var n=t.bz()?"elitechallenge_json.elite_boss_border_1_png":"elitechallenge_json.elite_boss_border_2_png";t.bgImg.source=n;break;default:t.bgImg.visible=!1}t.showImg(e)}},t.prototype.showImg=function(e){var t=this;t.maskImg.visible=!1,e<t.ra-1?(t.dieImg.visible=!0,t.challengeImg.visible=!1,t.iconImg.source="elitechallenge_json.elite_"+(e+1)+"_3_png",t.pf=!1,t.ho=!0):e==t.ra-1?(t.dieImg.visible=!1,t.challengeImg.visible=!0,t.iconImg.source="elitechallenge_json.elite_"+(e+1)+"_1_png",t.pf=!0,t.ho=!1,3==e&&t.rd>0&&(t.dieImg.visible=!0,t.challengeImg.visible=!1,t.iconImg.source="elitechallenge_json.elite_"+(e+1)+"_3_png",t.pf=!1,t.ho=!0)):(t.dieImg.visible=!1,t.challengeImg.visible=!1,t.iconImg.source="elitechallenge_json.elite_"+(e+1)+"_1_png",t.maskImg.visible=!0,t.pf=!1,t.ho=!1);var n=XCA.RE("84_"+(t.mr+1)+"_"+t.ug),i=Nkz.PI(n)[0];t.itemView.data=i,t.nameLab.text=fvg.GVf("elite8",t.cq[t.mr],t.ug);var r=XCA.CG(IDU.MM),a=Nkz.LI(r);t.kn=parseInt(a[4*(t.ug-1)+(t.mr+1)]),App.JG.wuShenTowerInfo.storey-1>=t.kn?t.mr+1>t.ra?t.descLab.text=fvg.GVf("elite24",t.cq[t.mr-1]):t.descLab.text="":(t.descLab.textFlow=LgRe.OQ(fvg.GVf("elite17",t.kn)),t.dieImg.visible=!1,t.challengeImg.visible=!1),t.ug>MaxLevel.ELITE_BOSS_GRADE&&(t.descLab.text="")},t.prototype.removeEvent=function(){var e=this;e.frameGroup.removeEventListener(eui.tep,e.le,e),e.imgGroup.removeEventListener(eui.tep,e.le,e),vkG.$r(UtJ.XIX,e.yi,e)},t.prototype.le=function(){var e=this;if((App.MB.eliteBossInfo.ambit||1)>MaxLevel.ELITE_BOSS_GRADE)return void MessageTipManager.instance.show(fvg.GVf("elite22"));if(e.rx())return void MessageTipManager.instance.show(fvg.GVf("public035"));if(App.JG.wuShenTowerInfo.storey-1<e.kn)return void MessageTipManager.instance.show(fvg.GVf("elite21",e.kn));if(e.ho)return void MessageTipManager.instance.show("");if(!e.pf)return void MessageTipManager.instance.show("");switch(e.mr){case 3:App.VS.open(10059);break;default:App.VS.open(10060)}},t.prototype.bz=function(){var e=this,t=XCA.CG(IDU.MM),n=Nkz.LI(t);return e.kn=parseInt(n[4*(e.ug-1)+(e.mr+1)]),App.MB.eliteBossInfo.ambit>MaxLevel.ELITE_BOSS_GRADE?!1:e.rx()?!1:App.JG.wuShenTowerInfo.storey-1<e.kn?!1:e.ho||!e.pf?!1:!0},t.prototype.rx=function(){var e=App.JG.wuShenTowerInfo,t=(e.et||0)-App.NN.serverSecond<=0;return t},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.conditionLab),t.conditionLab=null,GObj.$d(t.dieImg),t.dieImg=null,GObj.$d(t.challengeImg),t.challengeImg=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.frameGroup),t.frameGroup=null,GObj.$d(t.imgGroup),t.imgGroup=null,GObj.$d(t.maskImg),t.maskImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(EliteChallengeItem.prototype,"EliteChallengeItem");var EliteChallengeRankingPopUi=function(e){function t(){var t=e.call(this,"EliteChallengeRankingPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.personalBtn.label=fvg.GVf("martialart54"),e.allianceBtn.label=fvg.GVf("wulinleague6"),e.descLab0.text=fvg.GVf("elite26"),e.uo=GObj.$c(kQr),e.uo.cwA(e.personalBtn),e.uo.cwA(e.allianceBtn),e.title=fvg.GVf("elite29")},t.prototype.initEvent=function(){var e=this;e.uo.addEventListener(egret.Event.CHANGE,e.uz,e)},t.prototype.removeEvent=function(){var e=this;e.uo.removeEventListener(egret.Event.CHANGE,e.uz,e),vkG.$r(HUtJ.HEARTBEAT,e.ah,e)},t.prototype.initData=function(){var e=this;e.uo.selectedIndex=0,e.yg()},t.prototype.uz=function(e){var t=this,n=t.uo.LuO;switch(t.vo&&(t.vo.visible=!1),t.vo=null,n){case t.personalBtn:t.t_||(t.t_=GObj.$c(ElitePersonRankView),t.t_.x=40,t.t_.y=65,t.addChild(t.t_)),t.vo=t.t_;break;case t.allianceBtn:t.iv||(t.iv=GObj.$c(EliteAllianceRankView),t.iv.x=28,t.iv.y=50,t.addChild(t.iv)),t.vo=t.iv}t.vo&&(t.vo.visible=!0)},t.prototype.yg=function(){var e=this;e.ju=App.JG.wuShenTowerInfo.et||0,e.ju-App.NN.serverSecond>0&&vkG.$a(HUtJ.HEARTBEAT,e.ah,e),e.ah()},t.prototype.ah=function(){var e=this;if(!e.destory){var t=e.ju-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("public035"),e.timeTxt.textColor=Color.KA,vkG.$r(HUtJ.HEARTBEAT,e.ah,e))}},t.prototype.dispose=function(){var t=this;
t.removeEvent(),GObj.$d(t.personalBtn),t.personalBtn=null,GObj.$d(t.allianceBtn),t.allianceBtn=null,GObj.$d(t.t_),t.t_=null,GObj.$d(t.iv),t.iv=null,GObj.$d(t.uo),t.uo=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descLab0),t.descLab0=null,t.vo=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(EliteChallengeRankingPopUi.prototype,"EliteChallengeRankingPopUi");var EliteChallengeView=function(e){function t(){var t=e.call(this,"EliteChallengeView")||this;return t.viewArr=[],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upgradeBtn.label=fvg.GVf("evChg03");for(var t=1;5>t;t++)e.viewArr.push(this["challenge"+t]);e.timedescLab.text=fvg.GVf("elite28")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.bz=App.JG.wuShenTowerInfo,ziI.MF("wst_grid"),t.pr(),t.no()},t.prototype.no=function(){var e=this;return e.cz>MaxLevel.ELITE_BOSS_GRADE?void(e.gradeLab.text=fvg.GVf("elite27","8")):void(e.gradeLab.text=fvg.GVf("elite27",e.cz))},t.prototype.uz=function(){for(var e,t=0;4>t;t++)e=this.viewArr[t],e.showBgimg(t)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.rankBtn.addEventListener(eui.tep,t.pm,t),t.aboutBtn.addEventListener(eui.tep,t.jb,t),t.upgradeBtn.addEventListener(eui.tep,t.nr,t),t.boxBtn.addEventListener(eui.tep,t.pz,t),vkG.$a(UtJ.XIX,t.pr,t),vkG.$a(UtJ.RU,t.ig,t)},t.prototype.removeEvent=function(){var e=this;e.rankBtn.removeEventListener(eui.tep,e.pm,e),e.aboutBtn.removeEventListener(eui.tep,e.jb,e),e.upgradeBtn.removeEventListener(eui.tep,e.nr,e),e.boxBtn.removeEventListener(eui.tep,e.pz,e),vkG.$r(UtJ.XIX,e.pr,e),vkG.$r(UtJ.RU,e.ig,e),vkG.$r(HUtJ.HEARTBEAT,e.zk,e)},t.prototype.pr=function(){var e=this;e.diaView&&(GObj.$d(e.diaView),e.diaView=null);var t=App.MB.eliteBossInfo;if(e.cz=t.ambit||1,e.px=t.level||1,e.lu=t.bossNum||0,e.no(),e.haskillLab.text=fvg.GVf("elite25"),App.MB.eliteBossInfo.ambit>MaxLevel.ELITE_BOSS_GRADE)e.boxBtn.label=fvg.GVf("elite6",MaxLevel.ELITE_BOSS_GRADE),e.boxBtn.descLab.text=fvg.GVf("112",4,4),e.boxBtn.descLab.textColor=Color.TX,e.upgradeBtn.visible=e.descLab.visible=!1,e.haskillLab.visible=!0,e.descLab.visible=!1;else{var n="#ff0d0d",i=e.px-1;4==e.px&&1==e.lu&&(i=4,n="#007f09",e.boxBtn.descLab.textColor=Color.TX),e.descLab.textFlow=LgRe.OQ(fvg.GVf("elite3",n,i)),e.boxBtn.label=fvg.GVf("elite6",e.cz,i,4),e.boxBtn.descLab.text=fvg.GVf("112",i,4),e.upgradeBtn.visible=e.descLab.visible=!0,e.haskillLab.visible=!1}t.firstPerson?(e.nickLab.text=fvg.GVf("public020",""),e.firstLab.text=t.firstPerson.name||"",e.fightLab.text=fvg.GVf("smelting6",t.firstPerson.cap||0),e.customNumLab.text=fvg.GVf("elite15",t.firstPerson.score||0),e.headIcon.icon=kLM.JU(t.firstPerson.sex,t.firstPerson.heads),e.frameIcon.icon=kLM.ZQ(t.firstPerson.usehf||1),e.noNameTxt.text="",e.firstLab.x=e.nickLab.x+e.nickLab.width):(e.nickLab.text="",e.firstLab.text="",e.fightLab.text="",e.customNumLab.text="",e.headIcon.icon=null,e.frameIcon.icon=null,e.noNameTxt.text=fvg.GVf("rank10"),e.frameIcon.icon=kLM.ZQ(0)),e.upgradeBtn.icon=4==e.px&&1==e.lu?StaticData.GHj:null,e.uz()},t.prototype.ig=function(){var e=this;e.eu=(e.bz.et||0)-App.NN.serverSecond>0,e.il=e.lz<=0,e.kr()},t.prototype.kr=function(){var e=this;e.kz=e.bz.et||0,e.wj=e.bz.rnt||0,e.kz-App.NN.serverSecond>0&&vkG.$a(HUtJ.HEARTBEAT,e.zk,e),e.zk()},t.prototype.zk=function(){var e=this;if(!e.destory){var t=e.kz-App.NN.serverSecond;e.eu=t>0,t>0?(e.timeTxt.text=kpd.YW(t),e.timeTxt.textColor=Color.SQ):(e.timeTxt.text=fvg.GVf("public035"),e.timeTxt.textColor=Color.KA,e.kz=0,e.wj=0,e.lz=0,vkG.$r(HUtJ.HEARTBEAT,e.zk,e)),t=e.wj-App.NN.serverSecond}},t.prototype.pm=function(){App.VS.popup(10058,EliteChallengeRankingPopUi)},t.prototype.jb=function(){App.VS.popup(10058,GeneralAboutPopUi,null,AboutType.HL)},t.prototype.pz=function(){var e=this,t=GObj.$c(BoxPopUi);if(App.MB.eliteBossInfo.ambit>MaxLevel.ELITE_BOSS_GRADE)return void t.showDetail(84,e.px,4,"84_4_"+MaxLevel.ELITE_BOSS_GRADE,MaxLevel.ELITE_BOSS_GRADE,!0);var n;n=e.px-1,4==e.px&&1==e.lu&&(n=4),t.showDetail(84,n,4,"84_4_"+e.cz,e.cz,!0)},t.prototype.nr=function(){var e,t=this,n=GObj.$c(EliteBoxPopUi);return App.MB.eliteBossInfo.ambit>MaxLevel.ELITE_BOSS_GRADE?void n.showByKey(84,t.px,4,"84_4_"+MaxLevel.ELITE_BOSS_GRADE,MaxLevel.ELITE_BOSS_GRADE):(e=t.px-1,4==t.px&&1==t.lu&&(e=4),void n.showByKey(84,e,4,"84_4_"+t.cz,t.cz))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.firstLab),t.firstLab=null,GObj.$d(t.fightLab),t.fightLab=null,GObj.$d(t.customNumLab),t.customNumLab=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.challenge1),t.challenge1=null,GObj.$d(t.challenge2),t.challenge2=null,GObj.$d(t.challenge3),t.challenge3=null,GObj.$d(t.challenge4),t.challenge4=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.noNameTxt),t.noNameTxt=null,GObj.$d(t.frameIcon),t.frameIcon=null,GObj.$d(t.noNameTxt),t.noNameTxt=null,GObj.$d(t.haskillLab),t.haskillLab=null,GObj.$d(t.diaView),t.diaView=null,GObj.$d(t.nickLab),t.nickLab=null,GObj.$d(t.timedescLab),t.timedescLab=null,t.previewdata=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(EliteChallengeView.prototype,"EliteChallengeView");var EliteCheckpointView=function(e){function t(){var t=e.call(this,"EliteCheckpointView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descLab.text=fvg.GVf("elite5"),e.goBtn.label=fvg.GVf("37"),e.rewardDescLab.text=fvg.GVf("22"),e.bossDatas=GObj.$c(eui.ArrayCollection),e.bossGroup.dataProvider=e.bossDatas,e.bossGroup.itemRenderer=EliteChallengeBossItem,e.previewdata=GObj.$c(eui.ArrayCollection),e.itemGraoup.dataProvider=e.previewdata,e.itemGraoup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.pe();var n=App.MB.eliteBossList;if(n&&!(n.length<=0)){t.ott=[];for(var i,r,a=n.length,o=0;a>o;o++)i=n[o],r=gLw.WZ(i.tid),r==t.uh&&t.ott.push(n[o]);t.bossDatas.source=t.ott,t.bossDatas.refresh(),t._y()}},t.prototype.pe=function(){var e=this;e.sz=App.MB.eliteBossInfo.ambit||1,e.uh=App.MB.eliteBossInfo.level||1,e.pt=App.MB.eliteBossInfo.bossNum||0,e.bossGroup.selectedIndex=e.pt},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.ip,t),t.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.ip,t),t.bossGroup.addEventListener(egret.Event.CHANGE,t.ns,t),t.goBtn.addEventListener(eui.tep,t.ap,t),vkG.$a(UtJ.XIX,t.pe,t)},t.prototype.removeEvent=function(){var e=this;e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ip,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ip,e),e.bossGroup.removeEventListener(egret.Event.CHANGE,e.ns,e),e.goBtn.removeEventListener(eui.tep,e.ap,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.ji,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.ji,e),App.HA.unRegisteEnterFrame(e.ey,e),vkG.$r(UtJ.XIX,e.pe,e)},t.prototype._y=function(){var e=this;e.ux(),e.ns(null),e.xi(),ClockManager.setTimeout(e.uu,this,100)},t.prototype.xi=function(){var e=this,t="85_"+e.uh+"_"+(6*(e.sz-1)+e.bossGroup.selectedIndex+1),n=XCA.RE(t);if(n){var i=Nkz.PI(n),r=i.length;e.previewdata.source.splice(0,e.previewdata.length);for(var a=0;r>a;a++){i[a];e.previewdata.source.push(i[a])}e.previewdata.refresh(),n="",n=XCA.RE("84_"+e.uh+"_"+e.sz);var o=Nkz.PI(n)[0];e.itemView.data=o,e.itemNameLab.text=o.name,e.itemNameLab.textColor=aKF.DU(o.quality)}},t.prototype.ns=function(e){var t=this;t.scroller&&t.scroller.stopAnimation();var n=t.bossGroup.selectedIndex;t.qv=t.ott[n],t.bossNameLab.text=fvg.GVf("elite8",t.qv.TSF.name,t.sz),n==t.pt?(t.goBtn.visible=!0,t.hasKillLab.visible=!1):n<t.pt?(t.goBtn.visible=!1,t.hasKillLab.visible=!0,t.hasKillLab.text=fvg.GVf("elite18")):(t.goBtn.visible=!1,t.hasKillLab.visible=!0,t.hasKillLab.text=fvg.GVf("elite19")),t.bossImg.source=PATH.KE+t.qv.TSF.icon+".png",t.xi()},t.prototype.ap=function(){var e=this,t=App.JG.wuShenTowerInfo,n=(t.et||0)-App.NN.serverSecond<=0;if(n)return void MessageTipManager.instance.show(fvg.GVf("public035"));if(e.qv.atkno<1)return void MessageTipManager.instance.show(fvg.GVf(215));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(e.qv&&e.qv.TSF){e.pt==e.ott.length-1&&(App.MB.mapId=1),App.VS.closeAll();var i=e.qv.TSF.mapid;App.VS.enterMapOpenUI(i,10060,null,!1),App.UY.enter(i)}}},t.prototype.uu=function(){var e=this;if(!e.destory){if(e.ta=e.scroller.viewport.contentWidth-e.scroller.width,e.ta>0){var t=108*e.bossGroup.selectedIndex+5;t=t<e.scroller.width?0:t,t=Math.min(t,e.ta),e.scroller.viewport.scrollH=t}e.yh(null)}},t.prototype.ux=function(){var e=this;e.ott.length;e.scroller.width=379,e.leftBtn.visible=e.rightBtn.visible=!1},t.prototype.ip=function(e){var t=this;if(!t.ec){t.ec=!0;var n=e.currentTarget;switch(n){case t.leftBtn:t.xu=-10;break;case t.rightBtn:t.xu=10}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.ji,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.ji,t),App.HA.registeEnterFrame(t.ey,t)}},t.prototype.ji=function(e){var t=this;t.ec&&(t.ec=!1,hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.ji,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.ji,t),App.HA.unRegisteEnterFrame(t.ey,t))},t.prototype.ey=function(){var e=this;e.ec&&e.ba(e.scroller.viewport.scrollH+e.xu)},t.prototype.ba=function(e){var t=this;e>=t.ta&&(e=t.ta),0>=e&&(e=0),t.scroller.viewport.scrollH!=e&&(t.scroller.viewport.scrollH=e,t.yh(null))},t.prototype.yh=function(e){var t=this,n=t.scroller.viewport.scrollH;n>0?t.leftBtn.visible=!0:(t.leftBtn.visible=!1,t.leftBtn.icon=null),n<t.ta?t.rightBtn.visible=!0:(t.rightBtn.visible=!1,t.rightBtn.icon=null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.dataGroup),t.dataGroup=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.bossGroup),t.bossGroup=null,GObj.$d(t.bossNameLab),t.bossNameLab=null,GObj.$d(t.itemGraoup),t.itemGraoup=null,GObj.$d(t.hasKillLab),t.hasKillLab=null,GObj.$d(t.bossImg),t.bossImg=null,GObj.$d(t.itemNameLab),t.itemNameLab=null,GObj.$d(t.rewardDescLab),t.rewardDescLab=null,t.previewdata=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,GObj.$d(t.ott),t.ott=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(EliteCheckpointView.prototype,"EliteCheckpointView");var EliteLastBossView=function(e){function t(){var t=e.call(this,"EliteLastBossView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initData=function(){e.prototype.initData.call(this),this.eo()},t.prototype.eo=function(){var e=this;if(e.vq)return e.bx=App.MB.eliteBossInfo.bossNum||0,e.mz=App.MB.eliteBossInfo.ambit||1,e.bx>0?e.goBtn.visible=!1:e.goBtn.visible=!0,e.bossNameLab.text=fvg.GVf("elite8",e.vq.TSF.name,e.mz),e.zw(),e.mz>=MaxLevel.ELITE_BOSS_GRADE?void(e.descLab.text=""):void(e.descLab.text=fvg.GVf("elite23",e.mz+1))},t.prototype.initView=function(){var e=this;e.recordDescLab.text=fvg.GVf("elite10"),e.eliteGodDescLab.text=fvg.GVf("elite11"),e.fastDescLab.text=fvg.GVf("elite12"),e.fightDescLab.text=fvg.GVf("elite13"),e.goBtn.label=fvg.GVf("37"),e.desc1Lab.text=fvg.GVf("22"),e.__(),e.vq=e.l_[0],e.previewdata=GObj.$c(eui.ArrayCollection),e.itemGraoup.dataProvider=e.previewdata,e.itemGraoup.itemRenderer=GoodsItemRenderer},t.prototype.zw=function(){var e=this;e.vq=e.l_[0],e.bx=App.MB.eliteBossInfo.bossNum||0,e.mz=App.MB.eliteBossInfo.ambit||1,App.MB.eliteBossInfo.fastInfo?(e.fastNameLab.text=App.MB.eliteBossInfo.fastInfo.name||"",e.fightNumLab.text=App.MB.eliteBossInfo.fastInfo.cap||"0"):(e.fastNameLab.text=fvg.GVf("rank10"),e.fightNumLab.text="0"),App.MB.eliteBossInfo.firstPerson?(e.godNameLab.text=App.MB.eliteBossInfo.firstPerson.name||"",e.recordLab.text=App.MB.eliteBossInfo.firstPerson.score):(e.godNameLab.text=fvg.GVf("rank10"),e.recordLab.text="0"),e.bx>0?e.goBtn.visible=!1:e.goBtn.visible=!0;var t=3;1==e.bx&&(t=4,e.boxBtn.descLab.textColor=Color.TX),e.boxBtn.label=fvg.GVf("elite6",e.mz),e.boxBtn.descLab.text=fvg.GVf("112",t,4),e.bossImg.source=PATH.KE+e.vq.TSF.icon+".png",e.kjo()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.goBtn.addEventListener(eui.tep,t.lr,t),t.boxBtn.addEventListener(eui.tep,t.un,t),vkG.$a(UtJ.XIX,t.zw,t)},t.prototype.removeEvent=function(){var e=this;e.goBtn.removeEventListener(eui.tep,e.lr,e),e.boxBtn.removeEventListener(eui.tep,e.un,e),vkG.$r(UtJ.XIX,e.zw,e)},t.prototype.lr=function(){var e=this,t=App.JG.wuShenTowerInfo,n=(t.et||0)-App.NN.serverSecond<=0;if(n)return void MessageTipManager.instance.show(fvg.GVf("public035"));if(e.vq.atkno<1)return void MessageTipManager.instance.show(fvg.GVf(215));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(e.vq&&e.vq.TSF){0==e.bx&&(App.MB.mapId=1),App.VS.closeAll();var i=e.vq.TSF.mapid;App.VS.enterMapOpenUI(i,10059,null,!1),App.UY.enter(i)}}},t.prototype.kjo=function(){var e=this,t="85_4_"+e.mz,n=XCA.RE(t);if(n){var i=Nkz.PI(n),r=i.length;e.previewdata.source.splice(0,e.previewdata.length);for(var a=0;r>a;a++){i[a];e.previewdata.source.push(i[a])}e.previewdata.refresh()}},t.prototype.un=function(){var e,t=this,n=GObj.$c(BoxPopUi);e=1==t.bx?4:3,n.showDetail(84,e,4,"84_4_"+t.mz,t.mz,!0)},t.prototype.__=function(){var e=this,t=App.MB.eliteBossList;if(t&&!(t.length<=0)){e.l_=[];for(var n,i,r=t.length,a=0;r>a;a++)n=t[a],i=gLw.WZ(n.tid),4==i&&e.l_.push(t[a])}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.l_),t.l_=null,GObj.$d(t.bossNameLab),t.bossNameLab=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.recordDescLab),t.recordDescLab=null,GObj.$d(t.recordLab),t.recordLab=null,GObj.$d(t.eliteGodDescLab),t.eliteGodDescLab=null,GObj.$d(t.godNameLab),t.godNameLab=null,GObj.$d(t.fastDescLab),t.fastDescLab=null,GObj.$d(t.fastNameLab),t.fastNameLab=null,GObj.$d(t.fightDescLab),t.fightDescLab=null,GObj.$d(t.fightNumLab),t.fightNumLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.itemGraoup),t.itemGraoup=null,GObj.$d(t.bossImg),t.bossImg=null,GObj.$d(t.desc1Lab),t.desc1Lab=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(EliteLastBossView.prototype,"EliteLastBossView");var ElitePersonRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ElitePersonRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.$autoSelected=!1,e.noTxt.text=fvg.GVf("rank10")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dh,e),e.boxBtn.addEventListener(eui.tep,e.rz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dh,e),e.boxBtn.removeEventListener(eui.tep,e.rz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.oe=e.data,e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.text=""):(e.rankImg.source=null,e.rankTxt.text=toChars(e.itemIndex+1)),e.noTxt.visible=!1,e.nameTxt.text=e.oe.name||fvg.GVf("rank10"),e.scoreTxt.text=fvg.GVf("elite15",e.oe.score||0),e.oe.heads>0?(e.noTxt.visible=!1,e.headIcon.icon=kLM.JU(e.oe.sex,e.oe.heads),e.frameIcon.icon=kLM.ZQ(e.oe.usehf||1)):(e.frameIcon.icon=kLM.ZQ(0),e.noTxt.visible=!0,e.headIcon.icon=null),e.nameTxt.x=162)},t.prototype.rz=function(e){var t=this,n=GObj.$c(BoxPopUi);n.showDetail(86,1,t.itemIndex+1,t.wl())},t.prototype.wl=function(){var e=this.itemIndex+1;return 3>=e?e:e>=4&&10>=e?4:e>=11&&20>=e?5:e>=21&&30>=e?6:e>=31&&40>=e?7:e>=41&&50>=e?8:9},t.prototype.dh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.frameIcon),t.frameIcon=null,GObj.$d(t.noTxt),t.noTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,t.oe=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ElitePersonRankItem.prototype,"ElitePersonRankItem");var ElitePersonRankView=function(e){function t(){var t=e.call(this,"ElitePersonRankView")||this;return t.skinName=RRUU.$s("ElitePersonRankViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("wushen14"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=ElitePersonRankItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.uu,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.uu,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.AC);(!e||GApp.timer-e.rtime>=3e5)&&RankMsgProxy.IU(FDG.AC),this.uu(e),this.uf()},t.prototype.uf=function(){var e=XCA.DG(86,1),t=Nkz.PI(e);t.length>0&&(this.goodsItem.data=t[0])},t.prototype.uu=function(e){var t=this;if(!e||e.type==FDG.AC){t.itemScroller&&t.itemScroller.stopAnimation();for(var n=50,i=e&&e.list?e.list:[],r=[],a=0;n>a;a++)r.push(i[a]||{});t.itemData.replaceAll(r),t.myRankTxt.text=fvg.GVf("rank0",e&&e.order?e.order>n?n+"+":e.order:fvg.GVf("public042")),t.myScoreTxt.text=fvg.GVf("elite14",e&&e.score?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myScoreTxt),t.myScoreTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.goodsItem),t.goodsItem=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ElitePersonRankView.prototype,"ElitePersonRankView");var EmailGoodsItemRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("EmailGoodsItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.hc,e),e.addEventListener(eui.RFS,e.fx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.hc,e),e.removeEventListener(eui.RFS,e.fx,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.titleTxt.text=t.title,e.titleTxt.textColor=500==t.etype?Color.SE:2763306,e.stateImg.source=t.hasannex?"email_json.email_img1_png":"email_json.email_img3_png",e.receivedImg.visible=!t.hasannex,e.timeTxt.text=kpd.formatDateBySec(t.time)}},t.prototype.hc=function(e){var t=this;if(t.data){var n=t.data;n.requested||EmailMsgProxy.NQ(n.eid),App.VS.popup(10043,EmailSmallPopUi,null,n)}},t.prototype.fx=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(EmailGoodsItemRenderer.prototype,"EmailGoodsItemRenderer");var EmailSmallPopUi=function(e){function t(){var t=e.call(this,"EmailSmallPopUi")||this;return t.skinName=RRUU.$s("EmailSmallPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("email9"),e.receiveBtn.label=fvg.GVf("email2"),e.goodsTxt.text=fvg.GVf("email9"),e.msgTxt.text=fvg.GVf("email10"),e.goods1=GObj.$c(nlwj),e.goods2=GObj.$c(nlwj),e.goods3=GObj.$c(nlwj),e.goods4=GObj.$c(nlwj)},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.yj,e),vkG.$a(UtJ.UV,e.si,e),vkG.$a(UtJ.YK,e.bw,e),e.item_1.addEventListener(eui.tep,e.n_,e),e.item_2.addEventListener(eui.tep,e.n_,e),e.item_3.addEventListener(eui.tep,e.n_,e),e.item_4.addEventListener(eui.tep,e.n_,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.yj,e),vkG.$r(UtJ.UV,e.si,e),vkG.$r(UtJ.YK,e.bw,e),e.item_1.removeEventListener(eui.tep,e.n_,e),e.item_2.removeEventListener(eui.tep,e.n_,e),e.item_3.removeEventListener(eui.tep,e.n_,e),e.item_4.removeEventListener(eui.tep,e.n_,e)},t.prototype.initData=function(){this.ph()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.lu=e[0],n.ph())},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.ph=function(){var e=this;e.CSo&&e.lu&&(usable(e.lu.content)?(e.contentTxt.text=e.lu.content.replace(/\\n/g,"\n"),e.contentTxt.textColor=500==e.lu.etype?Color.SD:Color.SE):e.contentTxt.text="",e.lu.annex1?(e.goods1.tid=e.lu.annex1,e.goods1.count=e.lu.count1,e.item_1.data=e.goods1):e.item_1.data=null,e.lu.annex2?(e.goods2.tid=e.lu.annex2,e.goods2.count=e.lu.count2,e.item_2.data=e.goods2):e.item_2.data=null,e.lu.annex3?(e.goods3.tid=e.lu.annex3,e.goods3.count=e.lu.count3,e.item_3.data=e.goods3):e.item_3.data=null,e.lu.annex4?(e.goods4.tid=e.lu.annex4,e.goods4.count=e.lu.count4,e.item_4.data=e.goods4):e.item_4.data=null,e.item_1.visible=!!e.item_1.data,e.item_2.visible=!!e.item_2.data,e.item_3.visible=!!e.item_3.data,e.item_4.visible=!!e.item_4.data,e.receivedImg.visible=!e.lu.hasannex,e.receiveBtn.visible=e.lu.hasannex)},t.prototype.yj=function(e){var t=this;App.JA.checkIncome(t.mo,t)},t.prototype.mo=function(){var e=this;if(e.lu){if(!e.lu.hasannex)return void MessageTipManager.instance.show(fvg.GVf("email5"));for(var t=1;4>=t;t++)if(!e.jr(this["item_"+t].data))return;EmailMsgProxy.RQ(3,e.lu.eid)}},t.prototype.n_=function(e){var t=this,n=e.currentTarget;if(n&&n.data){var i=0;switch(n){case t.item_1:i=1;break;case t.item_2:i=2;break;case t.item_3:i=3;break;case t.item_4:i=4}i>0&&t.jr(n.data)&&EmailMsgProxy.RQ(2,t.lu.eid,i)}},t.prototype.jr=function(e){if(e){var t=e.masterType;if(App.BG.checkBagFullByType(t))return t==Iwrv.CL?Alert.WK(fvg.GVf("24",1),null,null,App.FK.UrC,App.FK):t==Iwrv.MF?MessageTipManager.instance.show(fvg.GVf("skill091")):MessageTipManager.instance.show(fvg.GVf("432")),!1}return!0},t.prototype.si=function(e){var t=this;e&&e.indexOf(t.lu.eid)>=0&&t.ph()},t.prototype.bw=function(e){var t=this;e&&e.indexOf(t.lu.eid)>=0&&t.dispose()},t.prototype.__closeHandler=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.item_1),t.item_1=null,GObj.$d(t.item_2),t.item_2=null,GObj.$d(t.item_3),t.item_3=null,GObj.$d(t.item_4),t.item_4=null,GObj.$d(t.goodsTxt),t.goodsTxt=null,GObj.$d(t.msgTxt),t.msgTxt=null,t.lu=null,t.goods1=null,t.goods2=null,t.goods3=null,t.goods4=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(EmailSmallPopUi.prototype,"EmailSmallPopUi");var GMEmailView=function(e){function t(){var t=e.call(this,"GMEmailView")||this;return t.skinName=RRUU.$s("GMEmailViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=EmailGoodsItemRenderer},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.NL,e.qk,e),vkG.$a(UtJ.YK,e.qk,e),vkG.$a(UtJ.UV,e.mh,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.NL,e.qk,e),vkG.$r(UtJ.YK,e.qk,e),vkG.$r(UtJ.UV,e.mh,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.jj(!0)},t.prototype.jj=function(e){void 0===e&&(e=!1);var t=this,n=[],i=App.AL.gmEmailArray;i.sort(App.AL.sortEmailByEid);for(var r=i.length,a=0;r>a;a++)n.push(i[a]);t.datas.replaceAll(n),e?t.datas.refresh():(t.itemScroller&&t.itemScroller.validateNow(),egret.Tween.removeTweens(t),egret.Tween.get(t).wait(100).call(t.tt,t)),t.descTxt.visible=0==i.length},t.prototype.tt=function(){var e=this;if(e.itemScroller){var t=e.itemScroller.viewport.contentHeight,n=Math.max(t-e.itemScroller.height,0),i=e.itemScroller.viewport.scrollV;i>n&&(e.itemScroller.viewport.scrollV=n),egret.Tween.removeTweens(e)}},t.prototype.qk=function(e){this.jj()},t.prototype.mh=function(e){for(var t=this,n=t.datas.source,i=n.length,r=0;i>r;r++)if(e.indexOf(n[r].eid)>=0&&!n[r].hasannex){t.jj();break}},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.descTxt),t.descTxt=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GMEmailView.prototype,"GMEmailView");var NormalEmailView=function(e){function t(){var t=e.call(this,"NormalEmailView")||this;return t.skinName=RRUU.$s("NormalEmailView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.onekeyReceiveBtn.label=fvg.GVf("email1"),e.onekeyDeleteBtn.label=fvg.GVf("email3"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=EmailGoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.onekeyReceiveBtn.addEventListener(eui.tep,e.fm,e),e.onekeyDeleteBtn.addEventListener(eui.tep,e.it,e),vkG.$a(UtJ.NL,e.uy,e),vkG.$a(UtJ.YK,e.uy,e),vkG.$a(UtJ.UV,e.hp,e)},t.prototype.removeEvent=function(){var e=this;e.onekeyReceiveBtn.removeEventListener(eui.tep,e.fm,e),e.onekeyDeleteBtn.removeEventListener(eui.tep,e.it,e),vkG.$r(UtJ.NL,e.uy,e),vkG.$r(UtJ.YK,e.uy,e),vkG.$r(UtJ.UV,e.hp,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.mf(!0)},t.prototype.mf=function(e){void 0===e&&(e=!1);var t=this,n=[],i=App.AL.emailArray;i.sort(App.AL.sortEmailByEid);for(var r=i.length,a=0;r>a;a++)n.push(i[a]);t.datas.replaceAll(n),e?t.datas.refresh():(t.itemScroller&&t.itemScroller.validateNow(),egret.Tween.removeTweens(t),egret.Tween.get(t).wait(100).call(t.rg,t)),t.descTxt.visible=0==i.length,t.onekeyReceiveBtn.visible=!t.descTxt.visible,t.onekeyDeleteBtn.visible=!t.descTxt.visible},t.prototype.rg=function(){var e=this;if(e.itemScroller){var t=e.itemScroller.viewport.contentHeight,n=Math.max(t-e.itemScroller.height,0),i=e.itemScroller.viewport.scrollV;i>n&&(e.itemScroller.viewport.scrollV=n),egret.Tween.removeTweens(e)}},t.prototype.fm=function(e){var t=this;App.AL.emailArray.length>0&&App.JA.checkIncome(t.ij,t)},t.prototype.ij=function(){return UsU.EE()?App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf("24",StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):void EmailMsgProxy.RQ(1):void App.TT.show(fvg.GVf("email5"))},t.prototype.it=function(e){var t=this;Alert.WK(fvg.GVf("email4"),null,null,t.qu,t)},t.prototype.qu=function(){return App.AL.hasDeleteEmails?void EmailMsgProxy.RQ(4):void App.TT.show(fvg.GVf("email6"))},t.prototype.uy=function(e){this.mf()},t.prototype.hp=function(e){for(var t=this,n=t.datas.source,i=n.length,r=0;i>r;r++)if(e.indexOf(n[r].eid)>=0&&!n[r].hasannex){t.mf();break}},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.onekeyReceiveBtn),t.onekeyReceiveBtn=null,GObj.$d(t.onekeyDeleteBtn),t.onekeyDeleteBtn=null,GObj.$d(t.descTxt),t.descTxt=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(NormalEmailView.prototype,"NormalEmailView");var EvDayReChgFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.ml=[],n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.as=[e.boxBtn1,e.boxBtn2,e.boxBtn3],e.du=[!1,!1,!1],e.evday_2.text=fvg.GVf("evChg02",2),e.evday_4.text=fvg.GVf("evChg02",4),e.evday_6.text=fvg.GVf("evChg02",6),e.evchgData=GObj.$c(eui.ArrayCollection),e.evchgGroup.dataProvider=e.evchgData,e.evchgGroup.itemRenderer=GoodsItemRenderer,e.lw=GObj.$c(EvDayReChgItem),e.lw.x=160,e.lw.y=585,e.addChild(e.lw),e.ig=GObj.$c(EvDayReChgItem),e.ig.x=285,e.ig.y=585,e.addChild(e.ig),e.wr=GObj.$c(EvDayReChgItem),e.wr.x=400,e.wr.y=585,e.addChild(e.wr),e.wp=[e.lw,e.ig,e.wr]
},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.evchgData.source.length=0;var n=XCA.DG(33,1),i=Nkz.PI(n);if(i){for(var r,a=i.length,o=0;a>o;o++)r=i[o],t.evchgData.source.push(r);t.evchgData.refresh();var s=XCA.DG(33,2),p=Nkz.PI(s);t.lw.data=p[0],t.lw.boxid=2;var l=XCA.DG(33,4),c=Nkz.PI(l);t.ig.data=c[0],t.ig.boxid=4;var u=XCA.DG(33,6),d=Nkz.PI(u);t.wr.data=d[0],t.wr.boxid=6,t.ti()}},t.prototype.ti=function(){var e=this;if(App.ZF.evDayReChgVO){var t=XCA.CG(IDU.LO);if(t){var n=t.split(QycO.XP);if(n){var i=n.length;if(!(3>i)){var r=App.ZF.evDayReChgVO.cd||0,a=int(r/parseInt(n[n.length-1])*100);e.progressBar.value=a;for(var o=App.ZF.evDayReChgVO.hr||0,s=0;i>s;s++){var p=parseInt(n[s]),l=e.ml[s],c=e.ml[s],u=e.as[s],d=e.wp[s];o&1<<p-1?(l||(c=e.ml[s]=GObj.$c(eui.Image),e.addChild(c),l=e.ml[s]=GObj.$c(eui.Image),e.addChild(l)),c.x=d.x+1,c.y=d.y+1,c.source="frame_json.frame_borderbg_4_png",l.width=92,l.height=56,l.x=d.x-8,l.y=d.y+10,l.source="core_json.geted_png",u.selected=!1,u.icon=null,u.touchEnabled=!1):(l&&(l.source=null,c.source=null),r>=p?(u.selected=!1,u.icon=StaticData.GHj):(u.selected=!0,u.icon=null)),e.du[s]=u.selected}e.en()}}}}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.boxBtn1.addEventListener(eui.tep,t.hm,t),t.boxBtn2.addEventListener(eui.tep,t.ma,t),t.boxBtn3.addEventListener(eui.tep,t.ek,t),t.evChgBtn.addEventListener(eui.tep,t.cn,t),vkG.$a(UtJ.Z_H,t.ti,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.boxBtn1.removeEventListener(eui.tep,t.hm,t),t.boxBtn2.removeEventListener(eui.tep,t.ma,t),t.boxBtn3.removeEventListener(eui.tep,t.ek,t),t.evChgBtn.removeEventListener(eui.tep,t.cn,t),vkG.$r(UtJ.Z_H,t.ti,t)},t.prototype.hm=function(e){this.fn(0)},t.prototype.ma=function(e){this.fn(1)},t.prototype.ek=function(e){this.fn(2)},t.prototype.fn=function(e){var t=this;if(!(e>=t.du.length)){var n=XCA.CG(IDU.LO),i=n.split(QycO.XP);if(i&&!(i.length<3)){var r=parseInt(i[e]);t.as[e].selected=t.du[e];var a=GObj.$c(BoxPopUi),o=App.ZF.evDayReChgVO.cd||0;a.showDetail(33,o,r)}}},t.prototype.en=function(){var e=this,t=App.ZF.evDayReChgVO.r;if(0==t)e.evChgBtn.bgImg.source="evdayrechg_json.evdayrechg_btn_png",e.evChgBtn.icon=null;else if(1==t)e.evChgBtn.bgImg.source="evdayrechg_json.evdayrechg_get_btn_png",e.evChgBtn.icon=StaticData.GHj;else{var n=GObj.$c(eui.Image);n.width=92,n.height=56,n.x=310,n.y=480,n.source="core_json.geted_png",e.addChild(n),e.evChgBtn.visible=!1}},t.prototype.cn=function(e){var t=App.ZF.evDayReChgVO.r;0==t?App.VS.open(10089):1==t&&ActivityMsgProxy.MN()},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),t.removeEvent(),GObj.$d(t.evChgBtn),t.evChgBtn=null,GObj.$d(t.evday_2),t.evday_2=null,GObj.$d(t.evday_4),t.evday_4=null,GObj.$d(t.evday_6),t.evday_6=null,GObj.$d(t.boxBtn1),t.boxBtn1=null,GObj.$d(t.boxBtn2),t.boxBtn2=null,GObj.$d(t.boxBtn3),t.boxBtn3=null,GObj.$d(t.as),t.as=null,GObj.$d(t.du),t.du=null,GObj.$d(t.lw),t.lw=null,GObj.$d(t.ig),t.ig=null,GObj.$d(t.wr),t.wr=null,t.evchgGroup&&(t.evchgGroup.dataProvider=null,GObj.$d(t.evchgGroup)),t.evchgGroup=null,t.evchgData=null},t}(BaseFrame);__reflect(EvDayReChgFrame.prototype,"EvDayReChgFrame");var EvDayReChgItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.initView=function(){e.prototype.initView.call(this)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.ie,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.ie,e)},t.prototype.ie=function(e){var t=this;t._data&&ActivityMsgProxy.KQ(t.boxid)},t.prototype.updateCount=function(){this.updateNumTxt()},t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),e.prototype.dispose.call(this))},t}(BaseItemView);__reflect(EvDayReChgItem.prototype,"EvDayReChgItem");var AutoBuyPPPopUi=function(e){function t(){var t=e.call(this,"AutoBuyPPPopUi")||this;return t.skinName=RRUU.$s("AutoBuyPPPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("explore51"),e.contentTxt.text=fvg.GVf("explore52"),e.sureBtn.label=fvg.GVf("7"),e.cancelBtn.label=fvg.GVf("6")},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.vd,e),e.cancelBtn.addEventListener(eui.tep,e.af,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.vd,e),e.cancelBtn.removeEventListener(eui.tep,e.af,e)},t.prototype.vd=function(){ExploreMsgProxy.JP(1),App.WW.autoBuyPP=1,GObj.$d(this)},t.prototype.af=function(){vkG.$d(UtJ.NK),GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,GObj.$d(t.sureBtn),t.sureBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(AutoBuyPPPopUi.prototype,"AutoBuyPPPopUi");var BusinessItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BusinessItem"),t}return __extends(t,e),t.prototype.initView=function(){this.et=GObj.$c(nlwj)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pr,e),e.selectBtn.addEventListener(egret.Event.CHANGE,e.gk,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pr,e),e.selectBtn.removeEventListener(egret.Event.CHANGE,e.gk,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.zh=e.data,e.et.tid=e.zh.itemid,e.et.count=e.zh.count;var t=e.et.TSF;e.itemView.data=e.et,t&&(e.nameTxt.text=t.name,e.nameTxt.textColor=aKF.DU(t.qua),t.step>0?e.gradeTxt.text=App.JP.getTurnupName(t.step):e.gradeTxt.text=fvg.GVf("public013",t.needgrade)),e.fpriceTlt.text=fvg.GVf("shop14"),e.fpriceTxt.text=toChars(e.zh.fprice),e.fmoneyIcon.source=kLM.MAR(e.zh.moneytype),e.fpriceLine.source="explore_json.explore_fpriceLine_png",e.fpriceGrp.visible=!0,e.fpriceLine.visible=!0,e.zh.isDiscount?(e.labelImg.source="explore_json.explore_label_2_png",e.labelTxt.text=fvg.GVf("shop7",int(e.zh.discount/10))):e.zh.isLimit?(e.labelImg.source="explore_json.explore_label_1_png",e.labelTxt.text=fvg.GVf("shop8")):e.zh.ishot?(e.labelImg.source="explore_json.explore_label_3_png",e.labelTxt.text=fvg.GVf("shop17")):(e.labelImg.source=null,e.labelTxt.text=QycO.OK),e.priceTlt.text=fvg.GVf("shop15"),e.priceTxt.text=toChars(e.zh.price),e.moneyIcon.source=kLM.XD(e.zh.moneytype)}},t.prototype.gk=function(){var e=this,t=ExploreManager.instance.selectedGoodsindex;if(e.selectBtn.selected)-1==t.indexOf(e.itemIndex)&&ExploreManager.instance.selectedGoodsindex.push(e.itemIndex);else{var n=[];if(t)for(var i=t.length,r=0;i>r;r++)e.itemIndex!=t[r]&&n.push(t[r]);ExploreManager.instance.selectedGoodsindex=n}vkG.$d(UtJ.ZSM)},t.prototype.pr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.labelTxt),t.labelTxt=null,GObj.$d(t.labelImg),t.labelImg=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.fpriceTxt),t.fpriceTxt=null,GObj.$d(t.priceTlt),t.priceTlt=null,GObj.$d(t.fpriceLine),t.fpriceLine=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.fmoneyIcon),t.fmoneyIcon=null,GObj.$d(t.moneyIcon),t.moneyIcon=null,GObj.$d(t.fpriceGrp),t.fpriceGrp=null,GObj.$d(t.selectBtn),t.selectBtn=null,t.zh=null,t.et=null,t.qu&&(t.qu.length=0,t.qu=null),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BusinessItem.prototype,"BusinessItem");var BusinessPopUi=function(e){function t(){var t=e.call(this,"BusinessPopUi")||this;return t.skinName=RRUU.$s("BusinessPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("explore7"),e.selectData=GObj.$c(eui.ArrayCollection),e.selectGroup.dataProvider=e.selectData,e.selectGroup.itemRenderer=BusinessItem,e.descTxt.text=fvg.GVf("explore19"),e.confirmBtn.label=fvg.GVf("explore16"),e.giveUpBtn.label=fvg.GVf("explore17"),e.totalTxt.text=fvg.GVf("explore42"),ExploreMsgProxy.JT(),ExploreManager.instance.selectedGoodsindex=[],App.WW.isCardEvent=!0},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.cr,e),e.giveUpBtn.addEventListener(eui.tep,e.vz,e),vkG.$a(UtJ.GAH,e.rv,e),vkG.$a(UtJ.ZSM,e.up,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.cr,e),e.giveUpBtn.removeEventListener(eui.tep,e.vz,e),vkG.$r(UtJ.GAH,e.rv,e),vkG.$r(UtJ.ZSM,e.up,e)},t.prototype.vz=function(){var e=[];ExploreMsgProxy.GF(e),GObj.$d(this)},t.prototype.cr=function(){var e=[];if(e=App.WW.getGoodsIdBySelected(),!e||0==e.length)return void MessageTipManager.instance.show(fvg.GVf("explore18"));if(e&&e.length>0){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString());for(var i=App.WW.getBlackShopGoods(t),r=0,n=0;n<i.length;n++)r+=i[n].price;var a=App.BG.jkU.point;if(r>a)return void MessageTipManager.instance.show(fvg.GVf(8))}ExploreMsgProxy.GF(App.WW.selectedGoodsindex.sort()),GObj.$d(this)},t.prototype.up=function(){var e=this,t=[];if(t=App.WW.getGoodsIdBySelected(),t&&0!=t.length||(e.totalValueTxt.textColor=Color.TX,e.totalValueTxt.text=fvg.GVf("explore43")),t&&t.length>0){for(var n=[],i=0;i<t.length;i++)n.push(t[i].toString());for(var r=App.WW.getBlackShopGoods(n),a=0,i=0;i<r.length;i++)a+=r[i].price;e.totalValueTxt.text=a.toString();var o=App.BG.jkU.point;a>o?e.totalValueTxt.textColor=Color.KA:e.totalValueTxt.textColor=Color.TX}},t.prototype.rv=function(){var e=this,t=App.WW.getBlackShopGoods(App.WW.businessGoodsIds).length,n=App.WW.getBlackShopGoods(App.WW.businessGoodsIds);if(n){for(var i=0;t>i;i++)e.selectData.source.push(n[i]);e.selectData.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.selectGroup&&(t.selectGroup.dataProvider=null,GObj.$d(t.selectGroup)),t.selectGroup=null,GObj.$d(t.selectData),t.selectData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.totalTxt),t.totalTxt=null,GObj.$d(t.giveUpBtn),t.giveUpBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BusinessPopUi.prototype,"BusinessPopUi");var BuyPPPopUi=function(e){function t(){var t=e.call(this,"BuyPPPopUi")||this;return t.zl=ExploreTypeConst.RY,t.skinName=RRUU.$s("BuyPPPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buyBtn.label=fvg.GVf("shop6"),e.cancelBtn.label=fvg.GVf("explore35"),e.title=fvg.GVf("5");var t=App.BG.jkU.point;t>=ExploreTypeConst.HQ?e.msgTxt.textFlow=LgRe.OQ(fvg.GVf("explore36",Color.LZ,ExploreTypeConst.HQ,1)):e.msgTxt.textFlow=LgRe.OQ(fvg.GVf("explore36",Color.AY,ExploreTypeConst.HQ,1))},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.kj,e),e.cancelBtn.addEventListener(eui.tep,e.tv,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,e.gx,e),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,e.gx,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.kj,e),e.cancelBtn.removeEventListener(eui.tep,e.tv,e),e.minBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),e.maxBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),e.addBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),e.removeBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uk,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.gx,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.gx,e)},t.prototype.initData=function(){this.yj()},t.prototype.yj=function(){var e=this;if(e.CSo){e.ue=1,e.ar();var t=ExploreManager.instance.currentPP,n=ExploreTypeConst.RY-t;e.zl=n}},t.prototype.ar=function(){var e=this;e.ue>=e.zl&&(e.ue=e.zl),e.ue<=0&&(e.ue=1),e.buyNumTxt.text=e.ue.toString();var t=App.BG.jkU.point;t>=e.ue*ExploreTypeConst.HQ?e.msgTxt.textFlow=LgRe.OQ(fvg.GVf("explore36",Color.LZ,e.ue*ExploreTypeConst.HQ,e.ue)):e.msgTxt.textFlow=LgRe.OQ(fvg.GVf("explore36",Color.AY,e.ue*ExploreTypeConst.HQ,e.ue))},t.prototype.uk=function(e){var t=this;if(!t._x){t._x=!0,t.fr=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.ff=10;break;case t.minBtn:t.ff=-10;break;case t.addBtn:t.ff=1;break;case t.removeBtn:t.ff=-1}Nvm.instance.registeEnterFrame(t.vi,t)}},t.prototype.gx=function(e){var t=this;t._x&&(t._x=!1,t.fr<10&&(t.ue+=t.ff,t.ar()),Nvm.instance.unRegisteEnterFrame(t.vi,t))},t.prototype.vi=function(){var e=this;e._x&&(e.fr++,e.fr%10==0&&(e.ue+=e.ff,e.ar()))},t.prototype.kj=function(e){var t=this,n=t.ue*ExploreTypeConst.HQ,i=PlayerManager.instance.jkU.point;if(n>i)return void MessageTipManager.instance.show(fvg.GVf("explore28"));var r=ExploreManager.instance.currentPP,a=ExploreTypeConst.RY-r;return 0>=a?void MessageTipManager.instance.show(fvg.GVf("explore30")):t.ue>a?void MessageTipManager.instance.show(fvg.GVf("explore31")):(ExploreMsgProxy.PA(t.ue),void t.tv())},t.prototype.tv=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.buyNumTxt),t.buyNumTxt=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BuyPPPopUi.prototype,"BuyPPPopUi");var CardGameItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CardGameItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.contentTxt.text=fvg.GVf("explore15")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._v,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._v,e)},t.prototype._v=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.itemIndex==App.WW.cardIndex&&-1!=App.WW.cardIndex&&(e.bgImg.source="explore_json.card_front_png",App.WW.resultAward&&App.WW.resultAward.length>0?(e.item.visible=!0,e.item.data=App.WW.resultAward[0],e.contentTxt.visible=!1):(e.contentTxt.visible=!0,e.item.visible=!1))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.item),t.item=null,GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CardGameItem.prototype,"CardGameItem");var CardGamePopUi=function(e){function t(){var t=e.call(this,"CardGamePopUi")||this;return t.qa=0,t.skinName=RRUU.$s("CardGamePopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.selectData=GObj.$c(eui.ArrayCollection),e.selectGroup.dataProvider=e.selectData,e.selectGroup.itemRenderer=CardGameItem,e.title=fvg.GVf("explore8"),e.confirmBtn.label=fvg.GVf("7"),App.WW.isCardEvent=!0},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.ua,e),e.selectGroup.addEventListener(egret.Event.CHANGE,e.mu,e),vkG.$a(UtJ.WNM,e.xi,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.ua,e),e.selectGroup.removeEventListener(egret.Event.CHANGE,e.mu,e),vkG.$r(UtJ.WNM,e.xi,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e){var n=e.length;if(n>0){var i=e[0];i&&this.setContent(i)}}},t.prototype.setContent=function(e){var t=this;if(t.CSo&&e&&e){t.descTxt.text=e.text||"";var n=e.option.split("|");if(n&&n.length>0)for(var i=0;i<n.length;i++)t.selectData.source.push(n[i])}},t.prototype.xi=function(){var e=this;e.selectData&&e.selectData.refresh()},t.prototype.mu=function(){var e=this;if(0!=e.qa)return void MessageTipManager.instance.show(fvg.GVf("explore4"));var t=e.selectGroup.selectedIndex;e.qa=t+1,App.WW.cardIndex=t,ExploreMsgProxy.BS(e.qa)},t.prototype.ua=function(e){var t=this;return 0==t.qa?void MessageTipManager.instance.show(fvg.GVf("explore38")):void GObj.$d(t)},t.prototype.dispose=function(){var t=this;App.WW.isCardEvent=!1,App.WW.cardIndex=-1,t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.selectGroup&&(t.selectGroup.dataProvider=null,GObj.$d(t.selectGroup)),t.selectGroup=null,t.selectData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CardGamePopUi.prototype,"CardGamePopUi");var EventPreViewPopUi=function(e){function t(){var t=e.call(this,"EventPreViewPopUi")||this;return t.skinName=RRUU.$s("EventPreViewPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("explore47"),e.contentTxt.text=fvg.GVf("explore48")},t.prototype.initData=function(){},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e&&e.length>1){var i=e[0];0==i?(n.title=fvg.GVf("explore47"),n.contentTxt.text=fvg.GVf("explore48")):1==i&&(n.title=fvg.GVf("explore49"),n.contentTxt.text=fvg.GVf("explore50"))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(EventPreViewPopUi.prototype,"EventPreViewPopUi");var ExploreDetailPopUi=function(e){function t(){var t=e.call(this,"ExploreDetailPopUi")||this;return t.jy=0,t.ui=0,t.skinName=RRUU.$s("ExploreDetailPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.iv=0,t.imageBoxs=[],t.imageQues=[],t.ns=[],t.exploreStepBtn.label=fvg.GVf("explore12"),t.exitBtn.label=fvg.GVf("explore14"),t.autoBuyTxt.text=fvg.GVf("explore51"),t.title=fvg.GVf("explore53")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.hm(),t.te=XCA.AE(),t.ub()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.exploreStepBtn.addEventListener(eui.tep,t.gl,t),t.exitBtn.addEventListener(eui.tep,t.km,t),t.addPPBtn.addEventListener(eui.tep,t.tk,t),t.awardBtn.addEventListener(eui.tep,t.bk,t),t.queTipBtn.addEventListener(eui.tep,t.fw,t),t.boxTipBtn.addEventListener(eui.tep,t.pr,t),t.selectBtn.addEventListener(egret.Event.CHANGE,t.nf,t),vkG.$a(UtJ.FZ,t.ub,t),vkG.$a(UtJ.WNM,t.vt,t),vkG.$a(UtJ.RZW,t.kj,t),vkG.$a(UtJ.ZN,t.ut,t),vkG.$a(UtJ.MY,t.le,t),vkG.$a(UtJ.DBA,t.rl,t),vkG.$a(UtJ.NK,t.za,t)},t.prototype.removeEvent=function(){var e=this;e.exploreStepBtn.removeEventListener(eui.tep,e.gl,e),e.exitBtn.removeEventListener(eui.tep,e.km,e),e.addPPBtn.removeEventListener(eui.tep,e.tk,e),e.awardBtn.removeEventListener(eui.tep,e.bk,e),e.queTipBtn.removeEventListener(eui.tep,e.fw,e),e.boxTipBtn.removeEventListener(eui.tep,e.pr,e),e.selectBtn.removeEventListener(egret.Event.CHANGE,e.nf,e),vkG.$r(UtJ.FZ,e.ub,e),vkG.$r(UtJ.WNM,e.vt,e),vkG.$r(UtJ.RZW,e.kj,e),vkG.$r(UtJ.ZN,e.ut,e),vkG.$r(UtJ.MY,e.le,e),vkG.$r(UtJ.DBA,e.rl,e),vkG.$r(UtJ.NK,e.za,e)},t.prototype.za=function(){this.selectBtn.selected=1==App.WW.autoBuyPP?!0:!1},t.prototype.rl=function(){var e=this;e.kj(),e.gl()},t.prototype.nf=function(){var e=this,t=GApp.timer;return t-e.iv<400?void MessageTipManager.instance.show(fvg.GVf("store003")):(e.iv=t,void(e.selectBtn.selected?App.VS.popup(null,AutoBuyPPPopUi):(ExploreMsgProxy.JP(0),App.WW.autoBuyPP=0)))},t.prototype.fw=function(){App.VS.popup(null,EventPreViewPopUi,null,0)},t.prototype.pr=function(){App.VS.popup(null,EventPreViewPopUi,null,1)},t.prototype.bk=function(){App.VS.popup(null,RewardPreviewPopUi)},t.prototype.hm=function(){var e=this;if(App.WW.currentArea>0){e.exploreDetailBg.source="exploremap_json.explore_map_"+App.WW.currentArea+"_png";var t=ExploreManager.instance.getRoutes();e.ns.length=0,e.ns=t}},t.prototype.ss=function(){var e,t,n,i=this;if(i.ns)for(var r=0;r<i.ns.length;r++)i.jy==r&&i.jy>0&&(e=i.ns[r-1]),i.jy>=ExploreTypeConst.EP&&(e=i.ns[i.ns.length-1]);e&&2==e.split(",").length&&(t=e.split(",")[0],n=e.split(",")[1],i.headImg.x=t,i.headImg.y=n)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e&&e.length>0){var n=e[0];ExploreMsgProxy.SR(n),App.WW.currentArea=n}},t.prototype.ut=function(){GObj.$d(this)},t.prototype.kj=function(){this.ppTxt.text=fvg.GVf("explore2",App.WW.currentPP)},t.prototype.tk=function(){App.VS.popup(null,GetPPPopUi)},t.prototype.ec=function(){this.tk()},t.prototype.vt=function(){var e=this;e.jy=App.WW.mySite,e.ppTxt.text=fvg.GVf("explore2",App.WW.currentPP);var t=int(100*e.jy/ExploreTypeConst.EP);if(t=Math.min(t,100),t=Math.max(t,0),e.jy==ExploreTypeConst.EP&&(t=100),e.progressTxt.text=fvg.GVf("explore23",t),!App.WW.isCardEvent){var n=e.ui==ExploreTypeConst.IJ?!0:!1;App.VS.popup(null,ExploreResultPopUi,null,void 0,!1,n)}App.WW.isCardEvent=!1},t.prototype.ub=function(){var e=this;if(e.CSo){e.hm(),e.selectBtn.selected=1==App.WW.autoBuyPP?!0:!1,e.jy=App.WW.mySite,e.ppTxt.text=fvg.GVf("explore2",App.WW.currentPP),e.currentTypes=App.WW.currentTypes;var t=int(100*e.jy/ExploreTypeConst.EP);t=Math.min(t,100),t=Math.max(t,0),e.jy==ExploreTypeConst.EP&&(t=100),e.progressTxt.text=fvg.GVf("explore23",t),e.jy>0&&e.ss(),(-1==e.jy||0==e.jy)&&(1==App.WW.currentArea?(e.headImg.x=207,e.headImg.y=548):2==App.WW.currentArea&&(e.headImg.x=146,e.headImg.y=532)),1==App.WW.currentArea?(e.awardBtn.x=126,e.awardBtn.y=107):2==App.WW.currentArea&&(e.awardBtn.x=251,e.awardBtn.y=107),e.ld()}},t.prototype.ld=function(){var e=this;if(e.imageBoxs){for(var t=e.imageBoxs.length,n=0;t>n;n++)e.removeChild(e.imageBoxs[n]),GObj.$d(e.imageBoxs[n]),e.imageBoxs[n]=null;e.imageBoxs=[]}if(e.imageQues){for(var i=e.imageQues.length,n=0;i>n;n++)e.removeChild(e.imageQues[n]),GObj.$d(e.imageQues[n]),e.imageQues[n]=null;e.imageQues=[]}for(var r=[],a=[],o=e.currentTypes.length,s=e.te.length,n=0;o>n;n++)for(var p=0;s>p;p++)e.currentTypes[n]==e.te[p].id&&(e.te[p].type==ExploreTypeConst.VZ&&r.push(n),(e.te[p].type==ExploreTypeConst.CR||e.te[p].type==ExploreTypeConst.GS||e.te[p].type==ExploreTypeConst.IK)&&a.push(n));if(r&&r.length>0)for(var n=0;n<r.length;n++){var l=e.ns[r[n]];if(!l)return;var c=[];if(c=l.split(","),l&&2==c.length){var u=c[0],d=c[1],g=GObj.$c(eui.Image);g.x=parseInt(u)+3,g.y=parseInt(d)+30,g.source="explore_json.explore_box_png",g.touchEnabled=!1,e.addChild(g),e.imageBoxs.push(g)}}if(a&&a.length>0)for(var n=0;n<a.length;n++){var l=e.ns[a[n]];if(!l)return;var c=[];if(c=l.split(","),l&&2==c.length){var u=c[0],d=c[1],g=GObj.$c(eui.Image);g.x=parseInt(u)+18,g.y=parseInt(d)+23,g.source="explore_json.explore_unknow_png",g.touchEnabled=!1,e.addChild(g),e.imageQues.push(g)}}e.addChild(e.headImg)},t.prototype.om=function(e){var t=this;switch(t.ui=e.type,e.type){case ExploreTypeConst.KI:var n=e.option.split("|");n&&2==n.length&&EitherOrPopUi.QY(e.text||"",n[0],n[1],t.gc,this,null,t.td);break;case ExploreTypeConst.VZ:case ExploreTypeConst.IJ:e.type==ExploreTypeConst.IJ&&(t.progressTxt.text=fvg.GVf("explore23",100)),App.VS.popup(null,ExploreResultPopUi,null,e,!0);break;case ExploreTypeConst.BQ:App.VS.popup(null,SingleChoicePopUi,null,e);break;case ExploreTypeConst.GS:App.VS.popup(null,CardGamePopUi,null,e);break;case ExploreTypeConst.IK:App.VS.popup(null,BusinessPopUi);break;case ExploreTypeConst.CR:App.VS.popup(null,FieldBossPopUi,null,e)}t.exploreStepBtn.touchEnabled=!0},t.prototype.hc=function(e){var t=this;if(t.te){for(var n=t.te.length,i=0;n>i;i++)if(t.te[i].id==e)return t.te[i];return null}},t.prototype.le=function(){var e=this;e.ub();var t=100*ExploreManager.instance.bossHp;t&&t>0&&(e.js(),e.ac&&!e.ac.destory&&e.ac.setHp(t)),0==t&&(ExploreManager.instance.bossHp=1)},t.prototype.km=function(){var e=this;Alert.WK(fvg.GVf("explore6"),null,null,e.ou,this,null,null)},t.prototype.ou=function(){ExploreMsgProxy.BG(),App.WW.mySite=-1,App.WW.currentArea=0,App.WW.currentTypes.length=0,GObj.$d(this)},t.prototype.gl=function(){var e=this;e.jy=App.WW.mySite;var t=App.WW.currentPP;if(!t||0>=t)return void(1!=App.WW.autoBuyPP?e.tk():ExploreMsgProxy.EH());if(e.jy>=ExploreTypeConst.EP)return void MessageTipManager.instance.show(fvg.GVf("explore32"));var n,i,r;if(e.ns)for(var a=0;a<e.ns.length;a++)e.jy==a&&(n=e.ns[a]);if(n&&n&&2==n.split(",").length){i=n.split(",")[0],r=n.split(",")[1];var o=egret.Tween.get(e.headImg,{loop:!1});o.to({x:i,y:r},500).call(e.js,e).wait(100),e.exploreStepBtn.touchEnabled=!1}},t.prototype.js=function(){var e=this;e.currentTypes=App.WW.currentTypes;var t=e.currentTypes[e.jy],n=e.hc(t);n&&e.om(n)},t.prototype.gc=function(){ExploreMsgProxy.BS(1)},t.prototype.td=function(){ExploreMsgProxy.BS(2)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),t.imageBoxs){for(var n=t.imageBoxs.length,i=0;n>i;i++)t.removeChild(t.imageBoxs[i]),GObj.$d(t.imageBoxs[i]),t.imageBoxs[i]=null;GObj.$d(t.imageBoxs),t.imageBoxs=null}if(t.imageQues){for(var n=t.imageQues.length,i=0;n>i;i++)t.removeChild(t.imageQues[i]),GObj.$d(t.imageQues[i]),t.imageQues[i]=null;GObj.$d(t.imageQues),t.imageQues=null}GObj.$d(t.ppTxt),t.ppTxt=null,GObj.$d(t.exploreStepBtn),t.exploreStepBtn=null,GObj.$d(t.exitBtn),t.exitBtn=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.addPPBtn),t.addPPBtn=null,GObj.$d(t.ac),t.ac=null,GObj.$d(t.autoBuyTxt),t.autoBuyTxt=null,t.te=null,t.currentTypes=null,t.ns=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ExploreDetailPopUi.prototype,"ExploreDetailPopUi");var ExploreHelpPopUi=function(e){function t(){return e.call(this,"ExploreHelpPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.NB,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(ExploreHelpPopUi.prototype,"ExploreHelpPopUi");var ExploreResultPopUi=function(e){function t(){var t=e.call(this,"ExploreResultPopUi")||this;return t.dq=!1,t.nz=!1,t.skinName=RRUU.$s("ExploreResultPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.confirmBtn.label=fvg.GVf("7"),e.title=fvg.GVf("explore27")},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.dn,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.dn,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e){var i=e.length;if(i>0){var r=e[0];r&&n.cg(r),i>1&&n.bu(e[1]),i>2&&n.fe(e[2])}}},t.prototype.cg=function(e){var t=this;t.CSo&&e&&(t.descTxt.textFlow=LgRe.OQ(e.text||""))},t.prototype.bu=function(e){var t=this;if(t.CSo)if(t.nz=e,t.nz)t.title=fvg.GVf("explore37");else{var n=XCA.BU();if(n)for(var i=(n.length,0);i<n.length;i++)n[i].id==App.WW.resultId&&(t.descTxt.textFlow=LgRe.OQ(n[i].content));App.WW.resultAward&&(t.rewardData.source=App.WW.resultAward,t.rewardData.refresh(),1==t.rewardData.source.length?t.scroller.x=184:2==t.rewardData.source.length?t.scroller.x=154:3==t.rewardData.source.length?t.scroller.x=124:4==t.rewardData.source.length&&(t.scroller.x=94)),t.title=fvg.GVf("explore27")}},t.prototype.fe=function(e){this.dq=e,e&&(App.WW.currentArea=0,App.WW.currentTypes.length=0,App.KB.showEffect(gYq.XC,100,-25,-20))},t.prototype.dn=function(){var e=this;e.nz&&ExploreMsgProxy.BS(1),GObj.$d(e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.dq&&vkG.$d(UtJ.ZN),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ExploreResultPopUi.prototype,"ExploreResultPopUi");var ExploreView=function(e){function t(t){var n=e.call(this,"ExploreView")||this;return n.tup=0,n.skinName=RRUU.$s("ExploreView"),n}return __extends(t,e),t.prototype.initView=function(){var t=this;
e.prototype.initView.call(this),t.areaImgs=[],t.areaBtns=[],t.quanNumTxt.text=App.FK.hsx(ExploreTypeConst.AB).toString();for(var n,i,r=1;5>=r;r++)n=this["area_img_"+r],i=this["areaBtn_"+r],n&&t.areaImgs.push(n),i&&(i.addEventListener(eui.tep,t.kw,t),t.areaBtns.push(i))},t.prototype.initData=function(){e.prototype.initData.call(this),ExploreMsgProxy.LB(),this.bn()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.back_img.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.ck,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.lz,t),t.societyBtn.addEventListener(eui.tep,t.cz,t),t.aboutBtn.addEventListener(eui.tep,t.e_,t),vkG.$a(UtJ.DV,t.sc,t)},t.prototype.removeEvent=function(){var e=this;if(e.back_img.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ck,e),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.lz,e),e.societyBtn.removeEventListener(eui.tep,e.cz,e),e.aboutBtn.removeEventListener(eui.tep,e.e_,e),vkG.$r(UtJ.DV,e.sc,e),e.areaBtns)for(var t=0;t<e.areaBtns.length;t++)e.areaBtns[t].removeEventListener(eui.tep,e.kw,e)},t.prototype.sc=function(){this.quanNumTxt.text=App.FK.hsx(ExploreTypeConst.AB).toString()},t.prototype.bn=function(){var e=this;e.tup=0;var t=App.VP.currStar,n=[];n=ExploreManager.instance.getExploreAreaStars();for(var i=0;i<n.length;i++){var r=[];if(r=n[i].split(","),2==r.length){if(parseInt(r[1])>t){e.tup=i+1;break}i==n.length-1&&(e.tup=i+2)}}for(var i=1;5>=i;i++)i>=e.tup&&(this["gray_img"+i].visible=!0)},t.prototype.e_=function(){App.VS.popup(null,ExploreHelpPopUi)},t.prototype.cz=function(){vkG.$d(UtJ.RB,1)},t.prototype.ck=function(e){for(var t,n=this,i=e.stageX,r=e.stageY,a=0;a<n.areaImgs.length;a++)if(t=n.areaImgs[a],t.hitTestPoint(i,r,!0)){n.currImg!=t&&(n.currImg&&(n.currImg.visible=!1),n.currImg=t),n.currImg.visible=!0;break}},t.prototype.lz=function(e){var t=this;if(t.currImg){var n=e.stageX,i=e.stageY;if(t.currImg.hitTestPoint(n,i,!0)){var r=t.areaImgs.indexOf(t.currImg);t.sx(r)}t.currImg&&(t.currImg.visible=!1,t.currImg=null)}},t.prototype.kw=function(e){var t=this,n=e.target,i=t.areaBtns.indexOf(n);i>=0&&t.sx(i)},t.prototype.sx=function(e){var t=this;if(0==App.WW.currentArea&&e+1<t.tup){if(App.FK.hsx(ExploreTypeConst.AB)<=0)return void _JDW.TR(ExploreTypeConst.AB);Alert.WK(fvg.GVf("explore41"),null,null,t.re,this,[e+1],null)}else if(e+1>=t.tup){var n=[];if(n=ExploreManager.instance.getExploreAreaStars(),n.length==ExploreTypeConst._H){var i=n[e],r=[];if(r=i.split(","),i&&2==r.length){var a=parseInt(r[1]);a>=ExploreTypeConst.KQ?MessageTipManager.instance.show(fvg.GVf("explore33")):MessageTipManager.instance.show(fvg.GVf("explore34",a))}}}else if(e+1==App.WW.currentArea)App.VS.popup(10040,ExploreDetailPopUi,void 0,e+1);else{var o=App.FK.hsx(ExploreTypeConst.AB);if(!o||1>o)return void _JDW.TR(ExploreTypeConst.AB);Alert.WK(fvg.GVf("explore3"),null,null,t.ae,this,[e+1],null)}},t.prototype.re=function(e){this.quanNumTxt.text=(App.FK.hsx(ExploreTypeConst.AB)-1).toString(),App.WW.currentArea=e,App.VS.popup(10040,ExploreDetailPopUi,null,e)},t.prototype.ae=function(e){this.quanNumTxt.text=(App.FK.hsx(ExploreTypeConst.AB)-1).toString(),ExploreMsgProxy.MC(e),App.WW.currentArea=e,App.VS.popup(10040,ExploreDetailPopUi)},t.prototype.openRecommend=function(){App.VS.popup(10040,ExploreDetailPopUi),vkG.$d(UtJ.MY)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),t.areaImgs)for(;t.areaImgs.length>0;)GObj.$d(t.areaImgs.pop());if(t.areaImgs=null,t.areaBtns)for(;t.areaBtns.length>0;)GObj.$d(t.areaBtns.pop());t.areaBtns=null,GObj.$d(t.currImg),t.currImg=null,GObj.$d(t.back_img),t.back_img=null,GObj.$d(t.societyBtn),t.societyBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.quanNumTxt),t.quanNumTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ExploreView.prototype,"ExploreView");var FieldBossPopUi=function(e){function t(){var t=e.call(this,"FieldBossPopUi")||this;return t.skinName=RRUU.$s("FieldBossPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fightBtn.label=fvg.GVf("explore20"),e.giveUpbtn.label=fvg.GVf("explore17"),e.fightUseTxt.text=fvg.GVf("explore21"),e.title=fvg.GVf("explore22"),e.progressBar.value=100;var t=100*ExploreManager.instance.bossHp;e.setHp(t)},t.prototype.initEvent=function(){var e=this;e.fightBtn.addEventListener(eui.tep,e.br,e),e.giveUpbtn.addEventListener(eui.tep,e.vy,e)},t.prototype.removeEvent=function(){var e=this;e.fightBtn&&e.fightBtn.removeEventListener(eui.tep,e.br,e),e.giveUpbtn&&e.giveUpbtn.removeEventListener(eui.tep,e.vy,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e){var n=e.length;if(n>0){var i=e[0];i&&this.setContent(i)}}},t.prototype.setContent=function(e){var t=this;if(t.CSo){if(e&&(t.descTxt.text=e.text||"",e.p1))for(var n=XCA.NM(),i=n.length,r=0;i>r;r++)e.p1==n[r].tid&&(t.bossNameTxt.text=n[r].name||"");var a=100*ExploreManager.instance.bossHp;t.setHp(a)}},t.prototype.setHp=function(e){var t=this;e&&0!=e||(e=100),e=int(e),t.progressBar.value=Math.min(e,100),t.progressTxt.text=fvg.GVf("explore24",Math.min(e,100))},t.prototype.br=function(){if(App.WW.currentPP<=0)return void MessageTipManager.instance.show(fvg.GVf("explore5"));var e=StaticData.EXPLORE_FIELD_BOSS_MAP_ID;App.VS.closeAll(),App.VS.enterMapOpenUI(e,10040,null,!1,"openRecommend"),App.UY.enter(e,!0),GObj.$d(this)},t.prototype.vy=function(){return App.WW.currentPP<=0?void MessageTipManager.instance.show(fvg.GVf("explore5")):(ExploreMsgProxy.JT(),void GObj.$d(this))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.bossNameTxt),t.bossNameTxt=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.fightUseTxt),t.fightUseTxt=null,GObj.$d(t.fightBtn),t.fightBtn=null,GObj.$d(t.giveUpbtn),t.giveUpbtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FieldBossPopUi.prototype,"FieldBossPopUi");var GetPPPopUi=function(e){function t(){var t=e.call(this,"GetPPPopUi")||this;return t.skinName=RRUU.$s("GetPPPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("5"),e.buyPPTxt.text=fvg.GVf("explore44"),e.quanDesTxt.text=fvg.GVf("explore46"),e.buyPPBtn.label=fvg.GVf("explore16"),e.exchangeBtn.label=fvg.GVf("explore45")},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.buyPPBtn.addEventListener(eui.tep,e.vh,e),e.exchangeBtn.addEventListener(eui.tep,e.ws,e)},t.prototype.removeEvent=function(){var e=this;e.buyPPBtn.removeEventListener(eui.tep,e.vh,e),e.exchangeBtn.removeEventListener(eui.tep,e.ws,e)},t.prototype.vh=function(){App.VS.popup(null,BuyPPPopUi),GObj.$d(this)},t.prototype.ws=function(){var e=this,t=ExploreManager.instance.currentPP;return t>=ExploreTypeConst.RY?(MessageTipManager.instance.show(fvg.GVf("explore30")),void GObj.$d(e)):(Alert.WK(fvg.GVf("explore40"),null,null,e.iz,e),void GObj.$d(e))},t.prototype.iz=function(){if(App.FK.hsx(ExploreTypeConst.AB)<=0)return void _JDW.TR(ExploreTypeConst.AB);var e=ExploreManager.instance.currentPP;return e>=ExploreTypeConst.RY?void MessageTipManager.instance.show(fvg.GVf("explore30")):void ExploreMsgProxy.ZQ()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyPPTxt),t.buyPPTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GetPPPopUi.prototype,"GetPPPopUi");var RewardPreviewPopUi=function(e){function t(){var t=e.call(this,"RewardPreviewPopUi")||this;return t.skinName=RRUU.$s("RewardPreviewPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("explore39");var t=ExploreManager.instance.getPreviewAwards();t&&(e.rewardData.source=t,e.rewardData.refresh())},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.ts=function(){var e=this;App.WW.finalAward&&(e.rewardData.source=App.WW.finalAward,e.rewardData.refresh())},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RewardPreviewPopUi.prototype,"RewardPreviewPopUi");var SingleChoiceItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SingleChoiceItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.kr,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.kr,e)},t.prototype.kr=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;t&&(e.contentTxt.text=t.name,t.selected?e.selectedImg.visible=!0:e.selectedImg.visible=!1)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.selectedImg),t.selectedImg=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SingleChoiceItem.prototype,"SingleChoiceItem");var SingleChoicePopUi=function(e){function t(){var t=e.call(this,"SingleChoicePopUi")||this;return t.ks=0,t.skinName=RRUU.$s("SingleChoicePopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.selectData=GObj.$c(eui.ArrayCollection),e.selectGroup.dataProvider=e.selectData,e.selectGroup.itemRenderer=SingleChoiceItem,e.confirmBtn.label=fvg.GVf("7"),e.title=fvg.GVf("explore9"),e.eg()},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.gk,e),e.selectGroup.addEventListener(egret.Event.CHANGE,e.jf,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.gk,e),e.selectGroup.removeEventListener(egret.Event.CHANGE,e.jf,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e){var n=e.length;if(n>0){var i=e[0];i&&this.setContent(i)}}},t.prototype.setContent=function(e){var t=this;t.CSo&&e&&e&&(t.zo=e,t.eg())},t.prototype.eg=function(){var e=this;if(e.zo&&e.CSo&&e.zo){if(e.descTxt.text=e.zo.text||"",!e.zo.option)return;var t=e.zo.option.split("|");if(t&&t.length>0){e.selectData.source.length=0;for(var n=0;n<t.length;n++){var i=GObj.$c(SingleSelectItemVo);i.name=t[n],i.selected=!1,e.selectData.source.push(i)}e.selectData.refresh()}}},t.prototype.jf=function(){var e=this,t=e.selectGroup.selectedIndex;e.ks=t+1;for(var n=0;n<e.selectData.length;n++)e.selectData.getItemAt(n).selected=!1;e.selectGroup.selectedItem.selected=!0,e.selectData.refresh()},t.prototype.gk=function(){var e=this;return 0==e.ks?void MessageTipManager.instance.show(fvg.GVf("explore1")):(ExploreMsgProxy.BS(e.ks),void GObj.$d(e))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.selectGroup&&(t.selectGroup.dataProvider=null,GObj.$d(t.selectGroup)),t.selectGroup=null,t.selectData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SingleChoicePopUi.prototype,"SingleChoicePopUi");var FamilyAddListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyAddListItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.addBtn.label=fvg.GVf("pboss18"),e.dg=App.XW.getFamilyConfig();var t=XCA.CG(IDU._B).split(",");e.ce=parseInt(t[0]),e.gradeNum=GObj.$c(NumberView),e.gradeNum.horizontalCenter=-20,e.gradeNum.verticalCenter=0,e.addChild(e.gradeNum)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){e.ba=e.data;var t=e.ba.g||0;e.nameLab.text=e.ba.n||"",e.gradeLab.text=t+"",e.mumberLab.text=fvg.GVf("public022",e.ba.mn,App.XW.getMaxMumberByGrade(e.ba.g||0));var n=e.ba.ha||0;e.addBtn.visible=0==n?!0:!1,e.getImg.visible=0==n?!1:!0,hFO.instance.getNumberView(bRC.LZ,t.toString(),-2,e.gradeNum);var i;i=t>=42?42:t,e.gradeImg.source=kLM.RJC(int(i/3))}},t.prototype.initEvent=function(){var e=this;e.addBtn.addEventListener(eui.tep,e.ga,e),e.addEventListener(eui.RFS,e.ti,e)},t.prototype.removeEvent=function(){var e=this;e.addBtn.removeEventListener(eui.tep,e.ga,e),e.removeEventListener(eui.RFS,e.ti,e)},t.prototype.ga=function(){var e=this;if(!(e.ba.id<=0)){var t=App.KF.fpjt+3600*e.ce-App.NN.serverSecond;return t>=0?void MessageTipManager.instance.show(fvg.GVf("family31",kpd.formatDateBySec5(t))):void FamilyMsgProxy.AT(5,e.ba.id)}},t.prototype.ti=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.mumberLab),t.mumberLab=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.gradeImg),t.gradeImg=null,GObj.$d(t.gradeNum),t.gradeNum=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyAddListItem.prototype,"FamilyAddListItem");var FamilyAddListPopUi=function(e){function t(){var t=e.call(this,"FamilyAddListPopUi")||this;return t.skinName=RRUU.$s("FamilyAddListPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("family2"),e.descLab.text=fvg.GVf("family28"),e.listDatas=GObj.$c(eui.ArrayCollection),e.levelList.dataProvider=e.listDatas,e.levelList.itemRenderer=FamilyAddListItem},t.prototype.initData=function(){FamilyMsgProxy.AT(2),this.gh()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.MD,e.kw,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.MD,e.kw,e)},t.prototype.kw=function(){this.gh()},t.prototype.gh=function(){var e=[],t=App.XW.familyInfo.fl;for(var n in t)e.push(t[n]);this.listDatas.replaceAll(e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.levelScroller),t.levelScroller=null,GObj.$d(t.levelList),t.levelList=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyAddListPopUi.prototype,"FamilyAddListPopUi");var FamilyApplyItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyApplyItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.agreeBtn.label=fvg.GVf("family43"),e.refuseBtn.label=fvg.GVf("family44")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.data&&(e.cd=e.data,e.descLab.textFlow=LgRe.OQ(fvg.GVf("family21",e.cd.an)),e.timeLab.text=kpd.formatDateBySec(parseInt(e.cd.at),!1),e.agreeBtn.visible=e.refuseBtn.visible=1==App.XW.familyInfo.pd?!0:!1)},t.prototype.initEvent=function(){var e=this;e.agreeBtn.addEventListener(eui.tep,e.wi,e),e.refuseBtn.addEventListener(eui.tep,e.pm,e),e.addEventListener(eui.RFS,e.mm,e)},t.prototype.removeEvent=function(){var e=this;e.agreeBtn.removeEventListener(eui.tep,e.wi,e),e.refuseBtn.removeEventListener(eui.tep,e.pm,e),e.removeEventListener(eui.RFS,e.mm,e)},t.prototype.mm=function(){GObj.$d(this)},t.prototype.wi=function(){FamilyMsgProxy.AT(6,parseInt(this.cd.au),1)},t.prototype.pm=function(){FamilyMsgProxy.AT(6,parseInt(this.cd.au),0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.agreeBtn),t.agreeBtn=null,GObj.$d(t.refuseBtn),t.refuseBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyApplyItem.prototype,"FamilyApplyItem");var FamilyApplyView=function(e){function t(){var t=e.call(this,"FamilyApplyView")||this;return t.skinName=RRUU.$s("FamilyApplyView"),t.horizontalCenter=0,t.y=45,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.logDatas=GObj.$c(eui.ArrayCollection),e.logGroup.dataProvider=e.logDatas,e.logGroup.itemRenderer=FamilyApplyItem},t.prototype.initData=function(){this.na()},t.prototype.na=function(){var e=this,t=App.XW.familyInfo.al,n=[];if(!t||t.length<=0)return void e.logDatas.replaceAll(n);for(var i=t.length||0,r=0;i>r;r++)n.push(t[r]);e.logDatas.replaceAll(n)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TA,e.vz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TA,e.vz,e)},t.prototype.vz=function(){this.na()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.scroller),t.scroller,GObj.$d(t.logGroup),t.logGroup=null,t.logDatas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyApplyView.prototype,"FamilyApplyView");var FamilyAttrPopUi=function(e){function t(){var t=e.call(this,"FamilyAttrPopUi")||this;return t.skinName=RRUU.$s("FamilyAttrPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("public008"),e.currDescLab.text=fvg.GVf("beast1"),e.nextDescLab.text=fvg.GVf("beast2"),e.currgradeNum=GObj.$c(NumberView),e.currgradeNum.horizontalCenter=-118,e.currgradeNum.verticalCenter=-16,e.addChild(e.currgradeNum),e.nextgradeNum=GObj.$c(NumberView),e.nextgradeNum.horizontalCenter=107,e.nextgradeNum.verticalCenter=-16,e.addChild(e.nextgradeNum)},t.prototype.initData=function(){this.gk()},t.prototype.gk=function(){var e=this,t=App.XW.familyInfo,n=t.g||0,i=XCA.AQS.UFA(72,1,n);e.currAttrLab.text=LRJ.KG(i.attrid),e.currGradeLab.text=n+"",hFO.instance.getNumberView(bRC.LZ,n.toString(),-2,e.currgradeNum);var r;if(r=n>=42?42:n,e.currGradeImg.source=kLM.RJC(int(r/3)),n>=i.maxgrade)e.nextAttrLab.text=fvg.GVf("beauty7"),e.nextGradeLab.text=i.maxgrade+"",hFO.instance.getNumberView(bRC.LZ,i.maxgrade.toString(),-4,e.nextgradeNum),e.nextGradeImg.source=kLM.RJC(int(i.maxgrade/5));else{var a=XCA.AQS.UFA(72,1,n+1);e.nextAttrLab.text=LRJ.KG(a.attrid),e.nextGradeLab.text=n+1+"",hFO.instance.getNumberView(bRC.LZ,(n+1).toString(),-2,e.nextgradeNum),e.nextGradeImg.source=kLM.RJC(int((Math.min(n+1),100/3)))}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TA,e._z,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TA,e._z,e)},t.prototype._z=function(){this.gk()},t.prototype.ah=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currGradeLab),t.currGradeLab=null,GObj.$d(t.nextGradeLab),t.nextGradeLab=null,GObj.$d(t.currDescLab),t.currDescLab=null,GObj.$d(t.nextDescLab),t.nextDescLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.currgradeNum),t.currgradeNum=null,GObj.$d(t.nextgradeNum),t.nextgradeNum=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyAttrPopUi.prototype,"FamilyAttrPopUi");var FamilyBtnType=function(){function e(){}return e.HY="message",e.SN="task",e.LZ="stronghold",e.YF="war",e.CY="list",e.AL="shop",e}();__reflect(FamilyBtnType.prototype,"FamilyBtnType");var FamilyBuffItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyBuffItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.data&&(e.zy=e.data,e.buffNameLab.text=e.zy.p5,e.iconView.upgradeId=e.zy.tid,e.buffDescLab.text=e.zy.p6)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.jf,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.jf,e)},t.prototype.jf=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.buffDescLab),t.buffDescLab=null,GObj.$d(t.buffNameLab),t.buffNameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyBuffItem.prototype,"FamilyBuffItem");var FamilyCreateView=function(e){function t(){var t=e.call(this,"FamilyCreateView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.addBtn.label=fvg.GVf("family1"),t.creatBtn.label=fvg.GVf("family3")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.addBtn.addEventListener(eui.tep,t.zm,t),t.creatBtn.addEventListener(eui.tep,t.dl,t),vkG.$a(UtJ.TA,t.py,t)},t.prototype.removeEvent=function(){var e=this;e.addBtn.removeEventListener(eui.tep,e.zm,e),e.creatBtn.removeEventListener(eui.tep,e.dl,e),vkG.$r(UtJ.TA,e.py,e)},t.prototype.py=function(){},t.prototype.zm=function(){App.VS.popup(10073,FamilyAddListPopUi)},t.prototype.dl=function(){return IoG.EZ()?void msgTip(fvg.GVf("public101")):void App.VS.popup(10073,FamilyCreatPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.creatBtn),t.creatBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FamilyCreateView.prototype,"FamilyCreateView");var FamilyCreatPopUi=function(e){function t(){var t=e.call(this,"FamilyCreatPopUi")||this;return t.skinName=RRUU.$s("FamilyCreatPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("family3"),e.descLab.text=fvg.GVf("family4");var t=XCA.CG(IDU._B).split(",");e.tl=parseInt(t[1]),e.nameLab.prompt=fvg.GVf("family48")},t.prototype.initData=function(){var e=this;e.fd=App.XW.getFamilyConfig(),e.creatBtn.label=e.fd[2]+""},t.prototype.initEvent=function(){var e=this;e.creatBtn.addEventListener(eui.tep,e.pw,e),vkG.$a(UtJ.TA,e.cn,e)},t.prototype.removeEvent=function(){var e=this;e.creatBtn.removeEventListener(eui.tep,e.pw,e),vkG.$r(UtJ.TA,e.cn,e)},t.prototype.cn=function(){App.VS.openMain(10053)},t.prototype.pw=function(){var e=this,t=(App.XW.familyInfo.ct||0)+3600*e.tl-App.NN.serverSecond;if(t>=0)return void MessageTipManager.instance.show(fvg.GVf("family30",kpd.formatDateBySec5(t)));if(App.XT.vipInfo.vipGrade<e.fd[1])return App.TT.show(fvg.GVf("family42",e.fd[1])),void(e.nameLab.text=QycO.OK);if(App.KF.point<e.fd[2])return App.TT.show(fvg.GVf("public017")),void(e.nameLab.text=QycO.OK);var n=e.nameLab.text.trim();if(0==n.length)return e.zl(1),void(e.nameLab.text=QycO.OK);var i=/[^\u4e00-\u9fa50-9a-zA-Z_]/g;if(i.test(n))return e.zl(2),void(e.nameLab.text=QycO.OK);var r=Nkz.XT(n),a=XCA.CG(IDU.__).split(",");return r<parseInt(a[0])?(e.zl(3),void(e.nameLab.text=QycO.OK)):r>parseInt(a[1])?(e.zl(4),void(e.nameLab.text=QycO.OK)):void FamilyMsgProxy.AT(1,0,0,e.nameLab.text)},t.prototype.zl=function(e){void 0===e&&(e=1e3),MessageTipManager.instance.show(fvg.GVf("family6_"+e))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.creatBtn),t.creatBtn=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyCreatPopUi.prototype,"FamilyCreatPopUi");var FamilyFirstView=function(e){function t(){var t=e.call(this,"FamilyFirstView")||this;return t.nq=[FamilyBtnType.HY,FamilyBtnType.SN,FamilyBtnType.LZ,FamilyBtnType.YF,FamilyBtnType.CY,FamilyBtnType.AL],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.familyDatas=GObj.$c(eui.ArrayCollection),t.levelList.dataProvider=t.familyDatas,t.levelList.itemRenderer=FamilyMumberItem,t.privilegeBtn.label=fvg.GVf("family66"),t.gradeNum=GObj.$c(NumberView),t.gradeNum.horizontalCenter=0,t.gradeNum.verticalCenter=0,t.gradeBtn.numGroup.addChild(t.gradeNum)},t.prototype.initData=function(){var t=this;t.sq=App.XW.getFamilyConfig(),e.prototype.initData.call(this),t._d()},t.prototype._d=function(){var e=this;e.ax();var t=App.XW.familyInfo;e.nameLab.text=t.n||"",e.moneyLab.text=(t.money||0)+"";var n=t.g||0;e.gradeBtn.label=n+"",hFO.instance.getNumberView(bRC.LZ,n.toString(),-2,e.gradeNum);var i;i=n>=42?42:n,e.gradeBtn.Img.source=kLM.RJC(int(i/3));var r=[],a=0;for(var o in t.ml)r.push(t.ml[o]),a++;if(r.sort(e.xa),e.familyDatas.replaceAll(r),e.mumberLab.text=fvg.GVf("public022",a,App.XW.getMaxMumberByGrade(t.g||0)),e.un=XCA.AQS.UFA(72,1,n),n>=e.un.maxgrade)e.proTxt.text="MAX",e.expBar.value=100;else{var s=XCA.AQS.UFA(72,1,n+1),p=(t.gp||0)-(e.un.needgp||0),l=s.needgp-(e.un.needgp||0);e.expBar.value=int(p/l*100),e.proTxt.text=fvg.GVf("public022",p,l)}e.messageBtn.icon=UsU.TO()?StaticData.GHj:null},t.prototype.xa=function(e,t){return e.offlinetime>0?1:t.offlinetime>0?-1:t.offlinetime<=0?e.pd>t.pd?-1:1:void 0},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.familyMgrBtn.addEventListener(eui.tep,t.tr,t),t.privilegeBtn.addEventListener(eui.tep,t.eq,t),t.messageBtn.addEventListener(eui.tep,t.uy,t),t.gradeBtn.addEventListener(eui.tep,t.kd,t),vkG.$a(UtJ.TA,t.qm,t),vkG.$a(UtJ.UI,t.u_,t)},t.prototype.removeEvent=function(){var e=this;e.familyMgrBtn.removeEventListener(eui.tep,e.tr,e),e.privilegeBtn.removeEventListener(eui.tep,e.eq,e),e.messageBtn.removeEventListener(eui.tep,e.uy,e),e.gradeBtn.removeEventListener(eui.tep,e.kd,e),vkG.$r(UtJ.TA,e.qm,e),vkG.$r(UtJ.UI,e.u_,e)},t.prototype.u_=function(){App.VS.closeAll()},t.prototype.qm=function(){this._d()},t.prototype.eq=function(){App.VS.popup(10053,FamilyPrivilegePopUi)},t.prototype.tr=function(){var e=this,t="";t=1===App.XW.familyInfo.pd?fvg.GVf("family40"):fvg.GVf("family75"),Alert.WK(t,null,null,e.yq,e)},t.prototype.yq=function(){FamilyMsgProxy.AT(4)},t.prototype.kd=function(){App.VS.popup(10053,FamilyAttrPopUi)},t.prototype.uy=function(){App.VS.popup(10053,FamilyMessagePopUi)},t.prototype.ax=function(){var e=this;1===App.XW.familyInfo.pd?e.familyMgrBtn.label=fvg.GVf("family76"):e.familyMgrBtn.label=fvg.GVf("family8")},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.mumberLab),t.mumberLab=null,GObj.$d(t.moneyLab),t.moneyLab=null,GObj.$d(t.gradeBtn),t.gradeBtn=null,GObj.$d(t.privilegeBtn),t.privilegeBtn=null,GObj.$d(t.expBar),t.expBar=null,GObj.$d(t.levelScroller),t.levelScroller=null,GObj.$d(t.levelList),t.levelList=null,GObj.$d(t.gradeNum),t.gradeNum=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FamilyFirstView.prototype,"FamilyFirstView");var FamilyInputPopUi=function(e){function t(){var t=e.call(this,"FamilyInputPopUi")||this;return t.sp=76,t.skinName=RRUU.$s("FamilyInputPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.sm=e[0],n.changeData()},t.prototype.initData=function(){this.changeData()},t.prototype.changeData=function(){var e=this;e.inputTxt.prompt=fvg.GVf("family49"),1==e.sm?(e.titleLab.text=fvg.GVf("family61"),e.messageBtn.label=fvg.GVf("family62")):2==e.sm&&(e.messageBtn.label=fvg.GVf("family50"),e.titleLab.text=fvg.GVf("family50"))},t.prototype.initEvent=function(){var e=this;e.messageBtn.addEventListener(eui.tep,e.ke,e)},t.prototype.removeEvent=function(){var e=this;e.messageBtn.removeEventListener(eui.tep,e.ke,e)},t.prototype.ke=function(){var e=this,t=e.inputTxt.text.trim();if(0==t.length)return e.ye(1),void(e.inputTxt.text=QycO.OK);var n=/[^\u4e00-\u9fa50-9a-zA-Z_]/g;if(n.test(t))return e.ye(2),void(e.inputTxt.text=QycO.OK);var i=Nkz.XT(t);return i>e.sp?(e.ye(4),void(e.inputTxt.text=QycO.OK)):(FamilyMsgProxy.AT(11,e.sm,0,e.inputTxt.text),e.inputTxt.text=QycO.OK,void e.dt())},t.prototype.ye=function(e){void 0===e&&(e=1e3),MessageTipManager.instance.show(fvg.GVf("family63_"+e))},t.prototype.dt=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.inputTxt),t.inputTxt=null,GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.messageBtn),t.messageBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyInputPopUi.prototype,"FamilyInputPopUi");var FamilyLevelWordItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyLevelWordItem"),t
}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.hq=e.data,e.nameLab.text=e.hq.an,e.timeLab.text=kpd.formatDateBySec(e.hq.fjt/1e3,!1),e.descLab.text=e.hq.fmb)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hk,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hk,e)},t.prototype.hk=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyLevelWordItem.prototype,"FamilyLevelWordItem");var FamilyLogItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyLogItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;e.timeLab.text=kpd.formatDateBySec(t.fjt/1e3,!1),e.msgTxt.text=t.fj}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pn,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pn,e)},t.prototype.pn=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyLogItem.prototype,"FamilyLogItem");var FamilyLogView=function(e){function t(){var t=e.call(this,"FamilyLogView")||this;return t.skinName=RRUU.$s("FamilyLogView"),t.horizontalCenter=0,t.y=45,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.logDatas=GObj.$c(eui.ArrayCollection),e.logGroup.dataProvider=e.logDatas,e.logGroup.itemRenderer=FamilyLogItem},t.prototype.initData=function(){this.ig()},t.prototype.ig=function(){this.xa()},t.prototype.initEvent=function(){var e=this;e.addEventListener(UtJ.TD,e.xa,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(UtJ.TD,e.xa,e)},t.prototype.xa=function(){var e=App.XW.familyInfo.fj;if(e&&!(e.length<=0)){for(var t=[],n=0;n<e.length;n++)t.unshift(e[n]);this.logDatas.replaceAll(t)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.scroller),t.scroller,GObj.$d(t.logGroup),t.logGroup=null,t.logDatas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyLogView.prototype,"FamilyLogView");var FamilyMessageBoardView=function(e){function t(){var t=e.call(this,"FamilyMessageBoardView")||this;return t.skinName=RRUU.$s("FamilyMessageBoardView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.changeBtn.label=fvg.GVf("family47"),e.levelWordBtn.label=fvg.GVf("family46"),e.logData=GObj.$c(eui.ArrayCollection),e.logGroup.dataProvider=e.logData,e.logGroup.itemRenderer=FamilyLevelWordItem},t.prototype.initData=function(){this.af()},t.prototype.af=function(){var e=this;e.ii(),e.bt(),1==App.XW.familyInfo.pd?e.changeBtn.visible=!0:e.changeBtn.visible=!1},t.prototype.initEvent=function(){var e=this;e.changeBtn.addEventListener(eui.tep,e.ch,e),e.levelWordBtn.addEventListener(eui.tep,e.rx,e),vkG.$a(UtJ.OVN,e.ii,e),vkG.$a(UtJ.PMD,e.bt,e)},t.prototype.removeEvent=function(){var e=this;e.changeBtn.removeEventListener(eui.tep,e.ch,e),e.levelWordBtn.removeEventListener(eui.tep,e.rx,e),vkG.$r(UtJ.OVN,e.ii,e),vkG.$r(UtJ.PMD,e.bt,e)},t.prototype.ii=function(){var e=this,t=App.XW.familyInfo.fa;if(!t||t.length<=0)e.titleTxt.text=fvg.GVf("family51"),e.descLab.text="";else{var n=t[0],i=kpd.formatDateBySec(n.fjt/1e3,!1);e.titleTxt.textFlow=LgRe.OQ(fvg.GVf("family52",i,n.an)),e.descLab.text=n.fa}},t.prototype.bt=function(){var e=App.XW.familyInfo.fmb;if(e&&!(e.length<=0)){for(var t=[],n=0;n<e.length;n++)t.unshift(e[n]);this.logData.replaceAll(t)}},t.prototype.ch=function(){App.VS.popup(10053,FamilyInputPopUi,null,1)},t.prototype.rx=function(){App.VS.popup(10053,FamilyInputPopUi,null,2)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.logScroller),t.logScroller=null,GObj.$d(t.logGroup),t.logGroup=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.levelWordBtn),t.levelWordBtn=null,GObj.$d(t.changeBtn),t.changeBtn=null,t.logData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyMessageBoardView.prototype,"FamilyMessageBoardView");var FamilyMessagePopUi=function(e){function t(){var t=e.call(this,"FamilyMessagePopUi")||this;return t.skinName=RRUU.$s("FamilyMessagePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.logBtn.label=fvg.GVf("family10"),e.applyBtn.label=fvg.GVf("family11"),e.boardBtn.label=fvg.GVf("family45"),e.title=fvg.GVf("family57"),e.br=GObj.$c(kQr),e.br.cwA(e.boardBtn),e.br.cwA(e.logBtn),e.br.cwA(e.applyBtn)},t.prototype.initData=function(){var e=this;e.br.selectedIndex=0,e.xp()},t.prototype.xp=function(){this.ol()},t.prototype.initEvent=function(){var e=this;e.br.addEventListener(egret.Event.CHANGE,e.zj,e),vkG.$a(UtJ.TA,e.ol,e)},t.prototype.removeEvent=function(){var e=this;e.br.removeEventListener(egret.Event.CHANGE,e.zj,e),vkG.$r(UtJ.TA,e.ol,e)},t.prototype.ol=function(){this.applyBtn.icon=UsU.TO()?StaticData.GHj:null},t.prototype.oc=function(){GObj.$d(this)},t.prototype.zj=function(e){var t=this,n=t.br.LuO;switch(t.bv&&(t.bv.visible=!1,t.bv=null),n){case t.logBtn:t.nq||(t.nq=GObj.$c(FamilyLogView),t.nq.x=26,t.nq.y=53,t.addChild(t.nq)),t.nq.visible=!0,t.bv=t.nq;break;case t.applyBtn:t.nm||(t.nm=GObj.$c(FamilyApplyView),t.nm.x=26,t.nm.y=53,t.addChild(t.nm)),t.nm.visible=!0,t.bv=t.nm;break;case t.boardBtn:t.wf||(t.wf=GObj.$c(FamilyMessageBoardView),t.wf.x=26,t.wf.y=53,t.addChild(t.wf)),t.wf.visible=!0,t.bv=t.wf}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.logBtn),t.logBtn=null,GObj.$d(t.applyBtn),t.applyBtn=null,GObj.$d(t.bv),t.bv=null,GObj.$d(t.nq),t.nq=null,GObj.$d(t.nm),t.nm=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyMessagePopUi.prototype,"FamilyMessagePopUi");var FamilyMumberItem=function(e){function t(){var t=e.call(this)||this;return t.tq=!1,t.skinName=RRUU.$s("FamilyMumberItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.transBtn.label=fvg.GVf("family15"),e.expelBtn.label=fvg.GVf("family16"),e.accuseBtn.label=fvg.GVf("family14"),e.transBtn.visible=!1,e.expelBtn.visible=!1,e.accuseBtn.visible=!1,e.vipGrade=GObj.$c(NumberView),e.vipGrade.x=63,e.vipGrade.y=68,e.addChild(e.vipGrade),e.vipImg.visible=!1,e.iconView.touchEnabled=!0},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){e.bs=e.data;var t=1==e.bs.pd?fvg.GVf("family12"):fvg.GVf("family13");if(e.nameLab.text=e.bs.name,e.postLab.text=t,e.showOffLineTime(e.timeLab,e.bs.offlinetime),e.activeNumLab.text=(e.bs.uc||0)+"",e.frameImg.source=kLM.ZQ(e.bs.usehf),e.iconView.icon=kLM.JU(e.bs.head,e.bs.heads),e.transBtn.visible=!1,e.expelBtn.visible=!1,1==e.bs.pd){e.accuseBtn.visible=!0;var n=App.NN.serverSecond-(e.bs.offlinetime||0);e.bs.offlinetime<0||n<parseInt(XCA.CG(IDU.FFP).split(",")[0])?e.accuseBtn.visible=!1:(e.accuseBtn.visible=!0,App.XW.familyInfo.ip?e.accuseBtn.label=fvg.GVf("family34"):e.accuseBtn.label=fvg.GVf("family14"))}else e.accuseBtn.visible=!1;e.bs.vip>0?(hFO.instance.getNumberView(bRC.BL,e.bs.vip.toString(),-4,e.vipGrade),e.vipImg.visible=!0,e.vipGrade.visible=!0):(e.vipImg.visible=!1,e.vipGrade.visible=!1)}},t.prototype.showOffLineTime=function(e,t){var n=this,i=n.bs.offlinetime>0?"family_json.family_icon1_png":"family_json.family_icon2_png";if(n.onLineImg.source=i,n.timeLab.textColor=n.bs.offlinetime>0?Color.SE:Color.TX,n.bs.offlinetime<=0)return void(e.text=fvg.GVf("family17"));var r=App.NN.serverSecond-t,a=int(r/StaticData.DATE_SCEOND),o=int((r-a*StaticData.DATE_SCEOND)/StaticData.HOUR_SCEOND);a>0?e.text=fvg.GVf("family36",a,o):1>o?e.text=fvg.GVf("family35"):e.text=fvg.GVf("family18",o)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.lr,e),e.transBtn.addEventListener(eui.tep,e.ji,e),e.expelBtn.addEventListener(eui.tep,e.yk,e),e.accuseBtn.addEventListener(eui.tep,e._s,e),e.iconView.addEventListener(eui.tep,e.be,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.lr,e),e.transBtn.removeEventListener(eui.tep,e.ji,e),e.expelBtn.removeEventListener(eui.tep,e.yk,e),e.accuseBtn.removeEventListener(eui.tep,e._s,e),e.iconView.removeEventListener(eui.tep,e.be,e)},t.prototype.be=function(){var e=this;e.tq=!e.tq,1==App.XW.familyInfo.pd&&1==e.bs.pd||1!=App.XW.familyInfo.pd?e.transBtn.visible=e.expelBtn.visible=!1:1==App.XW.familyInfo.pd&&1!=e.bs.pd&&(e.transBtn.visible=e.expelBtn.visible=e.tq)},t.prototype.lr=function(){GObj.$d(this)},t.prototype.ji=function(){var e=this;Alert.WK(fvg.GVf("family78"),null,null,e.vq,e)},t.prototype.yk=function(){var e=this;Alert.WK(fvg.GVf("family79"),null,null,e._b,e)},t.prototype._s=function(){var e=this;Alert.WK(fvg.GVf("family80"),null,null,e.jv,e)},t.prototype.vq=function(){FamilyMsgProxy.AT(8,this.bs.uid)},t.prototype._b=function(){FamilyMsgProxy.AT(7,this.bs.uid)},t.prototype.jv=function(){return App.XW.familyInfo.ip?void MessageTipManager.instance.show(fvg.GVf("family34")):void FamilyMsgProxy.AT(10,this.bs.uid)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.onLineImg),t.onLineImg=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.transBtn),t.transBtn=null,GObj.$d(t.expelBtn),t.expelBtn=null,GObj.$d(t.accuseBtn),t.accuseBtn=null,GObj.$d(t.activeNumLab),t.activeNumLab=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.vipImg),t.vipImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyMumberItem.prototype,"FamilyMumberItem");var FamilyPrivilegePopUi=function(e){function t(){var t=e.call(this,"FamilyPrivilegePopUi")||this;return t.skinName=RRUU.$s("FamilyPrivilegePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("family7"),e.conditionLab.text=fvg.GVf("public026",20),e.buffDatas=GObj.$c(eui.ArrayCollection),e.buffGroup.dataProvider=e.buffDatas,e.buffGroup.itemRenderer=FamilyBuffItem},t.prototype.initData=function(){this.tt()},t.prototype.tt=function(){var e=this;e.descLab.text=fvg.GVf("family72");var t=App.OZ.getDataByName(IDU.QTX);if(t&&!(t.length<=0)){for(var n,i=t.length,r=0;i>r;r++){if(!(App.XW.familyInfo.g>=t[r])){e.fe=t[r],e.ba=XCA.AQS.UFA(72,1,e.fe);break}(n=XCA.AQS.UFA(72,1,t[r]))&&e.buffDatas.source.push(n)}e.buffDatas.refresh(),e.ze()}},t.prototype.ze=function(){var e=this;return e.ba?(e.nextGroup.visible=!0,e.nameLab.text=e.ba.p5,e.buffDescLab.text=e.ba.p6,e.conditionLab.text=fvg.GVf("family20",e.fe),void(e.iconView.upgradeId=e.ba.tid)):(e.height=340,void(e.nextGroup.visible=!1))},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.zn=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buffScroller),t.buffScroller=null,GObj.$d(t.buffGroup),t.buffGroup=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.buffDescLab),t.buffDescLab=null,GObj.$d(t.conditionLab),t.conditionLab=null,GObj.$d(t.nextGroup),t.nextGroup=null,t.buffDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyPrivilegePopUi.prototype,"FamilyPrivilegePopUi");var FamilyShopView=function(e){function t(){var t=e.call(this,"FamilyShopView")||this;return t.skinName=RRUU.$s("FamilyShopView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.timeLab.text=fvg.GVf("family56"),e.shopData=GObj.$c(eui.ArrayCollection),e.shopGroup.dataProvider=e.shopData,e.shopGroup.itemRenderer=ShopItemRenderer},t.prototype.initData=function(){var e=this;e.fn(),e.rt()},t.prototype.fn=function(){var e,t=this;if(e=App.IQ.getShopGoodsListByShopType(11))for(var n=e.length,i=0;n>i;i++)t.shopData.source.push(e[i]);t.shopData.refresh()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DV,e.rt,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DV,e.rt,e)},t.prototype.rt=function(){this.badgeTxt.text=App.FK.hsx(StaticData.TID_FAMILY)+""},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.shopScroller),t.shopScroller=null,GObj.$d(t.shopGroup),t.shopGroup=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.badgeTxt),t.badgeTxt=null,t.shopData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FamilyShopView.prototype,"FamilyShopView");var FamilyTaskItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("FamilyTaskItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardDesc.text=fvg.GVf(107),e.completeImg.visible=!1,e.yf=parseInt(XCA.CG("addtrial_needcon"))||45},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.nl,e),e.submitBtn.addEventListener(eui.tep,e.au,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nl,e),e.submitBtn.removeEventListener(eui.tep,e.au,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&e.data.taskTemplate){var t=e.data;e.taskTitleTxt.text=t.taskTemplate.title+TaskHelp.UO(t.taskTemplate.type,t.pro,t.taskTemplate.maxValue),1==t.isComp?(e.submitBtn.visible=!1,e.completeImg.visible=!0):(e.submitBtn.visible=!0,e.completeImg.visible=!1),t.pro>=t.taskTemplate.maxValue?(e.submitBtn.label=fvg.GVf(104),e.submitBtn.bgImg.source="core_json.btn_1_png",e.submitBtn.icon=StaticData.GHj):(e.submitBtn.label=fvg.GVf(103),e.submitBtn.bgImg.source="core_json.btn_2_png",e.submitBtn.icon=null);var n=TaskHelp.KQ(t.taskTemplate);e.rewardIcon_1.icon=n.icon0?n.icon0:null,e.rewardIcon_1.label=n.icon0?QycO.UQ+n.count0:QycO.OK,e.rewardIcon_2.icon=n.icon1?n.icon1:null,e.rewardIcon_2.label=n.icon1?QycO.UQ+n.count1:QycO.OK,e.rewardIcon_3.icon=n.icon2?n.icon2:null,e.rewardIcon_3.label=n.icon2?QycO.UQ+n.count2:QycO.OK}},t.prototype.au=function(e){var t=this;if(t.data)if(t.data.pro>=t.data.taskTemplate.maxValue)App.JA.checkIncome(t.fl,t);else{var n=t.data.taskTemplate;TaskHelp.VO(n.type,n.maxValue,n.taskType,n.vid)}},t.prototype.fl=function(){var e=this;e.data&&(App.BG.isBagFull()||TaskMsgProxy.EJ(e.data.tid))},t.prototype.nl=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.taskTitleTxt),t.taskTitleTxt=null,GObj.$d(t.rewardIcon_1),t.rewardIcon_1=null,GObj.$d(t.rewardIcon_2),t.rewardIcon_2=null,GObj.$d(t.rewardIcon_1),t.rewardIcon_1=null,GObj.$d(t.rewardIcon_2),t.rewardIcon_2=null,GObj.$d(t.submitBtn),t.submitBtn=null,GObj.$d(t.completeImg),t.completeImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyTaskItem.prototype,"FamilyTaskItem");var FamilyTaskView=function(e){function t(){var t=e.call(this,"FamilyTaskView")||this;return t.skinName=RRUU.$s("FamilyTaskView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.taskDatas=GObj.$c(eui.ArrayCollection),e.taskList.dataProvider=e.taskDatas,e.taskList.itemRenderer=FamilyTaskItem,e.oy=XCA.CG(IDU.DY).split(",")},t.prototype.initData=function(){var e=this;e.oj(),e.ik()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.RZ,e.oj,e),vkG.$a(UtJ.BGK,e.ik,e),vkG.$a(UtJ.ZL,e.ik,e);for(var t=e.oy.length,n=0;t>n;n++)this["boxBtn"+(n+1)].addEventListener(eui.tep,e.gz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.RZ,e.oj,e),vkG.$r(UtJ.BGK,e.ik,e),vkG.$r(UtJ.ZL,e.ik,e);for(var t=e.oy.length,n=0;t>n;n++)this["boxBtn"+(n+1)].removeEventListener(eui.tep,e.gz,e)},t.prototype.oj=function(){var e=this,t=App.QA.getTaskListByType(7),n=[];for(var i in t)n.push(t[i]);n.sort(App.QA.taskCompareFun),e.taskDatas.replaceAll(n),e.go()},t.prototype.go=function(){var e=this,t=0,n=0,i=App.QA.getTaskListByType(7);for(var r in i){var a=i[r];a.isComp&&t++,n++}e.proTxt.textFlow=LgRe.OQ(fvg.GVf("family68",t,n)),e.progressBar.value=int((App.XW.familyInfo.tp||0)/e.oy.length*100)},t.prototype.ik=function(){var e=this;e.tm=App.XW.familyInfo.tp||0;for(var t=e.oy.length,n=0;t>n;n++){var i=parseInt(e.oy[n]);e.tm>=i?(this["boxBtn"+(n+1)].boxImg.source="core_json.award_box_png",0==(App.XW.familyInfo.tk&1<<n)?(this["boxBtn"+(n+1)].icon=StaticData.GHj,this["getImg_"+(n+1)].visible=!1):(this["boxBtn"+(n+1)].icon=null,this["getImg_"+(n+1)].visible=!0)):(this["boxBtn"+(n+1)].boxImg.source="core_json.award_box_grey_png",this["boxBtn"+(n+1)].icon=null)}e.progress=e.tm;var r=App.OZ.getDataByName(IDU.ZY);e.descLab.text=fvg.GVf("family37",App.XW.familyInfo.tp||0,r[3],Math.min(App.XW.familyInfo.tp||0,4))},Object.defineProperty(t.prototype,"progress",{set:function(e){var t=this,n=int(t.tm/4*100);n>100&&(n=100),t.progressBar.value=n},enumerable:!0,configurable:!0}),t.prototype.gz=function(e){for(var t=this,n=e.currentTarget,i=t.oy.length,r=App.XW.familyInfo.tk,a=0;i>a;a++)if(n==this["boxBtn"+(a+1)]){if(0!=(r&1<<a))break;var o=GObj.$c(BoxPopUi);o.showDetail(129,App.XW.familyInfo.tp||0,parseInt(t.oy[a]),"129_"+(a+1),a,!0)}},t.prototype.jj=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.proTxt),t.proTxt=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.scroller),t.scroller,GObj.$d(t.taskList),t.taskList=null,GObj.$d(t.boxBtn1),t.boxBtn1=null,GObj.$d(t.boxBtn2),t.boxBtn2=null,GObj.$d(t.boxBtn3),t.boxBtn3=null,GObj.$d(t.boxBtn4),t.boxBtn4=null,GObj.$d(t.getImg_1),t.getImg_1=null,GObj.$d(t.getImg_2),t.getImg_2=null,GObj.$d(t.getImg_3),t.getImg_3=null,GObj.$d(t.getImg_4),t.getImg_4=null,t.taskDatas=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FamilyTaskView.prototype,"FamilyTaskView");var FamilyView=function(e){function t(){var t=e.call(this,"FamilyView")||this;return t.zt=0,t.skinName=RRUU.$s("FamilyView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.sn()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TA,e.az,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TA,e.az,e)},t.prototype.sn=function(){var e=this;e.zt=App.XW.familyInfo.id?1:0,e.il(null)},t.prototype.az=function(){this.sn()},t.prototype.il=function(e){var t=this;t.yt&&(t.yt.visible=!1),t.yt=null,0==t.zt?(t.yl||(t.yl=GObj.$c(FamilyCreateView),t.addChild(t.yl)),t.yt=t.yl):1==t.zt&&(t.bd||(t.bd=GObj.$c(FamilyFirstView),t.addChild(t.bd)),t.yt=t.bd),t.yt&&(t.yt.visible=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.yl),t.yl=null,GObj.$d(t.bd),t.bd=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyView.prototype,"FamilyView");var FamilyAwardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyAwardItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fa=[],e.receiveBtn.label=fvg.GVf("104"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoodsItemRenderer,e.smaicon.goodsTid=StaticData.TID_GOODS_57},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.xf,e),e.receiveBtn.addEventListener(eui.tep,e.rc,e),vkG.$a(UtJ.DV,e.uo,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.xf,e),e.receiveBtn.removeEventListener(eui.tep,e.rc,e),vkG.$r(UtJ.DV,e.uo,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.hw=e.data,e.titleTxt.textFlow=LgRe.OQ(fvg.GVf("familywar13",e.hw.b)),e.itemData.source.length=0;var t,n=e.hw.a||QycO.BE,i=0;for(var r in n)t=e.fa[i],t||(t=e.fa[i]=GObj.$c(nlwj)),t.tid=parseInt(r),t.count=n[r],e.itemData.source.push(t),i++;e.itemData.refresh(),e.uo()}},t.prototype.uo=function(){var e=this,t=App.FK.hsx(StaticData.TID_GOODS_57);e.countTxt.text=fvg.GVf("public022",t,1),e.countTxt.textColor=1>t?Color.KA:Color.TX},t.prototype.rc=function(e){var t=this;if(t.hw){var n=App.FK.hsx(StaticData.TID_GOODS_57);return 0>=n?void _JDW.TR(StaticData.TID_GOODS_57):void CampaignMsgProxy.WQ(t.hw.p)}},t.prototype.xf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.countTxt),t.countTxt=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyAwardItem.prototype,"FamilyAwardItem");var FamilyAwardView=function(e){function t(){var t=e.call(this,"FamilyAwardView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=FamilyAwardItem,e.recordTxt.text=fvg.GVf("family74"),e.headView.setData(1,1,0)},t.prototype.initEvent=function(){var e=this;e.aboutBtn.addEventListener(eui.tep,e.sq,e),vkG.$a(UtJ.AY,e.ot,e)},t.prototype.removeEvent=function(){var e=this;e.aboutBtn.removeEventListener(eui.tep,e.sq,e),vkG.$r(UtJ.AY,e.ot,e)},t.prototype.sq=function(){var e=GObj.$c(GeneralAboutPopUi);e.loU(AboutType.ZN),e.show()},t.prototype.initData=function(){this.zl()},t.prototype.ot=function(){this.zl()},t.prototype.zl=function(){var e=this,t=App.MB.familyWarInfo,n=t.no1;n?(e.nameTxt.text=n.name,e.capTxt.text=fvg.GVf("public018",n.cap||0),e.scoreTxt.text=fvg.GVf("familywar6",n.score||0),e.headView.setData(n.sex,n.usehf,n.heads)):(e.nameTxt.text=fvg.GVf("rank10"),e.capTxt.text=fvg.GVf("public018",0),e.scoreTxt.text=fvg.GVf("familywar6",0),e.headView.setData(1,0,0));var i=t.awardList||[];e.itemData.replaceAll(i)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.headView),t.headView=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyAwardView.prototype,"FamilyAwardView");var FamilyRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyRankItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.boxBtn.addEventListener(eui.tep,e.ih,e),e.addEventListener(eui.RFS,e.sn,e)},t.prototype.removeEvent=function(){var e=this;e.boxBtn.removeEventListener(eui.tep,e.ih,e),e.removeEventListener(eui.RFS,e.sn,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.h_=e.data,e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.text=""):(e.rankImg.source=null,e.rankTxt.text=toChars(e.itemIndex+1)),e.h_?(e.familyNameTxt.text=e.h_.fn||fvg.GVf("rank10"),e.nameTxt.text=e.h_.name||fvg.GVf("rank10"),e.scoreTxt.text=fvg.GVf("familywar6",e.h_.score||0)):(e.familyNameTxt.text=fvg.GVf("rank10"),e.nameTxt.text=fvg.GVf("rank10"),e.scoreTxt.text=fvg.GVf("familywar6",0)))},t.prototype.ih=function(e){var t,n=this;for(t=n.itemIndex+1;t>=0&&!XCA.DG(131,t);t--);var i=GObj.$c(BoxPopUi);i.showDetail(131,1,n.itemIndex+1,t)},t.prototype.sn=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.familyNameTxt),t.familyNameTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,t.h_=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyRankItem.prototype,"FamilyRankItem");var FamilyRankView=function(e){function t(){var t=e.call(this,"FamilyRankView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt.text=fvg.GVf("familywar2");var t=App.OZ.getDataByName(IDU.LT);e.descTxt_1.text=fvg.GVf("familywar4",t&&t[2]||0),e.descTxt_2.text=fvg.GVf("familywar5"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=FamilyRankItem;var n=XCA.RE("131_0"),i=Nkz.PI(n);i.length>0&&(e.itemView.data=i[0])},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.jm,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.jm,e),vkG.$r(HUtJ.HEARTBEAT,e.zf,e)},t.prototype.initData=function(){var e=this,t=App.PV.getData(FDG.GH);(!t||GApp.timer-t.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.GH),e.jm(t),e.bi()},t.prototype.jm=function(e){var t=this;if(!e||e.type==FDG.GH){var n,i=e?Math.max(e.list.length,50):50;t.itemData.source.length=0;for(var r=e?e.list||[]:[],a=0;i>a;a++)n=r[a],t.itemData.source.push(n);t.itemData.refresh(),t.rankTxt.text=fvg.GVf("rank0",e&&e.order?e.order:i+"+"),t.scoreTxt.text=fvg.GVf("familywar6",e?e.score:0)}},t.prototype.bi=function(){var e=this,t=App.OZ.getDataByName(IDU.LT),n=t[0],i=t[1],r=App.NN.todaySecond;e.bn=0,r>=n&&i>r&&(e.bn=i-r),e.bn>0&&vkG.$a(HUtJ.HEARTBEAT,e.zf,e),e.zf()},t.prototype.zf=function(){var e=this;e.destory||(e.bn>0?(e.timeTxt.text=fvg.GVf("pboss4",kpd.formatDateBySec5(e.bn)),e.timeTxt.textColor=Color.TX):(vkG.$r(HUtJ.HEARTBEAT,e.zf,e),e.timeTxt.text=fvg.GVf("public035"),e.timeTxt.textColor=Color.KA),e.bn--)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyRankView.prototype,"FamilyRankView");var FamilyWarAwardPopUi=function(e){function t(){var t=e.call(this,"FamilyWarAwardPopUi")||this;return t.skinName=RRUU.$s("FamilyWarAwardPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("family71"),e.title1Lbl.text=fvg.GVf("family69"),e.title2Lbl.text=fvg.GVf("family70"),e.verticalCenter=e.horizontalCenter=0,e.descTxt_1.text=fvg.GVf("familywar7"),e.descTxt_2.text=fvg.GVf("familywar8"),e.itemData_1=GObj.$c(eui.ArrayCollection),e.itemGroup_1.dataProvider=e.itemData_1,e.itemGroup_1.itemRenderer=GoodsItemRenderer,e.itemData_2=GObj.$c(eui.ArrayCollection),e.itemGroup_2.dataProvider=e.itemData_2,e.itemGroup_2.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.xe()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.fd=e[0],n.xe())},t.prototype.xe=function(){var e=this;e.CSo&&e.fd&&(e.rp(),e.xx())},t.prototype.rp=function(){var e=this,t=XCA.RE("130_"+e.fd+"_2");if(usable(t)){var n=Nkz.PI(t);e.itemData_1.replaceAll(n)}},t.prototype.xx=function(){var e=this,t=XCA.RE("130_"+e.fd+"_3");if(usable(t)){var n=Nkz.PI(t);e.itemData_2.replaceAll(n)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemGroup_1&&(t.itemGroup_1.dataProvider=null,GObj.$d(t.itemGroup_1)),t.itemGroup_1=null,t.itemGroup_2&&(t.itemGroup_2.dataProvider=null,GObj.$d(t.itemGroup_2)),t.itemGroup_2=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,t.itemData_1=t.itemData_2=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FamilyWarAwardPopUi.prototype,"FamilyWarAwardPopUi");var FamilyWarGroupView=function(e){function t(t){var n=e.call(this,"FamilyWarGroupView")||this;
return n.skinName=RRUU.$s("FamilyWarGroupView"),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.warBtn.label=fvg.GVf("familywar1"),e.rankBtn.label=fvg.GVf("familywar2"),e.awardBtn.label=fvg.GVf("familywar3"),e.aw=GObj.$c(kQr),e.aw.cwA(e.warBtn),e.aw.cwA(e.rankBtn),e.aw.cwA(e.awardBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.aw.addEventListener(egret.Event.CHANGE,t.my,t)},t.prototype.removeEvent=function(){var e=this;e.aw.removeEventListener(egret.Event.CHANGE,e.my,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.aw.selectedIndex=0},t.prototype.my=function(e){var t=this,n=t.aw.LuO;switch(t.ln&&(t.ln.visible=!1),t.ln=null,n){case t.warBtn:t.nx||(t.nx=GObj.$c(FamilyWarView),t.nx.x=2,t.nx.y=0,t.addChildAt(t.nx,1)),t.ln=t.nx;break;case t.rankBtn:t.mm||(t.mm=GObj.$c(FamilyRankView),t.mm.x=0,t.mm.y=0,t.addChildAt(t.mm,1)),t.ln=t.mm;break;case t.awardBtn:t.eak||(t.eak=GObj.$c(FamilyAwardView),t.eak.x=0,t.eak.y=0,t.addChildAt(t.eak,1)),t.ln=t.eak}t.ln&&(t.ln.visible=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.warBtn),t.warBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.awardBtn),t.awardBtn=null,GObj.$d(t.aw),t.aw=null,GObj.$d(t.nx),t.nx=null,GObj.$d(t.mm),t.mm=null,GObj.$d(t.eak),t.eak=null,t.ln=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FamilyWarGroupView.prototype,"FamilyWarGroupView");var FamilyWarItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FamilyWarItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.challengeBtn.label=fvg.GVf("37"),e.titleLbl.text=fvg.GVf("familywar19"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoodsItemRenderer,e.smaicon.goodsTid=StaticData.TID_GOODS_54,e.ym()},t.prototype.initEvent=function(){var e=this;e.previewBtn.addEventListener(eui.tep,e.jg,e),e.challengeBtn.addEventListener(eui.tep,e.yl,e),e.buyBtn.addEventListener(eui.tep,e.it,e),e.addEventListener(eui.RFS,e.au,e),vkG.$a(UtJ.DV,e.ir,e),vkG.$a(UtJ.YJ,e.ym,e)},t.prototype.removeEvent=function(){var e=this;e.previewBtn.removeEventListener(eui.tep,e.jg,e),e.challengeBtn.removeEventListener(eui.tep,e.yl,e),e.buyBtn.removeEventListener(eui.tep,e.it,e),e.removeEventListener(eui.RFS,e.au,e),vkG.$r(UtJ.DV,e.ir,e),vkG.$r(UtJ.YJ,e.ym,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.ym=function(){this.buyBtn.visible=!IoG.EZ()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.sq=e.data,e.backImg.source="familywar_json.fw_diff_"+(e.itemIndex+1)+"_bg_png",e.diffImg.source="familywar_json.fw_diff_"+(e.itemIndex+1)+"_png";var t=XCA.RE("130_"+(e.itemIndex+1)+"_1");if(usable(t)){var n=Nkz.PI(t);e.itemData.replaceAll(n)}e.ir(),e.challengeBtn.visible=CondHelp.WC(e.sq.con,e.sq.conval),e.condTxt.visible=!e.challengeBtn.visible,e.challengeBtn.visible||(e.condTxt.text=CondHelp.AH(e.sq.con,e.sq.conval))}},t.prototype.jg=function(e){App.VS.popup(10055,FamilyWarAwardPopUi,null,this.itemIndex+1)},t.prototype.yl=function(e){var t=this;if(t.sq&&App.UY.isCanSwitc()){var n=App.OZ.getDataByName(IDU.LT),i=n[0],r=n[1],a=App.NN.todaySecond;if(i>a||a>=r)return void App.TT.show(fvg.GVf("public036"));var o=App.FK.hsx(StaticData.TID_GOODS_56);if(0>=o)return void _JDW.TR(StaticData.TID_GOODS_56);var s=t.sq.mapid||3701;if(!s)return void App.TT.show(fvg.GVf("familywar10"));App.VS.closeAll(),App.VS.enterMapOpenUI(s,10055,void 0,!1,2),App.UY.enter(s)}},t.prototype.it=function(e){var t=this,n=App.OZ.getDataByName(IDU.LT),i=n[3],r=n[4],a=r-(App.MB.familyWarInfo.buy||0);Alert.WK(fvg.GVf("familywar14",i,a,r),void 0,void 0,t.gh,this,[i,a])},t.prototype.gh=function(e,t){return 0>=t?void App.TT.show(fvg.GVf("34")):App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):void CampaignMsgProxy.HW()},t.prototype.au=function(e){GObj.$d(this)},t.prototype.ir=function(){var e=this,t=App.FK.hsx(StaticData.TID_GOODS_56);e.haveTxt&&(e.haveTxt.text=toChars(t))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.diffImg),t.diffImg=null,GObj.$d(t.previewBtn),t.previewBtn=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.titleLbl),t.titleLbl=null,GObj.$d(t.condTxt),t.condTxt=null,GObj.$d(t.smaicon),t.smaicon=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FamilyWarItem.prototype,"FamilyWarItem");var FamilyWarView=function(e){function t(){var t=e.call(this,"FamilyWarView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=FamilyWarItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.f_,e)},t.prototype.initData=function(){for(var e=this,t=XCA.WH(),n=t.length||4,i=0;n>i;i++)e.itemData.source.push(t[i]||QycO.BE);e.itemData.refresh(),e.vg()},t.prototype.vg=function(){var e=this;e.wt=1;var t=App.OZ.getDataByName(IDU.LT),n=t[0],i=t[1],r=App.NN.todaySecond;r>=n&&i>r?(e.wt=2,e.hr=i-r):r>i?e.hr=86400-r+n:e.hr=n-r,vkG.$a(HUtJ.HEARTBEAT,e.f_,e),e.f_()},t.prototype.f_=function(){var e=this;e.destory||(1==e.wt?e.timeTxt.textFlow=LgRe.OQ(fvg.GVf("pboss3",fvg.GVf("fixsoul13",Color.KA,kpd.formatDateBySec5(e.hr)))):e.timeTxt.textFlow=LgRe.OQ(fvg.GVf("pboss4",fvg.GVf("fixsoul13",Color.SQ,kpd.formatDateBySec5(e.hr)))),e.hr<=0?e.vg():e.hr--)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FamilyWarView.prototype,"FamilyWarView");var FashionItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("FashionItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wu,e),vkG.$a(UtJ.TS,e.__infoUpdateHandler,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wu,e),vkG.$r(UtJ.TS,e.__infoUpdateHandler,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.js=e.data,e.js)){e.nameTxt.text=e.js.name;var t=gLw.GM(e.js.tid);e.iconView.upgradeId=e.js.tid,e.nameTxt.textColor=aKF.DU(t),e.__infoUpdateHandler()}},t.prototype.__infoUpdateHandler=function(){var e=this;if(e.js){var t=gLw.IQ(e.js.tid),n=App.BG.fashionInfo[t]||0;e.js.p1*n||0;e.iconView.bottomText=n>0?fvg.GVf("specia002",n):"",e.redPointImg.visible=UsU.RF(e.js)||UsU.RU(e.js)||UsU.TX(e.js)||UsU.UR(e.js);var i=0===n;e.lockImg.visible=i,e.isWearing.visible=App.BG.fashionUse===t}},t.prototype.wu=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,t.js=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FashionItem.prototype,"FashionItem");var FashionSoulPopUi=function(e){function t(){var t=e.call(this,"FashionSoulPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.k_=e[0],n.em())},t.prototype.initView=function(){var e=this,t=GObj.$c(nlwj);t.tid=StaticData.TID_GOODS_7,e.goodsItem.data=t;var n=t.TSF;if(n){var i=n.qua;e.xn=n.p1,e.nameTxt.text=n.name,e.nameTxt.textColor=aKF.DU(n.qua),e.qualityBg.source=kLM.EZ(i)}e.descTxt.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.sc,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ot,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ot,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ot,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ot,e),vkG.$a(UtJ.TS,e.wj,e)},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.sc,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.yo,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.yo,e),Nvm.instance.unRegisteEnterFrame(e.wm,e),vkG.$r(UtJ.TS,e.wj,e)},t.prototype.initData=function(){this.em()},t.prototype.wj=function(){this.rz()},t.prototype.em=function(){var e=this;e.CSo&&e.k_&&(e.gw=XCA.AQS.UFA(24,e.k_,1),e.rz())},t.prototype.rz=function(){var e=this;e.mi=App.BG.fashionInfo[e.k_]||0,e.ma=App.BG.fashionInfo["snum_"+e.k_]||0;var t=0==e.mi?1:e.mi;e.di=e.gw.p2*t,e.useedTxt.text=fvg.GVf("fashion20",e.ma,e.di);var n=App.FK.hsx(StaticData.TID_GOODS_7);e.haveTxt.text=fvg.GVf("414",n),e.useBtn.icon=e.mi>0&&e.ma<e.di&&n>0?StaticData.GHj:null,e.mi>=e.gw.maxgrade?e.nextUseTxt.text=fvg.GVf("skill006"):e.nextUseTxt.text=fvg.GVf("fashion21",e.gw.p2*(t+1)),e.yy(),e.useBtn.icon?e.qf=Math.min(n,e.di-e.ma):e.qf=1,e.jv=1,e.zw()},t.prototype.yy=function(){var e=this,t=XCA.YV(e.xn),n="";if(t){var i=void 0;for(i in xxf.UK)t[i]&&(n+="\n"+fvg.GVf("skill004",xxf.UK[i],t[i]*e.ma))}e.attrsTxt.textFlow=LgRe.OQ(n)},t.prototype.sc=function(e){var t=this;if(0==t.mi)return void MessageTipManager.instance.show(fvg.GVf("fashion23"));if(t.ma>=t.di)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var n=App.FK.hsx(StaticData.TID_GOODS_7);n>0?NXr.II(t.k_,t.jv):_JDW.TR(StaticData.TID_GOODS_7)},t.prototype.ot=function(e){var t=this;if(!t.kv){t.kv=!0,t.ls=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.lh=10;break;case t.minBtn:t.lh=-10;break;case t.addBtn:t.lh=1;break;case t.removeBtn:t.lh=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.yo,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.yo,t),Nvm.instance.registeEnterFrame(t.wm,t)}},t.prototype.yo=function(e){var t=this;t.kv&&(t.kv=!1,t.ls<10&&(t.jv+=t.lh,t.zw()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.yo,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.yo,t),Nvm.instance.unRegisteEnterFrame(t.wm,t))},t.prototype.wm=function(){var e=this;e.kv&&(e.ls++,e.ls%10==0&&(e.jv+=e.lh,e.zw()))},t.prototype.zw=function(){var e=this;e.jv>=e.qf&&(e.jv=e.qf),e.jv<=0&&(e.jv=1),e.countTxt.text=e.jv.toString()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.useedTxt),t.useedTxt=null,GObj.$d(t.nextUseTxt),t.nextUseTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.attrsTxt),t.attrsTxt=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.qualityBg),t.qualityBg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FashionSoulPopUi.prototype,"FashionSoulPopUi");var FashionSuperPopUi=function(e){function t(){var t=e.call(this,"FashionSuperPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.od=e[0],n.gn())},t.prototype.initView=function(){var e=this;e.sb=GObj.$c(nlwj),e.sb.tid=StaticData.TID_GOODS_20,e.goodsItem.data=e.sb;var t=e.sb.TSF;if(t){var n=t.qua;e.ez=t.p1,e.nameLab.text=t.name,e.nameLab.textColor=aKF.DU(t.qua),e.qualityBg.source=kLM.EZ(n)}e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418"),e.descLab_2.text=fvg.GVf("fashion26")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.pi,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tx,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tx,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tx,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tx,e),vkG.$a(UtJ.TS,e.nb,e)},t.prototype.initData=function(){this.gn()},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.pi,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.dct,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.dct,e),Nvm.instance.unRegisteEnterFrame(e.vm,e),vkG.$r(UtJ.TS,e.nb,e)},t.prototype.nb=function(){this.mj()},t.prototype.pi=function(){var e=this;if(0==e.rh)return void MessageTipManager.instance.show(fvg.GVf("fashion23"));if(e.rl>=e.br)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var t=App.FK.hsx(e.sb.tid);t>0?NXr.CG(e.od,e.wq):_JDW.TR(e.sb.tid)},t.prototype.gn=function(){var e=this;e.CSo&&e.od&&(e.zh=XCA.AQS.UFA(24,e.od,1),e.mj())},t.prototype.mj=function(){var e=this;e.rh=App.BG.fashionInfo[e.od]||0,e.rl=App.BG.fashionInfo["sanum_"+e.od]||0;var t=0==e.rh?1:e.rh;e.br=App.JP.getFashionUseMax(t,parseInt(e.zh.crits)),e.useedLab.text=fvg.GVf("fashion20",e.rl,e.br);var n=App.FK.hsx(e.sb.tid);e.haveLab.text=fvg.GVf("414",n),e.useBtn.icon=e.rh>0&&e.rl<e.br&&n>0?StaticData.GHj:null,e.rh>=e.zh.maxgrade?e.nextUseLab.text=fvg.GVf("fashion27",e.br):e.nextUseLab.text=fvg.GVf("fashion21",App.JP.getFashionUseMax(t+1,parseInt(e.zh.crits))),e.qt(),e.useBtn.icon?e.ii=Math.min(n,e.br-e.rl):e.ii=1,e.wq=1,e.uu()},t.prototype.qt=function(){var e=this,t=XCA.YV(e.ez),n="";if(t){var i=void 0;for(i in xxf.UK)t[i]&&(n+="\n"+fvg.GVf("skill004",xxf.UK[i],t[i]*e.rl))}e.attrsLab.textFlow=LgRe.OQ(n)},t.prototype.tx=function(e){var t=this;if(!t.j_){t.j_=!0,t.ku=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.wy=10;break;case t.minBtn:t.wy=-10;break;case t.addBtn:t.wy=1;break;case t.removeBtn:t.wy=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.dct,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.dct,t),Nvm.instance.registeEnterFrame(t.vm,t)}},t.prototype.dct=function(e){var t=this;t.j_&&(t.j_=!1,t.ku<10&&(t.wq+=t.wy,t.uu()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.dct,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.dct,t),Nvm.instance.unRegisteEnterFrame(t.vm,t))},t.prototype.vm=function(){var e=this;e.j_&&(e.ku++,e.ku%10==0&&(e.wq+=e.wy,e.uu()))},t.prototype.uu=function(){var e=this;e.wq>=e.ii&&(e.wq=e.ii),e.wq<=0&&(e.wq=1),e.countTxt.text=e.wq.toString()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nextUseLab),t.nextUseLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.attrAppendTxt),t.attrAppendTxt=null,GObj.$d(t.qualityBg),t.qualityBg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FashionSuperPopUi.prototype,"FashionSuperPopUi");var FashionUpPopUi=function(e){function t(){var t=e.call(this,"FashionUpPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf(422),e.pm=0,e.upgradeBtn.label=fvg.GVf("specia001"),e.rs||(e.rs=GObj.$c(FigureView)),e.rs.x=250,e.rs.y=440,e.addChild(e.rs),e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=50,e.addChild(e.fightView),e.nextAttrData=GObj.$c(eui.ArrayCollection),e.nextAttrGroup.dataProvider=e.nextAttrData,e.nextAttrGroup.itemRendererSkinName=RRUU.$s("FashionUpFrameSkin"),e.curAttrData=GObj.$c(eui.ArrayCollection),e.curAttrGroup.dataProvider=e.curAttrData,e.curAttrGroup.itemRendererSkinName=RRUU.$s("FashionUpFrameSkin"),e.curAttrTitle.text=fvg.GVf("superequipCasting22"),e.maxTxt.text=fvg.GVf("public014")},t.prototype.initData=function(){this.nd()},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.og,e),vkG.$a(UtJ.TS,e.vp,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.og,e),vkG.$r(UtJ.TS,e.vp,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.nl=e[0],n.nd())},t.prototype.nd=function(){var e=this;if(e.CSo&&e.nl){e.wh=gLw.IQ(e.nl.tid);var t=gLw.GM(e.nl.tid),n=(GObj.$c(nlwj),GObj.$c(nlwj));n.tid=parseInt(e.nl.cost),e.needIcon.data=n,e.nameImg.source=kLM.WH(e.wh),e.quaImg.source=kLM.WT(t),e.typeImg.source=kLM.JT(t),e.et<=0?(e.rankView.visible=!1,e.starImg.visible=!1,e.nameImg.horizontalCenter=-170):(e.rankView.visible=!0,e.starImg.visible=!0,e.nameImg.horizontalCenter=-155),e.vp(),e.le()}},t.prototype.le=function(){var e=this;e.nl&&e.rs&&FigureHelps.NW(e.rs,{b:FigureType.EL+e.wh,s:App.KF.sex||1},!1)},t.prototype.vp=function(){var e=this;e.et=App.BG.fashionInfo[e.wh]||0;gLw.GM(e.nl.tid);e.nextAttrTitle.text=fvg.GVf("superequipCasting23");var t=App.FK.hsx(e.nl.cost),n=gLw.IQ(e.nl.tid),i=App.BG.fashionInfo[n]||0,r=1;e.nl.p2*i||0;e.gradeTxt.text=fvg.GVf("specia002",i),e.needIcon.bottomText=fvg.GVf("public022",t,r),e.needIcon.bottomColor=t>=r?Color.TX:Color.KA,hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.et),-2,e.rankView,1),e.upgradeBtn.icon=UsU.RF(e.nl)?StaticData.GHj:null,e["if"](),e.checkUpgrade()},t.prototype.updateAttr=function(e,t,n){var i=this,r=gLw.IQ(i.nl.tid),a=XCA.YV(i.nl.attrid);t.source.splice(0,t.source.length);var o;if(a){var s=(i.se(),void 0),p=void 0;gLw.GM(i.nl.tid);for(s in xxf.UK)p=a[s]*e||0,a[s]&&(p=e?p:0,o={},o.name=xxf.UK[s],o.value="+"+p,o.vx=14*o.name.length,o.color=n,t.source.push(o));for(s in xxf.IM)p=a[s]*e||0,a[s]&&(p=e?p:0,o={},o.name=xxf.IM[s],o.value="+"+(p/10).toFixed(1)+"%",o.color=n,o.vx=14*o.name.length,t.source.push(o));var l=parseInt(App.BG.fashionInfo["scap_"+r])||0;i.fightView.fightNum=l}t.refresh()},t.prototype["if"]=function(){var e=this,t=gLw.IQ(e.nl.tid),n=App.BG.fashionInfo[t]||0,i=0;n<e.nl.maxgrade?(i=n+1,e.maxTxt.visible=!1):(i=n,e.nextAttrGroup.visible=!1,e.maxTxt.visible=!0),e.updateAttr(n,e.curAttrData,2763306),e.updateAttr(i,e.nextAttrData,32521)},t.prototype.se=function(){var e={},t=XCA.FR(StaticData.TID_GOODS_7);if(!t)return e;var n=XCA.YV(t.p1);if(n){var i=void 0,r=App.BG.fashionInfo["snum_"+this.wh]||0;for(i in xxf.UK)n[i]&&(e[i]=n[i]*r)}return e},t.prototype.checkUpgrade=function(){var e=this;e.pm&&e.et!=e.pm&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.vi,e),e.weS.x=60,e.weS.y=600),e.weS.play(1),e.addChild(e.weS)),e.pm=e.et},t.prototype.vi=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS),t._nextMc&&t._nextMc.parent&&t.removeChild(t._nextMc)},t.prototype.og=function(e){var t=this;if(t.et>=t.nl.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var n=App.FK.hsx(t.nl.cost);return 1>n?void _JDW.TR(parseInt(t.nl.cost)):void NXr.XH(gLw.IQ(t.nl.tid))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.vi,t),GObj.$d(t.weS)),t.weS=null,t.nextAttrGroup&&(t.nextAttrGroup.dataProvider=null,GObj.$d(t.nextAttrGroup)),t.nextAttrGroup=null,t.nextAttrData=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.needIcon),t.needIcon=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.rs),t.rs=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.nl=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FashionUpPopUi.prototype,"FashionUpPopUi");var FashionView=function(e){function t(){var t=e.call(this,"FashionView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fq=0,e.ii=0,e.activationBtn.label=fvg.GVf("public012"),e.descTxt.text=fvg.GVf("fashion25"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FashionItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.v_||(e.v_=GObj.$c(FigureView)),e.v_.x=230,e.v_.y=410,e.addChildAt(e.v_,12),e.rl=App.KB.getUIEffect(gYq.VX),e.rl.stop(),e.addChild(e.fightView),rRcz.SS(81,!1)?e.superBtn.visible=!0:e.superBtn.visible=!1},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.AQS.oVs(24);t.xi=[];var i,r;for(var a in n)i=n[a][1],r=App.BG.fashionInfo[gLw.IQ(i.tid)]||0,!r&&!App.FK.hsx(parseInt(i.cost))&&i.hide>=0||(t.datas.source.push(i),t.xi.push(parseInt(a)));t.datas.source.sort(t.xj),t.datas.refresh(),t.defaultType(t.xp||0)},t.prototype.defaultType=function(e){var t=this;if(t.xp=e,t.xi&&t.xi.length>0){var n=t.xi.indexOf(t.xp||0);t.itemList.selectedIndex=n>=0?n:0,t.__selectedChangeHandler(null)}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.activationBtn.addEventListener(eui.tep,t.ge,t),t.itemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.__selectedChangeHandler,t),t.wearBtn.addEventListener(eui.tep,t.uw,t),t.patternBtn.addEventListener(eui.tep,t.hw,t),t.showBtn.addEventListener(eui.tep,t.ck,t),t.fixSoulBtn.addEventListener(eui.tep,t.nol,t),t.superBtn.addEventListener(eui.tep,t.zy,t),vkG.$a(UtJ.TS,t.eq,t)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.ge,e),e.itemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__selectedChangeHandler,e),e.wearBtn.removeEventListener(eui.tep,e.uw,e),e.patternBtn.removeEventListener(eui.tep,e.hw,e),e.showBtn.removeEventListener(eui.tep,e.ck,e),e.fixSoulBtn.removeEventListener(eui.tep,e.nol,e),e.superBtn.removeEventListener(eui.tep,e.zy,e),vkG.$r(UtJ.TS,e.eq,e)},t.prototype.__selectedChangeHandler=function(e){var t=this;t.il=t.itemList.selectedIndex,t.qj=null;var n=t.datas.source[t.il];n&&(t.qj=n,t.kd())},t.prototype.eq=function(){this.kd()},t.prototype.kd=function(){var e=this;if(e.CSo&&e.qj){UsU.RF(e.qj),e.gc=gLw.IQ(e.qj.tid),e.ix=App.BG.fashionInfo[e.gc]||0;var t=App.BG.fashionInfo["spirit_"+e.gc]||0;e.hy&&e.hy.parent&&e.removeChild(e.hy),t>0&&(e.hy&&e.hy.parent?(e.removeChild(e.hy),e.lt()):e.lt(),e.hy.play(),e.addChildAt(e.hy,e.numChildren)),e.showBtn.visible=e.ix>0;var n=gLw.GM(e.qj.tid);e.nameImg.source=kLM.WH(e.gc),e.quaImg.source=kLM.WT(n),e.typeImg.source=kLM.JT(n),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.ix),-2,e.rankView,1),e.ix<=0?(e.rankView.visible=!1,e.starImg.visible=!1,e.nameImg.horizontalCenter=-197):(e.rankView.visible=!0,e.starImg.visible=!0,e.nameImg.horizontalCenter=-185),FigureHelps.NW(e.v_,{b:FigureType.EL+e.gc,s:App.KF.sex||1},!1),e.vb(),e._n(),e.tn(),e.yv(),fNs.instance.execute(hXS.LA,hXS.RZ,e.activationBtn)}},t.prototype.lt=function(){var e=this,t=App.BG.fashionInfo["spirit_"+e.gc]||0;t>0&&(e.hy=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((t+1)/4))),e.hy.x=100,e.hy.y=50,e.hy.touchEnabled=!1,e.hy.touchChildren=!1,e.hy.addEventListener(egret.Event.COMPLETE,e.im,e)},t.prototype.im=function(e){var t=this;t.hy&&t.hy.parent&&t.removeChild(t.hy)},t.prototype.vb=function(){var e=this,t=e.qj.attrid,n=(LRJ.WS(t),XCA.YV(t)),i="";if(n){var r=void 0,a=e.fl(),o=App.BG.fashionInfo["spirit_"+e.gc]||0,s=App.BG.fashionInfo["sanum_"+e.gc]||0,p=XCA.FR(StaticData.TID_GOODS_20),l=0,c=[];p&&(l=Math.floor(p.p2/1e3*s*1e3)/1e3,c=e.sc(p.p1));var u=[];o>0&&(u=e.gh(e.qj.p4+o));var d,g=void 0,v=void 0,h=void 0;for(r in xxf.UK)g=n[r]||0,g=Math.round(g*(1+l)),v=u[r]||0,h=c[r]||0,(g>0||v>0||h>0)&&(g+=a[r]||0,g+=v,g+=h,g*=o>0?o:1,e.qj.p1?(d=App.FX.getSuitAttrAddition(e.qj.p1,1)||0,d=int(g*(1+d/100))):d=g,i+="\n"+fvg.GVf("fashion3",xxf.UK[r],d));for(r in xxf.IM)g=n[r]||0,v=u[r]||0,(g>0||v>0)&&(g+=a[r]||0,g+=v,i+="\n"+fvg.GVf("fashion3",xxf.IM[r],(g*(o>0?o:1)/10).toFixed(1)+"%"));if(n=XCA.YV(parseInt(e.qj.p5)))for(r in xxf.IM)g=n[r]||0,g&&(i+="\n"+fvg.GVf("fashion3",xxf.IM[r],(g/10).toFixed(1)+"%"));e.qj.p1&&(i+="\n"+App.FX.getSuitAttrAddition(e.qj.p1)),e.attrTxt.textFlow=LgRe.OQ(i);var m=0;m=gLw.IQ(e.qj.tid);var f=parseInt(App.BG.fashionInfo["scap_"+m])||0;if(0==f){var y=XCA.YV(e.qj.attrid);f=y.p1}e.fightView.fightNum=f}},t.prototype.fl=function(){var e={},t=XCA.FR(StaticData.TID_GOODS_7);if(!t)return e;var n=XCA.YV(t.p1);if(n){var i=void 0,r=App.BG.fashionInfo["snum_"+this.gc]||0;for(i in xxf.UK)n[i]&&(e[i]=n[i]*r)}return e},t.prototype.yv=function(){var e=this,t=0==e.ix?1:e.ix,n=App.JP.getFashionUseMax(t,parseInt(e.qj.crits)),i=App.BG.fashionInfo["sanum_"+e.gc]||0,r=e.qj.p2*t,a=App.BG.fashionInfo["snum_"+e.gc]||0;e.patternBtn.label=fvg.GVf("public022",a,r),e.superBtn.label=fvg.GVf("public022",i,n)},t.prototype.gh=function(e){var t=this,n={},i=App.BG.fashionInfo["spirit_"+t.gc]||0,r=XCA.YV(t.qj.p4+i);if(r){var a=void 0;for(a in xxf.UK)r[a]&&(n[a]=r[a]);for(a in xxf.IM)r[a]&&(n[a]=r[a])}return n},t.prototype.sc=function(e){var t={},n=App.BG.fashionInfo["sanum_"+this.gc]||0,i=XCA.YV(e);if(i){var r=void 0;for(r in xxf.UK)i[r]&&(t[r]=i[r]*n)}return t},t.prototype._n=function(){var e=this;if(e.activationBtn.visible=!0,e.outputTxt.text="",0==e.ix){e.lv=1,e.wearBtn.visible=!1,e.activationBtn.label=fvg.GVf("public012");var t=XCA.FR(parseInt(e.qj.cost));t&&(e.outputTxt.text=fvg.GVf("public019",t.outsrc))}else{e.lv=2,e.wearBtn.visible=!0;var n=0;e.qj&&(n=gLw.IQ(e.qj.tid)),n!=App.BG.fashionUse?(e.lv=2,e.wearBtn.icon=kLM.OH(!0)):(e.lv=3,e.wearBtn.icon=kLM.OH(!1)),rRcz.SS(10,!1)?e.activationBtn.label=fvg.GVf("specia001"):e.activationBtn.visible=!1}e.patternBtn.icon=UsU.RU(e.qj)?StaticData.GHj:null,e.superBtn.icon=UsU.UR(e.qj)?StaticData.GHj:null,e.activationBtn.icon=UsU.RF(e.qj)?StaticData.GHj:null,e.fixSoulBtn.icon=UsU.TX(e.qj)?StaticData.GHj:null,UsU.RF(e.qj)?e.rl.parent||(e.rl.play(),e.activationBtn.groupDisplay.addChild(e.rl)):e.rl.parent&&(e.rl.stop(),e.rl.parent.removeChild(e.rl))},t.prototype.uw=function(e){var t=this;2==t.lv&&(t.aq||(t.aq=App.KB.getUIEffect(gYq.FS,100,1),t.aq.addEventListener(egret.Event.COMPLETE,t.oe,t),t.aq.x=275,t.aq.y=375),t.aq.play(1),t.addChild(t.aq)),t.qj&&(2==t.lv?NXr.TK(gLw.IQ(t.qj.tid)):3==t.lv&&NXr.MC())},t.prototype.oe=function(e){var t=this;t.aq&&t.aq.parent&&t.removeChild(t.aq)},t.prototype.tn=function(){var e=this;e.gc==e.fq&&e.ix!=e.ii&&App.KB.showEffect(gYq.UQ),e.fq=e.gc,e.ii=e.ix},t.prototype.ge=function(e){var t=this;if(fNs.instance.execute(hXS.LA,hXS.NW),1==t.lv){var n=App.FK.hsx(parseInt(t.qj.cost)),i=App.FK.hsx(StaticData.TID_GOODS_8),r=t.qj.p1*t.ix;if(0>=n)return void _JDW.TR(parseInt(t.qj.cost),r-i);if(r>i)return void _JDW.TR(parseInt(t.qj.cost),r-i);NXr.XH(gLw.IQ(t.qj.tid))}else t.ix>=t.qj.maxgrade?MessageTipManager.instance.show(fvg.GVf("fashion2")):App.VS.popup(10002,FashionUpPopUi,null,t.qj)},t.prototype.hw=function(e){App.VS.popup(10002,FashionSoulPopUi,null,this.gc)},t.prototype.xj=function(e,t){var n=this,i=gLw.IQ(e.tid),r=gLw.IQ(t.tid),a=App.BG.fashionInfo[i]||0,o=App.BG.fashionInfo[r]||0;return a>0&&o>0?(n.gb=e,n.el=t,gLw.GM(n.gb.tid)==gLw.GM(n.el.tid)?gLw.IQ(n.gb.tid)<gLw.IQ(n.el.tid)?-2:-1:gLw.GM(n.gb.tid)<gLw.GM(n.el.tid)?-2:-1):0>=a&&0>=o?(n.gb=e,n.el=t,gLw.GM(n.gb.tid)==gLw.GM(n.el.tid)?gLw.IQ(n.gb.tid)<gLw.IQ(n.el.tid)?1:2:gLw.GM(n.gb.tid)<gLw.GM(n.el.tid)?1:2):a>0&&0>=o?-1:0>=a&&o>0?1:void 0
},t.prototype.ck=function(e){var t=this;if(t.qj){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));if(0==t.ix)return void App.TT.show(fvg.GVf("superequip1"));var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);var r=App.FQ.islt+(6>i?App.FQ.send_cd:10);return App.FQ.islt&&r>App.NN.serverSecond?void(6>i?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11"))):void Alert.WK(fvg.GVf("chat12",t.qj.name),void 0,void 0,t.rc,t)}},t.prototype.rc=function(){var e=this,t=GObj.$c(ChatItemData);t.mt=24,t.st=e.gc,t.gr=e.ix,t.sw=App.BG.fashionInfo["snum_"+e.gc]||0,t.cap=App.BG.fashionInfo["scap_"+e.gc]||0,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))},t.prototype.nol=function(e){var t=this;return t.ix<t.qj.maxgrade?void App.TT.show(fvg.GVf("fixsoul14",t.qj.maxgrade)):void App.VS.popup(10002,FixSoulPopUi,null,t.gc)},t.prototype.zy=function(e){App.VS.popup(10002,FashionSuperPopUi,null,this.gc)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.LA,hXS.YL),t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,t.qj=null,GObj.$d(t.rl),t.rl=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.patternBtn),t.patternBtn=null,GObj.$d(t.v_),t.v_=null,GObj.$d(t.outputTxt),t.outputTxt=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.fixSoulBtn),t.fixSoulBtn=null,GObj.$d(t.aq),t.aq=null,GObj.$d(t.hy),t.hy=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.gb=null,t.el=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FashionView.prototype,"FashionView");var FixSoulPopUi=function(e){function t(){var t=e.call(this,"FixSoulPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.currTxt.text=fvg.GVf("beast03"),e.nextTxt.text=fvg.GVf("fixsoul10"),e.noneTxt.text=fvg.GVf("public010"),e.maxLevelTxt.text=fvg.GVf("fixsoul11"),e.maxTxt.text=fvg.GVf("fixsoul12"),e.fixsoulBtn.label=fvg.GVf("superequipCasting15"),e.oneKeyBtn.label=fvg.GVf("fixsoul15"),e.expDesc.text=fvg.GVf("public078"),e.ballImgs=[],e.siteTxts=[];for(var t=1;9>t;t++)e.ballImgs.push(this["ballImg_"+t]),e.siteTxts.push(this["siteTxt_"+t]),e.siteTxts[t-1].text=fvg.GVf("fixsoul"+t);e.currDatas=GObj.$c(eui.ArrayCollection),e.currGroup.dataProvider=e.currDatas,e.currGroup.itemRenderer=FixSourAttrItem,e.nextDatas=GObj.$c(eui.ArrayCollection),e.nextGroup.dataProvider=e.nextDatas,e.nextGroup.itemRenderer=FixSourAttrItem,e.cost1=999,e.cost2=999,e.capView=GObj.$c(NumberView),e.capView.x=185,e.capView.y=75,e.addChild(e.capView),e.ke=[215,334,385,337,218,95,44,93],e.vq=[110,159,281,402,454,405,284,162],e.title=fvg.GVf("fixsoul9"),e.smaicon1.goodsTid=StaticData.TID_GOODS_8,e.smaicon2.goodsTid=StaticData.TID_GOODS_8},t.prototype.hz=function(e){e=8>e?Math.max(e-1,0):8;var t=45*e;this.tm(t)},t.prototype.tm=function(e){var t=this;t.zc=DrawUtil.ET(0,e,200,t.zc),t.zc.x=250,t.zc.y=325,t.fixLine.mask||(t.fixLine.mask=t.zc,t.addChild(t.zc))},t.prototype.initData=function(){this.lu()},t.prototype.initEvent=function(){var e=this;e.fixsoulBtn.addEventListener(eui.tep,e.mo,e),e.oneKeyBtn.addEventListener(eui.tep,e.wk,e),vkG.$a(UtJ.TS,e.lt,e)},t.prototype.removeEvent=function(){var e=this;e.fixsoulBtn.removeEventListener(eui.tep,e.mo,e),e.oneKeyBtn.removeEventListener(eui.tep,e.wk,e),vkG.$r(UtJ.TS,e.lt,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.fo=e[0],n.lu())},t.prototype.lu=function(){var e=this;e.CSo&&e.fo&&(e.hn=XCA.AQS.UFA(24,e.fo,1),e.xz())},t.prototype.xz=function(){var e=this;if(e.hn){e.gf=App.BG.fashionInfo["spirit_"+e.fo]||0,e.noneTxt.visible=e.gf<=0,e.currScroller.visible=e.gf>0,e.maxLevelTxt.visible=e.maxTxt.visible=e.gf>=MaxLevel.FASHION_FIXSOUL_LEVEL,e.costGroup.visible=e.gf<MaxLevel.FASHION_FIXSOUL_LEVEL;for(var t=0;t<e.gf;t++)e.ballImgs[t].source="fashion_json.fixsoul_ball_0_png";if(e.currDatas.source.length=0,e.gf>0){var n=AttributeTemplate.KK(e.hn.p4+e.gf),i=fvg.GVf("fixsoul13",Color.SE,n);e.currDatas.source.push(LgRe.OQ(i))}if(e.currDatas.refresh(),e.nextDatas.source.length=0,e.gf<MaxLevel.FASHION_FIXSOUL_LEVEL){var r=AttributeTemplate.KK(e.hn.p4+e.gf+1),a=fvg.GVf("fixsoul13",Color.SQ,r);e.nextDatas.source.push(LgRe.OQ(a))}if(e.nextDatas.refresh(),e.hn.p6){var o=e.hn.p6.split("|");if(o[e.gf]){var s=o[e.gf].split(",");s[1]&&(e.cost1=parseInt(s[1]),e.cost2=10*e.cost1)}}e.hz(e.gf),e.bb=App.FK.hsx(StaticData.TID_GOODS_8),e.needTxt_1.text=fvg.GVf("public022",e.bb,1),e.needTxt_2.text=toChars(e.bb),e.needTxt_1.textColor=e.bb>=1?Color.TX:Color.KA,e.needTxt_2.textColor=e.bb>=1?Color.TX:Color.KA;var p=App.BG.fashionInfo["spiritCap_"+e.fo]||0,l=App.BG.fashionInfo["spiritTotal_"+e.fo]||0;e.expTxt.text=fvg.GVf("public022",l,e.cost2),e.expProg.value=l/e.cost2*100;App.BG.fashionInfo[e.fo];hFO.instance.getNumberView(bRC.UA,toChars(p),-4,e.capView);var c=UsU.TX(e.hn);e.fixsoulBtn.icon=c?StaticData.GHj:null,e.oneKeyBtn.icon=c?StaticData.GHj:null,void 0!=e.ia&&e.ia!=e.gf&&(App.KB.showEffect(gYq.UQ),e.iz||(e.iz=App.KB.getUIEffect(gYq.FS,100,1),e.iz.addEventListener(egret.Event.COMPLETE,e["in"],e)),e.iz.x=e.ke[e.gf-1],e.iz.y=e.vq[e.gf-1],e.iz.play(1),e.addChild(e.iz)),e.ia=e.gf}},t.prototype["in"]=function(e){var t=this;t.iz&&t.iz.parent&&t.removeChild(t.iz)},t.prototype.mo=function(e){var t=this;return t.bb<1?void _JDW.TR(StaticData.TID_GOODS_8,t.cost1-t.bb):void NXr.ZKA(1,t.fo)},t.prototype.wk=function(e){var t=this;return t.bb<1?void _JDW.TR(StaticData.TID_GOODS_8,t.cost1-t.bb):void NXr.ZKA(2,t.fo)},t.prototype.lt=function(){this.xz()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.costGroup),t.costGroup=null,GObj.$d(t.fixsoulBtn),t.fixsoulBtn=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null;for(var n=0;8>n;n++)GObj.$d(t.ballImgs[n]),t.ballImgs[n]=null,GObj.$d(t.siteTxts[n]),t.siteTxts[n]=null;GObj.$d(t.currTxt),t.currTxt=null,GObj.$d(t.nextTxt),t.nextTxt=null,t.currScroller&&(t.currScroller.stopAnimation(),t.currScroller.viewport=null,GObj.$d(t.currScroller)),t.currScroller=null,t.nextScroller&&(t.nextScroller.stopAnimation(),t.nextScroller.viewport=null,GObj.$d(t.nextScroller)),t.nextScroller=null,t.currGroup&&(t.currGroup.dataProvider=null,GObj.$d(t.currGroup)),t.currGroup=null,t.nextGroup&&(t.nextGroup.dataProvider=null,GObj.$d(t.nextGroup)),t.nextGroup=null,GObj.$d(t.noneTxt),t.noneTxt=null,GObj.$d(t.maxLevelTxt),t.maxLevelTxt=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.capView),t.capView=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.expProg),t.expProg=null,GObj.$d(t.iz),t.iz=null,GObj.$d(t.zc),t.zc=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,t.currDatas=null,t.nextDatas=null,t.hn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FixSoulPopUi.prototype,"FixSoulPopUi");var FixSourAttrItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("FixSourAttrItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.iy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.iy,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.contentTxt.textFlow=e.data,e.height=e.contentTxt.height)},t.prototype.iy=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FixSourAttrItem.prototype,"FixSourAttrItem");var FFMountainItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FFMountainItemView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=e.data.bossInfo;if(t.TSF){var n=(App.OO.getSubBossByTypeAndTid(App.OO.currType,t.tid),CondHelp.WC(t.TSF.con,t.TSF.conval));e.darkImg.visible=!n,e.nameTxt.text=fvg.GVf("ffm5",e.data.index),e.headImg.source=kLM.VJ(t.TSF.icon),e.todayImg.visible=!1,e.beatImg.visible=!1,App.OO.ffmListDic["die_"+e.data.index]?(e.beatImg.visible=!0,e.todayImg.visible=!1):kpd.FZ()==e.data.index&&(e.todayImg.visible=!0,e.beatImg.visible=!1),t&&CondHelp.WC(t.TSF.con,t.TSF.conval)?App.OO.ffmListDic["die_"+e.data.index]?e.redPointImg.visible=!1:e.redPointImg.visible=!0:e.redPointImg.visible=!1}}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rz,e),e.addEventListener(eui.tep,e.gv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rz,e),e.removeEventListener(eui.tep,e.gv,e)},t.prototype.gv=function(e){var t=this,n=t.data.bossInfo,i=CondHelp.WC(n.TSF.con,n.TSF.conval);i||MessageTipManager.instance.show(fvg.GVf("ffm16",t.data.index))},t.prototype.rz=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.selectedImg),t.selectedImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.headImg),t.nameTxt=null,GObj.$d(t.darkImg),t.nameTxt=null,GObj.$d(t.redPointImg),t.nameTxt=null,GObj.$d(t.beatImg),t.beatImg=null,GObj.$d(t.todayImg),t.todayImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FFMountainItemView.prototype,"FFMountainItemView");var FFMountainView=function(e){function t(){var t=e.call(this,"FFMountainView")||this;return t.xw=0,t.ju=133,t.ys=!1,t.skinName=RRUU.$s("FFMountainView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=PATH.KF+"title_"+App.OO.currType+FileConst.png,e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FFMountainItemView,e.fightNum=GObj.$c(NumberView),e.fightGroup.addChild(e.fightNum),e.predatas=GObj.$c(eui.ArrayCollection),e.preGroup.dataProvider=e.predatas,e.preGroup.itemRenderer=GoodsItemRenderer,e.ll=[],e.descTxt.text=fvg.GVf("ffm1"),e.gofightBtn.label=fvg.GVf("ffm2"),e.gotoVipBtn.label=fvg.GVf("ffm6"),e.db=GObj.$c(FigureBattleView),e.db.x=250,e.db.y=510,e.db.scaleX=.8,e.db.scaleY=.8,e.db.setAction(irK.ACTION_STAND),e.db.direction8=irK.B_B,e.addChildAt(e.db,3),e.activeTimeTxt.text=fvg.GVf("ffm7",App.OO.getCurrEndDay(App.OO.currType)-kpd.DC()),e.qe(),e.fn()},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.qk,e),e.itemList.addEventListener(egret.Event.CHANGING,e.zm,e),e.leftBtn.addEventListener(eui.tep,e.ey,e),e.rightBtn.addEventListener(eui.tep,e.md,e),e.itemList.addEventListener(egret.Event.ADDED,e.ma,e),e.gofightBtn.addEventListener(eui.tep,e.tm,e),e.gotoVipBtn.addEventListener(eui.tep,e.jc,e),vkG.$a(UtJ.SWL,e.di,e),vkG.$a(UtJ.YJ,e.waj,e),vkG.$a(HUtJ.HEARTBEAT,e._o,e),vkG.$a(UtJ.IK,e.zz,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.qk,e),e.itemList.removeEventListener(egret.Event.CHANGING,e.zm,e),e.itemList.removeEventListener(egret.Event.ADDED,e.ma,e),e.leftBtn.removeEventListener(eui.tep,e.ey,e),e.rightBtn.removeEventListener(eui.tep,e.md,e),e.gofightBtn.removeEventListener(eui.tep,e.tm,e),e.gotoVipBtn.removeEventListener(eui.tep,e.jc,e),vkG.$r(UtJ.SWL,e.di,e),vkG.$r(UtJ.YJ,e.waj,e),vkG.$r(HUtJ.HEARTBEAT,e._o,e),vkG.$r(UtJ.IK,e.zz,e)},t.prototype.initData=function(){var e=this;e.uy(),e.di(null)},t.prototype.updataItemList=function(){var e=this;e.ll=App.OO.getSubBossListByType();var t=App.OO.getSubBossListByType(),n=t.length,i=!1;e.datas.source=[];for(var r=0;n>r;r++){var a=gLw.FJ(t[r].tid);!CondHelp.WC(t[r].TSF.con,t[r].TSF.conval)||App.OO.ffmListDic["die_"+a]||i||(i=!0,e.ez=r),e.datas.source.push({bossInfo:t[r],index:a})}e.datas.refresh(),e.itemList.selectedIndex=e.ez||0},t.prototype.waj=function(){var e=this,t=App.OO.currType,n=XCA.CG(IDU.VZ)||"",i=n.split(",");e.gotoVipImg.visible=parseInt(i[t-1])>0&&!IoG.EZ(),e.gotoVipBtn.visible=parseInt(i[t-1])>0&&!IoG.EZ()},t.prototype.ey=function(e){var t=this;t.xw>0&&(t.xw-=1,t.hl())},t.prototype.md=function(e){var t=this,n=t.datas.length;t.xw<=n-4&&(t.xw+=1,t.hl())},t.prototype.hl=function(){var e=this;if(e.itemScroller){e.itemScroller.viewport.validateNow(),egret.Tween.removeTweens(e.itemScroller.viewport);var t=egret.Tween.get(e.itemScroller.viewport),n=80*e.xw,i=e.itemScroller.viewport.contentWidth-e.itemScroller.width;n>i?t.to({scrollH:i},300):t.to({scrollH:n},300)}},t.prototype.uy=function(){var e=this,t=XCA.CG(IDU.UC)||"",n=XCA.CG(IDU.BQ)||"",i=t.split(","),r=n.split(","),a=App.OO.currType;if(!(0>=a)){var o=GObj.$c(nlwj);if(t&&i.length>0&&(o.tid=parseInt(i[a-1]),e.goodsItem.data=o),1==a){var s=GObj.$c(nlwj);s.tid=StaticData.TID_GOODS_83,e.db.x=250,e.db.y=510}else 2==a&&(e.db.x=250,e.db.y=550);e.waj(),r&&n.length>0&&(e.vo=parseInt(r[a-1]));var p=XCA.CG("new_server_boss_condition");if(p){var l=p.split(",");parseInt(l[App.OO.currType-1])}}},t.prototype.qk=function(){var e=this;if(-1!=e.itemList.selectedIndex){var t=e.ll[e.itemList.selectedIndex],n=(int(t.tid/1e3),gLw.FJ(t.tid));e.ll.length;if(t){var i=t.tid,r=XCA.DG(3,i);if(r){var a=Nkz.PI(r),o=a.length;e.predatas.source.splice(0,e.predatas.length);for(var s=0;o>s;s++)e.predatas.source.push(a[s]);e.predatas.refresh();var p=XCA.YV(t.TSF.attrid);App.XT.vipInfo.vipGrade>=parseInt(p.p3)?e.gofightBtn.label=fvg.GVf("ffm9"):e.gofightBtn.label=fvg.GVf("ffm2"),e.nameTitle.source=PATH.KF+"name_"+n+FileConst.png,e.descImg.source=PATH.KF+"desc2_"+App.OO.currType+FileConst.png,e.desc2Img.source=PATH.KF+"desc1_"+App.OO.currType+FileConst.png,e.gotoVipImg.source=PATH.KF+"desc3_"+App.OO.currType+FileConst.png,e.db.updatePart(t.TSF.res||StaticData.BOSS_DEF_ID),App.OO.ffmListDic["die_"+n]?(e.gofightBtn.visible=!1,e.getImg.visible=!0,e.preGroup.filters=[UIFilter.HR()]):(e.gofightBtn.icon=StaticData.GHj,e.getImg.visible=!1,e.gofightBtn.visible=!0,e.preGroup.filters=[]),e.xm()}}}},t.prototype.zm=function(e){var t=this,n=t.datas.source[t.itemList.selectedIndex].bossInfo;CondHelp.WC(n.TSF.con,n.TSF.conval)||e.preventDefault()},t.prototype.ma=function(e){var t=this;ClockManager.setTimeout(t.av,this,50)},t.prototype.av=function(){var e=this;if(e.itemList&&!e.ys){var t=e.itemList.selectedIndex;if(e.xw=t,!isNaN(t)){var n=e.ju*t+e.ju;if(n<=e.itemScroller.width)e.itemScroller.viewport.scrollH=0;else{n-=e.itemScroller.width;var i=e.itemScroller.viewport.contentWidth-e.itemScroller.width;e.itemScroller.viewport.scrollH=Math.min(n,i)}e.ys=!0}}},t.prototype.xm=function(){var e=this;if(e.fm){var t=e.fm[e.itemList.selectedIndex]||0;hFO.instance.getNumberView(bRC.UA,t.toString(),-6,e.fightNum)}},t.prototype.tm=function(e){var t=this;t.ml=t.ll[t.itemList.selectedIndex];var n=CondHelp.WC(t.ml.TSF.con,t.ml.TSF.conval);if(!n)return void msgTip(fvg.GVf("ffm10"));if(4!=t.ml.type&&t.ml.h<=0)return void msgTip(fvg.GVf(214));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,t.ab,t);if(t.ml&&t.ml.TSF){if(t.ml.atkno<=0)return void msgTip(fvg.GVf(215));if(t.ml.h<=0)return void Alert.WK(fvg.GVf("ffm11"),null,null,t.kf,this,[t.ml]);t.kf(t.ml)}}},t.prototype.vf=function(){var e=this.itemList.selectedIndex+1;FunnyMsgProxy.XW(1,e)},t.prototype.ab=function(){var e=this;if(App.FK.UrC(),e.ml&&e.ml.TSF){if(e.ml.atkno<=0)return void msgTip(fvg.GVf(215));if(e.ml.h<=0)return void Alert.WK(fvg.GVf("ffm11"),null,null,e.kf,this,[e.ml]);e.kf(e.ml)}},t.prototype._o=function(){var e=this,t=kpd.getOpenServerZeroClock(),n=App.NN.serverTime,i=App.OO.getCurrEndDay(App.OO.currType),r=1e3*(24*i*60*60-1),a=n-t,o=Math.floor((r-a)/1e3);o>0?e.activeTimeTxt.text=fvg.GVf("revelry18",kpd.LR(o)):e.activeTimeTxt.text=fvg.GVf("revelry19")},t.prototype.kf=function(e){var t=this;App.OO.curBossIndex=t.itemList.selectedIndex+1;var n=XCA.YV(t.ll[t.itemList.selectedIndex].TSF.attrid);if(App.XT.vipInfo.vipGrade>=parseInt(n.p3)){var i=XCA.DG(3,t.ml.tid),r=XCA.YV(t.ml.TSF.attrid).hp;FightAnimationFrame.show(t.ml.TSF.name,n.p1||0,r,i,t.vf,t)}else{App.VS.closeAll();var a=e.TSF.mapid;App.VS.enterMapOpenUI(a,KqZ.O_,null,!1),App.UY.enter(a)}},t.prototype.jc=function(e){var t=this;return t.xr()<=0?void App.VS.open(10088):void t.ix()},t.prototype.ix=function(){var e=this,t=e.xr(),n=0;App.BG.rechargeCount;n=e.opj()>0?e.jk[t]:0;var i;i=e.opj()>0&&n?fvg.GVf("ffm12",10*t,n):fvg.GVf("ffm13",10*t),Alert.WK(i,null,null,e.kl,e)},t.prototype.kl=function(){var e=this.xr();NXr.BP({total_fee:100*e,subject:1})},t.prototype.xr=function(){var e=this,t=App.EO.vipInfo.vipGrade,n=XCA.AQS.UFA(20,1,t),i=XCA.AQS.UFA(20,1,e.vo),r=parseInt(i.cost)-parseInt(n.cost);if(0>=r)return 0;for(var a=e.ze.length,o=0;a>o;o++)if(r<=e.ze[o])return e.ze[o];return 0},t.prototype.opj=function(){var e,t=App.EO.vipInfo.vipGrade,n=VipManager.instance.getPrivilegeByVipGrade(t),i=n[52],r=this.xr();if(r){var a=App.BG.rechargeCount;a&&(e=i-(a["c_"+r]||0)),0>=e&&(e=0)}return e},t.prototype.fn=function(){var e=XCA.CG(IDU.QD);if(e){var t=e.split(QycO.PK);if(t){for(var n=[],i=0,r=t.length;r>i;i++){var a=t[i].split(QycO.XP)[1];n.push(a)}this.fm=n}}},t.prototype.qe=function(){var e=this,t=App.NG.getChargePointStr(),n=t.split(QycO.PK);n.sort(e.ba),e.jk={},e.ze=[];for(var i,r=n.length,a=0;r>a;a++){i=n[a].split(QycO.XP);var o=parseInt(i[0]),s=parseInt(i[1]);s&&(e.ze.push(o),e.jk[o+""]=s)}},t.prototype.ba=function(e,t){var n=e.split(QycO.XP),i=t.split(QycO.XP);return parseInt(n[0])>parseInt(i[0])?1:-1},t.prototype.zz=function(){this.qk()},t.prototype.di=function(e){var t=this;t.updataItemList();var n=App.OO.getFFMcurrentVal(),i=App.OO.getFFMCurrTotalVal();t.progressBar.value=n/i*100,t.progressValTxt.text=fvg.GVf("public022",n,i),t.qk()},t.prototype.removeView=function(){var e=this;GObj.$d(e.leftBtn),e.leftBtn=null,GObj.$d(e.rightBtn),e.rightBtn=null,GObj.$d(e.gofightBtn),e.gofightBtn=null,GObj.$d(e.activeTimeTxt),e.activeTimeTxt=null,GObj.$d(e.descTxt),e.descTxt=null,GObj.$d(e.preGroup),e.preGroup=null,GObj.$d(e.predatas),e.predatas=null,GObj.$d(e.nameTitle),e.nameTitle=null,GObj.$d(e.db),e.db=null,GObj.$d(e.goodsItem),e.goodsItem=null,GObj.$d(e.progressBar),e.progressBar=null,GObj.$d(e.progressValTxt),e.progressValTxt=null,GObj.$d(e.getImg),e.getImg=null,GObj.$d(e.itemScroller),e.itemScroller=null,GObj.$d(e.gotoVipBtn),e.gotoVipBtn=null,GObj.$d(e.descImg),e.descImg=null,GObj.$d(e.desc2Img),e.desc2Img=null,GObj.$d(e.fightNum),e.fightNum=null,GObj.$d(e.fightGroup),e.fightGroup=null,e.itemList&&(e.itemList.dataProvider=null,GObj.$d(e.itemList),e.itemList=null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.removeView(),t.ml=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FFMountainView.prototype,"FFMountainView");var FightAnimationFrame=function(e){function t(){var t=e.call(this,"FightAnimationFrame")||this;t.isover=!1;var n=RRUU.$s("FightAnimationFrame");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("ffm15"),e.mineHeadIcon.source=kLM.JU(App.KF.sex,App.KF.currentHead),e.mineHeadFrameIcon.source=kLM.ZQ(App.KF.currentFrame),e.enheadIcon.source=kLM.JU(0,1),e.enheadFrameIcon.source="",e.mineHpPro.value=100,e.mineFightView.fightNum=App.BG.playerAttrsInfo.cap,e.showmc=App.KB.getUIEffect(gYq.GI),e.showmc.stop(),e.showmc.touchEnabled=!1,e.addChild(e.showmc),e.goodViewList=[]},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.__receiveBtnhander,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.__receiveBtnhander,e),vkG.$r(HUtJ.HEARTBEAT,e.__heartHander,e),Nvm.instance.unRegisteEnterFrame(e.__enterFrameHandler,e)},t.prototype.initData=function(){this.startAnimation()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.enemyName=e[0],n.enemyfight=e[1],n.enemyHp=e[2],n.reward=e[3],n.callBack=e[4],n.thisobj=e[5],n.startAnimation()},t.prototype.startAnimation=function(){var e=this;if(e.CSo&&e.enemyHp){e.enemyFightView.fightNum=e.enemyfight;var t,n=Nkz.PI(e.reward);e.goodsItemGroup.removeChildren();for(var i=0;i<n.length;i++)t=GObj.$c(GoodsItemView),t.data=n[i],e.goodViewList.push(t),t.visible=!1,e.goodsItemGroup.addChild(t);egret.Tween.get(e.mineGroup).to({x:20},250).to({x:50},30).call(e.rccImgShow,e),egret.Tween.get(e.enemyGroup).to({x:80},250).to({x:50},30)}},t.prototype.rccImgShow=function(){var e=this;e.CSo&&!e.destory&&(e.rccImg.visible=!0,egret.Tween.get(e.rccImg).to({scaleX:1.4,scaleY:1.4},50).to({scaleX:1,scaleY:1},50).call(e.fakerbatter,e))},t.prototype.fakerbatter=function(){var e=this;e.CSo&&!e.destory&&(e.receiveBtn.y=416,egret.Tween.get(e.enemyHpImg).to({width:0},1e3).call(e.fakerresult,e).call(e.bgshow,e))},t.prototype.fakerresult=function(){var e=this;if(e.CSo&&!e.destory&&!e.isover){for(var t=0;t<e.goodViewList.length;t++)if(!e.goodViewList[t].visible)return e.goodViewList[t].visible=!0,e.showmc.x=e.goodViewList[t].x-58+e.goodsItemGroup.x,e.showmc.y=e.goodViewList[t].y-48+e.goodsItemGroup.y,e.showmc.play(1),void ClockManager.setTimeout(e.fakerresult,this,800);e.showmc.stop(),e.showmc.visible=!1,e.autoTime=10,e.isover=!0,e.callBack.call(e.thisobj),vkG.$a(HUtJ.HEARTBEAT,e.__heartHander,e)}},t.prototype.__heartHander=function(){var e=this;e.CSo&&!e.destory&&(e.receiveBtn.label=fvg.GVf("7")+" "+e.autoTime,e.autoTime<=0&&e.__receiveBtnhander(null),e.autoTime--)},t.prototype.bgshow=function(){var e=this;e.CSo&&!e.destory&&(e.failImg.visible=!0,e.bgImg.visible=!0,egret.Tween.get(e.bgImg).to({y:0,height:481},200).call(e.titleShow,e))},t.prototype.titleShow=function(){var e=this;e.CSo&&!e.destory&&(e.titleImg.visible=!0,egret.Tween.get(e.titleImg).to({scaleX:1.4,scaleY:1.4},50).to({scaleX:1,scaleY:1},50).call(e.lightShow,e))},t.prototype.lightShow=function(){var e=this;e.CSo&&!e.destory&&(e.lightImg.visible=!0,Nvm.instance.registeEnterFrame(e.__enterFrameHandler,e))},t.prototype.__enterFrameHandler=function(){var e=this;e.lightImg.rotation+=1,e.lightImg.rotation>=360&&(e.lightImg.rotation=0)},t.prototype.__receiveBtnhander=function(e){var t=this;if(msgTip(fvg.GVf("ffm14")),t.isover)GObj.$d(t);else{t.isover=!0,t.removeTweens(),t.mineGroup.x=100,t.enemyGroup.x=0,t.rccImg.visible=!0,t.enemyHpImg.width=0,t.failImg.visible=!0;for(var n=0;n<t.goodViewList.length;n++)t.goodViewList[n].visible=!0;t.showmc.stop(),t.showmc.visible=!1,t.autoTime=10,t.isover=!0,t.callBack.call(t.thisobj),vkG.$a(HUtJ.HEARTBEAT,t.__heartHander,t),t.bgImg.visible=!0,t.bgImg.y=0,t.bgImg.height=481,t.titleImg.visible=!0,t.lightImg.visible=!0,Nvm.instance.registeEnterFrame(t.__enterFrameHandler,t)}},t.show=function(e,n,i,r,a,o){var s=GObj.$c(t);alvJ.instance.addToLayer(s,alvJ.RX,alvJ.LR),s.loU(e,n,i,r,a,o)},t.prototype.removeTweens=function(){var e=this;egret.Tween.removeTweens(e.mineGroup),egret.Tween.removeTweens(e.enemyGroup),egret.Tween.removeTweens(e.rccImg),egret.Tween.removeTweens(e.enemyHpImg),egret.Tween.removeTweens(e.bgImg),egret.Tween.removeTweens(e.titleImg)},t.prototype.dispose=function(){var t=this;t.removeTweens(),t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.mineGroup),t.mineGroup=null,GObj.$d(t.mineFightView),t.mineFightView=null,GObj.$d(t.mineHeadIcon),t.mineHeadIcon=null,GObj.$d(t.mineHeadFrameIcon),t.mineHeadFrameIcon=null,GObj.$d(t.mineHpPro),t.mineHpPro=null,GObj.$d(t.enemyGroup),t.enemyGroup=null,GObj.$d(t.enemyFightView),t.enemyFightView=null,GObj.$d(t.enheadIcon),t.enheadIcon=null,GObj.$d(t.enheadFrameIcon),t.enheadFrameIcon=null,GObj.$d(t.enemyHpImg),t.enemyHpImg=null,GObj.$d(t.rccImg),t.rccImg=null,GObj.$d(t.failImg),t.failImg=null,GObj.$d(t.lightImg),t.lightImg=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.goodsItemGroup),t.goodsItemGroup=null,RES.destroyRes(YTU.ML),e.prototype.dispose.call(this)},t}(PopUI);__reflect(FightAnimationFrame.prototype,"FightAnimationFrame");var FightingLosePopUi=function(e){function t(){var t=e.call(this,"FightingLosePopUi")||this;return t.qk=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.leaveBtn.label=fvg.GVf("fightinglose001",10)},t.prototype.initData=function(){this.rechargeBtn.visible=!IoG.EZ()},t.prototype.initEvent=function(){var e=this;e.leaveBtn.addEventListener(eui.tep,e.xo,e),vkG.$a(HUtJ.HEARTBEAT,e.kx,e),e.roleBtn.addEventListener(eui.tep,e.mn,e),e.skillBtn.addEventListener(eui.tep,e.wp,e),e.storeBtn.addEventListener(eui.tep,e.hy,e),e.superequipBtn.addEventListener(eui.tep,e.mk,e),e.rechargeBtn.addEventListener(eui.tep,e.ulw,e)},t.prototype.removeEvent=function(){var e=this;e.leaveBtn.removeEventListener(eui.tep,e.xo,e),vkG.$r(HUtJ.HEARTBEAT,e.kx,e),e.roleBtn.removeEventListener(eui.tep,e.mn,e),e.skillBtn.removeEventListener(eui.tep,e.wp,e),e.storeBtn.removeEventListener(eui.tep,e.hy,e),e.superequipBtn.removeEventListener(eui.tep,e.mk,e),e.rechargeBtn.removeEventListener(eui.tep,e.ulw,e)},t.WT=function(){App.VS.popup(null,KqZ.ON)},t.prototype.xo=function(e){this.cc()},t.prototype.kx=function(){var e=this;e.qk--,e.leaveBtn.label=fvg.GVf("fightinglose001",e.qk),e.qk<=0&&e.cc()},t.prototype.cc=function(){GObj.$d(this)},t.prototype.mn=function(e){this.cc(),App.VS.open(10009)},t.prototype.wp=function(e){this.cc(),App.VS.open(10012)},t.prototype.hy=function(e){this.cc(),App.VS.open(10033)},t.prototype.mk=function(e){this.cc(),App.VS.openMain(10122)},t.prototype.ulw=function(e){this.cc(),App.VS.open(10089)},t.prototype.rq=function(e){this.cc()},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UY.resultsReturn(),GObj.$d(t.leaveBtn),t.leaveBtn=null,GObj.$d(t.roleBtn),t.roleBtn=null,GObj.$d(t.skillBtn),t.skillBtn=null,GObj.$d(t.storeBtn),t.storeBtn=null,GObj.$d(t.superequipBtn),t.superequipBtn=null,GObj.$d(t.rechargeBtn),t.rechargeBtn=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(FightingLosePopUi.prototype,"FightingLosePopUi");var FightingWinItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FightingWinItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsItem=GObj.$c(BaseItemView),e.goodsItem.width=e.goodsItem.height=74,e.addChild(e.goodsItem)},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ahj,e)},t.prototype.ahj=function(e){GObj.$d(this)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ahj,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.goodsItem.data=e.data,t.TSF&&(e.nameLab.text=t.TSF.name,e.nameLab.textColor=aKF.DU(t.quality))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FightingWinItem.prototype,"FightingWinItem");var FightingWinListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FightingWinListItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.dataCollection=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.dataCollection,e.item.itemRenderer=FightingWinItem},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pu,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.dataCollection.source=t,e.dataCollection.refresh(),egret.Tween.removeTweens(e.item);var n=egret.Tween.get(e.item);n.wait(100*e.itemIndex).to({x:0},500)}},t.prototype.pu=function(e){GObj.$d(this)
},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pu,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t.item),t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.dataCollection=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FightingWinListItem.prototype,"FightingWinListItem");var FightingWinPopUi=function(e){function t(){var t=e.call(this,"FightingWinPopUi")||this;return t.om=10,t.isContinue=!1,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;if(t.IL||(e.btnGroup.removeChild(e.continueBtn),e.sureBtn.label=fvg.GVf("fightingwin001",t.IP)),e.continueBtn.label=fvg.GVf("fightingwin002",t.IP),e.sureBtn.label=fvg.GVf("7"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FightingWinListItem,e.xk=t.goodsInfo,!e.xk||e.xk.length<=0)return void(e.sureBtn.visible=!0);e.tq=[],e.datas.addItem(e.tq);for(var n=0;n<e.xk.length;n++)e.tq.length<4?e.tq.push(e.xk[n]):(e.tq=[],e.tq.push(e.xk[n]),e.datas.addItem(e.tq));var i=egret.Tween.get(e.sureBtn);i.wait(500).to({visible:!0},500)},t.prototype.initData=function(){var e=this;e.yy(),e.or(),fNs.instance.execute(hXS.MN,hXS.RZ,e.sureBtn)},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.li,e),e.continueBtn.addEventListener(eui.tep,e.qg,e),vkG.$a(HUtJ.HEARTBEAT,e._m,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.li,e),e.continueBtn.removeEventListener(eui.tep,e.qg,e),vkG.$r(HUtJ.HEARTBEAT,e._m,e)},t.prototype.yy=function(){var e=this,t=XCA.CG(IDU.DN),n=t.split(QycO.PK),i=[];e.ch=n.length;for(var r=0,a=e.ch;a>r;r++){var o=n[r],s=o.split(QycO.XP),p=parseInt(s[0]);i.push(p)}e.ey=i},t.prototype.or=function(){var e=this;e.dz=App.KF.rewardState;var t=e.ey[e.dz];void 0!=t&&(e.rewardIcon.source=kLM.KO(t),e.descIcon.source=kLM.VR(t)),7==App.UY.sceneType&&App.KF.chapter<=50?(e.rewardIcon.visible=!0,e.descIcon.visible=!0,e.bgImg.visible=!0):(e.rewardIcon.visible=!1,e.descIcon.visible=!1,e.bgImg.visible=!1)},t.QN=function(e){return e&&0!==e.length?(t.goodsInfo=e,t.IP<=0&&(t.IP=10),void UIManager.instance.popup(null,KqZ.FV)):void App.UY.resultsReturn()},t.prototype.li=function(e){this.wh(),1==App.MB.mapId&&(App.MB.mapId=0,e.stopPropagation(),e.stopImmediatePropagation(),App.VS.open(10058))},t.prototype.qg=function(e){var n=this;NpcHpView.instance.hide(),n.isContinue=!0;var i=t.IL;i&&i.call(t.EF),n.wh()},t.prototype._m=function(){var e=this;t.IP--;var n=t.IL;n?(e.continueBtn.label=fvg.GVf("fightingwin002",t.IP),e.sureBtn.label=fvg.GVf("7")):e.sureBtn.label=fvg.GVf("fightingwin001",t.IP),t.IP<=0&&(n?e.qg(null):e.li(null))},t.prototype.wh=function(){var e=this;e.destory||GObj.$d(e)},t.prototype.dispose=function(){var n=this;n.isContinue||App.UY.resultsReturn(),fNs.instance.execute(hXS.MN,hXS.YL),t.IP=0,t.IL=null,t.EF=null,n.removeEvent(),n.itemList&&(n.itemList.dataProvider=null,GObj.$d(n.itemList)),n.itemList=null,n.datas=null,n.xk=[],t.goodsInfo=null,egret.Tween.removeTweens(n.sureBtn),GObj.$d(n.sureBtn),n.sureBtn=null,egret.Tween.removeTweens(n.continueBtn),GObj.$d(n.continueBtn),n.continueBtn=null,GObj.$d(n.rewardIcon),n.rewardIcon=null,GObj.$d(n.descIcon),n.descIcon=null,GObj.$d(n.bgImg),n.bgImg=null,e.prototype.dispose.call(this)},t.IP=10,__decorate([DescriptorUtil.LJ],t,"QN",null),t}(PopUI);__reflect(FightingWinPopUi.prototype,"FightingWinPopUi");var ResultHarryItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("ResultHarryItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.th,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.data&&e.CSo&&(e.nameLab.text=e.data.faction,e.scoreLab.text=e.data.score)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.th,e)},t.prototype.th=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ResultHarryItem.prototype,"ResultHarryItem");var ResultsLoseItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ResultLoseItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsItem=GObj.$c(BaseItemView),e.goodsItem.width=e.goodsItem.height=74,e.addChild(e.goodsItem)},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ud,e)},t.prototype.ud=function(e){GObj.$d(this)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ud,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.goodsItem.data=e.data,t.TSF&&(e.nameLab.text=t.TSF.name,e.nameLab.textColor=aKF.DU(t.quality))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ResultsLoseItem.prototype,"ResultsLoseItem");var ResultLoseListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ResultLoseListItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.dataCollection=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.dataCollection,e.item.itemRenderer=ResultsLoseItem},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._d,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.dataCollection.source=t,e.dataCollection.refresh()}},t.prototype._d=function(e){GObj.$d(this)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._d,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.dataCollection=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ResultLoseListItem.prototype,"ResultLoseListItem");var ResultsCrossHarryPopUi=function(e){function t(){var t=e.call(this,"ResultsCrossHarryPopUi")||this;return t.hc=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.IB.harryResultsVo;if(t){var n=t.rank;if(n&&!(n.length<=0)){e._headImg=GObj.$c(ImageIcon),e._headImg.horizontalCenter=-76,e._headImg.verticalCenter=-63,e._headImg.source=kLM.JU(parseInt(t.head),parseInt(t.heads)),e.addChild(e._headImg),e.swapChildren(e.appellImg,e._headImg);var i=XCA.DG(58,99);if(i){var r=Nkz.PI(i);r.length;e.itemView.data=r[0],e.goodNameLab.text=r[0].TSF.name,e.goodNameLab.textColor=aKF.DU(r[0].quality)}e.windatas=GObj.$c(eui.ArrayCollection),e.losedatas=GObj.$c(eui.ArrayCollection),e.winGroup.dataProvider=e.windatas,e.winGroup.itemRenderer=ResultHarryItem,e.loseGroup.dataProvider=e.losedatas,e.loseGroup.itemRenderer=ResultHarryItem,n.sort(e.mc);for(var a,o,s=n.length,p=App.KF.fid,l=!1,c=0;s>c;c++)o=n[c],a={},a.score=o.score,a.faction=fvg.GVf("martialart_name_"+o.fid),o.type?e.windatas.source.push(a):e.losedatas.source.push(a),p==o.fid&&(l=!!o.type);l?e.bgImg.source="results_json.results_bg_png":e.bgImg.source="die_json.die_lose_bg_png",e.nameLab.text=t.winName,e.factionLab.text=fvg.GVf("martialart_name_"+t.winFid),1==e.windatas.source.length?e.winGroup.y=488:e.winGroup.y=463,1==e.losedatas.source.length?e.loseGroup.y=563:e.loseGroup.y=536}}},t.prototype.mc=function(e,t){return e.score>=t.score?-1:1},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.xe,e),vkG.$a(HUtJ.HEARTBEAT,e.cc,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.xe,e),vkG.$r(HUtJ.HEARTBEAT,e.cc,e)},t.prototype.cc=function(){var e=this;e.hc--,e.sureBtn.label=fvg.GVf("fightingwin001",e.hc),e.hc<=0&&e.yo()},t.prototype.xe=function(e){this.yo()},t.prototype.yo=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UY.resultsReturn(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.factionLab),t.factionLab=null,GObj.$d(t.nameLab),t.nameLab=null,t.winGroup&&(t.winGroup.dataProvider=null,GObj.$d(t.winGroup)),t.winGroup=null,t.loseGroup&&(t.loseGroup.dataProvider=null,GObj.$d(t.loseGroup)),t.loseGroup=null,GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t._headImg),t._headImg=null,GObj.$d(t.goodNameLab),t.goodNameLab=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.appellImg),t.appellImg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ResultsCrossHarryPopUi.prototype,"ResultsCrossHarryPopUi");var ResultsHarryPopUi=function(e){function t(){var t=e.call(this,"ResultsHarryPopUi")||this;return t.yq=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.MT.harryResultsVo;if(t){var n=t.rank;if(n&&!(n.length<=0)){e._headImg=GObj.$c(ImageIcon),e._headImg.horizontalCenter=-76,e._headImg.verticalCenter=-63,e._headImg.source=kLM.JU(parseInt(t.head),parseInt(t.heads),1),e.addChild(e._headImg),e.swapChildren(e.appellImg,e._headImg);var i=XCA.DG(42,99);if(i){var r=Nkz.PI(i);r.length;e.itemView.data=r[0],e.goodNameLab.text=r[0].TSF.name,e.goodNameLab.textColor=aKF.DU(r[0].quality)}e.windatas=GObj.$c(eui.ArrayCollection),e.losedatas=GObj.$c(eui.ArrayCollection),e.winGroup.dataProvider=e.windatas,e.winGroup.itemRenderer=ResultHarryItem,e.loseGroup.dataProvider=e.losedatas,e.loseGroup.itemRenderer=ResultHarryItem,n.sort(e.ht);for(var a,o,s=n.length,p=App.KF.fid,l=!1,c=0;s>c;c++)o=n[c],a={},a.score=o.score,a.faction=fvg.GVf("martialart_name_"+o.fid),o.type?e.windatas.source.push(a):e.losedatas.source.push(a),p==o.fid&&(l=!!o.type);l?e.bgImg.source="results_json.results_bg_png":e.bgImg.source="die_json.die_lose_bg_png",e.nameLab.text=t.winName,e.factionLab.text=fvg.GVf("martialart_name_"+t.winFid),1==e.windatas.source.length?e.winGroup.y=488:e.winGroup.y=463,1==e.losedatas.source.length?e.loseGroup.y=563:e.loseGroup.y=536}}},t.prototype.ht=function(e,t){return e.score>=t.score?-1:1},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.me,e),vkG.$a(HUtJ.HEARTBEAT,e.qs,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.me,e),vkG.$r(HUtJ.HEARTBEAT,e.qs,e)},t.prototype.qs=function(){var e=this;e.yq--,e.sureBtn.label=fvg.GVf("fightingwin001",e.yq),e.yq<=0&&e.xo()},t.prototype.me=function(e){this.xo()},t.prototype.xo=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UY.resultsReturn(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.factionLab),t.factionLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.goodNameLab),t.goodNameLab=null,GObj.$d(t.itemView),t.itemView=null,t.winGroup&&(t.winGroup.dataProvider=null,GObj.$d(t.winGroup)),t.winGroup=null,t.loseGroup&&(t.loseGroup.dataProvider=null,GObj.$d(t.loseGroup)),t.loseGroup=null,GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t._headImg),t._headImg=null,GObj.$d(t.appellImg),t.appellImg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ResultsHarryPopUi.prototype,"ResultsHarryPopUi");var ResultsItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("ResultsItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.uh,e)},t.prototype.uh=function(e){GObj.$d(this)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.uh,e)},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;t.TSF&&(e.nameLab.text=t.TSF.name,e.nameLab.textColor=aKF.DU(t.quality),e.goodsItem.data=t)}},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.nameLab),e.nameLab=null,GObj.$d(e.goodsItem),e.goodsItem=null},t}(BaseItemRenderer);__reflect(ResultsItem.prototype,"ResultsItem");var ResultsLosePopUi=function(e){function t(){var t=e.call(this,"ResultsLosePopUi")||this;return t.hy=10,t.skinName=RRUU.$s("ResultsLosePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.leaveBtn.label=fvg.GVf("fightinglose001",10),e.datas=GObj.$c(eui.ArrayCollection),e.dataGroup.dataProvider=e.datas,e.dataGroup.itemRenderer=ResultLoseListItem,e.di=t.goodsInfo;for(var n=0;n<e.di.length;n++)e.lv=[],e.lv.push(e.di[n]),e.datas.addItem(e.lv)},t.prototype.initData=function(){this.rechargeBtn.visible=!IoG.EZ()},t.prototype.initEvent=function(){var e=this;e.leaveBtn.addEventListener(eui.tep,e.mg,e),vkG.$a(HUtJ.HEARTBEAT,e.rz,e),e.roleBtn.addEventListener(eui.tep,e.wb,e),e.skillBtn.addEventListener(eui.tep,e.pq,e),e.storeBtn.addEventListener(eui.tep,e.dd,e),e.superequipBtn.addEventListener(eui.tep,e.wf,e),e.rechargeBtn.addEventListener(eui.tep,e.le,e)},t.prototype.removeEvent=function(){var e=this;e.leaveBtn.removeEventListener(eui.tep,e.mg,e),vkG.$r(HUtJ.HEARTBEAT,e.rz,e),e.roleBtn.removeEventListener(eui.tep,e.wb,e),e.skillBtn.removeEventListener(eui.tep,e.pq,e),e.storeBtn.removeEventListener(eui.tep,e.dd,e),e.superequipBtn.removeEventListener(eui.tep,e.wf,e),e.rechargeBtn.removeEventListener(eui.tep,e.le,e)},t.QX=function(e){this.goodsInfo=e,App.VS.popup(null,t)},t.prototype.rz=function(){var e=this;e.hy--,e.leaveBtn.label=fvg.GVf("fightingwin001",e.hy),e.hy<=0&&e.qq()},t.prototype.mg=function(e){this.qq()},t.prototype.qq=function(){GObj.$d(this)},t.prototype.wb=function(e){App.VS.open(10009)},t.prototype.pq=function(e){App.VS.open(10012)},t.prototype.dd=function(e){App.VS.open(10033)},t.prototype.wf=function(e){App.VS.openMain(10122)},t.prototype.le=function(e){App.VS.open(10089)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UY.resultsReturn(),t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup),t.dataGroup=null),GObj.$d(t.leaveBtn),t.leaveBtn=null,GObj.$d(t.roleBtn),t.roleBtn=null,GObj.$d(t.skillBtn),t.skillBtn=null,GObj.$d(t.storeBtn),t.storeBtn=null,GObj.$d(t.superequipBtn),t.superequipBtn=null,GObj.$d(t.rechargeBtn),t.rechargeBtn=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ResultsLosePopUi.prototype,"ResultsLosePopUi");var ResultsYmgPopUi=function(e){function t(){var t=e.call(this,"ResultsYmgPopUi")||this;return t.il=4,t.time=10,t.skinName=RRUU.$s("ResultsYmgPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._mvpItemList=[],e.ga=[],e.sureBtn.label=fvg.GVf("fightingwin001",e.time)},t.prototype.initData=function(){var e=this;e.mvpNameLab.text=App.MB.ymgMvpName,e.headImg.source=kLM.JU(App.MB.ymgMvpHead||1,App.MB.ymgMvpHeads,1);var t,n,i=XCA.DG(22,2),r=Nkz.PI(i);if(r){n=r.length;for(var a=0;n>a;a++)t=GObj.$c(ResultsItem),t.data=r[a],t.x=95+80*(a+1),t.y=338,e.addChild(t),e._mvpItemList.push(t)}if(i=XCA.DG(22,1),r=Nkz.PI(i)){n=r.length;var o=[App.JP.ymgOutput1,App.JP.ymgOutput3];n>o.length&&(n=o.length);for(var a=0;n>a;a++){t=GObj.$c(ResultsItem);var s=r[a];s.count=o[a](App.MB.ymgPass-1),t.data=s,t.x=128+79*a,t.y=513,e.addChild(t),e.ga.push(t)}o.length=0,o=null}},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.ak,e),vkG.$a(HUtJ.HEARTBEAT,e.zl,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.ak,e),vkG.$r(HUtJ.HEARTBEAT,e.zl,e)},t.prototype.ak=function(e){this.ob()},t.prototype.zl=function(){var e=this;e.time--,e.sureBtn.label=fvg.GVf("fightingwin001",e.time),e.time<=0&&e.ob()},t.prototype.ob=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.UY.resultsReturn(),GObj.$d(t._mvpItemList),t._mvpItemList=null,GObj.$d(t.ga),t.ga=null,GObj.$d(t.mvpNameLab),t.mvpNameLab=null,GObj.$d(t.headBgImg),t.headBgImg=null,GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.headImg),t.headImg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ResultsYmgPopUi.prototype,"ResultsYmgPopUi");var FirstChargeItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("FirstChargeItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.dl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.dl,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;t.TSF&&(e.iconView.data=t)}},t.prototype.dl=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FirstChargeItem.prototype,"FirstChargeItem");var FirstChargePopUi=function(e){function t(){var t=e.call(this,"FirstChargePopUi")||this;return t.skinName=RRUU.$s("FirstChargePopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.type_1=1,e.getBtn.label=fvg.GVf("firstcharge003"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FirstChargeItem,e.mw=App.KB.getUIEffect(gYq.VX),e.getBtn.groupDisplay.addChild(e.mw),e.rechargeBtn1.label=fvg.GVf("firstcharge005"),e.rechargeBtn2.label=fvg.GVf("firstcharge006"),e.rechargeBtn3.label=fvg.GVf("firstcharge007"),e.rechargeBtn4.label=fvg.GVf("firstcharge008"),e.yn=GObj.$c(FigureView),e.yn.x=360,e.yn.y=330,e.yn.scaleX=.7,e.yn.scaleY=.7,e.addChildAt(e.yn,1),e.jv()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getBtn.addEventListener(eui.tep,t.sp,t),t.rechargeBtn1.addEventListener(eui.tep,t.om,t),t.rechargeBtn2.addEventListener(eui.tep,t.ds,t),t.rechargeBtn3.addEventListener(eui.tep,t.ay,t),t.rechargeBtn4.addEventListener(eui.tep,t.fv,t),t.playBtn.addEventListener(eui.tep,t.vf,t),t.closeBtn.addEventListener(eui.tep,t.wt,t),vkG.$a(UtJ.PP,t.js,t),vkG.$d(UtJ.S_P)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.sp,e),e.rechargeBtn1.removeEventListener(eui.tep,e.om,e),e.rechargeBtn2.removeEventListener(eui.tep,e.ds,e),e.rechargeBtn3.removeEventListener(eui.tep,e.ay,e),e.rechargeBtn4.removeEventListener(eui.tep,e.fv,e),e.playBtn.removeEventListener(eui.tep,e.vf,e),e.closeBtn.removeEventListener(eui.tep,e.wt,e),vkG.$r(UtJ.PP,e.js,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n,i=App.MG.firstCharge.bagList[0].rewardList,r=0;r<i.length-1;r++)n=GObj.$c(nlwj),n.tid=i[r].tempId,n.count=i[r].count,t.datas.source.push(n);t.datas.refresh(),t.an()},t.prototype.jv=function(){FigureHelps.NW(this.yn,StaticData.SVIP_INFO[1].avatar,!1)},t.prototype.an=function(){var e=this,t=2==App.MG.getFirstChargeState()?!0:!1,n=0!==App.MG.getFirstChargeState();e.getBtn.icon=n&&!t?StaticData.GHj:null,e.getBtn.visible=n&&!t,e.rechargeBtn1.visible=!n,e.rechargeBtn2.visible=!n,e.rechargeBtn3.visible=!n,e.rechargeBtn4.visible=!n,e.getImg.visible=t},t.prototype.pe=function(){},t.prototype.vf=function(){var e=this;e.playBtn.visible=!1,e.jw||(e.jw=GObj.$c(MovieEffect),e.jw.x=300,e.jw.y=200,e.addChild(e.jw));var t=520;e.jw.once(egret.Event.COMPLETE,e.nn,e),e.jw.play(StaticData.SKILL_INFO[t].attack,100,1),SkillNameAction.bust(t)},t.prototype.sw=function(){this.destory},t.prototype.nn=function(e){var t=this;t.destory||(t.playBtn.visible=!0)},t.prototype.sp=function(e){var t=this;App.JA.checkIncome(t.yp,t)},t.prototype.yp=function(){var e=App.MG.getFirstChargeList();FunnyMsgProxy.LR(e.id),GObj.$d(this),App.VS.open(KqZ.XX)},t.prototype.js=function(){this.an()},t.prototype.om=function(){var e=this;e.hu=6,e.sd=0,e.rq()},t.prototype.ds=function(){var e=this;e.hu=30,e.sd=1,e.rq()},t.prototype.ay=function(){var e=this;e.hu=98,e.sd=2,e.rq()},t.prototype.fv=function(){var e=this;e.hu=198,e.sd=3,e.rq()},t.prototype.rq=function(){var e=this,t=App.MG.firstCharge.bagList[e.sd].id;NXr.BP({total_fee:100*e.hu,subject:4,param3:t})},t.prototype.wt=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.mw),t.mw=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.mc_1),t.mc_1=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.rechargeBtn1),t.rechargeBtn1=null,GObj.$d(t.rechargeBtn2),t.rechargeBtn2=null,GObj.$d(t.rechargeBtn3),t.rechargeBtn3=null,GObj.$d(t.rechargeBtn4),t.rechargeBtn4=null,GObj.$d(t.yn),t.yn=null,GObj.$d(t.jw),t.jw=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(FirstChargePopUi.prototype,"FirstChargePopUi");var FirstChargeView=function(e){function t(){var t=e.call(this,"FirstChargeView")||this;return t.skinName=RRUU.$s("FirstChargeView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.type_1=1,e.getBtn.label=fvg.GVf("firstcharge003"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FirstChargeItem,e.px=App.KB.getUIEffect(gYq.VX),e.getBtn.groupDisplay.addChild(e.px),e.rechargeBtn1.label=fvg.GVf("firstcharge005"),e.rechargeBtn2.label=fvg.GVf("firstcharge006"),e.rechargeBtn3.label=fvg.GVf("firstcharge007"),e.rechargeBtn4.label=fvg.GVf("firstcharge008"),e.yj=GObj.$c(FigureView),e.yj.x=360,e.yj.y=300,e.yj.scaleX=.7,e.yj.scaleY=.7,e.addChildAt(e.yj,1),e.yw()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getBtn.addEventListener(eui.tep,t.dz,t),t.rechargeBtn1.addEventListener(eui.tep,t.jc,t),t.rechargeBtn2.addEventListener(eui.tep,t.bw,t),t.rechargeBtn3.addEventListener(eui.tep,t.yq,t),t.rechargeBtn4.addEventListener(eui.tep,t.by,t),t.playBtn.addEventListener(eui.tep,t.um,t),vkG.$a(UtJ.HA,t.vx,t),vkG.$d(UtJ.S_P)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.dz,e),e.rechargeBtn1.removeEventListener(eui.tep,e.jc,e),e.rechargeBtn2.removeEventListener(eui.tep,e.bw,e),e.rechargeBtn3.removeEventListener(eui.tep,e.yq,e),e.rechargeBtn4.removeEventListener(eui.tep,e.by,e),e.playBtn.removeEventListener(eui.tep,e.um,e),vkG.$r(UtJ.HA,e.vx,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.AQS.UFA(20,1,t.type_1);if(n){for(var i=Nkz.PI(n.p6),r=0;r<i.length;r++)t.datas.source.push(i[r]);t.itemList.width=80*i.length,t.datas.refresh(),t.an()}},t.prototype.yw=function(){FigureHelps.NW(this.yj,StaticData.SVIP_INFO[1].avatar,!1)},t.prototype.an=function(){var e,t=this,n=App.XT.vipInfo.rewardState,i=App.XT.vipInfo.vipGrade;e=(n&1<<t.type_1)>0,t.getBtn.icon=i>=t.type_1&&0==(n&1<<t.type_1)?StaticData.GHj:null,t.getBtn.visible=i>=t.type_1&&0==(n&1<<t.type_1);var r=i>=t.type_1;t.rechargeBtn1.visible=!r,t.rechargeBtn2.visible=!r,t.rechargeBtn3.visible=!r,t.rechargeBtn4.visible=!r,t.getImg.visible=e},t.prototype.zp=function(){},t.prototype.um=function(){var e=this;e.playBtn.visible=!1,e.qv||(e.qv=GObj.$c(MovieEffect),e.qv.x=300,e.qv.y=200,e.addChild(e.qv));var t=520;e.qv.once(egret.Event.COMPLETE,e.ks,e),e.qv.play(StaticData.SKILL_INFO[t].attack,100,1),SkillNameAction.bust(t)},t.prototype.sv=function(){this.destory},t.prototype.ks=function(e){var t=this;t.destory||(t.playBtn.visible=!0)},t.prototype.dz=function(e){var t=this;App.JA.checkIncome(t.pl,t)},t.prototype.pl=function(){NXr.QV(this.type_1)},t.prototype.vx=function(){this.an()},t.prototype.jc=function(){var e=this;e.pi=6,e.ud()},t.prototype.bw=function(){var e=this;e.pi=30,e.ud()},t.prototype.yq=function(){var e=this;e.pi=98,e.ud()},t.prototype.by=function(){var e=this;e.pi=198,e.ud()},t.prototype.ud=function(){NXr.BP({total_fee:100*this.pi,subject:1})},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.px),t.px=null,GObj.$d(t.mc_1),t.mc_1=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.rechargeBtn1),t.rechargeBtn1=null,GObj.$d(t.rechargeBtn2),t.rechargeBtn2=null,GObj.$d(t.rechargeBtn3),t.rechargeBtn3=null,GObj.$d(t.rechargeBtn4),t.rechargeBtn4=null,GObj.$d(t.yj),t.yj=null,GObj.$d(t.qv),t.qv=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FirstChargeView.prototype,"FirstChargeView");var SvipGoodMannersView=function(e){function t(){var t=e.call(this,"SvipGoodMannersView")||this;return t.skinName=RRUU.$s("SvipGoodMannersView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.un||(e.un=GObj.$c(FigureView)),e.un.x=250,e.un.y=500,e.addChildAt(e.un,1);for(var t=XCA.CG(IDU.RD),n=t.split(QycO.XP),i=0;4>i;i++){var r=GObj.$c(nlwj);r.tid=parseInt(n[i]),this["goodsItem"+(i+1)].data=r}},t.prototype.initEvent=function(){var e=this;e.playBtn.addEventListener(eui.tep,e.hm,e),e.getBtn.addEventListener(eui.tep,e.um,e)},t.prototype.removeEvent=function(){var e=this;e.playBtn.removeEventListener(eui.tep,e.hm,e),e.getBtn.removeEventListener(eui.tep,e.um,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.jl()},t.prototype.jl=function(){FigureHelps.NW(this.un,{b:"clothe6",w:"juexing2",c:"wing99",s:1})},t.prototype.hm=function(){var e=this;e.hr||(e.hr=GObj.$c(MovieEffect),e.hr.x=300,e.hr.y=200,e.addChild(e.hr));var t=530;e.hr.once(egret.Event.COMPLETE,e.bt,e),e.hr.play(StaticData.SKILL_INFO[t].attack,100,1),e.playBtn.visible=!1,SkillNameAction.bust(t)},t.prototype.bt=function(e){var t=this;t.destory||(t.playBtn.visible=!0)},t.prototype.um=function(){App.VS.open(10089)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.un),t.un=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SvipGoodMannersView.prototype,"SvipGoodMannersView");var SvipIVGoodsView=function(e){function t(){var t=e.call(this,"SvipIVGoodsView")||this;return t.skinName=RRUU.$s("SvipIVGoodsView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.re||(e.re=GObj.$c(FigureView)),e.re.x=240,e.re.y=366,e.re.updatePart("meiren7",irK.PART_BODY),e.addChildAt(e.re,1)},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.lp,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.lp,e)},t.prototype.lp=function(){App.VS.open(10089)},t.prototype.initData=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.re),t.re=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SvipIVGoodsView.prototype,"SvipIVGoodsView");var FlyswordAttributeView=function(e){function t(t){var n=e.call(this)||this;return n.skinName=RRUU.$s("FlyswordAttributeView"),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nameLab.textColor=e.attributeLab.textColor=Color.HQ},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=App.JS.getSkinGrade(e.data.tid),n=AttributeTemplate.getAttrStr(e.data.p4);e.nameLab.text=e.data.name+":",t>0?(e.attributeLab.textColor=Color.TX,e.nameLab.textColor=Color.TX):e.nameLab.textColor=e.attributeLab.textColor=Color.HQ,e.attributeLab.textFlow=LgRe.OQ(n)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.mt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.mt,e)},t.prototype.mt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.attributeLab),t.attributeLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FlyswordAttributeView.prototype,"FlyswordAttributeView");var FlyswordPillPopUi=function(e){function t(){var t=e.call(this,"FlyswordPillPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>=3&&(n.vl=e[0],n.ta=e[1],n.vp=e[2],n.ac())},t.prototype.initView=function(){var e=this;e.devourdata=GObj.$c(eui.ArrayCollection),e.devourList.dataProvider=e.devourdata,e.devourList.itemRenderer=FlySwordPillViewItem;
var t=GObj.$c(nlwj);t.tid=e.ta,e.goodsItem.data=t;var n=t.TSF;n&&(e.tq=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(n.qua),e.qualityImg.source="framehd_json.framehd_quality_"+n.qua+"_png"),e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("beauty5")},t.prototype.initData=function(){this.ac()},t.prototype.ac=function(){var e=this;if(e.CSo&&e.vl){var t=GObj.$c(nlwj);t.tid=e.ta,e.goodsItem.data=t;var n=t.TSF;n&&(e.tq=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(n.qua),e.qualityImg.source="framehd_json.framehd_quality_"+n.qua+"_png");var i,r=App.JS.getRetinueInfoByType(e.vl);if(r&&r.stempDict){for(var a in r.stempDict)i=r.stempDict[a],e.devourdata.source.push(i);e.devourdata.source.sort(App.JS.datasSort),e.devourdata.refresh(),e.tl()}}},t.prototype.tl=function(){var e=this,t=App.JS.getRetinueInfoByType(e.vl);e.useedLab.text=fvg.GVf("beauty4",t.snum||0,e.vp);var n=App.FK.hsx(e.ta);e.haveLab.text=fvg.GVf("414",n),e.useBtn.icon=t.snum<e.vp&&n>0?StaticData.GHj:null,e.attrsLab.text=LRJ.IG(e.tq,t.snum)},t.prototype.eb=function(){this.tl()},t.prototype.oy=function(e){var t=this,n=App.JS.getRetinueInfoByType(t.vl);if(n){if(t.vp<=0)return void App.TT.show(fvg.GVf("beauty11"));if(n.snum>=t.vp)return void App.TT.show(fvg.GVf("fashion24"));var i=App.FK.hsx(t.ta);if(!(i>0))return void _JDW.TR(t.ta);RetinueMsgProxy.CA(t.vl,1),t.tl()}},t.prototype.vi=function(){GObj.$d(this)},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.oy,e),vkG.$a(UtJ.BP,e.eb,e)},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.oy,e),vkG.$r(UtJ.BP,e.eb,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,t.scrollerList&&(t.scrollerList.stopAnimation(),t.scrollerList.viewport=null,GObj.$d(t.scrollerList),t.scrollerList=null),t.devourList&&(t.devourList.dataProvider=null,GObj.$d(t.devourList)),t.devourdata=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(FlyswordPillPopUi.prototype,"FlyswordPillPopUi");var FlySwordPillViewItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FlySwordPillViewItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nameLab.textColor=e.devourCountLab.textColor=Color.HQ},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=-1;t=App.JS.getSkinGrade(e.data.tid),e.nameLab.text=e.data.name+":",t>0?(e.devourCountLab.textColor=Color.TX,e.nameLab.textColor=Color.TX):e.nameLab.textColor=e.devourCountLab.textColor=Color.HQ,e.devourCountLab.text=fvg.GVf("beauty9",e.data?e.data.p1*(t||1)||0:0)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.go,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.go,e)},t.prototype.go=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.devourCountLab),t.devourCountLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FlySwordPillViewItem.prototype,"FlySwordPillViewItem");var FlyswordSkillItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FlyswordSkillItem"),t}return __extends(t,e),t.prototype.initView=function(){this.redPointImg.visible=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.XY,e.yb,e),vkG.$a(UtJ.BP,e.yb,e),e.addEventListener(eui.RFS,e.ck,e),e.addEventListener(eui.tep,e.jy,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.XY,e.yb,e),vkG.$r(UtJ.BP,e.yb,e),e.removeEventListener(eui.RFS,e.ck,e),e.removeEventListener(eui.tep,e.jy,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.ib=e.data[1],e.ch=gLw.DM(e.ib.tid);var t;e.wc=89,t=App.JS.getRetinueSkillInfoByType(e.wc),e.nr=t.retinueSkill[e.itemIndex+1]||0,e.ib=e.data[1];var n=gLw.RO(e.ib.tid);if(e.iconImg.source=kLM.XX(e.ch,n),e.lockImg.visible=e.nr>0?!1:!0,e.aclockImg.visible=!e.lockImg.visible,e.redPointImg.visible=UsU.BU(e.wc,e.itemIndex+1,e.ib),e.ib.needgrade>0)if(e.nr>0)e.gradeLab.text="",e.gradeLab.text=fvg.GVf("imm12",e.nr),1==e.ib.maxgrade&&(e.gradeLab.text="",e.aclockImg.visible=!1);else{var i=App.JS.getNeedGrade(e.nr+1,e.ib);e.gradeLab.text=fvg.GVf("imm05",Math.ceil(i/10))}else e.gradeLab.text="",e.aclockImg.visible=!1,5===e.itemIndex&&(this.allcont.x=16)}},t.prototype.yb=function(e){this.dataChanged()},t.prototype.ck=function(e){GObj.$d(this)},t.prototype.jy=function(e){var t=this,n=App.BC.createTipsVo(t.ch,t.wc,t.ib,t.itemIndex+1);t.ib.needgrade>0?App.VS.popup(App.VS.getExistUIFrame().id,SkillTipsPopUi,void 0,n):App.VS.popup(App.VS.getExistUIFrame().id,SkillSpecialPopUI,void 0,n)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.aclockImg),t.aclockImg=null,t.ib=null,t.ch=null,t.nr=null,t.wc=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FlyswordSkillItem.prototype,"FlyswordSkillItem");var FlyswordSkillPopUi=function(e){function t(){var t=e.call(this,"FlyswordSkillPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.activationLab.textColor=Color.TX,e.datae=GObj.$c(eui.ArrayCollection),e.attributeList.dataProvider=e.datae,e.attributeList.itemRenderer=FlyswordAttributeView},t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.na=e[0],n.pa(n.na))},t.prototype.pa=function(e){var t=this;if(e==t.na){var n=App.JS.getRetinueInfoByType(t.na);if(n&&n.stempDict){var i,r,a=0,o=0;t.datae.source.length=0;for(var s in n.stempDict)i=n.stempDict[s],i&&i.p4>0&&(r=i.p5,App.JS.getSkinGrade(i.tid)>0&&a++,t.datae.source.push(i));t.datae.source.sort(App.JS.datasSort),t.datae.refresh();var p,l,c=App.BG.playerAttrsInfo,u=parseInt(XCA.CG(IDU.FF))||1e4;if(p=(c.feretime||u)/1e3,l=(c.fereatk||0)/10,usable(r)){var d=r.split(QycO.PK);d&&d.length>=2&&(t.nameLab.text=d[0])}o=t.datae.length,t.activationLab.text=fvg.GVf("beauty8",a,o)}}},t.prototype.te=function(){GObj.$d(this)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.BP,e.pa,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.BP,e.pa,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.skillimg),t.skillimg=null,GObj.$d(t.activationLab),t.activationLab=null,t.attributeList&&(t.attributeList.dataProvider=null,GObj.$d(t.attributeList)),t.scrollerList&&(t.scrollerList.stopAnimation(),t.scrollerList.viewport=null,GObj.$d(t.scrollerList),t.scrollerList=null),t.na=null,t.datae=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FlyswordSkillPopUi.prototype,"FlyswordSkillPopUi");var FlyswordSkinAttrPopUi=function(e){function t(){var t=e.call(this,"PlayerAttributPopUi")||this;return t.skinName=RRUU.$s("PlayerAttributPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.xv=e[0],n.initData()},t.prototype.initView=function(){var e=this;e.attrDatas=GObj.$c(eui.ArrayCollection),e.title=fvg.GVf("beauty35"),e.attrDataGroup.dataProvider=e.attrDatas,e.attrDataGroup.itemRenderer=PlayerAttributItem},t.prototype.initData=function(){var e=this;if(e.CSo&&e.xv){var t=App.JS.getRetinueInfoByType(89);if(t){var n,i,r=e.xv,a=XCA.YV(r.attrid),o=gLw.IQ(r.tid),s=t.sgradeDict[o]||0,p=xxf.UK;for(n in p){var l=p[n]+":",c=a[n]*s;c>0&&(i=GObj.$c(Object),i.attrName=l,i.attrValue=c.toString(),i.textColor=Color.QO,e.attrDatas.source.push(i))}p=xxf.IM;for(n in p){var u=p[n]+":",c=GMath.toFixed(.1*a[n],1)*s;c>0&&(i=GObj.$c(Object),i.attrName=u,i.attrValue=c+"%",i.textColor=Color.QO,e.attrDatas.source.push(i))}e.attrDatas.refresh()}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.attrScroller&&(t.attrScroller.stopAnimation(),t.attrScroller.viewport=null,GObj.$d(t.attrScroller)),t.attrScroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.xv=null,t.attrDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FlyswordSkinAttrPopUi.prototype,"FlyswordSkinAttrPopUi");var FlyswordSkinItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FlyswordSkinItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.he,e),vkG.$a(UtJ.BP,e.wh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.he,e),vkG.$r(UtJ.BP,e.wh,e)},t.prototype.wh=function(e){var t=this;t.dataChanged(),t.wv()},t.prototype.he=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=(App.JS.getRetinueInfoByType(e.qj),e.data),n=App.JS.getSkinGrade(t.tid);e.lockImg.visible=0>=n;var i=parseInt(t.cost),r=(XCA.FR(i),GObj.$c(nlwj));if(r.tid=i,r.count=0,e.itemView.data=r,e.itemView.showQuality=!1,e.itemView.showEffect=!1,e.qualityImg.source=aKF.LU(t.qua),t.p6){var a=t.p6.split("|");a.length>=2&&t.p2>0&&n>0?(e.desc.text=QycO.OK,e.descImg.visible=!1):a.length>=2&&(e.desc.text=a[2]?a[2]:null,e.descImg.visible=a[2]?!0:!1)}e.wv()}},Object.defineProperty(t.prototype,"immType",{get:function(){return this.qj},set:function(e){var t=this;t.qj=e,t.wv()},enumerable:!0,configurable:!0}),t.prototype.wv=function(){var e=this;if(e.CSo&&e.data){e.redPointImg.visible=!1;var n=App.JS.getRetinueInfoByType(e.immType);if(n){var i=e.data;if(i){var r=gLw.IQ(i.tid),a=n.sgradeDict[r]||0,o=i.needgp||0,s=App.FK.hsx(parseInt(i.cost))||0;s>0&&0>o&&0>=a?(e.redPointImg.visible=!0,e.lockImg.visible=!0):a>0&&e.lockImg&&(e.lockImg.visible=!1);var p=App.FK.hsx(parseInt(i.cost)),l=App.JP.getBeautyNeedCount(a);p&&p>0&&(e.redPointImg.visible=p>=l&&a<i.maxgrade?!0:!1),t.XD||(e.redPointImg.visible=!1),i.p6&&(n.use==r?(e.usingImg.visible=!0,e.desc.text=QycO.OK,e.descT.visible=!1,e.aclockImg.visible=!1):(e.usingImg.visible=!1,e.descT.visible=!0,i.p2>0&&a>0?(e.descT.text=fvg.GVf("public097",a),e.aclockImg.visible=!0):(e.descT.text=QycO.OK,e.aclockImg.visible=!1)))}}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.qualityImg),t.qualityImg=null,GObj.$d(t.descT),t.descT=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.usingImg),t.usingImg=null,GObj.$d(t.itemView),t.itemView=null,e.prototype.dispose.call(this)},t.XD=!0,t}(BaseItemRenderer);__reflect(FlyswordSkinItem.prototype,"FlyswordSkinItem");var FlyswordSkinPopUi=function(e){function t(t){var n=e.call(this,"FlyswordSkinPopUi")||this;return n.oj=!1,n.wu=!1,n.skinName=RRUU.$s(n.id),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.aw=e[0],n.ja()},t.prototype.initView=function(){var e=this;e.skinDescLab.text=fvg.GVf("beauty3"),e.title=fvg.GVf("beauty27"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FlyswordSkinItem,e.kt=GObj.$c(FigureView),e.kt.x=215,e.kt.y=380,e.avatarGroup.addChild(e.kt),e.fightView=GObj.$c(FightView),e.fightView.x=106,e.fightView.y=44,e.addChild(e.fightView)},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.addEventListener(egret.Event.ADDED,e.le,e),e.skinBtn.addEventListener(eui.tep,e.wv,e),e.lockAttrBtn.addEventListener(eui.tep,e.nw,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.cs,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.bo,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.fq,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.rzx,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.fa,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.px,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.eh,e),vkG.$a(UtJ.BP,e.xh,e),vkG.$a(UtJ.IYL,e.xh,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.removeEventListener(egret.Event.ADDED,e.le,e),e.skinBtn.removeEventListener(eui.tep,e.wv,e),e.lockAttrBtn.removeEventListener(eui.tep,e.nw,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.cs,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.bo,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.fq,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.rzx,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.fa,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.px,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.eh,e),vkG.$r(UtJ.BP,e.xh,e),vkG.$r(UtJ.IYL,e.xh,e)},t.prototype.initData=function(){e.prototype.initData.call(this),FlyswordSkinItem.XD=!1,this.ja()},t.prototype.nw=function(e){App.VS.popup(10162,FlyswordSkinAttrPopUi,null,this.cb)},t.prototype.ja=function(){var e=this,t=App.JS.getRetinueInfoByType(e.aw);if(t&&t.stempDict&&e.CSo){e.ig=0;var n;e.datas||(e.datas=GObj.$c(eui.ArrayCollection)),e.itemList.dataProvider=e.datas;for(var i in t.stempDict)if(n=t.stempDict[i]){var r=t.sgradeDict[i]||0,a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0;n.hide>=0&&0>=r&&0>=o||(e.datas.source.push(n),o>0&&0>a&&0>=r&&(e.ig=e.datas.length-1))}e.datas.source.sort(e.kr),e.datas.refresh(),e.datas.length>0&&(e.itemList.selectedIndex=0,e.fv())}},t.prototype.kr=function(e,t){var n=App.JS.checkCanActive(e),i=App.JS.checkCanActive(t);return n&&!i?-1:!n&&i?1:App.JS.datasSort(e,t)},t.prototype.fv=function(){var e=this,t=App.JS.getRetinueInfoByType(e.aw);if(t){var n=e.itemList.selectedItem;if(e.cb=null,n&&(e.cb=n),n){var i=gLw.IQ(n.tid),r=t.sgradeDict[i]||0;if(n.p6){var a=n.p6.split("|");r>0&&t.use!=i?(e.conLab.text=fvg.GVf("beauty16",a[1]?a[1]:null),e.skinBtn.visible=!0):(e.skinBtn.visible=!1,t.sgradeDict[i]?e.conLab.text=QycO.OK:e.conLab.text=fvg.GVf("beauty18",a[0]?a[0]:null))}var o=n.needgp||0,s=App.FK.hsx(parseInt(n.cost))||0;s>0&&0>o&&0>=r&&(e.skinBtn.visible=!1),e.vw=n;var p;if(e.nameLbl.text=n.name,n.p5){var a=n.p5.split(QycO.PK);a&&a.length>=2&&a.length>=3&&(p=a[2])}var l=(App.FK.hsx(parseInt(e.cb.cost)),App.JP.getBeautyNeedCount(r),App.BG.turnupInfo.grade||0,t.sgradeDict[i]||1),c=XCA.YV(n.attrid);e.fightView.fightNum=c.p1*l,e.lf(p)}}},t.prototype.lf=function(e){var t=this;t.kt&&(t.nd&&t.nd==e||(t.nd=e,t.nd&&(89==t.aw&&(t.kt.x=250,t.kt.y=420),FigureHelps.NW(t.kt,{b:t.nd},!1))))},t.prototype.wv=function(e){var t=this,n=t.itemList.selectedItem;if(n){var i=gLw.IQ(n.tid);RetinueMsgProxy.EE(t.aw,i),msgTip(fvg.GVf("beauty6"))}},t.prototype.__selectedChangeHandler=function(e){this.fv()},t.prototype.le=function(e){for(var t,n=this,i=n.itemList.numChildren,r=0;i>r;r++)t=n.itemList.getChildAt(r),t&&(t.immType=n.aw)},t.prototype.xn=function(e){GObj.$d(this)},t.prototype.xh=function(e){var t=this;e==t.aw&&t.fv()},t.prototype.eh=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.bo=function(e){this.oj=!0},t.prototype.fq=function(e){this.oj=!1},t.prototype.cs=function(){var e=this;if(e.oj){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.oj=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.rzx=function(){var e=this;if(e.wu){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.wu=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.fa=function(e){this.wu=!0},t.prototype.px=function(e){this.wu=!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),FlyswordSkinItem.XD=!0,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.skinBtn),t.skinBtn=null,GObj.$d(t.conLab),t.conLab=null,GObj.$d(t.skinDescLab),t.skinDescLab=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.nameLbl),t.nameLbl=null,GObj.$d(t.wearBtn),t.wearBtn=null,t.cb=null,GObj.$d(t.kt),t.kt=null,t.vw=null,t.nd=null,t.aw=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FlyswordSkinPopUi.prototype,"FlyswordSkinPopUi");var FlyswordSkinUpView=function(e){function t(){var t=e.call(this,"FlyswordSkinUpView")||this;return t.fn=!1,t.as=!1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.eh=89,e.vp=0,e.doUpBtn.label=fvg.GVf("public098"),e.doTBtn.label=fvg.GVf("beauty10"),e.needTxt.text=fvg.GVf("hw12"),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChildAt(e.fightView,3),e.dq=GObj.$c(FigureView),e.dq.x=225,e.dq.y=340,e.addChildAt(e.dq,2),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FlyswordSkinItem,e.curAttrData=GObj.$c(eui.ArrayCollection),e.curAttrGroup.dataProvider=e.curAttrData,e.curAttrGroup.itemRendererSkinName=RRUU.$s("BeautySkinUpFrameSkin"),e.nextAttrData=GObj.$c(eui.ArrayCollection),e.nextAttrGroup.dataProvider=e.nextAttrData,e.nextAttrGroup.itemRendererSkinName=RRUU.$s("BeautySkinUpFrameSkin"),e.ph=GObj.$c(GeneralStarView),e.ph.maxStar=10,e.ph.open_star_key=kLM.NZ(),e.ph.close_star_key=kLM.ZH(),e.ph.star_width=32,e.ph.x=90,e.ph.y=574,e.addChild(e.ph)},t.prototype.initData=function(){var e=this;e.ti(),e.ab()},t.prototype.initEvent=function(){var e=this;e.showBtn.addEventListener(eui.tep,e.cx,e),e.doTBtn.addEventListener(eui.tep,e.ul,e),e.doUpBtn.addEventListener(eui.tep,e.eq,e),e.skinBtn.addEventListener(eui.tep,e.aw,e),e.itemList.addEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.addEventListener(egret.Event.ADDED,e.hl,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.gv,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.wbt,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.hp,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.bf,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.ic,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.nm,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.td,e),vkG.$a(UtJ.BP,e.yq,e)},t.prototype.removeEvent=function(){var e=this;e.showBtn.removeEventListener(eui.tep,e.cx,e),e.doTBtn.removeEventListener(eui.tep,e.ul,e),e.doUpBtn.removeEventListener(eui.tep,e.eq,e),e.skinBtn.removeEventListener(eui.tep,e.aw,e),e.itemList.removeEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.itemList.removeEventListener(egret.Event.ADDED,e.hl,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.gv,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.wbt,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.hp,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.bf,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.ic,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.nm,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.td,e),vkG.$r(UtJ.BP,e.yq,e)},t.prototype.ab=function(){var e=this;if(e.CSo&&e._y){FigureHelps.NW(e.dq,{w:e.oq},!1);var t=(gLw.GM(e._y.tid),parseInt(e._y.cost)),n=XCA.FR(t);toChars(n.icon);e.vu=gLw.IQ(e._y.tid);var i=GObj.$c(nlwj);i.tid=parseInt(e._y.cost),e.needIcon.data=i,e.yq()}},t.prototype.aw=function(e){var t=this,n=t.itemList.selectedItem;if(n){var i=gLw.IQ(n.tid);RetinueMsgProxy.EE(t.eh,i),msgTip(fvg.GVf("beauty6"))}},t.prototype.yq=function(){var e=this,t=App.JS.getRetinueInfoByType(e.eh),n=gLw.IQ(e._y.tid);e.xy=t.sgradeDict[n]||0;var i=App.FK.hsx(parseInt(e._y.cost)),r=App.JP.getBeautyNeedCount(e.xy);e.doUpBtn.icon=i>=r&&e.xy<e._y.maxgrade?StaticData.GHj:null,e._y.p2>0&&e.xy>0?(e.doUpBtn.visible=!0,e.ph.visible=!0,e.doTBtn.visible=!1,e.rankView.visible=!0,e.starImg.visible=!0,e.ph.visible=!0,e.nameImg.horizontalCenter=-178):(e.doUpBtn.visible=!1,e.ph.visible=!1,e.doTBtn.visible=!0,e.rankView.visible=!1,e.starImg.visible=!1,e.ph.visible=!1,e.nameImg.horizontalCenter=-190);var a=i>=r?Color.TX:Color.KA;e.needIcon.bottomText=fvg.GVf("public022",i,1),e.needIcon.bottomColor=a,e.nextLab.text=fvg.GVf("flysword6",e._y.p1),e.nameImg.source=kLM.TA(n),e.quaImg.source=kLM.WT(e._y.qua),e.typeImg.source=kLM.JT(e._y.qua),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.xy),-2,e.rankView,1),e.ph.currStar=e.xy%10||0,e.yz(),e.showBtn.visible=e.xy>0,e.yn(e.xy,t.use,n)},t.prototype.yz=function(){var e=this;e.updateAttr(e.curAttrData,!0),e.an()?(e.maxLab.text=fvg.GVf("magicblade27"),e.nextAttrData.source.length=0,e.nextAttrData.refresh()):(e.maxLab.text="",e.updateAttr(e.nextAttrData,!1))},t.prototype.updateAttr=function(e,t){var n=this,i=n._y,r=App.JS.getRetinueInfoByType(n.eh),a=gLw.IQ(i.tid),o=(r.sgradeDict[a]||0)+(t?0:1),s=XCA.YV(i.attrid);e.source.splice(0,e.source.length);var p;if(s){var l=void 0,c=void 0,u={};gLw.GM(i.tid);for(l in xxf.UK)c=s[l]||0,c>0&&(c+=u[l]||0,c*=o,p={},p.name=xxf.UK[l],p.value="+"+c,p.vx=18*p.name.length,p.color=t?Color.SE:Color.SQ,e.source.push(p));for(l in xxf.IM)c=s[l]||0,c>0&&(c+=u[l]||0,c*=o,p={},p.name=xxf.IM[l],p.value="+"+(c/10).toFixed(1)+"%",p.vx=14*p.name.length,p.color=t?Color.SE:Color.SQ,e.source.push(p));if(t){var d=s.p1*(o||1);n.fightView.fightNum=d,n.qg=d}e.refresh()}},t.prototype.oa=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS),t._nextMc&&t._nextMc.parent&&t.removeChild(t._nextMc)},t.prototype.eq=function(e){var t=this;if(t._y){if(t.an())return void MessageTipManager.instance.show(fvg.GVf("treasure10"));var n=App.FK.hsx(parseInt(t._y.cost)),i=App.JP.getBeautyNeedCount(t.xy);if(i>n)return void _JDW.TR(parseInt(t._y.cost),i-n);var r=gLw.IQ(t._y.tid);RetinueMsgProxy.EC(t.eh,r)}},t.prototype.an=function(){var e=this;return e._y?e.xy>=e._y.maxgrade:!1},t.prototype.ti=function(){var e=this,t=App.JS.getRetinueInfoByType(e.eh);if(t&&t.stempDict&&e.CSo){e.yd=0;var n;e.datas||(e.datas=GObj.$c(eui.ArrayCollection)),e.itemList.dataProvider=e.datas;for(var i in t.stempDict)if(n=t.stempDict[i],n&&!(parseInt(i)<100||isNaN(n.p2)||n.hide>=0)){var r=t.sgradeDict[i]||0,a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0;n.hide>=0&&0>=r&&0>=o||(e.datas.source.push(n),o>0&&0>a&&0>=r&&(e.yd=e.datas.length-1))}e.datas.source.sort(e.tu),e.datas.refresh(),e.datas.length>0&&(e.itemList.selectedIndex=0,e.zp())}},t.prototype.zp=function(){var e=this,t=App.JS.getRetinueInfoByType(e.eh);if(t){var n=e.itemList.selectedItem;if(e._y=null,n&&(e._y=n),n){var i=gLw.IQ(n.tid),r=t.sgradeDict[i]||0;e.yn(r,t.use,i);var a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0;if(o>0&&0>a&&0>=r?(e.doTBtn.visible=!0,e.skinBtn.visible=!1,e.doTBtn.icon=StaticData.GHj):(e.doTBtn.visible=!1,e.skinBtn.visible=!0,e.doTBtn.icon=""),n.p5){var s=n.p5.split(QycO.PK);s&&s.length>=2&&s.length>=3&&(e.oq=s[2])}e.ab()}}},t.prototype.yn=function(e,t,n){var i=this;e>0&&t!=n?i.skinBtn.visible=!0:i.skinBtn.visible=!1},t.prototype.tu=function(e,t){var n=App.JS.checkCanActive(e),i=App.JS.checkCanActive(t);return n&&!i?-1:!n&&i?1:App.JS.datasSort(e,t)},t.prototype.ul=function(e){var t=this;if(t._y){var n=App.JS.getRetinueInfoByType(t.eh);if(n){var i=t.itemList.selectedItem;if(i){var r=gLw.IQ(i.tid),a=n.sgradeDict[r]||0,o=i.needgp||0,s=App.FK.hsx(parseInt(i.cost))||0,p=n.openSkinTypes;return 0==p.length?void MessageTipManager.instance.show(fvg.GVf("beauty21")):0>=s?void msgTip(fvg.GVf("public015")):s>0&&0>o&&0>=a?(t.doTBtn.visible=!1,t.skinBtn.visible=!1,RetinueMsgProxy.EC(t.eh,r),void App.KB.showEffect(gYq.MF)):void(!a||0>=a||(t.doTBtn.visible=!1,RetinueMsgProxy.EE(t.eh,r),t.zp()))}}}},t.prototype.__selectedChangeHandler=function(e){this.zp()},t.prototype.hl=function(e){for(var t,n=this,i=n.itemList.numChildren,r=0;i>r;r++)t=n.itemList.getChildAt(r),t&&(t.immType=n.eh)},t.prototype.gv=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.hp=function(e){this.fn=!0},t.prototype.bf=function(e){this.fn=!1},t.prototype.wbt=function(){var e=this;if(e.fn){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.fn=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.ic=function(){var e=this;if(e.as){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.as=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.nm=function(e){this.as=!0},t.prototype.td=function(e){this.as=!1},t.prototype.cx=function(e){var t=this;if(t._y){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));if(0==t.xy)return void App.TT.show(fvg.GVf("superequip1"));var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);var r=App.FQ.islt+(6>i?App.FQ.send_cd:10);return App.FQ.islt&&r>App.NN.serverSecond?void(6>i?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11"))):void Alert.WK(fvg.GVf("chat12",t._y.name),void 0,void 0,t.sa,t)}},t.prototype.sa=function(){var e=this,t=GObj.$c(ChatItemData),n=e.vu;t.mt=90,t.st=n,t.gr=e.xy,t.cap=e.qg,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.oa,t),GObj.$d(t.weS)),t.weS=null,t.curAttrGroup&&(t.curAttrGroup.dataProvider=null,GObj.$d(t.curAttrGroup),t.curAttrGroup=null,t.curAttrData=null),t.nextAttrGroup&&(t.nextAttrGroup.dataProvider=null,GObj.$d(t.nextAttrGroup),t.nextAttrGroup=null,t.nextAttrData=null),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.needIcon),t.needIcon=null,GObj.$d(t.doUpBtn),t.doUpBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.dq),t.dq=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.maxLab),t.maxLab=null,GObj.$d(t.doTBtn),t.doTBtn=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.ph),t.ph=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.skinBtn),t.skinBtn=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t._y=null,t.oq=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FlyswordSkinUpView.prototype,"FlyswordSkinUpView");var FlySwordTipsPopUi=function(e){function t(){var t=e.call(this,"FlySwordTipsPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleName.text=fvg.GVf("flysword1"),e.skillNameTxt.text=fvg.GVf("flysword2"),e.skillDescTxt.textFlow=LgRe.OQ(fvg.GVf("flysword4",App.BG.playerAttrsInfo.bladedam,App.BG.playerAttrsInfo.bladeatkrate/10,App.BG.playerAttrsInfo.bladedamrate/10,App.BG.playerAttrsInfo.bladecrit/10))},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.jj(),t.updateData()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.updateData=function(){var e=this;e.skillGradeTxt.text=fvg.GVf("flysword3",e.kt)},t.prototype.jj=function(){var e=89,t=App.JS.getRetinueInfoByType(e);if(t){var n=XCA.AQS.UFA(e,1,t.grade||1),i=(t.openSkinTypes,XCA.AQS.UFA(e,1,t.grade+1),n.p2);this.kt=i}},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.skillDescTxt),e.skillDescTxt=null,GObj.$d(e.skillGradeTxt),e.skillGradeTxt=null,GObj.$d(e.skillNameTxt),e.skillNameTxt=null},t}(BasePopUi);__reflect(FlySwordTipsPopUi.prototype,"FlySwordTipsPopUi");var FlyswordView=function(e){function t(){var t=e.call(this,"FlyswordView")||this;
return t.wb=0,t.isMaxLevel=!0,t.wc=0,t.aeo=0,t.pi=!1,t.skinName=RRUU.$s(t.id),t.xt=89,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.av=-1,e.wy=0,e.ec=GObj.$c(nlwj),e.upBtn.label=fvg.GVf("beauty01"),e.autoUpBtn.label=fvg.GVf("beauty02"),e.getJadeBtn.label=fvg.GVf("flysword7"),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChild(e.fightView),e.oi=GObj.$c(FigureView),e.oi.x=225,e.oi.y=340,e.backGroup.addChildAt(e.oi,1),e.skinTemps=[],e.ru=GObj.$c(GeneralStarView),e.ru.maxStar=10,e.ru.open_star_key=["magicblade_json.magicblade_the_sword_1_png","magicblade_json.magicblade_the_sword_1_png"],e.ru.close_star_key="magicblade_json.magicblade_the_sword_2_png",e.ru.star_width=32,e.ru.x=91,e.ru.y=574,e.addChild(e.ru),e.jot=App.KB.getUIEffect(gYq.HR),e.directBtn.groupDisplay.addChild(e.jot),e.sma1icon.goodsTid=StaticData.TID_GOODS_84,e.sma2icon.goodsTid=StaticData.TID_GOODS_84,e.skillData=GObj.$c(eui.ArrayCollection),e.skillGroup.dataProvider=e.skillData,e.skillGroup.itemRenderer=FlyswordSkillItem},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.xt||(t.xt=89);var n=App.JS.getRetinueInfoByType(t.xt);t.mn=n?n.grade:0,t.uo(t.xt),t.rc(),t.mw(),t.lx(),t.me()},t.prototype.fes=function(){var e=this;if(e.nextSkinGroup.visible){var t=(App.JS.getRetinueInfoByType(e.xt),XCA.CG(IDU.RO));if(t){for(var n=t.split(QycO.PK),i=0,r=n.length;r>i;i++){var a=n[i];if(a){var o=a.split(QycO.XP),s=parseInt(o[0]),p=parseInt(o[1]);if(p&&p>e.ly.p2){var l=GObj.$c(nlwj);return l.tid=s,e.nextSkin.data=l,void(e.nextSkinLab.text=fvg.GVf("imm11",p))}}}e.nextSkinGroup.visible=!1}}},t.prototype.fn=function(){var e=this,t=e.mg.openSkinTypes;t.length<=0?(e.pi=!0,t.push("1")):e.pi=!1,e.skinTemps.length=0;for(var n=0;n<t.length;n++)e.skinTemps.push(e.mg.stempDict[t[n]]);e.skinTemps.sort(gLw._X);var i=e.mg.use||-1,r=e.mg.stempDict[i];if(e.av=-1,!e.pi)for(var n=0;n<e.skinTemps.length;n++)if(e.skinTemps[n].tid==r.tid){e.av=n;break}-1==e.av&&(e.av=Math.max(e.av,0)),e.ta()},t.prototype.ta=function(){var e=this,t=e.skinTemps[e.av],n=gLw.IQ(t.tid);if(e.pi)e.nameImg.visible=!0,e.rankView.visible=!0,e.rankImg_2.visible=!0,e.ru.visible=!1,e.autoUpBtn.visible=!1,e.culPro.visible=!1,e.culProLab.visible=!1,e.upBtn.x=189,e.upBtn.y=668,e.upBtn.label=fvg.GVf("public012");else{if(!t)return e.nameImg.visible=!1,e.rankView.visible=!1,e.rankImg_2.visible=!1,e.ru.visible=!1,e.autoUpBtn.visible=!1,e.culPro.visible=!1,e.culProLab.visible=!1,e.upBtn.x=189,e.upBtn.y=668,void(e.upBtn.label=fvg.GVf("public012"));e.nameImg.visible=!0,e.rankView.visible=!0,e.rankImg_2.visible=!0,e.ru.visible=!0,e.autoUpBtn.visible=!0,e.culPro.visible=!0,e.culProLab.visible=!0,e.upBtn.x=120,e.upBtn.y=668,e.upBtn.label=fvg.GVf("beauty01"),e.nameImg.source=kLM.TA(n)}e.rankView.visible=e.rankImg_2.visible=e.dd>=1,e.ap=t.name,e.be()},t.prototype.be=function(){var e=this;hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e.dd),-2,e.rankView,1)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.upBtn.addEventListener(eui.tep,t.wvr,t),t.autoUpBtn.addEventListener(eui.tep,t.zn,t),t.pillBtn.addEventListener(eui.tep,t.xp,t),t.skillBtn.addEventListener(eui.tep,t.xj,t),t.skinBtn.addEventListener(eui.tep,t.eu,t),t.hiddenWeaponBtn.addEventListener(eui.tep,t.cn,t),t.getJadeBtn.addEventListener(eui.tep,t.pk,t),t.directBtn.addEventListener(eui.tep,t.nf,t),t.initiativeBtn.addEventListener(eui.tep,t.ku,t),t.leftBtn.addEventListener(eui.tep,t.mb,t),t.rightBtn.addEventListener(eui.tep,t.eg,t),vkG.$a(UtJ.BP,t.uo,t),vkG.$a(UtJ.WTM,t.rc,t),vkG.$a(UtJ.YJ,t.lx,t),vkG.$a(UtJ.PP,t.lx,t),vkG.$a(UtJ.BP,t.mw,t)},t.prototype.removeEvent=function(){var e=this;e.upBtn.removeEventListener(eui.tep,e.wvr,e),e.autoUpBtn.removeEventListener(eui.tep,e.zn,e),e.pillBtn.removeEventListener(eui.tep,e.xp,e),e.skillBtn.removeEventListener(eui.tep,e.xj,e),e.skinBtn.removeEventListener(eui.tep,e.eu,e),e.hiddenWeaponBtn.removeEventListener(eui.tep,e.cn,e),e.getJadeBtn.removeEventListener(eui.tep,e.pk,e),e.directBtn.removeEventListener(eui.tep,e.nf,e),e.initiativeBtn.removeEventListener(eui.tep,e.ku,e),e.leftBtn.removeEventListener(eui.tep,e.mb,e),e.rightBtn.removeEventListener(eui.tep,e.eg,e),vkG.$r(UtJ.BP,e.uo,e),vkG.$r(UtJ.WTM,e.rc,e),vkG.$r(UtJ.YJ,e.lx,e),vkG.$r(UtJ.PP,e.lx,e),vkG.$r(UtJ.BP,e.mw,e)},t.prototype.uo=function(e){var t=this;if(t.xt&&(t.mg=App.JS.getRetinueInfoByType(t.xt),t.mg)){t.ly=XCA.AQS.UFA(t.xt,1,t.mg.grade||1);var n=t.mg.openSkinTypes,i=XCA.AQS.UFA(t.xt,1,t.mg.grade+1),r=t.ly.p2;t.dd=r,t.be(),0==n.length&&(r=0);var a=0,o=t.mg.grade>0?t.mg.gp-t.ly.needgp:t.mg.gp||0,s=0;0==t.aeo&&(t.wc=t.mg.grade-t.mn),t.mn=t.mg.grade,i?(t.isMaxLevel=!1,t.attrLabOne.text=LRJ.KG(i.attrid,!1,!1,null),a=t.mg.grade>0?i.needgp-t.ly.needgp:i.needgp,s=Math.min(100,int(o/a*100))):(t.isMaxLevel=!0,t.culProLab.text="MAX",s=100,t.attrLabOne.text=fvg.GVf("skill006"),t.attrLabOne.y=523),t.wc>=2?t.xu():(i&&(t.culProLab.text=fvg.GVf("public022",o,a)),t.culPro.grade=t.mn,t.culPro.targetValue=s),t.attrLab.text=LRJ.KG(t.ly.attrid,0==t.mg.grade,!1,null);var p=t.mg.grade%10;0==p&&t.mg.grade>0&&(p=10),t.ru.currStar=p,t.ex=parseInt(t.ly.cost)||0,t.wb=App.FK.hsx(t.ex),t.countLab.text=fvg.GVf("beauty17",toChars(t.wb),1),t.countLab.textColor=t.wb>=1?Color.TX:Color.KA,t.count1Lab.text=fvg.GVf("beauty17",toChars(t.wb),Math.ceil((a-o)/10)),t.count1Lab.textColor=t.wb>=Math.ceil((a-o)/10)?Color.TX:Color.KA;var l=!1;l=UsU.GB(),t.upBtn.icon=l?StaticData.GHj:null,t.autoUpBtn.icon=l?StaticData.GHj:null,t.fn(),t.fes(),0==n.length&&t.wb>0&&(t.upBtn.icon=StaticData.GHj);var c=XCA.YV(t.ly.attrid);t.fightView.fightNum=t.mg.cap||(c?c.p1:0),t.tq=t.mg.maxPill,t.pillBtn.label=fvg.GVf("public022",t.mg.snum||0,t.tq),t.pillBtn.icon=UsU.VY(t.xt)?StaticData.GHj:null,t.ct(t.zy)}},t.prototype.lx=function(){var e=this;if(App.MG.directVo&&App.MG.directVo.getBagDataBySort(5)){var t=App.MG.directVo.getBagDataBySort(5);IoG.EZ()?e.directBtn.visible=!1:2!=t.status?e.directBtn.visible=!0:e.directBtn.visible=!1,e.directBtn.icon=1==t.status?StaticData.GHj:""}},t.prototype.xu=function(){var e=this;if(egret.Tween.removeTweens(e.culPro),e.aeo==e.wc||!e.culPro)return void(e.aeo=0);if(0==e.aeo){e.aeo++;var t=e.mg.grade-e.wc+e.aeo,n=XCA.AQS.UFA(e.xt,1,t||1),i=XCA.AQS.UFA(e.xt,1,t+1),r=0,a=t>0?e.mg.gp-n.needgp:0;return r=t>0?i.needgp-n.needgp:i.needgp,i?e.culProLab.text=fvg.GVf("public022",a,r):e.culProLab.text="MAX",void egret.Tween.get(e.culPro).to({value:100},200).call(e.xu,e)}if(e.culPro.targetValue=0,e.aeo<e.wc-1){e.aeo++;var t=e.mg.grade-e.wc+e.aeo,n=XCA.AQS.UFA(e.xt,1,t||1),i=XCA.AQS.UFA(e.xt,1,t+1),r=0;r=t>0?i.needgp-n.needgp:i.needgp,i?e.culProLab.text=fvg.GVf("public022",r,r):e.culProLab.text="MAX",egret.Tween.get(e.culPro).to({value:100},200).call(e.xu,e)}else{e.aeo++;var i=XCA.AQS.UFA(e.xt,1,e.mg.grade+1),o=100;if(i){var r=0,a=e.mg.grade>0?e.mg.gp-e.ly.needgp:0;r=e.mg.grade>0?i.needgp-e.ly.needgp:i.needgp,o=Math.min(100,int(a/r*100)),e.culProLab.text=fvg.GVf("public022",a,r)}else e.culProLab.text="MAX";e.culPro.grade=e.mn,e.culPro.targetValue=o}},t.prototype.cn=function(e){App.VS.open(10045)},t.prototype.pk=function(){App.VS.open(10164)},t.prototype.xp=function(e){var t=this;t.parent&&t.ly&&t.ly.p1&&App.VS.popup(10162,FlyswordPillPopUi,null,t.xt,t.ly.p1,t.tq)},t.prototype.xj=function(e){App.VS.popup(10162,FlyswordSkillPopUi,null,this.xt)},t.prototype.eu=function(e){App.VS.popup(10162,FlyswordSkinPopUi,null,this.xt)},t.prototype.nf=function(){App.VS.open(10158)},t.prototype.ku=function(){App.VS.popup(10162,FlySwordTipsPopUi,null,null)},t.prototype.mw=function(){var e=this,t=App.JS.getHighSontype(89);1>=t?e.zy=1:e.zy=t,e.ct(e.zy)},t.prototype.ct=function(e){var t=this,n=XCA.AQS.UFA(89,1,e);if(n){gLw.IQ(n.tid);t.nameImg.source=kLM.TA(e);var i=(gLw.GM(n.tid),t.mg.openSkinTypes);App.JS.getMaxSontype(89);t.leftBtn.visible=e>1?!0:!1,t.rightBtn.visible=e>=5?!1:!0;var r=FigureHelps.TS(89,e,1);FigureHelps.NW(t.oi,r.part,!1);var a=t.dd>=10*(e-1)&&0!=i.length;t.hasImg.source=a?"":"immortall_json.immortall_no_png"}},t.prototype.mb=function(){var e=this;e.zy--,e.ct(e.zy)},t.prototype.eg=function(){var e=this;e.zy++,e.ct(e.zy)},t.prototype.rc=function(e){this.hiddenWeaponBtn.icon=UsU.EJ()?StaticData.GHj:null},t.prototype.zn=function(e){var t=this,n=XCA.AQS.UFA(t.xt,1,t.mg.grade||1),i=XCA.AQS.UFA(t.xt,1,t.mg.grade+1),r=i?i.p2:n.p2;return t.isMaxLevel?void MessageTipManager.instance.show(fvg.GVf("beauty7")):t.wb<=0?void _JDW.TR(t.ex):(RetinueMsgProxy.KT(t.xt),void(n.p2!=r&&App.KB.showEffect(gYq.TU)))},t.prototype.wvr=function(e){var t=this,n=t.mg.openSkinTypes;return t.isMaxLevel?void MessageTipManager.instance.show(fvg.GVf("beauty7")):t.wb<=0?void _JDW.TR(t.ex):0==n.length?(App.KB.showEffect(gYq.MF),RetinueMsgProxy.YO(t.xt),t.fn(),void t.uo(t.xt)):void RetinueMsgProxy.NT(t.xt)},t.prototype.me=function(){var e=this;e.skillData.source=[];var t=XCA.AQS.oVs(91);for(var n in t)e.skillData.source.push(t[n])},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t.culPro),GObj.$d(t.culPro),t.culPro=null,GObj.$d(t.skillBtn),t.skillBtn=null,GObj.$d(t.oi),t.oi=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.skinBtn),t.skinBtn=null,GObj.$d(t.culProLab),t.culProLab=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.autoUpBtn),t.autoUpBtn=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.attrLabOne),t.attrLabOne=null,GObj.$d(t.countLab),t.countLab=null,GObj.$d(t.count1Lab),t.count1Lab=null,GObj.$d(t.ru),t.ru=null,GObj.$d(t.sma1icon),t.sma1icon=null,GObj.$d(t.sma2icon),t.sma2icon=null,GObj.$d(t.pillBtn),t.pillBtn=null,GObj.$d(t.backGroup),t.backGroup=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.rankImg_2),t.rankImg_2=null,GObj.$d(t.imgbg2),t.imgbg2=null,GObj.$d(t.attrArrowImg),t.attrArrowImg=null,GObj.$d(t.nextSkin),t.nextSkin=null,GObj.$d(t.nextSkinLab),t.nextSkinLab=null,GObj.$d(t.nextSkinGroup),t.nextSkinGroup=null,GObj.$d(t.getJadeBtn),t.getJadeBtn=null,GObj.$d(t.directBtn),t.directBtn=null,GObj.$d(t.jot),t.jot=null,GObj.$d(t.initiativeBtn),t.initiativeBtn=null,GObj.$d(t.hasImg),t.hasImg=null,t.skillGroup&&(t.skillGroup.dataProvider=null,GObj.$d(t.skillGroup),t.skillGroup=null),t.skillData=null,t.wb=null,t.ly=null,t.ex=null,t.xt=null,t.skinTemps=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FlyswordView.prototype,"FlyswordView");var SwordTombItem=function(e){function t(){var t=e.call(this,"SwordTombItem")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.kn=GObj.$c(FigureBattleView),e.kn.x=40,e.kn.y=10,e.kn.scaleX=.5,e.kn.scaleY=.5,e.kn.setAction(irK.ACTION_STAND),e.kn.direction8=irK.B_B,e.addChildAt(e.kn,0),e.boxImg.touchEnabled=!0},t.prototype.initData=function(){this.wu()},t.prototype.wu=function(){var e=this;if(e.CSo&&e.xq){var t=App.MB.flyBossList,n=e.xq,i=t[n-1];i&&(e.kn.updatePart(i.TSF.res),hFO.instance.getNumberView(bRC.BX,n.toString(),-6,e.floorNum)),App.DX.curFloor>n?(e.rcvImg.visible=!0,e.boxImg.source="swordraids_json.swordraids_box_open_png"):(e.rcvImg.visible=!1,e.boxImg.source="swordraids_json.swordraids_box_close_png"),e.xq>MaxLevel.SWORD_TOMB_MAX_LEVEL&&(e.visible=!1)}},t.prototype.initEvent=function(){var e=this;e.boxImg.addEventListener(eui.tep,e.bw,e)},t.prototype.removeEvent=function(){var e=this;e.boxImg.removeEventListener(eui.tep,e.bw,e)},Object.defineProperty(t.prototype,"floor",{set:function(e){var t=this;t.xq=e,t.wu()},enumerable:!0,configurable:!0}),t.prototype.bw=function(){var e=this,t=GObj.$c(BoxPopUi);t.showDetail(60,0,e.xq,e.xq,"flysword10",!1,App.DX.getCurFloorReward(e.xq,App.DX.levelCount))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.kn),t.kn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SwordTombItem.prototype,"SwordTombItem");var SwordTombView=function(e){function t(){var t=e.call(this,"SwordTombView")||this;return t.yp=[335,70,335],t.ks=[],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.challengeBtn.label=fvg.GVf("37"),e.raidBtn.label=fvg.GVf("raid7"),e.raidBtn.icon=StaticData.GHj,e.fightNum=GObj.$c(NumberView),e.fightGroup.addChild(e.fightNum),e.lj=[];for(var t=0;3>t;t++){var n=GObj.$c(SwordTombItem);n.x=e.yp[t],n.y=170*t+150,e.addChild(n),e.lj.push(n)}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.CG(IDU.ZCA);n&&(t.ks=n.split(QycO.XP).map(returnInt)),t.nw()},t.prototype.nw=function(){var e=this;e.CSo&&(MaxLevel.SWORD_TOMB_MAX_LEVEL=parseInt(XCA.CG(IDU.QL).split(QycO.XP)[0]),e.tc(),e.rc(),e.jm(),e.m_(),e._k())},t.prototype.tc=function(){var e=this,t=App.DX.curFloor;1===t&&(t=2),e.lj[0].floor=t+1,e.lj[1].floor=t,e.lj[2].floor=t-1;for(var n=0,i=e.lj.length;i>n;n++){var r=e.lj[n];r.floor>MaxLevel.SWORD_TOMB_MAX_LEVEL&&(r.visible=!1)}},t.prototype.rc=function(){var e=this,t=App.DX.curFloor,n=App.MB.flyBossList,i=n[t-1];n[t];if(i){e.zc=i.TSF.mapid;var r=i.TSF.attrid,a=XCA.YV(r),o=a.p1;hFO.instance.getNumberView(bRC.UA,o.toString(),-6,e.fightNum)}t>MaxLevel.SWORD_TOMB_MAX_LEVEL&&(removeSelf(e.fightGroup),removeSelf(e.challengeBtn))},t.prototype.jm=function(){var e=this;e.bestName.text=fvg.GVf("flyboss02",App.DX.bestName),e.bestScore.text=fvg.GVf("flyboss01",App.DX.bestScore)},t.prototype.m_=function(){for(var e,t=this,n=App.DX.curFloor,i=n-1,r=0,a=t.ks.length;a>r;r++)if(i<t.ks[r]){e=t.ks[r];break}var o=XCA.DG(60,e),s=Nkz.PI(o);s&&s.length>0?(t.rewardGoods.data=s[0],t.rewardTitle.text=fvg.GVf("flyboss03",e),t.culProLab.text=fvg.GVf("public022",i,e),t.culPro.value=Math.min(int(i/e*100),100)):(removeSelf(t.culPro),removeSelf(t.culProLab),removeSelf(t.rewardTitle),removeSelf(t.rewardGoods))},t.prototype._k=function(){var e=this,t=UsU.RL(),n=e.raidBtn;t?addSelf(this,n):removeSelf(n)},t.prototype.initEvent=function(){var e=this;e.challengeBtn.addEventListener(eui.tep,e.__challengeHandler,e),e.raidBtn.addEventListener(eui.tep,e.kv,e),vkG.$a(UtJ.JOW,e.uw,e)},t.prototype.removeEvent=function(){var e=this;e.challengeBtn.removeEventListener(eui.tep,e.__challengeHandler,e),e.raidBtn.removeEventListener(eui.tep,e.kv,e),vkG.$r(UtJ.JOW,e.uw,e)},t.prototype.uw=function(){this.nw()},t.prototype.kv=function(e){var t=GObj.$c(BoxPopUi),n=App.DX.curFloor-1;t.showDetail(60,n,n,n,"flysword5",!1,App.DX.getCurFloorReward(n,App.DX.raidCount))},t.prototype.__challengeHandler=function(e){var t=this;return App.UY.isCanSwitc()?void(t.zc&&(App.VS.closeAll(),App.VS.enterMapOpenUI(t.zc,10164,void 0,!1),App.UY.enter(t.zc))):void msgTip(fvg.GVf("35"))},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.bestScore),t.bestScore=null,GObj.$d(t.bestName),t.bestName=null,GObj.$d(t.raidBtn),t.raidBtn=null,GObj.$d(t.rewardGoods),t.rewardGoods=null,GObj.$d(t.rewardTitle),t.rewardTitle=null,GObj.$d(t.fightNum),t.fightNum=null,GObj.$d(t.fightGroup),t.fightGroup=null,t.lj){for(var n=0,i=t.lj.length;i>n;n++)GObj.$d(t.lj[n]);t.lj.length=0,t.lj=null}e.prototype.dispose.call(this)},t}(BaseView);__reflect(SwordTombView.prototype,"SwordTombView");var FunnyBagItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FunnyBagItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gotoBtn.label=fvg.GVf("funny3"),e.getBtn.label=fvg.GVf("funny4"),e.rewardData=GObj.$c(eui.ArrayCollection),e.dataGroup.itemRenderer=GoodsItemRenderer,e.dataGroup.dataProvider=e.rewardData},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dp,e),e.gotoBtn.addEventListener(eui.tep,e.hi,e),e.getBtn.addEventListener(eui.tep,e.ew,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dp,e),e.gotoBtn.removeEventListener(eui.tep,e.hi,e),e.getBtn.removeEventListener(eui.tep,e.ew,e)},t.prototype.hi=function(e){App.VS.open(10089)},t.prototype.ew=function(e){var t=this;if(t.n_)return 0==t.n_.status?void MessageTipManager.instance.show(fvg.GVf("funny2")):void FunnyMsgProxy.LR(t.n_.id)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.n_=e.data,e.titleTxt.textFlow=LgRe.OQ(e.n_.bagTitle);var t=e.n_.haveFinish;e.progTxt.text=fvg.GVf("112",t,e.n_.totalFinish),e.progTxt.textColor=t>=e.n_.totalFinish?Color.SQ:Color.KA,e.progTxt.x=e.titleTxt.x+e.titleTxt.width,e.progTxt.visible=e.xa(),e.haveGetTxt.visible=e.n_.totalGet>1,e.haveGetTxt.text=fvg.GVf("112",e.n_.totalGet-e.n_.haveGet,e.n_.totalGet),e.haveGetTxt.textColor=e.n_.totalGet-e.n_.haveGet>0?Color.SQ:Color.KA,e.updateReward(),e.fv()}},t.prototype.xa=function(){var e=this;return 10015==e.n_.funnyType||10016==e.n_.funnyType?!1:!0},t.prototype.updateReward=function(){var e=this;if(10003!=e.n_.funnyType){e.equalImg.visible=!1,e.itemView&&(e.itemView.visible=!1),e.rewardData.source.splice(0,e.rewardData.source.length);for(var t=e.n_.rewardList,n=void 0,i=0;i<t.length;i++)n=GObj.$c(nlwj),n.tid=t[i].tempId,n.count=t[i].count,e.rewardData.source.push(n);e.rewardData.refresh()}else{e.equalImg.visible=!0,e.itemView||(e.itemView=GObj.$c(GoodsItemView),e.itemView.data=GObj.$c(nlwj),e.addChild(e.itemView)),e.itemView.visible=!0;var t=e.n_.rewardList;if(t.length>0){var n=e.itemView.data;n.tid=t[0].tempId,n.count=t[0].count,e.itemView.data=n}e.rewardData.source.splice(0,e.rewardData.source.length);for(var r=e.n_.getConditionGoods(),i=0;i<r.length;i++)e.rewardData.source.push(r[i]);e.rewardData.refresh(),e.equalImg.x=e.dataGroup.x+74*r.length+2,e.itemView.x=e.equalImg.x+e.equalImg.width+2,e.itemView.y=e.dataGroup.y}},t.prototype.fv=function(){var e=this;e.getBtn.visible=!1,e.getBtn.icon=null,e.gotoBtn.visible=!1,e.haveGetImg.visible=!1;var t=e.n_.status;switch(t){case 0:10001==e.n_.funnyType||10002==e.n_.funnyType?e.gotoBtn.visible=!0:(e.getBtn.visible=!0,e.getBtn.icon=null);break;case 1:e.getBtn.visible=!0,e.getBtn.icon=StaticData.GHj;break;case 2:e.getBtn.visible=e.gotoBtn.visible=!1,e.haveGetImg.visible=!0}},t.prototype.dp=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup)),t.dataGroup=null,t.rewardData=null,t.n_=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,GObj.$d(t.haveGetImg),t.haveGetImg=null,GObj.$d(t.equalImg),t.equalImg=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.haveGetTxt),t.haveGetTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FunnyBagItem.prototype,"FunnyBagItem");var FunnyBagView=function(e){function t(){var t=e.call(this,"FunnyBagView")||this,n=RRUU.$s("FunnyBagViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bagDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.itemRenderer=FunnyBagItem,e.itemGroup.dataProvider=e.bagDatas},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.kh,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.kh,e),vkG.$r(HUtJ.HEARTBEAT,e.cf,e)},t.prototype.initData=function(){var e=this;e.ok_h=e.ny},t.prototype.kh=function(e){this.refreshView(!1)},t.prototype.dataUpdated=function(){var e=this;e.ok_h=e.viewData.data.ok_h},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.ny},set:function(e){var t=this;t.ny=e,t.refreshView(!0)},enumerable:!0,configurable:!0}),t.prototype.refreshView=function(e){var t=this;t.CSo&&t.ny&&(usable(t.ny.backbanner)?t.contentView.icon=kLM._G(t.ny.backbanner):t.contentView.icon=kLM.AE(t.ny.type),t.descTxt.text=fvg.GVf("funnyDesc"+t.ny.type),10029==t.ny.type?t.descTxt_2.text=fvg.GVf("funnyDesc2_"+t.ny.type):t.descTxt_2.text="",t.updateBagItem(e),t.updateLastTime())},t.prototype.updateBagItem=function(e){for(var t=this,n=t.ny.bagList,i=n.length,r=[],a=0;i>a;a++)r.push(n[a]);t.bagDatas.replaceAll(r),e&&(t.scroller.stopAnimation(),t.bagDatas.refresh())},t.prototype.updateLastTime=function(){var e=this,t=e.ok_h.endTime-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.cf,e):vkG.$r(HUtJ.HEARTBEAT,e.cf,e),e.cf()},t.prototype.cf=function(){var e=this,t=e.ok_h.endTime-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(vkG.$r(HUtJ.HEARTBEAT,e.cf,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.bagDatas=null,t.ny=null,GObj.$d(t.contentView),t.contentView=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FunnyBagView.prototype,"FunnyBagView");var FunnyFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title="funny_json.funny_title_png",e.attrDatas=GObj.$c(eui.ArrayCollection),e.attrDataGroup.itemRenderer=FunnyTopBtn,e.attrDataGroup.dataProvider=e.attrDatas},t.prototype.initData=function(){e.prototype.initData.call(this),this.kz()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.attrDataGroup.addEventListener(egret.Event.CHANGE,t.__selectedHandler,t),vkG.$a(UtJ.AW,t.il,t),vkG.$a(UtJ.CR,t.il,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.attrDataGroup.removeEventListener(egret.Event.CHANGE,t.__selectedHandler,t),vkG.$r(UtJ.AW,t.il,t),vkG.$r(UtJ.CR,t.il,t)},t.prototype.kz=function(){var e=this;e.attrDatas.source.splice(0,e.attrDatas.source.length);for(var t,n=App.MG.funnyList.length,i=-1,r=0,a=0;n>r;r++){if(t=App.MG.funnyList[r],0!=t.p5)return;t.isExist&&(e.attrDatas.source.push(t),!e.vq&&-1==i&&t.hasReceiveBag?i=a:e.vq&&t.id==e.vq&&(i=a),a++)}e.attrDatas.refresh(),e.attrDataGroup.selectedIndex=-1==i?0:i,e.__selectedHandler(null),egret.Tween.get(e).wait(100).call(e.lm,e)},t.prototype.lm=function(){var e=this;if(egret.Tween.removeTweens(e),e.attrDataGroup){var t=91*e.attrDataGroup.selectedIndex;t>=e.scroller.width&&(e.scroller.viewport.scrollH=Math.min(t,e.scroller.viewport.contentWidth-e.scroller.width))}},t.prototype.il=function(){this.kz()},t.prototype.__selectedHandler=function(e){var t=this;t.qo&&(t.qo.visible=!1),t.qo=null;var n=t.attrDataGroup.selectedItem;n&&(t.vq=n.id,10018==n.type?(t.rk||(t.rk=GObj.$c(FunnyTreasureView),t.rk.x=24,t.rk.y=62,t.addChild(t.rk)),t.rk.ok_h=n,t.qo=t.rk):10021==n.type?(t.tj||(t.tj=GObj.$c(RechargeTreasureView),t.tj.x=24,t.tj.y=62,t.addChild(t.tj)),t.tj.ok_h=n,t.qo=t.tj):10035==n.type?(t.cbe||(t.cbe=GObj.$c(GodOfWealthView),t.cbe.x=24,t.cbe.y=62,t.addChild(t.cbe)),t.cbe.ok_h=n,t.qo=t.cbe):(t.s_||(t.s_=GObj.$c(FunnyBagView),t.s_.x=25,t.s_.y=58,t.addChild(t.s_)),t.s_.ok_h=n,t.qo=t.s_),t.qo&&(t.qo.visible=!0))},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.removeEvent(),GObj.$d(t.s_),t.s_=null,GObj.$d(t.rk),t.rk=null,GObj.$d(t.tj),t.tj=null,GObj.$d(t.cbe),t.cbe=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.attrDatas=null,t.qo=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(FunnyFrame.prototype,"FunnyFrame");var FunnyTopBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FunnyTopBtnSkin"),t}return __extends(t,e),t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.mk,e),vkG.$a(UtJ.PP,e.nz,e),vkG.$a(UtJ.PT,e.ru,e),vkG.$a(UtJ.IU,e.hb,e),vkG.$a(UtJ.SQ,e.hb,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.mk,e),vkG.$r(UtJ.PP,e.nz,e),vkG.$r(UtJ.PT,e.ru,e),vkG.$r(UtJ.IU,e.hb,e),vkG.$r(UtJ.SQ,e.hb,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){this.mf()},t.prototype.nz=function(e){this.mf()},t.prototype.ru=function(e){e&&(e.indexOf(6)>=0||e.indexOf(7)>=0)&&this.mf()},t.prototype.hb=function(e){var t=this;1!=e||!t.yp||10018!=t.yp.type&&10021!=t.yp.type||t.mf()},t.prototype.selectedChange=function(){var t=this;e.prototype.selectedChange.call(this),t.yp&&(t.selected?usable(t.yp.backicon)?t.iconView.icon=kLM._G(t.yp.backicon):t.iconView.icon=kLM.OQ(t.yp.type):usable(t.yp.backicon)?t.iconView.icon=kLM._G(t.yp.backicon):t.iconView.icon=kLM.HT(t.yp.type))},t.prototype.mf=function(){var e=this;e.CSo&&e.data&&(e.yp=e.data,usable(e.yp.backicon)?e.iconView.icon=kLM._G(e.yp.backicon):e.selected?e.iconView.icon=kLM.OQ(e.yp.type):e.iconView.icon=kLM.HT(e.yp.type),e.redPoint.visible=e.yp.hasReceiveBag)},t.prototype.mk=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.redPoint),t.redPoint=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FunnyTopBtn.prototype,"FunnyTopBtn");var CarnivalTipItem=function(e){function t(){var t=e.call(this,"CarnivalTipItem")||this;return t._showNumTxt=!0,t._showItemCount=!0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.AW,e.ih,e),vkG.$a(UtJ.PP,e.ih,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.AW,e.ih,e),vkG.$r(UtJ.PP,e.ih,e)},t.prototype.initData=function(){this.ih()},t.prototype.ih=function(){var e=this;if(e.CSo&&e._data){e.reward.data=e._data,e.descLab.text=e._desc,e.descBtn.label=e._desc,e.chapterTxt.text=fvg.GVf("public091",e._chapter),e.descBtn.icon=UsU.CL(10056)?StaticData.GHj:null;var t=e._data.count;e._data.tid==StaticData.TID_VIP_SCORE&&App.VX.wbShare&&(t=10*e._data.count)}},t.prototype.setData=function(e,t,n){var i=this;i._desc=t,i._data=e,i._chapter=n,i.ih()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.reward),t.reward=null,GObj.$d(t.chapterTxt),t.chapterTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CarnivalTipItem.prototype,"CarnivalTipItem");var Carnivalview=function(e){function t(){var t=e.call(this,"Carnivalview")||this;return t.bd=0,t.skinName=RRUU.$s("Carnivalview"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=CarnivalviewItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.AW,e.nc,e),vkG.$a(UtJ.PP,e.nc,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e._x,e),vkG.$r(UtJ.AW,e.nc,e),vkG.$r(UtJ.PP,e.nc,e)},t.prototype.initData=function(){this.mv()},t.prototype.dataUpdated=function(){this.mv()},t.prototype.mv=function(){var e=this;e.viewData&&(e.bd=e.tabType,e.banner&&(e.banner.source=kLM.VH(e.bd),e.lh()))},t.prototype.nc=function(e){this.lh()},t.prototype.lh=function(){var e=this;switch(e.tabType){case 1:e.wj=App.MG.carnivalChapterList;break;case 2:e.wj=App.MG.carnivalBeautyList;break;case 3:e.wj=App.MG.carnivalFightList;break;case 4:e.wj=App.MG.carnivalMagicList;break;case 5:e.wj=App.MG.carnivalTeamList;break;case 6:e.wj=App.MG.carnivalTeam2List;break;case 7:e.wj=App.MG.carnivalTownList}for(var t=e.wj,n=t.bagList.length,i=[],r=0;n>r;r++)i.push(t.bagList[r]);e.datas.replaceAll(i),e.datas.refresh(),e.updateLastTime()},t.prototype.gk=function(e,t){var n,i;return 1==e.type?(n=App.KP.getPointRewState(e.index),i=App.KP.getPointRewState(t.index)):2==e.type?(n=App.KP.getJadeRewState(e.index),i=App.KP.getJadeRewState(t.index)):3==e.type&&(n=App.KP.getTresureRewState(e.index),i=App.KP.getTresureRewState(t.index)),n==i?e.target>t.target?1:-1:n>i?1:-1},t.prototype.updateLastTime=function(){var e=this,t=e.wj.endTime-App.NN.serverSecond;
t>0?vkG.$a(HUtJ.HEARTBEAT,e._x,e):vkG.$r(HUtJ.HEARTBEAT,e._x,e),e._x()},t.prototype._x=function(){var e=this,t=e.wj.endTime-App.NN.serverSecond;t>0?(e.leftTime.text=fvg.GVf("public050",kpd.YW(t)),e.leftTime.textColor=Color.TX):(vkG.$r(HUtJ.HEARTBEAT,e._x,e),e.leftTime.text=fvg.GVf("s4"),e.leftTime.textColor=Color.KA)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.banner),t.banner=null,GObj.$d(t.leftTime),t.leftTime=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,t.bd=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(Carnivalview.prototype,"Carnivalview");var CarnivalviewItem=function(e){function t(){var t=e.call(this)||this;return t.ay=0,t.cl=0,t.skinName=RRUU.$s("CarnivalviewItemSkin"),t}return __extends(t,e),t.prototype.initData=function(){},t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("revelry16"),e.rewData=GObj.$c(eui.ArrayCollection),e.rewDataGroup.dataProvider=e.rewData,e.rewDataGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.p_,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.p_,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.bi=e.data,e.getBtn.visible=!0,e.getedImg.visible=!1,e.rewData.source.length=0;for(var t,n=0,i=e.bi.rewardList;n<i.length;n++){var r=i[n];t=GObj.$c(nlwj),t.tid=r.tempId,t.count=r.count,e.rewData.source.push(t)}e.rewData.refresh(),e.cl=e.bi.status;var a=e.bi.haveFinish>=e.bi.totalFinish?Color.XK:Color.AY,o=e.bi.totalFinish.toString(),s=e.bi.haveFinish.toString();switch((10058==e.bi.funnyType||10057==e.bi.funnyType)&&(o=fvg.GVf("knight19",int(e.bi.totalFinish/10)+1,e.bi.totalFinish%10),s=fvg.GVf("knight19",int(e.bi.haveFinish/10)+1,e.bi.haveFinish%10)),e.descLab.textFlow=LgRe.OQ(fvg.GVf("camival"+e.bi.funnyType,a,s,o)),e.getedImg.visible=!1,e.getBtn.visible=!1,e.getBtn.skinName=SimpleButton_1,e.bi.status){case 0:e.getBtn.visible=!0,e.getBtn.label=fvg.GVf("revelry17"),e.getBtn.skinName=SimpleButton_2;break;case 1:e.getBtn.visible=!0,e.getBtn.label=fvg.GVf("revelry16");break;case 2:e.getedImg.visible=!0}switch(e.bi.funnyType){case 10056:}e.getBtn.icon=1==e.cl?StaticData.GHj:null}},t.prototype.p_=function(e){var t=this;if(1!=t.bi.status){if(0==t.bi.status)switch(t.bi.funnyType){case 10056:App.VS.closeAll();break;case 10058:rRcz.FC();break;case 10057:rRcz.PT();break;case 10059:App.VS.closeAll();break;case 10060:App.VS.open(10145);break;case 10062:App.VS.open(10040);break;case 10063:App.VS.open(10167)}}else FunnyMsgProxy.LR(t.bi.id)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getedImg),t.getedImg=null,t.rewDataGroup&&(t.rewDataGroup.dataProvider=null,GObj.$d(t.rewDataGroup)),t.rewDataGroup=null,t.rewData=null,t.bi=null,t.ay=null,t.cl=null,t.mj=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CarnivalviewItem.prototype,"CarnivalviewItem");var DynamicBtn=function(e){function t(){var t=e.call(this,"DynamicBtn")||this,n=RRUU.$s("DynamicBtn");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.festivalact_mc=App.KB.getUIEffect("festivalact_mc"),e.groupDisplay.addChild(e.festivalact_mc)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.pj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.pj,e)},t.prototype.initData=function(){this.festivalact_mc.start("festivalact_1_mc",120)},t.prototype.pj=function(e){rRcz.QP(1)},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(DynamicBtn.prototype,"DynamicBtn");var FunnyFestivlActFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.zv=0,n.skinName=RRUU.$s(t),n.verticalCenter=0,n.horizontalCenter=0,ziI.PC(),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.attrDatas=GObj.$c(eui.ArrayCollection),e.attrDataGroup.itemRenderer=FunnyTopBtn,e.attrDataGroup.dataProvider=e.attrDatas},t.prototype.initData=function(){e.prototype.initData.call(this),this.t_()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.attrDataGroup.addEventListener(egret.Event.CHANGE,t.__selectedHandler,t),vkG.$a(UtJ.AW,t.fz,t),vkG.$a(UtJ.CR,t.fz,t)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.zv=e[0],n.t_()},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.attrDataGroup.removeEventListener(egret.Event.CHANGE,t.__selectedHandler,t),vkG.$r(UtJ.AW,t.fz,t),vkG.$r(UtJ.CR,t.fz,t)},t.prototype.t_=function(){var e=this;if(e.CSo&&0!=e.zv){e.title=kLM.GL(e.zv),e.attrDatas.source.splice(0,e.attrDatas.source.length);for(var t,n=App.MG.funnyList.length,i=-1,r=0,a=0;n>r;r++)t=App.MG.funnyList[r],e.pf(t)&&t.isExist&&(e.attrDatas.source.push(t),!e.dr&&-1==i&&t.hasReceiveBag?i=a:e.dr&&t.id==e.dr&&(i=a),a++);e.attrDatas.refresh(),e.attrDataGroup.selectedIndex=-1==i?0:i,e.__selectedHandler(null),egret.Tween.get(e).wait(100).call(e.qkd,e)}},t.prototype.qkd=function(){var e=this;if(egret.Tween.removeTweens(e),e.attrDataGroup){var t=91*e.attrDataGroup.selectedIndex;t>=e.scroller.width&&(e.scroller.viewport.scrollH=Math.min(t,e.scroller.viewport.contentWidth-e.scroller.width))}},t.prototype.pf=function(e){return 0==e.p5||e.p5!=this.zv||10002!=e.type&&10015!=e.type?!1:!0},t.prototype.fz=function(){this.t_()},t.prototype.__selectedHandler=function(e){var t=this;t.df&&(t.df.visible=!1),t.df=null;var n=t.attrDataGroup.selectedItem;n&&(t.dr=n.id,10018==n.type?(t.o_||(t.o_=GObj.$c(FunnyTreasureView),t.o_.x=24,t.o_.y=62,t.addChild(t.o_)),t.o_.ok_h=n,t.df=t.o_):10021==n.type?(t.ar||(t.ar=GObj.$c(RechargeTreasureView),t.ar.x=24,t.ar.y=62,t.addChild(t.ar)),t.ar.ok_h=n,t.df=t.ar):10035==n.type?(t.eh||(t.eh=GObj.$c(GodOfWealthView),t.eh.x=24,t.eh.y=62,t.addChild(t.eh)),t.eh.ok_h=n,t.df=t.eh):(t.bl||(t.bl=GObj.$c(FunnyBagView),t.bl.x=25,t.bl.y=58,t.addChild(t.bl)),t.bl.ok_h=n,t.df=t.bl),t.df&&(t.df.visible=!0))},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.removeEvent(),GObj.$d(t.bl),t.bl=null,GObj.$d(t.o_),t.o_=null,GObj.$d(t.ar),t.ar=null,GObj.$d(t.eh),t.eh=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.attrDatas=null,t.df=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(FunnyFestivlActFrame.prototype,"FunnyFestivlActFrame");var GodOfWealthRecordView=function(e){function t(){var t=e.call(this,"GodOfWealthRecordView")||this;t.sh=3e5;var n=RRUU.$s("GodOfWealthRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wk=!1,e.touchEnabled=e.touchChildren=!1,e.vc=[],e.xe=GObj.$c(GeneralRecordView,380),e.fm=GObj.$c(GeneralRecordView,380),e.vc.push(e.xe),e.vc.push(e.fm)},t.prototype.initData=function(){var e=this,t=App.HD.godOfWealthRecord.utime;!t||GApp.timer-t>e.sh?ziI.MF("gold_man"):e.kg()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.SV,e.uy,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.SV,e.uy,e),vkG.$r(HUtJ.HEARTBEAT,e.lj,e),App.HA.unRegisteEnterFrame2(e.yr,e)},t.prototype.uy=function(){this.kg()},t.prototype.kg=function(){var e=this;e.wk||(e.wk=!0,vkG.$a(HUtJ.HEARTBEAT,e.lj,e),e.xe.setRecordData(App.HD.godOfWealthRecord.record),e.fm.setRecordData(App.HD.godOfWealthRecord.record),e.xe.y=0,e.fm.y=e.xe.totalHeight,e.recordGroup.addChild(e.xe),e.recordGroup.addChild(e.fm),App.HA.registeEnterFrame2(e.yr,e))},t.prototype.yr=function(){var e=this;if(!e.destory)for(var t=e.vc.length-1;t>=0;t--)e.fx=e.vc[t],e.fx.y--,e.fx.y<=-e.fx.totalHeight-5&&(e.fx=e.vc.splice(t,1)[0],e.fx.y=e.vc[0].y+e.vc[0].totalHeight,e.fx.setRecordData(App.HD.godOfWealthRecord.record),e.vc.push(e.fx))},t.prototype.lj=function(){var e=App.HD.godOfWealthRecord.utime;(!e||GApp.timer-e>this.sh)&&(App.HD.godOfWealthRecord.utime=GApp.timer,ziI.MF("gold_man"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.xe),t.xe=null,GObj.$d(t.fm),t.fm=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.vc=null,t.fx=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(GodOfWealthRecordView.prototype,"GodOfWealthRecordView");var GodOfWealthView=function(e){function t(){var t=e.call(this,"GodOfWealthView")||this;return t.skinName=RRUU.$s("GodOfWealthViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ne=GObj.$c(GodOfWealthRecordView),e.ne.x=55,e.ne.y=495,e.addChild(e.ne)},t.prototype.initEvent=function(){var e=this;e.lotteryBtn.addEventListener(eui.tep,e.vb,e),vkG.$a(UtJ.PP,e.di,e)},t.prototype.removeEvent=function(){var e=this;e.lotteryBtn.removeEventListener(eui.tep,e.vb,e),vkG.$r(UtJ.PP,e.di,e),vkG.$r(HUtJ.HEARTBEAT,e.lc,e)},t.prototype.initData=function(){this.vk()},t.prototype.dataUpdated=function(){var e=this;e.ok_h=e.viewData.data.ok_h},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.ci},set:function(e){var t=this;t.ci!=e&&(t.ci=e,t.vk())},enumerable:!0,configurable:!0}),t.prototype.vk=function(){var e=this;e.CSo&&e.ci&&(e.lj(),e.updateLastTime())},t.prototype.lj=function(){var e=this,t=e.ci.bagList;t.sort(App.MG.compareFunBySort),e.ln=null;for(var n,i=t.length,r=0;i>r;r++)if(n=t[r],2!=n.status||r==i-1){e.ln=n;break}if(e.ln){e.pp=0;var a=e.ln.conditionList?e.ln.conditionList[0]:null;a&&(e.descTxt.text=fvg.GVf("funny41",a.p4),e.pp=a.p2,e.lotteryBtn.label=fvg.GVf("recharge001",e.pp));var o=e.ln.haveFinish>=e.ln.totalFinish?aKF.DR:aKF.PU,s=aKF.QV(o);e.condTxt.textFlow=LgRe.OQ(fvg.GVf("funny42",e.ln.totalFinish,s,e.ln.haveFinish,e.ln.totalFinish)),e.lotteryBtn.visible=2!=e.ln.status,e.lotteryBtn.icon=e.lotteryBtn.visible&&o==aKF.DR?StaticData.GHj:null,e.getedImg.visible=!e.lotteryBtn.visible}},t.prototype.updateLastTime=function(){var e=this;if(e.ci&&!e.destory){var t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.lc,e):vkG.$r(HUtJ.HEARTBEAT,e.lc,e),e.lc()}},t.prototype.lc=function(){var e=this;if(!e.destory){var t=e.ok_h.showEnd-App.NN.serverSecond;if(t>0){var n=e.ok_h.endTime-App.NN.serverSecond;n>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(n)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}else vkG.$r(HUtJ.HEARTBEAT,e.lc,e)}},t.prototype.vb=function(e){var t=this;if(t.ln&&!(t.pp<=0)){var n=t.ln.totalFinish-t.ln.haveFinish;return n>0?void App.TT.show(fvg.GVf("funny43",n)):t.pp>App.KF.point?void _JDW.TR(StaticData.TID_POINT_ID):void FunnyMsgProxy.LR(t.ln.id)}},t.prototype.di=function(e){var t=this;t.ci&&e&&e.indexOf(t.ci.id)>=0&&t.lj()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ne),t.ne=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.condTxt),t.condTxt=null,GObj.$d(t.lotteryBtn),t.lotteryBtn=null,GObj.$d(t.getedImg),t.getedImg=null,t.ci=null,t.ln=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GodOfWealthView.prototype,"GodOfWealthView");var RevelryBossItem=function(e){function t(){var t=e.call(this)||this;return t.nr=0,t.mt=0,t.al=0,t.skinName=RRUU.$s("RevelryBossItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.rewData=GObj.$c(eui.ArrayCollection),e.rewDataGroup.dataProvider=e.rewData,e.rewDataGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.data,n=t.ward;e.al=e.data.key,e.rewData.source.length=0;for(var i=n.split("|"),r=0,a=i;r<a.length;r++){var o=a[r],s=GObj.$c(nlwj),p=o.split(",");s.tid=parseInt(p[0]),s.count=parseInt(p[1]),e.rewData.source.push(s)}e.rewData.refresh();var l=parseInt(t.c);e.nr=App.KP.killMultiBossCount;var c=e.nr>=l?Color.XK:Color.AY;e.descLab.textFlow=LgRe.OQ(fvg.GVf("revelry15",l,c,Math.min(e.nr,l),l)),e.mt=App.KP.getRevelryBossState(e.al),e.getBtn.visible=!0,e.getedImg.visible=!1,e.getBtn.icon=e.nr>=l&&0==e.mt?StaticData.GHj:null,e.nr>=l?(e.getBtn.skinName=SimpleButton_1,0==e.mt?(e.getBtn.visible=!0,e.getBtn.label=fvg.GVf("104"),e.getedImg.visible=!1):2==e.mt&&(e.getBtn.visible=!1,e.getedImg.visible=!0)):(e.getBtn.label=fvg.GVf("103"),e.getBtn.skinName=SimpleButton_2)}},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.hl,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.hl,e)},t.prototype.hl=function(e){var t=this,n=t.data.data;return t.nr<parseInt(n.c)?App.BG.jkU.chapter<StaticData.SHURA_CH?void msgTip(fvg.GVf("public081",StaticData.SHURA_CH)):void App.VS.open(10026):void RevelryMsgProxy.PU(7,t.al)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.rewDataGroup),t.rewDataGroup=null,t.rewData=null,t.nr=null,t.mt=null,t.al=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RevelryBossItem.prototype,"RevelryBossItem");var RevelryBossView=function(e){function t(){var t=e.call(this,"RevelryBossView")||this;return t.ca=1,t.skinName=RRUU.$s("RevelryBossView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=RevelryBossItem;var t=kpd.getOpenServerZeroClock()/1e3,n=kpd.WX(t,!0),i=t+691200-1,r=kpd.WX(i,!0);e.timeLab.textFlow=LgRe.OQ(fvg.GVf("revelry1",n,r)),e.descTitleLab.text=fvg.GVf("revelry2")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.VFN,e.ol,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.VFN,e.ol,e)},t.prototype.initData=function(){this.ol()},t.prototype.ol=function(){var e=this;if(e.CSo&&e.ca){var t;t=XCA.CG("open_carnival_bosshappy"),e.descLab.textFlow=LgRe.OQ(fvg.GVf("revelry_desc8")),e.datas.source=[];var n={},i=App.KP.killMultiBossCount;if(t){for(var r in t)n={},n.key=r,n.data=t[r],n.state=App.KP.getRevelryBossState(parseInt(r)),0==n.state&&i<n.data.c&&(n.state=1),e.datas.source.push(n);e.datas.source.sort(e.u_),e.datas.refresh()}}},t.prototype.u_=function(e,t){return e.state-t.state},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descTitleLab),t.descTitleLab=null,GObj.$d(t.descLab),t.descLab=null,t.datas=null,t.ca=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RevelryBossView.prototype,"RevelryBossView");var RevelryCostPointItem=function(e){function t(){var t=e.call(this)||this;return t.ay=0,t.ui=0,t.skinName=RRUU.$s("RevelryBossItem"),t}return __extends(t,e),t.prototype.initData=function(){},t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("revelry16"),e.rewData=GObj.$c(eui.ArrayCollection),e.rewDataGroup.dataProvider=e.rewData,e.rewDataGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.vv,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.vv,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.yr=e.data,e.getBtn.visible=!0,e.getedImg.visible=!1;var t=e.yr.rewardStr.split("|");e.rewData.source.length=0;for(var n,i=0,r=t;i<r.length;i++){var a=r[i];n=GObj.$c(nlwj);var o=a.split(",");n.tid=parseInt(o[0]),n.count=parseInt(o[1]),e.rewData.source.push(n)}e.rewData.refresh();var s=e.yr.index;1==e.yr.type?(e.ay=App.KP.revelryPointCnt||0,e.ui=App.KP.getPointRewState(s)||0,e.mn=8):2==e.yr.type?(e.ay=App.KP.revelryJadeCnt||0,e.ui=App.KP.getJadeRewState(s)||0,e.mn=9):3==e.yr.type&&(e.ay=App.KP.revelryTresureCnt||0,e.ui=App.KP.getTresureRewState(s)||0,e.mn=10);var p=e.ay>=e.yr.target?e.yr.target:e.ay,l=(Nkz.YL(p,0),Nkz.YL(e.yr.target,0)),c=p>=e.yr.target?Color.XK:Color.AY;e.getBtn.skinName=SimpleButton_1,e.ay<e.yr.target?3==e.yr.type?(e.getBtn.label=fvg.GVf("revelry17"),e.getBtn.skinName=SimpleButton_2):e.getBtn.label=fvg.GVf("revelry16"):(e.getBtn.label=fvg.GVf("revelry16"),e.getedImg.visible=2==e.ui,e.getBtn.visible=0==e.ui),e.getBtn.icon=0==e.ui&&e.ay>=e.yr.target?StaticData.GHj:null,e.descLab.textFlow=LgRe.OQ(fvg.GVf("revelry_stageDesc"+e.yr.type,l,c,p,l))}},t.prototype.vv=function(e){var t=this;if(t.ay<t.yr.target)if(3==t.yr.type){if(App.KF.chapter<StaticData.WEALTH_DISH_CH)return void msgTip(fvg.GVf("public095"));App.VS.openMain(10129)}else msgTip(fvg.GVf("funny2"));else RevelryMsgProxy.PU(t.mn,t.yr.index)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getedImg),t.getedImg=null,t.rewDataGroup&&(t.rewDataGroup.dataProvider=null,GObj.$d(t.rewDataGroup)),t.rewDataGroup=null,t.rewData=null,t.yr=null,t.ay=null,t.ui=null,t.mn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RevelryCostPointItem.prototype,"RevelryCostPointItem");var RevelryCostPointView=function(e){function t(){var t=e.call(this,"RevelryCostPointView")||this;return t.ca=0,t.skinName=RRUU.$s("RevelryCostPointView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=RevelryCostPointItem},t.prototype.initEvent=function(){var e=this;e.strategyBtn.addEventListener(eui.tep,e.fp,e),vkG.$a(HUtJ.HEARTBEAT,e.vk,e),vkG.$a(UtJ.MXL,e.bc,e)},t.prototype.removeEvent=function(){var e=this;e.strategyBtn.removeEventListener(eui.tep,e.fp,e),vkG.$r(HUtJ.HEARTBEAT,e.vk,e),vkG.$r(UtJ.MXL,e.bc,e)},t.prototype.initData=function(){var e=this;e.bc(),e.vk()},t.prototype.dataUpdated=function(){this.bc()},t.prototype.bc=function(){var e=this;if(e.viewData&&(e.ca=e.tabType,e.banner)){e.banner.source=kLM.AZ(e.ca),e.strategyBtn.visible=3!=e.ca,1==e.ca&&(e.strategyBtn.label=fvg.GVf("revelry20"));var t;if(t=XCA.CG("new_server_"+e.ca)){e.datas.source.length=0;var n,i=[];for(var r in t)n=t[r],n.type=e.ca,n.index=parseInt(r),i.push(n);i.sort(e.xu),e.datas.replaceAll(i),e.datas.refresh(),StaticData.HIDE_RECHARGE&&(e.strategyBtn.visible=!1)}}},t.prototype.xu=function(e,t){var n,i;return 1==e.type?(n=App.KP.getPointRewState(e.index),i=App.KP.getPointRewState(t.index)):2==e.type?(n=App.KP.getJadeRewState(e.index),i=App.KP.getJadeRewState(t.index)):3==e.type&&(n=App.KP.getTresureRewState(e.index),i=App.KP.getTresureRewState(t.index)),n==i?e.target>t.target?1:-1:n>i?1:-1},t.prototype.vk=function(){var e=this,t=kpd.getOpenServerZeroClock(),n=App.NN.serverTime,i=691199e3,r=n-t,a=Math.floor((i-r)/1e3);a>0?e.leftTime.text=fvg.GVf("revelry18",kpd.YW(a)):e.leftTime.text=fvg.GVf("revelry19")},t.prototype.fp=function(e){var t=this;1==t.ca?rRcz.PT():2==t.ca&&_JDW.TR(StaticData.TID_POINT_ID)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.banner),t.banner=null,GObj.$d(t.leftTime),t.leftTime=null,GObj.$d(t.strategyBtn),t.strategyBtn=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,t.ca=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RevelryCostPointView.prototype,"RevelryCostPointView");var RevelryUpgradeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RevelryUpgradeItem"),t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.initView=function(){var e=this;e.normalData=GObj.$c(eui.ArrayCollection),e.normalDataGroup.dataProvider=e.normalData,e.normalDataGroup.itemRenderer=RevelryUpgradeRewardItem,e.privilegeData=GObj.$c(eui.ArrayCollection),e.privilegeDataGroup.dataProvider=e.privilegeData,e.privilegeDataGroup.itemRenderer=RevelryUpgradeRewardItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t;switch(e.data.type){case 4:e.descLab.text=fvg.GVf("revelry4",e.data.value),t="156_";break;case 5:e.descLab.text=fvg.GVf("task5",e.data.value),t="157_"}e.gr(t),e.fa(t)}},t.prototype.gr=function(e){var t=this,n=XCA.RE(e+t.data.index+"_0");if(n){t.normalData.source.length=0;for(var i=n.split(QycO.PK),r=[],a=0,o=i.length;o>a;a++){var s={};s.goodsStr=i[a],s.index=t.data.index-1,s.isprivilege=0,s.value=t.data.value,s.type=t.data.type,r.push(s)}t.normalData.replaceAll(r),t.normalData.refresh()}},t.prototype.fa=function(e){var t=this,n=XCA.RE(e+t.data.index+"_1");if(n){t.privilegeData.source.length=0;for(var i=n.split(QycO.PK),r=[],a=0,o=i.length;o>a;a++){var s={};s.goodsStr=i[a],s.index=t.data.index-1,s.isprivilege=1,s.value=t.data.value,s.type=t.data.type,r.push(s)}t.privilegeData.replaceAll(r),t.privilegeData.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,t.normalDataGroup&&(t.normalDataGroup.dataProvider=null,GObj.$d(t.normalDataGroup)),t.normalDataGroup=null,t.normalData=null,t.privilegeDataGroup&&(t.privilegeDataGroup.dataProvider=null,GObj.$d(t.privilegeDataGroup)),t.privilegeDataGroup=null,t.privilegeData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RevelryUpgradeItem.prototype,"RevelryUpgradeItem");var RevelryUpgradeRewardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RevelryUpgradeRewardItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=Nkz.PI(e.data.goodsStr);t.length>0&&(e.itemView.data=t[0]);var n,i=0,r=!1,a=0;switch(e.data.type){case 4:n=App.KP.upgradeRewStateDict,a=App.KF.grade;break;case 5:n=App.KP.chapterRewStateDict,a=App.KF.chapter}0===e.data.isprivilege?(i=n.award_state_0,r=1===(i>>e.data.index&1),e.op=!r&&a>=e.data.value):(i=n.award_state_1,r=1===(i>>e.data.index&1),e.op=!r&&a>=e.data.value&&App.DE.supremeCardVO.isExpCard),e.maskImg.visible=e.maskIconImg.visible=e.receiveImg.visible=r,e.redPointImg.visible=e.op}},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.lw,e),e.addEventListener(eui.tep,e.lq,e),vkG.$a(UtJ.KWI,e.wn,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.lw,e),e.removeEventListener(eui.tep,e.lq,e),vkG.$r(UtJ.KWI,e.wn,e)},t.prototype.wn=function(){this.dataChanged()},t.prototype.lq=function(e){var t=this;if(t.op)switch(t.data.type){case 4:RevelryMsgProxy.DW();break;case 5:RevelryMsgProxy.YB()}else t.itemView.data&&App.FK.showGoodsDetails(t.itemView.data,!1)},t.prototype.lw=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.receiveImg),t.receiveImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.maskIconImg),t.maskIconImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RevelryUpgradeRewardItem.prototype,"RevelryUpgradeRewardItem");var RevelryUpgradeView=function(e){function t(){var t=e.call(this,"RevelryUpgradeView")||this;return t.mb=-1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=RevelryUpgradeItem,e.getBtn.label=fvg.GVf("achievement10"),e.desc2.text=fvg.GVf("revelry_desc10"),e.desc3.textFlow=LgRe.OQ(fvg.GVf("revelry_desc11")),e.goBtn.label=fvg.GVf("revelry_desc12"),App.DE.supremeCardVO.isExpCard&&(e.goBtn.label=fvg.GVf("revelry_desc13"),e.goBtn.touchEnabled=!1)},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.ck,e),e.goBtn.addEventListener(eui.tep,e.yx,e),vkG.$a(HUtJ.HEARTBEAT,e.h_,e),vkG.$a(UtJ.MXL,e.ek,e),vkG.$a(UtJ.KWI,e.ek,e),vkG.$a(UtJ.YJ,e.mt,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.ck,e),e.goBtn.removeEventListener(eui.tep,e.yx,e),vkG.$r(HUtJ.HEARTBEAT,e.h_,e),vkG.$r(UtJ.MXL,e.ek,e),vkG.$r(UtJ.KWI,e.ek,e),vkG.$r(UtJ.YJ,e.mt,e)},t.prototype.initData=function(){var e=this;e.h_(),e.ek(),e.mt()},t.prototype.dataUpdated=function(){var e=this;e.mb=e.tabType,e.ek()},t.prototype.mt=function(){this.goBtn.visible=!IoG.EZ()},t.prototype.ek=function(){var e=this;if(e.banner){e.mb=e.tabType,e.desc1.text=fvg.GVf("revelry_desc9_"+e.mb),e.banner.source=kLM.AZ(e.mb);var t;if(t=XCA.CG("new_server_"+e.mb).split(QycO.XP)){var n=[];e.datas.source.length=0;for(var i=0,r=t.length;r>i;i++){var a={};a.index=i+1,a.value=parseInt(t[i]),a.type=e.mb,n.push(a)}e.datas.replaceAll(n),e.datas.refresh(),e.tx()}}},t.prototype.tx=function(){var e=this;e.getBtn.icon=UsU.ZX(e.mb)?StaticData.GHj:""},t.prototype.h_=function(){var e=this,t=kpd.getOpenServerZeroClock(),n=App.NN.serverTime,i=691199e3,r=n-t,a=Math.floor((i-r)/1e3);a>0?e.leftTime.text=fvg.GVf("revelry18",kpd.YW(a)):e.leftTime.text=fvg.GVf("revelry19")},t.prototype.ck=function(e){var t=this;if(t.getBtn.icon)switch(t.mb){case 4:RevelryMsgProxy.DW();break;case 5:RevelryMsgProxy.YB()}else msgTip(fvg.GVf("revelry22"))},t.prototype.yx=function(e){App.VS.open(10138)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.banner),t.banner=null,GObj.$d(t.leftTime),t.leftTime=null,GObj.$d(t.desc1),t.desc1=null,GObj.$d(t.desc2),t.desc2=null,GObj.$d(t.desc3),t.desc3=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.goBtn),t.goBtn=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RevelryUpgradeView.prototype,"RevelryUpgradeView");var RechargeMuiltPopUi=function(e){function t(){var t=e.call(this,"RechargeMuiltPopUi")||this;return t.skinName=RRUU.$s("RechargeMuiltPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.sizeSelector.minCount=0,this.confirmBtn.label=fvg.GVf("funny30"),this.title=fvg.GVf("funny30")},t.prototype.initEvent=function(){this.sizeSelector.addEventListener(egret.Event.CHANGE,this.__countChangeHandler,this),this.confirmBtn.addEventListener(eui.tep,this.__confirmClickHandler,this)},t.prototype.removeEvent=function(){this.sizeSelector.removeEventListener(egret.Event.CHANGE,this.__countChangeHandler,this),this.confirmBtn.removeEventListener(eui.tep,this.__confirmClickHandler,this)},t.prototype.initData=function(){this.updateView()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e&&e.length>0&&(this.maxCount=e[0]||0,this.callFun=e[1],this.thisargs=e[2],this.updateView())},t.prototype.updateView=function(){if(this.CSo&&this.callFun){var e=Math.min(10*int(this.maxCount/10),100);this.sizeSelector.maxCount=e,this.sizeSelector.selectedCount=e,this.maxCountTxt.text=fvg.GVf("funny28",this.maxCount),this.__countChangeHandler(null)}},t.prototype.__countChangeHandler=function(e){this.currCountTxt.text=fvg.GVf("funny31",this.sizeSelector.selectedCount)},t.prototype.__confirmClickHandler=function(e){var t=this.sizeSelector.selectedCount;this.callFun&&this.callFun.call(this.thisargs,t),GObj.$d(this)},t.prototype.__closeBtnClickHandler=function(e){GObj.$d(this)},t.prototype.dispose=function(){this.removeEvent(),GObj.$d(this.currCountTxt),this.currCountTxt=null,GObj.$d(this.maxCountTxt),this.maxCountTxt=null,GObj.$d(this.confirmBtn),this.confirmBtn=null,GObj.$d(this.sizeSelector),this.sizeSelector=null,this.callFun=null,this.thisargs=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RechargeMuiltPopUi.prototype,"RechargeMuiltPopUi");var RechargeTreasureBoxPopUi=function(e){function t(){var t=e.call(this,"RechargeTreasureBoxPopUi")||this,n=RRUU.$s("RechargeTreasureBoxPopUi");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.title=fvg.GVf("107");var t=XCA.CG(IDU.HA);e._y=t.split(","),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer
},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.__getClickHandler,e),vkG.$a(UtJ.PT,e.xz,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.__getClickHandler,e),vkG.$r(UtJ.PT,e.xz,e)},t.prototype.initData=function(){this.af()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.yd=e[0],n.af())},t.prototype.af=function(){var e=this;if(e.CSo&&!isNaN(e.yd)){for(var t=(e.yd,App.MG.rechargeTreasurData.getFunnyId()),n=(App.BG.stageBoxState,App.BG.stageBoxState["7_"+t]||0),i=-1,r=0;r<e._y.length;r++)if(0==(n&1<<r)){i=r;break}-1==i?(e.getedImg.visible=!0,e.getBtn.visible=!1,e.im=parseInt(e._y[e._y.length-1])):(e.getedImg.visible=!1,e.getBtn.visible=!0,e.im=parseInt(e._y[i])),e.getBtn.icon=e.yd>=e.im?StaticData.GHj:"";var a=XCA.RE("47_"+e.im),o=Nkz.PI(a);e.rewardData.replaceAll(o),e.yd>=e.im?e.descLab.textFlow=LgRe.OQ(fvg.GVf("funny26",e.im,Color.TX,e.yd,e.im)):e.descLab.textFlow=LgRe.OQ(fvg.GVf("funny26",e.im,Color.KA,e.yd,e.im))}},t.prototype.__closeClickHandler=function(e){GObj.$d(this)},t.prototype.__getClickHandler=function(e){var t=this;if(t.yd<t.im)return void App.TT.show(fvg.GVf("funny29"));var n=t._y.indexOf(toChars(t.im))+1;ziI.WU(7,n)},t.prototype.xz=function(e){e&&e.indexOf(7)>=0&&this.af()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.getedImg),t.getedImg=null,t._y=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RechargeTreasureBoxPopUi.prototype,"RechargeTreasureBoxPopUi");var RechargeTreasureCrossRecordView=function(e){function t(){var t=e.call(this,"RechargeTreasureCrossRecordView")||this;t.nd=3e5;var n=RRUU.$s("RechargeTreasureCrossRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._r=!1,e.touchEnabled=e.touchChildren=!1,e.sz=[],e.qe=GObj.$c(GeneralRecordView,280),e.gd=GObj.$c(GeneralRecordView,280),e.sz.push(e.qe),e.sz.push(e.gd)},t.prototype.initData=function(){var e=this,t=App.MG.rechargeTreasurData.crossTime;!t||GApp.timer-t>e.nd?ziI.MF("DialServerMsg2"):e.nm()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.SQ,e.kr,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.SQ,e.kr,e),vkG.$r(HUtJ.HEARTBEAT,e.qg,e),App.HA.unRegisteEnterFrame2(e.xy,e)},t.prototype.kr=function(e){3==e&&this.nm()},t.prototype.nm=function(){var e=this;e._r||(e._r=!0,vkG.$a(HUtJ.HEARTBEAT,e.qg,e),e.qe.setRecordData(App.MG.rechargeTreasurData.crossRecords),e.gd.setRecordData(App.MG.rechargeTreasurData.crossRecords),e.qe.y=0,e.gd.y=e.qe.totalHeight,e.recordGroup.addChild(e.qe),e.recordGroup.addChild(e.gd),App.HA.registeEnterFrame2(e.xy,e))},t.prototype.xy=function(){var e=this;if(!e.destory)for(var t=e.sz.length-1;t>=0;t--)e.rh=e.sz[t],e.rh.y--,e.rh.y<=-e.rh.totalHeight-5&&(e.rh=e.sz.splice(t,1)[0],e.rh.y=e.sz[0].y+e.sz[0].totalHeight,e.rh.setRecordData(App.MG.rechargeTreasurData.crossRecords),e.sz.push(e.rh))},t.prototype.qg=function(){var e=App.MG.rechargeTreasurData.crossTime;(!e||GApp.timer-e>this.nd)&&(App.MG.rechargeTreasurData.crossTime=GApp.timer,ziI.MF("DialServerMsg2"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.qe),t.qe=null,GObj.$d(t.gd),t.gd=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.sz=null,t.rh=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RechargeTreasureCrossRecordView.prototype,"RechargeTreasureCrossRecordView");var RechargeTreasureRecordPopUi=function(e){function t(){var t=e.call(this,"RechargeTreasureRecordPopUi")||this,n=RRUU.$s("RechargeTreasureRecordPopUi");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=FunnyTreasureRecordItem,e.title=fvg.GVf("funny11")},t.prototype.initData=function(){ziI.MF("DialPeopleMsg2")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.SQ,e.mc,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.SQ,e.mc,e)},t.prototype.mc=function(e){2==e&&this.uu()},t.prototype.uu=function(){var e=this,t=App.MG.rechargeTreasurData.selfRecords;e.itemDatas.source=t,e.itemDatas.refresh()},t.prototype.fb=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RechargeTreasureRecordPopUi.prototype,"RechargeTreasureRecordPopUi");var RechargeTreasureView=function(e){function t(){var t=e.call(this,"RechargeTreasureView")||this;return t.ou=14,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.label=fvg.GVf("funny10",1),e.tenBtn.label=fvg.GVf("funny30"),e.recordBtn.label=fvg.GVf("funny11"),e.itemsList=[];for(var t=0;t<e.ou;t++)e.itemsList.push(this["item_"+t]);e.up=App.MG.rechargeTreasurData.onePrice,e.descTxt.text=fvg.GVf("funny24",e.up),e.qv=GObj.$c(TrundlePlugin),e.qv.maxIndex=e.ou,e.qv.dir=TrundlePlugin.VU,e.qv.addCallBackFunction(e.zv,e),e.kp=GObj.$c(TrundlePlugin),e.kp.maxIndex=e.ou,e.kp.dir=TrundlePlugin.DE,e.kp.addCallBackFunction(e.wg,e),e.hw=GObj.$c(RechargeTreasureCrossRecordView),e.hw.x=110,e.hw.y=122,e.addChild(e.hw)},t.prototype.initEvent=function(){var e=this;e.oneBtn.addEventListener(eui.tep,e.hv,e),e.tenBtn.addEventListener(eui.tep,e.jn,e),e.boxBtn.addEventListener(eui.tep,e.cz,e),e.recordBtn.addEventListener(eui.tep,e.ql,e),vkG.$a(UtJ.PT,e.xy,e),vkG.$a(UtJ.SQ,e.rr,e)},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e.hv,e),e.tenBtn.removeEventListener(eui.tep,e.jn,e),e.boxBtn.removeEventListener(eui.tep,e.cz,e),e.recordBtn.removeEventListener(eui.tep,e.ql,e),vkG.$r(UtJ.PT,e.xy,e),vkG.$r(UtJ.SQ,e.rr,e),vkG.$r(HUtJ.HEARTBEAT,e.lg,e)},t.prototype.initData=function(){var e=this,t=int(e.ou*Math.random());e.qv.start(t,1e3),e.jk()},t.prototype.dataUpdated=function(){var e=this;e.ok_h=e.viewData.data.ok_h},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.kl},set:function(e){var t=this;t.kl!=e&&(t.kl=e,t.jk())},enumerable:!0,configurable:!0}),t.prototype.jk=function(){var e=this;e.CSo&&e.kl&&(e.updateReward(),e.updateScoreReward(),e.updateLastTime())},t.prototype.updateReward=function(){var e=this;e.fk=[];for(var t,n=e.kl.bagList,i=0;i<n.length;i++)t=n[i],e.fk.push(e.pd(t.rewardList));for(var i=0;i<e.fk.length;i++)i<e.itemsList.length&&(e.itemsList[i].goodsData=e.fk[i])},t.prototype.pd=function(e){var t=GObj.$c(nlwj);return e&&e.length>0&&(t.tid=e[0].tempId,t.count=e[0].count),t},t.prototype.updateScoreReward=function(){var e=this,t=App.MG.rechargeTreasurData,n=t.charge||0;e.progressTxt.text=n+"/"+t.targetScore,e.progressBar.value=Math.min(100,int(n/t.targetScore*100));var i=t.score||0;e.boxBtn.icon=t.canReceiveStageBox?StaticData.GHj:null,e.oneBtn.icon=i>=t.onePrice?StaticData.GHj:null,e.tenBtn.icon=i>=10*t.onePrice?StaticData.GHj:null,e.lastCountTxt.text=fvg.GVf("funny28",int(i/t.onePrice))},t.prototype.updateLastTime=function(){var e=this;if(e.kl){var t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.lg,e):vkG.$r(HUtJ.HEARTBEAT,e.lg,e),e.lg()}},t.prototype.lg=function(){var e=this;if(!e.destory){var t=e.ok_h.showEnd-App.NN.serverSecond;if(t>0){var n=e.ok_h.endTime-App.NN.serverSecond;n>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(n)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}else vkG.$r(HUtJ.HEARTBEAT,e.lg,e)}},t.prototype.zv=function(e,t,n){var i=this;if(e>=0&&e<i.ou&&(i.itemsList[e].selected=!0),t>=0&&t<i.ou&&(i.itemsList[t].selected=!1),n){i.kp.runing&&(i.kp.stop(),i.itemsList[i.kp.FiZ].selected=!1);var r=App.MG.rechargeTreasurData.levels;App.MG.rechargeTreasurData.levels=[];for(var a=[],o=0;o<r.length;o++)i.itemsList[r[o]].playWinning(),a.push(i.itemsList[r[o]].goodsData);(r.indexOf(0)>=0||r.indexOf(7)>=0)&&App.KB.showEffect(gYq.ZA,100,-40,-210),i.em(a),egret.Tween.get(i).wait(1e3).call(i.jwc,this,[a])}},t.prototype.wg=function(e,t,n){var i=this;i.kp.runing&&(e>=0&&e<i.ou&&(i.itemsList[e].selected=!0),t>=0&&t<i.ou&&(i.itemsList[t].selected=!1))},t.prototype.jwc=function(e){var t=this;egret.Tween.removeTweens(t),App.VS.popup(KqZ.CM,TreasureResultPopUi,null,e),t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!0,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!0,SpecialTipsBar.instance.pauseCheck=!1,t.qv.start(t.qv.FiZ,1e3)},t.prototype.cz=function(e){App.VS.popup(KqZ.CM,RechargeTreasureBoxPopUi,null,App.MG.rechargeTreasurData.charge||0)},t.prototype.hv=function(e){var t=this;return t.ok_h.isExpired?void App.TT.show(fvg.GVf("s4")):App.MG.rechargeTreasurData.score<t.up?void App.TT.show(fvg.GVf("funny25")):App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void FunnyMsgProxy.LR(t.kl.bagList[0].id,1))},t.prototype.jn=function(e){var t=this,n=App.MG.rechargeTreasurData;App.VS.popup(KqZ.CM,RechargeMuiltPopUi,null,int(n.score/n.onePrice),t.rt,t)},t.prototype.rt=function(e){var t=this;return 0>=e?void App.TT.show(fvg.GVf("funny32")):t.ok_h.isExpired?void App.TT.show(fvg.GVf("s4")):App.MG.rechargeTreasurData.score<t.up*e?void App.TT.show(fvg.GVf("funny25")):App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void FunnyMsgProxy.LR(t.kl.bagList[0].id,e))},t.prototype.ql=function(e){this.oneBtn.touchEnabled&&App.VS.popup(KqZ.CM,RechargeTreasureRecordPopUi)},t.prototype.xy=function(e){e&&e.indexOf(7)>=0&&this.updateScoreReward()},t.prototype.rr=function(e){var t=this,n=App.MG.rechargeTreasurData;if(1==e){var i=n.levels||[];if(i.length>0&&t.qv&&!t.qv.runing){var r=i[0];t.qv.run(r,3,50),i.length>1&&(t.kp.start(t.qv.FiZ,1e3),t.kp.run(r,5,50))}t.updateScoreReward()}},t.prototype.em=function(e){var t=e.length;if(!(0>=t)){for(var n,i,r=hCs.stage.stageWidth/2-106,a=hCs.stage.stageHeight/2+100,o={},s=0;t>s;s++)o[e[s].tid]||(o[e[s].tid]=0),o[e[s].tid]+=e[s].count;s=0;for(var p in o)i=XCA.FR(parseInt(p)),n=GObj.$c(NewGoodsUIEffect),n.start(i.name,i.qua,o[p],r,a-36*s),s++}},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),egret.Tween.removeTweens(t),SpecialTipsBar.instance.pauseCheck=!1,t.itemsList)for(;t.itemsList.length>0;)GObj.$d(t.itemsList.pop());t.itemsList=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t.qv),t.qv=null,GObj.$d(t.kp),t.kp=null,GObj.$d(t.itemsGroup),t.itemsGroup=null,GObj.$d(t.hw),t.hw=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RechargeTreasureView.prototype,"RechargeTreasureView");var FunnyTreasureBoxPopUi=function(e){function t(){var t=e.call(this,"FunnyTreasureBoxPopUi")||this,n=RRUU.$s("FunnyTreasureBoxPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf(104);var t=XCA.CG(IDU.SO);e.sz=t.split(","),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.__getClickHandler,e),vkG.$a(UtJ.PT,e.xw,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.__getClickHandler,e),vkG.$r(UtJ.PT,e.xw,e)},t.prototype.initData=function(){this.ni()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.km=e[0],n.ni())},t.prototype.ni=function(){var e=this;if(e.CSo&&!isNaN(e.km)){for(var t=(e.km,App.MG.treasureData.getFunnyId()),n=App.BG.stageBoxState["6_"+t]||0,i=-1,r=0;r<e.sz.length;r++)if(0==(n&1<<r)){i=r;break}-1==i?(e.getedImg.visible=!0,e.getBtn.visible=!1,e.zb=parseInt(e.sz[e.sz.length-1])):(e.getedImg.visible=!1,e.getBtn.visible=!0,e.zb=parseInt(e.sz[i])),e.getBtn.icon=e.km>=e.zb?StaticData.GHj:"";var a=XCA.RE("46_"+e.zb),o=Nkz.PI(a);e.rewardData.replaceAll(o),e.km>=e.zb?e.descLab.textFlow=LgRe.OQ(fvg.GVf("funny19",e.zb,Color.TX,e.km,e.zb)):e.descLab.textFlow=LgRe.OQ(fvg.GVf("funny19",e.zb,Color.KA,e.km,e.zb))}},t.prototype.__getClickHandler=function(e){var t=this;if(t.km<t.zb)return void App.TT.show(fvg.GVf("406"));var n=t.sz.indexOf(toChars(t.zb))+1;ziI.WU(6,n)},t.prototype.xw=function(e){e&&e.indexOf(6)>=0&&this.ni()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.getedImg),t.getedImg=null,t.sz=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FunnyTreasureBoxPopUi.prototype,"FunnyTreasureBoxPopUi");var FunnyTreasureItem=function(e){function t(){var t=e.call(this,"FunnyTreasureItem")||this;return t.skinName=RRUU.$s("FunnyTreasureItem"),t}return __extends(t,e),t.prototype.initData=function(){var e=this;e.mk=!1,e.goodsData=e.cd},Object.defineProperty(t.prototype,"goodsData",{get:function(){return this.cd},set:function(e){var t=this;t.cd=e,t.CSo&&(t.goodsItem.data=t.cd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.fa},set:function(e){var t=this;e!=t.fa&&(t.fa=e,t.CSo&&(egret.Tween.removeTweens(t.selectedImg),t.fa?t.selectedImg.alpha=1:egret.Tween.get(t.selectedImg).to({alpha:0},300)))},enumerable:!0,configurable:!0}),t.prototype.playWinning=function(){var e=this;e.mk||(e.xo||(e.xo=App.KB.getUIEffect(gYq.TE),e.xo.addEventListener(egret.Event.COMPLETE,e.uj,e),e.xo.x=-30,e.xo.y=-40),e.mk=!0,e.xo.play(1),e.addChild(e.xo))},t.prototype.uj=function(){var e=this;e.mk=!1,e.xo&&e.xo.parent&&e.xo.parent.removeChild(e.xo)},t.prototype.dispose=function(){var t=this;GObj.$d(t.selectedImg),t.selectedImg=null,GObj.$d(t.goodsItem),t.goodsItem=null,t.cd=null,t.xo&&(t.xo.stop(),t.xo.removeEventListener(egret.Event.COMPLETE,t.uj,t),GObj.$d(t.xo)),t.xo=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FunnyTreasureItem.prototype,"FunnyTreasureItem");var FunnyTreasureRankPopUi=function(e){function t(){var t=e.call(this,"FunnyTreasureRankPopUi")||this;return t.kh=3e5,t.skinName=RRUU.$s("FunnyTreasureRankPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.personalBtn.label=fvg.GVf("funny13"),e.areaBtn.label=fvg.GVf("funny14"),e.rankLab.text=fvg.GVf("task10"),e.integralLab.text=fvg.GVf("461"),e.rewardLab.text=fvg.GVf("107"),e.eb=GObj.$c(kQr),e.eb.cwA(e.personalBtn),e.eb.cwA(e.areaBtn),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=TreasureRankItem,e.title=fvg.GVf("463")},t.prototype.initData=function(){this.eb.selectedIndex=0},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ud=e[0],n.jf(null))},t.prototype.initEvent=function(){var e=this;e.eb.addEventListener(egret.Event.CHANGE,e.jf,e),vkG.$a(UtJ.ZGT,e.sj,e)},t.prototype.removeEvent=function(){var e=this;e.eb.removeEventListener(egret.Event.CHANGE,e.jf,e),vkG.$r(UtJ.ZGT,e.sj,e)},t.prototype.jf=function(e){var t=this;if(t.CSo&&usable(t.ud)){e&&t.itemScroller&&t.itemScroller.stopAnimation();var n=t.eb.LuO;switch(n){case t.personalBtn:t.ue(FDG.XU);break;case t.areaBtn:t.ue(FDG.QQ)}}},t.prototype.ue=function(e){var t=this;t.bv=e;var n=App.PV.getGeneralRankByType(t.bv,t.ud);(!n||GApp.timer-(n.rtime||0)>=t.kh)&&RankMsgProxy.EI(t.bv),n&&t.nm(!0)},t.prototype.nm=function(e){var t=this,n=App.PV.getGeneralRankByType(t.bv,t.ud);if(n){var i=n.myrank>50?0:n.myrank;t.bv==FDG.XU?(t.rankTxt.text=fvg.GVf("rank0",i||fvg.GVf("public042")),t.descLab.text=fvg.GVf("funny16",100),t.scoreTxt.text=fvg.GVf("funny17",n.myscore||0)):(t.rankTxt.text=fvg.GVf("funny18",i||fvg.GVf("public042")),t.descLab.text=fvg.GVf("funny15",200),t.scoreTxt.text=fvg.GVf("funny22",n.myscore||0));for(var r=[],a=n.rank||[],o=0;o<a.length;o++)r[o]=a[o];t.datas.replaceAll(r),e&&t.datas.refresh()}},t.prototype.sj=function(e){var t=this;e==t.bv&&t.nm(!1)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.personalBtn),t.personalBtn=null,GObj.$d(t.areaBtn),t.areaBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.integralLab),t.integralLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FunnyTreasureRankPopUi.prototype,"FunnyTreasureRankPopUi");var FunnyTreasureRecordItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("FunnyTreasureRecordItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yh,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.msgTxt.textFlow=LgRe.OQ(App.FQ.getFormatBulletinString(t)),e.height=16*e.msgTxt.numLines}},t.prototype.yh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FunnyTreasureRecordItem.prototype,"FunnyTreasureRecordItem");var FunnyTreasureRecordPopUi=function(e){function t(){var t=e.call(this,"FunnyTreasureRecordPopUi")||this,n=RRUU.$s("FunnyTreasureRecordPopUiSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=FunnyTreasureRecordItem,e.title=fvg.GVf("funny11")},t.prototype.initData=function(){ziI.MF("DialPeopleMsg")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.IU,e.yd,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.IU,e.yd,e)},t.prototype.yd=function(e){2==e&&this.bk()},t.prototype.bk=function(){var e=this,t=App.MG.treasureData.selfRecords;e.itemDatas.source=t,e.itemDatas.refresh()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FunnyTreasureRecordPopUi.prototype,"FunnyTreasureRecordPopUi");var FunnyTreasureView=function(e){function t(){var t=e.call(this,"FunnyTreasureView")||this;return t.xg=14,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.label=fvg.GVf("funny10",1),e.tenBtn.label=fvg.GVf("funny10",10),e.recordBtn.label=fvg.GVf("funny11"),e.wo=GObj.$c(nlwj),e.itemsList=[];for(var t=0;t<e.xg;t++)e.itemsList.push(this["item_"+t]);e.ls=App.MG.treasureData.onePrice,e.ns=GObj.$c(TrundlePlugin),e.ns.maxIndex=e.xg,e.ns.dir=TrundlePlugin.VU,e.ns.addCallBackFunction(e.bz,e),e.mo=GObj.$c(TrundlePlugin),e.mo.maxIndex=e.xg,e.mo.dir=TrundlePlugin.DE,e.mo.addCallBackFunction(e.ig,e),e.gg=GObj.$c(TreasureCrossRecordView),e.gg.x=95,e.gg.y=125,e.smaicon1.goodsTid=StaticData.TID_GOODS_36,e.smaicon2.goodsTid=StaticData.TID_GOODS_36,e.addChild(e.gg)},t.prototype.initEvent=function(){var e=this;e.oneBtn.addEventListener(eui.tep,e.dy,e),e.tenBtn.addEventListener(eui.tep,e.qz,e),e.boxBtn.addEventListener(eui.tep,e.k_,e),e.rankBtn.addEventListener(eui.tep,e.ih,e),e.recordBtn.addEventListener(eui.tep,e.rs,e),e.buyItemBtn.addEventListener(eui.tep,e.fk,e),vkG.$a(UtJ.PT,e.pv,e),vkG.$a(UtJ.IU,e.cx,e),vkG.$a(UtJ.DV,e.td,e)},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e.dy,e),e.tenBtn.removeEventListener(eui.tep,e.qz,e),e.boxBtn.removeEventListener(eui.tep,e.k_,e),e.rankBtn.removeEventListener(eui.tep,e.ih,e),e.recordBtn.removeEventListener(eui.tep,e.rs,e),e.buyItemBtn.removeEventListener(eui.tep,e.fk,e),vkG.$r(UtJ.PT,e.pv,e),vkG.$r(UtJ.IU,e.cx,e),vkG.$r(UtJ.DV,e.td,e),vkG.$r(HUtJ.HEARTBEAT,e.cv,e)},t.prototype.initData=function(){var e=this,t=int(e.xg*Math.random());e.ns.start(t,1e3),e.pc()},t.prototype.dataUpdated=function(){var e=this;e.ok_h=e.viewData.data.ok_h},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.te},set:function(e){var t=this;t.te!=e&&(t.te=e,t.pc())},enumerable:!0,configurable:!0}),t.prototype.fk=function(){var e=App.IQ.getShopGoodsByTypeAndId(9,StaticData.TID_GOODS_36);if(e){var t=GObj.$c(BuyPopUi);t.showDetail(e)}},t.prototype.pc=function(){var e=this;e.CSo&&e.te&&(e.needTxt_2.text=toChars(9*e.ls),e.wo.tid=e.te.p2||0,e.wo.count=e.te.p3||0,e.wo.TSF&&(e.descTxt.text=fvg.GVf("funny21",e.wo.count,e.wo.TSF.name)),e.updateReward(),e.updateScoreReward(),e.td(null),e.updateLastTime())},t.prototype.updateReward=function(){var e=this;e.al=[];for(var t,n=e.te.bagList,i=0;i<n.length;i++)t=n[i],e.al.push(e.zd(t.rewardList));for(var i=0;i<e.al.length;i++)i<e.itemsList.length&&(e.itemsList[i].goodsData=e.al[i])},t.prototype.zd=function(e){var t=GObj.$c(nlwj);return e&&e.length>0&&(t.tid=e[0].tempId,t.count=e[0].count),t},t.prototype.updateScoreReward=function(){var e=this,t=App.MG.treasureData.score||0,n=App.MG.treasureData.targetScore;e.progressTxt.text=t+"/"+n,e.progressBar.value=Math.min(100,int(t/n*100)),e.boxBtn.icon=App.MG.treasureData.canReceiveStageBox?StaticData.GHj:null},t.prototype.updateLastTime=function(){var e=this;if(e.te){var t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.cv,e):vkG.$r(HUtJ.HEARTBEAT,e.cv,e),e.cv()}},t.prototype.cv=function(){var e=this;if(!e.destory){var t=e.ok_h.showEnd-App.NN.serverSecond;if(t>0){var n=e.ok_h.endTime-App.NN.serverSecond;n>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(n)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}else vkG.$r(HUtJ.HEARTBEAT,e.cv,e)}},t.prototype.bz=function(e,t,n){var i=this;if(e>=0&&e<i.xg&&(i.itemsList[e].selected=!0),t>=0&&t<i.xg&&(i.itemsList[t].selected=!1),n){i.mo.runing&&(i.mo.stop(),i.itemsList[i.mo.FiZ].selected=!1);var r=App.MG.treasureData.levels;App.MG.treasureData.levels=[];for(var a=[],o=0;o<r.length;o++)i.itemsList[r[o]].playWinning(),a.push(i.itemsList[r[o]].goodsData);(r.indexOf(0)>=0||r.indexOf(7)>=0)&&App.KB.showEffect(gYq.ZA,100,-40,-210),i.gq(a),egret.Tween.get(i).wait(1e3).call(i.un,this,[a])}},t.prototype.ig=function(e,t,n){var i=this;i.mo.runing&&(e>=0&&e<i.xg&&(i.itemsList[e].selected=!0),t>=0&&t<i.xg&&(i.itemsList[t].selected=!1))},t.prototype.un=function(e){var t=this;egret.Tween.removeTweens(t),App.VS.popup(KqZ.CM,TreasureResultPopUi,null,e),t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!0,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!0,SpecialTipsBar.instance.pauseCheck=!1,t.ns.start(t.ns.FiZ,1e3)},t.prototype.ih=function(e){App.VS.popup(KqZ.CM,FunnyTreasureRankPopUi,null,this.te.id)},t.prototype.k_=function(e){App.VS.popup(KqZ.CM,FunnyTreasureBoxPopUi,null,App.MG.treasureData.score||0)},t.prototype.dy=function(e){var t=this;if(t.ok_h.isExpired)return void App.TT.show(fvg.GVf("s4"));var n=App.FK.hsx(StaticData.TID_GOODS_36);return n?void t.ir(1):App.KF.point<t.ls?void App.TT.show(fvg.GVf("public017")):void Alert.WK(fvg.GVf("shop03",t.ls,1),null,null,t.ir,this,[1])},t.prototype.ir=function(e){var t=this;return App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void FunnyMsgProxy.LR(t.te.bagList[0].id,e))},t.prototype.qz=function(e){var t=this;if(t.ok_h.isExpired)return void App.TT.show(fvg.GVf("s4"));var n=App.FK.hsx(StaticData.TID_GOODS_36);if(9>n){var i=9-n;return App.KF.point<t.ls*i?void App.TT.show(fvg.GVf("public017")):void Alert.WK(fvg.GVf("shop03",i*t.ls,i),null,null,t.re,t)}t.re()},t.prototype.re=function(){var e=this;App.MG.magicData.prompt?e.ww():Alert.WK(fvg.GVf("funny39"),void 0,void 0,e.ww,e)},t.prototype.ww=function(){var e=this;return App.MG.treasureData.prompt=!0,App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(e.oneBtn.touchEnabled=e.oneBtn.touchChildren=!1,e.tenBtn.touchEnabled=e.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void FunnyMsgProxy.LR(e.te.bagList[0].id,10))},t.prototype.rs=function(e){this.oneBtn.touchEnabled&&App.VS.popup(KqZ.CM,FunnyTreasureRecordPopUi)},t.prototype.pv=function(e){e&&e.indexOf(6)>=0&&this.updateScoreReward()},t.prototype.cx=function(e){var t=this,n=App.MG.treasureData;if(1==e){var i=n.levels||[];if(i.length>0&&t.ns&&!t.ns.runing){var r=i[0];t.ns.run(r,3,50),i.length>1&&(t.mo.start(t.ns.FiZ,1e3),t.mo.run(r,5,50))}t.updateScoreReward()}},t.prototype.td=function(e){var t=this,n=App.FK.hsx(StaticData.TID_GOODS_36);t.needTxt_1.text=n+"/"+StaticData.FUNNYTREASURE_1,t.needTxt_2.text=n+"/"+StaticData.FUNNYTREASURE_10,1>n?(t.needTxt_1.textColor=Color.KA,t.needTxt_2.textColor=Color.KA):9>n?(t.needTxt_1.textColor=Color.TX,t.needTxt_2.textColor=Color.KA):(t.needTxt_1.textColor=Color.TX,t.needTxt_2.textColor=Color.TX),t.oneBtn.icon=n>=StaticData.FUNNYTREASURE_1?StaticData.GHj:null,t.tenBtn.icon=n>=StaticData.FUNNYTREASURE_10?StaticData.GHj:null},t.prototype.gq=function(e){var t=e.length;if(!(0>=t))for(var n,i,r=hCs.stage.stageWidth/2-106,a=hCs.stage.stageHeight/2+100,o=0;t>o;o++)i=e[o].TSF,n=GObj.$c(NewGoodsUIEffect),n.start(i.name,i.qua,e[o].count,r,a-36*o)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),egret.Tween.removeTweens(t),SpecialTipsBar.instance.pauseCheck=!1,t.itemsList)for(;t.itemsList.length>0;)GObj.$d(t.itemsList.pop());t.itemsList=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t.ns),t.ns=null,GObj.$d(t.mo),t.mo=null,GObj.$d(t.itemsGroup),t.itemsGroup=null,GObj.$d(t.gg),t.gg=null,GObj.$d(t.buyItemBtn),t.buyItemBtn=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,t.wo=null,t.al=null,t.te=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FunnyTreasureView.prototype,"FunnyTreasureView");var TreasureCrossRecordView=function(e){function t(){var t=e.call(this,"TreasureCrossRecordView")||this;t.pc=3e5;var n=RRUU.$s("TreasureCrossRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.hf=!1,e.touchEnabled=e.touchChildren=!1,e.yt=[],e.gq=GObj.$c(GeneralRecordView,280),e.ew=GObj.$c(GeneralRecordView,280),e.yt.push(e.gq),e.yt.push(e.ew)},t.prototype.initData=function(){var e=this,t=App.MG.treasureData.crossTime;!t||GApp.timer-t>e.pc?ziI.MF("DialServerMsg"):e.px()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.IU,e.eq,e)
},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.IU,e.eq,e),vkG.$r(UtJ.HD,e.wx,e),App.HA.unRegisteEnterFrame2(e.ru,e)},t.prototype.eq=function(e){3==e&&this.px()},t.prototype.px=function(){var e=this;e.hf||(e.hf=!0,vkG.$a(UtJ.HD,e.wx,e),e.gq.setRecordData(App.MG.treasureData.crossRecords),e.ew.setRecordData(App.MG.treasureData.crossRecords),e.gq.y=0,e.ew.y=e.gq.totalHeight,e.recordGroup.addChild(e.gq),e.recordGroup.addChild(e.ew),App.HA.registeEnterFrame2(e.ru,e))},t.prototype.ru=function(){var e=this;if(!e.destory)for(var t=e.yt.length-1;t>=0;t--)e.zn=e.yt[t],e.zn.y--,e.zn.y<=-e.zn.totalHeight-5&&(e.zn=e.yt.splice(t,1)[0],e.zn.y=e.yt[0].y+e.yt[0].totalHeight,e.zn.setRecordData(App.MG.treasureData.crossRecords),e.yt.push(e.zn))},t.prototype.wx=function(){var e=App.MG.treasureData.crossTime;(!e||GApp.timer-e>this.pc)&&(App.MG.treasureData.crossTime=GApp.timer,ziI.MF("DialServerMsg"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gq),t.gq=null,GObj.$d(t.ew),t.ew=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.yt=null,t.zn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TreasureCrossRecordView.prototype,"TreasureCrossRecordView");var TreasureRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TreasureRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.km,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.km,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.mu=e.data,e.rankTxt.text=toChars(e.mu.rank),e.nameTxt.text=e.mu.name||fvg.GVf("rank10"),e.scoreTxt.text=toChars(e.mu.score||0),e.datas.source.splice(0,e.datas.source.length);for(var t,n=e.mu.award||[],i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tid,t.count=n[i].count,e.datas.source.push(t);e.datas.refresh()}},t.prototype.km=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasureRankItem.prototype,"TreasureRankItem");var TreasureResultPopUi=function(e){function t(){var t=e.call(this,"TreasureResultPopUi")||this,n=RRUU.$s("TreasureResultPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("107"),e.rewardData||(e.rewardData=GObj.$c(eui.ArrayCollection)),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.descTxt.text=fvg.GVf("funny23"),e.confirmBtn.label=fvg.GVf("7")},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.zo,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.zo,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e&&e.length>0){n.rewardData||(n.rewardData=GObj.$c(eui.ArrayCollection)),n.rewardData.source=e[0];Math.min(5,n.rewardData.length)}},t.prototype.zo=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasureResultPopUi.prototype,"TreasureResultPopUi");var GangTreasureFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getVipBtn.label=e.getBtn.label=fvg.GVf("104");var t=XCA.CG(IDU.BC).split(QycO.XP);e.nz=parseInt(t[0]||"0"),e.jb=parseInt(t[2]||"0"),e.zee=GObj.$c(FigureView),e.zee.x=400,e.zee.y=280,e.addChild(e.zee),e.oz()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getBtn.addEventListener(eui.tep,t.po,t),t.getVipBtn.addEventListener(eui.tep,t.tx,t),vkG.$a(UtJ.FI,t.nf,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.getBtn.removeEventListener(eui.tep,t.po,t),t.getVipBtn.removeEventListener(eui.tep,t.tx,t),vkG.$r(UtJ.FI,t.nf,t),vkG.$r(HUtJ.HEARTBEAT,t.ty,t)},t.prototype.initData=function(){e.prototype.initData.call(this),ziI.MF("gang_treasure")},t.prototype.ts=function(){var e=this;if(e.CSo){var t=App.HD.gangTreasureInfo;e.h_=t.stime,e.lq=t.utime,e.sc=t.otime;var n=t.award;e.getedImg.visible=(1&n)>0,e.getBtn.visible=!e.getedImg.visible,e.getBtn.icon=e.getBtn.visible&&e.nz<=e.sc+int((GApp.timer-e.lq)/1e3)?StaticData.GHj:null,e.getedVipImg.visible=(2&n)>0,e.getVipBtn.visible=!e.getedVipImg.visible,e.getVipBtn.icon=e.getVipBtn.visible&&App.XT.vipGrade>=e.jb?StaticData.GHj:null,e.cc=!1,e.h_>0&&vkG.$a(HUtJ.HEARTBEAT,e.ty,e),e.ty()}},t.prototype.ty=function(){var e=this,t=e.h_-int((GApp.timer-e.lq)/1e3);t>0?(e.timeTxt.text=fvg.GVf("gangt1",kpd.YW(t)),e.timeTxt.textColor=Color.SQ):(e.cc=!0,e.timeTxt.text=fvg.GVf("public035"),e.timeTxt.textColor=Color.KA,vkG.$r(HUtJ.HEARTBEAT,e.ty,e))},t.prototype.oz=function(){FigureHelps.NW(this.zee,{w:"huanren10"},!1)},t.prototype.nf=function(){this.ts()},t.prototype.po=function(e){var t=this;return t.sc+int((GApp.timer-t.lq)/1e3)<t.nz?void App.TT.show(fvg.GVf("gangt2")):void ziI.DY(1)},t.prototype.tx=function(e){var t=this;return t.cc?void App.TT.show(fvg.GVf("public035")):App.XT.vipGrade<t.jb?void App.TT.show(fvg.GVf("sb5",t.jb)):void ziI.DY(2)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.getVipBtn),t.getVipBtn=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.getedVipImg),t.getedVipImg=null,GObj.$d(t.zee),t.zee=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(GangTreasureFrame.prototype,"GangTreasureFrame");var GoalAwardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("GoalAwardItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsData=GObj.$c(eui.ArrayCollection),e.goBtn.label=fvg.GVf("goal1"),e.receiveBtn.label=fvg.GVf("104"),e.receiveBtn.icon=StaticData.GHj,e.itemGroup.dataProvider=e.goodsData,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.ru,e),e.receiveBtn.addEventListener(eui.tep,e.xk,e),e.goBtn.addEventListener(eui.tep,e.un,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.ru,e),e.receiveBtn.removeEventListener(eui.tep,e.xk,e),e.goBtn.removeEventListener(eui.tep,e.un,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.qc=e.data,e.titleTxt.text=e.qc.taskTemplate.title;var t=Nkz.YL(e.qc.pro,0),n=Nkz.YL(e.qc.taskTemplate.maxValue,0);e.progTxt.text=fvg.GVf("112",t,n),e.progTxt.textColor=e.qc.pro>=e.qc.taskTemplate.maxValue?Color.TX:Color.KA,e.progTxt.x=e.titleTxt.x+e.titleTxt.width+3,e.goodsData.source.splice(0,e.goodsData.source.length);for(var i=XCA.RE(e.qc.taskTemplate.p3),r=Nkz.PI(i),a=0;a<r.length;a++)e.goodsData.source[a]=r[a];e.goodsData.refresh(),e.receiveBtn.visible=!e.qc.isComp&&e.qc.pro>=e.qc.taskTemplate.maxValue,e.goBtn.visible=!e.qc.isComp&&e.qc.pro<e.qc.taskTemplate.maxValue,e.getImg.visible=!!e.qc.isComp}},t.prototype.xk=function(e){var t=this;if(t.qc){if(App.BG.isBagFull())return;TaskMsgProxy.EJ(t.qc.tid)}},t.prototype.un=function(e){var t=this;t.qc&&TaskHelp.VO(t.qc.taskTemplate.type,t.qc.taskTemplate.tar||1,t.qc.taskTemplate.taskType,t.qc.taskTemplate.vid)},t.prototype.ru=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.getImg),t.getImg=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.goodsData=null,t.qc=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GoalAwardItem.prototype,"GoalAwardItem");var GoalBoxPopUi=function(e){function t(){var t=e.call(this,"GoalBoxPopUi")||this,n=RRUU.$s("GoalBoxPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsData=GObj.$c(eui.ArrayCollection),e.goodsGroup.dataProvider=e.goodsData,e.goodsGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("107")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.fe()},t.prototype.fe=function(){var e=this;if(e.CSo&&e.ei){for(var t=XCA.RE(e.ei),n=Nkz.PI(t),i=0;i<n.length;i++)e.goodsData.source.push(n[i]);e.goodsData.refresh(),e.descLab.text=fvg.GVf("goal17")}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ei=e[0],n.initData())},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,t.goodsGroup&&(t.goodsGroup.dataProvider=null,GObj.$d(t.goodsGroup)),t.goodsGroup=null,t.goodsData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GoalBoxPopUi.prototype,"GoalBoxPopUi");var GoalCompetitionItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("GoalCompetitionItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.moreLab.text=fvg.GVf("goal6"),e.lookBtn.label=fvg.GVf("goal7"),e.goodsData_1=GObj.$c(eui.ArrayCollection),e.goodsGroup_1.dataProvider=e.goodsData_1,e.goodsGroup_1.itemRenderer=GoodsItemRenderer,e.goodsData_2=GObj.$c(eui.ArrayCollection),e.goodsGroup_2.dataProvider=e.goodsData_2,e.goodsGroup_2.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.np,e),e.lookBtn.addEventListener(eui.tep,e.yk,e),e.awardItem1.addEventListener(eui.tep,e.bn,e),e.awardItem2.addEventListener(eui.tep,e.bn,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.np,e),e.lookBtn.removeEventListener(eui.tep,e.yk,e),e.awardItem1.removeEventListener(eui.tep,e.bn,e),e.awardItem2.removeEventListener(eui.tep,e.bn,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.tq=e.data,e.tq.data&&(e.ct=e.tq.data[e.itemIndex]);var t=e.itemIndex+1;4>t?(e.rankGroup.visible=!0,e.moreRankGroup.visible=!1,e.rankImg.source="core_json.core_rank_"+t+"_png",e.ct?(e.nameTxt.text=e.ct.nick,e.scoreTxt.text=fvg.GVf("goaltype"+e.tq.type,e.ct.fap)):e.nameTxt.text=fvg.GVf("rank10")):(e.rankGroup.visible=!1,e.moreRankGroup.visible=!0),e.goodsData_1.source.length=0,e.goodsData_2.source.length=0;for(var n=1,i=2,r=100+e.tq.type+"_"+n+"_"+(e.itemIndex+1)+"_"+App.AT.crs,a=100+e.tq.type+"_"+i+"_"+(e.itemIndex+1)+"_"+App.AT.crs,o=XCA.RE(r),s=XCA.RE(a),p=Nkz.PI(o),l=Nkz.PI(s),c=0;c<p.length;c++)e.goodsData_1.source.push(p[c]);e.goodsData_1.refresh();for(var c=0;c<l.length;c++)e.goodsData_2.source.push(l[c]);e.goodsData_2.refresh(),e.awardItem1.icon="goal_json.goal_box_1_"+t+"_png",e.awardItem2.icon="goal_json.goal_box_2_"+t+"_png"}},t.prototype.np=function(e){GObj.$d(this)},t.prototype.yk=function(e){App.VS.popup(10091,GoalRankPopUi,null,this.tq)},t.prototype.bn=function(e){var t=this,n=e.currentTarget==t.awardItem1?1:2,i=100+t.tq.type+"_"+n+"_"+(t.itemIndex+1)+"_"+App.AT.crs;App.VS.popup(10091,GoalBoxPopUi,null,i)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankGroup),t.rankGroup=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.awardItem1),t.awardItem1=null,GObj.$d(t.awardItem2),t.awardItem2=null,GObj.$d(t.moreRankGroup),t.moreRankGroup=null,GObj.$d(t.moreLab),t.moreLab=null,GObj.$d(t.lookBtn),t.lookBtn=null,GObj.$d(t.bgImg),t.bgImg=null,t.tq=null,t.ct=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GoalCompetitionItem.prototype,"GoalCompetitionItem");var GoalCompetitionPopUi=function(e){function t(){var t=e.call(this,"GoalCompetitionPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descLab_2.text=fvg.GVf("goal5"),e.upgradeBtn.label=fvg.GVf("goal1"),e.rankAwardBtn.label=fvg.GVf("goal2"),e.goalAwardBtn.label=fvg.GVf("goal3"),e.rankLab.text=fvg.GVf("goal14"),e.rewardLab.text=fvg.GVf("goal15"),e.topRewardTxt.text=fvg.GVf("goal18"),e.ee=GObj.$c(kQr),e.ee.cwA(e.rankAwardBtn),e.ee.cwA(e.goalAwardBtn),e.rankData=GObj.$c(eui.ArrayCollection),e.goalData=GObj.$c(eui.ArrayCollection)},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.gs,e),e.ee.addEventListener(egret.Event.CHANGE,e.og,e),vkG.$a(UtJ.TIF,e.ux,e),vkG.$a(UtJ.MV,e.pg,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.gs,e),e.ee.removeEventListener(egret.Event.CHANGE,e.og,e),vkG.$r(UtJ.TIF,e.ux,e),vkG.$r(UtJ.MV,e.pg,e)},t.prototype.initData=function(){var e=this;e.CSo&&e.rw&&(e.hb=e.rw.dno,e.myRankLab.text=fvg.GVf("rank0",e.rw.rank||fvg.GVf("public042")),e.gradeLab.text=fvg.GVf("goal0"+e.hb,e.rw.arg||0),GoalMsgProxy.LN(2,e.hb),e.ee.selectedIndex=0,e.goalAwardBtn.icon=UsU.XZ(e.rw.type)?StaticData.GHj:null)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.rw=e[0],n.initData())},t.prototype.og=function(e){var t=this,n=t.ee.LuO;switch(n){case t.rankAwardBtn:t.title=fvg.GVf("goal2"),t.titleGroup.visible=!0,t.upgradeBtn.visible=!0,t.descLab_2.visible=!0,t.rankScroller.y=211,t.rankScroller.height=390,t.rankGroup.dataProvider=t.rankData,t.rankGroup.itemRenderer=GoalCompetitionItem,t.nk(),t.rankData.refresh();break;case t.goalAwardBtn:t.title=fvg.GVf("goal3"),t.titleGroup.visible=!1,t.upgradeBtn.visible=!1,t.descLab_2.visible=!1,t.rankScroller.y=158,t.rankScroller.height=443,t.rankGroup.dataProvider=t.goalData,t.rankGroup.itemRenderer=GoalAwardItem,t.bi(),t.goalData.refresh()}},t.prototype.nk=function(){for(var e=this,t=[],n=0;4>n;n++)t.push(e.rw);e.rankData.replaceAll(t)},t.prototype.bi=function(){var e=this,t=App.AT.getTaskByTypes(e.rw.type);t.sort(App.QA.taskCompareFun);for(var n=[],i=0;i<t.length;i++)n.push(t[i]);e.goalData.replaceAll(n)},t.prototype.ux=function(){var e=this;e.myRankLab.text=fvg.GVf("rank0",e.rw.rank||fvg.GVf("public042")),e.gradeLab.text=fvg.GVf("goal0"+e.hb,e.rw.arg),e.topRewardLab.text=e.rw.extDesc,0==e.ee.selectedIndex&&e.nk()},t.prototype.pg=function(){var e=this;e.goalAwardBtn.icon=UsU.XZ(e.rw.type)?StaticData.GHj:null,1==e.ee.selectedIndex&&e.bi()},t.prototype.compareGoodsTId=function(e,t){return e.tid<t.tid?-1:1},t.prototype.gs=function(e){var t=this;t.rw&&rRcz.SC(t.rw.type)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rankScroller&&(t.rankScroller.stopAnimation(),t.rankScroller.viewport=null,GObj.$d(t.rankScroller)),t.rankScroller=null,t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup)),t.rankGroup=null,t.rankData=null,t.goalData=null,t.rw=null,GObj.$d(t.myRankLab),t.myRankLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.rankAwardBtn),t.rankAwardBtn=null,GObj.$d(t.goalAwardBtn),t.goalAwardBtn=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,GObj.$d(t.topRewardLab),t.topRewardLab=null,GObj.$d(t.topRewardTxt),t.topRewardTxt=null,GObj.$d(t.ee),t.ee=null,GObj.$d(t.titleGroup),t.titleGroup=null,GObj.$d(t.descLab_2),t.descLab_2=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GoalCompetitionPopUi.prototype,"GoalCompetitionPopUi");var GoalItemRenderer=function(e){function t(){var t=e.call(this)||this;t.cw=86400;var n=RRUU.$s("GoalItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.nf,e),e.contentGroup.addEventListener(eui.tep,e.af,e),vkG.$a(UtJ.MV,e.zh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nf,e),e.contentGroup.removeEventListener(eui.tep,e.af,e),vkG.$r(UtJ.MV,e.zh,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){if(e.ee=e.itemIndex+1,e.et=App.AT.getGoalDayInfoByDay(e.ee-1),e.backImg.source="goal_json.goal_back_"+e.ee+"_png",e.dayImg.source="goal_json.goal_day_"+e.ee+"_png",e.lockImg.visible=e.ee>App.AT.currDay,e.proingImg.visible=e.ee==App.AT.currDay,e.et){var t=e.et.fnick;e.nameTxt.text=fvg.GVf(t?"goal10":"462",t),e.typeImg.source="goal_json.goal_type_"+e.et.type+"_png";var n=XCA.RE("100_"+e.et.type+"_"+App.AT.crs);if(usable(n)){var i=Nkz.PI(n);e.rewardIcon.data=i[0]}}e.rewardIcon.touchEnabled=!1;var r=0;e.ee<App.AT.currDay?(e.stateTxt.text=fvg.GVf("public035"),e.stateTxt.textColor=Color.KA):e.ee==App.AT.currDay?(r=App.AT.startTime+e.ee*e.cw-1,e.stateTxt.text=fvg.GVf("public038",kpd.BR(r,!1,!0)),e.stateTxt.textColor=Color.TX):(e.nameTxt.text=fvg.GVf("462"),r=App.AT.startTime+e.itemIndex*e.cw,e.stateTxt.text=fvg.GVf("public037",kpd.BR(r,!1,!0)),e.stateTxt.textColor=Color.TX),e.zh()}},t.prototype.nf=function(e){this.dispose()},t.prototype.zh=function(){var e=this;e.et&&e.itemIndex<App.AT.currDay?e.redPointImg.visible=UsU.XZ(e.et.type):e.redPointImg.visible=!1},t.prototype.af=function(e){var t=this;return t.ee>App.AT.currDay?void MessageTipManager.instance.show(fvg.GVf("public036")):void(t.et&&App.VS.popup(10091,GoalCompetitionPopUi,null,t.et))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.dayImg),t.dayImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.proingImg),t.proingImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.stateTxt),t.stateTxt=null,GObj.$d(t.rewardIcon),t.rewardIcon=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.contentGroup),t.contentGroup=null,t.et=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GoalItemRenderer.prototype,"GoalItemRenderer");var GoalRankItemRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("GoalRankItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEVent=function(){var e=this;e.addEventListener(eui.RFS,e.hw,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hw,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.vw=e.data,e.vw.data&&(e.cx=e.vw.data[e.itemIndex]);var t=e.itemIndex+1;if(!e.cx)return e.rankImg.source=QycO.OK,e.rankTxt.text=QycO.OK,e.nameTxt.text=QycO.OK,void(e.fightTxt.text=QycO.OK);3>=t?(e.rankImg.source="core_json.core_rank_"+t+"_png",e.rankImg.visible=!0,e.rankTxt.text=""):(e.rankImg.visible=!1,e.rankTxt.text=t+"");var n="";e.cx.fid>0&&(n=fvg.GVf("30",fvg.GVf("martialart_name_"+e.cx.fid))),e.nameTxt.text=n+e.cx.nick,e.fightTxt.text=fvg.GVf("goaltype"+e.vw.type,e.cx.fap)}},t.prototype.hw=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.fightTxt),t.fightTxt=null,t.vw=null,t.cx=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GoalRankItemRenderer.prototype,"GoalRankItemRenderer");var GoalRankPopUi=function(e){function t(){var t=e.call(this,"GoalRankPopUi")||this,n=RRUU.$s("GoalRankPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=GoalRankItemRenderer,e.title=fvg.GVf("public061")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.pr()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.cf=e[0],n.pr())},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.pr=function(){var e=this;if(e.CSo&&e.cf){for(var t=0;10>t;t++)e.itemData.source.push(e.cf);e.itemData.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,t.cf=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GoalRankPopUi.prototype,"GoalRankPopUi");var GoalView=function(e){function t(){var t=e.call(this,"GoalView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.zp=GObj.$c(egret.HtmlTextParser),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoalItemRenderer},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.FPF,t.ee,t)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.FPF,e.ee,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=kpd.BR(App.AT.startTime),i=kpd.BR(App.AT.endTime);t.timeTxt.textFlow=t.zp.parser(fvg.GVf("goal11",n,i)),GoalMsgProxy.LN(1);for(var r=App.AT.totalDay,a=0;r>a;a++)t.itemData.source.push(a+1);t.itemData.refresh(),egret.Tween.get(t).wait(100).call(t.he,t)},t.prototype.he=function(){var e=this;if(e.scroller){var t=App.AT.currDay,n=116*t;if(n>e.scroller.height){var i=e.scroller.viewport.contentHeight-e.scroller.height;e.scroller.viewport.scrollV=Math.min(n,i)}}},t.prototype.ee=function(){for(var e=this,t=[],n=App.AT.totalDay,i=0;n>i;i++)t.push(i+1);e.itemData.replaceAll(t),egret.Tween.get(e).wait(100).call(e.np,e)},t.prototype.np=function(){var e=this;if(egret.Tween.removeTweens(e),!e.destory){var t=e.scroller.viewport.scrollV,n=e.scroller.viewport.contentHeight-e.scroller.height;t>n&&e.itemData.refresh()}},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GoalView.prototype,"GoalView");var GodView=function(e){function t(){var t=e.call(this,"GodView")||this;return t.km=0,t.vnx=0,t.ll=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.activeDesc.text=fvg.GVf("task14"),e.taskDatas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.taskDatas,e.itemDataGroup.itemRenderer=TaskItemView;for(var t=StaticData.MARTIALT_ACVALUE_LIST.length,n=0;t>n;n++){StaticData.MARTIALT_ACVALUE_LIST[n];this["acLab"+(n+1)].text=StaticData.MARTIALT_ACVALUE_LIST[n]}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.ll=StaticData.MARTIALT_ACVALUE_LIST[StaticData.MARTIALT_ACVALUE_LIST.length-1],t.aa()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.ER,t.xk,t),vkG.$a(UtJ.WSU,t.vw,t),vkG.$a(UtJ.BI,t.xk,t),vkG.$a(UtJ.TB,t.aa,t),vkG.$a(UtJ.I_,t.aa,t);for(var n=StaticData.MARTIALT_ACVALUE_LIST.length,i=0;n>i;i++)this["boxBtn"+(i+1)].addEventListener(eui.tep,t.qb,t)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ER,e.xk,e),vkG.$r(UtJ.WSU,e.vw,e),vkG.$r(UtJ.BI,e.xk,e),vkG.$r(UtJ.TB,e.aa,e),vkG.$r(UtJ.I_,e.aa,e);for(var t=StaticData.MARTIALT_ACVALUE_LIST.length,n=0;t>n;n++)this["boxBtn"+(n+1)].removeEventListener(eui.tep,e.qb,e)},t.prototype.qb=function(e){for(var t=this,n=e.currentTarget,i=StaticData.MARTIALT_ACVALUE_LIST.length,r=App.KF.acbox,a=0;i>a;a++)if(n==this["boxBtn"+(a+1)]){if(r>=StaticData.MARTIALT_ACVALUE_LIST[a])break;var o=GObj.$c(BoxPopUi);o.width=446,o.showDetail(2,t.km,StaticData.MARTIALT_ACVALUE_LIST[a])}},t.prototype.xk=function(e){var t=this;if(2===t.tabType){var n,i=[],r=App.QA.getTaskListByType(3);for(var a in r)n=r[a],n&&!n.isComp&&i.push(n);i.sort(App.QA.taskCompareFun),t.taskDatas.replaceAll(i),t.taskDatas.refresh()}},t.prototype.vw=function(e){var t=this;if(1===t.tabType){var n=App.QA.getTaskListByType(2),i=[];for(var r in n)IoG.EZ()&&"3642"===r||i.push(n[r]);i.sort(App.QA.taskCompareFun),t.taskDatas.replaceAll(i),t.taskDatas.refresh()}},t.prototype.aa=function(){var e=this;e.km=App.KF.acvalue||0;for(var t=StaticData.MARTIALT_ACVALUE_LIST.length,n=StaticData.MARTIALT_ACVALUE_LIST.indexOf(App.KF.acbox||0),i=0;t>i;i++){var r=StaticData.MARTIALT_ACVALUE_LIST[i];e.km>=r?(this["boxBtn"+(i+1)].boxImg.source="core_json.award_box_png",n>=i?(this["boxBtn"+(i+1)].icon=null,this["receiveImg_"+(i+1)].visible=!0):(this["boxBtn"+(i+1)].icon=StaticData.GHj,this["receiveImg_"+(i+1)].visible=!1)):(this["boxBtn"+(i+1)].boxImg.source="core_json.award_box_grey_png",this["boxBtn"+(i+1)].icon=null)}e.progress=e.km},Object.defineProperty(t.prototype,"progress",{set:function(e){var t=this,n=int(t.km/t.ll*100);n>100&&(n=100),t.acValuePro.value=n,t.proLab.text=fvg.GVf("public022",e,t.ll),t.activeLab.text=e+""},enumerable:!0,configurable:!0}),t.prototype.t_=function(){var e=this,t=e.tabType;switch(e.itemScroller&&e.itemScroller.stopAnimation(),t){case 1:e.boxGroup.visible=!0,e.itemScroller.visible=!0,e.itemScroller.height=580,e.vw(!0);break;case 2:e.boxGroup.visible=!1,e.itemScroller.visible=!0,e.itemScroller.height=700,e.xk(!0)}},t.prototype.dataUpdated=function(){this.t_()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.boxGroup),t.boxGroup=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.taskDatas=null,t.receiveImg_1=null,t.receiveImg_2=null,t.receiveImg_3=null,t.receiveImg_4=null,t.boxImg1=null,t.boxImg2=null,t.boxImg3=null,t.boxImg4=null,t.boxBtn1=null,t.boxBtn2=null,t.boxBtn3=null,t.boxBtn4=null,t.acLab1=null,t.acLab2=null,t.acLab3=null,t.acLab4=null,t.proLab=null,t.acValuePro=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GodView.prototype,"GodView");var GodSkillInterAllItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("GodSkillInterAllItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.kp=App.XB.godSkillInterInfo[2]||0;var t=App.XB.getInterTempByGrade(e.kp);e.kp=t&&e.kp>0?t.sort:0},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ul,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ul,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.titleTxt.text=e.data.name||"",e.titleTxt.textColor=e.kp>=e.itemIndex+1?Color.TX:Color.XB)},t.prototype.ul=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GodSkillInterAllItem.prototype,"GodSkillInterAllItem");var GodSkillInterAllPopUi=function(e){function t(){var t=e.call(this,"GodSkillInterAllPopUi")||this;return t.skinName=RRUU.$s("GodSkillInterAllPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.title=fvg.GVf("godskill12"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GodSkillInterAllItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.qw()},t.prototype.qw=function(){var e,t=this,n=XCA.AQS.getGradeTempByMasTypeAndSubType(42,2);for(e in n)t.itemData.source.push(n[e]);t.itemData.refresh(),n=XCA.AQS.oVs(43);for(e in n)t.rm(n[e][1])},t.prototype.rm=function(e){if(e){var t=gLw.IQ(e.tid),n=App.XB.godSkillInterEnch[t]||0;if(n){this["iconImg_"+t].source="godskill_json.godskill_inter_"+t+"_png",this["attrTxt_"+t].textColor=Color.TX;
var i=e.attrid+n;this["attrTxt_"+t].text=AttributeTemplate.KK(i,!1,!1,!0,t>1?1:2).split("+").join("\n+")}else this["iconImg_"+t].source="godskill_json.god_skill_unopen_"+t+"_png",this["attrTxt_"+t].text=fvg.GVf("public010"),this["attrTxt_"+t].textColor=Color.KA}},t.prototype.qz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.iconImg_1),t.iconImg_1=null,GObj.$d(t.iconImg_2),t.iconImg_2=null,GObj.$d(t.iconImg_3),t.iconImg_3=null,GObj.$d(t.iconImg_4),t.iconImg_4=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.attrTxt_3),t.attrTxt_3=null,GObj.$d(t.attrTxt_4),t.attrTxt_4=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillInterAllPopUi.prototype,"GodSkillInterAllPopUi");var GodSkillInterDescPopUi=function(e){function t(){return e.call(this,"GodSkillInterDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.VW,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(GodSkillInterDescPopUi.prototype,"GodSkillInterDescPopUi");var GodSkillInterEnchPopUi=function(e){function t(){var t=e.call(this,"GodSkillInterEnchPopUi")||this;return t.skinName=RRUU.$s("GodSkillInterEnchPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.ku=-1,e.upgradeBtn.label=fvg.GVf("public008"),e.currtitleTxt.text=fvg.GVf("superequipCasting22"),e.nexttitleTxt.text=fvg.GVf("superequipCasting25")},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.hw,e),vkG.$a(UtJ.ITK,e.io,e),vkG.$a(UtJ.DV,e.wl,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.hw,e),vkG.$r(UtJ.ITK,e.io,e),vkG.$r(UtJ.DV,e.wl,e)},t.prototype.initData=function(){this.tg()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.yv=e[0],n.tg())},t.prototype.tg=function(){var e=this;if(e.CSo&&e.yv&&(e.co=App.XB.godSkillInterEnch[e.yv]||0,e.sq=XCA.AQS.UFA(43,e.yv,1),e.sq)){if(!e.gbn){e.gbn={};for(var t=(e.sq.p6||"").split(QycO.PK),n=void 0,i=0;i<t.length;i++)n=t[i].split(QycO.XP),e.gbn[n[0]]=parseInt(n[1])}if(e.iconImg.source="godskill_json.godskill_inter_"+e.yv+"_png",e.nameTxt.text=e.sq.name,e.descTxt.text=e.sq.desc,e.ar=e.hj(),e.gradeTxt.text=fvg.GVf("public013",e.co+"/"+e.ar),e.co>0){var r=e.kn();e.gbn[r]?e.openTxt.text=fvg.GVf("godskill10",r,e.gbn[r]):e.openTxt.text="",e.upgradeBtn.visible=!0}else e.upgradeBtn.visible=!1,e.openTxt.text=fvg.GVf("godskill11",e.bp());e.ql(),e.pw(),-1!=e.ku&&e.co!=e.ku&&App.KB.showEffect(gYq.UQ),e.ku=e.co}},t.prototype.ql=function(){var e=this,t=e.sq.attrid+(e.co||1);return e.currAttrTxt.text=AttributeTemplate.KK(t,0==e.co),e.co>=e.sq.maxgrade?void(e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,!0)):(t=e.sq.attrid+e.co+1,void(e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,!1,!1)))},t.prototype.pw=function(){var e=this;if(e.sq){e.yd||(e.yd=GObj.$c(nlwj),e.yd.tid=parseInt(e.sq.cost)),e.yd.count=e.sq.p1||0;var t=App.FK.hsx(e.yd.tid);e.co>=e.sq.maxgrade?(e.needTxt.text=fvg.GVf("public022",t,"MAX"),e.needTxt.textColor=Color.XB,e.upgradeBtn.visible=!1,e.maxTxt.text=fvg.GVf("skill006")):(e.needTxt.text=fvg.GVf("public022",t,e.yd.count),e.needTxt.textColor=t>=e.yd.count?Color.TX:Color.KA,e.upgradeBtn.icon=e.co<e.ar&&t>=e.yd.count?StaticData.GHj:null)}},t.prototype.hj=function(){var e=this,t=App.XB.godSkillInterInfo[2]||0,n=App.XB.getInterTempByGrade(t);t=t>0&&n?n.sort:0;var i=App.XB.getEnchLimitGrade(e.yv,t,e.sq.p5);return i},t.prototype.bp=function(){var e=this;if(!e.gbn)return 0;var t=999;for(var n in e.gbn)parseInt(n)<t&&e.gbn[n]>0&&(t=parseInt(n));return t},t.prototype.kn=function(){var e=this;if(!e.gbn)return 0;var t=999,n=App.XB.godSkillInterInfo[2]||0,i=App.XB.getInterTempByGrade(n);n=i?i.sort:0;var r;for(var a in e.gbn)r=parseInt(a),r>n&&t>r&&(t=r);return t},t.prototype.hw=function(e){var t=this;if(t.yd){if(t.co>=t.ar)return void App.TT.show(t.openTxt.text);var n=App.FK.hsx(t.yd.tid);return n<t.yd.count?void _JDW.TR(t.yd.tid):void AjJ.CA(t.yv)}},t.prototype.io=function(){this.tg()},t.prototype.wl=function(e){this.pw()},t.prototype.vv=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.openTxt),t.openTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.currtitleTxt),t.currtitleTxt=null,GObj.$d(t.nexttitleTxt),t.nexttitleTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.maxTxt),t.maxTxt=null,t.sq=null,t.yd=null,t.gbn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillInterEnchPopUi.prototype,"GodSkillInterEnchPopUi");var GodSkillInterPopUi=function(e){function t(){var t=e.call(this,"GodSkillOuterPopUi")||this;return t.lq=2,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.vo=-1,e.or=GObj.$c(nlwj),e.title=fvg.GVf("godskill18"),e.outputBtn.label=fvg.GVf("harry9"),e.upgradeBtn.label=fvg.GVf("godskill7"),e.oneKeyBtn.label=fvg.GVf("godskill6"),e.allSkillBtn.backDisplay.source="godskill_json.godskill_inter_all_png",e.expTxt.text=fvg.GVf("martialart113"),e.capView=GObj.$c(FightView),e.capView.x=118,e.capView.y=45,e.addChild(e.capView),e.xc=GObj.$c(GeneralStarView),e.xc.maxStar=10,e.xc.star_width=29,e.xc.open_star_key=["godskill_json.godskill_star_1_png"],e.xc.close_star_key="godskill_json.godskill_star_2_png",e.xc.x=140,e.xc.y=620,e.addChild(e.xc),e.hp=GObj.$c(MeanEffect),e.hp.touchEnabled=e.hp.touchChildren=!1,e.hp.start(gYq.SZ,110),e.hp.x=160,e.hp.y=115,e.addChildAt(e.hp,5),e.dl={};var t=XCA.AQS.oVs(43);for(var n in t)e.dl[n]=t[n][1]},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.rs,e),e.oneKeyBtn.addEventListener(eui.tep,e.tf,e),e.upStageBtn.addEventListener(eui.tep,e.nn,e),e.typeBtn_1.addEventListener(eui.tep,e.jn,e),e.typeBtn_2.addEventListener(eui.tep,e.jn,e),e.typeBtn_3.addEventListener(eui.tep,e.jn,e),e.typeBtn_4.addEventListener(eui.tep,e.jn,e),e.allSkillBtn.addEventListener(eui.tep,e.lt,e),e.outputBtn.addEventListener(eui.tep,e.ps,e),vkG.$a(UtJ.ITK,e.hj,e),vkG.$a(UtJ.BH,e.ui,e),vkG.$a(UtJ.DV,e.cs,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.rs,e),e.oneKeyBtn.removeEventListener(eui.tep,e.tf,e),e.upStageBtn.removeEventListener(eui.tep,e.nn,e),e.typeBtn_1.removeEventListener(eui.tep,e.jn,e),e.typeBtn_2.removeEventListener(eui.tep,e.jn,e),e.typeBtn_3.removeEventListener(eui.tep,e.jn,e),e.typeBtn_4.removeEventListener(eui.tep,e.jn,e),e.allSkillBtn.removeEventListener(eui.tep,e.lt,e),e.outputBtn.removeEventListener(eui.tep,e.ps,e),vkG.$r(UtJ.ITK,e.hj,e),vkG.$r(UtJ.BH,e.ui,e),vkG.$r(UtJ.DV,e.cs,e)},t.prototype.initData=function(){var e=this;e.nw(),e.hj()},t.prototype.nw=function(){var e=this;if(e.ht=App.XB.godSkillInterInfo[e.lq]||0,e.py=App.XB.getInterTempByGrade(e.ht),e.title=fvg.GVf("godskills2"),e.py){if(e.gradeTxt.text=e.py.name,e.descTxt.text=e.py.desc,e.ht>0){var t=e.ht%10;e.xc.currStar=t?t:10}else e.xc.currStar=0;e.tq();var n=App.XB.godSkillInterInfo["cap_"+e.lq]||0;if(e.capView.fightNum=n,e.upLimitTxt.text=fvg.GVf("godskill9",App.XB.godSkillInterInfo.idav||0,e.py.p2),e.ht>=e.py.maxgrade)return e.progBar.value=100,e.progTxt.text="MAX",e.upgradeBtn.visible=!1,e.oneKeyBtn.visible=!1,e.upStageBtn.visible=!1,e.icon_1.visible=!1,e.icon_2.visible=!1,e.needTxt_1.visible=!1,e.needTxt_2.visible=!1,e.bgImg_1.visible=!1,e.bgImg_2.visible=!1,void(e.maxTxt.text=fvg.GVf("skill006"));e.qwt=XCA.AQS.UFA(42,e.lq,e.ht+1);var i=App.XB.godSkillInterInfo.itav||0,r=!!e.qwt&&i>=(e.qwt.p1||0);e.upgradeBtn.visible=e.oneKeyBtn.visible=!r,e.icon_1.visible=e.icon_2.visible=!r,e.needTxt_1.visible=e.needTxt_2.visible=!r,e.bgImg_1.visible=e.bgImg_2.visible=!r,e.upStageBtn.visible=r;var a=0;e.qwt?(a=e.qwt.p1||0,r?(e.upStageBtn.label=e.ht?fvg.GVf("specia001"):fvg.GVf("public012"),e.pm()):e.vs()):(a=App.JUY.getUpgradeCount(e.py.p5,e.ht+1),e.vs());var o=App.JUY.getUpgradeCount(e.py.p5,e.ht)||e.py.p1||0;e.progTxt.text=fvg.GVf("public022",i-o,a-o),e.progBar.value=Math.min(int((i-o)/(a-o)*100),100),-1!=e.vo&&e.vo!=e.ht&&App.KB.showEffect(gYq.UQ),e.vo=e.ht}},t.prototype.tq=function(){var e=this;return e.currAttrTxt.text=e.es(e.ht),e.ht>=e.py.maxgrade?void(e.nextAttrTxt.textFlow=LgRe.OQ(fvg.GVf("martialart120"))):void(e.nextAttrTxt.text=e.es(e.ht+1))},t.prototype.es=function(e){var t,n,i="",r=XCA.YV(this.py.attrid);if(r){for(t in xxf.UK)n=App.JP.getGodSkillAttr(r[t],e)||0,r[t]&&(n=0==e?0:n,i+=fvg.GVf("skill004",xxf.UK[t],n)+"\n");for(t in xxf.IM)n=App.JP.getGodSkillAttr(r[t],e)||0,n&&(i+=fvg.GVf("skill004",xxf.IM[t],(n/10).toFixed(1)+"%")+"\n")}return i},t.prototype.pm=function(){var e=this,t=App.XB.godSkillInterInfo.itav||0;e.upStageBtn.icon=t>=(e.qwt.p1||0)?StaticData.GHj:null},t.prototype.vs=function(){var e=this;e.or.tid=parseInt(e.py.cost),e.or.count=1;var t=App.FK.hsx(e.or.tid);e.needTxt_1.text=fvg.GVf("public022",t,e.or.count),e.needTxt_1.textColor=t>=e.or.count?Color.TX:Color.KA,e.needTxt_2.text=toChars(t),e.needTxt_2.textColor=t>=e.or.count?Color.TX:Color.KA,e.upgradeBtn.icon=t>=e.or.count?StaticData.GHj:null,e.oneKeyBtn.icon=t>=e.or.count?StaticData.GHj:null},t.prototype.ui=function(){this.nw()},t.prototype.hj=function(){var e,t,n=this;for(e in n.dl)t=App.XB.godSkillInterEnch[e]||0,this["typeBtn_"+e].label=n.dl[e].name+fvg.GVf("public028",t),this["typeBtn_"+e].backDisplay.source=t>0?"godskill_json.godskill_inter_"+e+"_png":"godskill_json.god_skill_unopen_"+e+"_png";n.td()},t.prototype.td=function(){var e,t=this;for(e in t.dl)this["typeBtn_"+e].icon=UsU.DZ(t.dl[e])?StaticData.GHj:null},t.prototype.cs=function(e){var t=this;t.py&&(t.vs(),t.td())},t.prototype.rs=function(e){var t=this;if(t.or){var n=App.FK.hsx(t.or.tid);return n<t.or.count?void _JDW.TR(t.or.tid):void AjJ.YE(1)}},t.prototype.tf=function(e){var t=this;if(t.or){var n=App.FK.hsx(t.or.tid);return n<t.or.count?void _JDW.TR(t.or.tid):void AjJ.YE(2)}},t.prototype.nn=function(e){var t=this;if(t.or)return t.upStageBtn.icon?void AjJ.YE(3):void _JDW.TR(StaticData.TID_GOODS_14)},t.prototype.jn=function(e){var t,n=this,i=e.currentTarget;switch(i){case n.typeBtn_1:t=1;break;case n.typeBtn_2:t=2;break;case n.typeBtn_3:t=3;break;case n.typeBtn_4:t=4}App.VS.popup(10052,GodSkillInterEnchPopUi,null,t)},t.prototype.lt=function(e){App.VS.popup(10052,GodSkillInterAllPopUi)},t.prototype.ps=function(e){App.VS.popup(10052,GodSkillInterDescPopUi)},t.prototype.mj=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.typeBtn_1),t.typeBtn_1=null,GObj.$d(t.typeBtn_2),t.typeBtn_2=null,GObj.$d(t.typeBtn_3),t.typeBtn_3=null,GObj.$d(t.typeBtn_4),t.typeBtn_4=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.upLimitTxt),t.upLimitTxt=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.bgImg_1),t.bgImg_1=null,GObj.$d(t.bgImg_2),GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.outputBtn),t.outputBtn=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.icon_1),t.icon_1=null,GObj.$d(t.icon_2),t.icon_2=null,GObj.$d(t.upStageBtn),t.upStageBtn=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.allSkillBtn),t.allSkillBtn=null,GObj.$d(t.capView),t.capView=null,t.hp&&(t.hp.stop(),GObj.$d(t.hp),t.hp=null),e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillInterPopUi.prototype,"GodSkillInterPopUi");var GodSkillJinguAllItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("GodSkillJinguAllItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wy=App.XB.godSkillJinguInfo[3]||0;var t=App.XB.getInterTempByGrade(e.wy);e.wy=t&&e.wy>0?t.sort:0},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.aj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.aj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.titleTxt.text=e.data.name||"",e.titleTxt.textColor=e.wy>=e.itemIndex+1?Color.TX:Color.XB)},t.prototype.aj=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GodSkillJinguAllItem.prototype,"GodSkillJinguAllItem");var GodSkillJinguAllPopUi=function(e){function t(){var t=e.call(this,"GodSkillInterAllPopUi")||this;return t.skinName=RRUU.$s("GodSkillInterAllPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.title=fvg.GVf("godskill13"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GodSkillJinguAllItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.mv()},t.prototype.mv=function(){var e,t=this,n=XCA.AQS.getGradeTempByMasTypeAndSubType(51,3);for(e in n)t.itemData.source.push(n[e]);t.itemData.refresh(),n=XCA.AQS.oVs(52);for(e in n)t.jw(n[e][1])},t.prototype.jw=function(e){if(e){var t=gLw.IQ(e.tid),n=App.XB.godSkillJinguEnch[t]||0;if(n){this["iconImg_"+t].source="godskill_json.godskill_inter_"+t+"_png",this["attrTxt_"+t].textColor=Color.TX;var i=e.attrid+n;this["attrTxt_"+t].text=AttributeTemplate.KK(i,!1,!1,!0,t>=1?1:2).split("+").join("\n+")}else this["iconImg_"+t].source="godskill_json.god_skill_unopen_"+t+"_png",this["attrTxt_"+t].text=fvg.GVf("public010"),this["attrTxt_"+t].textColor=Color.KA}},t.prototype.aa=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.iconImg_1),t.iconImg_1=null,GObj.$d(t.iconImg_2),t.iconImg_2=null,GObj.$d(t.iconImg_3),t.iconImg_3=null,GObj.$d(t.iconImg_4),t.iconImg_4=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.attrTxt_3),t.attrTxt_3=null,GObj.$d(t.attrTxt_4),t.attrTxt_4=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillJinguAllPopUi.prototype,"GodSkillJinguAllPopUi");var GodSkillJinguDescPopUi=function(e){function t(){return e.call(this,"GodSkillJinguDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.H_,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(GodSkillJinguDescPopUi.prototype,"GodSkillJinguDescPopUi");var GodSkillJinguEnchPopUi=function(e){function t(){var t=e.call(this,"GodSkillJinguEnchPopUi")||this;return t.skinName=RRUU.$s("GodSkillJinguEnchPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.eu=-1,e.upgradeBtn.label=fvg.GVf("public008"),e.currtitleTxt.text=fvg.GVf("superequipCasting22"),e.nexttitleTxt.text=fvg.GVf("superequipCasting25")},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.oo,e),vkG.$a(UtJ.FU,e.fu,e),vkG.$a(UtJ.DV,e.ds,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.oo,e),vkG.$r(UtJ.FU,e.fu,e),vkG.$r(UtJ.DV,e.ds,e)},t.prototype.initData=function(){this.vi()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.xw=e[0],n.vi())},t.prototype.vi=function(){var e=this;if(e.CSo&&e.xw&&(e.yn=App.XB.godSkillJinguEnch[e.xw]||0,e.wh=XCA.AQS.UFA(52,e.xw,1),e.wh)){if(!e.xa){e.xa={};for(var t=(e.wh.p6||"").split(QycO.PK),n=void 0,i=0;i<t.length;i++)n=t[i].split(QycO.XP),e.xa[n[0]]=parseInt(n[1])}if(e.iconImg.source="godskill_json.god_skill_jg"+e.xw+"_png",e.nameTxt.text=e.wh.name,e.descTxt.text=e.wh.desc,e.sb=e.no(),e.gradeTxt.text=fvg.GVf("public013",e.yn+"/"+e.sb),e.yn>0){var r=e.kyq();e.xa[r]?e.openTxt.text=fvg.GVf("godskill14",r,e.xa[r]):e.openTxt.text="",e.upgradeBtn.visible=!0}else e.upgradeBtn.visible=!1,e.openTxt.text=fvg.GVf("godskill15",e.wa());e.ch(),e.mo(),-1!=e.eu&&e.yn!=e.eu&&App.KB.showEffect(gYq.UQ),e.eu=e.yn}},t.prototype.ch=function(){var e=this,t=e.wh.attrid+(e.yn||1);return e.currAttrTxt.text=AttributeTemplate.KK(t,0==e.yn),e.yn>=e.wh.maxgrade?void(e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,!0)):(t=e.wh.attrid+e.yn+1,void(e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,!1,!1)))},t.prototype.mo=function(){var e=this;if(e.wh){e.xm||(e.xm=GObj.$c(nlwj),e.xm.tid=parseInt(e.wh.cost)),e.xm.count=e.wh.p1||0;var t=App.FK.hsx(e.xm.tid);e.yn>=e.wh.maxgrade?(e.needTxt.text=fvg.GVf("public022",t,"MAX"),e.needTxt.textColor=Color.XB,e.upgradeBtn.visible=!1,e.maxTxt.text=fvg.GVf("skill006")):(e.needTxt.text=fvg.GVf("public022",t,e.xm.count),e.needTxt.textColor=t>=e.xm.count?Color.TX:Color.KA,e.upgradeBtn.icon=e.yn<e.sb&&t>=e.xm.count?StaticData.GHj:null)}},t.prototype.no=function(){var e=this,t=App.XB.godSkillJinguInfo[3]||0,n=App.XB.getOuterTempByGrade(t);t=t>0&&n?n.sort:0;var i=App.XB.getEnchLimitGrade(e.xw,t,e.wh.p5);return i},t.prototype.wa=function(){var e=this;if(!e.xa)return 0;var t=999;for(var n in e.xa)parseInt(n)<t&&e.xa[n]>0&&(t=parseInt(n));return t},t.prototype.kyq=function(){var e=this;if(!e.xa)return 0;var t=999,n=App.XB.godSkillJinguInfo[3]||0,i=App.XB.getOuterTempByGrade(n);n=i?i.sort:0;var r;for(var a in e.xa)r=parseInt(a),r>n&&t>r&&(t=r);return t},t.prototype.oo=function(e){var t=this;if(t.xm){if(t.yn>=t.sb)return void App.TT.show(t.openTxt.text);var n=App.FK.hsx(t.xm.tid);return n<t.xm.count?void _JDW.TR(t.xm.tid):void AjJ.VH(t.xw)}},t.prototype.fu=function(){this.vi()},t.prototype.ds=function(e){this.mo()},t.prototype.fm=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.openTxt),t.openTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.currtitleTxt),t.currtitleTxt=null,GObj.$d(t.nexttitleTxt),t.nexttitleTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.maxTxt),t.maxTxt=null,t.wh=null,t.xm=null,t.xa=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillJinguEnchPopUi.prototype,"GodSkillJinguEnchPopUi");var GodSkillJinguPopUi=function(e){function t(){var t=e.call(this,"GodSkillOuterPopUi")||this;return t.am=3,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.um=-1,e._x=GObj.$c(nlwj),e.title=fvg.GVf("godskill18"),e.outputBtn.label=fvg.GVf("harry9"),e.upgradeBtn.label=fvg.GVf("godskill7"),e.oneKeyBtn.label=fvg.GVf("godskill6"),e.expTxt.text=fvg.GVf("martialart113"),e.allSkillBtn.backDisplay.source="godskill_json.godskill_jingu_all_png",e.gy=GObj.$c(GeneralStarView),e.gy.maxStar=10,e.gy.star_width=29,e.gy.open_star_key=["godskill_json.godskill_star_1_png"],e.gy.close_star_key="godskill_json.godskill_star_2_png",e.gy.x=140,e.gy.y=620,e.addChild(e.gy),e.capView=GObj.$c(FightView),e.capView.x=117,e.capView.y=47,e.addChild(e.capView),e.nm=GObj.$c(MeanEffect),e.nm.touchEnabled=e.nm.touchChildren=!1,e.nm.start(gYq.RY,110),e.nm.x=125,e.nm.y=126,e.addChildAt(e.nm,5),e.sv={};var t=XCA.AQS.oVs(52);for(var n in t)e.sv[n]=t[n][1]},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.he,e),e.oneKeyBtn.addEventListener(eui.tep,e.ul,e),e.upStageBtn.addEventListener(eui.tep,e.rl,e),e.typeBtn_1.addEventListener(eui.tep,e.nx,e),e.typeBtn_2.addEventListener(eui.tep,e.nx,e),e.typeBtn_3.addEventListener(eui.tep,e.nx,e),e.typeBtn_4.addEventListener(eui.tep,e.nx,e),e.allSkillBtn.addEventListener(eui.tep,e.ca,e),e.outputBtn.addEventListener(eui.tep,e.js,e),vkG.$a(UtJ.FU,e.uw,e),vkG.$a(UtJ.CK,e.ri,e),vkG.$a(UtJ.DV,e.pf,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.he,e),e.oneKeyBtn.removeEventListener(eui.tep,e.ul,e),e.upStageBtn.removeEventListener(eui.tep,e.rl,e),e.typeBtn_1.removeEventListener(eui.tep,e.nx,e),e.typeBtn_2.removeEventListener(eui.tep,e.nx,e),e.typeBtn_3.removeEventListener(eui.tep,e.nx,e),e.typeBtn_4.removeEventListener(eui.tep,e.nx,e),e.allSkillBtn.removeEventListener(eui.tep,e.ca,e),e.outputBtn.removeEventListener(eui.tep,e.js,e),vkG.$r(UtJ.FU,e.uw,e),vkG.$r(UtJ.CK,e.ri,e),vkG.$r(UtJ.DV,e.pf,e)},t.prototype.initData=function(){var e=this;e.tp(),e.uw()},t.prototype.tp=function(){var e=this;if(e.vs=App.XB.godSkillJinguInfo[e.am]||0,e.le=App.XB.getJinguTempByGrade(e.vs),e.title=fvg.GVf("godskills3"),e.le){if(e.gradeTxt.text=e.le.name,e.descTxt.text=e.le.desc,e.vs>0){var t=e.vs%10;e.gy.currStar=t?t:10}else e.gy.currStar=0;e.wo(),App.KF.gold;var n=App.XB.godSkillJinguInfo["cap_"+e.am]||0;if(e.capView.fightNum=n,e.vs>=e.le.maxgrade)return e.progBar.value=100,e.progTxt.text="MAX",e.upgradeBtn.visible=!1,e.oneKeyBtn.visible=!1,e.upStageBtn.visible=!1,e.icon_1.visible=!1,e.icon_2.visible=!1,e.needTxt_1.visible=!1,e.needTxt_2.visible=!1,void(e.maxTxt.text=fvg.GVf("skill006"));e.ck=XCA.AQS.UFA(51,e.am,e.vs+1);var i=App.XB.godSkillJinguInfo.atav||0,r=!!e.ck&&i>=(e.ck.p1||0);e.upgradeBtn.visible=e.oneKeyBtn.visible=!r,e.icon_1.visible=e.icon_2.visible=!r,e.needTxt_1.visible=e.needTxt_2.visible=!r,e.upStageBtn.visible=r;var a=0;e.ck?(a=e.ck.p1||0,r?(e.upStageBtn.label=e.vs?fvg.GVf("specia001"):fvg.GVf("public012"),e.fw()):e.wg()):(a=App.JUY.getUpgradeCount(e.le.p5,e.vs+1),e.wg());var o=App.JUY.getUpgradeCount(e.le.p5,e.vs)||e.le.p1||0;e.progTxt.text=fvg.GVf("public022",i-o,a-o),e.progBar.value=Math.min(int((i-o)/(a-o)*100),100),-1!=e.um&&e.um!=e.vs&&App.KB.showEffect(gYq.UQ),e.um=e.vs}},t.prototype.wo=function(){var e=this;return e.currAttrTxt.text=e.mj(e.vs),e.vs>=e.le.maxgrade?void(e.nextAttrTxt.textFlow=LgRe.OQ(fvg.GVf("martialart120"))):void(e.nextAttrTxt.text=e.mj(e.vs+1))},t.prototype.mj=function(e){var t,n,i="",r=XCA.YV(this.le.attrid);if(r){for(t in xxf.UK)n=App.JP.getGodSkillAttr(r[t],e)||0,r[t]&&(n=0==e?0:n,i+=fvg.GVf("skill004",xxf.UK[t],n)+"\n");for(t in xxf.IM)n=App.JP.getGodSkillAttr(r[t],e)||0,n&&(i+=fvg.GVf("skill004",xxf.IM[t],(n/10).toFixed(1)+"%")+"\n")}return i},t.prototype.fw=function(){var e=this,t=App.XB.godSkillJinguInfo.atav||0;e.upStageBtn.icon=t>=(e.ck.p1||0)?StaticData.GHj:null},t.prototype.wg=function(){var e=this;e._x.tid=parseInt(e.le.cost),e._x.count=1;var t=App.FK.hsx(e._x.tid);e.needTxt_1.text=fvg.GVf("public022",t,e._x.count),e.needTxt_1.textColor=t>=e._x.count?Color.TX:Color.KA,e.needTxt_2.text=toChars(t),e.needTxt_2.textColor=t>=e._x.count?Color.TX:Color.KA,e.upgradeBtn.icon=t>=e._x.count?StaticData.GHj:null,e.oneKeyBtn.icon=t>=e._x.count?StaticData.GHj:null},t.prototype.ri=function(){this.tp()},t.prototype.uw=function(){var e,t,n=this;for(e in n.sv)t=App.XB.godSkillJinguEnch[e]||0,this["typeBtn_"+e].label=n.sv[e].name+fvg.GVf("public028",t),this["typeBtn_"+e].backDisplay.source=t>0?"godskill_json.god_skill_jg"+e+"_png":"godskill_json.god_skill_unopen_"+e+"_png";n.cu()},t.prototype.cu=function(){var e,t=this;for(e in t.sv)this["typeBtn_"+e].icon=UsU.UAP(t.sv[e])?StaticData.GHj:null},t.prototype.pf=function(e){var t=this;t.le&&(t.wg(),t.cu())},t.prototype.he=function(e){var t=this;if(t._x){var n=App.FK.hsx(t._x.tid);return n<t._x.count?void _JDW.TR(t._x.tid):void AjJ.OU(1)}},t.prototype.ul=function(e){var t=this;if(t._x){var n=App.FK.hsx(t._x.tid);return n<t._x.count?void _JDW.TR(t._x.tid):void AjJ.OU(2)}},t.prototype.rl=function(e){var t=this;if(t._x)return t.upStageBtn.icon?void AjJ.OU(3):void _JDW.TR(StaticData.TID_GOODS_14)},t.prototype.nx=function(e){var t,n=this,i=e.currentTarget;switch(i){case n.typeBtn_1:t=1;break;case n.typeBtn_2:t=2;break;case n.typeBtn_3:t=3;break;case n.typeBtn_4:t=4}App.VS.popup(10052,GodSkillJinguEnchPopUi,null,t)},t.prototype.ca=function(e){App.VS.popup(10052,GodSkillJinguAllPopUi)},t.prototype.js=function(e){App.VS.popup(10052,GodSkillJinguDescPopUi)},t.prototype.w_=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.typeBtn_1),t.typeBtn_1=null,GObj.$d(t.typeBtn_2),t.typeBtn_2=null,GObj.$d(t.typeBtn_3),t.typeBtn_3=null,GObj.$d(t.typeBtn_4),t.typeBtn_4=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.outputBtn),t.outputBtn=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.icon_1),t.icon_1=null,GObj.$d(t.icon_2),t.icon_2=null,GObj.$d(t.upStageBtn),t.upStageBtn=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.allSkillBtn),t.allSkillBtn=null,GObj.$d(t.capView),t.capView=null,t.nm&&(t.nm.stop(),GObj.$d(t.nm),t.nm=null),e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillJinguPopUi.prototype,"GodSkillJinguPopUi");var GodSkillOuterAllItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("GodSkillOuterAllItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xb=App.XB.godSkillInfo[1]||0;var t=App.XB.getOuterTempByGrade(e.xb);e.xb=t&&e.xb>0?t.sort:0},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.is,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.is,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.titleTxt.text=e.data.name||"",e.titleTxt.textColor=e.xb>=e.itemIndex+1?Color.TX:Color.XB)},t.prototype.is=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GodSkillOuterAllItem.prototype,"GodSkillOuterAllItem");var GodSkillOuterAllPopUi=function(e){function t(){var t=e.call(this,"GodSkillOuterAllPopUi")||this;return t.skinName=RRUU.$s("GodSkillOuterAllPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.title=fvg.GVf("godskill8"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GodSkillOuterAllItem},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.rn()},t.prototype.rn=function(){var e,t=this,n=XCA.AQS.getGradeTempByMasTypeAndSubType(29,1);for(e in n)t.itemData.source.push(n[e]);t.itemData.refresh(),n=XCA.AQS.oVs(30);for(e in n)t.yc(n[e][1])},t.prototype.yc=function(e){if(e){var t=gLw.IQ(e.tid),n=App.XB.godSkillEnch[t]||0;if(n){this["iconImg_"+t].source="godskill_json.god_skill_st"+t+"_png",this["attrTxt_"+t].textColor=Color.TX;var i=e.attrid+n;this["attrTxt_"+t].text=AttributeTemplate.KK(i,!1,!1,!0,t>1?1:2).split("+").join("\n+")}else this["iconImg_"+t].source="godskill_json.god_skill_unopen_"+t+"_png",this["attrTxt_"+t].text=fvg.GVf("public010"),this["attrTxt_"+t].textColor=Color.KA
}},t.prototype.aj=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.iconImg_1),t.iconImg_1=null,GObj.$d(t.iconImg_2),t.iconImg_2=null,GObj.$d(t.iconImg_3),t.iconImg_3=null,GObj.$d(t.iconImg_4),t.iconImg_4=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.attrTxt_3),t.attrTxt_3=null,GObj.$d(t.attrTxt_4),t.attrTxt_4=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillOuterAllPopUi.prototype,"GodSkillOuterAllPopUi");var GodSkillOuterDescPopUi=function(e){function t(){return e.call(this,"GodSkillOuterDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.ZO,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(GodSkillOuterDescPopUi.prototype,"GodSkillOuterDescPopUi");var GodSkillOuterEnchPopUi=function(e){function t(){var t=e.call(this,"GodSkillOuterEnchPopUi")||this;return t.skinName=RRUU.$s("GodSkillOuterEnchPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.oo=-1,e.upgradeBtn.label=fvg.GVf("public008"),e.currtitleTxt.text=fvg.GVf("superequipCasting22"),e.nexttitleTxt.text=fvg.GVf("superequipCasting25")},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.os,e),vkG.$a(UtJ.AV,e.uj,e),vkG.$a(UtJ.DV,e.yv,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.os,e),vkG.$r(UtJ.AV,e.uj,e),vkG.$r(UtJ.DV,e.yv,e)},t.prototype.initData=function(){this.wx()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.sc=e[0],n.wx())},t.prototype.wx=function(){var e=this;if(e.CSo&&e.sc&&(e.gy=App.XB.godSkillEnch[e.sc]||0,e.qv=XCA.AQS.UFA(30,e.sc,1),e.qv)){if(!e.dr){e.dr={};for(var t=(e.qv.p6||"").split(QycO.PK),n=void 0,i=0;i<t.length;i++)n=t[i].split(QycO.XP),e.dr[n[0]]=parseInt(n[1])}if(e.iconImg.source="godskill_json.god_skill_st"+e.sc+"_png",e.nameTxt.text=e.qv.name,e.descTxt.text=e.qv.desc,e.lz=e.px(),e.gradeTxt.text=fvg.GVf("public013",e.gy+"/"+e.lz),e.gy>0){var r=e.pd();e.dr[r]?e.openTxt.text=fvg.GVf("godskill2",r,e.dr[r]):e.openTxt.text="",e.upgradeBtn.visible=!0}else e.openTxt.text=fvg.GVf("godskill1",e.fz());e.qx(),e.eh(),-1!=e.oo&&e.gy!=e.oo&&App.KB.showEffect(gYq.UQ),e.oo=e.gy}},t.prototype.qx=function(){var e=this,t=e.qv.attrid+(e.gy||1);return e.currAttrTxt.text=AttributeTemplate.KK(t,0==e.gy),e.gy>=e.qv.maxgrade?void(e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,!0)):(t=e.qv.attrid+e.gy+1,void(e.nextAttrTxt.text=AttributeTemplate.KK(t,!1,!1,!1)))},t.prototype.eh=function(){var e=this;if(e.qv){e.mu||(e.mu=GObj.$c(nlwj),e.mu.tid=parseInt(e.qv.cost)),e.mu.count=e.qv.p1||0;var t=App.FK.hsx(e.mu.tid);e.gy>=e.qv.maxgrade?(e.needTxt.text=fvg.GVf("public022",t,"MAX"),e.needTxt.textColor=Color.XB,e.upgradeBtn.visible=!1,e.maxTxt.text=fvg.GVf("skill006")):(e.needTxt.text=fvg.GVf("public022",t,e.mu.count),e.needTxt.textColor=t>=e.mu.count?Color.TX:Color.KA,e.upgradeBtn.icon=e.gy<e.lz&&t>=e.mu.count?StaticData.GHj:null)}},t.prototype.px=function(){var e=this,t=App.XB.godSkillInfo[1]||0,n=App.XB.getOuterTempByGrade(t);t=t>0&&n?n.sort:0;var i=App.XB.getEnchLimitGrade(e.sc,t,e.qv.p5);return i},t.prototype.fz=function(){var e=this;if(!e.dr)return 0;var t=999;for(var n in e.dr)parseInt(n)<t&&e.dr[n]>0&&(t=parseInt(n));return t},t.prototype.pd=function(){var e=this;if(!e.dr)return 0;var t=999,n=App.XB.godSkillInfo[1]||0,i=App.XB.getOuterTempByGrade(n);n=i?i.sort:0;var r;for(var a in e.dr)r=parseInt(a),r>n&&t>r&&(t=r);return t},t.prototype.os=function(e){var t=this;if(t.mu){if(t.gy>=t.lz)return void App.TT.show(t.openTxt.text);var n=App.FK.hsx(t.mu.tid);return n<t.mu.count?void _JDW.TR(t.mu.tid):void AjJ.FJ(t.sc)}},t.prototype.uj=function(){this.wx()},t.prototype.yv=function(e){this.eh()},t.prototype.ks=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.openTxt),t.openTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.currtitleTxt),t.currtitleTxt=null,GObj.$d(t.nexttitleTxt),t.nexttitleTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.maxTxt),t.maxTxt=null,t.qv=null,t.mu=null,t.dr=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillOuterEnchPopUi.prototype,"GodSkillOuterEnchPopUi");var GodSkillOuterPopUi=function(e){function t(){var t=e.call(this,"GodSkillOuterPopUi")||this;return t.uv=1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.sj=-1,e.de=GObj.$c(nlwj),e.outputBtn.label=fvg.GVf("harry9"),e.upgradeBtn.label=fvg.GVf("godskill7"),e.oneKeyBtn.label=fvg.GVf("godskill6"),e.expTxt.text=fvg.GVf("martialart113"),e.capView=GObj.$c(FightView),e.capView.x=117,e.capView.y=47,e.addChild(e.capView),e.en=GObj.$c(GeneralStarView),e.en.maxStar=10,e.en.star_width=29,e.en.open_star_key=["godskill_json.godskill_star_1_png"],e.en.close_star_key="godskill_json.godskill_star_2_png",e.en.x=140,e.en.y=620,e.addChild(e.en),e.ow=GObj.$c(MeanEffect),e.ow.touchEnabled=e.ow.touchChildren=!1,e.ow.start(gYq.LY,120),e.ow.x=40,e.ow.y=74,e.addChildAt(e.ow,5),e.zm={};var t=XCA.AQS.oVs(30);for(var n in t)e.zm[n]=t[n][1]},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.fg,e),e.oneKeyBtn.addEventListener(eui.tep,e.b_,e),e.upStageBtn.addEventListener(eui.tep,e.dn,e),e.typeBtn_1.addEventListener(eui.tep,e.no,e),e.typeBtn_2.addEventListener(eui.tep,e.no,e),e.typeBtn_3.addEventListener(eui.tep,e.no,e),e.typeBtn_4.addEventListener(eui.tep,e.no,e),e.allSkillBtn.addEventListener(eui.tep,e.rt,e),e.outputBtn.addEventListener(eui.tep,e.ba,e),vkG.$a(UtJ.AV,e.kl,e),vkG.$a(UtJ.RTW,e.bb,e),vkG.$a(UtJ.DV,e.bq,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.fg,e),e.oneKeyBtn.removeEventListener(eui.tep,e.b_,e),e.upStageBtn.removeEventListener(eui.tep,e.dn,e),e.typeBtn_1.removeEventListener(eui.tep,e.no,e),e.typeBtn_2.removeEventListener(eui.tep,e.no,e),e.typeBtn_3.removeEventListener(eui.tep,e.no,e),e.typeBtn_4.removeEventListener(eui.tep,e.no,e),e.allSkillBtn.removeEventListener(eui.tep,e.rt,e),e.outputBtn.removeEventListener(eui.tep,e.ba,e),vkG.$r(UtJ.AV,e.kl,e),vkG.$r(UtJ.RTW,e.bb,e),vkG.$r(UtJ.DV,e.bq,e)},t.prototype.initData=function(){var e=this;e.jy(),e.kl()},t.prototype.jy=function(){var e=this;if(e.yo=App.XB.godSkillInfo[e.uv]||0,e.title=fvg.GVf("godskills1"),e.rg=App.XB.getOuterTempByGrade(e.yo),e.rg){if(e.gradeTxt.text=e.rg.name,e.descTxt.text=e.rg.desc,e.yo>0){var t=e.yo%10;e.en.currStar=t?t:10}else e.en.currStar=0;e.br();var n=App.XB.godSkillInfo["cap_"+e.uv]||0;if(e.capView.fightNum=n,e.upLimitTxt.text=fvg.GVf("godskill5",App.XB.godSkillInfo.odav||0,e.rg.p2),e.yo>=e.rg.maxgrade)return e.progBar.value=100,e.progTxt.text="MAX",e.upgradeBtn.visible=!1,e.oneKeyBtn.visible=!1,e.upStageBtn.visible=!1,e.icon_1.visible=!1,e.icon_2.visible=!1,e.needTxt_1.visible=!1,e.needTxt_2.visible=!1,e.bgImg_1.visible=!1,e.bgImg_2.visible=!1,void(e.maxTxt.text=fvg.GVf("skill006"));e.ww=XCA.AQS.UFA(29,e.uv,e.yo+1);var i=App.XB.godSkillInfo.otav||0,r=!!e.ww&&i>=(e.ww.p1||0);e.upgradeBtn.visible=e.oneKeyBtn.visible=!r,e.icon_1.visible=e.icon_2.visible=!r,e.needTxt_1.visible=e.needTxt_2.visible=!r,e.bgImg_1.visible=e.bgImg_2.visible=!r,e.upStageBtn.visible=r;var a=0;e.ww?(a=e.ww.p1||0,r?(e.upStageBtn.label=e.yo?fvg.GVf("specia001"):fvg.GVf("public012"),e.mb()):e.zu()):(a=App.JUY.getUpgradeCount(e.rg.p5,e.yo+1),e.zu());var o=App.JUY.getUpgradeCount(e.rg.p5,e.yo)||e.rg.p1||0;e.progTxt.text=fvg.GVf("public022",i-o,a-o),e.progBar.value=Math.min(int((i-o)/(a-o)*100),100),-1!=e.sj&&e.sj!=e.yo&&App.KB.showEffect(gYq.UQ),e.sj=e.yo}},t.prototype.br=function(){var e=this;return e.currAttrTxt.text=e.es(e.yo),e.yo>=e.rg.maxgrade?void(e.nextAttrTxt.textFlow=LgRe.OQ(fvg.GVf("martialart120"))):void(e.nextAttrTxt.text=e.es(e.yo+1))},t.prototype.es=function(e){var t,n,i="",r=XCA.YV(this.rg.attrid);if(r){for(t in xxf.UK)n=App.JP.getGodSkillAttr(r[t],e)||0,r[t]&&(n=0==e?0:n,i+=fvg.GVf("skill004",xxf.UK[t],n)+"\n");for(t in xxf.IM)n=App.JP.getGodSkillAttr(r[t],e)||0,n&&(i+=fvg.GVf("skill004",xxf.IM[t],(n/10).toFixed(1)+"%")+"\n")}return i},t.prototype.mb=function(){var e=this,t=App.XB.godSkillInfo.otav||0;e.upStageBtn.icon=t>=(e.ww.p1||0)?StaticData.GHj:null},t.prototype.zu=function(){var e=this;e.de.tid=parseInt(e.rg.cost),e.de.count=1;var t=App.FK.hsx(e.de.tid);e.needTxt_1.text=fvg.GVf("public022",t,e.de.count),e.needTxt_1.textColor=t>=e.de.count?Color.TX:Color.KA,e.needTxt_2.text=toChars(t),e.needTxt_2.textColor=t>=e.de.count?Color.TX:Color.KA,e.upgradeBtn.icon=t>=e.de.count?StaticData.GHj:null,e.oneKeyBtn.icon=t>=e.de.count?StaticData.GHj:null},t.prototype.bb=function(){this.jy()},t.prototype.kl=function(){var e,t,n=this;for(e in n.zm)t=App.XB.godSkillEnch[e]||0,this["typeBtn_"+e].label=n.zm[e].name+fvg.GVf("public028",t),this["typeBtn_"+e].backDisplay.source=t>0?"godskill_json.god_skill_st"+e+"_png":"godskill_json.god_skill_unopen_"+e+"_png";n.uf()},t.prototype.uf=function(){var e,t=this;for(e in t.zm)this["typeBtn_"+e].icon=UsU.SC(t.zm[e])?StaticData.GHj:null},t.prototype.bq=function(e){var t=this;t.rg&&(t.zu(),t.uf())},t.prototype.fg=function(e){var t=this;if(t.de){var n=App.FK.hsx(t.de.tid);return n<t.de.count?void _JDW.TR(t.de.tid):void AjJ.IY(1)}},t.prototype.b_=function(e){var t=this;if(t.de){var n=App.FK.hsx(t.de.tid);return n<t.de.count?void _JDW.TR(t.de.tid):void AjJ.IY(2)}},t.prototype.dn=function(e){var t=this;if(t.de)return t.upStageBtn.icon?void AjJ.IY(3):void _JDW.TR(StaticData.TID_GOODS_14)},t.prototype.no=function(e){var t,n=this,i=e.currentTarget;switch(i){case n.typeBtn_1:t=1;break;case n.typeBtn_2:t=2;break;case n.typeBtn_3:t=3;break;case n.typeBtn_4:t=4}App.VS.popup(10052,GodSkillOuterEnchPopUi,null,t)},t.prototype.rt=function(e){App.VS.popup(10052,GodSkillOuterAllPopUi)},t.prototype.ba=function(e){App.VS.popup(10052,GodSkillOuterDescPopUi)},t.prototype.mv=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.ow&&(t.ow.stop(),GObj.$d(t.ow),t.ow=null),GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.typeBtn_1),t.typeBtn_1=null,GObj.$d(t.typeBtn_2),t.typeBtn_2=null,GObj.$d(t.typeBtn_3),t.typeBtn_3=null,GObj.$d(t.typeBtn_4),t.typeBtn_4=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.bgImg_1),t.bgImg_1=null,GObj.$d(t.bgImg_2),t.bgImg_2=null,GObj.$d(t.upLimitTxt),t.upLimitTxt=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.outputBtn),t.outputBtn=null,GObj.$d(t.icon_1),t.icon_1=null,GObj.$d(t.icon_2),t.icon_2=null,GObj.$d(t.upStageBtn),t.upStageBtn=null,GObj.$d(t.allSkillBtn),t.allSkillBtn=null,GObj.$d(t.en),t.en=null,GObj.$d(t.capView),t.capView=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.expTxt),t.expTxt=null,t.rg=null,t.ww=null,t.de=null,t.zm=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GodSkillOuterPopUi.prototype,"GodSkillOuterPopUi");var GodSkillView=function(e){function t(){var t=e.call(this,"GodSkillView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e&&e.length>0},t.prototype.initView=function(){},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.btn_1.addEventListener(eui.tep,t.ug,t),t.btn_2.addEventListener(eui.tep,t.mg,t),t.btn_3.addEventListener(eui.tep,t.xj,t),vkG.$a(UtJ.RTW,t.rn,t),vkG.$a(UtJ.AV,t.rn,t),vkG.$a(UtJ.BH,t.rn,t),vkG.$a(UtJ.ITK,t.rn,t),vkG.$a(UtJ.CK,t.rn,t),vkG.$a(UtJ.FU,t.rn,t)},t.prototype.removeEvent=function(){var e=this;e.btn_1.removeEventListener(eui.tep,e.ug,e),e.btn_2.removeEventListener(eui.tep,e.mg,e),e.btn_3.removeEventListener(eui.tep,e.xj,e),vkG.$r(UtJ.RTW,e.rn,e),vkG.$r(UtJ.AV,e.rn,e),vkG.$r(UtJ.BH,e.rn,e),vkG.$r(UtJ.ITK,e.rn,e),vkG.$r(UtJ.CK,e.rn,e),vkG.$r(UtJ.FU,e.rn,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.rn()},t.prototype.ug=function(e){App.VS.popup(10052,GodSkillOuterPopUi)},t.prototype.mg=function(e){return App.KF.chapter<StaticData.GOD_SKILL_INTER_CH?void App.TT.show(fvg.GVf("public044",StaticData.GOD_SKILL_INTER_CH)):void App.VS.popup(10052,GodSkillInterPopUi)},t.prototype.xj=function(e){var t=this,n=t.cv+t.pt,i=XCA.CG(IDU.UI)||"0";return n<parseInt(i)?void App.TT.show(fvg.GVf("godskill17")):void App.VS.popup(10052,GodSkillJinguPopUi)},t.prototype.rn=function(){var e=this;(App.XB.godSkillInfo.cap||0)+(App.XB.godSkillInterInfo.cap||0)+(App.XB.godSkillJinguInfo.cap||0);e.cv=App.XB.godSkillInfo[1]||0,e.pt=App.XB.godSkillInterInfo[2]||0,e.btn_1.icon=UsU.GJ()?StaticData.GHj:null,e.btn_2.icon=UsU.AVA()?StaticData.GHj:null,e.btn_3.icon=UsU.BS()?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.btn_1),t.btn_1=null,GObj.$d(t.btn_2),t.btn_2=null,GObj.$d(t.btn_3),t.btn_3=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GodSkillView.prototype,"GodSkillView");var GodSuitFrame=function(e){function t(){var t=e.call(this,"GodSuitFrame")||this;return t.skinName=RRUU.$s("GodSuitFrame"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.godBtn.label=fvg.GVf("godsuit01"),e.immortalBtn.label=fvg.GVf("godsuit02"),e.devilBtn.label=fvg.GVf("godsuit03"),e.dy=GObj.$c(kQr),e.dy.cwA(e.godBtn),e.dy.cwA(e.immortalBtn),e.dy.cwA(e.devilBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.dy.addEventListener(egret.Event.CHANGE,t.iq,t),t.devilBtn.addEventListener(eui.tep,t.kt,this,!0,99),t.immortalBtn.addEventListener(eui.tep,t.sh,this,!0,100),vkG.$a(UtJ.DV,t.nl,t),vkG.$a(UtJ._Q,t.nl,t),vkG.$a(UtJ.XGU,t.nl,t)},t.prototype.removeEvent=function(){var e=this;e.dy.removeEventListener(egret.Event.CHANGE,e.iq,e),e.devilBtn.removeEventListener(eui.tep,e.kt,e),e.immortalBtn.removeEventListener(eui.tep,e.sh,e),vkG.$r(UtJ.DV,e.nl,e),vkG.$r(UtJ._Q,e.nl,e),vkG.$r(UtJ.XGU,e.nl,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.defaultIndex(0),t.nl()},t.prototype.defaultIndex=function(e){var t=this;t.dy&&(t.dy.selectedIndex=e||0)},t.prototype.iq=function(e){var t=this,n=t.dy.LuO;switch(t.fu&&(t.fu.visible=!1),t.fu=null,n){case t.godBtn:t.vm||(t.vm=GObj.$c(GodSuitView),t.vm.x=0,t.vm.y=0,t.addChildAt(t.vm,0)),t.fu=t.vm,t.title="godsuit_json.godsuit_title_png";break;case t.immortalBtn:t.g_||(t.g_=GObj.$c(ImmortalSuitView),t.g_.x=0,t.g_.y=0,t.addChildAt(t.g_,0)),t.fu=t.g_,t.title="godsuit_json.godsuit_fairy_title_png"}t.fu&&(t.fu.visible=!0)},t.prototype.nl=function(e){this.wp()},t.prototype.kt=function(e){msgTip(fvg.GVf("godsuit18")),e.stopPropagation(),e.stopImmediatePropagation()},t.prototype.wp=function(){var e=this;e.immortalBtn.icon=UsU.AR()?StaticData.GHj:null,e.godBtn.icon=UsU.RA()?StaticData.GHj:null},t.prototype.sh=function(e){},t.prototype.oz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.godBtn),t.godBtn=null,GObj.$d(t.immortalBtn),t.immortalBtn=null,GObj.$d(t.devilBtn),t.devilBtn=null,GObj.$d(t.dy),t.dy=null,GObj.$d(t.vm),t.vm=null,GObj.$d(t.g_),t.g_=null,t.fu=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GodSuitFrame.prototype,"GodSuitFrame");var GodSuitItemView=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"GodSuitItemView")||this;n._equipType=t;var i=RRUU.$s("GodSuitItemView");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.preTab="",e.preGrade=0,e._isShowUpgradeEff=!0,e.selected=!1,e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.HG,e.qb,e),vkG.$a(UtJ.MF,e.qb,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.HG,e.qb,e),vkG.$r(UtJ.MF,e.qb,e)},t.prototype.initData=function(){var e=this;e.sr(),e.updateGradeTxt(),e.zp()},t.prototype.qb=function(){this.updateGradeTxt()},t.prototype.ku=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;t._data=e,t._itemView.data=t._data,t._typeIcon.visible=!t._data,t.checkTypeIcon(),t.zp()},enumerable:!0,configurable:!0}),t.prototype.zp=function(){var e=this;if(e._data){e._data.TSF.step;e.stepTxt.text="+"+QNV.OV(e._data.tid),e.bgImg.visible=!0}else e.stepTxt.text="",e.bgImg.visible=!1;e._tabType==StoreItemView.NO&&e._data||e._tabType==StoreItemView.NO&&(e.stepTxt.text=fvg.GVf("public030"))},t.prototype.sr=function(){var e=this;Iwrv.MA.indexOf(e._equipType)>=0?e._typeIcon.texture=RES.getRes("frame_json.equip_"+(e._equipType-400)+"_png"):Iwrv.SA.indexOf(e._equipType)>=0?e._typeIcon.texture=RES.getRes("frame_json.equip_"+(e._equipType-500)+"_png"):e._typeIcon.texture=null},t.prototype.checkTypeIcon=function(){var e=this;e._tabType!=StoreItemView.HD?(e._typeIcon.visible=!e._data,e._itemView.data=e._data):e._data&&e._data.quality>=aKF.KY?(e._typeIcon.visible=!1,e._itemView.data=e._data):(e._typeIcon.visible=!0,e._itemView.data=null)},Object.defineProperty(t.prototype,"equipType",{get:function(){return this._equipType},set:function(e){var t=this;t._equipType=e,t.sr()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabType",{get:function(){return this._tabType},set:function(e){var t=this;t._tabType=e,t.updateGradeTxt(),t.checkTypeIcon()},enumerable:!0,configurable:!0}),t.prototype.updateGradeTxt=function(){var e=this;e._currGrade=0,e._tabType==StoreItemView.ZS?e._currGrade=App.HG.intensifyInfo[e.equipType]||0:e._tabType==StoreItemView.DX?e._currGrade=App.HG.upstarInfo[e.equipType]||0:e._tabType==StoreItemView.HG?e._currGrade=QNV.OV(e._data.tid):e._tabType==StoreItemView.TU&&(e._currGrade=QNV.OV(e._data.tid)),e.checkUpgrade()},t.prototype.checkUpgrade=function(){},t.prototype._k=function(e){var t=this;t._redPoint.visible=e,e&&!t._redPoint.texture&&(t._redPoint.texture=RES.getRes("core_json.redPoint_png"))},Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowUpgradeEff",{get:function(){return this._isShowUpgradeEff},set:function(e){this._isShowUpgradeEff=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._selectedBack.visible=t._selected},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._selectedBack),t._selectedBack=null,GObj.$d(t._redPoint),t._redPoint=null,GObj.$d(t._itemView),t._itemView=null,GObj.$d(t._typeIcon),t._typeIcon=null,GObj.$d(t.stepTxt),t.stepTxt=null,t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.ku,t)),GObj.$d(t.weS),t.weS=null,GObj.$d(t.bgImg),t.bgImg=null,t._data=null,e.prototype.dispose.call(this)},t.OP="tab_intensify",t.YJ="tab_gem",t.NW="tab_upstar",t.JY="tab_forge",t.RB="tab_castingSoul",t.VK="tab_signSoul",t.GD="tab_repair",t}(BaseUI);__reflect(GodSuitItemView.prototype,"GodSuitItemView",["ISelectedButton","egret.IEventDispatcher"]);var GodSuitView=function(e){function t(){var t=e.call(this,"GodSuitView")||this;return t.dy=!1,t.skinName=RRUU.$s("GodSuitView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rz=-1,e.mx=0,e.mzd=fvg.GVf("godsuit06").split(","),e.compBtn.label=fvg.GVf("store012"),e.currGrade.text="",e.nextGrade.text="",e.np=GObj.$c(nlwj),e.pd=GObj.$c(StoreItemView),e.pd.x=165,e.pd.y=245,e.pd.isShowUpgradeEff=!1,e.hn=GObj.$c(StoreItemView),e.hn.x=379,e.hn.y=245,e.hn.isShowUpgradeEff=!1,e.addChild(e.pd),e.addChild(e.hn),e.rateView=GObj.$c(NumberView),e.rateView.x=172,e.rateView.y=475,e.addChild(e.rateView),e.attackView=GObj.$c(NumberView),e.attackView.x=200,e.attackView.y=505,e.addChild(e.attackView),e.itemArray=[];var t,n=Iwrv.MA;e.equipGroup=GObj.$c(kQr);for(var i=0;i<n.length;i++)t=GObj.$c(GodSuitItemView,n[i]),e.itemArray.push(t),e.equipGroup.cwA(t),e.itemGroup.addChild(t)},t.prototype.initData=function(){var e=this;e.equipGroup.selectedIndex=0,e.lc(),e.xa(null)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.decomposeBtn.addEventListener(eui.tep,t.ak,t),t.suitBtn.addEventListener(eui.tep,t.ts,t),t.equipGroup.addEventListener(egret.Event.CHANGE,t.lv,t),t.pd.addEventListener(eui.tep,t.qf,t),t.hn.addEventListener(eui.tep,t.mr,t),t.compBtn.addEventListener(eui.tep,t.wdq,t),t.pd.addEventListener(eui.tep,t.qf,t),t.hn.addEventListener(eui.tep,t.mr,t),vkG.$a(UtJ.DV,t.xa,t),vkG.$a(UtJ._Q,t.td,t)},t.prototype.removeEvent=function(){var e=this;e.decomposeBtn.removeEventListener(eui.tep,e.ak,e),e.suitBtn.removeEventListener(eui.tep,e.ts,e),e.equipGroup.removeEventListener(egret.Event.CHANGE,e.lv,e),e.pd.removeEventListener(eui.tep,e.qf,e),e.hn.removeEventListener(eui.tep,e.mr,e),e.compBtn.removeEventListener(eui.tep,e.wdq,e),e.pd.removeEventListener(eui.tep,e.qf,e),e.hn.removeEventListener(eui.tep,e.mr,e),vkG.$r(UtJ.DV,e.xa,e),vkG.$r(UtJ._Q,e.td,e)},t.prototype.nh=function(){for(var e,t=0,n=Iwrv.MA,i=0;i<n.length;i++)e=GxD.instance.Fkl(12,n[i]),e.length>0&&e[0].TSF&&(t+=e[0].TSF.p2||0);var r=XCA.AQS.UFA(36,7,_NR.instance.godSuitMaster);if(r){var a=XCA.YV(r.attrid);a&&(t+=a.p1||0)}this.fightView.fightNum=t},t.prototype.ak=function(e){rRcz.FG(2)},t.prototype.ts=function(){App.VS.popup(10141,SuitMasterView,null,7)},t.prototype.xa=function(e){this.le()},t.prototype.le=function(){for(var e=this,t=Iwrv.MA.length,n=0;t>n;n++){var i=e.itemArray[n];i&&(i.icon=App.FK.searchMoreEquip(i.equipType)||UsU.WT(i.equipType)||App.FK.searchMoreEquip(i.equipType,!0)?StaticData.GHj:null)}e.compBtn.icon=App.FK.searchMoreEquip(e.equipType,!0)||UsU.WT(e.equipType)?StaticData.GHj:null,App.FK.searchMoreEquip(e.equipType,!0)?e.compBtn.label=fvg.GVf("appell1"):e.compBtn.label=fvg.GVf("store012"),e.decomposeBtn.icon=UsU.checkResolveColorEqui()?StaticData.GHj:null},t.prototype.lv=function(e){var t=this,n=t.equipGroup.selectedIndex;t.selectedPartsTxt.text=t.mzd[n];var i=t.equipGroup.LuO;i&&(t.equipType=i.equipType)},t.prototype.lc=function(){var e=this;if(e.jb(),e.CSo&&e.lb){e.dy=!1,e.ab=App.FK.Fkl(12,e.lb)[0],e.pd.equipType=e.lb,e.pd.tabType=GodSuitItemView.JY,e.pd.data=e.ab;var t=XCA.CG(IDU.EX).split(QycO.XP);e.FistComp=!!e.ab||t.indexOf(toChars(e.lb))<0;var n;if(e.ab&&(n=e.ab.TSF,n&&(e.dy=QNV.OV(e.ab.tid)>=25&&e.ab.quality>=aKF.KY,e.currGrade.text=fvg.GVf("skill020",QNV.OV(n.tid)))),e.np.tid=0,e.tt=App.PI.getComposeByMat(e.ab?e.ab.tid:0)[0],e.tt)e.np.tid=e.tt.nmat;else{var i=App.PI.getTidByGodSuitEquipSubType(e.lb);e.tt=XCA.RW(i),e.tt&&(e.np.tid=e.tt.nmat)}e.am(),e.jw(),e.updateNeedCount(),e.br(),e.dy?(e.pd.visible=!0,e.currAttrsTxt.visible=!0,e.pd.x=203,e.pd.y=147,e.currAttrsTxt.x=173,e.currGrade.x=212,e.currGrade.y=235,e.arrowImg.visible=!1,e.attrArrowImg.visible=!1,e.hn.visible=!1,e.bgImg.source="godsuit_json.godsuit_bg1_png"):(e.hn.equipType=e.lb,e.hn.tabType=GodSuitItemView.VK,e.hn.data=e.np,e.hn.visible=!0,e.ab&&e.ab.quality>=aKF.KY?(e.pd.visible=!0,e.attrArrowImg.visible=!0,e.currAttrsTxt.visible=!0,e.nextAttrsTxt.visible=!0,e.arrowImg.visible=!0,e.pd.x=141,e.pd.y=147,e.hn.x=264,e.hn.y=147,e.currAttrsTxt.x=92,e.nextAttrsTxt.x=282,e.nextGrade.x=272,e.nextGrade.y=235,e.bgImg.source="godsuit_json.godsuit_bg2_png"):(e.currAttrsTxt.visible=!1,e.nextGrade.x=212,e.nextGrade.y=235,e.pd.visible=!1,e.attrArrowImg.visible=!1,e.hn.x=203,e.hn.y=147,e.arrowImg.visible=!1,e.nextAttrsTxt.x=173,e.bgImg.source="godsuit_json.godsuit_bg1_png")),e.hn.visible=!e.dy,e.nextAttrsTxt.visible=!e.dy,e.rz=e.lb,e.ab&&(e.mx=e.ab.tid),e.le(),e.nh()}},t.prototype.jb=function(){for(var e,t=Iwrv.MA,n=0;n<t.length;n++)e=GxD.instance.Fkl(12,t[n]),e.length>0&&(this.itemArray[n].data=e[0])},t.prototype.cu=function(e){},t.prototype.am=function(){var e=this;if(e.currAttrsTxt.text="",e.ab){var t=e.ab.TSF.p1;e.currAttrsTxt.text=LRJ.KG(t)||""}var n=e.ab&&e.ab.quality>=aKF.KY;e.currGrade.text=n?fvg.GVf("godsuit09",QNV.OV(e.ab.TSF.tid)||0):QycO.OK},t.prototype.jw=function(){var e=this;if(e.nextAttrsTxt.text="",e.nextGrade.text="",e.tt&&!e.dy){var t=XCA.FR(e.tt.nmat);if(t){var n=t.p1;e.ab&&e.ab.quality>=aKF.KY?e.nextAttrsTxt.text=LRJ.JN(n):e.nextAttrsTxt.text=LRJ.KG(n)||""}e.nextGrade.text=fvg.GVf("godsuit09",QNV.OV(t.tid))}},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.lb},set:function(e){var t=this;t.lb=e,t.lc()},enumerable:!0,configurable:!0}),t.prototype.br=function(){var e=this,t=LRJ.FN(e.qy()),n=((50+(t.zhitrate||0))/10).toFixed(1),i=((2e3+(t.zhitdamrate||0))/10).toFixed(1);hFO.instance.getNumberView(bRC.GM,Nkz.GA(n.toString())+"b",2,e.rateView),hFO.instance.getNumberView(bRC.GM,Nkz.GA(i.toString())+"b",2,e.attackView),e.validateNow(),e.descImg_1.x=e.rateView.x+e.rateView.width+3,e.descImg_2.x=e.attackView.x+e.attackView.width+3},t.prototype.qy=function(){for(var e=[],t=Iwrv.MA.length,n=0;t>n;n++){var i=GxD.instance.Fkl(12,Iwrv.MA[n])[0];if(i){var r=i.TSF.p1,a=XCA.YV(r);a&&e.push(a)}}var o=XCA.AQS.UFA(36,7,1);if(o){var r=o.attrid,s=App.HG.godSuitMaster,a=XCA.YV(r+s);e.push(a)}return e},t.prototype.updateNeedCount=function(){var e=this;if(!e.tt||e.dy)return e.costImg.source="godsuit_json.god_suit_icon_png",e.needTxt.textColor=Color.HE,void(e.needTxt.text="0");if(e.FistComp){e.costImg.source="godsuit_json.god_suit_icon_png";var t=App.FK.hsx(e.tt.mat2),n=e.tt.ct2;e.needTxt.text=e.dy?"MAX":fvg.GVf("public022",t,n),e.needTxt.textColor=e.dy?Color.KA:t>=n?Color.TX:Color.KA}else e.costImg.source="godsuit_json.equip_"+e.equipType+"_png",App.FK.searchMoreEquip(e.equipType,!0)?(e.needTxt.text=fvg.GVf("public022",1,1),e.needTxt.textColor=Color.TX):(e.needTxt.text=fvg.GVf("public022",0,1),e.needTxt.textColor=Color.KA);e.compBtn.icon=UsU.WT(e.lb)?StaticData.GHj:null},t.prototype.qf=function(e){var t=this;!t.ab||t.ab.quality<aKF.KY},t.prototype.mr=function(e){},t.prototype.wdq=function(e){var t=this,n=App.FK.searchMoreEquip(t.equipType,!0);if(n)return void GoodsMsgProxy.QA(n.btype,n.id,n.tid);if(!t.tt||!t.np.TSF)return void App.TT.show(fvg.GVf("store103"));if(!t.FistComp)return void _JDW.TR(t.tt.nmat);if(t.dy)return void App.TT.show(fvg.GVf("godsuit16"));var i=t.np.canWear;if(i)return void App.TT.show(fvg.GVf("godsuit10"));var r=App.FK.hsx(t.tt.mat2),a=t.tt.ct2;return a>r?void _JDW.TR(t.tt.mat2):void GoodsMsgProxy.HF(t.tt.id)},t.prototype.td=function(){var e=this,t=App.FK.Fkl(12,e.lb);
t.length>0&&e.ab!=t[0]&&e.lc()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.arrowImg),t.arrowImg=null,GObj.$d(t.currAttrsTxt),t.currAttrsTxt=null,GObj.$d(t.nextAttrsTxt),t.nextAttrsTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.compBtn),t.compBtn=null,GObj.$d(t.pd),t.pd=null,GObj.$d(t.hn),t.hn=null,GObj.$d(t.attrArrowImg),t.attrArrowImg=null,GObj.$d(t.selectedPartsTxt),t.selectedPartsTxt=null,GObj.$d(t.decomposeBtn),t.decomposeBtn=null,GObj.$d(t.costGroup),t.costGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.suitBtn),t.suitBtn=null,GObj.$d(t.rateView),t.rateView=null,GObj.$d(t.attackView),t.attackView=null,GObj.$d(t.descImg_1),t.descImg_1=null,GObj.$d(t.descImg_2),t.descImg_2=null,t.itemArray){for(var n=t.itemArray.length,i=0;n>i;i++)GObj.$d(t.itemArray[i]);t.itemArray.length=0,t.itemArray=null}t.tt=null,t.ab=null,t.np=null,t.currGrade=null,t.nextGrade=null,t.mzd=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(GodSuitView.prototype,"GodSuitView");var ImmortalSuitView=function(e){function t(){var t=e.call(this,"ImmortalSuitView")||this;return t.fu=!1,t.skinName=RRUU.$s("ImmortalSuitView"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.hx=fvg.GVf("godsuit06").split(","),e.compBtn.label=fvg.GVf("store012"),e.currGrade.text="",e.nextGrade.text="",e.lo=GObj.$c(nlwj),e.eu=GObj.$c(StoreItemView),e.eu.x=165,e.eu.y=427,e.eu.isShowUpgradeEff=!1,e.pr=GObj.$c(StoreItemView),e.pr.x=379,e.pr.y=427,e.pr.isShowUpgradeEff=!1,e.addChild(e.eu),e.addChild(e.pr),e.rateView=GObj.$c(NumberView),e.rateView.x=172,e.rateView.y=475,e.addChild(e.rateView),e.attackView=GObj.$c(NumberView),e.attackView.x=126,e.attackView.y=505,e.addChild(e.attackView),e.itemArray=[];var t,n=Iwrv.SA;e.equipGroup=GObj.$c(kQr);for(var i=0;i<n.length;i++)t=GObj.$c(GodSuitItemView,n[i]),e.itemArray.push(t),e.equipGroup.cwA(t),e.itemGroup.addChild(t)},t.prototype.initData=function(){var e=this;e.equipGroup.selectedIndex=0,e.cg(),e.fe(null)},t.prototype.initEvent=function(){var e=this;e.decomposeBtn.addEventListener(eui.tep,e.nw,e),e.suitBtn.addEventListener(eui.tep,e.au,e),e.equipGroup.addEventListener(egret.Event.CHANGE,e.vb,e),e.eu.addEventListener(eui.tep,e._d,e),e.pr.addEventListener(eui.tep,e.db,e),e.compBtn.addEventListener(eui.tep,e.kc,e),vkG.$a(UtJ.DV,e.fe,e),vkG.$a(UtJ.XGU,e.ge,e)},t.prototype.removeEvent=function(){var e=this;e.decomposeBtn.removeEventListener(eui.tep,e.nw,e),e.suitBtn.removeEventListener(eui.tep,e.au,e),e.equipGroup.removeEventListener(egret.Event.CHANGE,e.vb,e),e.eu.removeEventListener(eui.tep,e._d,e),e.pr.removeEventListener(eui.tep,e.db,e),e.compBtn.removeEventListener(eui.tep,e.kc,e),vkG.$r(UtJ.DV,e.fe,e),vkG.$r(UtJ.XGU,e.ge,e)},t.prototype.cg=function(){var e=this;if(e.pq(),e.CSo&&e.bi){e.fu=!1,e.cv=App.FK.Fkl(13,e.bi)[0],e.eu.equipType=e.bi,e.eu.tabType=StoreItemView.HD,e.eu.data=e.cv;var t=XCA.CG(IDU.EC).split(QycO.XP);e.FistComp=!!e.cv||t.indexOf(toChars(e.bi))<0;var n;if(e.cv&&(n=e.cv.TSF,n&&(e.fu=QNV.OV(e.cv.tid)>=25&&e.cv.quality>=aKF.KY)),e.lo.tid=0,e.zg=App.PI.getFairysuitComposeByMat(e.cv?e.cv.tid:0)[0],e.zg)e.lo.tid=e.zg.nmat;else{var i=App.PI.getTidByFairySuitEquipSubType(e.bi);i&&(e.zg=XCA.RW(i),e.lo.tid=e.zg.nmat)}e.zf(),e.hp(),e.updateNeedCount(),e.sg(),e.fu?(e.eu.visible=!0,e.currAttrsTxt.visible=!0,e.eu.x=203,e.eu.y=147,e.currAttrsTxt.x=173,e.currGrade.x=212,e.currGrade.y=235,e.arrowImg.visible=!1,e.attrArrowImg.visible=!1,e.pr.visible=!1,e.bgImg.source="godsuit_json.godsuit_bg1_png"):(e.pr.equipType=e.bi,e.pr.tabType=StoreItemView.HD,e.pr.data=e.lo,e.pr.visible=!0,e.cv&&e.cv.quality>=aKF.KY?(e.eu.visible=!0,e.attrArrowImg.visible=!0,e.currAttrsTxt.visible=!0,e.nextAttrsTxt.visible=!0,e.arrowImg.visible=!0,e.eu.x=141,e.eu.y=147,e.pr.x=264,e.pr.y=147,e.currAttrsTxt.x=92,e.nextAttrsTxt.x=282,e.currGrade.x=150,e.nextGrade.x=272,e.nextGrade.y=235,e.bgImg.source="godsuit_json.godsuit_bg2_png"):(e.currAttrsTxt.visible=!1,e.nextGrade.x=212,e.nextGrade.y=235,e.eu.visible=!1,e.attrArrowImg.visible=!1,e.pr.x=203,e.pr.y=147,e.arrowImg.visible=!1,e.nextAttrsTxt.x=173,e.bgImg.source="godsuit_json.godsuit_bg1_png")),e.pr.visible=!e.fu,e.nextAttrsTxt.visible=!e.fu,e.yo(),e.me()}},t.prototype.me=function(){for(var e,t=0,n=Iwrv.SA,i=0;i<n.length;i++)e=GxD.instance.Fkl(13,n[i]),e.length>0&&e[0].TSF&&(t+=e[0].TSF.p2||0);var r=XCA.AQS.UFA(36,8,_NR.instance.fairySuitMaster);if(r){var a=XCA.YV(r.attrid);a&&(t+=a.p1||0)}this.fightView.fightNum=t},t.prototype.nw=function(e){rRcz.FG(2)},t.prototype.au=function(){App.VS.popup(10141,SuitMasterView,null,8)},t.prototype.vb=function(e){var t=this,n=t.equipGroup.selectedIndex;t.selectedPartsTxt.text=t.hx[n];var i=t.equipGroup.LuO;i&&(t.equipType=i.equipType)},t.prototype._d=function(e){},t.prototype.db=function(e){},t.prototype.kc=function(e){var t=this,n=App.FK.searchMoreImmEquip(t.equipType,!0);if(n)return void GoodsMsgProxy.QA(n.btype,n.id,n.tid);if(!t.zg||!t.lo.TSF)return void App.TT.show(fvg.GVf("store103"));if(t.fu)return void App.TT.show(fvg.GVf("godsuit16"));var i=t.lo.canWear;if(i)return void App.TT.show(fvg.GVf("godsuit10"));var r=App.FK.hsx(t.zg.mat2),a=t.zg.ct2;return a>r?void _JDW.TR(t.zg.mat2):void GoodsMsgProxy.WE(t.zg.id)},t.prototype.fe=function(e){var t=this;t.yo(),t.updateNeedCount()},t.prototype.yo=function(){for(var e=this,t=Iwrv.SA.length,n=0;t>n;n++){var i=e.itemArray[n];i&&(i.icon=App.FK.searchMoreImmEquip(i.equipType,!0)||UsU.AY(i.equipType)||App.FK.searchMoreImmEquip(i.equipType,!0)?StaticData.GHj:null)}e.compBtn.icon=App.FK.searchMoreImmEquip(e.equipType,!0)||UsU.AY(e.equipType)?StaticData.GHj:null,App.FK.searchMoreImmEquip(e.equipType,!0)?e.compBtn.label=fvg.GVf("appell1"):e.compBtn.label=fvg.GVf("store012"),e.decomposeBtn.icon=UsU.checkResolveImmEqui()?StaticData.GHj:null},t.prototype.pq=function(){for(var e,t=Iwrv.SA,n=0;n<t.length;n++)e=GxD.instance.Fkl(13,t[n]),e.length>0&&(this.itemArray[n].data=e[0])},t.prototype.vx=function(e){},t.prototype.zf=function(){var e=this;if(e.currAttrsTxt.text="",e.cv){var t=e.cv.TSF.p1;e.currAttrsTxt.text=LRJ.KG(t)||""}var n=!!e.cv&&e.cv.quality>=aKF.KY;e.currGrade.text=n?fvg.GVf("godsuit09",QNV.OV(e.cv.TSF.tid)||0):QycO.OK},t.prototype.hp=function(){var e=this;if(e.nextAttrsTxt.text="",e.nextGrade.text="",e.zg&&!e.fu){var t=XCA.FR(e.zg.nmat);if(t){var n=t.p1;e.cv&&e.cv.quality>=aKF.KY?e.nextAttrsTxt.text=LRJ.JN(n):e.nextAttrsTxt.text=LRJ.KG(n)||""}e.nextGrade.text=fvg.GVf("godsuit09",QNV.OV(t.tid))}},t.prototype.sg=function(){var e=this,t=LRJ.FN(e.em()),n=((50+(t.hhitrate||0))/10).toFixed(1),i=((1500+(t.hhitdamrate||0))/10).toFixed(1);hFO.instance.getNumberView(bRC.GM,Nkz.GA(n.toString())+"b",2,e.rateView),hFO.instance.getNumberView(bRC.GM,Nkz.GA(i.toString())+"b",2,e.attackView),e.descImg_1.x=e.rateView.x+e.rateView.width+3,e.descImg_2.x=e.attackView.x+e.attackView.width+3},t.prototype.em=function(){for(var e=[],t=Iwrv.SA.length,n=0;t>n;n++){var i=GxD.instance.Fkl(13,Iwrv.SA[n])[0];if(i){var r=i.TSF.p1,a=XCA.YV(r);a&&e.push(a)}}var o=XCA.AQS.UFA(36,8,1);if(o){var r=o.attrid,s=App.HG.godSuitMaster,a=XCA.YV(r+s);e.push(a)}return e},t.prototype.updateNeedCount=function(){var e=this;if(!e.zg||e.fu)return e.costImg.source=RES.getRes("godsuit_json.fairy_suit_icon_png"),e.needTxt.textColor=Color.HE,void(e.needTxt.text="0");if(e.FistComp){e.costImg.texture=RES.getRes("godsuit_json.fairy_suit_icon_png");var t=App.FK.hsx(e.zg.mat2),n=e.zg.ct2;e.needTxt.text=e.fu?"MAX":fvg.GVf("public022",t,n),e.needTxt.textColor=e.fu?Color.KA:t>=n?Color.TX:Color.KA}else e.costImg.texture=RES.getRes("godsuit_json.equip_"+e.equipType+"_png"),App.FK.searchMoreImmEquip(e.equipType,!0)?(e.needTxt.text=fvg.GVf("public022",1,1),e.needTxt.textColor=Color.TX):(e.needTxt.text=fvg.GVf("public022",0,1),e.needTxt.textColor=Color.KA);e.compBtn.icon=App.FK.searchMoreImmEquip(e.equipType,!0)||UsU.AY(e.bi)?StaticData.GHj:null},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.bi},set:function(e){var t=this;t.bi=e,t.cg()},enumerable:!0,configurable:!0}),t.prototype.ge=function(){var e=this,t=App.FK.Fkl(13,e.bi);t.length>0&&e.cv!=t[0]&&e.cg()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.arrowImg),t.arrowImg=null,GObj.$d(t.currAttrsTxt),t.currAttrsTxt=null,GObj.$d(t.nextAttrsTxt),t.nextAttrsTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.compBtn),t.compBtn=null,GObj.$d(t.eu),t.eu=null,GObj.$d(t.pr),t.pr=null,GObj.$d(t.attrArrowImg),t.attrArrowImg=null,GObj.$d(t.selectedPartsTxt),t.selectedPartsTxt=null,GObj.$d(t.decomposeBtn),t.decomposeBtn=null,GObj.$d(t.costGroup),t.costGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.rateView),t.rateView=null,GObj.$d(t.attackView),t.attackView=null,GObj.$d(t.descImg_1),t.descImg_1=null,GObj.$d(t.descImg_2),t.descImg_2=null,t.itemArray){for(var n=t.itemArray.length,i=0;n>i;i++)GObj.$d(t.itemArray[i]);t.itemArray.length=0,t.itemArray=null}t.zg=null,t.cv=null,t.lo=null,t.currGrade=null,t.nextGrade=null,t.hx=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ImmortalSuitView.prototype,"ImmortalSuitView");var SuitMasterView=function(e){function t(){var t=e.call(this,"SuitMasterView")||this;return t.skinName=RRUU.$s("SuitMasterView"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){var e=this;e.CSo&&e.uq&&e.ef()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.uq=e[0],n.ef())},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.OU,e.ns,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.OU,e.ns,e)},t.prototype.ef=function(){var e=this;if(e.CSo&&e.uq){var t=e.qf();7==e.uq?(e.nameLab.text=fvg.GVf("godsuit11",App.HG.godSuitMaster||0),e.fightLab.text=fvg.GVf("public018",App.HG.godsuitCap||0)):8==e.uq&&(e.nameLab.text=fvg.GVf("godsuit12",App.HG.fairySuitMaster||0),e.fightLab.text=fvg.GVf("public018",App.HG.fairySuitCap||0));var n=XCA.AQS.UFA(36,e.uq,1);if(n)if(0>=t){e.currLab.text="",e.currAttrLab.text="",e.nextLab.y=129,e.nextAttrLab.y=154;var i=n.attrid+1,r=e.ce(t+1),a=7==e.uq?"godsuit08":"godsuit17";e.nextLab.textFlow=LgRe.OQ(fvg.GVf(a,t+1,r,Iwrv.MA.length)),e.nextAttrLab.textFlow=LgRe.OQ(LRJ.KG(i))}else if(t>=n.maxgrade){e.nextLab.text="",e.nextAttrLab.text="";var i=n.attrid+t,a=7==e.uq?"godsuit07":"godsuit15";e.currLab.textFlow=LgRe.OQ(fvg.GVf(a,t)),e.currAttrLab.textFlow=LgRe.OQ(LRJ.KG(i))}else{var o=n.attrid+t,r=e.ce(t+1),a=7==e.uq?"godsuit07":"godsuit15";e.currLab.textFlow=LgRe.OQ(fvg.GVf(a,t)),e.currAttrLab.textFlow=LgRe.OQ(LRJ.KG(o));var s=n.attrid+t+1,p=7==e.uq?"godsuit08":"godsuit17";e.nextLab.textFlow=LgRe.OQ(fvg.GVf(p,t+1,r,Iwrv.MA.length)),e.nextAttrLab.textFlow=LgRe.OQ(LRJ.KG(s))}}},t.prototype.ns=function(){this.ef()},t.prototype.ce=function(e){var t=this;return 7==t.uq?App.HG.getGodSuitNum(e):8==t.uq?App.HG.getFairySuitNum(e):void 0},t.prototype.qf=function(){var e=this;return 7==e.uq?App.HG.godSuitMaster||0:8==e.uq?App.HG.fairySuitMaster||0:void 0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.fightLab),t.fightLab=null,GObj.$d(t.currLab),t.currLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SuitMasterView.prototype,"SuitMasterView");var GrilFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goBtn.label=fvg.GVf("430"),e.connBtn.label=fvg.GVf("452"),e.gz=parseInt(XCA.CG(IDU.SN));var t=App.VX.supervip;e.gz<=App.XT.vipInfo.vipGrade?(e.descLab.text=t&&usable(t.vipText)?t.vipText:fvg.GVf("gril5"),e.iconView.icon=t&&usable(t.vipPicture)?t.vipPicture:"girl_json.gril_def_icon_png",e.connBtn.visible=!0,e.goBtn.x=254):(e.descLab.text=t&&usable(t.normalText)?t.normalText:fvg.GVf("gril6",e.gz),e.iconView.icon=t&&usable(t.normalPicture)?t.normalPicture:"girl_json.gril_def_icon_png",e.connBtn.visible=!1,e.goBtn.x=288),App.XT.vipIndex=e.gz},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.boxBtn.addEventListener(eui.tep,t.cw,t),t.goBtn.addEventListener(eui.tep,t.di,t),t.connBtn.addEventListener(eui.tep,t.wl,t),vkG.$a(UtJ.DK,t.em,t)},t.prototype.initData=function(){this.em()},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.boxBtn.removeEventListener(eui.tep,t.cw,t),t.goBtn.removeEventListener(eui.tep,t.di,t),t.connBtn.removeEventListener(eui.tep,t.wl,t),vkG.$r(UtJ.DK,t.em,t)},t.prototype.em=function(){var e=this;e.boxBtn.icon=e.gz<=App.XT.vipInfo.vipGrade&&!App.XT.isget?StaticData.GHj:null},t.prototype.cw=function(e){var t=GObj.$c(BoxPopUi);t.showDetail(44,1,1)},t.prototype.di=function(e){App.VS.open(10088)},t.prototype.wl=function(e){doExtraAction("vipService",{open_id:App.BG.openId},null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.iconView),t.iconView=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(GrilFrame.prototype,"GrilFrame");var GrowRewardPopUi=function(e){function t(){var t=e.call(this,"GrowRewardPopUi")||this;return t.skinName=RRUU.$s("GrowRewardPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.goBtn.label=fvg.GVf("growreward2"),e.getBtn.icon=StaticData.GHj,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.chapterView=GObj.$c(NumberView),e.chapterView.x=175,e.chapterView.y=368,e.addChild(e.chapterView)},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.fh,e),e.getBtn.addEventListener(eui.tep,e.zd,e),e.goBtn.addEventListener(eui.tep,e.vq,e),e.playImg.addEventListener(eui.tep,e.hu,e),e.splayImg.addEventListener(eui.tep,e.px,e),vkG.$a(UtJ.T_,e.bb,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.fh,e),e.getBtn.removeEventListener(eui.tep,e.zd,e),e.goBtn.removeEventListener(eui.tep,e.vq,e),e.playImg.removeEventListener(eui.tep,e.hu,e),e.splayImg.removeEventListener(eui.tep,e.px,e),vkG.$r(UtJ.T_,e.bb,e)},t.prototype.initData=function(){var e=this;e.tl(),e.xb();var t=e.zs(),n=e.uf(),i=t>=n;fNs.instance.execute(hXS.SBO,hXS.RZ,e.getBtn,i)},t.prototype.tl=function(){var e=this,t=XCA.CG(IDU.QX),n=t.split(QycO.PK),i=[],r=[];e.cc=n.length;for(var a=0,o=e.cc;o>a;a++){var s=n[a],p=s.split(QycO.XP),l=parseInt(p[0]),c=p[2],u=c.split(QycO.PP),d=u[0],g=u[1],v=u[2];i.push(l),r.push({type:d,showValue:g,vipValue:v})}e.gi=i,e.sr=r;var h=XCA.CG(IDU.DN),m=h.split(QycO.PK),f=[],y=[],b=[],_=[];e.qr=m.length;for(var a=0,T=e.qr;T>a;a++){var s=m[a],p=s.split(QycO.XP),l=parseInt(p[0]),O=p[1],G=p[2],E=p[3];f.push(l),y.push(O),b.push(G),_.push(E)}e.vv=f,e.xv=y,e.xw=b,e.te=_},t.prototype.xb=function(){var e=this;e.zi=App.KF.rewardState;var t=e.cc,n=t===e.zi;if(n)return void e.fh();var i=e.zs(),r=e.uf();e.progBar.value=int(i/r*100),e.progTxt.text=fvg.GVf("public022",i,r),e.chapterTxt.text=fvg.GVf("growreward0"+e.gi[e.zi]),e.descImg.source=e.kj(),e.descImg.scaleX=.9,e.descImg.scaleY=.9;var a=XCA.RE(e.xv[e.zi]+"");e.rewardData.source=Nkz.PI(a),e.rewardData.refresh();var o=e.gi[e.zi]>App.KF.chapter?e.gi[e.zi]-App.KF.chapter:0;e.getImg.visible=e.chapterView.visible=o>0,hFO.instance.getNumberView(bRC.GM,o.toString(),-2,e.chapterView),e.getImg.x=e.chapterView.x+e.chapterView.width+5,r>i?(e.goBtn.visible=!0,e.getBtn.visible=!1):(e.goBtn.visible=!1,e.getBtn.visible=!0),e.mh()},t.prototype.bb=function(){this.xb()},t.prototype.mh=function(){var e=this,t=e.sr[e.zi];if(t.type===GrowRewardType.HT?e.rewardImg.source=e.wp(t.showValue):e.rewardImg.source="",t.type===GrowRewardType.GR?(e.playImg.visible=!0,e.rewardImg.source=kLM.AY(e.gi[e.zi])):e.playImg.visible=!1,t.type===GrowRewardType.UQ?(e.mo&&e.mo.parent&&e.mo.parent.removeChild(e.mo),e.mo=App.KB.getUIEffect("e_"+e.sr[e.zi].showValue),e.mo.horizontalCenter=-12,e.mo.verticalCenter=-110,e.addChildAt(e.mo,1),e.mq()):(e.mo&&e.mo.parent&&e.mo.parent.removeChild(e.mo),e.nv()),t.type===GrowRewardType.MU){var n={},i=e.sr[e.zi].showValue.split(QycO.CD),r=i[0],a=i[1];n[r]=a,e.hm||(e.hm=GObj.$c(FigureView),e.hm.scaleX=.6,e.hm.scaleY=.6,e.addChildAt(e.hm,1)),"w"===r?(e.hm.x=330,e.hm.y=140):"c"===r?(e.hm.x=250,e.hm.y=260):(e.hm.x=250,e.hm.y=210),FigureHelps.NW(e.hm,n,!1),e.hm.visible=!0}else e.hm&&(e.hm.visible=!1)},t.prototype.zs=function(){return App.KF.chapter},t.prototype.uf=function(){var e=this;return e.gi[e.zi]},t.prototype.kj=function(){var e=this,t=PATH.BW+"bg_"+e.gi[e.zi]+".png";return t},t.prototype.wp=function(e){var t=PATH.BW+"p_"+e+".png";return t},t.prototype.zd=function(){fNs.instance.execute(hXS.SBO,hXS.YL,this.closeBtn),App.BX.PpQ(1005,null)},t.prototype.vq=function(){App.VS.open(10050),GObj.$d(this)},t.prototype.hu=function(){var e=this;e.li||(e.li=GObj.$c(MovieEffect),e.li.x=250,e.li.y=250,e.addChild(e.li));var t=e.sr[e.zi].showValue;t&&(e.li.once(egret.Event.COMPLETE,e.zl,e),e.li.play(StaticData.SKILL_INFO[t].attack,100,1),e.playImg.visible=!1)},t.prototype.zl=function(e){var t=this;t.destory||(t.playImg.visible=t.sr[t.zi].type===GrowRewardType.GR)},t.prototype.px=function(){var e=this;e.li||(e.li=GObj.$c(MovieEffect),e.li.x=300,e.li.y=200,e.addChild(e.li));var t=510;e.li.once(egret.Event.COMPLETE,e.my,e),e.li.play(StaticData.SKILL_INFO[t].attack,100,1),e.splayImg.visible=!1,SkillNameAction.bust(t)},t.prototype.my=function(e){this.splayImg.visible=!0},t.prototype.mq=function(){var e=this,t=e.sr[e.zi].vipValue;t&&(e.vipNumIcon.source=kLM.XE(t),e.vipNumIcon.visible=!0)},t.prototype.nv=function(){this.vipNumIcon.visible=!1},t.prototype.fh=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.SBO,hXS.NW),t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.chapterTxt),t.chapterTxt=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.rewardImg),t.rewardImg=null,GObj.$d(t.splayImg),t.splayImg=null,GObj.$d(t.vipNumIcon),t.vipNumIcon=null,GObj.$d(t.chapterView),t.chapterView=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(GrowRewardPopUi.prototype,"GrowRewardPopUi");var NoviceActSkillUpgrade=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.skillBtn,t={};t.txt=fvg.GVf("novice10"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.MP)switch(t[0]){case hXS.RZ:i.arrowAutoBtn(t[1]);break;case hXS.FW:i.arrowFrameReturnBtn();break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowAutoBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.undefinedkr=!0,t.parentC=App.FT.stageTopLayer,t.txt=fvg.GVf("novice10"),iWw.instance.MtK(t,!0)}},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.upgradeBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceActSkillUpgrade.prototype,"NoviceActSkillUpgrade");var NoviceActSkillUpgradeReward=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=LeftToolsBar.instance.growRewardBtn.growIcon(),t={};t.txt=fvg.GVf("novice9"),t.txtDir=4,this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.SBO)switch(t[0]){case hXS.RZ:t[2]&&i.arrowBtn(t[1]);break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:fNs.instance["do"](hXS.QE[0])}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice9"),iWw.instance.MtK(t,!0)}},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.upgradeBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceActSkillUpgradeReward.prototype,"NoviceActSkillUpgradeReward");var NoviceActSkillWith=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.skillBtn,t={};t.txt=fvg.GVf("novice10"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.MP)switch(t[0]){case hXS.NW:i.arrowAutoBtn(t[1],fvg.GVf("novice26"));break;case hXS.RZ:i.arrowAutoBtn(t[1],fvg.GVf("novice10"));break;case hXS.FW:i.arrowFrameReturnBtn();break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowAutoBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.undefinedkr=!0,n.parentC=App.FT.stageTopLayer,n.txt=t,iWw.instance.MtK(n,!0)}},t}(LKj);__reflect(NoviceActSkillWith.prototype,"NoviceActSkillWith");var NoviceArena=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.arenaBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.F_)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1])}if(e==hXS.MN)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=e.parent,t.undefinedkr=!0,iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceArena.prototype,"NoviceArena");var NoviceAutoTask=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=TaskBar.instance.autoTaskBtn;TaskBar.instance.isCheckBag=!1,this.arrowMainBtn(e)},t}(LKj);__reflect(NoviceAutoTask.prototype,"NoviceAutoTask");var NoviceBarSwitch=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=this;StoryManager.instance.playStory("exbattle",e.hr,e)},t.prototype.hr=function(){var e=this,t=BottomBtnBar.instance.switchBtn;if(t){t.visible=!0,iWw.instance.showMask();var n=GObj.$c(MXy);n.Fuu=t,n.parentC=App.FT.stageTopLayer,n.offsetX=-5,n.offsetY=-5,n.setCallBack(e.dispose,e),iWw.instance.MtK(n,!0)}},t.prototype.dispose=function(){iWw.instance.hideMask(),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceBarSwitch.prototype,"NoviceBarSwitch");var NoviceBeauty=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.followBtn,t={};t.txt=fvg.GVf("novice23"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.YK)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1][1],fvg.GVf("novice23"))}if(e==hXS.FV)switch(t[0]){case hXS.RZ:t[2]?i.arrowBtn(t[1][0],fvg.GVf("novice23")):i.endGuide();break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.topLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n)}},t}(LKj);__reflect(NoviceBeauty.prototype,"NoviceBeauty");var NoviceBeautyReward=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=LeftToolsBar.instance.growRewardBtn.growIcon(),t={};t.txt=fvg.GVf("novice22"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.SBO)switch(t[0]){case hXS.RZ:t[2]&&i.arrowBtn(t[1],fvg.GVf("novice22"));break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:fNs.instance["do"](hXS.IN[0])}return null},t.prototype.arrowBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n)}},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.upgradeBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceBeautyReward.prototype,"NoviceBeautyReward");var NoviceBeautyUp=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.followBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.YK)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1][1])}if(e==hXS.FV)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1][1]);break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceBeautyUp.prototype,"NoviceBeautyUp");var NoviceBlackMarket=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.cardBtn;if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.showMask(),iWw.instance.MtK(t,!0)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.PS)switch(t[0]){case hXS.RZ:1!=t[1]?i.arrowEquipBtn(t[2]):i.arrowBtn(i.buyBtn);break;case hXS.YL:i.buyBtn||(i.buyBtn=t[1]);break;case hXS.NW:i._isStart&&i.dispose()}return null},t.prototype.arrowEquipBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.showMask(),iWw.instance.MtK(t,!0)}else this.dispose()},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.showMask(),iWw.instance.MtK(n,!0)}else t.dispose()},t.prototype.dispose=function(){this.buyBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceBlackMarket.prototype,"NoviceBlackMarket");var NoviceBoxMagicUp=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.offLineBtn.groupDisplay.getChildAt(0),t={};t.txt=fvg.GVf("novice11"),t.txtDir=3,this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.PH)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1],fvg.GVf("novice11"));break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:fNs.instance["do"](hXS.LZ[0])}return null},t.prototype.arrowBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n)}},t.prototype.dispose=function(){egret.Tween.removeTweens(this),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceBoxMagicUp.prototype,"NoviceBoxMagicUp");var NoviceChaMartialart=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=BottomBtnBar.instance.bottomView,t=e&&e.martialartBtn;this.arrowMainBtn(t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.UO)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.arrowBtn(t[1]);break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}else this.dispose()},t}(LKj);__reflect(NoviceChaMartialart.prototype,"NoviceChaMartialart");var NoviceCloakActivate=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=LeftToolsBar.instance.growRewardBtn.growIcon(),t={};
t.txt=fvg.GVf("novice24"),t.txtDir=4,this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.SBO)switch(t[0]){case hXS.RZ:t[2]&&i.arrowFashionBtn(t[1],fvg.GVf("novice24"));break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:var r=MainToolBar.instance.roleBtn,a={};a.txt=fvg.GVf("novice24"),i.arrowMainBtn(r,a)}if(e==hXS.GE)switch(t[0]){case hXS.JCK:i.arrowFashionBtn(t[1],fvg.GVf("novice25"))}else if(e==hXS.QS)switch(t[0]){case hXS.RZ:i.arrowActivationBtn(t[1]);break;case hXS.YL:i.endGuide();break;case hXS.NW:i.arrowFrameReturnBtn()}return null},t.prototype.arrowFashionBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n,!0)}},t.prototype.arrowActivationBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice25"),iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceCloakActivate.prototype,"NoviceCloakActivate");var NoviceFashionActivation=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.roleBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.GE)switch(t[0]){case hXS.JCK:i.arrowFashionBtn(t[1])}else if(e==hXS.LA)switch(t[0]){case hXS.RZ:i.arrowActivationBtn(t[1]);break;case hXS.YL:i.endGuide();break;case hXS.NW:i.arrowFrameReturnBtn()}return null},t.prototype.arrowFashionBtn=function(e){if(this.fashionBtn){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.MtK(t,!0)}},t.prototype.arrowActivationBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceFashionActivation.prototype,"NoviceFashionActivation");var NoviceFirstCharge=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.IW)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.__checkCanDisplay=function(){var e=this;App.HA.unRegisteEnterFrame2(e.__checkCanDisplay,e),e._isStart=!0,e.next()},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.setCallBack(t.endGuide,t),n.txt=fvg.GVf("novice27"),iWw.instance.MtK(n)}else t.endGuide()},t}(LKj);__reflect(NoviceFirstCharge.prototype,"NoviceFirstCharge");var NoviceGemMount=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.storeBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.XCB)switch(t[0]){case hXS.RZ:10034!=t[1]?App.VS.open(10034):(i.oneKeyBtn=t[2].oneKeyInsertBtn,i.arrowBtn(i.oneKeyBtn));break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.topLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.MtK(n)}else t.dispose()},t.prototype.dispose=function(){this.oneKeyBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceGemMount.prototype,"NoviceGemMount");var NoviceGoldCampaign=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=BottomBtnBar.instance.bottomView,t=e&&e.martialartBtn;this.arrowMainBtn(t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.UO)switch(t[0]){case hXS.RZ:i.arrowMultiBtn(t[2]);break;case hXS.NW:iWw.instance.dispose()}else if(e==hXS.FU)switch(t[0]){case hXS.RZ:i.btn||(i.btn=t[1],i.arrowBtn(i.btn));break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowMultiBtn=function(e){if(e&&e.parent){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=e.parent,t.undefinedkr=!0,iWw.instance.MtK(t)}else this.dispose()},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.showMask(),iWw.instance.MtK(n,!0)}else t.dispose()},t.prototype.dispose=function(){this.btn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceGoldCampaign.prototype,"NoviceGoldCampaign");var NoviceHideSet=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=ResourcesBar.instance.headImg;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e==hXS.EMB)switch(t[0]){case hXS.RZ:this.arrowBtn(t[1])}},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.MtK(n,!0)}else t.dispose()},t.prototype.dispose=function(){iWw.instance.hideMask(),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceHideSet.prototype,"NoviceHideSet");var NoviceJoinMart=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=BottomBtnBar.instance.bottomView,t=e&&e.martialartBtn,n={};n.txt=fvg.GVf("novice21"),this.arrowMainBtn(t,n)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e==hXS.WB)switch(t[0]){case hXS.RZ:this.arrowBtn(t[1])}return null},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.topLayer,n.undefinedkr=!0,n.setCallBack(t.endGuide,t),n.txt=fvg.GVf("novice21"),iWw.instance.MtK(n)}else t.endGuide()},t}(LKj);__reflect(NoviceJoinMart.prototype,"NoviceJoinMart");var NoviceKillBoss=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=TaskBar.instance.backGroup;if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=TaskBar.instance,t.txt=fvg.GVf("novice4"),iWw.instance.MtK(t)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.TN)switch(t[0]){case hXS.RZ:t[1]?i.gl||(i.gl=t[2],egret.Tween.get(i).wait(100).call(i.fb,i)):i.dispose();break;case hXS.YL:if(13===i.tid){var r=BottomBtnBar.instance.fakeBigSkill,a=r&&r.fakeSkill;i.gl=a,egret.Tween.get(i).wait(1500).call(i.ri,i)}}if(e==hXS.MN)switch(t[0]){case hXS.RZ:i.gl=t[1],egret.Tween.get(i).wait(100).call(i.fv,i);break;case hXS.YL:i.endGuide()}return null},t.prototype.fb=function(){var e=this;if(e.gl&&e.gl.visible){var t=GObj.$c(MXy);t.Fuu=e.gl,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice4"),iWw.instance.MtK(t),e.gl=null}},t.prototype.ri=function(){var e=this;if(e.gl&&e.gl.visible){var t=GObj.$c(MXy);t.Fuu=e.gl,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice7"),t.txtDir=4,iWw.instance.MtK(t),e.gl=null}},t.prototype.fv=function(){var e=this;if(e.gl&&e.gl.visible){var t=GObj.$c(MXy);t.Fuu=e.gl,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice4"),t.txtDir=4,iWw.instance.MtK(t),e.gl=null}},t.prototype.dispose=function(){var t=this;t.gl=null,egret.Tween.removeTweens(t),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceKillBoss.prototype,"NoviceKillBoss");var NoviceMultiBoss=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.bossBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.ZK)switch(t[0]){case hXS.RZ:10026!==t[1]&&App.VS.open(10026);break;case hXS.YL:i.arrowBtn(t[1]);break;case hXS.NW:var r=BottomBtnBar.instance.fakeBigSkill,a=r&&r.fakeSkill;egret.Tween.get(i).wait(1e3).call(i.jl,this,[a])}if(e==hXS.MN)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.jl=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.MtK(t,!0)}},t.prototype.dispose=function(){egret.Tween.removeTweens(this),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceMultiBoss.prototype,"NoviceMultiBoss");var NoviceNodeEightdoor=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.roleBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.GE)switch(t[0]){case hXS.NW:i.endGuide();break;case hXS.IL:i.wg(t[1])}if(e==hXS.VF)switch(t[0]){case hXS.RZ:i.wg(t[1]);break;case hXS.YL:i.arrowFrameReturnBtn()}return null},t.prototype.wg=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceNodeEightdoor.prototype,"NoviceNodeEightdoor");var NoviceNodeInternal=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=LeftToolsBar.instance.growRewardBtn.growIcon(),t={};t.txt=fvg.GVf("novice16"),t.txtDir=4,this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.SBO)switch(t[0]){case hXS.RZ:t[2]&&i.arrowActBtn(t[1],fvg.GVf("novice16"));break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:var r=MainToolBar.instance.followBtn,a={};a.txt=fvg.GVf("novice16"),i.arrowMainBtn(r,a)}if(e==hXS.YK)switch(t[0]){case hXS.RZ:i.arrowActBtn(t[1][0],fvg.GVf("novice17"))}if(e==hXS.MI)switch(t[0]){case hXS.RZ:i.arrowActBtn(t[1],fvg.GVf("novice17"));break;case hXS.YL:i.arrowActBtn(t[1],fvg.GVf("novice17"));break;case hXS.NW:i.endGuide();break;case hXS.FW:i.arrowFrameReturnBtn()}return null},t.prototype.arrowActBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n)}},t}(LKj);__reflect(NoviceNodeInternal.prototype,"NoviceNodeInternal");var NoviceNodeMagic=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=LeftToolsBar.instance.growRewardBtn.growIcon(),t={};t.txt=fvg.GVf("novice5"),t.txtDir=4,this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.SBO)switch(t[0]){case hXS.RZ:t[2]&&i.arrowBtn(t[1],fvg.GVf("novice5"));break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:var r=MainToolBar.instance.magicWeaponBtn,a={};a.txt=fvg.GVf("novice6"),i.arrowMainBtn(r,a)}if(e==hXS.XM)switch(t[0]){case hXS.RZ:t[1]?i.arrowBtn(t[2],fvg.GVf("novice6")):i.endGuide();break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n,!0)}},t}(LKj);__reflect(NoviceNodeMagic.prototype,"NoviceNodeMagic");var NoviceNodeMagicUp=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.magicWeaponBtn,t={};t.txt=fvg.GVf("novice8"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.XM)switch(t[0]){case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide();break;case hXS.FW:t[1]?i.arrowBtn(t[2]):i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice8"),iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceNodeMagicUp.prototype,"NoviceNodeMagicUp");var NoviceNodeNewBie=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.canDisplay=function(){return 999!=SceneManager.instance.sceneType?!0:!1},t.prototype.next=function(){var e=this;return App.KF.skipStory?(e.endGuide(),void vkG.$d(UtJ.RH)):void e.vo()},t.prototype.vo=function(){var e=this;StoryManager.instance.playStory("novice_6",e._g,e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;return e==hXS.MN?(StoryManager.instance.playStory("novice_7",i.jx,i),!0):null},t.prototype._g=function(){var e=TaskBar.instance.backGroup;if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=TaskBar.instance,iWw.instance.MtK(t),vkG.$d(UtJ.RH)}},t.prototype.jx=function(){var e=this,t=GObj.$c(fHq);t.type=fHq.QC,t.data=kLM.UR("superequip");var n=GObj.$c(FuncOpenView);n.addEventListener(UtJ.ST,e.ya,e),n.show(t)},t.prototype.ya=function(e){var t=this;e.target.removeEventListener(UtJ.ST,t.ya,t),App.UY.enterChapter(),t.dispose()},t.prototype.dispose=function(){var t=this;vkG.$r(UtJ.NJ,t.vo,t),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceNodeNewBie.prototype,"NoviceNodeNewBie");var NoviceNodeNewBieSkill=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.canDisplay=function(){return 999==SceneManager.instance.sceneType?!0:!1},t.prototype.next=function(){var e=this,t=BottomBtnBar.instance.skillList[0];if(!t||!t.data||t.progress>.1)e.dispose();else{var n=GObj.$c(MXy);n.Fuu=t,n.txt=fvg.GVf("novice1"),n.parentC=App.FT.stageTopLayer,n.offsetX=-5,n.offsetY=-5,n.setCallBack(e.dispose,e),iWw.instance.showMask(),iWw.instance.MtK(n,!0)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceNodeNewBieSkill.prototype,"NoviceNodeNewBieSkill");var NoviceNodeOpenInternal=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.followBtn,t={};t.txt=fvg.GVf("novice19"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e==hXS.YK)switch(t[0]){case hXS.RZ:this.arrowActBtn(t[1][0],fvg.GVf("novice19"))}return null},t.prototype.arrowActBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n)}},t}(LKj);__reflect(NoviceNodeOpenInternal.prototype,"NoviceNodeOpenInternal");var NoviceNodeRole=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.roleBtn,t={};t.txt=fvg.GVf("novice3"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.GE)switch(t[0]){case hXS.RZ:i.arrowOneKeyIntensifyBtn(t[1]);break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowOneKeyIntensifyBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice3"),iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceNodeRole.prototype,"NoviceNodeRole");var NoviceNodeTask=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=this,t=TaskBar.instance.backGroup;if(t){var n=GObj.$c(MXy);n.Fuu=t,n.parentC=TaskBar.instance,n.setCallBack(e.dispose,e),iWw.instance.MtK(n)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceNodeTask.prototype,"NoviceNodeTask");var NoviceNodeTendons=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.roleBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.GE)switch(t[0]){case hXS.FW:i.it(t[1])}if(e==hXS.DY)switch(t[0]){case hXS.RZ:i.it(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.it=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}},t}(LKj);__reflect(NoviceNodeTendons.prototype,"NoviceNodeTendons");var NoviceNodeVip=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=LeftToolsBar.instance.growRewardBtn.growIcon(),t={};t.txt=fvg.GVf("novice12"),t.txtDir=4,this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.SBO)switch(t[0]){case hXS.RZ:t[2]&&i.arrowBtn(t[1],fvg.GVf("novice12"));break;case hXS.YL:i.arrowPopReturnBtn(t[1]);break;case hXS.NW:var r=ResourcesBar.instance.vipBtn,a={};a.txt=fvg.GVf("novice12"),a.txtDir=2,i.arrowMainBtn(r,a)}if(e==hXS.HD)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1],fvg.GVf("novice13"));break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e,t){if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.txt=t,iWw.instance.MtK(n,!0)}},t}(LKj);__reflect(NoviceNodeVip.prototype,"NoviceNodeVip");var NoviceNoeFakeBigSkill=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=BottomBtnBar.instance.fakeBigSkill,t=e&&e.fakeSkill,n={};n.txt=fvg.GVf("guide07"),this.arrowMainBtn(t,n)},t.prototype.canDisplay=function(){return 7===App.UY.sceneType},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return null},t}(LKj);__reflect(NoviceNoeFakeBigSkill.prototype,"NoviceNoeFakeBigSkill");var NovicePasSkillActive=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.skillBtn;if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,iWw.instance.showMask(),iWw.instance.MtK(t,!0)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.MP)switch(t[0]){case hXS.RZ:1!=t[1]&&i.arrowInternalBtn(t[3]);break;case hXS.FW:i.endGuide();break;case hXS.IL:i.ji||(i.ji=t[1],iWw.instance.showMask(),egret.Tween.get(i).wait(100).call(i.sy,i));break;case hXS.JCK:i.arrowUpgradeBtn(t[1])}return null},t.prototype.arrowInternalBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.undefinedkr=!0,t.parentC=App.FT.stageTopLayer,iWw.instance.showMask(),iWw.instance.MtK(t,!0)}},t.prototype.sy=function(){var e=this.ji.getChildAt(0);if(e){var t=GObj.$c(MXy);t.Fuu=e,t.undefinedkr=!0,t.offsetY=-25,t.parentC=App.FT.stageTopLayer,iWw.instance.showMask(),iWw.instance.MtK(t,!0,e.iconView)}},t.prototype.arrowUpgradeBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.undefinedkr=!0,n.parentC=App.FT.stageTopLayer,n.setCallBack(t.dispose,t),iWw.instance.showMask(),iWw.instance.MtK(n,!0)}},t.prototype.dispose=function(){this.ji=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NovicePasSkillActive.prototype,"NovicePasSkillActive");var NovicePvp=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.arenaBtn,t={};t.txt=fvg.GVf("novice15"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.F_)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice15"),iWw.instance.MtK(t,!0)}},t}(LKj);__reflect(NovicePvp.prototype,"NovicePvp");var NoviceRewardTask=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.__checkCanDisplay=function(){var e=this;e.canDisplay()&&(App.HA.unRegisteEnterFrame2(e.__checkCanDisplay,e),e._isStart=!0,e.next())},t.prototype.next=function(){var e=this,t=TaskBar.instance.backGroup,n=TaskBar.instance.taskIsComplete();if(t&&n){var i=GObj.$c(MXy);i.Fuu=t,i.parentC=TaskBar.instance,i.txt=fvg.GVf("novice2"),i.setCallBack(e.dispose,e),iWw.instance.MtK(i)}else e.endGuide()},t}(LKj);__reflect(NoviceRewardTask.prototype,"NoviceRewardTask");var NoviceSingleBoss=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.bossBtn,t={};t.txt=fvg.GVf("novice14"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.ZK)switch(t[0]){case hXS.RZ:break;case hXS.YL:t[1]&&i.ok(t[1]);break;case hXS.NW:var r=BottomBtnBar.instance.fakeBigSkill,a=r&&r.fakeSkill;egret.Tween.get(i).wait(1e3).call(i.ok,this,[a])}if(e==hXS.MN)switch(t[0]){case hXS.RZ:i.ok(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.ok=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice14"),iWw.instance.MtK(t)}else this.dispose()},t.prototype.dispose=function(){egret.Tween.removeTweens(this),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceSingleBoss.prototype,"NoviceSingleBoss");var NoviceSmelting=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=this;BottomBtnBar.instance.barState!=BottomBtnBar.bar?(BottomBtnBar.instance.barState=2,egret.Tween.get(e).wait(600).call(e.vl,e)):e.vl()},t.prototype.vl=function(){egret.Tween.removeTweens(this)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS._K)switch(t[0]){case hXS.RZ:0==t[1].selectedIndex?i.arrowSmeltingBtn(t[2].smeltingBtn):i.dispose();break;case hXS.YL:i.endGuide()}else e==hXS.ZO&&t[0]!=BottomBtnBar.bar&&i.dispose();return null},t.prototype.arrowSmeltingBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.showMask(),iWw.instance.MtK(n,!0)}},t.prototype.dispose=function(){egret.Tween.removeTweens(this),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceSmelting.prototype,"NoviceSmelting");var NoviceSocietyChallenge=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.villaBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.BB)switch(t[0]){case hXS.RZ:i.btn||(i.btn=t[1],i.arrowMultiBtn(i.btn))}else if(e==hXS.TU)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1])}else if(e==hXS.MN)switch(t[0]){case hXS.RZ:i.btn=t[1],egret.Tween.get(i).wait(100).call(i.arrowBtn,i);break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowMultiBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=e.parent,t.undefinedkr=!0,iWw.instance.MtK(t)}else this.dispose()},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}else this.dispose()},t.prototype.dispose=function(){this.btn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceSocietyChallenge.prototype,"NoviceSocietyChallenge");var NoviceStrengthen=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.storeBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.XCB)switch(t[0]){case hXS.RZ:10033!=t[1]?i.dispose():(i.oneKeyBtn=t[2].intensifyBtn,i.arrowBtn(i.oneKeyBtn));break;case hXS.YL:i.endGuide();break;case hXS.NW:i.arrowFrameReturnBtn()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}else this.dispose()},t.prototype.dispose=function(){this.oneKeyBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceStrengthen.prototype,"NoviceStrengthen");var NoviceSupreme=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=this;vkG.$a(UtJ.LK,e.ia,e),App.VS.popup(null,HangUpPopUi)},t.prototype.ia=function(){var e=this;vkG.$r(UtJ.LK,e.ia,e);var t=TopToolsBar.instance.displayState;t?e.ne():(TopToolsBar.instance.displayState=!0,egret.Tween.get(e).wait(400).call(e.ne,e))},t.prototype.ne=function(){egret.Tween.removeTweens(this);var e=TopToolsBar.instance.getBtnByType(TopToolsBar.MO);if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,iWw.instance.showMask(),iWw.instance.MtK(t,!0)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.JF)t[0]||i.dispose();else if(e==hXS.SZ)switch(t[0]){case hXS.RZ:0==t[1]?i.arrowBtn(t[2].buyBtn):i.dispose();break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.stageTopLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.showMask(),iWw.instance.MtK(n,!0)}else t.dispose()},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),vkG.$r(UtJ.LK,t.ia,t),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceSupreme.prototype,"NoviceSupreme");var NoviceTeamCampaign=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=RightToolsBar.instance.bossBtn;this.arrowMainBtn(e)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.ZK)switch(t[0]){case hXS.RZ:10037!=t[1]&&App.VS.open(10037)}else if(e==hXS.WY)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=e.parent,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.MtK(n)}else t.dispose()},t}(LKj);__reflect(NoviceTeamCampaign.prototype,"NoviceTeamCampaign");var NoviceTurnup=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=BottomBtnBar.instance.bottomView.goalBtn,t={};t.txt=fvg.GVf("novice20"),this.arrowMainBtn(e,t)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e===hXS.CP)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice20"),iWw.instance.MtK(t)}else this.dispose()},t.prototype.dispose=function(){this.oneKeyBtn=null,e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceTurnup.prototype,"NoviceTurnup");var NoviceUpstar=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=MainToolBar.instance.storeBtn;if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.frameuiLayer,iWw.instance.MtK(t)}},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.XCB)switch(t[0]){case hXS.RZ:10035!=t[1]?App.VS.open(10035):(i.oneKeyBtn=t[2].upstarBtn,i.arrowBtn(i.oneKeyBtn));break;case hXS.YL:i.endGuide()}return null},t.prototype.arrowGemTabBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.topLayer,t.undefinedkr=!0,iWw.instance.MtK(t)}else this.dispose()},t.prototype.arrowBtn=function(e){var t=this;if(e){var n=GObj.$c(MXy);n.Fuu=e,n.parentC=App.FT.topLayer,n.undefinedkr=!0,n.setCallBack(t.dispose,t),iWw.instance.MtK(n)}else t.dispose()},t.prototype.dispose=function(){this.oneKeyBtn=null,e.prototype.dispose.call(this)
},t}(LKj);__reflect(NoviceUpstar.prototype,"NoviceUpstar");var NoviceWealthDish=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.next=function(){var e=this,t=TopToolsBar.instance.displayState;t?e.rw():(TopToolsBar.instance.displayState=!0,egret.Tween.get(e).wait(400).call(e.rw,e))},t.prototype.rw=function(){var e=this;egret.Tween.removeTweens(e);var t=TopToolsBar.instance.getBtnByType(TopToolsBar.JU),n={};n.txt=fvg.GVf("novice18"),e.arrowMainBtn(t,n)},t.prototype.execute=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=this;if(e==hXS.JF)t[0]||i.dispose();else if(e==hXS.HQ)switch(t[0]){case hXS.RZ:i.arrowBtn(t[1]);break;case hXS.YL:i.arrowFrameReturnBtn();break;case hXS.NW:i.endGuide()}return null},t.prototype.arrowBtn=function(e){if(e){var t=GObj.$c(MXy);t.Fuu=e,t.parentC=App.FT.stageTopLayer,t.undefinedkr=!0,t.txt=fvg.GVf("novice18"),iWw.instance.MtK(t,!0)}else this.dispose()},t.prototype.dispose=function(){egret.Tween.removeTweens(this),e.prototype.dispose.call(this)},t}(LKj);__reflect(NoviceWealthDish.prototype,"NoviceWealthDish");var HangUpPopUi=function(e){function t(){var t=e.call(this,"HangUpPopUi")||this;return t.skinName=RRUU.$s("HangUpPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.sureBtn.label=fvg.GVf("platform29")},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.s_,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.s_,e)},t.prototype.s_=function(e){App.VS.open(KqZ.CE),GObj.$d(this)},t.prototype.dispose=function(){var t=this;vkG.$d(UtJ.LK),t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(HangUpPopUi.prototype,"HangUpPopUi");var HardSocietyBossFrame=function(e){function t(){var t=e.call(this,"HardSocietyBossFrame")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.diffData=GObj.$c(eui.ArrayCollection),e.diffList.dataProvider=e.diffData,e.diffList.itemRenderer=HardSocietyDiffItem,e.headData=GObj.$c(eui.ArrayCollection),e.headList.dataProvider=e.headData,e.headList.itemRenderer=HardSocietyHeadItem,e.numberView=GObj.$c(NumberView),e.numberView.x=295,e.numberView.y=312,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardList.dataProvider=e.rewardData,e.rewardList.itemRenderer=GoodsItemRenderer,e.challengeBtn.label=fvg.GVf("213"),e.addChild(e.numberView)},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.cu,e),e.diffList.addEventListener(egret.Event.CHANGE,e.nc,e),e.headList.addEventListener(egret.Event.CHANGE,e.uo,e),e.challengeBtn.addEventListener(eui.tep,e.zs,e),vkG.$a(UtJ.SF,e.zk,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.cu,e),e.diffList.removeEventListener(egret.Event.CHANGE,e.nc,e),e.headList.removeEventListener(egret.Event.CHANGE,e.uo,e),e.challengeBtn.removeEventListener(eui.tep,e.zs,e),vkG.$r(UtJ.SF,e.zk,e)},t.prototype.initData=function(){this.hv()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.fu=e[0],n.hv())},t.prototype.hv=function(){var e=this;e.CSo&&e.fu&&(e.titleImg.source="hardsociety_json.hardsociety_martial_"+e.fu.id+"_png",e.rq=App.VP.getSocietyInfoById(e.fu.id),e.diffData.source.splice(0,e.diffData.source.length),e.diffData.source.push(e.fu),e.diffData.source.push(e.fu),e.diffData.source.push(e.fu),e.diffData.source.push(e.fu),e.diffData.source.push(e.fu),e.diffData.refresh(),e.diffList.selectedIndex=Math.min(e.rq.gr,MaxLevel.SOCIETY_MAX_DIFF-1),e.nc(null))},t.prototype.zk=function(e){var t=this;t.rq=App.VP.getSocietyInfoById(t.fu.id),t.diffList.selectedIndex=Math.min(t.rq.gr,MaxLevel.SOCIETY_MAX_DIFF-1),t.nc(null)},t.prototype.nc=function(e){var t=this;t.fa=t.diffList.selectedIndex,t.ze()},t.prototype.ze=function(){var e=this,t=e.fu.boss;if(t){e.headData.source.splice(0,e.headData.source.length);for(var n=0;n<MaxLevel.SOCIETY_BOSS_NUM;n++)t[e.fa*MaxLevel.SOCIETY_BOSS_NUM+n]&&e.headData.source.push({site:e.fu,diff:e.fa});e.headData.refresh(),e.fa<e.rq.gr?e.headList.selectedIndex=e.headData.source.length-1:e.headList.selectedIndex=e.rq.or,e.uo(null)}},t.prototype.uo=function(e){var t=this;t.pf=t.headList.selectedIndex,t.lt()},t.prototype.lt=function(){var e=this,t=e.fu.boss[e.pf];if(t){var n=e.fu.boss[e.fa*MaxLevel.SOCIETY_BOSS_NUM+e.pf];e.nameTxt.text=n.name||t.name,e.bookTxt.text=n.book||t.book,e.descTxt.text=n.desc||t.desc,e.vm=n.mapid||t.mapid,e.bookTxt.x=e.nameTxt.x+e.nameTxt.width+3;var i=n.rank||t.rank;e.unitImg.visible=i>=1e6,i>=1e8?(i=int(i/1e8),e.unitImg.source="core_json.core_billion_png"):i>=1e6&&(i=int(i/1e4),e.unitImg.source="core_json.core_million_png"),hFO.instance.getNumberView(bRC.UA,i.toString(),-12,e.numberView),e.unitImg.visible&&(e.unitImg.x=e.numberView.x+e.numberView.width),e.rewardData.source.splice(0,e.rewardData.source.length);for(var r=n.reward||t.reward,a=Nkz.PI(r),o=0;o<a.length;o++)e.rewardData.source.push(a[o]);if(e.rewardData.refresh(),e.fa*MaxLevel.SOCIETY_BOSS_NUM+e.pf<e.rq.gr*MaxLevel.SOCIETY_BOSS_NUM+e.rq.or)e.receivedImg.visible=!0,e.challengeBtn.visible=!1,e.openLvTxt.visible=!1;else{e.receivedImg.visible=!1;var s=e.fu["lv"+(e.fa+1)]||1;e.challengeBtn.visible=App.KF.grade>=s,e.openLvTxt.visible=!e.challengeBtn.visible,e.openLvTxt.text=fvg.GVf("public048",s)}}},t.prototype.zl=function(e){return e>App.KF.point?void MessageTipManager.instance.show(fvg.GVf("public017")):void SocietyMsgProxy.OG(2,this.fu.id)},t.prototype.zs=function(e){var t=this;if(t.fa*MaxLevel.SOCIETY_BOSS_NUM+t.pf==t.rq.gr*MaxLevel.SOCIETY_BOSS_NUM+t.rq.or&&t.vm&&App.UY.isCanSwitc()){var n=t.fu.id,i=t.vm;App.VS.close(KqZ.QB),App.VS.enterMapOpenUI(i,KqZ.QB,null,!1,"openRecommend"),App.UY.enter(i,!0,[n])}},t.prototype.cu=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.bookTxt),t.bookTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receivedImg),t.receivedImg=null,GObj.$d(t.numberView),t.numberView=null,GObj.$d(t.unitImg),t.unitImg=null,GObj.$d(t.openLvTxt),t.openLvTxt=null,t.diffList&&(t.diffList.dataProvider=null,GObj.$d(t.diffList)),t.diffList=null,t.headList&&(t.headList.dataProvider=null,GObj.$d(t.headList)),t.headList=null,t.rewardList&&(t.rewardList.dataProvider=null,GObj.$d(t.rewardList)),t.rewardList=null,t.diffData=null,t.headData=null,t.rewardData=null,t.fu=null,t.rq=null,e.prototype.dispose.call(this))},t}(PopUI);__reflect(HardSocietyBossFrame.prototype,"HardSocietyBossFrame");var HardSocietyDiffItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("HardSocietyDiffItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.progTitTxt.text=fvg.GVf("hardsociety2"),e.getedImg.visible=!1,e.lockImg.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.hi,this,!1,99),e.addEventListener(eui.RFS,e.iv,e),vkG.$a(UtJ.SF,e.kp,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.hi,this,!1),e.removeEventListener(eui.RFS,e.iv,e),vkG.$r(UtJ.SF,e.kp,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.qi=e.data;var t=e.itemIndex;e.backImg1.source="hardsociety_json.hardsociety_close_"+(t+1)+"_png",e.backImg2.source="hardsociety_json.hardsociety_open_"+(t+1)+"_png",e.star_1.visible=t>=0,e.star_2.visible=t>=1,e.star_3.visible=t>=2,e.star_4.visible=t>=3,e.star_5.visible=t>=4;var n=e.qi["d"+(t+1)],i=Nkz.PI(n);i.length>0&&(e.goodsItem.data=i[0]),e.kp(null)}},t.prototype.kp=function(e){var t=this;t.un=App.VP.getSocietyInfoById(t.qi.id),t.lockImg.visible=t.un.gr<t.itemIndex;for(var n=5*t.itemIndex,i=n+5,r=0,a=t.qi.boss,o=n;i>o;o++)a&&a[o]&&r++;t.un.gr>t.itemIndex?(t.getedImg.visible=!0,t.progTxt.text=fvg.GVf("112",r,r)):(t.getedImg.visible=!1,t.progTxt.text=fvg.GVf("112",t.un.or,r))},t.prototype.hi=function(e){var t=this;t.itemIndex>t.un.gr&&(msgTip(fvg.GVf("society1")),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype.invalidateState=function(){var t=this;e.prototype.invalidateState.call(this);var n=t.getCurrentState();"up"==n||"down"==n?t.width=47:t.width=196},t.prototype.iv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg1),t.backImg1=null,GObj.$d(t.backImg2),t.backImg2=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.star_1),t.star_1=null,GObj.$d(t.star_2),t.star_2=null,GObj.$d(t.star_3),t.star_3=null,GObj.$d(t.star_4),t.star_4=null,GObj.$d(t.star_5),t.star_5=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.itmeGroup),t.itmeGroup=null,GObj.$d(t.progTitTxt),t.progTitTxt=null,t.qi=null,t.un=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HardSocietyDiffItem.prototype,"HardSocietyDiffItem");var HardSocietyFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.zp={},e.rz=(XCA.CG(IDU.MS)||"").split(",")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.boxBtn.addEventListener(eui.tep,t.ek,t),t.societyBtn.addEventListener(eui.tep,t.el,t),vkG.$a(UtJ.N_,t.dh,t),vkG.$a(UtJ.ND,t.ax,t),vkG.$a(UtJ.SF,t.ea,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.boxBtn.removeEventListener(eui.tep,t.ek,t),t.societyBtn.removeEventListener(eui.tep,t.el,t),vkG.$r(UtJ.N_,t.dh,t),vkG.$r(UtJ.ND,t.ax,t),vkG.$r(UtJ.SF,t.ea,t)},t.prototype.initData=function(){for(var e,t,n=this,i=RES.getRes("hardsociety_node_json"),r=i.nodes,a=0;a<r.length;a++)t=r[a],e=GObj.$c(HardSocietySiteView),e.siteData=t,n.zp[t.id]=e,n.addChild(e);n.dh(),n.ax(),n.societyBtn.icon=UsU.HW(RedPointType.OD)?StaticData.GHj:null},t.prototype.ax=function(){var e,t,n,i=this,r=0;i.ub=0;var a,o=App.KF.grade,s=Number.MAX_VALUE,p=0,l=999;for(e in i.zp)n=i.zp[e],n.updateView(),t=n.siteData,n.isOpen?(p=i.zv(t),a=i.xs(t),o>=a&&s>p&&(s=p,i.ub=parseInt(e))):t.lv1<=l&&(l=t.lv1,r=parseInt(e));i.ub>0&&(n=i.zp[i.ub],n.updateRecommend(),i.ux&&i.rr()),r>0&&(n=i.zp[r],n.updateNextOpen())},t.prototype.openRecommend=function(){var e=this;e.ux=!0,e.ub>0&&e.rr()},t.prototype.rr=function(){var e=this;if(e.ub>0&&e.ux){e.ux=!1;var t=e.zp[e.ub];t&&t.siteData&&App.VS.popup(KqZ.QB,HardSocietyBossFrame,null,t.siteData)}},t.prototype.zv=function(e){var t=Number.MAX_VALUE,n=App.VP.getChallengeBossId(e.id);if(!e.boss)return t;var i=e.boss[n];return i&&i.rank&&(t=i.rank),t},t.prototype.xs=function(e){var t=App.VP.getSocietyInfoById(e.id);if(t){var n=t.gr+1;return e["lv"+n]||0}return 0},t.prototype.ea=function(e){e&&0!=e.length&&this.ax()},t.prototype.dh=function(){var e=this,t=App.VP.currStar;if(App.VP.rewardIndex>=e.rz.length)e.starTxt.text=t+"/MAX",e.starTxt.textColor=Color.XB,e.boxBtn.icon=null;else{var n=parseInt(e.rz[App.VP.rewardIndex]);e.starTxt.text=fvg.GVf("public022",t,n),e.starTxt.textColor=t>=n?Color.TX:Color.KA,e.boxBtn.icon=t>=n?StaticData.GHj:null}},t.prototype.ek=function(e){App.VS.popup(KqZ.QB,SocietyRewardPopUi)},t.prototype.el=function(e){rRcz.XU()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.starTxt),t.starTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.societyBtn),t.societyBtn=null,t.rz=null,t.zp)for(var n in t.zp)GObj.$d(t.zp[n]),delete t.zp[n];t.zp=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(HardSocietyFrame.prototype,"HardSocietyFrame");var HardSocietyHeadItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("HardSocietyHeadItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.killImg.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.fh,this,!1,99),e.addEventListener(eui.RFS,e.cj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.fh,this,!1),e.removeEventListener(eui.RFS,e.cj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.site.boss;if(e.er=e.data.diff,e.sv=App.VP.getSocietyInfoById(e.data.site.id),e.ya=t[e.itemIndex],e.ya){var n=App.VP.getChallengeBossId(e.sv.id),i=e.er*MaxLevel.SOCIETY_BOSS_NUM+e.itemIndex;e.ir=t[i]||{};var r=e.ir.head||e.ya.head;e.headIcon.icon=kLM.VJ(r),e.killImg.visible=n>i}}},t.prototype.fh=function(e){var t=this,n=App.VP.getChallengeBossId(t.sv.id),i=t.er*MaxLevel.SOCIETY_BOSS_NUM+t.itemIndex;i>n&&(MessageTipManager.instance.show(fvg.GVf("society2")),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype.cj=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.killImg),t.killImg=null,GObj.$d(t.headIcon),t.headIcon=null,t.ya=null,t.ir=null,t.sv=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HardSocietyHeadItem.prototype,"HardSocietyHeadItem");var HardSocietySiteView=function(e){function t(){var t=e.call(this,"HardSocietySiteView")||this,n=RRUU.$s("HardSocietySiteViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.anchorOffsetX=25,e.anchorOffsetY=90,e.siteBtn.$autoSelected=!1,e.itemGroup=e.siteBtn.itemGroup,e.nameTxt=e.siteBtn.nameTxt,e.star_1=e.siteBtn.star_1,e.star_2=e.siteBtn.star_2,e.star_3=e.siteBtn.star_3,e.star_4=e.siteBtn.star_4,e.star_5=e.siteBtn.star_5,e.iconImg=e.siteBtn.iconImg,e.nextOpenImg=e.siteBtn.nextOpenImg},t.prototype.initEvent=function(){var e=this;e.siteBtn.addEventListener(eui.tep,e.pw,e)},t.prototype.removeEvent=function(){var e=this;e.siteBtn.removeEventListener(eui.tep,e.pw,e)},Object.defineProperty(t.prototype,"siteData",{get:function(){return this.tq},set:function(e){this.tq=e},enumerable:!0,configurable:!0}),t.prototype.updateView=function(){var e=this;if(e.CSo&&e.tq){var t=e.tq.id%3+1;if(e.x=e.tq.x,e.y=e.tq.y,e.isOpen=e.tq.lv1<=App.KF.grade,e.touchChildren=e.isOpen,e.siteBtn.selected=e.isOpen,e.nextOpenImg.visible=!1,e.bk=App.VP.getSocietyInfoById(e.tq.id),e.isOpen){e.nameTxt.text=e.tq.name,e.iconImg.source="hardsociety_json.hardsociety_icon_"+t+"_png";var n=App.VP.getClearedDiffById(e.tq.id);e.star_1.visible=n>=1,e.star_2.visible=n>=2,e.star_3.visible=n>=3,e.star_4.visible=n>=4,e.star_5.visible=n>=5,fNs.instance.execute(hXS.BB,hXS.RZ,e.siteBtn)}else e.nameTxt.text="",e.iconImg.source="hardsociety_json.hardsociety_icon_e"+t+"_png";e.recommendImg&&(e.recommendImg.visible=!1,App.HA.unRegisteEnterFrame2(e.si,e))}},t.prototype.updateRecommend=function(){var e=this;e.recommendImg||(e.recommendImg=GObj.$c(eui.Image),e.recommendImg.source="hardsociety_json.hardsociety_bg_5_png",e.recommendImg.x=19,e.recommendImg.y=-33,e.addChild(e.recommendImg)),e.recommendImg.visible=!0,e.qm=1,App.HA.registeEnterFrame2(e.si,e)},t.prototype.si=function(){var e=this;e.recommendImg.y+=e.qm,e.recommendImg.y<-43&&(e.qm=1),e.recommendImg.y>-33&&(e.qm=-1)},t.prototype.updateNextOpen=function(){var e=this;e.nextOpenImg.visible=!0,e.nameTxt.text=fvg.GVf("public026",e.siteData.lv1)},t.prototype.pw=function(e){App.VS.popup(KqZ.QB,HardSocietyBossFrame,null,this.tq)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.HA.unRegisteEnterFrame2(t.si,t),t.tq=null,t.bk=null,t.itemGroup=null,t.nameTxt=null,t.star_1=null,t.star_2=null,t.star_3=null,t.star_4=null,t.star_5=null,t.iconImg=null,t.nextOpenImg=null,GObj.$d(t.siteBtn),t.siteBtn=null,GObj.$d(t.recommendImg),t.recommendImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HardSocietySiteView.prototype,"HardSocietySiteView");var HarryBoxItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HarryBoxItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.touchEnabled=!1,e.alertLab.text=fvg.GVf("406"),e.geteBtn.label=fvg.GVf("104")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){e.ept();var t=e.data.score||0,n=XCA.DG(42,t);if(n)for(var i,r=Nkz.PI(n),a=r.length,o=0;a>o;o++)i=e._itemArr[o],i||(e._itemArr[o]=i=GObj.$c(GoodsItemView)),i.data=r[o],i.x=10+82*o,i.y=35,e.addChild(i);for(a=e._itemArr.length;a>o;o++)i=e._itemArr[o],i&&i.parent&&i.parent.removeChild(i)}},t.prototype.yi=function(){var e=this;e.data&&HarryMsgProxy.VE(e.data.score)},t.prototype.ed=function(){var e=this;if(e.data){var t=App.MT.harryBoxRes||0,n=e.data.index||0,i=e.data.score||0;t&1<<n?(e._getImg||(e._getImg=GObj.$c(eui.Image),e._getImg.x=342,e._getImg.y=38,e._getImg.source="core_json.geted_png"),e.addChild(e._getImg),e.geteBtn.visible=!1,e.alertLab.visible=!1):(e._getImg&&e._getImg.parent&&e._getImg.parent.removeChild(e._getImg),e.pa>=i?(e.geteBtn.visible=!0,e.alertLab.visible=!1):(e.geteBtn.visible=!1,e.alertLab.visible=!0))}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.lu,e),e.geteBtn.addEventListener(eui.tep,e.yi,e),vkG.$a(UtJ.KU,e.ed,e),vkG.$a(UtJ.OH,e.ept,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.lu,e),e.geteBtn.removeEventListener(eui.tep,e.yi,e),vkG.$r(UtJ.KU,e.ed,e),vkG.$r(UtJ.OH,e.ept,e)},t.prototype.ept=function(){var e=this;e.pa=App.MT.harryScoreVo.tsc||0;var t=e.data.score||0,n=e.pa>=t?Color.TX:Color.KA;e.titleLab.textFlow=LgRe.OQ(fvg.GVf("harry47",t,n,e.pa,t)),e.ed()},t.prototype.lu=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e._itemArr),e._itemArr=null,GObj.$d(e.alertLab),e.alertLab=null,GObj.$d(e.geteBtn),e.geteBtn=null,GObj.$d(e.titleLab),e.titleLab=null,GObj.$d(e._getImg),e._getImg=null,e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(HarryBoxItem.prototype,"HarryBoxItem");var HarryBoxPopUi=function(e){function t(t){var n=e.call(this,"HarryBoxPopUi")||this;return n.skinName=RRUU.$s(n.id),n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){this.title=fvg.GVf("elim14"),this.datas=GObj.$c(eui.ArrayCollection),this.itemDataGroup.dataProvider=this.datas,this.itemDataGroup.itemRenderer=HarryBoxItem},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.datas.source.length=0;var n=XCA.CG(IDU.DD);if(n){for(var i=n.split(QycO.XP),r=i.length,a=0;r>a;a++)t.datas.source.push({index:a,score:parseInt(i[a])});t.datas.refresh()}},t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HarryBoxPopUi.prototype,"HarryBoxPopUi");var HarryDescPopUi=function(e){function t(){return e.call(this,"HarryDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.KP,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(HarryDescPopUi.prototype,"HarryDescPopUi");var HarryJoinMartialArtView=function(e){function t(){var t=e.call(this,"HarryJoinMartialArtView")||this;return t.skinName=RRUU.$s("HarryJoinMartialArtViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf(104),e.winLab.text=fvg.GVf("harry2"),e.failLab.text=fvg.GVf("harry3")},t.prototype.initData=function(){var e=this;e._itemArr=[];var t,n,i,r=XCA.DG(42,4);if(r){t=Nkz.PI(r),n=t.length;for(var a=.5*(414-86*n-18)+24,o=0;n>o;o++)i=GObj.$c(GoodsItemView),i.data=t[o],i.x=a+86*o,i.y=56,e.addChild(i),e._itemArr.push(i)}if(r=XCA.DG(42,2)){t=Nkz.PI(r),n=t.length;for(var o=0;n>o;o++)i=GObj.$c(GoodsItemView),i.data=t[o],i.x=180+76*o,i.y=280,e.addChild(i),e._itemArr.push(i)}if(r=XCA.DG(42,3)){t=Nkz.PI(r),n=t.length;for(var o=0;n>o;o++)i=GObj.$c(GoodsItemView),i.data=t[o],i.x=180+76*o,i.y=430,e.addChild(i),e._itemArr.push(i)}e.nb()},t.prototype.sm=function(e){HarryMsgProxy.OX()},t.prototype.nb=function(){var e=this,t=App.MT.harryVo.dbval||0;0==t?(e.getImg.visible=!1,e.getBtn.visible=!0,e.getBtn.icon=StaticData.GHj):1==t?(e.getImg.visible=!0,e.getBtn.visible=!1):e.getImg.visible=e.getBtn.visible=!1},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.sm,e),vkG.$a(UtJ.RN,e.nb,e),vkG.$a(UtJ.KU,e.nb,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.sm,e),vkG.$r(UtJ.RN,e.nb,e),vkG.$r(UtJ.KU,e.nb,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.winLab),t.winLab=null,GObj.$d(t.failLab),t.failLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryJoinMartialArtView.prototype,"HarryJoinMartialArtView");var HarryJoinOneItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HarryJoinOneItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;e.rankLab.text=toChars(t.rank),e.martialartLab.text=fvg.GVf("martialart_name_"+t.fid),e.nameLab.text=t.name,e.scoreLab.text=toChars(t.score),e.nameLab.x=15}},t.prototype.kh=function(e){var t=this;if(t.data){var n=t.data;n.rank;var i=n.rank||1;i=i>4?14:i+10;var r=GObj.$c(BoxPopUi);r.showDetail(42,1,1,i)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ax,e),e.boxBtn.addEventListener(eui.tep,e.kh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ax,e),e.boxBtn.removeEventListener(eui.tep,e.kh,e)},t.prototype.ax=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.martialartLab),t.martialartLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.boxBtn),t.boxBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HarryJoinOneItem.prototype,"HarryJoinOneItem");var HarryJoinOneView=function(e){function t(){var t=e.call(this,"HarryOneView")||this;return t.skinName=RRUU.$s("HarryJoinOneViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=HarryJoinOneItem,e.rankTxt.text=fvg.GVf("public061"),e.teamTxt.text=fvg.GVf("17"),e.countTxt.text=fvg.GVf("martialart110"),e.awardTxt.text=fvg.GVf("martialart104")},t.prototype.initData=function(){RankMsgProxy.IU(FDG.BS),this.rq(App.PV.getData(FDG.BS))},t.prototype.rq=function(e){var t=this;if(e&&e.type==FDG.BS){var n=e.list.length;t.datas.source.length=0;for(var i,r=0;n>r;r++)i=e.list[r],t.datas.source.push(i);t.datas.refresh(),t.myScoreLab.text=fvg.GVf("martialart100",e.score),t.myRankLab.text=fvg.GVf("rank0",e.order?e.order:"10+")}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.rq,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.rq,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankLab),t.myRankLab=null,GObj.$d(t.myScoreLab),t.myScoreLab=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.teamTxt),t.teamTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.countTxt),t.countTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryJoinOneView.prototype,"HarryJoinOneView");var HarryJoinPopUi=function(e){function t(){var t=e.call(this,"HarryJoinPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("martialart14"),e.teamBtn.label=fvg.GVf("harry4"),e.oneBtn.label=fvg.GVf("harry5"),e.mb=GObj.$c(kQr),e.mb.cwA(e.teamBtn),e.mb.cwA(e.oneBtn)},t.prototype.initData=function(){e.prototype.initData.call(this),this.mb.selectedIndex=0},t.prototype.my=function(e){var t=this,n=t.mb.LuO;switch(n){case t.teamBtn:t.zl||(t.zl=GObj.$c(HarryJoinMartialArtView),t.zl.x=30,t.zl.y=57,t.addChild(t.zl)),t.zl.visible=!0,t.kw&&(t.kw.visible=!1);break;case t.oneBtn:t.kw||(t.kw=GObj.$c(HarryJoinOneView),t.kw.x=30,t.kw.y=57,t.addChild(t.kw)),t.kw.visible=!0,t.zl&&(t.zl.visible=!1)}},t.prototype.xf=function(e){GObj.$d(this)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.mb.addEventListener(egret.Event.CHANGE,t.my,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.mb.removeEventListener(egret.Event.CHANGE,t.my,t)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.teamBtn),t.teamBtn=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.mb),t.mb=null,GObj.$d(t.zl),t.zl=null,GObj.$d(t.kw),t.kw=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HarryJoinPopUi.prototype,"HarryJoinPopUi");var HarryMartialArtItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HarryMartialArtItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;t.rank<=3?(e.rankImg.source="core_json.core_rank_"+t.rank+"_png",e.rankImg.visible=!0,e.rankLab.visible=!1):(e.rankLab.text=toChars(t.rank),e.rankImg.visible=!1,e.rankLab.visible=!0),e.winImg.visible=!!t.p1,e.martialartLab.text=fvg.GVf("martialart_name_"+t.fid),e.nameLab.text=t.name,e.scoreLab.text=toChars(t.score)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ag,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ag,e)},t.prototype.ag=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.rankImg),e.rankImg=null,GObj.$d(e.rankLab),e.rankLab=null,GObj.$d(e.martialartLab),e.martialartLab=null,GObj.$d(e.scoreLab),e.scoreLab=null,GObj.$d(e.nameLab),e.nameLab=null,e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(HarryMartialArtItem.prototype,"HarryMartialArtItem");var HarryMartialArtView=function(e){function t(){var t=e.call(this,"HarryMartialArtView")||this;return t.skinName=RRUU.$s("HarryMartialArtViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=HarryMartialArtItem,e.rankTxt.text=fvg.GVf("teamcopy16"),e.teamTxt.text=fvg.GVf("17"),e.leaderTxt.text=fvg.GVf("martialart106"),e.countTxt.text=fvg.GVf("martialart110")},t.prototype.initData=function(){RankMsgProxy.IU(FDG.YW),this.zr(App.PV.getData(FDG.YW))},t.prototype.zr=function(e){var t=this;if(e&&e.type==FDG.YW){var n=e.list.length;t.datas.source.length=0;for(var i,r=0;n>r;r++)i=e.list[r],t.datas.source.push(i);t.datas.refresh()}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.zr,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.zr,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryMartialArtView.prototype,"HarryMartialArtView");var HarryOneItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HarryOneItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;e.rankLab.text=toChars(t.rank),e.martialartLab.text=fvg.GVf("martialart_name_"+t.fid),e.nameLab.text=t.name,e.scoreLab.text=toChars(t.score)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.od,e)},t.prototype.removeEvent=function(){var e=this;
e.removeEventListener(eui.RFS,e.od,e)},t.prototype.od=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.rankLab),e.rankLab=null,GObj.$d(e.martialartLab),e.martialartLab=null,GObj.$d(e.scoreLab),e.scoreLab=null,GObj.$d(e.nameLab),e.nameLab=null,e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(HarryOneItem.prototype,"HarryOneItem");var HarryOneView=function(e){function t(){var t=e.call(this,"HarryOneView")||this;return t.skinName=RRUU.$s("HarryOneViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=HarryOneItem},t.prototype.initData=function(){},t.prototype.su=function(){var e=this;e.datas.source.length=0;for(var t=0;14>t;t++){var n=GObj.$c(RankVO);n.rank=t+1,n.fid=int(GMath.random(1,4)),n.name="S"+(t+1)+".",n.score=978*(t+1),e.datas.source.push(n)}e.datas.refresh()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HarryOneView.prototype,"HarryOneView");var HarryRankPopUi=function(e){function t(){var t=e.call(this,"HarryRankPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=0;App.MT.harryVo.winner&&(t=App.MT.harryVo.winner.fid||0),t?e.guardLab.text=fvg.GVf("harry1",fvg.GVf("martialart_name_"+t)):e.guardLab.text=fvg.GVf("harry1","--"),e.title=fvg.GVf("martialart117"),e.teamBtn.label=fvg.GVf("martialart55"),e.oneBtn.label=fvg.GVf("martialart54"),e.nk=GObj.$c(kQr),e.nk.cwA(e.teamBtn),e.nk.cwA(e.oneBtn)},t.prototype.initData=function(){e.prototype.initData.call(this),this.nk.selectedIndex=0},t.prototype.az=function(e){var t=this,n=t.nk.LuO;switch(n){case t.teamBtn:t.ww||(t.ww=GObj.$c(HarryMartialArtView),t.ww.x=26,t.ww.y=91,t.addChild(t.ww)),t.ww.visible=!0,t.mq&&(t.mq.visible=!1);break;case t.oneBtn:t.mq||(t.mq=GObj.$c(HarryOneView),t.mq.x=26,t.mq.y=91,t.addChild(t.mq)),t.mq.visible=!0,t.ww&&(t.ww.visible=!1)}},t.prototype.mn=function(e){GObj.$d(this)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.nk.addEventListener(egret.Event.CHANGE,t.az,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.nk.removeEventListener(egret.Event.CHANGE,t.az,t)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.guardLab),t.guardLab=null,GObj.$d(t.teamBtn),t.teamBtn=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.nk),t.nk=null,GObj.$d(t.ww),t.ww=null,GObj.$d(t.mq),t.mq=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HarryRankPopUi.prototype,"HarryRankPopUi");var HarryTotalPopUi=function(e){function t(t){var n=e.call(this,"HarryTotalPopUi")||this;return n.skinName=RRUU.$s(n.id),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.teamTxt.text=fvg.GVf("17"),e.countTxt.text=fvg.GVf("461"),e.title=fvg.GVf("harry27"),e._itemArr=[],e.gy=[],e.dz=[App.JP.harryGold,App.JP.harryExp,App.JP.harryCul],e.lm=[e.atkFacLab1,e.atkFacLab2,e.atkFacLab3],e.zl=[e.atkScoreLab1,e.atkScoreLab2,e.atkScoreLab3],e.uk=App.MT.defFid||1,e.zg=[];for(var t,n=[1,2,3,4],i=0,r=0;4>r;r++)t=n[r],t!=e.uk&&(e.zg.push(t),e.lm[i].text=fvg.GVf("martialart_name_"+t),i++);e.defFacLab.text=fvg.GVf("martialart_name_"+e.uk),e.totalLab.text=fvg.GVf("harry23"),e.descLab.text=fvg.GVf("harry21"),e.descTitleLab.text=fvg.GVf("harry22"),e.scoreDescLab.text=fvg.GVf("harry26"),e.atkLab.text=fvg.GVf("harry24"),e.defLab.text=fvg.GVf("harry25"),e.totalBtn.label=fvg.GVf("harry27"),e.oneBtn.label=fvg.GVf("harry28"),e.hj=GObj.$c(kQr),e.hj.cwA(e.totalBtn),e.hj.cwA(e.oneBtn);for(var a,o,s=[StaticData.TID_GOLD_ID,StaticData.TID_EXP_ID,StaticData.TID_PRACTICE_ID],r=0;3>r;r++)a=GObj.$c(GoodsItemView),o=GObj.$c(nlwj),o.tid=s[r],a.data=o,a.x=180+80*r,a.y=335,e.totalGroup.addChild(a),e._itemArr.push(a),e.gy.push(o)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.hj.selectedIndex=0,RankMsgProxy.IU(FDG.YW),t.zo(App.PV.getData(FDG.YW)),t.xx()},t.prototype.xx=function(){var e=this,t=App.MT.harryScoreVo;if(t){for(var n,i,r=e.dz.length,a=0;r>a;a++)n=e._itemArr[a],i=e.gy[a],i.count=e.dz[a](App.KF.chapter,t),n.updateCount();e.killLab.text=fvg.GVf("harry20",t.kct||0),e.scoreLab.text=fvg.GVf("martialart100",t.tsc||0)}},t.prototype.zo=function(e){var t=this;if(e&&e.type==FDG.YW){for(var n,i=e.list.length,r={},a=0;i>a;a++)n=e.list[a],r[n.fid]=n;for(n=r[t.uk],n&&(t.defScoreLab.text=toChars(n.score)),i=t.zl.length,a=0;i>a;a++)n=r[t.zg[a]],n&&(t.zl[a].text=toChars(n.score))}},t.prototype._e=function(e){var t=this,n=t.hj.LuO;switch(n){case t.totalBtn:t.totalGroup.visible=!0,t.ag&&(t.ag.visible=!1);break;case t.oneBtn:t.ag||(t.ag=GObj.$c(HarryJoinOneView),t.ag.x=28,t.ag.y=60,t.addChild(t.ag)),t.ag.visible=!0,t.totalGroup&&(t.totalGroup.visible=!1)}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.OH,t.xx,t),vkG.$a(UtJ.TT,t.zo,t),t.hj.addEventListener(egret.Event.CHANGE,t._e,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.OH,t.xx,t),vkG.$r(UtJ.TT,t.zo,t),t.hj.removeEventListener(egret.Event.CHANGE,t._e,t)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.gy),t.gy=null,GObj.$d(t.dz),t.dz=null,GObj.$d(t.lm),t.lm=null,GObj.$d(t.zl),t.zl=null,GObj.$d(t.hj),t.hj=null,GObj.$d(t.ag),t.ag=null,GObj.$d(t.totalLab),t.totalLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descTitleLab),t.descTitleLab=null,GObj.$d(t.killLab),t.killLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.scoreDescLab),t.scoreDescLab=null,GObj.$d(t.atkLab),t.atkLab=null,GObj.$d(t.defLab),t.defLab=null,GObj.$d(t.defFacLab),t.defFacLab=null,GObj.$d(t.defScoreLab),t.defScoreLab=null,GObj.$d(t.totalGroup),t.totalGroup=null,GObj.$d(t.teamTxt),t.teamTxt=null,GObj.$d(t.countTxt),t.countTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HarryTotalPopUi.prototype,"HarryTotalPopUi");var HarryView=function(e){function t(){var t=e.call(this,"HarryView")||this;return ziI.MF("HarryFrame"),t.skinName=RRUU.$s("HarryView"),t.horizontalCenter=1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.fe=[1,2,3,4],e.nameLab.text=fvg.GVf("rank10"),e.descTimeLab.text=fvg.GVf("harry6"),e.nm||(e.nm=GObj.$c(FigureView)),e.nm.x=240,e.nm.y=420,e.group.addChildAt(e.nm,1),e._appellIcon=GObj.$c(ImageIcon),e._appellIcon.horizontalCenter=0,e._appellIcon.y=e.nameLab.y-20,e._appellIcon.loadCompleteCall(e.ax,e),e.addChild(e._appellIcon);var t=XCA.DG(42,99);if(t){var n=Nkz.PI(t);n&&n.length>0&&(e.dq=GObj.$c(HarryGoodsMapItem),e.dq.updateData(n[0]),e.dq.x=26,e.dq.y=75,e.addChild(e.dq))}if(e.enterBtn.label=fvg.GVf("harry41"),t=XCA.DG(42,1))for(var i,r=Nkz.PI(t),a=r.length,o=0;a>o;o++)i=GObj.$c(GoodsItemView),i.data=r[o],i.x=60+86*o-23,i.y=486,e.addChild(i),e._itemArr.push(i)},t.prototype.initData=function(){this.ya()},t.prototype.ya=function(){var e=this,t=App.MT.harryVo;if(t){for(var n,i=e.fe.length,r=App.MT.defFid||1,a="",o=0;i>o;o++)r==e.fe[o]?n=fvg.GVf("martialart_name_"+e.fe[o]):a+=fvg.GVf("martialart_name_"+e.fe[o])+" ";e.defLab.text=n,e.atkLab.text=a;var s=t.winner,p=fvg.GVf("rank10");if(s.name&&(p=s.name),e.nameLab.text=fvg.GVf(30,fvg.GVf("martialart_name_"+s.fid))+p,s){var l=s.stg;e.fv&&e.fv.parent&&e.removeChild(e.fv),l>0&&(e.fv&&e.fv.parent?(e.removeChild(e.fv),e.zk(l)):e.zk(l),e.fv.play(),e.addChildAt(e.fv,e.numChildren))}if(e.nm){var c=App.KF.sex||1,u=usable(s.b)?s.b:GConfig.AVATAR_DEFAULT+c,d=usable(s.w)?s.w:GConfig.AVATAR_DEFAULT+StaticData.SEX_BOY;FigureHelps.NW(e.nm,{b:u,w:d})}e._appellIcon.source=kLM.EF(StaticData.HARRY_APPELL_ID);var g=App.MT.harryVo.secs||0;g=g-App.NN.serverSecond+1,g>0?vkG.$a(HUtJ.HEARTBEAT,e.ko,e):vkG.$r(HUtJ.HEARTBEAT,e.ko,e),e.ko(),e.joinBtn.icon=UsU.OIV()?StaticData.GHj:null}},t.prototype.zk=function(e){var t=this;e>0&&(t.fv=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((e+1)/4))),t.fv.x=85,t.fv.y=105,t.fv.touchEnabled=!1,t.fv.touchChildren=!1,t.fv.addEventListener(egret.Event.COMPLETE,t.jp,t)},t.prototype.jp=function(e){var t=this;t.fv&&t.fv.parent&&t.removeChild(t.fv)},t.prototype.ax=function(){var e=this;e._appellIcon&&(e._appellIcon.x=e.nameLab.x+.5*e.nameLab.width-.5*e._appellIcon.width,e._appellIcon.y=e.nameLab.y-e._appellIcon.height)},t.prototype.sw=function(e){App.VS.popup(10049,HarryDescPopUi)},t.prototype.lg=function(e){App.VS.popup(10049,HarryRankPopUi)},t.prototype.po=function(e){App.VS.popup(10049,HarryJoinPopUi)},t.prototype.wv=function(e){if(!App.KF.fid)return void App.TT.show(fvg.GVf("harry13"));if(!App.MT.defFid)return void App.TT.show(fvg.GVf("harry14"));if(App.UY.isCanSwitc()){var t=App.MT.harryVo.nsecs-App.NN.serverSecond;if(t>0)return void App.TT.show(fvg.GVf("harry16",t));App.VS.closeAll(),App.VS.enterMapOpenUI(StaticData.HARRY_MAP_ID,10049,void 0,!1),App.UY.enter(StaticData.HARRY_MAP_ID)}},t.prototype.ko=function(){var e=this;if(!e.destory){var t=App.MT.harryVo.secs||0;t=t-App.NN.serverSecond+5;var n=0>=t;e.timeLab.visible=!n,e.descTimeLab.visible=!n,e.enterBtn.visible=n,e.timeLab.text=kpd.YW(t),n&&vkG.$r(HUtJ.HEARTBEAT,e.ko,e)}},t.prototype.initEvent=function(){var e=this;e.descBtn.addEventListener(eui.tep,e.sw,e),e.periodBtn.addEventListener(eui.tep,e.lg,e),e.joinBtn.addEventListener(eui.tep,e.po,e),e.enterBtn.addEventListener(eui.tep,e.wv,e),vkG.$a(UtJ.RN,e.ya,e),vkG.$a(UtJ.KU,e.ya,e)},t.prototype.removeEvent=function(){var e=this;e.descBtn.removeEventListener(eui.tep,e.sw,e),e.periodBtn.removeEventListener(eui.tep,e.lg,e),e.joinBtn.removeEventListener(eui.tep,e.po,e),e.enterBtn.removeEventListener(eui.tep,e.wv,e),vkG.$r(HUtJ.HEARTBEAT,e.ko,e),vkG.$r(UtJ.RN,e.ya,e),vkG.$r(UtJ.KU,e.ya,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.periodBtn),t.periodBtn=null,GObj.$d(t.joinBtn),t.joinBtn=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.enterBtn),t.enterBtn=null,GObj.$d(t._appellIcon),t._appellIcon=null,GObj.$d(t.nm),t.nm=null,GObj.$d(t.dq),t.dq=null,GObj.$d(t.fv),t.fv=null,GObj.$d(t.group),t.group=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(HarryView.prototype,"HarryView");var CrossHarryBoxItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CrossHarryBoxItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.touchEnabled=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ib();for(var t,n=(e.data.score||0,App.IB.getStageRewardByIndex(e.itemIndex+1)),i=n.length,r=0;i>r;r++)t=e._itemArr[r],t||(e._itemArr[r]=t=GObj.$c(GoodsItemView)),t.data=n[r],t.x=10+76*r,t.y=30,e.addChild(t);for(i=e._itemArr.length;i>r;r++)t=e._itemArr[r],t&&t.parent&&t.parent.removeChild(t)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dm,e),vkG.$a(UtJ.PRD,e.ib,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dm,e),vkG.$r(UtJ.PRD,e.ib,e)},t.prototype.ib=function(){var e=this;e.fo=App.IB.harryScoreVo.tsc||0;var t=e.data.score||0,n=e.fo>=t?Color.TX:Color.KA;e.titleLab.textFlow=LgRe.OQ(fvg.GVf("harry7",t,n,e.fo,t)),e.fo<t?(e.alertLab.text=fvg.GVf("406"),e.alertLab.textColor=Color.KA):(e.alertLab.text=fvg.GVf("450"),e.alertLab.textColor=Color.TX)},t.prototype.dm=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.alertLab),t.alertLab=null,GObj.$d(t.titleLab),t.titleLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossHarryBoxItem.prototype,"CrossHarryBoxItem");var CrossHarryBoxPopUi=function(e){function t(t){var n=e.call(this,"CrossHarryBoxPopUi")||this;return n.skinName=RRUU.$s("CrossHarryBoxPopUiSkin"),n}return __extends(t,e),t.prototype.initView=function(){this.datas=GObj.$c(eui.ArrayCollection),this.itemDataGroup.dataProvider=this.datas,this.itemDataGroup.itemRenderer=CrossHarryBoxItem,this.descTxt.text=fvg.GVf("goal5"),this.title=fvg.GVf("goal8")},t.prototype.initData=function(){var e=this;e.datas.source.length=0;var t=XCA.CG(IDU.SK);if(t){for(var n=t.split(QycO.XP),i=n.length,r=0;i>r;r++)e.datas.source.push({index:r,score:parseInt(n[r])});e.datas.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossHarryBoxPopUi.prototype,"CrossHarryBoxPopUi");var CrossHarryDescPopUi=function(e){function t(){return e.call(this,"CrossHarryDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.FW,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(CrossHarryDescPopUi.prototype,"CrossHarryDescPopUi");var CrossHarryJoinOneItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CrossHarryJoinOneItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sj,e),e.boxBtn.addEventListener(eui.tep,e.mx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sj,e),e.boxBtn.removeEventListener(eui.tep,e.mx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo){var t=e.data;t?(e.rankLab.text=toChars(t.rank),e.martialartLab.text=fvg.GVf("martialart_name_"+(t.fid||1)),e.nameLab.text=t.name||"",e.scoreLab.text=toChars(t.score||0)):(e.rankLab.text=toChars(e.itemIndex+1),e.martialartLab.text="--",e.nameLab.text=fvg.GVf("rank10"),e.scoreLab.text=toChars(0))}},t.prototype.mx=function(e){var t=this,n=t.data,i=n?n.rank||1:t.itemIndex+1,r=App.IB.getScoreRewardByRank(i);App.VS.popup(null,CrossHarryRewardPopUi,null,r)},t.prototype.sj=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.martialartLab),t.martialartLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.boxBtn),t.boxBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossHarryJoinOneItem.prototype,"CrossHarryJoinOneItem");var CrossHarryJoinOneView=function(e){function t(){var t=e.call(this,"CrossHarryJoinOneView")||this;return t.skinName=RRUU.$s("CrossHarryJoinOneViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=CrossHarryJoinOneItem,e.rankingLab.text=fvg.GVf("harry32"),e.sectsLab.text=fvg.GVf("harry33"),e.integralLab.text=fvg.GVf("harry34"),e.rewardLab.text=fvg.GVf("harry35")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.zd,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.zd,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.HF);(!e||GApp.timer-e.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.HF),this.zd(e)},t.prototype.zd=function(e){var t=this;if(!e||e.type==FDG.HF){var n=e?Math.max(e.list.length,10):10;t.datas.source.length=0;for(var i,r=0;n>r;r++)i=e?e.list[r]:null,t.datas.source.push(i);t.datas.refresh();var a=e&&e.score?e.score:App.IB.harryVo.myscore||0;101==App.UY.sceneType&&(a=App.IB.harryScoreVo.tsc||0),t.myScoreLab.text=fvg.GVf("martialart100",a),t.myRankLab.text=fvg.GVf("rank0",e&&e.order?e.order:"10+")}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankLab),t.myRankLab=null,GObj.$d(t.myScoreLab),t.myScoreLab=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryJoinOneView.prototype,"CrossHarryJoinOneView");var CrossHarryJoinPopUi=function(e){function t(){var t=e.call(this,"CrossHarryJoinPopUi")||this;return t.skinName=RRUU.$s("CrossHarryJoinPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.teamBtn.label=fvg.GVf("harry4"),e.oneBtn.label=fvg.GVf("harry5"),e.bz=GObj.$c(kQr),e.bz.cwA(e.teamBtn),e.bz.cwA(e.oneBtn),e.title=fvg.GVf("harry36")},t.prototype.initData=function(){e.prototype.initData.call(this),this.bz.selectedIndex=0},t.prototype.xe=function(e){var t=this,n=t.bz.LuO;switch(n){case t.teamBtn:t.yp||(t.yp=GObj.$c(CrossHarryJoinView),t.yp.x=30,t.yp.y=64,t.addChild(t.yp)),t.yp.visible=!0,t.cp&&(t.cp.visible=!1);break;case t.oneBtn:t.cp||(t.cp=GObj.$c(CrossHarryJoinOneView),t.cp.x=32,t.cp.y=63,t.addChild(t.cp)),t.cp.visible=!0,t.yp&&(t.yp.visible=!1)}},t.prototype.initEvent=function(){this.bz.addEventListener(egret.Event.CHANGE,this.xe,this)},t.prototype.removeEvent=function(){this.bz.removeEventListener(egret.Event.CHANGE,this.xe,this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.teamBtn),t.teamBtn=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.bz),t.bz=null,GObj.$d(t.yp),t.yp=null,GObj.$d(t.cp),t.cp=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossHarryJoinPopUi.prototype,"CrossHarryJoinPopUi");var CrossHarryJoinView=function(e){function t(){var t=e.call(this,"CrossHarryJoinView")||this;return t.skinName=RRUU.$s("CrossHarryJoinViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.winLab.text=fvg.GVf("harry2"),e.failLab.text=fvg.GVf("harry3"),e.getBtn.label=fvg.GVf(104)},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.cv,e),vkG.$a(UtJ.DOU,e.wc,e),vkG.$a(UtJ.KU,e.wc,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.cv,e),vkG.$r(UtJ.DOU,e.wc,e),vkG.$r(UtJ.KU,e.wc,e)},t.prototype.initData=function(){var e=this;e._itemArr=[];var t,n,i;t=App.IB.getPreviewRewardByType(1),n=t.length;for(var r=.5*(414-86*n-18)+24,a=0;n>a;a++)i=GObj.$c(GoodsItemView),i.data=t[a],i.x=r+86*a,i.y=62,e.addChild(i),e._itemArr.push(i);t=App.IB.getPreviewRewardByType(2),n=t.length;for(var a=0;n>a;a++)i=GObj.$c(GoodsItemView),i.data=t[a],i.x=180+76*a,i.y=270,e.addChild(i),e._itemArr.push(i);t=App.IB.getPreviewRewardByType(3),n=t.length;for(var a=0;n>a;a++)i=GObj.$c(GoodsItemView),i.data=t[a],i.x=180+76*a,i.y=403,e.addChild(i),e._itemArr.push(i);e.wc()},t.prototype.cv=function(e){CrossHarryMsgProxy.NQ()},t.prototype.wc=function(){var e=this,t=App.IB.harryVo.dbval||0;0==t?(e.getImg.visible=!1,e.getBtn.visible=!0,e.getBtn.icon=StaticData.GHj):1==t?(e.getImg.visible=!0,e.getBtn.visible=!1):e.getImg.visible=e.getBtn.visible=!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.winLab),t.winLab=null,GObj.$d(t.failLab),t.failLab=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryJoinView.prototype,"CrossHarryJoinView");var CrossHarryMartialArtItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("CrossHarryMartialArtItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;t.rank<=3?(e.rankImg.source="core_json.core_rank_"+t.rank+"_png",e.rankImg.visible=!0,e.rankLab.visible=!1):(e.rankLab.text=toChars(t.rank),e.rankImg.visible=!1,e.rankLab.visible=!0),e.winImg.visible=!!t.p1,e.martialartLab.text=fvg.GVf("martialart_name_"+t.fid),e.scoreLab.text=toChars(t.score)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ww,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ww,e)},t.prototype.ww=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.martialartLab),t.martialartLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(CrossHarryMartialArtItem.prototype,"CrossHarryMartialArtItem");var CrossHarryMartialArtView=function(e){function t(){var t=e.call(this,"CrossHarryMartialArtView")||this;return t.skinName=RRUU.$s("CrossHarryMartialArtViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemDataGroup.dataProvider=e.datas,e.itemDataGroup.itemRenderer=CrossHarryMartialArtItem,e.rankingLab.text=fvg.GVf("public061"),e.sectsLab.text=fvg.GVf("17"),e.integralLab.text=fvg.GVf("harry11")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.pa,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.pa,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.SL);!e||GApp.timer-e.rtime>=3e5?ArenaMsgProxy.SW(FDG.SL):this.pa(e)},t.prototype.pa=function(e){var t=this;if(e&&e.type==FDG.SL){var n,i=e.list.length;t.datas.source.length=0;for(var r=0;i>r;r++)n=e.list[r],t.datas.source.push(n);t.datas.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemDataGroup&&(t.itemDataGroup.dataProvider=null,GObj.$d(t.itemDataGroup)),t.itemDataGroup=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CrossHarryMartialArtView.prototype,"CrossHarryMartialArtView");var CrossHarryRankPopUi=function(e){function t(){var t=e.call(this,"CrossHarryRankPopUi")||this;return t.skinName=RRUU.$s("CrossHarryRankPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.frameGroup.title=fvg.GVf("harry31");var t=0;App.IB.harryVo.winner&&(t=App.IB.harryVo.winner.fid||0),t?e.guardLab.text=fvg.GVf("harry1",fvg.GVf("martialart_name_"+t)):e.guardLab.text=fvg.GVf("harry1","--")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;e.qq=GObj.$c(CrossHarryMartialArtView),e.qq.x=32,e.qq.y=87,e.addChild(e.qq)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.guardLab),t.guardLab=null,GObj.$d(t.qq),t.qq=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossHarryRankPopUi.prototype,"CrossHarryRankPopUi");var CrossHarryRewardPopUi=function(e){function t(){var t=e.call(this,"CrossHarryRewardPopUi")||this,n=RRUU.$s("CrossHarryRewardPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("107"),e.determineBtn.label=fvg.GVf("7")},t.prototype.initEvent=function(){var e=this;e.determineBtn.addEventListener(eui.tep,e.hd,e)},t.prototype.removeEvent=function(){var e=this;e.determineBtn.removeEventListener(eui.tep,e.hd,e)},t.prototype.initData=function(){var e=this;e.cg&&e.rewardData.replaceAll(e.cg)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.cg=e[0],n.initData())},t.prototype.hd=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,GObj.$d(t.determineBtn),t.determineBtn=null,t.rewardData=null,t.cg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossHarryRewardPopUi.prototype,"CrossHarryRewardPopUi");var CrossHarryTotalPopUi=function(e){function t(){var t=e.call(this,"CrossHarryTotalPopUi")||this;return t.skinName=RRUU.$s("CrossHarryTotalPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.le=[],e.xp=[App.JP.crossHarryGold,App.JP.crossHarryExp,App.JP.crossHarryCul],e.ee=[e.atkFacLab1,e.atkFacLab2,e.atkFacLab3],e.vg=[e.atkScoreLab1,e.atkScoreLab2,e.atkScoreLab3],e.eh=App.IB.defFid||1,e.uh=[];for(var t,n=[1,2,3,4],i=0,r=0;4>r;r++)t=n[r],t!=e.eh&&(e.uh.push(t),e.ee[i].text=fvg.GVf("martialart_name_"+t),i++);e.defFacLab.text=fvg.GVf("martialart_name_"+e.eh),e.totalLab.text=fvg.GVf("harry23"),e.descLab.text=fvg.GVf("crossharry8"),e.descTitleLab.text=fvg.GVf("harry22"),e.scoreDescLab.text=fvg.GVf("harry26"),e.atkLab.text=fvg.GVf("harry24"),e.defLab.text=fvg.GVf("harry25"),e.totalBtn.label=fvg.GVf("harry27"),e.oneBtn.label=fvg.GVf("harry28"),e.sectsLab.text=fvg.GVf("harry33"),e.integralLab.text=fvg.GVf("461"),e.title=fvg.GVf("harry43"),e.sa=GObj.$c(kQr),e.sa.cwA(e.totalBtn),e.sa.cwA(e.oneBtn);for(var a,o,s=[StaticData.TID_GOLD_ID,StaticData.TID_EXP_ID,StaticData.TID_PRACTICE_ID],r=0;3>r;r++)a=GObj.$c(GoodsItemView),o=GObj.$c(nlwj),o.tid=s[r],a.data=o,a.x=150+80*r,a.y=292,e.totalGroup.addChild(a),e._itemArr.push(a),e.le.push(o)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PRD,e.xv,e),vkG.$a(UtJ.TT,e.fq,e),e.sa.addEventListener(egret.Event.CHANGE,e.ep,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PRD,e.xv,e),vkG.$r(UtJ.TT,e.fq,e),e.sa.removeEventListener(egret.Event.CHANGE,e.ep,e)},t.prototype.initData=function(){var e=this;e.sa.selectedIndex=0;var t=App.PV.getData(FDG.SL);!t||GApp.timer-t.rtime>=3e5?ArenaMsgProxy.SW(FDG.SL):e.fq(t),e.xv()},t.prototype.xv=function(){var e=this,t=App.IB.harryScoreVo;if(t){for(var n,i,r=e.xp.length,a=0;r>a;a++)n=e._itemArr[a],i=e.le[a],i.count=e.xp[a](App.KF.chapter,t),n.updateCount();e.killLab.text=fvg.GVf("harry20",t.kct||0),e.scoreLab.text=fvg.GVf("martialart100",t.tsc||0)}},t.prototype.fq=function(e){var t=this;if(e&&e.type==FDG.SL){for(var n,i=e.list.length,r={},a=0;i>a;a++)n=e.list[a],r[n.fid]=n;for(n=r[t.eh],n&&(t.defScoreLab.text=toChars(n.score)),i=t.vg.length,a=0;i>a;a++)n=r[t.uh[a]],n&&(t.vg[a].text=toChars(n.score))}},t.prototype.ep=function(e){var t=this,n=t.sa.LuO;switch(n){case t.totalBtn:t.totalGroup.visible=!0,t.wo&&(t.wo.visible=!1);break;case t.oneBtn:t.wo||(t.wo=GObj.$c(CrossHarryJoinOneView),t.wo.x=28,t.wo.y=60,t.addChild(t.wo)),t.wo.visible=!0,t.totalGroup&&(t.totalGroup.visible=!1)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.le),t.le=null,GObj.$d(t.ee),t.ee=null,GObj.$d(t.vg),t.vg=null,GObj.$d(t.sa),t.sa=null,GObj.$d(t.wo),t.wo=null,GObj.$d(t.totalLab),t.totalLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descTitleLab),t.descTitleLab=null,GObj.$d(t.killLab),t.killLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.scoreDescLab),t.scoreDescLab=null,GObj.$d(t.atkLab),t.atkLab=null,GObj.$d(t.defLab),t.defLab=null,GObj.$d(t.defFacLab),t.defFacLab=null,GObj.$d(t.defScoreLab),t.defScoreLab=null,GObj.$d(t.totalGroup),t.totalGroup=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,t.xp=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CrossHarryTotalPopUi.prototype,"CrossHarryTotalPopUi");var CrossHarryView=function(e){function t(){var t=e.call(this,"CrossHarryView")||this;
return t.skinName=RRUU.$s("CrossHarryView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.zm=[1,2,3,4],e.nameLab.text=fvg.GVf("rank10"),e.descTimeLab.text=fvg.GVf("crossharry2"),e.enterBtn.label=fvg.GVf("harry41"),e._appellIcon=GObj.$c(ImageIcon),e._appellIcon.x=e.nameLab.x+.5*e.nameLab.width,e._appellIcon.y=e.nameLab.y-20,e._appellIcon.loadCompleteCall(e.ud,e),e.addChild(e._appellIcon);for(var t,n=App.IB.getPreviewRewardByType(4),i=n.length,r=0;i>r;r++)t=GObj.$c(GoodsItemView),t.data=n[r],t.x=40+86*r,t.y=485,e.addChild(t),e._itemArr.push(t);var a=XCA.DG(58,99);if(a){var o=Nkz.PI(a);o&&o.length>0&&(e.mn=GObj.$c(HarryGoodsMapItem),e.mn.updateData(o[0]),e.mn.x=35,e.mn.y=75,e.addChild(e.mn)),o&&o.length>1&&(e.zc=GObj.$c(HarryGoodsMapItem),e.zc.updateData(o[1]),e.zc.x=35,e.zc.y=245,e.addChild(e.zc))}e.dv=GObj.$c(FigureView),e.dv.x=265,e.dv.y=425,e.addChildAt(e.dv,1)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.descBtn.addEventListener(eui.tep,t.xi,t),t.periodBtn.addEventListener(eui.tep,t.tp,t),t.joinBtn.addEventListener(eui.tep,t.ge,t),t.enterBtn.addEventListener(eui.tep,t.nh,t),vkG.$a(UtJ.DOU,t.ub,t),vkG.$a(UtJ.WZ,t.eo,t)},t.prototype.removeEvent=function(){var e=this;e.descBtn.removeEventListener(eui.tep,e.xi,e),e.periodBtn.removeEventListener(eui.tep,e.tp,e),e.joinBtn.removeEventListener(eui.tep,e.ge,e),e.enterBtn.removeEventListener(eui.tep,e.nh,e),vkG.$r(HUtJ.HEARTBEAT,e.ps,e),vkG.$r(UtJ.DOU,e.ub,e),vkG.$r(UtJ.WZ,e.eo,e)},t.prototype.initData=function(){ziI.MF("CrossHarryFrame"),e.prototype.initData.call(this),this.ub()},t.prototype.ub=function(){var e=this,t=App.IB.harryVo;if(t){for(var n,i=e.zm.length,r=App.IB.defFid||1,a="",o=0;i>o;o++)r==e.zm[o]?n=fvg.GVf("martialart_name_"+e.zm[o]):a+=fvg.GVf("martialart_name_"+e.zm[o])+" ";e.defLab.text=n,e.atkLab.text=a;var s=t.winner,p=fvg.GVf("rank10");if(s.name&&(p=s.name),e.nameLab.text=fvg.GVf(30,fvg.GVf("martialart_name_"+(s.fid||1)))+p,s){var l=s.stg;e.ez&&e.ez.parent&&e.removeChild(e.ez),l>0&&(e.ez&&e.ez.parent?(e.removeChild(e.ez),e.fs(l)):e.fs(l),e.ez.play(),e.addChildAt(e.ez,e.numChildren))}if(e.dv){var c=(App.KF.sex||1,usable(s.b)?s.b:GConfig.AVATAR_DEFAULT+s.sex),u=usable(s.w)?s.w:GConfig.AVATAR_DEFAULT+StaticData.SEX_BOY;FigureHelps.NW(e.dv,{b:c,w:u})}e._appellIcon.source=kLM.EF(StaticData.CROSS_HARRY_APPELL_ID);var d=t.secs||0;d=d-App.NN.serverSecond+1,d>0?vkG.$a(HUtJ.HEARTBEAT,e.ps,e):vkG.$r(HUtJ.HEARTBEAT,e.ps,e),e.ps(),e.joinBtn.icon=UsU.EA()?StaticData.GHj:null}},t.prototype.fs=function(e){var t=this;e>0&&(t.ez=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((e+1)/4))),t.ez.x=85,t.ez.y=105,t.ez.touchEnabled=!1,t.ez.touchChildren=!1,t.ez.addEventListener(egret.Event.COMPLETE,t.ou,t)},t.prototype.ou=function(e){var t=this;t.ez&&t.ez.parent&&t.removeChild(t.ez)},t.prototype.xi=function(e){App.VS.popup(10030,CrossHarryDescPopUi)},t.prototype.tp=function(e){App.VS.popup(10030,CrossHarryRankPopUi)},t.prototype.ge=function(e){App.VS.popup(10030,CrossHarryJoinPopUi)},t.prototype.ud=function(){var e=this;e._appellIcon&&(e._appellIcon.x=e.nameLab.x+.5*e.nameLab.width-.5*e._appellIcon.width,e._appellIcon.y=e.nameLab.y-e._appellIcon.height)},t.prototype.nh=function(e){if(!App.KF.fid)return void App.TT.show(fvg.GVf("harry13"));if(!App.IB.defFid)return void App.TT.show(fvg.GVf("harry14"));if(App.UY.isCanSwitc()){var t=App.IB.harryVo.nsecs-App.NN.serverSecond;return t>0?void App.TT.show(fvg.GVf("harry16",t)):void ziI.VR(1,StaticData.CROSS_HARRY_MAP_ID)}},t.prototype.eo=function(e){e==StaticData.CROSS_HARRY_MAP_ID&&(App.VS.closeAll(),App.UY.enter(StaticData.CROSS_HARRY_MAP_ID))},t.prototype.ps=function(){var e=this;if(!e.destory){var t=App.IB.harryVo.secs||0;t=t-App.NN.serverSecond+5;var n=0>=t;e.timeLab.visible=!n,e.descTimeLab.visible=!n,e.enterBtn.visible=n,e.timeLab.text=kpd.YW(t),n&&vkG.$r(HUtJ.HEARTBEAT,e.ps,e)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.periodBtn),t.periodBtn=null,GObj.$d(t.joinBtn),t.joinBtn=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t._appellIcon),t._appellIcon=null,GObj.$d(t.enterBtn),t.enterBtn=null,GObj.$d(t.dv),t.dv=null,GObj.$d(t.mn),t.mn=null,GObj.$d(t.zc),t.zc=null,GObj.$d(t.ez),t.ez=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(CrossHarryView.prototype,"CrossHarryView");var HiddenWeaponHWItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HiddenWeaponHWItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ft,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ft,e)},t.prototype.initData=function(){var e=this;e.dataChanged(),e.invalidateState()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ax=e.data,e.ax>0?(e.addImg.visible=e.quaImg.visible=!1,e.cl=XCA.AQS.UFA(63,e.ax,1),e.itemView.upgradeId=e.cl.tid,e.rs=App.OX.hwInfo[e.ax]||QycO.BE,e.stageTxt.text=fvg.GVf("skill020",e.rs.s||0),e.stageImg.visible=!0,e.gradeTxt.text=fvg.GVf("public028",e.rs.g||0),e.gradeImg.visible=!0,e.nameTxt.text=e.cl.name,e.nameTxt.textColor=aKF.DU(gLw.GM(e.cl.tid))):(e.addImg.visible=e.quaImg.visible=!0,e.nameTxt.text=fvg.GVf("hw5"),e.nameTxt.textColor=Color.SE,e.gradeTxt.text=e.stageTxt.text="",e.stageImg.visible=e.gradeImg.visible=!1,e.itemView.upgradeId=0))},t.prototype.ft=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.stageTxt),t.stageTxt=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.addImg),t.addImg=null,t.cl=null,t.rs=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HiddenWeaponHWItem.prototype,"HiddenWeaponHWItem");var HiddenWeaponTrainItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("HiddenWeaponTrainItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yx,e),vkG.$a(UtJ.WTM,e.__infoUpdateHandler,e),vkG.$a(UtJ.DV,e.sd,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yx,e),vkG.$r(UtJ.WTM,e.__infoUpdateHandler,e),vkG.$r(UtJ.DV,e.sd,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.rj=e.data,e.redPointImg.visible=!1,e.rj)){var t=gLw.GM(e.rj.tid);e.nameTxt.text=e.rj.name,e.nameTxt.textColor=aKF.DU(t),e.iconView.upgradeId=e.rj.tid,e.il()}},t.prototype.il=function(){var e=this;if(e.rj&&e.CSo){e.ra=gLw.IQ(e.rj.tid);var t=App.OX.hwInfo[e.ra]||QycO.BE,n=t.g||0;e.iconView.bottomText=n>0?fvg.GVf("public028",n):"",e.lockImg.visible=0==n;var i=t.s||0;e.starTxt.visible=e.starImg.visible=0!=i,e.starTxt.text="+"+i,e.wearedImg.visible=(t.f||0)>0,e.sd()}},t.prototype.__infoUpdateHandler=function(e){var t=this;e&&e.indexOf(t.ra)>=0&&t.il()},t.prototype.sd=function(e){var t=this;t.redPointImg.visible=UsU.VS(t.rj)},t.prototype.yx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.starTxt),t.starTxt=null,GObj.$d(t.wearedImg),t.wearedImg=null,t.rj=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HiddenWeaponTrainItem.prototype,"HiddenWeaponTrainItem");var HiddenWeaponTrainView=function(e){function t(){var t=e.call(this,"HiddenWeaponTrainView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.attrDescTxt.text=fvg.GVf("role3"),e.qua_all_Btn.label=fvg.GVf("knight3"),e.qua_1_Btn.label=fvg.GVf("knight4"),e.qua_2_Btn.label=fvg.GVf("knight5"),e.qua_3_Btn.label=fvg.GVf("knight6"),e.qua_4_Btn.label=fvg.GVf("knight7"),e.gm=GObj.$c(kQr),e.gm.cwA(e.qua_all_Btn),e.gm.cwA(e.qua_1_Btn),e.gm.cwA(e.qua_2_Btn),e.gm.cwA(e.qua_3_Btn),e.gm.cwA(e.qua_4_Btn),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=HiddenWeaponTrainItem,e.fightView=GObj.$c(FightView),e.fightView.x=103,e.fightView.y=-4,e.addChild(e.fightView),e.nv=GObj.$c(FigureView),e.nv.x=230,e.nv.y=220,e.addChildAt(e.nv,8)},t.prototype.initEvent=function(){var e=this;e.gm.addEventListener(egret.Event.CHANGE,e.cq,e),e.itemList.addEventListener(egret.Event.CHANGE,e.sc,e),e.wearBtn.addEventListener(eui.tep,e.yh,e),e.upgradeBtn.addEventListener(eui.tep,e.pn,e),e.upstageBtn.addEventListener(eui.tep,e._p,e),e.addWearImg.addEventListener(eui.tep,e.yh,e),e.wearBgImg.addEventListener(eui.tep,e.yh,e),vkG.$a(UtJ.WTM,e.me,e),vkG.$a(UtJ.DV,e.cs,e)},t.prototype.removeEvent=function(){var e=this;e.gm.removeEventListener(egret.Event.CHANGE,e.cq,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.sc,e),e.wearBtn.removeEventListener(eui.tep,e.yh,e),e.upgradeBtn.removeEventListener(eui.tep,e.pn,e),e.upstageBtn.removeEventListener(eui.tep,e._p,e),e.addWearImg.removeEventListener(eui.tep,e.yh,e),e.wearBgImg.removeEventListener(eui.tep,e.yh,e),vkG.$r(UtJ.DV,e.cs,e),vkG.$r(UtJ.WTM,e.me,e)},t.prototype.initData=function(){var e=this;e.gm.selectedIndex=0,e.cs()},t.prototype.defaultTemp=function(e){var t=this;e&&(t.ig=e,t.gm&&(0!=t.gm.selectedIndex?t.gm.selectedIndex=0:t.dz()))},t.prototype.cq=function(e){var t=this;t.scroller&&t.scroller.stopAnimation();var n,i=t.gm.LuO;switch(i){case t.qua_1_Btn:n=aKF.WO;break;case t.qua_2_Btn:n=aKF.BN;break;case t.qua_3_Btn:n=aKF.JN;break;case t.qua_4_Btn:n=aKF.PU;break;default:n=aKF.MM}var r=App.OX.getHWByQuality(n),a=r.length;a&&r.sort(App.OX.compareFunBySort),t.itemData.source.length=0;for(var o,s=0;a>s;s++)o=r[s],t.itemData.source.push(r[s]);t.itemData.refresh(),a&&t.dz()},t.prototype.dz=function(){var e=this,t=e.itemData.source.indexOf(e.ig);e.itemList.selectedIndex=t>=0?t:0,e.sc(null)},t.prototype.sc=function(e){var t=this;egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.itemList);var n=t.itemList.selectedItem;n&&(t.ig=n,t.hc=gLw.IQ(t.ig.tid),t.oi=XCA.AQS.UFA(64,t.hc,1),t.nameLbl.text=t.ig.name,FigureHelps.NW(t.nv,{b:FigureType.BW+t.hc},!1),t.fj()),egret.Tween.get(t).wait(200).call(t.tg,t)},t.prototype.tg=function(){var e=this;if(!e.destory){var t=110*Math.floor(e.itemList.selectedIndex/5);t=Math.min(t,Math.max(e.scroller.viewport.contentHeight-e.scroller.height,0)),t!=e.itemList.scrollV&&egret.Tween.get(e.itemList).to({scrollV:t},100)}},t.prototype.me=function(e){this.fj()},t.prototype.fj=function(){var e=this;e.ig&&(e.gz=App.OX.hwInfo[e.hc]||QycO.BE,e.upstageBtn.label=e.gz.s>0?fvg.GVf("specia001"):fvg.GVf("public012"),e.fightView.fightNum=e.gz.cap||0,e.dp(),e.fb(),e.cu(),e.uw())},t.prototype.dp=function(){var e=this;if(e.ig&&e.oi&&e.gz){var t=e.gz.s||1,n=XCA.YV(e.oi.attrid),i=App.JP.getHwUpstageAttr(t,n);if(e.gz.g>0){n=XCA.YV(e.ig.attrid);var r=App.JP.getHwUpgradeAttr(e.gz.g,n,(e.ig.p6||"").split(QycO.XP));for(var a in r)i[a]=(i[a]||0)+r[a]}var o=AttributeTemplate.getAttrStringByTemp(i);o+="\n"+fvg.GVf("hw8",e.oi.p1*t),e.attrTxt.textFlow=LgRe.OQ(o)}},t.prototype.fb=function(){var e=this;if(e.gz){var t=e.gz.f||0;if(e.wearBtn.icon=t>0?"core_json.superequip_back5_png":"core_json.superequip_back4_png",t>0){var n=XCA.AQS.UFA(33,t,1);n&&(e.wearIcon.upgradeId=n.tid,e.wearNameTxt.text=n.name,e.wearNameTxt.textColor=aKF.DU(gLw.GM(n.tid)))}else e.wearIcon.upgradeId=0,e.wearNameTxt.text=fvg.GVf("public030"),e.wearNameTxt.textColor=Color.KA;e.addWearImg.visible=e.wearBgImg.visible=!(t>0)}},t.prototype.yh=function(e){var t=this;return t.gz&&t.gz.s?void(t.gz.f>0?HiddenWeaponMsgProxy.DV(t.hc):App.VS.popup(10045,HiddenWeaponWearPopUi,null,t.ig)):void App.TT.show(fvg.GVf("hw1"))},t.prototype.cu=function(){var e=this;e.upstageBtn.icon=UsU.FI(e.ig)?StaticData.GHj:null,e.upgradeBtn.icon=UsU.YK(e.ig)?StaticData.GHj:null},t.prototype.pn=function(e){var t=this;return t.gz&&t.gz.s?void App.VS.popup(10045,HiddenWeaponUpgradePopUi,null,t.ig):void App.TT.show(fvg.GVf("hw1"))},t.prototype._p=function(e){var t=this;if(t.gz.s)App.VS.popup(10045,HiddenWeaponUpstagePopUi,null,t.ig);else if(t.upstageBtn.icon)HiddenWeaponMsgProxy.HK(t.hc);else{var n=XCA.AQS.UFA(64,t.hc,1);_JDW.TR(parseInt(n.cost))}},t.prototype.cs=function(e){var t=this;t.CSo&&(t.qua_1_Btn.icon=t.md(aKF.WO)?StaticData.GHj:null,t.qua_2_Btn.icon=t.md(aKF.BN)?StaticData.GHj:null,t.qua_3_Btn.icon=t.md(aKF.JN)?StaticData.GHj:null,t.qua_4_Btn.icon=t.md(aKF.PU)?StaticData.GHj:null,t.qua_all_Btn.icon=t.qua_1_Btn.icon||t.qua_2_Btn.icon||t.qua_3_Btn.icon||t.qua_4_Btn.icon?StaticData.GHj:null,t.uw())},t.prototype.uw=function(){var e=this;e.upgradeBtn.icon=UsU.YK(e.ig)?StaticData.GHj:null},t.prototype.md=function(e){for(var t=App.OX.getHWByQuality(e),n=0;n<t.length;n++)if(UsU.VS(t[n]))return!0;return!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.qua_all_Btn),t.qua_all_Btn=null,GObj.$d(t.qua_1_Btn),t.qua_1_Btn=null,GObj.$d(t.qua_2_Btn),t.qua_2_Btn=null,GObj.$d(t.qua_3_Btn),t.qua_3_Btn=null,GObj.$d(t.qua_4_Btn),t.qua_4_Btn=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.upstageBtn),t.upstageBtn=null,GObj.$d(t.wearBtn),t.wearBtn=null,GObj.$d(t.nameLbl),t.nameLbl=null,GObj.$d(t.attrDescTxt),t.attrDescTxt=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.gm),t.gm=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.nv),t.nv=null,GObj.$d(t.wearIcon),t.wearIcon=null,GObj.$d(t.wearNameTxt),t.wearNameTxt=null,GObj.$d(t.addWearImg),t.addWearImg=null,GObj.$d(t.wearBgImg),t.wearBgImg=null,GObj.$d(t.fz),t.fz=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,t.ig=null,t.oi=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(HiddenWeaponTrainView.prototype,"HiddenWeaponTrainView");var HiddenWeaponUpgradePopUi=function(e){function t(){var t=e.call(this,"HiddenWeaponUpgradePopUi")||this;return t.skinName=RRUU.$s("HiddenWeaponUpgradePopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.horizontalCenter=0,e.verticalCenter=0,e.tp=-1,e.title=fvg.GVf("beauty30"),e.currTxt.text=fvg.GVf("beauty32"),e.nextTxt.text=fvg.GVf("beauty33"),e.upgradeBtn.label=fvg.GVf("public008"),e.onekeyBtn.label=fvg.GVf("treasure25"),e.maxTxt.text=fvg.GVf("skill006")},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.eq,e),e.onekeyBtn.addEventListener(eui.tep,e.tv,e),vkG.$a(UtJ.WTM,e.vb,e),vkG.$a(UtJ.DV,e.tw,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.eq,e),e.onekeyBtn.removeEventListener(eui.tep,e.tv,e),vkG.$r(UtJ.WTM,e.vb,e),vkG.$r(UtJ.DV,e.tw,e)},t.prototype.initData=function(){this.jk()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ic=e[0],n.jk())},t.prototype.jk=function(){var e=this;if(e.CSo&&e.ic){e.uj=gLw.IQ(e.ic.tid),e.ph=App.OX.hwInfo[e.uj]||QycO.BE,e.upgradeIcon.upgradeId=e.ic.tid,e.nameTxt.text=e.ic.name,e.nameTxt.textColor=aKF.DU(gLw.GM(e.ic.tid)),e.gradeTxt.text=fvg.GVf("store034",e.ph.g||0,e.ic.maxgrade),e.fightTxt.text=fvg.GVf("public018",e.ph.cap||0);var t=10*(e.ph.p||0),n=10*App.JP.getHwUpgradeNeedCount(e.ph.g||0,e.ic);e.expTxt.text=fvg.GVf("public022",t,n),e.progBar.value=int(t/n*100),e.ph.g>=e.ic.maxgrade&&(e.progBar.value=100,e.expTxt.text="MAX"),e.cs(),e.bu(),-1!=e.tp&&e.ph.g!=e.tp&&App.KB.showEffect(gYq.UQ),e.tp=e.ph.g||0}},t.prototype.bu=function(){var e=this;if(e.ic){var t=XCA.YV(e.ic.attrid),n=(e.ic.p6||"").split(QycO.XP),i=App.JP.getHwUpgradeAttr(e.ph.g||1,t,n);e.currAttrTxt.text=AttributeTemplate.getAttrStringByTemp(i);var r=App.JP.getHwUpgradeAttr((e.ph.g||1)+1,t,n);e.nextAttrTxt.text=AttributeTemplate.getAttrStringByTemp(r,!1,e.maxTxt.visible)}},t.prototype.cs=function(){var e=this;if(e.ic&&e.ph)if((e.ph.g||0)<e.ic.maxgrade){e.upgradeGroup.visible=!0,e.maxTxt.visible=!1;var t=App.FK.hsx(e.ic.cost),n=1;e.needTxt_1.text=fvg.GVf("public022",t,n),e.needTxt_1.textColor=t>=n?Color.TX:Color.KA,e.needTxt_2.text=toChars(t),e.upgradeBtn.icon=e.onekeyBtn.icon=t>=n?StaticData.GHj:null}else e.upgradeGroup.visible=!1,e.maxTxt.visible=!0},t.prototype.eq=function(e){var t=this;if(t.ic&&t.ph)return t.upgradeBtn.icon?void HiddenWeaponMsgProxy.GC(1,t.uj):void _JDW.TR(parseInt(t.ic.cost))},t.prototype.tv=function(e){var t=this;if(t.ic&&t.ph)return t.onekeyBtn.icon?void HiddenWeaponMsgProxy.GC(2,t.uj):void _JDW.TR(parseInt(t.ic.cost))},t.prototype.vb=function(e){var t=this;e&&e.indexOf(t.uj)>=0&&t.jk()},t.prototype.tw=function(e){this.cs()},t.prototype.ou=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.upgradeIcon),t.upgradeIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.fightTxt),t.fightTxt=null,GObj.$d(t.currTxt),t.currTxt=null,GObj.$d(t.nextTxt),t.nextTxt=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.onekeyBtn),t.onekeyBtn=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,t.ph=null,t.ic=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HiddenWeaponUpgradePopUi.prototype,"HiddenWeaponUpgradePopUi");var HiddenWeaponUpstagePopUi=function(e){function t(){var t=e.call(this,"HiddenWeaponUpstagePopUi")||this;return t.skinName=RRUU.$s("HiddenWeaponUpstagePopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.md=-1,e.title=fvg.GVf("hw10"),e.currTxt.text=fvg.GVf("martialart25"),e.titleTxt.text=fvg.GVf("hw2"),e.upstageBtn.label=fvg.GVf("specia001"),e.descTxt.text=fvg.GVf("hw3"),e.fightView=GObj.$c(FightView),e.fightView.x=80,e.fightView.y=310,e.addChild(e.fightView),e.fi=GObj.$c(FigureView),e.fi.x=290,e.fi.y=200,e.addChild(e.fi)},t.prototype.initEvent=function(){var e=this;e.upstageBtn.addEventListener(eui.tep,e.az,e),vkG.$a(UtJ.WTM,e.q_,e),vkG.$a(UtJ.DV,e.qc,e)},t.prototype.removeEvent=function(){var e=this;e.upstageBtn.removeEventListener(eui.tep,e.az,e),vkG.$r(UtJ.WTM,e.q_,e),vkG.$r(UtJ.DV,e.qc,e)},t.prototype.initData=function(){this.ej()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ll=e[0],n.ej())},t.prototype.ej=function(){var e=this;if(e.CSo&&e.ll&&(e.bk=gLw.IQ(e.ll.tid),e.rg=XCA.AQS.UFA(64,e.bk,1),e.rg)){e.vn=App.OX.hwInfo[e.bk]||QycO.BE,e.upstageIcon.upgradeId=e.ll.tid,e.stageTxt.text="+"+toChars(e.vn.s||0);var t=e.needIcon.data;t||(t=GObj.$c(nlwj)),t.tid=parseInt(e.rg.cost),e.needIcon.data=t,FigureHelps.NW(e.fi,{b:"hiddenweapon"+e.bk},!1),e.fightView.fightNum=e.vn.cap?e.vn.cap:0,e.yb(),e.zl(),-1!=e.md&&e.md!=e.vn.s&&App.KB.showEffect(gYq.UQ),e.md=e.vn.s||0}},t.prototype.yb=function(){var e=this;if(e.rg&&e.vn){e.attrTxt_1.text=e.attrTxt_2.text="";var t=e.rg.attrid,n=XCA.YV(t);if(n){for(var i=e.vn.s||1,r=App.JP.getHwUpstageAttr(i,n),a=AttributeTemplate.getAttrStringByTemp(r),o=a.split("\n"),s=0;s<o.length;s++)s%2==0?e.attrTxt_1.text+=o[s]+"\n":e.attrTxt_2.text+=o[s]+"\n";var p=o.length%2==0?e.attrTxt_1:e.attrTxt_2;p.text+=fvg.GVf("hw8",e.rg.p1*i)}}},t.prototype.zl=function(){var e=this;if(e.rg){var t=App.FK.hsx(e.rg.cost),n=t>=1?aKF.DR:aKF.PU;e.needTxt.textFlow=LgRe.OQ(fvg.GVf("hw4",aKF.QV(n),t,1)),e.upstageBtn.icon=(e.vn.s||0)<e.rg.maxgrade&&n==aKF.DR?StaticData.GHj:null}},t.prototype.q_=function(e){var t=this;e&&e.indexOf(t.bk)>=0&&t.ej()},t.prototype.qc=function(e){this.zl()},t.prototype.az=function(e){var t=this;if(t.vn&&t.rg)return(t.vn.s||0)>=t.rg.maxgrade?void App.TT.show(fvg.GVf("skill006")):App.FK.hsx(t.rg.cost)<1?void _JDW.TR(parseInt(t.rg.cost)):void HiddenWeaponMsgProxy.HK(t.bk)},t.prototype.kp=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.currTxt),t.currTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.stageTxt),t.stageTxt=null,GObj.$d(t.upstageIcon),t.upstageIcon=null,GObj.$d(t.upstageBtn),t.upstageBtn=null,GObj.$d(t.needIcon),t.needIcon=null,GObj.$d(t.fi),t.fi=null,GObj.$d(t.fightView),t.fightView=null,t.ll=null,t.rg=null,t.vn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HiddenWeaponUpstagePopUi.prototype,"HiddenWeaponUpstagePopUi");var HiddenWeaponWearItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HiddenWeaponWearItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.gl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.gl,e)},t.prototype.initData=function(){var e=this;e.dataChanged(),e.invalidateState()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ga=e.data,e.itemView.upgradeId=e.ga.tid,e.stageTxt.text=fvg.GVf("skill020",App.JS.getSkinGrade(e.ga.tid)))},t.prototype.gl=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.stageTxt),t.stageTxt=null,t.ga=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HiddenWeaponWearItem.prototype,"HiddenWeaponWearItem");var HiddenWeaponWearPopUi=function(e){function t(){var t=e.call(this,"HiddenWeaponWearPopUi")||this;return t.skinName=RRUU.$s("HiddenWeaponWearPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("beauty29"),e.descTxt.text=fvg.GVf("hw6"),e.descTxt.visible=!1,e.pu=[],e.fightView=GObj.$c(FightView),e.fightView.x=113,e.fightView.y=45,e.addChild(e.fightView),e.rs=GObj.$c(FigureView),e.rs.x=275,e.rs.y=400,e.addChild(e.rs),e.beautyData=GObj.$c(eui.ArrayCollection),e.beautyList.dataProvider=e.beautyData,e.beautyList.itemRenderer=HiddenWeaponWearItem,e.hwData=GObj.$c(eui.ArrayCollection),e.hwList.dataProvider=e.hwData,e.hwList.itemRenderer=HiddenWeaponHWItem},t.prototype.initEvent=function(){var e=this;e.beautyList.addEventListener(egret.Event.CHANGE,e.mr,e),e.hwList.addEventListener(egret.Event.CHANGE,e.up,e),e.wearBtn.addEventListener(eui.tep,e.uw,e),vkG.$a(UtJ.WTM,e.dg,e)},t.prototype.removeEvent=function(){var e=this;e.beautyList.removeEventListener(egret.Event.CHANGE,e.mr,e),e.hwList.removeEventListener(egret.Event.CHANGE,e.up,e),e.wearBtn.removeEventListener(eui.tep,e.uw,e),vkG.$r(UtJ.WTM,e.dg,e)},t.prototype.initData=function(){this.nx()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ku=e[0],n.nx())},t.prototype.nx=function(){var e=this;if(e.CSo&&e.ku){e.yl=gLw.IQ(e.ku.tid);var t,n=XCA.AQS.oVs(33);e.beautyData.source.length=0;for(var i in n)t=n[i][1],t&&App.JS.getSkinGrade(t.tid)>0&&e.beautyData.source.push(t);e.beautyData.refresh(),e.beautyList.selectedIndex=0,e.mr(null)}},t.prototype.mr=function(e){var t=this;t.gh=t.beautyList.selectedItem,t.hg(),t.hwList.selectedIndex=0,t.up(null)},t.prototype.up=function(e){var t=this;t.ki=t.hwList.selectedItem,t.attrTxt_1.text="",t.ki>0?(t.descTxt.visible=!1,t.wearBtn.label=fvg.GVf("role8"),t.wearBtn.x=350,t.wearBtn.y=470,t.tu()):(t.descTxt.visible=!0,t.wearBtn.label=fvg.GVf("hw7"),t.wearBtn.x=278,t.wearBtn.y=481)},t.prototype.hg=function(){var e=this;if(e.gh){e.nameLbl.text=e.gh.name;var t;if(e.gh.p5){var n=e.gh.p5.split(QycO.PK);t=n[2]}FigureHelps.NW(e.rs,{b:t},!1),App.OX.getHWByBeautySubType(gLw.IQ(e.gh.tid),e.pu);for(var i=0;i<MaxLevel.HW_MAX_COUNT;i++)!e.pu[i]&&(e.pu[i]=-1);e.hwData.replaceAll(e.pu),e.ar();var r=App.OX.hwInfo[e.yl]||QycO.BE;e.wearBtn.visible=0==(r.f||0)}},t.prototype.ar=function(){var e=this;if(e.pu){for(var t,n=0,i=0;i<e.pu.length;i++)t=App.OX.hwInfo[e.pu[i]]||QycO.BE,n+=t.cap||0;e.fightView.fightNum=n}},t.prototype.tu=function(){var e=this;if(!(e.ki<=0)){e.pt=XCA.AQS.UFA(63,e.ki,1);var t=XCA.AQS.UFA(64,e.ki,1);if(t){var n=App.OX.hwInfo[e.ki]||QycO.BE,i=XCA.YV(t.attrid),r=App.JP.getHwUpstageAttr(n.s||1,i);if((n.g||0)>0){i=XCA.YV(e.pt.attrid);var a=App.JP.getHwUpgradeAttr(n.g,i,(e.pt.p6||"").split(QycO.XP));for(var o in a)r[o]=(r[o]||0)+a[o]}for(var s=AttributeTemplate.getAttrStringByTemp(r).split("\n"),p=0;p<s.length;p++)e.attrTxt_1.text+=s[p]+"\n"}}},t.prototype.dg=function(e){var t=this;e&&e.indexOf(t.yl)>=0&&(t.hg(),t.up(null))},t.prototype.uw=function(e){var t=this;if(!t.gh)return void App.TT.show(fvg.GVf("hw9"));var n=t.hwList.selectedIndex+1,i=gLw.IQ(t.gh.tid);HiddenWeaponMsgProxy.XI(t.yl,i,n),App.TT.show(fvg.GVf("hw11",t.wearBtn.label))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.wearBtn),t.wearBtn=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.nameLbl),t.nameLbl=null,GObj.$d(t.rs),t.rs=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.descTxt),t.descTxt=null,t.scroller_1&&(t.scroller_1.stopAnimation(),t.scroller_1.viewport=null,GObj.$d(t.scroller_1)),t.scroller_1=null,t.scroller_2&&(t.scroller_2.stopAnimation(),t.scroller_2.viewport=null,GObj.$d(t.scroller_2)),t.scroller_2=null,t.beautyList&&(t.beautyList.dataProvider=null,GObj.$d(t.beautyList)),t.beautyList=null,t.hwList&&(t.hwList.dataProvider=null,GObj.$d(t.hwList)),t.hwList=null,t.pu=null,t.pt=null,t.beautyData=null,t.hwData=null,t.ku=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HiddenWeaponWearPopUi.prototype,"HiddenWeaponWearPopUi");var HoroskopBagPopUi=function(e){function t(){var t=e.call(this,"HoroskopBagPopUi")||this;return t.skinName=RRUU.$s("HoroskopBagPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=e.horizontalCenter=0,e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=BagItemView,e.op=[],e.title=fvg.GVf("stunt5")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.RT,e.sp,e),vkG.$a(UtJ.VGD,e.sp,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.RT,e.sp,e),vkG.$r(UtJ.VGD,e.sp,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.vz=e[0],n.qh()},t.prototype.initData=function(){var e=this;e.CSo&&e.qh()},t.prototype.qh=function(){1==this.vz?HoroskopMsgProxy.CS(9):HoroskopMsgProxy.KT(9)},t.prototype.sp=function(){var e,t=this;1==t.vz?e=App.OF.eliminateInfo.rd||QycO.BE:2==t.vz&&(e=App.OF.generalEliminate.rd||QycO.BE);var n,i=(MaxLevel.ELI_BAG_SIZE,[]),r=e;for(var a in r)r&&(n=GObj.$c(nlwj),n.tid=parseInt(a),n.count=r[a],i.push(n));t.itemData.replaceAll(i)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.op&&(t.op.length=0),t.op=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HoroskopBagPopUi.prototype,"HoroskopBagPopUi");var HoroskopBoxItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("HoroskopBoxItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nr=GObj.$c(GeneralStarView),e.nr.maxStar=3,e.nr.open_star_key=["game_json.star_small_on_png"],e.nr.star_width=20,e.nr.gap=-1,e.nr.y=40,e.nr.x=0,e.addChild(e.nr)
},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ks,e),e.boxBtn.addEventListener(eui.tep,e.qv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ks,e),e.boxBtn.removeEventListener(eui.tep,e.qv,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.nr.currStar=e.itemIndex+1,e.nr.x=20-10*e.itemIndex,App.OF.eliminateInfo.s>=e.data?e.boxBtn.backImg.source="core_json.award_box_png":e.boxBtn.backImg.source="core_json.award_box_png")},t.prototype.ks=function(e){this.dispose()},t.prototype.qv=function(){var e=this,t=GObj.$c(BoxPopUi);t.showDetail(124,App.OF.eliminateInfo.s||0,e.data,"124_"+App.OF.eliminateInfo.cc+"_"+(e.itemIndex+1),void 0,!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.receivedImg),t.receivedImg=null,t.rq=null,t.data=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HoroskopBoxItem.prototype,"HoroskopBoxItem");var HoroskopChallengePopUi=function(e){function t(){var t=e.call(this,"HoroskopChallengePopUi")||this;return t.dn=0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descLab.text=fvg.GVf("horoskop7"),e.sz=GObj.$c(HoroskopGridView),e.sz.x=73,e.sz.y=178,e.addChild(e.sz),e.hc=[];var t=XCA.CG(IDU.JV);e.hc=t.split("|"),e.hc.unshift("0"),e.title=fvg.GVf("horoskop22")},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.dn=e[0],HoroskopMsgProxy.CS(1,n.dn))},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.boomBtn.addEventListener(eui.tep,e.qi,e),e.colorBtn.addEventListener(eui.tep,e.wl,e),e.energyBtn.addEventListener(eui.tep,e.ov,e),e.resetBtn.addEventListener(eui.tep,e.zo,e),e.bagBtn.addEventListener(eui.tep,e.ap,e),vkG.$a(UtJ.K_,e.gx,e),vkG.$a(UtJ.RMY,e.ld,e),vkG.$a(UtJ.SVO,e.gx,e),vkG.$a(UtJ.LT,e.sq,e),vkG.$a(UtJ.XR,e.pe,e)},t.prototype.removeEvent=function(){var e=this;e.boomBtn.removeEventListener(eui.tep,e.qi,e),e.colorBtn.removeEventListener(eui.tep,e.wl,e),e.energyBtn.removeEventListener(eui.tep,e.ov,e),e.resetBtn.removeEventListener(eui.tep,e.zo,e),e.bagBtn.removeEventListener(eui.tep,e.ap,e),vkG.$r(UtJ.K_,e.gx,e),vkG.$r(UtJ.RMY,e.ld,e),vkG.$r(UtJ.SVO,e.gx,e),vkG.$r(UtJ.LT,e.sq,e),vkG.$r(UtJ.XR,e.pe,e)},t.prototype.pe=function(){HoroskopMsgProxy.CS(1,App.OF.eliminateInfo.cp||1)},t.prototype.ld=function(){var e=this,t=App.OF.eliminateInfo.id||{},n=App.OF.eliminateInfo.idr||{};e.wu=(t[1]||0)-(n[1]||0),e.iw=(t[2]||0)-(n[2]||0),e.qq=n[3]||0,e.sf=(t[3]||0)-(n[3]||0),e.boomBtn.label=e.wu+"",e.colorBtn.label=e.iw+"",e.energyBtn.label=e.sf+"";var i=e.nb.split(QycO.XP),r=parseInt(i[i.length-1]);e.scoreBar.value=Math.min(int((App.OF.eliminateInfo.s||0)/r*100),100),e.scoreLab.text=App.OF.eliminateInfo.s+""},t.prototype.gx=function(){var e=this,t=App.OF.eliminateInfo.lt,n=(App.OF.eliminateInfo.cc,XCA.ANA(App.OF.getLevelTidByTypeAndLevel(1,e.dn)));if(n){var i=n.limit_time+(e.qq||0)*App.OF.timeAdd;e.energyBar.value=int(t/i*100),e.proLab.text=fvg.GVf("public022",t,i),e.nb=n.star||"",e.pg()}},t.prototype.pg=function(){var e=this;e.scoreData?e.scoreData.source.splice(0,e.scoreData.length):(e.scoreData=GObj.$c(eui.ArrayCollection),e.stageGroup.dataProvider=e.scoreData,e.stageGroup.itemRenderer=HoroskopBoxItem);for(var t=e.nb.split(","),n=t.length,i=0;n>i;i++)e.scoreData.source.push(parseInt(t[i]));e.scoreData.refresh(),e.socreLab1.text=t[0],e.socreLab2.text=t[1],e.socreLab3.text=t[2]},t.prototype.ap=function(){App.VS.popup(10084,HoroskopBagPopUi,null,1)},t.prototype.zo=function(){},t.prototype.ov=function(){var e=this;e.sf<=0&&e.twc(3),HoroskopMsgProxy.CS(7)},t.prototype.twc=function(e){var t=this;t.zy=e;var n=App.OF.eliminateInfo.bic||{},i=n[e]||0,r=parseInt(t.hc[e].split(",")[0]),a=parseInt(t.hc[e].split(",")[1]),o=parseInt(t.hc[e].split(",")[2]);return i>=o?void App.TT.show(fvg.GVf("arena8")):(t.jk=r+i*r>=a?a:r+i*r,void Alert.WK(fvg.GVf("horoskop21",t.jk,o-i,o),null,null,t.mi,t))},t.prototype.mi=function(){var e=this;App.BG.isPointEnough(e.jk)&&(App.TT.show(fvg.GVf("campaign2")),HoroskopMsgProxy.CS(10,e.zy))},t.prototype.wl=function(){var e=this;return e.iw<=0?void e.twc(2):App.OF.currSelectedPos<0?void MessageTipManager.instance.show(fvg.GVf("horoskop12")):void HoroskopMsgProxy.CS(6,App.OF.currSelectedPos)},t.prototype.qi=function(){var e=this;return e.wu<=0?void e.twc(1):App.OF.currSelectedPos<0?void MessageTipManager.instance.show(fvg.GVf("horoskop12")):void HoroskopMsgProxy.CS(5,App.OF.currSelectedPos)},t.prototype.vl=function(){var e=this;Alert.WK(fvg.GVf("horoskop13"),void 0,void 0,e.yo,e)},t.prototype.yo=function(){HoroskopMsgProxy.CS(4),this.sq()},t.prototype.sq=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.energyBar),t.energyBar=null,GObj.$d(t.scoreBar),t.scoreBar=null,GObj.$d(t.boomBtn),t.boomBtn=null,GObj.$d(t.colorBtn),t.colorBtn=null,GObj.$d(t.energyBtn),t.energyBtn=null,GObj.$d(t.resetBtn),t.resetBtn=null,GObj.$d(t.bagBtn),t.bagBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.sz),t.sz=null,GObj.$d(t.stageGroup),t.stageGroup=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.socreLab1),t.socreLab1=null,GObj.$d(t.socreLab2),t.socreLab2=null,GObj.$d(t.socreLab3),t.socreLab3=null,t.scoreData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HoroskopChallengePopUi.prototype,"HoroskopChallengePopUi");var HoroskopComboView=function(e){function t(){var t=e.call(this)||this;return t.initView(),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1,e._numImgArr=[],e._img=GObj.$c(eui.Image),e._img.source="horoskopframe_json.horoskop_combo_png",e._img.y=-32},t.prototype.show=function(e){var t=this;if(e>0){t.removeChildren(),t._img.x=0,t.addChild(t._img);var n=toChars(e),i=n.length,r=void 0,a=t._img.width;0==a&&(a=163);var o=0;for(o=0;i>o;o++)r=t._numImgArr[o],r||(r=t._numImgArr[o]=GObj.$c(eui.Image)),r.source="horoskopframe_json.horoskop_num_"+n.charAt(o)+"_png",r.x=a+2,r.y=-30,a+=r.width+2,t.addChild(r);i=t.numChildren,a=int(a/2);var s=void 0;for(o=0;i>o;o++)s=t.getChildAt(o),s.x-=a;egret.Tween.removeTweens(t),t.scaleX=t.scaleY=3,t.alpha=0,egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},200,egret.Ease.backInOut).wait(600).to({scaleX:3,scaleY:3,alpha:0},200,egret.Ease.backInOut)}},t.prototype.dispose=function(){var e=this;if(egret.Tween.removeTweens(e),GObj.$d(e._img),e._img=null,e._numImgArr)for(;e._numImgArr.length>0;)GObj.$d(e._numImgArr.pop());e._numImgArr=null,e.parent&&e.parent.removeChild(e)},t}(egret.DisplayObjectContainer);__reflect(HoroskopComboView.prototype,"HoroskopComboView");var HoroskopDescPopUi=function(e){function t(){return e.call(this,"HoroskopDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.DY,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(HoroskopDescPopUi.prototype,"HoroskopDescPopUi");var HoroskopGeneralGridView=function(e){function t(){var t=e.call(this)||this;return t.ya=!1,t.hb=!0,t.initView(),t.initEvent(),t.initData(),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.width=e.height=360;var t=e.scrollRect||GObj.$c(egret.Rectangle);t.x=-10,t.y=-10,t.width=360,t.height=360,e.scrollRect=t,e.selImg_1=GObj.$c(eui.Image),e.selImg_2=GObj.$c(eui.Image),e.selImg_1.source=e.selImg_2.source="horoskopframe_json.horoskop_selected_png",e.selImg_1.visible=e.selImg_2.visible=!1,e.selImg_1.touchEnabled=e.selImg_2.touchEnabled=!1,e.selImg_1.x=e.selImg_2.x=-9,e.selImg_1.y=e.selImg_2.y=-7,e.addChild(e.selImg_1),e.addChild(e.selImg_2),e.qq=[];for(var n=0;n<MaxLevel.MAX_COLS;n++)e.qq.push([]);e.kv=App.OF.generalEliminate,e.lp=[],e.dx=[],e.gy=[],e.wk=GObj.$c(egret.Point)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.QY,e.__gridUpdateHandler,e),vkG.$a(UtJ.GD,e.kh,e),vkG.$a(UtJ.VGD,e.yy,e)},t.prototype.kh=function(e){this.hb=e},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.QY,e.__gridUpdateHandler,e),vkG.$r(UtJ.GD,e.kh,e),vkG.$r(UtJ.VGD,e.yy,e)},t.prototype.initData=function(){var e=this,t=e.kv.map||QycO.BE;if(0!==Object.keys(t).length&&(e.hb=!1,e.mt=!0,!e.hb)){var n,i,r;for(var a in t)i=int(parseInt(a)/MaxLevel.MAX_COLS),r=parseInt(a)%MaxLevel.MAX_COLS,n=e.qq[r][i]||null,n||(n=GObj.$c(HoroskopItem),n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.sm,e),n.x=r*MaxLevel.EIL_WIDTH,n.y=i*MaxLevel.EIL_HEIGHT,e.addChild(n)),n.gemType=t[a],n.setPosition(i,r),n.playBackOut(),e.qq[r][i]=n;egret.Tween.get(e).wait(500).call(e.si,e)}},t.prototype.si=function(){var e=this;egret.Tween.removeTweens(e),e.mt=!1,4==App.OF.generalEliminate.code&&(e.fv(),App.OF.generalEliminate.code=0)},t.prototype.fv=function(){HoroskopMsgProxy.KT(3)},t.prototype.sm=function(e){var t=this;t.mt||t.ya||(t.ya=!0,t.bl=!1,t.tn=GApp.timer,t.ll=e.target,t.globalToLocal(e.stageX,e.stageY,t.wk),t.st=t.wk.x-t.ll.x,t.ba=t.wk.y-t.ll.y,t.addChild(t.ll),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.yf,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.yf,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,t.yu,t))},t.prototype.yf=function(e){var t=this;if(t.ya&&t.ll){if(t.lg(),!t.bl&&GApp.timer-t.tn<200)return t.ie(t.ll),void t.dq(!0);if(t.item_2=t.ls(30),t.item_2&&t.of())return void t.ln();t.ll.playDownMovie(),egret.Tween.get(t).wait(200).call(t.dq,t)}},t.prototype.dq=function(e){var t=this;!e&&egret.Tween.removeTweens(t),t.ll=null,t.ya=!1},t.prototype.yu=function(e){var t=this;t.ll&&(t.bl=!0,t.globalToLocal(e.stageX,e.stageY,t.wk),t.ll.x=t.wk.x-t.st,t.ll.y=t.wk.y-t.ba,t.item_2=t.ls(30),t.item_2&&(t.of()?t.ln():(t.lg(),t.ll.playDownMovie(),egret.Tween.get(t).wait(200).call(t.dq,t))))},t.prototype.ls=function(e){var t=this;if(!t.ll)return null;var n=t.ll.posPoint;if(t.wk.x=t.ll.x,t.wk.y=t.ll.y,egret.Point.distance(n,t.wk)<e)return null;var i,r=Math.atan2(t.wk.y-n.y,t.wk.x-n.x);return r>-Math.PI/4&&r<=Math.PI/4&&t.ll.cols<MaxLevel.MAX_COLS-1?i=t.qq[t.ll.cols+1][t.ll.rows]:r>Math.PI/4&&r<=3*Math.PI/4&&t.ll.rows<MaxLevel.MAX_ROWS-1?i=t.qq[t.ll.cols][t.ll.rows+1]:(r>3*Math.PI/4||r<=3*-Math.PI/4)&&t.ll.cols>0?i=t.qq[t.ll.cols-1][t.ll.rows]:r>3*-Math.PI/4&&r<=-Math.PI/4&&t.ll.rows>0&&(i=t.qq[t.ll.cols][t.ll.rows-1]),i},t.prototype.ln=function(){var e=this;e.item_1=e.ll,e.selImg_1.visible=e.selImg_2.visible=!0,e.item_1.addChild(e.selImg_1),e.item_2.addChild(e.selImg_2),e.mt=!0,e.lg(),e.dq(!0),e.xd()},t.prototype.lg=function(){var e=this;hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.yf,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.yf,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.yu,e)},t.prototype.ie=function(e){var t=this;if(!t.mt)return t.item_1==e?(t.item_1=null,void(t.selImg_1.visible=!1)):void(t.item_1&&t.qz(t.item_1,e)?(t.item_2=e,t.selImg_2.visible=!0,t.item_2.addChild(t.selImg_2),t.mt=!0,egret.Tween.get(t).wait(150).call(t.xd,t)):(t.item_1=e,t.selImg_1.visible=!0,App.OF.currSelectedPos=e.rows*MaxLevel.MAX_COLS+e.cols,t.item_1.addChild(t.selImg_1)))},t.prototype.of=function(){var e=this.kv.generalBags||[],t=MaxLevel.ELI_BAG_SIZE;return e.length>=t?(App.TT.show(fvg.GVf("elim11")),!1):!0},t.prototype.qz=function(e,t){return t.rows==e.rows&&(t.cols==e.cols+1||t.cols==e.cols-1)||t.cols==e.cols&&(t.rows==e.rows+1||t.rows==e.rows-1)?!0:!1},t.prototype.xd=function(){var e=this;egret.Tween.removeTweens(e);var t=e.item_1.rows,n=e.item_1.cols;e.item_1.setPosition(e.item_2.rows,e.item_2.cols),e.item_2.setPosition(t,n),e.qq[e.item_1.cols][e.item_1.rows]=e.item_1,e.qq[e.item_2.cols][e.item_2.rows]=e.item_2,egret.Tween.get(e.item_1).to({x:e.item_1.cols*MaxLevel.EIL_WIDTH,y:e.item_1.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),egret.Tween.get(e.item_2).to({x:e.item_2.cols*MaxLevel.EIL_WIDTH,y:e.item_2.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),egret.Tween.get(e).wait(300).call(e.yo,e)},t.prototype.yo=function(){var e=this;egret.Tween.removeTweens(e),e.item_1&&egret.Tween.removeTweens(e.item_1),e.item_2&&egret.Tween.removeTweens(e.item_2),e.selImg_1.visible=e.selImg_2.visible=!1,HoroskopMsgProxy.KT(2,e.item_1.position,e.item_2.position)},t.prototype.yy=function(){var e=this;if(1==App.OF.generalEliminate.code){if(egret.Tween.removeTweens(e),!e.item_1&&!e.item_2)return;var t=e.item_1.rows,n=e.item_1.cols;return e.item_1.setPosition(e.item_2.rows,e.item_2.cols),e.item_2.setPosition(t,n),e.qq[e.item_1.cols][e.item_1.rows]=e.item_1,e.qq[e.item_2.cols][e.item_2.rows]=e.item_2,egret.Tween.get(e.item_1).to({x:e.item_1.cols*MaxLevel.EIL_WIDTH,y:e.item_1.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),egret.Tween.get(e.item_2).to({x:e.item_2.cols*MaxLevel.EIL_WIDTH,y:e.item_2.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),App.OF.generalEliminate.code=0,void(e.mt=!1)}5==App.OF.generalEliminate.code&&(e.mh(),App.OF.generalEliminate.code=0),(2==App.OF.generalEliminate.code||3==App.OF.generalEliminate.code)&&e.ut()},t.prototype.ut=function(){for(var e,t=this,n=0;n<MaxLevel.MAX_COLS;n++)for(var i=0;i<MaxLevel.MAX_COLS;i++)e=t.qq[n][i],e.removeEventListener(eui.tep,t.ie,t),egret.Tween.removeTweens(e),t.removeChild(e);t.qq=[];for(var n=0;n<MaxLevel.MAX_COLS;n++)t.qq.push([])},t.prototype.__gridUpdateHandler=function(){var e=this;if(e.hb)return void e.initData();if(e.kv.rm.length>0?e.mt=!0:e.mt=!1,e.mt){var t=e.kv.rm;t&&t.length>0?(e.ue(t),e.kv.cgs>=2?e.bn(e.kv.cgs):e.ar(t.length-4)):(e.item_1=e.item_2=null,App.OF.currSelectedPos=-1,e.mt=!1)}},t.prototype.ue=function(e){var t,n,i,r,a,o,s,p=this;for(r=0;r<e.length;r++)t=p.vj(e[r]),n=int(t/MaxLevel.MAX_COLS),i=t%MaxLevel.MAX_COLS,s=p.qq[i][n],s.removeEventListener(eui.tep,p.ie,p),s.playRemovedMovie(),p.na(s),p.qq[i][n]=null;o=p.qq.length;var l,c,u=[];for(r=0;o>r;r++){for(l=p.qq[r],a=l.length-1;a>=0;a--)l[a]||(u[r]=(u[r]||0)+1,l.splice(a,1));for(c=u[r]||0,a=0;c>a;a++)s=GObj.$c(HoroskopItem),s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,p.sm,p),l.unshift(s)}var d=p.kv.add||QycO.BE;for(var g in d)t=p.vj(parseInt(g)),n=int(t/MaxLevel.MAX_COLS),i=t%MaxLevel.MAX_COLS,s=p.qq[i][n],s.gemType=d[g],s.setPosition(n,i),s.x=i*MaxLevel.EIL_WIDTH,s.y=n*MaxLevel.EIL_HEIGHT-u[i]*MaxLevel.EIL_HEIGHT,p.addChild(s);egret.Tween.get(p).wait(600).call(p.mh,p)},t.prototype.vj=function(e){var t=Math.floor(e/100),n=e%100,i=t*MaxLevel.MAX_COLS+n;return i},t.prototype.mh=function(){var e=this;if(e.kv){var t,n,i,r=e.kv.map||QycO.BE;for(var a in r)n=int(parseInt(a)/MaxLevel.MAX_COLS),i=parseInt(a)%MaxLevel.MAX_COLS,t=e.qq[i][n],t.gemType=r[a],t.setPosition(n,i),t.playDownMovie();egret.Tween.get(e).wait(300).call(e.si,e)}},t.prototype.ja=function(e,t){var n=this;if(e&&n.gy){var i=n.gy[t];i||(i=n.gy[t]={}),i.x=n.x+e.x+10,i.y=n.y+e.y+10,i.i=-1,i.a=1,egret.Tween.removeTweens(i),egret.Tween.get(i,{onChange:n.tp,onChangeObj:this},i).wait(300).to({x:30,y:120,a:0},200)}},t.prototype.tp=function(e){var t=this,n=e.target.pluginData;if(n&&1!=n.a){var i=n.i;if(n.i=i+1,i%3==0){var r;t.dx.length>0?r=t.dx.shift():(r=App.KB.getUIEffect(gYq.AA,100),r.stop()),r.addEventListener(egret.Event.COMPLETE,t.pq,t),r.x=n.x+10,r.y=n.y+10,r.play(1),t.parent&&t.parent.addChild(r)}}},t.prototype.pq=function(e){var t=this,n=e.target;n&&(n.removeEventListener(egret.Event.COMPLETE,t.pq,t),n.stop(),n.parent&&n.parent.removeChild(n),t.dx?t.dx.push(n):GObj.$d(n))},t.prototype.na=function(e){var t=this;if(e){var n;t.lp.length>0?n=t.lp.shift():(n=App.KB.getUIEffect(gYq.HN,70),n.stop()),n.addEventListener(egret.Event.COMPLETE,t.ga,t),n.x=e.x-16,n.y=e.y-20,n.play(1),t.addChild(n)}},t.prototype.ga=function(e){var t=this,n=e.target;n&&(n.removeEventListener(egret.Event.COMPLETE,t.ga,t),n.stop(),n.parent&&n.parent.removeChild(n),t.lp?t.lp.push(n):GObj.$d(n))},t.prototype.bn=function(e){var t=this;t.sr||(t.sr=GObj.$c(HoroskopComboView),t.sr.x=int(t.width/2),t.sr.y=t.height/2),t.sr.show(e),t.addChild(t.sr)},t.prototype.ar=function(e){var t=this;0>=e||(e=Math.min(e,3),t.perfectImg||(t.perfectImg=GObj.$c(eui.Image),t.perfectImg.touchEnabled=!1),t.perfectImg.source="horoskopframe_json.horoskop_perfect_"+e+"_png",t.perfectImg.anchorOffsetX=t.perfectImg.width/2,t.perfectImg.anchorOffsetY=t.perfectImg.height/2,t.perfectImg.x=t.width/2,t.perfectImg.y=t.height/2,egret.Tween.removeTweens(t.perfectImg),t.perfectImg.alpha=0,t.perfectImg.scaleX=t.perfectImg.scaleY=3,t.addChild(t.perfectImg),egret.Tween.get(t.perfectImg).to({scaleX:1,scaleY:1,alpha:1},200,egret.Ease.backInOut).wait(600).to({scaleX:3,scaleY:3,alpha:0},200,egret.Ease.backInOut))},t.prototype.dispose=function(){var e=this;if(e.removeEvent(),egret.Tween.removeTweens(e),GObj.$d(e.selImg_1),e.selImg_1=null,GObj.$d(e.selImg_2),e.selImg_2=null,e.perfectImg&&egret.Tween.removeTweens(e.perfectImg),GObj.$d(e.perfectImg),e.perfectImg=null,GObj.$d(e.sr),e.sr=null,e.qq){for(var t=void 0,n=void 0,i=0;i<e.qq.length;i++)for(t=e.qq[i];t.length>0;)n=t.pop(),n.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.sm,e),egret.Tween.removeTweens(n),e.removeChild(n),n.dispose();n=t=null}if(e.qq=null,e.lp)for(;e.lp.length>0;)GObj.$d(e.lp.pop());if(e.lp=null,e.dx)for(;e.dx.length>0;)GObj.$d(e.dx.pop());if(e.dx=null,e.gy)for(;e.gy.length>0;)egret.Tween.removeTweens(e.gy.pop());e.gy=null,e.item_1=e.item_2=null,e.parent&&e.parent.removeChild(e),e.hb=!0,e.lg(),App.OF.generalEliminate.code=0},t}(eui.Component);__reflect(HoroskopGeneralGridView.prototype,"HoroskopGeneralGridView");var HoroskopGeneralView=function(e){function t(){var t=e.call(this,"HoroskopGeneralView")||this;return t.lm=1e3,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardDatas=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardDatas,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.da=GObj.$c(HoroskopGeneralGridView),e.da.x=69,e.da.y=250,e.addChild(e.da),e.ew=GObj.$c(egret.Shape),e.ew.x=69,e.ew.y=213,e.ew.graphics.beginFill(7368816,.5),e.ew.graphics.drawRect(0,0,360,400),e.ew.graphics.endFill(),e.ew.touchEnabled=!0,e.addChild(e.ew),e.swapChildren(e.startBtn,e.ew)},t.prototype.initData=function(){var e=this;e.rk=XCA.CG(IDU.LVA).split(","),e.rk.unshift("0"),e.fi()},t.prototype.fi=function(){var e=this,t=XCA.RE("127_1");e.rewardDatas.source=Nkz.PI(t),e.rewardDatas.refresh(),e.mh(),e.un()},t.prototype.initEvent=function(){var e=this;e.rewardBtn.addEventListener(eui.tep,e.mj,e),e.bagBtn.addEventListener(eui.tep,e.kq,e),e.boxBtn.addEventListener(eui.tep,e.fh,e),e.startBtn.addEventListener(eui.tep,e.gu,e),e.helpBtn.addEventListener(eui.tep,e.tu,e),vkG.$a(UtJ.IV,e.no,e),vkG.$a(UtJ.QY,e.un,e),vkG.$a(UtJ.LT,e.js,e),vkG.$a(UtJ.UL,e.mh,e),vkG.$a(UtJ.LBI,e.un,e),vkG.$a(UtJ.PJ,e.mh,e)},t.prototype.removeEvent=function(){var e=this;e.helpBtn.removeEventListener(eui.tep,e.tu,e),e.rewardBtn.removeEventListener(eui.tep,e.mj,e),e.bagBtn.removeEventListener(eui.tep,e.kq,e),e.boxBtn.removeEventListener(eui.tep,e.fh,e),e.startBtn.removeEventListener(eui.tep,e.gu,e),vkG.$r(UtJ.IV,e.no,e),vkG.$r(UtJ.QY,e.un,e),vkG.$r(UtJ.LT,e.js,e),vkG.$r(UtJ.UL,e.mh,e),vkG.$r(HUtJ.HEARTBEAT,e.xp,e),vkG.$r(UtJ.LBI,e.un,e),vkG.$r(UtJ.PJ,e.mh,e)},t.prototype.dataUpdated=function(){},t.prototype.mh=function(){var e=this;e.timeLab.text=fvg.GVf("horoskop15",App.KF.happy_clear,StaticData.HOROSKOP_TIME),App.KF.happy_clear>=StaticData.HOROSKOP_TIME&&(e.countTimeLab.text=fvg.GVf("horoskop20")),App.KF.happy_clear<StaticData.HOROSKOP_TIME&&(e.fy=App.KF.et.happy_clear||0+StaticData.HOROSKOP-App.NN.serverSecond,App.NN.serverSecond-App.KF.et>=StaticData.HOROSKOP?e.fy=0:e.fy=StaticData.HOROSKOP-(App.NN.serverSecond-App.KF.et.happy_clear||0),e.fy>=0&&vkG.$a(HUtJ.HEARTBEAT,e.xp,e))},t.prototype.xp=function(){var e=this;e.countTimeLab.text=fvg.GVf("horoskop19",kpd.YW(e.fy)),e.fy<0&&vkG.$r(HUtJ.HEARTBEAT,e.xp,e),e.fy--},t.prototype.no=function(){var e=this,t=App.OF.generalEliminate.lt,n=XCA.ANA(App.OF.getLevelTidByTypeAndLevel(2,1));if(n){var i=n.limit_time;e.energyBar.value=int(t/i*100),e.proLab.text=fvg.GVf("public022",t,i)}},t.prototype.un=function(){var e,t=this,n=App.OF.generalEliminate.ps||0,i=App.OF.generalEliminate.s||0,r=n+i;e=r>=t.lm&&int(r/t.lm)*t.lm+t.lm>=t.lm?int(r/t.lm)*t.lm+t.lm:t.lm,t.progressBar.value=Math.min(int(r/e*100),e),t.scoreLab.text=fvg.GVf("public022",r,e)},t.prototype.js=function(){var e=this;e.ew.visible=!0,e.startBtn.visible=!0,App.OF.generalEliminate.code=0,vkG.$d(UtJ.GD,!0)},t.prototype.gu=function(){var e=this;return App.KF.happy_clear<=0?void MessageTipManager.instance.show(fvg.GVf("arena9")):(HoroskopMsgProxy.KT(1),e.ew.visible=!1,void(e.startBtn.visible=!1))},t.prototype.fh=function(){App.VS.popup(10083,HoroskopScoreRankPopUi)},t.prototype.kq=function(){App.VS.open(10019)},t.prototype.mj=function(){App.VS.popup(10083,HoroskopSpecialPopUi)},t.prototype.tu=function(){App.VS.popup(10083,HoroskopDescPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),HoroskopMsgProxy.KT(4),GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,GObj.$d(t.bagBtn),t.bagBtn=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.countTimeLab),t.countTimeLab=null,GObj.$d(t.da),t.da=null,GObj.$d(t.ew),t.ew=null,GObj.$d(t.energyBar),t.energyBar=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,t.ew&&(GObj.$d(t.ew),t.ew=null),t.startBtn&&(GObj.$d(t.startBtn),t.startBtn=null),t.rewardDatas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(HoroskopGeneralView.prototype,"HoroskopGeneralView");var HoroskopGridView=function(e){function t(){var t=e.call(this)||this;return t.pw=!1,t.initView(),t.initEvent(),t.initData(),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.mh=!0,e.width=e.height=360;var t=e.scrollRect||GObj.$c(egret.Rectangle);t.x=-10,t.y=-10,t.width=360,t.height=360,e.scrollRect=t,e.selImg_1=GObj.$c(eui.Image),e.selImg_2=GObj.$c(eui.Image),e.selImg_1.source=e.selImg_2.source="horoskopframe_json.horoskop_selected_png",e.selImg_1.visible=e.selImg_2.visible=!1,e.selImg_1.touchEnabled=e.selImg_2.touchEnabled=!1,e.selImg_1.x=e.selImg_2.x=-13,e.selImg_1.y=e.selImg_2.y=-15,e.addChild(e.selImg_1),e.addChild(e.selImg_2),e.qm=[];for(var n=0;n<MaxLevel.MAX_COLS;n++)e.qm.push([]);e.jc=App.OF.eliminateInfo,e.oq=[],e.nb=[],e.tz=[],e.xe=GObj.$c(egret.Point)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.K_,e.__gridUpdateHandler,e),vkG.$a(UtJ.RT,e.mw,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.K_,e.__gridUpdateHandler,e),vkG.$r(UtJ.RT,e.mw,e)},t.prototype.initData=function(){var e=this;if(!e.mh){var t,n,i,r=e.jc.map||QycO.BE;for(var a in r)n=int(parseInt(a)/MaxLevel.MAX_COLS),i=parseInt(a)%MaxLevel.MAX_COLS,t=GObj.$c(HoroskopItem),t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.co,e),t.x=i*MaxLevel.EIL_WIDTH,t.y=n*MaxLevel.EIL_HEIGHT,t.gemType=r[a],t.setPosition(n,i),t.playBackOut(),e.addChild(t),e.qm[i][n]=t;egret.Tween.get(e).wait(500).call(e.cq,e)}},t.prototype.cq=function(){var e=this;egret.Tween.removeTweens(e),e.kc=!1,4==App.OF.eliminateInfo.code&&(e.jq(),App.OF.eliminateInfo.code=0)},t.prototype.jq=function(){HoroskopMsgProxy.CS(3)},t.prototype.co=function(e){var t=this;t.kc||t.pw||(t.pw=!0,t.nf=!1,t.ax=GApp.timer,t.yk=e.target,t.globalToLocal(e.stageX,e.stageY,t.xe),t.jw=t.xe.x-t.yk.x,t.mz=t.xe.y-t.yk.y,t.addChild(t.yk),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.tm,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.tm,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,t.gh,t))},t.prototype.tm=function(e){var t=this;if(t.pw&&t.yk){if(t.lp(),!t.nf&&GApp.timer-t.ax<200)return t.hw(t.yk),void t.ju(!0);if(t.item_2=t.gu(20),t.item_2&&t.ao())return void t.cr();t.yk.playDownMovie(),egret.Tween.get(t).wait(200).call(t.ju,t)}},t.prototype.ju=function(e){var t=this;!e&&egret.Tween.removeTweens(t),t.yk=null,t.pw=!1},t.prototype.gh=function(e){var t=this;t.yk&&(t.nf=!0,t.globalToLocal(e.stageX,e.stageY,t.xe),t.yk.x=t.xe.x-t.jw,t.yk.y=t.xe.y-t.mz,t.item_2=t.gu(60),t.item_2&&(t.ao()?t.cr():(t.lp(),t.yk.playDownMovie(),egret.Tween.get(t).wait(200).call(t.ju,t))))},t.prototype.gu=function(e){var t=this;if(!t.yk)return null;var n=t.yk.posPoint;if(t.xe.x=t.yk.x,t.xe.y=t.yk.y,egret.Point.distance(n,t.xe)<e)return null;var i,r=Math.atan2(t.xe.y-n.y,t.xe.x-n.x);return r>-Math.PI/4&&r<=Math.PI/4&&t.yk.cols<MaxLevel.MAX_COLS-1?i=t.qm[t.yk.cols+1][t.yk.rows]:r>Math.PI/4&&r<=3*Math.PI/4&&t.yk.rows<MaxLevel.MAX_ROWS-1?i=t.qm[t.yk.cols][t.yk.rows+1]:(r>3*Math.PI/4||r<=3*-Math.PI/4)&&t.yk.cols>0?i=t.qm[t.yk.cols-1][t.yk.rows]:r>3*-Math.PI/4&&r<=-Math.PI/4&&t.yk.rows>0&&(i=t.qm[t.yk.cols][t.yk.rows-1]),i},t.prototype.cr=function(){var e=this;e.item_1=e.yk,e.selImg_1.visible=e.selImg_2.visible=!0,e.item_1.addChild(e.selImg_1),e.item_2.addChild(e.selImg_2),e.kc=!0,e.lp(),e.ju(!0),e.lz()},t.prototype.lp=function(){var e=this;hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.tm,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.tm,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,e.gh,e)},t.prototype.hw=function(e){var t=this;if(!t.kc)return t.item_1==e?(t.item_1=null,void(t.selImg_1.visible=!1)):void(t.ao()&&(t.item_1&&t.qh(t.item_1,e)?(t.item_2=e,t.selImg_2.visible=!0,t.item_2.addChild(t.selImg_2),t.kc=!0,egret.Tween.get(t).wait(150).call(t.lz,t)):(t.item_1=e,t.selImg_1.visible=!0,App.OF.currSelectedPos=e.rows*MaxLevel.MAX_COLS+e.cols,t.item_1.addChild(t.selImg_1))))},t.prototype.ao=function(){var e=this.jc.rd||[],t=MaxLevel.ELI_BAG_SIZE;return e.length>=t?(App.TT.show(fvg.GVf("elim11")),!1):!0},t.prototype.qh=function(e,t){return t.rows==e.rows&&(t.cols==e.cols+1||t.cols==e.cols-1)||t.cols==e.cols&&(t.rows==e.rows+1||t.rows==e.rows-1)?!0:!1},t.prototype.lz=function(){var e=this;egret.Tween.removeTweens(e);var t=e.item_1.rows,n=e.item_1.cols;e.item_1.setPosition(e.item_2.rows,e.item_2.cols),e.item_2.setPosition(t,n),e.qm[e.item_1.cols][e.item_1.rows]=e.item_1,e.qm[e.item_2.cols][e.item_2.rows]=e.item_2,egret.Tween.get(e.item_1).to({x:e.item_1.cols*MaxLevel.EIL_WIDTH,y:e.item_1.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),egret.Tween.get(e.item_2).to({x:e.item_2.cols*MaxLevel.EIL_WIDTH,y:e.item_2.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),egret.Tween.get(e).wait(300).call(e._h,e)},t.prototype._h=function(){var e=this;egret.Tween.removeTweens(e),e.item_1&&egret.Tween.removeTweens(e.item_1),e.item_2&&egret.Tween.removeTweens(e.item_2),e.selImg_1.visible=e.selImg_2.visible=!1,HoroskopMsgProxy.CS(2,e.item_1.position,e.item_2.position)},t.prototype.mw=function(){var e=this;if(1==App.OF.eliminateInfo.code){if(egret.Tween.removeTweens(e),!e.item_1&&!e.item_2)return;var t=e.item_1.rows,n=e.item_1.cols;return e.item_1.setPosition(e.item_2.rows,e.item_2.cols),e.item_2.setPosition(t,n),e.qm[e.item_1.cols][e.item_1.rows]=e.item_1,e.qm[e.item_2.cols][e.item_2.rows]=e.item_2,egret.Tween.get(e.item_1).to({x:e.item_1.cols*MaxLevel.EIL_WIDTH,y:e.item_1.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),egret.Tween.get(e.item_2).to({x:e.item_2.cols*MaxLevel.EIL_WIDTH,y:e.item_2.rows*MaxLevel.EIL_HEIGHT},200,egret.Ease.sineOut),App.OF.eliminateInfo.code=0,void(e.kc=!1)}return 5==App.OF.eliminateInfo.code?(e.tw(),void(App.OF.eliminateInfo.code=0)):void 0},t.prototype.__gridUpdateHandler=function(){var e=this;if(e.mh)return e.mh=!1,e.kc=!0,void e.initData();if(5==App.OF.eliminateInfo.code)return e.tw(),void(App.OF.eliminateInfo.code=0);if(e.jc.rm.length>0?e.kc=!0:e.kc=!1,e.kc){var t=e.jc.rm;t&&t.length>0?(e.yv(t),e.jc.cgs>=2?e.wq(e.jc.cgs):e.yb(t.length-4)):(e.item_1=e.item_2=null,App.OF.currSelectedPos=-1,e.kc=!1)}},t.prototype.yv=function(e){var t,n,i,r,a,o,s,p=this;for(r=0;r<e.length;r++)t=p.yi(e[r]),n=int(t/MaxLevel.MAX_COLS),i=t%MaxLevel.MAX_COLS,s=p.qm[i][n],s.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,p.co,p),s.playRemovedMovie(),p.eo(s),p.qm[i][n]=null;o=p.qm.length;var l,c,u=[];for(r=0;o>r;r++){for(l=p.qm[r],a=l.length-1;a>=0;a--)l[a]||(u[r]=(u[r]||0)+1,l.splice(a,1));for(c=u[r]||0,a=0;c>a;a++)s=GObj.$c(HoroskopItem),s.addEventListener(egret.TouchEvent.TOUCH_BEGIN,p.co,p),l.unshift(s)}var d=p.jc.add||QycO.BE;for(var g in d)t=p.yi(parseInt(g)),n=int(t/MaxLevel.MAX_COLS),i=t%MaxLevel.MAX_COLS,s=p.qm[i][n],s.gemType=d[g],s.setPosition(n,i),s.x=i*MaxLevel.EIL_WIDTH,s.y=n*MaxLevel.EIL_HEIGHT-u[i]*MaxLevel.EIL_HEIGHT,p.addChild(s);egret.Tween.get(p).wait(600).call(p.tw,p)},t.prototype.yi=function(e){var t=Math.floor(e/100),n=e%100,i=t*MaxLevel.MAX_COLS+n;return i},t.prototype.tw=function(){var e=this;if(e.jc){var t,n,i,r=e.jc.map||QycO.BE;for(var a in r)n=int(parseInt(a)/MaxLevel.MAX_COLS),i=parseInt(a)%MaxLevel.MAX_COLS,t=e.qm[i][n],t.gemType=r[a],t.setPosition(n,i),t.playDownMovie();egret.Tween.get(e).wait(300).call(e.cq,e)}},t.prototype.ns=function(e,t){var n=this;if(e&&n.tz){var i=n.tz[t];i||(i=n.tz[t]={}),i.x=n.x+e.x+10,i.y=n.y+e.y+10,i.i=-1,i.a=1,egret.Tween.removeTweens(i),egret.Tween.get(i,{onChange:n.wz,onChangeObj:this},i).wait(300).to({x:30,y:120,a:0},200)}},t.prototype.wz=function(e){var t=this,n=e.target.pluginData;if(n&&1!=n.a){var i=n.i;if(n.i=i+1,i%3==0){var r;t.nb.length>0?r=t.nb.shift():(r=App.KB.getUIEffect(gYq.AA,100),r.stop()),r.addEventListener(egret.Event.COMPLETE,t.rr,t),r.x=n.x+10,r.y=n.y+10,r.play(1),t.parent&&t.parent.addChild(r)}}},t.prototype.rr=function(e){var t=this,n=e.target;n&&(n.removeEventListener(egret.Event.COMPLETE,t.rr,t),n.stop(),n.parent&&n.parent.removeChild(n),t.nb?t.nb.push(n):GObj.$d(n))
},t.prototype.eo=function(e){var t=this;if(e){var n;t.oq.length>0?n=t.oq.shift():(n=App.KB.getUIEffect(gYq.HN,70),n.stop()),n.addEventListener(egret.Event.COMPLETE,t.jo,t),n.x=e.x-16,n.y=e.y-20,n.play(1),t.addChild(n)}},t.prototype.jo=function(e){var t=this,n=e.target;n&&(n.removeEventListener(egret.Event.COMPLETE,t.jo,t),n.stop(),n.parent&&n.parent.removeChild(n),t.oq?t.oq.push(n):GObj.$d(n))},t.prototype.wq=function(e){var t=this;t.dw||(t.dw=GObj.$c(HoroskopComboView),t.dw.x=int(t.width/2),t.dw.y=t.height/2),t.dw.show(e),t.addChild(t.dw)},t.prototype.yb=function(e){var t=this;0>=e||(e=Math.min(e,3),t.perfectImg||(t.perfectImg=GObj.$c(eui.Image),t.perfectImg.touchEnabled=!1),t.perfectImg.source="horoskopframe_json.horoskop_perfect_"+e+"_png",t.perfectImg.anchorOffsetX=t.perfectImg.width/2,t.perfectImg.anchorOffsetY=t.perfectImg.height/2,t.perfectImg.x=t.width/2,t.perfectImg.y=t.height/2,egret.Tween.removeTweens(t.perfectImg),t.perfectImg.alpha=0,t.perfectImg.scaleX=t.perfectImg.scaleY=3,t.addChild(t.perfectImg),egret.Tween.get(t.perfectImg).to({scaleX:1,scaleY:1,alpha:1},200,egret.Ease.backInOut).wait(600).to({scaleX:3,scaleY:3,alpha:0},200,egret.Ease.backInOut))},t.prototype.dispose=function(){var e=this;if(e.removeEvent(),egret.Tween.removeTweens(e),GObj.$d(e.selImg_1),e.selImg_1=null,GObj.$d(e.selImg_2),e.selImg_2=null,e.perfectImg&&egret.Tween.removeTweens(e.perfectImg),GObj.$d(e.perfectImg),e.perfectImg=null,GObj.$d(e.dw),e.dw=null,e.qm){for(var t=void 0,n=void 0,i=0;i<e.qm.length;i++)for(t=e.qm[i];t.length>0;)n=t.pop(),n.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.co,e),egret.Tween.removeTweens(n),n.dispose();n=t=null}if(e.qm=null,e.oq)for(;e.oq.length>0;)GObj.$d(e.oq.pop());if(e.oq=null,e.nb)for(;e.nb.length>0;)GObj.$d(e.nb.pop());if(e.nb=null,e.tz)for(;e.tz.length>0;)egret.Tween.removeTweens(e.tz.pop());e.tz=null,e.item_1=e.item_2=null,e.parent&&e.parent.removeChild(e),e.mh=!0,e.lp(),App.OF.eliminateInfo.code=0},t}(eui.Component);__reflect(HoroskopGridView.prototype,"HoroskopGridView");var HoroskopItem=function(e){function t(){var t=e.call(this,"HoroskopItem")||this;return t.skinName=RRUU.$s("HoroskopItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.mu=GObj.$c(egret.Point)},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.zg()},Object.defineProperty(t.prototype,"gemType",{get:function(){return this.va},set:function(e){var t=this;t.va=e,t.zg()},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(e,t){var n=this;n.hq=e,n.vz=t},Object.defineProperty(t.prototype,"rows",{get:function(){return this.hq},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return this.vz},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){var e=this;return e.hq*MaxLevel.MAX_COLS+e.vz},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"posPoint",{get:function(){var e=this;return e.mu.x=e.vz*MaxLevel.EIL_WIDTH,e.mu.y=e.hq*MaxLevel.EIL_HEIGHT,e.mu},enumerable:!0,configurable:!0}),t.prototype.zg=function(){var e=this;e.CSo&&e.va&&(e.gemImg.source="horoskopframe_json.horoskop_gem_"+e.va+"_png")},t.prototype.playBackOut=function(){var e=this;e.gemImg.scaleX=e.gemImg.scaleY=0,egret.Tween.get(e.gemImg).wait(80*(e.hq+1)).to({scaleX:1,scaleY:1},150,egret.Ease.backOut)},t.prototype.playRemovedMovie=function(){var e=this;egret.Tween.get(e.gemImg).wait(350).to({scaleX:0,scaleY:0},150,egret.Ease.backIn).call(e.dispose,e)},t.prototype.playDownMovie=function(){var e=this;e.posPoint,egret.Tween.get(e).to({x:e.mu.x,y:e.mu.y},200,egret.Ease.sineIn)},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),t.gemImg&&egret.Tween.removeTweens(t.gemImg),t.gemImg.source=null,t.va=0,t.hq=t.vz=0,t.gemImg.scaleX=t.gemImg.scaleY=1,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HoroskopItem.prototype,"HoroskopItem");var HoroskopLevelView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HoroskopLevelView"),t}return __extends(t,e),t.prototype.initView=function(){this.challengeBtn.label=fvg.GVf("37")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.sw=e.data.temp,e.levelNameLab.text=e.sw.name;var t=App.KF.hcccp||0;e.hy=e.data.maxNum-e.itemIndex,e.levelLab.text=fvg.GVf("horoskop5",e.hy),t+1==e.hy?(e.challengeBtn.visible=!0,e.descLab.visible=!1):t+1>e.hy?(e.challengeBtn.visible=!0,e.descLab.visible=!1):(e.challengeBtn.visible=!1,e.descLab.text=fvg.GVf("horoskop4",e.hy-1),e.descLab.visible=!0);var n=e.data.info||{};n.name?(e.headIcon.icon=kLM.JU(parseInt(n.head),parseInt(n.heads))||null,e.nameLab.text=fvg.GVf("public020",n.name||"--"),e.scoreLab.text=fvg.GVf("public067",n.s||"--")):(e.headIcon.icon=null,e.nameLab.text=fvg.GVf("public020","--"),e.scoreLab.text=fvg.GVf("public067","--"))}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ki,e),e.challengeBtn.addEventListener(eui.tep,e.fn,e),vkG.$a(UtJ.ARQ,e.ll,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ki,e),e.challengeBtn.removeEventListener(eui.tep,e.fn,e),vkG.$r(UtJ.ARQ,e.ll,e),vkG.$r(UtJ.SK,e.zk,e)},t.prototype.ll=function(){},t.prototype.zk=function(){this.dataChanged()},t.prototype.fn=function(){var e=App.OF.eliminateInfo.io||0;return 0>=e?void MessageTipManager.instance.show(fvg.GVf("public036")):App.OF.eliminateInfo.cjt<=0?void MessageTipManager.instance.show(fvg.GVf("arena9")):void App.VS.popup(10084,HoroskopChallengePopUi,null,this.hy)},t.prototype.ki=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.levelLab),t.levelLab=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.levelNameLab),t.levelNameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HoroskopLevelView.prototype,"HoroskopLevelView");var HoroskopMainView=function(e){function t(){var t=e.call(this,"HoroskopMainView")||this;return t.td=1,t.bd=!0,t.skinName=RRUU.$s("HoroskopMainView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.firstDatas=GObj.$c(eui.ArrayCollection),e.firstGroup.dataProvider=e.firstDatas,e.firstGroup.itemRenderer=BagItemView,e.currLevelDatas=GObj.$c(eui.ArrayCollection),e.currLevelGroup.dataProvider=e.currLevelDatas,e.currLevelGroup.itemRenderer=BagItemView,e.levelDatas=GObj.$c(eui.ArrayCollection),e.levelList.dataProvider=e.levelDatas,e.levelList.itemRenderer=HoroskopLevelView},t.prototype.initData=function(){var e=this;ziI.MF("happy_clear_challenge_best"),HoroskopMsgProxy.KT(4);var t=App.PV.getData(FDG.ZN);(!t||GApp.timer-t.rtime>=3e5)&&RankMsgProxy.IU(FDG.ZN),e._y(t),e.wm()},t.prototype._y=function(e){var t=this;return e&&e.type==FDG.ZN?(t.pi=e.list[0],t.firstNameLab.text=fvg.GVf("public020",t.pi?t.pi.name:fvg.GVf("462")),t.scoreLab.text=fvg.GVf("public067",t.pi?t.pi.score:fvg.GVf("462")),void(t.headIcon.icon=t.pi?kLM.JU(parseInt(t.pi.head),t.pi.heads):null)):(t.firstNameLab.text=fvg.GVf("public020",fvg.GVf("462")),void(t.scoreLab.text=fvg.GVf("public067",fvg.GVf("462"))))},t.prototype.wm=function(){var e=this,t=App.OF.eliminateInfo.cjt||0,n=App.OF.canChallengeTimes;e.descLab.textFlow=LgRe.OQ(fvg.GVf("horoskop1",t,n)),e.nm(),e.ac()},t.prototype.ac=function(){var e,t,n=this,i=App.OF.eliminateInfo.bcd||[],r=XCA.UJ(),a=[];n.levelDatas.source.length=0;for(var o=0,s=r.length;o<r.length;o++){e=r[o];var p=e.id;if(1==int(p/1e4)){for(var l=0;l<i.length;l++){var c=i[l];if("undefined"!=typeof c){if(parseInt(c.c)==o+1){t=c;break}t={}}else t={}}a.push({temp:e,info:t,maxNum:s-1})}}a.reverse(),n.bd?(n.levelDatas.source=a,n.levelDatas.refresh(),ClockManager.setTimeout(n.scrollV,this,100)):n.levelDatas.replaceAll(a),a.length>0&&(n.bd=!1)},t.prototype.scrollV=function(){this.levelScroller&&this.levelScroller.viewport&&(this.levelScroller.viewport.contentHeight<=this.height||(this.levelScroller.viewport.validateNow(),this.levelScroller.viewport.scrollV=this.levelScroller.viewport.contentHeight-this.levelScroller.height))},t.prototype.nm=function(){var e=this;e.firstDatas.source.slice(0,e.firstDatas.source.length),e.currLevelLab.text=fvg.GVf("horoskop6",App.KF.hcccp+1||1);var t=XCA.RE("126_1"),n=Nkz.PI(t);e.firstDatas.replaceAll(n),e.currLevelDatas.source.slice(0,e.currLevelDatas.source.length);var i;i=App.KF.hcccp>=48?XCA.RE("124_"+(App.KF.hcccp||1)+"_1"):XCA.RE("124_"+(App.KF.hcccp+1||1)+"_1");var r=Nkz.PI(i);e.currLevelDatas.replaceAll(r)},t.prototype.initEvent=function(){var e=this;e.helpBtn.addEventListener(eui.tep,e.nv,e),e.rankBtn.addEventListener(eui.tep,e.cb,e),vkG.$a(UtJ.RMY,e.th,e),vkG.$a(UtJ.TT,e._y,e),vkG.$a(UtJ.SK,e.th,e)},t.prototype.removeEvent=function(){var e=this;e.helpBtn.removeEventListener(eui.tep,e.nv,e),e.rankBtn.removeEventListener(eui.tep,e.cb,e),vkG.$r(UtJ.RMY,e.th,e),vkG.$r(UtJ.TT,e._y,e),vkG.$r(UtJ.SK,e.th,e)},t.prototype.th=function(){this.wm()},t.prototype.cb=function(){App.VS.popup(10084,HoroskopRankPopUi)},t.prototype.nv=function(){App.VS.popup(10084,HoroskopDescPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),HoroskopMsgProxy.KT(4),GObj.$d(t.levelScroller),t.levelScroller=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.firstNameLab),t.firstNameLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.currLevelLab),t.currLevelLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.firstGroup),t.firstGroup=null,GObj.$d(t.currLevelGroup),t.currLevelGroup=null,GObj.$d(t.levelList),t.levelList=null,GObj.$d(t.pi),t.pi=null,GObj.$d(t.rankBtn),t.rankBtn=null,t.firstDatas=null,t.currLevelDatas=null,t.levelDatas=null,t.bd=!0,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HoroskopMainView.prototype,"HoroskopMainView");var HoroskopRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HoroskopRankItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.selected=!0,e.boxBtn.$autoSelected=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pc,e),e.boxBtn.addEventListener(eui.tep,e.gl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pc,e),e.boxBtn.removeEventListener(eui.tep,e.gl,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.tz=e.data,e.rankTxt.text=toChars(e.itemIndex+1),e.tz?(e.nameTxt.text=e.tz.name||fvg.GVf("rank10"),e.scoreTxt.text=toChars(e.tz.score)||"0"):(e.nameTxt.text=fvg.GVf("rank10"),e.scoreTxt.text=toChars(0)))},t.prototype.gl=function(e){var t=this,n=GObj.$c(BoxPopUi);n.showDetail(126,1,t.itemIndex+1,t.vw())},t.prototype.vw=function(){var e=this.itemIndex+1;return 1==e?1:2==e?2:3==e?3:e>=4&&5>=e?4:e>=6&&10>=e?5:e>=11&&20>=e?6:e>=21&&30>=e?7:e>=31&&40>=e?8:e>=41&&50>=e?9:void 0},t.prototype.pc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,t.tz=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HoroskopRankItem.prototype,"HoroskopRankItem");var HoroskopRankPopUi=function(e){function t(){var t=e.call(this,"HoroskopRankPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._g=50,e.descTxt.text=fvg.GVf("horoskop17"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=HoroskopRankItem,e.titleRank.text=fvg.GVf("38"),e.titleScore.text=fvg.GVf("elim15"),e.titleReward.text=fvg.GVf("107")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.TT,t.cf,t)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.cf,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.nj=App.PV.getData(FDG.ZN),(!t.nj||GApp.timer-(t.nj.rtime||0)>3e5)&&RankMsgProxy.IU(FDG.ZN),t.nv(t.nj)},t.prototype.nv=function(e){var t=this;if(e&&e.type==FDG.ZN){var n,i=e?Math.max(e.list.length,t._g):t._g;t.itemData.source.length=0;for(var r=e?e.list||[]:[],a=0;i>a;a++)n=r[a],t.itemData.source.push(n);t.itemData.refresh(),t.myBelongTxt.text=fvg.GVf("funny17",e.score),t.myRankTxt.text=fvg.GVf("rank0",e.order?e.order:t._g+"+")}},t.prototype.cf=function(e){var t=this;e==FDG.ZN&&(t.nj=App.PV.getData(FDG.ZN),t.nv(t.nj))},t.prototype.pi=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myBelongTxt),t.myBelongTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HoroskopRankPopUi.prototype,"HoroskopRankPopUi");var HoroskopRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HoroskopRewardItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rd=fvg.GVf("horoskop14_1").split(","),e.uh=fvg.GVf("horoskop14_2").split(",")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.item.data=e.data.goodsInfo,e.fl=e.data.type,1==e.fl?e.nameLab.text=e.rd[e.itemIndex]:e.nameLab.text=e.uh[e.itemIndex])},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ez,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ez,e)},t.prototype.ez=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.item),t.item=null,t.rd=null,t.uh=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HoroskopRewardItem.prototype,"HoroskopRewardItem");var HoroskopScoreRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HoroskopScoreRankItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.noScoreTxt.text=fvg.GVf("406"),e.rewardDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.rewardDatas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.hp,e),e.addEventListener(eui.RFS,e.hs,e),vkG.$a(UtJ.LBI,e.lz,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.hp,e),e.removeEventListener(eui.RFS,e.hs,e),vkG.$r(UtJ.LBI,e.lz,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=XCA.DG(125,e.itemIndex+1),n=Nkz.PI(t);if(e.rewardDatas.source.length=0,n){for(var i,r=n.length,a=0;r>a;a++)i=n[a],e.rewardDatas.source.push(i);e.rewardDatas.refresh(),e.lz()}}},t.prototype.lz=function(){var e=this,t=App.OF.generalEliminate.ps||0;e.scoreTxt.text=fvg.GVf("harry8",t,e.data.score);var n=App.OF.generalEliminate.rdc;e.getImg.visible=!1,t>=e.data.score?(e.noScoreTxt.visible=!1,e.getBtn.visible=!0,0==(n&1<<e.itemIndex)?(e.getBtn.visible=!0,e.getImg.visible=!1):(e.getBtn.visible=!1,e.getImg.visible=!0)):(e.noScoreTxt.visible=!0,e.getBtn.visible=!1,e.getImg.visible=!1)},t.prototype.hp=function(){HoroskopMsgProxy.KT(8,this.data.score)},t.prototype.hs=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.noScoreTxt),t.noScoreTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HoroskopScoreRankItem.prototype,"HoroskopScoreRankItem");var HoroskopScoreRankPopUi=function(e){function t(){var t=e.call(this,"HoroskopScoreRankPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=HoroskopScoreRankItem,e.titleReward.text=fvg.GVf("107"),e.titleCondition.text=fvg.GVf("elim13"),e.frameGroup.title=fvg.GVf("elim14")},t.prototype.initData=function(){e.prototype.initData.call(this),this.ui()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.ui=function(){var e=this,t=XCA.CG(IDU.LVA);if(t){for(var n=t.split(QycO.XP),i=n.length,r=0;i>r;r++)e.itemDatas.source.push({score:parseInt(n[r])});e.itemDatas.refresh()}},t.prototype.wn=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HoroskopScoreRankPopUi.prototype,"HoroskopScoreRankPopUi");var HoroskopSettlementPopUi=function(e){function t(){var t=e.call(this,"HoroskopSettlementPopUi")||this;return t.uo=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardDatas=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardDatas,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.gv=GObj.$c(GeneralStarView),e.gv.maxStar=3,e.gv.open_star_key=["horoskopframe_json.horoskop_star_png"],e.gv.close_star_key="horoskopframe_json.horoskop_star_bg_png",e.gv.star_width=43,e.gv.x=120,e.gv.y=100,e.addChild(e.gv),e.descLab.text=fvg.GVf("elim16"),e.descLab1.text=fvg.GVf("elim17"),e.descLab2.text=fvg.GVf("elim18")},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.vl=e[0],n.og=e[1],n.wiy()},t.prototype.initData=function(){this.wiy()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.ch,e),e.challengeBtn.addEventListener(eui.tep,e.f_,e),vkG.$a(HUtJ.HEARTBEAT,e.ka,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.ch,e),e.challengeBtn.removeEventListener(eui.tep,e.f_,e),vkG.$r(HUtJ.HEARTBEAT,e.ka,e)},t.prototype.ka=function(){var e=this;e.uo--,e.sureBtn.label=fvg.GVf("fightinglose001",e.uo),e.uo<=0&&e.dx()},t.prototype.ch=function(){this.dx()},t.prototype.f_=function(){vkG.$d(UtJ.XR),this.dx()},t.prototype.dx=function(){var e=this;1==e.og?App.OF.eliminateInfo.rd=[]:2==e.og&&(App.OF.generalEliminate.rd=[]),vkG.$d(UtJ.LT),GObj.$d(e)},t.prototype.wiy=function(){var e=this;if(e.CSo){var t,n=[];2==e.vl?e.frameGroup.title=fvg.GVf("horoskop11_2"):3==e.vl&&(e.frameGroup.title=fvg.GVf("horoskop11_3")),1==e.og?(t=App.OF.eliminateInfo.rd||QycO.BE,e.scoreGroup.visible=!1,e.estimateGroup.visible=!0,e.gv.currStar=App.OF.eliminateInfo.star||0):2==e.og&&(t=App.OF.generalEliminate.rd||QycO.BE,e.scoreGroup.visible=!0,e.estimateGroup.visible=!1,e.scoreLab.text=App.OF.generalEliminate.cs+""||"0");var i,r=t;for(var a in r)r&&(i=GObj.$c(nlwj),i.tid=parseInt(a),i.count=r[a],n.push(i));e.rewardDatas.replaceAll(n),n.length>4&&(e.levelScroller.width=346)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.estimateGroup),t.estimateGroup=null,GObj.$d(t.scoreGroup),t.scoreGroup=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.gv),t.gv=null,GObj.$d(t.levelScroller),t.levelScroller=null,t.rewardDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HoroskopSettlementPopUi.prototype,"HoroskopSettlementPopUi");var HoroskopSpecialPopUi=function(e){function t(){var t=e.call(this,"HoroskopSpecialPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleLab1.text=fvg.GVf("horoskop8"),e.titleLab2.text=fvg.GVf("horoskop9"),e.manyEliminateData=GObj.$c(eui.ArrayCollection),e.manyEliminateGroup.dataProvider=e.manyEliminateData,e.manyEliminateGroup.itemRenderer=HoroskopRewardItem,e.doubleHitData=GObj.$c(eui.ArrayCollection),e.doubleHitGroup.dataProvider=e.doubleHitData,e.doubleHitGroup.itemRenderer=HoroskopRewardItem,e.frameGroup.title=fvg.GVf("elim12")},t.prototype.initData=function(){this.ei()},t.prototype.ei=function(){var e=this,t=XCA.RE("128_1"),n=Nkz.PI(t);e.manyEliminateData.source.splice(0,e.manyEliminateData.source.length);for(var i=0;i<n.length;i++)e.manyEliminateData.source.push({goodsInfo:n[i],type:1});e.manyEliminateData.refresh();var r=XCA.RE("128_2"),a=Nkz.PI(r);e.doubleHitData.source.splice(0,e.doubleHitData.source.length);for(var i=0;i<a.length;i++)e.doubleHitData.source.push({goodsInfo:a[i],type:2});e.doubleHitData.refresh()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.ru=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleLab1),t.titleLab1=null,GObj.$d(t.titleLab2),t.titleLab2=null,GObj.$d(t.manyEliminateGroup),t.manyEliminateGroup=null,GObj.$d(t.doubleHitGroup),t.doubleHitGroup=null,t.manyEliminateData=null,t.doubleHitData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(HoroskopSpecialPopUi.prototype,"HoroskopSpecialPopUi");var ImmortalSkillItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ImmortalSkillItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.redPointImg.visible=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.XY,e.yd,e),vkG.$a(UtJ.BP,e.yd,e),e.addEventListener(eui.RFS,e.ay,e),e.addEventListener(eui.tep,e.wb,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.XY,e.yd,e),vkG.$r(UtJ.BP,e.yd,e),e.removeEventListener(eui.RFS,e.ay,e),e.removeEventListener(eui.tep,e.wb,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.fn=e.data[1],e.cl=gLw.DM(e.fn.tid);var t;e.fq=32,t=App.JS.getRetinueSkillInfoByType(e.fq),e.qe=t.retinueSkill[e.itemIndex+1]||0,e.fn=e.data[1];var n=gLw.RO(e.fn.tid);if(e.iconImg.source=kLM.XX(e.cl,n),e.lockImg.visible=e.qe>0?!1:!0,e.aclockImg.visible=!e.lockImg.visible,e.redPointImg.visible=UsU.BU(e.fq,e.itemIndex+1,e.fn),e.fn.needgrade>0)if(e.qe>0)e.gradeLab.text="",e.gradeLab.text=fvg.GVf("imm12",e.qe),1==e.fn.maxgrade&&(e.gradeLab.text="",e.aclockImg.visible=!1);else{var i=App.JS.getNeedGrade(e.qe+1,e.fn);e.gradeLab.text=fvg.GVf("imm05",Math.ceil(i/10))}else e.gradeLab.text="",e.aclockImg.visible=!1,5===e.itemIndex&&(this.allcont.x=16)}},t.prototype.yd=function(e){this.dataChanged()},t.prototype.ay=function(e){GObj.$d(this)},t.prototype.wb=function(e){var t=this,n=App.BC.createTipsVo(t.cl,t.fq,t.fn,t.itemIndex+1);t.fn.needgrade>0?App.VS.popup(App.VS.getExistUIFrame().id,SkillTipsPopUi,void 0,n):App.VS.popup(App.VS.getExistUIFrame().id,SkillSpecialPopUI,void 0,n)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.aclockImg),t.aclockImg=null,t.fn=null,t.cl=null,t.qe=null,t.fq=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ImmortalSkillItem.prototype,"ImmortalSkillItem");var ImmortalEquipAdvanceView=function(e){function t(){var t=e.call(this,"ImmortalEquipAdvanceView")||this,n=RRUU.$s("ImmortalEquipAdvanceView");return t.skinName=n,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.initView()},t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.comp_btn.label=fvg.GVf("specia001"),t.descLab.text=fvg.GVf("imm13"),t.hy=GObj.$c(nlwj),t.updataView()},t.prototype.initEvent=function(){var e=this;e.comp_btn.addEventListener(eui.tep,e._compHander,e),vkG.$a(UtJ.EN,e.wf,e)},t.prototype.removeEvent=function(){var e=this;e.comp_btn.removeEventListener(eui.tep,e._compHander,e),vkG.$r(UtJ.EN,e.wf,e)},t.prototype._compHander=function(e){var t=this;if(t.lm)return void msgTip(fvg.GVf("imm40"));var n=App.FK.searchMoreImmFreEquip(t._partType);if(n)return void GoodsMsgProxy.QA(n.btype,14,n.id);if(t._partType&&t.compTemp){var i=GxD.instance.hsx(t.compTemp.mat2);i>=t.compTemp.ct2?RetinueMsgProxy.QS(t.compTemp.id,t._partType%10):_JDW.TR(t.compTemp.mat2)}},t.prototype.wf=function(){this.updataView()},Object.defineProperty(t.prototype,"partType",{get:function(){return this._partType},set:function(e){var t=this;t._partType=e,t.updataView()},enumerable:!0,configurable:!0}),t.prototype.updataView=function(){var e=this;if(e.CSo&&(e.attrArrowImg.visible=!0,e.descLab.visible=!1,e.beforeView.x=138,e.afterView.visible=!0,e.lm=!1,e.lablePartType.text="",e.beforeView.data=null,e.oldAttriGroup.removeChildren(),e.afterView.data=null,e.newAttriGroup.removeChildren(),e.compTemp=null,e._partType)){e.beforeView.partType=e._partType,e.afterView.partType=e._partType,e.lablePartType.text=fvg.GVf("imm38_"+e._partType%10);var t=App.FK.searchMoreImmFreEquip(e._partType);t?e.comp_btn.label=fvg.GVf("smelting1"):e.comp_btn.label=fvg.GVf("specia001");var n,i=GxD.instance.Fkl(14,e._partType)[0];if(i){n=App.PI.getTemplatesByMatId(i.tid),e.beforeView.data=i;var r=XCA.YV(i.TSF.p1);e.addAttrLable(r,Color.SE,e.oldAttriGroup,!0),e.oldAttriGroup.visible=!0,e.beforeView.visible=!0,e.afterView.x=278,e.newAttriGroup.y=484,e.arrowImg.visible=!0}else{var a=App.PI.getTidByImmEquipSubType(e._partType);n=App.PI.getTemplatesByNmatId(a),e.oldAttriGroup.visible=!1,e.beforeView.visible=!1,e.afterView.x=208,e.newAttriGroup.y=402,e.arrowImg.visible=!1,e.attrArrowImg.visible=!1}if(t){e.afterView.data=t;var r=XCA.YV(t.TSF.p1);if(e.addAttrLable(r,Color.SQ,e.newAttriGroup,!0),e.afterView.data=t,n){var o=void 0,s=void 0;n.mat2?(o=n.mat2,s=n.ct2):(o=n.mat1,s=n.ct1);var p=GxD.instance.hsx(o);e.costIcon.bottomText=p+"/"+s,e.costIcon.bottomColor=p>=s?Color.HQ:Color.HE,e.hy.tid=o,e.costIcon.data=e.hy}e.comp_btn.icon=StaticData.GHj}else if(n){e.compTemp=n;var l=GObj.$c(nlwj);if(l.tid=n.nmat,l){var r=XCA.YV(l.TSF.p1);e.addAttrLable(r,Color.SQ,e.newAttriGroup,!0)}e.afterView.data=l;var o=void 0,s=void 0;n.mat2?(o=n.mat2,s=n.ct2):(o=n.mat1,s=n.ct1);var p=GxD.instance.hsx(o);e.costIcon.bottomText=p+"/"+s,e.costIcon.bottomColor=p>=s?Color.TX:Color.KA,e.comp_btn.icon=p>=s?StaticData.GHj:null,e.hy.tid=o,e.costIcon.data=e.hy}else e.afterView.visible=!1,e.beforeView.x=208,e.costIcon.bottomColor=Color.KA,e.comp_btn.icon=null,e.descLab.visible=!0,e.lm=!0,e.hy.tid=StaticData.TID_GOODS_77,e.costIcon.data=e.hy,e.costIcon.bottomText=GxD.instance.hsx(StaticData.TID_GOODS_77)+"/0",e.arrowImg.visible=!1}},t.prototype.addAttrLable=function(e,t,n,i){if(e){var r=[];r[0]=e.feregj,r[1]=e.ferereal,r[2]=e.feresd,r[3]=e.fereatk/10,r[4]=e.feretobossdam/10,r[5]=e.ferecrith/10,r[6]=e.ferecrit/10,r[7]=e.ferepietodampre/10,r[8]=e.feredeftodampre/10,r[9]=e.ferecritodampre/10,r[10]=e.ferehittodampre/10,r[11]=e.feretoweakdampre/10,r[12]=e.ferefulldampre/10;for(var a=0,o=0,s=0;s<r.length;s++)if(r[s]){var p=GObj.$c(eui.Label);p.textColor=t,p.size=18,i?p.text=fvg.GVf("imm39_"+s,r[s]):p.text=toChars("+"+r[s]),p.width>a&&(a=p.width),p.height>o&&(o=p.height),n.addChild(p)}n.width=a,n.height=o}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.beforeView),t.beforeView=null,GObj.$d(t.afterView),t.afterView=null,GObj.$d(t.lablePartType),t.lablePartType=null,GObj.$d(t.comp_btn),t.comp_btn=null,GObj.$d(t.oldAttriGroup),t.oldAttriGroup=null,GObj.$d(t.newAttriGroup),t.newAttriGroup=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.arrowImg),t.arrowImg=null,GObj.$d(t.attrArrowImg),t.attrArrowImg=null,GObj.$d(t.costIcon),t.costIcon=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ImmortalEquipAdvanceView.prototype,"ImmortalEquipAdvanceView");var ImmortalEquipItemView=function(e){function t(t){var n=e.call(this,"ImmortalEquipItemView")||this;n._isLock=!1,n._gNlK=!1,n._showQuality=!0,n.ds=!0,n.wu=!1,n._partType=t;var i=RRUU.$s("ImmortalEquipItemView");return n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){var e=this;e.data=e._data
},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.ya,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.ya,e)},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;t._data=e,t.CSo&&(t._data&&t._data.TSF||t.showDefaultQuality(),t.refreshView())},enumerable:!0,configurable:!0}),t.prototype.clearEffect=function(){var e=this;e.orangeEff&&(e.orangeEff.stop(),e.orangeEff.parent&&e.orangeEff.parent.removeChild(e.orangeEff)),e.redEff&&(e.redEff.stop(),e.redEff.parent&&e.redEff.parent.removeChild(e.redEff)),e.fullColorEff&&(e.fullColorEff.stop(),e.fullColorEff.parent&&e.fullColorEff.parent.removeChild(e.fullColorEff))},Object.defineProperty(t.prototype,"isShowName",{set:function(e){var t=this;t.ds=e,t.refreshView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isUpstar",{set:function(e){this.wu=e},enumerable:!0,configurable:!0}),t.prototype.refreshView=function(){var e=this;e.updateQuality(),e.updateIcon(),e.updateLvTxt(),e.aiW(),e.updateEffect()},t.prototype.showDefaultQuality=function(){var e=this;e.CSo&&!e._isLock&&(e.qualityDisplay.source="core_json.quality_1_png")},t.prototype.updateQuality=function(){!this.CSo},t.prototype.updateIcon=function(){var e=this;if(e.CSo&&e._partType){if(e._isLock)return e.imgLock.source="immortall_json.immortal_equip_"+e._partType+"_png",void(e.imgLock.visible=!0);if(e.imgLock.visible=!1,!e._data)return e.iconDisplay.icon="",void(e.imgBg.source="immortall_json.immortal_equip_"+e._partType+"_png");var t=e._data.icon;e.iconDisplay.icon=t,e.imgBg.source="";var n=e._data.quality;e.qualityDisplay.source=aKF.LU(n)}},t.prototype.updateLvTxt=function(){var e=this;if(e.CSo){if(!e.ds)return e.levelImg.visible=!1,void(e.levelTxt.text="");if(e._isLock)return e.levelImg.visible=!0,void(e.levelTxt.text=fvg.GVf("imm73",e._listLock[e._partType%10-1]));if(e._data){e.levelImg.visible=!0;var t=e._data.TSF.tid%100;e.levelTxt.text=fvg.GVf("specia002",t)}else e.levelImg.visible=!1,e.levelTxt.text=""}},t.prototype.aiW=function(){var e=this;e.CSo&&!e._isLock&&(e._gNlK?e.redPoint.source||(e.redPoint.source="bar_json.redPoint_png"):e.redPoint.source=null)},t.prototype.updateEffect=function(){var e=this;if(e.CSo&&e._data&&!e.isLock)return e.clearEffect(),isNaN(e.rf)?void e.fe(e._data.quality):void e.fe(e.rf)},t.prototype.fe=function(e){var t=this;switch(e){case aKF.JN:t.orangeEff||(t.orangeEff=App.KB.getUIEffect(gYq.MT),t.orangeEff.touchEnabled=t.orangeEff.touchEnabled=!1,t.orangeEff.stop(),t.orangeEff.x=-4,t.orangeEff.y=-12),t.orangeEff.play(),t.addChildAt(t.orangeEff,1);break;case aKF.PU:t.redEff||(t.redEff=App.KB.getUIEffect(gYq.FZ),t.redEff.touchEnabled=t.redEff.touchEnabled=!1,t.redEff.stop(),t.redEff.x=-6,t.redEff.y=-4),t.redEff.play(),t.addChildAt(t.redEff,1)}},Object.defineProperty(t.prototype,"gNlK",{get:function(){return this._gNlK},set:function(e){var t=this;t._gNlK=e,t.aiW()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showQuality",{get:function(){return this._showQuality},set:function(e){var t=this;t._showQuality=e,t.showDefaultQuality()},enumerable:!0,configurable:!0}),t.prototype.ya=function(e){var t=this;t._isLock?msgTip(t.wu?fvg.GVf("imm92"):fvg.GVf("imm72",t._listLock[t._partType%10-1],fvg.GVf("imm"+(63+t._partType%10)))):t._showSelect||t._data&&App.FK.showGoodsDetails(t._data,!1)},Object.defineProperty(t.prototype,"isLock",{get:function(){return this._isLock},set:function(e){var t=this;t._isLock!=e&&(t._isLock=e,t.refreshView())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelect",{get:function(){return this._showSelect},set:function(e){var t=this;t._showSelect!=e&&(t._showSelect=e,t.refreshView())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._showSelect&&(t._selectedBack.visible=t._selected)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"partType",{get:function(){return this._partType},set:function(e){this._partType=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),GObj.$d(t.qualityDisplay),t.qualityDisplay=null,GObj.$d(t.iconDisplay),t.iconDisplay=null,GObj.$d(t.redPoint),t.redPoint=null,GObj.$d(t._selectedBack),t._selectedBack=null,GObj.$d(t.imgLock),t.imgLock=null,GObj.$d(t.imgBg),t.imgBg=null,t.clearEffect(),GObj.$d(t.fullColorEff),t.fullColorEff=null,GObj.$d(t.orangeEff),t.orangeEff=null,GObj.$d(t.redEff),t.redEff=null,GObj.$d(t.levelTxt),t.levelTxt=null,t._data=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(ImmortalEquipItemView.prototype,"ImmortalEquipItemView",["ISelectedButton","egret.IEventDispatcher"]);var ImmortalEquipView=function(e){function t(t){var n=e.call(this,"ImmortalEquipView")||this;return n.viewState=!0,n.skinName=RRUU.$s("ImmortalEquipView"),n}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.initData()},t.prototype.initView=function(){var e=this;e.btnEquip.label=fvg.GVf("role1"),e.itemArray=[];var t,n=Iwrv.WB;e.itemBtnGroup=GObj.$c(kQr);for(var i=Nkz.ZD(XCA.CG(IDU.EO)),r=0;r<n.length;r++)t=GObj.$c(ImmortalEquipItemView,n[r]),t.isLock=App.BG.turnupInfo.grade<parseInt(i[r]),t.showSelect=e.viewState,e.itemArray.push(t),e.decorteGroup.addChild(t),e.itemBtnGroup.cwA(t);e.advanceView=GObj.$c(ImmortalEquipAdvanceView),e.advanceView.x=0,e.advanceView.y=0,e.itemArray[0].isLock||(e.itemBtnGroup.selectedIndex=0,e.jl=0,e.advanceView.partType=e.itemArray[0].partType),e.zt(),e.lj()},t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.initEvent=function(){var e=this;e.btnDecompose.addEventListener(eui.tep,e._btnDecomposeHander,e),e.itemBtnGroup.addEventListener(egret.Event.CHANGE,e.ex,e),e.btnEquip.addEventListener(eui.tep,e._btnEquipHander,e),vkG.$a(UtJ.DV,e.ei,e),vkG.$a(UtJ.EN,e.qh,e)},t.prototype.removeEvent=function(){var e=this;e.itemBtnGroup.removeEventListener(egret.Event.CHANGE,e.ex,e),e.btnEquip.removeEventListener(eui.tep,e._btnEquipHander,e),vkG.$r(UtJ.DV,e.ei,e),vkG.$r(UtJ.EN,e.qh,e)},t.prototype.lj=function(){var e=this;if(e.CSo){e.viewState?e.advanceView.parent||e.addChildAt(e.advanceView,3):(!e.advanceView||e.advanceView.parent)&&(e.addChild(e.btnEquip),e.advanceView.parent&&(e.removeChild(e.advanceView),e.removeChild(e.btnEquip)));for(var t=0;t<e.itemArray.length;t++)e.itemArray[t].showSelect=e.viewState;for(var n=Iwrv.WB,i=0,r=!1,a=!1,o=!1,t=0;t<n.length;t++){var s=e.itemArray[t];if(!s.isLock){var p=App.FK.Fkl(14,n[t])[0];s.data=p,p&&(i+=App.FK.Oundefinedy(p));var l=App.FK.searchMoreImmFreEquip(n[t]);l&&(r=!0),s.gNlK=!!l,App.FK.Fkl(1,n[t]).length>0&&(a=!0);var c=void 0;if(p)c=App.PI.getTemplatesByMatId(p.tid);else{var u=App.PI.getTidByImmEquipSubType(n[t]);c=App.PI.getTemplatesByNmatId(u)}var d=void 0;c&&(d=GxD.instance.hsx(c.mat2),c.ct2<=d&&(o=!0),e.viewState&&(s.gNlK=!!l||c.ct2<=d))}}e.btnEquip.icon=r?StaticData.GHj:null,e.btnEquip.visible=r,e.btnDecompose.icon=a?StaticData.GHj:null,e.fightView.fightNum=i,e.viewState&&e.advanceView.updataView()}},t.prototype.zt=function(){},t.prototype.qh=function(){this.lj()},t.prototype.ei=function(){this.lj()},t.prototype.ex=function(e){var t=this,n=t.itemBtnGroup.LuO;!n||n.isLock?t.itemBtnGroup.selectedIndex=t.jl||-1:(t.jl=t.itemBtnGroup.selectedIndex,t.viewState&&(t.advanceView.partType=n.partType))},t.prototype._btnDecomposeHander=function(e){rRcz.FG(2)},t.prototype._btnEquipHander=function(e){var t=this,n=GApp.timer;if(!(n-t.oe<500)){t.oe=n;for(var i,r=Iwrv.WB,a=[],o=0;o<r.length;o++)t.itemArray[o].isLock||(i=App.FK.searchMoreImmFreEquip(r[o]),i&&a.push({fb:i.btype,tb:14,id:i.id}));a.length>0?GoodsMsgProxy.TR(a):msgTip(fvg.GVf("role9"))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.decorteGroup),t.decorteGroup=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.itemBtnGroup),t.itemBtnGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.advanceView),t.advanceView=null,GObj.$d(t.btnEquip),t.btnEquip=null,GObj.$d(t.btnDecompose),t.btnDecompose=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ImmortalEquipView.prototype,"ImmortalEquipView");var IndulgeTimeBtn=function(e){function t(){var t=e.call(this,"IndulgeTimeBtn")||this;return t.skinName=RRUU.$s("IndulgeTimeBtnSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.top=350,e.x=4,e.touchChildren=!1,e.ea=App.JA.indulgeVO.initTime||0,App.JA.indulgeVO.totalTime=e.ea,e.mb(),e.iy(),e.qe()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.lq,e),vkG.$a(UtJ.NA,e.mb,e),vkG.$a(HUtJ.HEARTBEAT,e.ac,e),vkG.$a(UtJ.HK,e.iy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.lq,e),vkG.$r(UtJ.NA,e.mb,e),vkG.$r(HUtJ.HEARTBEAT,e.ac,e),vkG.$r(UtJ.HK,e.iy,e)},t.prototype.iy=function(){this.visible=App.KF.newbie},t.prototype.mb=function(){var e=this;App.JA.indulgeVO.isWrite?App.JA.indulgeVO.isInAAS&&(e.titleTxt.text=fvg.GVf("realname12")):e.titleTxt.text=fvg.GVf("realname11")},t.prototype.lq=function(e){this.qe()},t.prototype.ac=function(){var e=this;if(!e.destory){e.ea=App.JA.indulgeVO.initTime+int((GApp.timer-App.JA.indulgeVO.time)/1e3),App.JA.indulgeVO.totalTime=e.ea,e.timeTxt.text=fvg.GVf("realname15",kpd.HE(e.ea));var n=App.JA.indulgeVO.totalTime/3600;3>n?e.ea%3600==0&&e.qe():5>n?e.ea%1800==0&&e.qe():e.ea%900==0&&e.qe(),n>1&&!t.openReal&&(App.JA.indulgeVO.isInAAS&&App.JA.indulgeVO.isWrite?Alert.WK(fvg.GVf("realname13"),null,Alert.EX,e.qt,this,[97],e.qt,fvg.GVf("7"),"",null,null,null,alvJ.RX):Alert.WK(fvg.GVf("realname13"),null,Alert.EX|Alert.HE,e.ih,this,[97],e.qt,fvg.GVf("realname01"),fvg.GVf("7"),null,null,null,alvJ.RX));var i=App.NN.todaySecond;(28800>i||i>79200)&&App.JA.indulgeVO.isWrite&&Alert.WK(fvg.GVf("realname14"),null,Alert.EX,e.qt,this,[97],e.qt,fvg.GVf("7"),"",null,null,null,alvJ.RX)}},t.prototype.qt=function(e){window.location.reload(!0)},t.prototype.ih=function(){t.openReal=!0,rRcz.JX()},t.prototype.qe=function(){App.VS.popup(null,IndulgeTipsFrame)},t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,e.prototype.dispose.call(this))},t.openReal=!1,t}(BaseUI);__reflect(IndulgeTimeBtn.prototype,"IndulgeTimeBtn");var IndulgeTipsFrame=function(e){function t(t){var n=e.call(this,"IndulgeTipsFrame")||this;return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.writeBtn.label=fvg.GVf("7"),e.descTxt.text=e.wi(),e.title=fvg.GVf("realname16")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.writeBtn.addEventListener(eui.tep,t.tj,t),vkG.$a(UtJ.KSQ,t.yn,t),vkG.$a(UtJ.NA,t.vi,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.writeBtn.removeEventListener(eui.tep,t.tj,t),vkG.$r(UtJ.KSQ,t.yn,t),vkG.$r(UtJ.NA,t.vi,t)},t.prototype.vi=function(){rRcz.SS(44,!1)&&App.JA.indulgeVO.isInAAS||this.dispose()},t.prototype.yn=function(e){rRcz.SS(44,!1)&&App.JA.indulgeVO.isInAAS||this.dispose()},t.prototype.tj=function(e){GObj.$d(this)},t.prototype.wi=function(){var e="",t=App.JA.indulgeVO.totalTime/3600;if(3>t){var n="";n=App.JA.indulgeVO.isInAAS?fvg.GVf("realname17"):fvg.GVf("realname18"),e=fvg.GVf("indulge16",n,kpd.HE(App.JA.indulgeVO.totalTime))}else e=3.5>t?fvg.GVf("indulge17",3):4>t?fvg.GVf("indulge17",3.5):4.5>t?fvg.GVf("indulge17",4):5>t?fvg.GVf("indulge17",4.5):fvg.GVf("indulge18");return e},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.writeBtn),t.writeBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(IndulgeTipsFrame.prototype,"IndulgeTipsFrame");var IntoWorldFrame=function(e){function t(){var t=e.call(this,"IntoWorldFrame")||this;t._time=0;var n=RRUU.$s("IntoWorldFrameSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.intoWorldBtn.addEventListener(eui.tep,e.__intoWorldBtnClickHandler,e),vkG.$a(UtJ.HD,e.__heartbeatHandler,e)},t.prototype.removeEvent=function(){var e=this;e.intoWorldBtn.removeEventListener(eui.tep,e.__intoWorldBtnClickHandler,e),vkG.$r(UtJ.HD,e.__heartbeatHandler,e)},t.prototype.__heartbeatHandler=function(){var e=this;e._time++,e._time>=15&&GObj.$d(e)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.QB=function(){vkG.$d(UtJ.IW)},t.__resourceLoadComplete=function(e){var n=this;if(e.groupName==KqZ.TXC){var i=GObj.$c(t);i.show(),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,n.__resourceLoadComplete,n)}},t.prototype.__intoWorldBtnClickHandler=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;vkG.$d(UtJ.IW),RES.destroyRes(KqZ.TXC),t.removeEvent(),GObj.$d(t.intoWorldBtn),t.intoWorldBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(IntoWorldFrame.prototype,"IntoWorldFrame");var BondsItem=function(e){function t(){var t=e.call(this)||this;return t.z_=3,t.skinName=RRUU.$s("BondsItemSkin"),t.scaleX=.9,t.scaleY=.9,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.imgs=[];for(var t=1;t<=e.z_;t++)e.imgs.push(this["img_"+t])},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.lk=e.data,e.cardIcon.icon=kLM.PK(e.lk.tid);var t=gLw.GM(e.lk.tid);e.namebgImg.source=aKF.MU(t),e.bgImg.source=aKF.RV(t),e.nameTxt.text=e.lk.name,e.dk=gLw.IQ(e.lk.tid),e.iy()}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.kf,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.cj,e),vkG.$a(UtJ.LN,e.gd,e),vkG.$a(UtJ.DV,e.na,e),vkG.$a(UtJ.ZT,e.sz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.kf,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.cj,e),vkG.$r(UtJ.LN,e.gd,e),vkG.$r(UtJ.DV,e.na,e),vkG.$r(UtJ.ZT,e.sz,e)},t.prototype.kf=function(e){App.JUY.isBondsCard=!0,App.VS.popup(10014,BondsUpPopUi,null,this.lk)},t.prototype.cj=function(e){GObj.$d(this)},t.prototype.gd=function(e){var t=this;t.dk&&e&&e.indexOf(t.dk)>=0&&t.iy()},t.prototype.iy=function(){var e=this;e.dc=App.JUY.bondsInfos[e.dk]||0,e.levelTxt.text=fvg.GVf("skill020",e.dc),e.bh=App.JUY.getGradeTempByType1(e.dk),e.bh=e.bh?e.bh:e.lk;var t=(e.bh?e.bh.p2:e.lk.p2)||0,n=e.bh.p3;e.dc>0?e.levelTxt.text=fvg.GVf("skill020",n):e.levelTxt.text=fvg.GVf("skill020",0);var i=[];e.lk.p6&&(i=e.lk.p6.split(","));for(var r,a=0,o=0;o<i.length;o++)r=App.JUY.knightInfos[parseInt(i[o])]||0,r>=e.dc+1&&a++;var s=e.imgs.length;if(e.dc>=t)for(var o=0;s>o;o++)e.imgs[o].source="card_json.card_knight_bonds_img_2_png";else for(var o=0;s>o;o++)a>o?e.imgs[o].source="card_json.card_knight_bonds_img_2_png":e.imgs[o].source="card_json.card_knight_bonds_img_1_png";e.tu()},t.prototype.tu=function(){var e=this;e.bh=App.JUY.getGradeTempByType1(e.dk,e.dc||1);var t=UsU.MT(e.bh);e.redPointImg.visible=t},t.prototype.sz=function(e){e&&e.length>0&&this.iy()},t.prototype.na=function(e){e&&e.length&&this.tu()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cardIcon),t.cardIcon=null,GObj.$d(t.levelTxt),t.levelTxt=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.namebgImg),t.namebgImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.bgImg),t.bgImg=null;for(var n=0;n<t.imgs.length;n++)GObj.$d(t.imgs[n]),t.imgs[n]=null;t.bh=null,t.lk=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BondsItem.prototype,"BondsItem");var BondsPopUi=function(e){function t(){var t=e.call(this,"BondsPopUi")||this;return t.skinName=RRUU.$s("BondsPopUiSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("knight2"),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=38,e.addChild(e.fightView),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=BondsItem},t.prototype.initData=function(){var e=this,t=App.JUY.getBondsByQuality(aKF.MM),n=t.length;n&&t.sort(App.JUY.compareFunBySort1),e.datas.source.length=0;for(var i=0;n>i;i++)e.datas.source.push(t[i]);e.datas.refresh(),e.uq()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.LN,e.lo,e),vkG.$a(UtJ.JG,e.jf,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.LN,e.lo,e),vkG.$r(UtJ.JG,e.jf,e)},t.prototype.lo=function(e){e&&this.uq()},t.prototype.jf=function(e){GObj.$d(this)},t.prototype.uq=function(){this.fightView.fightNum=App.JUY.bondsCap},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.fightView),t.fightView=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BondsPopUi.prototype,"BondsPopUi");var BondsUpPopUi=function(e){function t(){var t=e.call(this,"BondsUpPopUi")||this;return t.fn=0,t.pb=0,t.mb=0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("knight2"),e.currTxt.text=fvg.GVf("martialart25"),e.nextTxt.text=fvg.GVf("knight20"),e.maxGradeTxt.text=fvg.GVf("public014"),e.maxTxt.text=fvg.GVf("public014"),e.fightView=GObj.$c(FightView),e.fightView.x=106,e.fightView.y=51,e.addChild(e.fightView),e.datas=GObj.$c(eui.ArrayCollection),e.du=GObj.$c(nlwj),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=KnightCardItem,e.itemList.scaleX=.9,e.itemList.scaleY=.9,e.iq=[]},t.prototype.initData=function(){this.el()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.nr=e[0],n.el())},t.prototype.el=function(){var e=this;if(e.CSo&&e.nr){e.yb=gLw.IQ(e.nr.tid),e.zd=App.JUY.bondsInfos[e.yb]||0,e.attrTxt_1.text="",e.attrTxt_2.text="",e.specialAttrTxt_1.text="",e.specialAttrTxt_2.text="";var t=[];e.nr.p6&&(t=e.nr.p6.split(",")),e.datas.source.length=0;var n,i;gLw.GM(e.nr.tid);e.pb=0,e.iq.length=0;for(var r=0;r<t.length;r++)n=App.JUY.getGradeTempByType(parseInt(t[r])),i=App.JUY.knightInfos[parseInt(t[r])]||0,e.iq.push(n.attrid+e.zd),i>=e.zd+1&&e.pb++,e.datas.source.push(n);e.mb=t.length,e.datas.refresh();var a=e.zd>=e.nr.maxgrade;e.maxGradeTxt.visible=a,e.maxTxt.visible=a,e.infoGroup.visible=!a,e.fd=App.JUY.getGradeTempByType1(e.yb);var o=e.fd?e.fd:e.nr,s=o.p2||0,p=e.pb<e.mb?Color.KA:Color.SQ;e.descTxt.textFlow=LgRe.OQ(fvg.GVf("knight17",e.zd+1,p,e.pb,e.mb));var l=o.p3;e.zd>0?e.titleTxt.text=fvg.GVf("knight19",l,e.zd):e.titleTxt.text=fvg.GVf("knight19",0,e.zd),e.titleTxt.text+=""+e.nr.name,e.oz(e.zd,1);var c=XCA.AQS.UFA(28,e.yb,s+1);c&&(e.ow(c,2),e.nextActivateTxt.text=fvg.GVf("knight16",c.p3));var u=XCA.AQS.UFA(28,e.yb,e.zd+1);u?(e.ba=2,e.upBtn.label=fvg.GVf("422"),e.smaicon.goodsTid=StaticData.TID_BONDS_SOUL,e.du.tid=StaticData.TID_BONDS_SOUL,e.du.count=App.JUY.getUpgradeCount1(u.cost,e.zd),e.nextActivateTxt.text=fvg.GVf("knight16",u.p3)):(e.ba=1,e.upBtn.label=fvg.GVf("public008"),e.smaicon.goodsTid=StaticData.TID_KNIGHT_SOUL,e.du.tid=StaticData.TID_KNIGHT_SOUL,e.du.count=App.JP.getFettersConsume(e.zd)),e.ow(o,1),e.activatedTxt.text=fvg.GVf("knight16_1",o.p3),a||e.oz(e.zd+1,2),e.zd<=0&&(e.activatedTxt.text=fvg.GVf("knight16_1",e.zd),e.specialAttrTxt_1.text=fvg.GVf("public030"),e.ow(o,2));var d=parseInt(App.JUY.bondsInfos["c_"+e.yb])||0;e.fightView.fightNum=d,e.aw()}},t.prototype.aw=function(){var e=this;e.fn=App.FK.hsx(e.du.tid),e.needTxt.text=fvg.GVf("public022",e.fn,e.du.count),e.needTxt.textColor=e.fn>=e.du.count?Color.TX:Color.KA;var t=e.pb>=e.mb&&e.fn>=e.du.count;e.upBtn.icon=t?StaticData.GHj:null},t.prototype.oz=function(e,t){var n=this,i=XCA.YV(n.nr.attrid);if(this["attrTxt_"+t].text="",i){var r=void 0,a=void 0,o="";for(r in xxf.UK)a=App.JP.getFettersAttr(e,i[r])||0,i[r]&&(a=e>0?a:0,o+=fvg.GVf("skill004",xxf.UK[r],a)+"\n");for(r in xxf.IM)a=App.JP.getFettersAttr(e,i[r])||0,i[r]&&(a=e>0?a:0,o+=fvg.GVf("skill004",xxf.IM[r],(a/10).toFixed(1)+"%")+"\n");this["attrTxt_"+t].textFlow=LgRe.OQ(o)}},t.prototype.ow=function(e,t){this["specialAttrTxt_"+t].text="",this["specialAttrTxt_"+t].text=e.desc},t.prototype.initEvent=function(){var e=this;e.upBtn.addEventListener(eui.tep,e.ty,e),e.itemList.addEventListener(egret.Event.CHANGE,e.ss,e),vkG.$a(UtJ.LN,e.mm,e),vkG.$a(UtJ.DV,e.rw,e)},t.prototype.removeEvent=function(){var e=this;e.upBtn.removeEventListener(eui.tep,e.ty,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.ss,e),vkG.$r(UtJ.LN,e.mm,e),vkG.$r(UtJ.DV,e.rw,e)},t.prototype.yu=function(e){GObj.$d(this)},t.prototype.ty=function(e){var t=this;return t.pb<t.mb?void App.TT.show(fvg.GVf("knight18")):t.fn<t.du.count?void _JDW.TR(t.du.tid):void KnightMsgProxy.OP(t.yb)},t.prototype.mm=function(e){var t=this;t.yb&&e&&e.indexOf(t.yb)>=0&&t.el()},t.prototype.rw=function(e){e&&e.length>0&&this.aw()},t.prototype.ss=function(e){var t=this,n=t.itemList.selectedItem;n&&(vkG.$d(UtJ.JG,n),t.yu(null))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.currTxt),t.currTxt=null,GObj.$d(t.nextTxt),t.nextTxt=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.activatedTxt),t.activatedTxt=null,GObj.$d(t.specialAttrTxt_1),t.specialAttrTxt_1=null,GObj.$d(t.nextActivateTxt),t.nextActivateTxt=null,GObj.$d(t.specialAttrTxt_2),t.specialAttrTxt_2=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.smaicon),t.smaicon=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.maxGradeTxt),t.maxGradeTxt=null,GObj.$d(t.infoGroup),t.infoGroup=null,GObj.$d(t.maxTxt),t.maxTxt=null,t.fightView=null,t.datas=null,t.nr=null,t.du=null,t.fd=null,t.iq.length=0,App.JUY.isBondsCard=!1,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BondsUpPopUi.prototype,"BondsUpPopUi");var KnightCardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("KnightCardItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ix=GObj.$c(GeneralStarView),e.ix.maxStar=5,e.ix.open_star_key=kLM.NZ(),e.ix.close_star_key=kLM.ZH(),e.ix.star_width=23,e.ix.gap=2,e.ix.x=27,e.ix.y=178,e.addChild(e.ix)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.qo,e),vkG.$a(UtJ.ZT,e.ew,e),vkG.$a(UtJ.DV,e.rj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.qo,e),vkG.$r(UtJ.ZT,e.ew,e),vkG.$r(UtJ.DV,e.rj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ba=e.data,e.iconView.icon=kLM.ZY(e.ba.tid);var t=gLw.GM(e.ba.tid);e.namebgImg.source=aKF.MU(t),e.bgImg.source=aKF.RV(t),e.nameTxt.text=e.ba.name,e.je=gLw.IQ(e.ba.tid),e.ga(),e.kt()}},t.prototype.ga=function(){var e=this;e.dy=App.JUY.knightInfos[e.je]||0,e.dy&&(e.gradeTxt.text=toChars(e.dy),e.vy=App.JUY.getGradeTempByType(e.je),e.ix.currStar=e.vy?e.vy.p1:0),e.unlockImg.visible=!e.dy,e.outTxt.visible=!e.dy,e.ix.visible=!!e.dy,e.gradeTxt.visible=!!e.dy,e.rj()},t.prototype.kt=function(){var e=this;if(e.ba&&!e.dy){var t=XCA.FR(parseInt(e.ba.cost.split(",")[0]));t&&(e.outTxt.text=t.outsrc)}},t.prototype.ew=function(e){var t=this;t.je&&e&&e.indexOf(t.je)>=0&&t.ga()},t.prototype.rj=function(e){var t=this,n=App.JUY.isBondsCard;n?t.redPointImg.visible=!1:t.redPointImg.visible=UsU.ZE(t.ba)},t.prototype.qo=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.unlockImg),t.unlockImg=null,GObj.$d(t.ix),t.ix=null,GObj.$d(t.outTxt),t.outTxt=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.namebgImg),t.namebgImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.bgImg),t.bgImg=null,t.ba=null,t.vy=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(KnightCardItem.prototype,"KnightCardItem");var KnightCardView=function(e){function t(){var t=e.call(this,"KnightCardView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rj=e.v_=-1,e.labTxt_1.text=fvg.GVf("10")+":",e.labTxt_2.text=fvg.GVf("knight8"),e.allBtn.label=fvg.GVf("knight3"),e.qua_1_Btn.label=fvg.GVf("knight4"),e.qua_2_Btn.label=fvg.GVf("knight5"),e.qua_3_Btn.label=fvg.GVf("knight6"),e.qua_4_Btn.label=fvg.GVf("knight7"),e.upstarBtn.label=fvg.GVf("store005"),e.upgradeBtn.label=fvg.GVf("public008"),e.maxGradeTxt.text=fvg.GVf("public014"),e.cy=GObj.$c(kQr),e.cy.cwA(e.allBtn),e.cy.cwA(e.qua_1_Btn),e.cy.cwA(e.qua_2_Btn),e.cy.cwA(e.qua_3_Btn),e.cy.cwA(e.qua_4_Btn),e.cardDatas=GObj.$c(eui.ArrayCollection),e.cardList.dataProvider=e.cardDatas,e.cardList.itemRenderer=KnightCardItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-10,e.addChild(e.fightView),e.yk=GObj.$c(GeneralStarView),e.yk.maxStar=5,e.yk.open_star_key=kLM.NZ(),e.yk.close_star_key=kLM.ZH(),e.yk.star_width=40,e.yk.x=24,e.yk.y=341,e.addChild(e.yk),e.smaicon.goodsTid=StaticData.TID_KNIGHT_SOUL},t.prototype.initEvent=function(){var e=this;e.cy.addEventListener(egret.Event.CHANGE,e.x_,e),e.cardList.addEventListener(egret.Event.CHANGE,e.pb,e),e.upstarBtn.addEventListener(eui.tep,e.dx,e),e.upgradeBtn.addEventListener(eui.tep,e.om,e),e.bondsBtn.addEventListener(eui.tep,e.eq,e),vkG.$a(UtJ.JG,e.nn,e),vkG.$a(UtJ.ZT,e.rl,e),vkG.$a(UtJ.DV,e.px,e),vkG.$a(UtJ.LN,e.px,e)},t.prototype.removeEvent=function(){var e=this;e.cy.removeEventListener(egret.Event.CHANGE,e.x_,e),e.cardList.removeEventListener(egret.Event.CHANGE,e.pb,e),e.upstarBtn.removeEventListener(eui.tep,e.dx,e),e.upgradeBtn.removeEventListener(eui.tep,e.om,e),e.bondsBtn.removeEventListener(eui.tep,e.eq,e),vkG.$r(UtJ.JG,e.nn,e),vkG.$r(UtJ.ZT,e.rl,e),vkG.$r(UtJ.DV,e.px,e),vkG.$r(UtJ.LN,e.px,e)},t.prototype.initData=function(){var e=this;e.cy.selectedIndex=0,e.goodsUpdate(),e.px()},t.prototype.defaultTemp=function(e){var t=this;e&&(t.hy=e,t.cy&&(0!=t.cy.selectedIndex?t.cy.selectedIndex=0:t.ga()))},t.prototype.x_=function(e){var t=this;t.scroller&&t.scroller.stopAnimation();var n,i=t.cy.LuO;switch(i){case t.qua_1_Btn:n=aKF.WO;break;case t.qua_2_Btn:n=aKF.BN;break;case t.qua_3_Btn:n=aKF.JN;break;case t.qua_4_Btn:n=aKF.PU;break;default:n=aKF.MM}var r=App.JUY.getKnightByQuality(n),a=r.length;a&&r.sort(App.JUY.compareFunBySort),t.cardDatas.source.length=0;for(var o,s,p=0;a>p;p++)o=r[p],s=App.JUY.knightInfos[gLw.IQ(o.tid)]||0,!s&&o.p3>0&&!App.FK.hsx(parseInt(o.cost.split(",")[0]))||t.cardDatas.source.push(o);t.cardDatas.refresh(),a&&t.ga()},t.prototype.ga=function(){var e=this,t=e.cardDatas.source.indexOf(e.hy);e.cardList.selectedIndex=t>=0?t:0,e.pb(null)},t.prototype.pb=function(e){var t=this;egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.cardList);var n=t.cardList.selectedItem;n&&(t.hy=n,t.jw()),egret.Tween.get(t).wait(200).call(t["do"],t)},t.prototype["do"]=function(){var e=this;if(!e.destory){var t=222*Math.floor(e.cardList.selectedIndex/3);t=Math.min(t,Math.max(e.scroller.viewport.contentHeight-e.scroller.height,0)),t!=e.cardList.scrollV&&egret.Tween.get(e.cardList).to({scrollV:t},100)}},t.prototype.jw=function(){var e=this;if(e.hy){e.mu=gLw.IQ(e.hy.tid),e.ko=App.JUY.knightInfos[e.mu]||0,-1!=e.v_&&e.ko!=e.v_&&e.mu==e.rj&&App.KB.showEffect(gYq.UQ),e.rj=e.mu,e.v_=e.ko,e.headIcon.icon=kLM.GN(e.hy.tid),e.nameTxt.text=e.hy.name;
var t=gLw.GM(e.hy.tid);e.bgImg.source=aKF.JQ(t),e.zh=App.JUY.getGradeTempByType(e.mu),e.yk.currStar=e.zh?e.zh.p1:0;var n=(e.zh?e.zh.p2:e.hy.p2)||0;e.lvLbl.text=e.ko.toString(),e.ko>0?(e.gradeTxt.text=fvg.GVf("public022",e.ko,n),e.gradeTxt.textColor=e.ko>=n?Color.SQ:Color.KA):(e.gradeTxt.text=fvg.GVf("public010"),e.gradeTxt.textColor=Color.KA),e.labTxt_2.x=e.gradeTxt.x+e.gradeTxt.textWidth+3,e.labTxt_2.visible=e.ko>0&&e.ko<e.hy.maxgrade,e.maxGradeTxt.visible=e.ko>=e.hy.maxgrade;var i=XCA.AQS.UFA(27,e.mu,e.ko+1);i?e.mj(i):e.ri(),e.xl(),e.fightView.fightNum=App.JUY.totalCap}},t.prototype.mj=function(e){var t=this;t.upstarBtn.label=t.ko?fvg.GVf("store042"):fvg.GVf("public012"),t.upstarGroup.visible=!0,t.upgradeGroup.visible=!1;var n=e.cost.split(",");t._y||(t._y=GObj.$c(nlwj)),t._y.tid=parseInt(n[0]),t._y.count=parseInt(n[1]);var i=App.FK.hsx(t._y.tid);t.upstarIcon.data=t._y,t.upstarIcon.bottomText=fvg.GVf("public022",i,t._y.count),t.upstarIcon.bottomColor=i>=t._y.count?Color.TX:Color.KA,t.upstarBtn.icon=i>=t._y.count?StaticData.GHj:null},t.prototype.nn=function(e){e&&this.defaultTemp(e)},t.prototype.ri=function(){var e=this;if(e.CSo&&(e.upstarGroup.visible=!1,e.upgradeGroup.visible=e.ko<e.hy.maxgrade,!(e.ko>=e.hy.maxgrade))){e.qd||(e.qd=GObj.$c(nlwj),e.qd.tid=StaticData.TID_KNIGHT_SOUL);var t=App.FK.hsx(StaticData.TID_KNIGHT_SOUL);e.qd.count=App.JP.getUpgradeCount(e.ko),e.upgradeTxt.text=fvg.GVf("public022",t,e.qd.count),e.upgradeTxt.textColor=t>=e.qd.count?Color.TX:Color.KA,e.upgradeBtn.icon=t>=e.qd.count?StaticData.GHj:null}},t.prototype.xl=function(){return this.capTxt.text=fvg.GVf("public018","+0"),this.currAttrsTxt.textFlow=LgRe.OQ(this.wp(this.ko||1,!0)),this.ko>=this.hy.maxgrade?(this.nextAttrsTxt.textFlow=LgRe.OQ(fvg.GVf("knight38")),void(this.nextAttrsTxt.y=215)):(this.nextAttrsTxt.textFlow=LgRe.OQ(this.wp(0==this.ko?2:this.ko+1,!1)),void(this.nextAttrsTxt.y=170))},t.prototype.wp=function(e,t){var n,i,r=this,a=XCA.YV(r.hy.attrid),o=gLw.GM(r.hy.tid),s="",p=GObj.$c(DnQ);if(a){for(n in xxf.UK)i=App.JP.getKnightCardAttr(a[n],e,o)||0,i>0&&(p[n]=i,i=0==e?0:i,s+="\n"+fvg.GVf("skill004",xxf.UK[n],i));for(n in xxf.IM)i=App.JP.getKnightCardAttr(a[n],e,o)||0,i>0&&(p[n]=i,s+="\n"+fvg.GVf("skill004",xxf.UK[n],i));t&&(r.capTxt.text=fvg.GVf("public018","+"+App.JP.getFightingByArryTem(p)))}return s},t.prototype.dx=function(e){var t=this;if(t._y){var n=App.FK.hsx(t._y.tid);return n<t._y.count?void _JDW.TR(t._y.tid,t._y.count):void KnightMsgProxy.TI(t.mu)}},t.prototype.om=function(e){var t=this;if(t.qd){var n=App.FK.hsx(t.qd.tid);return n<t.qd.count?void _JDW.TR(t.qd.tid,t.qd.count):void KnightMsgProxy.TI(t.mu)}},t.prototype.eq=function(e){rRcz.ZBL()},t.prototype.rl=function(e){var t=this;e&&e.indexOf(t.mu)>=0&&(1==App.JUY.knightInfos[t.mu]&&t.x_(null),t.jw()),t.goodsUpdate(),t.px()},t.prototype.px=function(){this.bondsBtn.icon=UsU._QK()?StaticData.GHj:""},t.prototype.goodsUpdate=function(e){var t=this;if(t.CSo){if(e&&e.length>0){var n=XCA.AQS.UFA(27,t.mu,t.ko+1);n?t.mj(n):t.ri()}t.qua_1_Btn.icon=t.checkRedPointByQua(aKF.WO)?StaticData.GHj:null,t.qua_2_Btn.icon=t.checkRedPointByQua(aKF.BN)?StaticData.GHj:null,t.qua_3_Btn.icon=t.checkRedPointByQua(aKF.JN)?StaticData.GHj:null,t.qua_4_Btn.icon=t.checkRedPointByQua(aKF.PU)?StaticData.GHj:null,t.allBtn.icon=t.qua_1_Btn.icon||t.qua_2_Btn.icon||t.qua_3_Btn.icon||t.qua_4_Btn.icon?StaticData.GHj:null}},t.prototype.checkRedPointByQua=function(e){for(var t=App.JUY.getKnightByQuality(e),n=0;n<t.length;n++)if(UsU.ZE(t[n]))return!0;return!1},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.cardList&&egret.Tween.removeTweens(t.cardList),t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.cardList&&(t.cardList.dataProvider=null,GObj.$d(t.cardList)),t.cardList=null,GObj.$d(t.allBtn),t.allBtn=null,GObj.$d(t.qua_1_Btn),t.qua_1_Btn=null,GObj.$d(t.qua_2_Btn),t.qua_2_Btn=null,GObj.$d(t.qua_3_Btn),t.qua_3_Btn=null,GObj.$d(t.qua_4_Btn),t.qua_4_Btn=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.labTxt_1),t.labTxt_1=null,GObj.$d(t.labTxt_2),t.labTxt_2=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.maxGradeTxt),t.maxGradeTxt=null,GObj.$d(t.currAttrsTxt),t.currAttrsTxt=null,GObj.$d(t.nextAttrsTxt),t.nextAttrsTxt=null,GObj.$d(t.nextImg),t.nextImg=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.upstarIcon),t.upstarIcon=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.upstarTxt),t.upstarTxt=null,GObj.$d(t.upstarGroup),t.upstarGroup=null,GObj.$d(t.upgradeTxt),t.upgradeTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,GObj.$d(t.yk),t.yk=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.cy),t.cy=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.bondsBtn),t.bondsBtn=null,GObj.$d(t.smaicon),t.smaicon=null,t.hy=null,t.zh=null,t.cardDatas=null,t._y=null,t.qd=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(KnightCardView.prototype,"KnightCardView");var KnightCollectionItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("KnightCollectionItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ip=GObj.$c(GeneralStarView),e.ip.maxStar=5,e.ip.open_star_key=kLM.NZ(),e.ip.close_star_key=kLM.ZH(),e.ip.star_width=23,e.ip.gap=-1,e.ip.x=26,e.ip.y=190,e.addChild(e.ip)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wp,e),vkG.$a(UtJ.ZR,e.yk,e),vkG.$a(UtJ.DV,e.bx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wp,e),vkG.$r(UtJ.ZR,e.yk,e),vkG.$r(UtJ.DV,e.bx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ux=e.data,e.iconView.icon=kLM.TJ(e.ux.tid),e.nm=gLw.IQ(e.ux.tid),e.rc(),e.vy())},t.prototype.rc=function(){var e=this;e.nt=App.JUY.collKnightInfo[e.nm]||0,e.lh=App.JUY.getTempByCollType(e.nm),e.nt&&(e.gradeTxt.text=fvg.GVf("treasure9",e.nt),e.ip.currStar=e.lh?e.lh.p1:0),e.unlockImg.visible=!e.nt,e.outTxt.visible=!e.nt,e.ip.visible=!!e.nt,e.gradeTxt.visible=!!e.nt,e.img_1.visible=e.img_2.visible=!!e.nt,e.bx(),e.cm()},t.prototype.vy=function(){var e=this;if(e.ux&&!e.nt){var t=XCA.FR(parseInt(e.ux.cost.split(",")[0]));t&&(e.outTxt.text=t.outsrc)}},t.prototype.cm=function(){var e=this;e.pp||(e.pp=App.KB.getUIEffect(gYq.XN),e.pp.x=-10,e.pp.y=-7),e.pp.play(),!e.pp.parent&&e.addChildAt(e.pp,4)},t.prototype.yk=function(e){var t=this;t.nm&&e&&e.indexOf(t.nm)>=0&&t.rc()},t.prototype.bx=function(e){var t=this;t.redPointImg.visible=UsU.PO(t.ux)},t.prototype.wp=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.pp&&(t.pp.stop(),GObj.$d(t.pp)),t.pp=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.img_1),t.img_1=null,GObj.$d(t.img_2),t.img_2=null,GObj.$d(t.unlockImg),t.unlockImg=null,GObj.$d(t.ip),t.ip=null,GObj.$d(t.outTxt),t.outTxt=null,GObj.$d(t.redPointImg),t.redPointImg=null,t.ux=null,t.lh=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(KnightCollectionItem.prototype,"KnightCollectionItem");var KnightCollectionView=function(e){function t(){var t=e.call(this,"KnightCollectionView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.dv=e.of=-1,e.labTxt_1.text=fvg.GVf("10")+":",e.labTxt_2.text=fvg.GVf("knight8"),e.upstarBtn.label=fvg.GVf("store042"),e.upgradeBtn.label=fvg.GVf("public008"),e.maxGradeTxt.text=fvg.GVf("public014"),e.cardDatas=GObj.$c(eui.ArrayCollection),e.cardList.dataProvider=e.cardDatas,e.cardList.itemRenderer=KnightCollectionItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-10,e.addChild(e.fightView),e.wr=GObj.$c(GeneralStarView),e.wr.maxStar=5,e.wr.open_star_key=kLM.NZ(),e.wr.close_star_key=kLM.ZH(),e.wr.star_width=31,e.wr.gap=-5,e.wr.x=42,e.wr.y=333,e.addChild(e.wr),e.lc=GObj.$c(GeneralStarView),e.lc.y=-145,e.lc.x=-50,e.upstarGroup.addChild(e.lc),e.smaicon.goodsTid=StaticData.TID_KNIGHT_SOUL},t.prototype.initEvent=function(){var e=this;e.cardList.addEventListener(egret.Event.CHANGE,e.kv,e),e.upstarBtn.addEventListener(eui.tep,e.or,e),e.upgradeBtn.addEventListener(eui.tep,e.vi,e),e.showBtn.addEventListener(eui.tep,e.tra,e),vkG.$a(UtJ.ZR,e.bn,e)},t.prototype.removeEvent=function(){var e=this;e.cardList.removeEventListener(egret.Event.CHANGE,e.kv,e),e.upstarBtn.removeEventListener(eui.tep,e.or,e),e.upgradeBtn.removeEventListener(eui.tep,e.vi,e),e.showBtn.removeEventListener(eui.tep,e.tra,e),vkG.$r(UtJ.ZR,e.bn,e)},t.prototype.initData=function(){var e=this;e.uj(),e.defaultTemp(e.ln)},t.prototype.defaultTemp=function(e){var t=this;t.ln=e,t.CSo&&t.ho()},t.prototype.uj=function(){var e=this;e.cardDatas.source.length=0;var t,n,i=XCA.AQS.oVs(48);for(var r in i)t=i[r][1],n=App.JUY.collKnightInfo[gLw.IQ(t.tid)]||0,!n&&t.p3>0&&!App.FK.hsx(parseInt(t.cost.split(",")[0]))||e.cardDatas.source.push(t);var a=e.cardDatas.source.length;a&&e.cardDatas.source.sort(App.JUY.compareCollFunBySort),e.cardDatas.refresh()},t.prototype.ho=function(){var e=this,t=e.cardDatas.source.indexOf(e.ln);e.cardList.selectedIndex=t>=0?t:0,e.kv(null)},t.prototype.kv=function(e){var t=this;egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.cardList);var n=t.cardList.selectedItem;n&&(t.ln=n,t.cd()),egret.Tween.get(t).wait(200).call(t.ml,t)},t.prototype.ml=function(){var e=this;if(!e.destory){var t=188*Math.floor(e.cardList.selectedIndex/3);t=Math.min(t,Math.max(e.scroller.viewport.contentHeight-e.scroller.height,0)),t!=e.cardList.scrollV&&egret.Tween.get(e.cardList).to({scrollV:t},100)}},t.prototype.cd=function(){var e=this;if(e.ln){e.ov=gLw.IQ(e.ln.tid),e.wc=App.JUY.collKnightInfo[e.ov]||0,-1!=e.of&&e.wc!=e.of&&e.ov==e.dv&&App.KB.showEffect(gYq.UQ),e.dv=e.ov,e.of=e.wc,e.headIcon.icon=kLM._X(e.ln.tid),e.wq=App.JUY.getTempByCollType(e.ov),e.wr.currStar=e.wq?e.wq.p1:0;var t=(e.wq?e.wq.p2:e.ln.p2)||0;e.wc>0?(e.gradeTxt.text=fvg.GVf("public022",e.wc,t),e.gradeTxt.textColor=e.wc>=t?Color.SQ:Color.KA):(e.gradeTxt.text=fvg.GVf("public010"),e.gradeTxt.textColor=Color.KA),e.labTxt_2.x=e.gradeTxt.x+e.gradeTxt.textWidth+3,e.labTxt_2.visible=e.wc>0&&e.wc<e.ln.maxgrade,e.maxGradeTxt.visible=e.wc>=e.ln.maxgrade;var n=XCA.AQS.UFA(48,e.ov,e.wc+1);n?e.rk(n):e.re(),e.ya(),e.fj(),e.fightView.fightNum=App.JUY.collKnightCap}},t.prototype.rk=function(e){var t=this;t.upstarBtn.label=t.wc?fvg.GVf("store042"):fvg.GVf("public012"),t.upstarGroup.visible=!0,t.upgradeGroup.visible=!1;var n=e.cost.split(",");t.wl||(t.wl=GObj.$c(nlwj)),t.wl.tid=parseInt(n[0]),t.wl.count=parseInt(n[1]);var i=App.FK.hsx(t.wl.tid);t.upstarIcon.data=t.wl,t.upstarIcon.bottomText=fvg.GVf("public022",i,t.wl.count),t.upstarIcon.bottomColor=i>=t.wl.count?Color.TX:Color.KA,t.upstarBtn.icon=i>=t.wl.count?StaticData.GHj:null,t.lc.currStar=t.wq?t.wq.p1:0;var r=e.desc;r?t.descTxt_2.text=fvg.GVf(t.wc?"knight10":"knight9",r):t.descTxt_2.text=""},t.prototype.re=function(){var e=this;if(e.CSo){e.upstarGroup.visible=!1,e.upgradeGroup.visible=e.wc<e.ln.maxgrade,e.descTxt_1.text=fvg.GVf("knight11",e.wq.desc);var t=XCA.AQS.UFA(48,e.ov,e.wq.p2+1);if(t&&t.desc?e.descTxt_2.text=fvg.GVf("knight12",t.p1,t.desc):e.descTxt_2.text="",!(e.wc>=e.ln.maxgrade)){e.hm||(e.hm=GObj.$c(nlwj),e.hm.tid=StaticData.TID_KNIGHT_SOUL);var n=App.FK.hsx(StaticData.TID_KNIGHT_SOUL);e.hm.count=App.JP.getKnightCollectionCount(e.wc),e.upgradeTxt.text=fvg.GVf("public022",n,e.hm.count),e.upgradeTxt.textColor=n>=e.hm.count?Color.TX:Color.KA,e.upgradeBtn.icon=n>=e.hm.count?StaticData.GHj:null}}},t.prototype.ya=function(){var e=this;return e.currAttrsTxt.textFlow=LgRe.OQ(e.fx(0==e.wc?1:e.wc,!0)),e.wc>=e.ln.maxgrade?void(e.nextAttrsTxt.textFlow=LgRe.OQ(fvg.GVf("knight38"))):void(e.nextAttrsTxt.textFlow=LgRe.OQ(e.fx(0==e.wc?2:e.wc+1,!1)))},t.prototype.fx=function(e,t){var n,i,r=this,a=XCA.YV(r.ln.attrid),o="",s=GObj.$c(DnQ);if(a){for(n in xxf.UK)i=App.JP.getKnightCollectionAttr(a[n],e)||0,i>0&&(s[n]=i,i=0==e?0:i,o+="\n"+fvg.GVf("skill004",xxf.UK[n],i));for(n in xxf.IM)i=App.JP.getKnightCollectionAttr(a[n],e)||0,i>0&&(s[n]=i,o+="\n"+fvg.GVf("skill004",xxf.IM[n],i))}return t&&(r.capTxt.text=fvg.GVf("public018","+"+App.JP.getFightingByArryTem(s))),o},t.prototype.fj=function(){},t.prototype.or=function(e){var t=this;if(t.wl){var n=App.FK.hsx(t.wl.tid);return n<t.wl.count?void _JDW.TR(t.wl.tid,t.wl.count):void KnightMsgProxy.BW(t.ov)}},t.prototype.vi=function(e){var t=this;if(t.hm){var n=App.FK.hsx(t.hm.tid);return n<t.hm.count?void _JDW.TR(t.hm.tid,t.hm.count):void KnightMsgProxy.BW(t.ov)}},t.prototype.tra=function(e){var t=this;if(t.wq){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));if(0==t.wc)return void App.TT.show(fvg.GVf("superequip1"));var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);var r=App.FQ.islt+(6>i?App.FQ.send_cd:10);return App.FQ.islt&&r>App.NN.serverSecond?void(6>i?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11"))):void Alert.WK(fvg.GVf("chat12",t.wq.name),void 0,void 0,t.ix,t)}},t.prototype.ix=function(){var e=this,t=GObj.$c(ChatItemData);t.mt=48,t.st=e.ov,t.gr=e.wc,t.sw=0,t.cap=e.my||0,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))},t.prototype.bn=function(e){var t=this;e&&e.indexOf(t.ov)>=0&&t.cd()},t.prototype.goodsUpdate=function(e){var t=this;if(e&&e.length>0){var n=XCA.AQS.UFA(48,t.ov,t.wc+1);n?t.rk(n):t.re()}},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.cardList&&egret.Tween.removeTweens(t.cardList),t.CSo&&t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.cardList&&(t.cardList.dataProvider=null,GObj.$d(t.cardList)),t.cardList=null,t.js&&(t.js.stop(),GObj.$d(t.js)),t.js=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.labTxt_1),t.labTxt_1=null,GObj.$d(t.labTxt_2),t.labTxt_2=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.maxGradeTxt),t.maxGradeTxt=null,GObj.$d(t.currAttrsTxt),t.currAttrsTxt=null,GObj.$d(t.nextAttrsTxt),t.nextAttrsTxt=null,GObj.$d(t.nextImg),t.nextImg=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.upstarIcon),t.upstarIcon=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.upstarGroup),t.upstarGroup=null,GObj.$d(t.upgradeTxt),t.upgradeTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,GObj.$d(t.wr),t.wr=null,GObj.$d(t.lc),t.lc=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.smaicon),t.smaicon=null,t.ln=null,t.wq=null,t.cardDatas=null,t.wl=null,t.hm=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(KnightCollectionView.prototype,"KnightCollectionView");var LandingSevenItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("LandingSevenItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.on,e),vkG.$a(UtJ.OY,e.aiW,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.on,e),vkG.$r(UtJ.OY,e.aiW,e)},t.prototype.on=function(){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.timeTxt.text=fvg.GVf("landingseven001",Nkz.QT(e.data.index)),e.titleIconImg.icon=kLM.FZ("x_"+e.data.index),e.nameImg.icon=kLM.FZ("nx_"+e.data.index),e.aiW())},t.prototype.aiW=function(){var e=this,t=App.KF.award;e.xg=0==(t&1<<e.data.index-1),e.getImg.visible=!e.xg,e.xg&&e.data.index<=App.KF.days?e.redImg.visible=!0:e.redImg.visible=!1;App.KF.days},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleIconImg),t.titleIconImg=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.getImg),t.getImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(LandingSevenItem.prototype,"LandingSevenItem");var LandingSevenView=function(e){function t(){var t=e.call(this,"LandingSevenView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.btnList.dataProvider=e.datas,e.btnList.itemRenderer=LandingSevenItem,e.datas1=GObj.$c(eui.ArrayCollection),e.btnList1.dataProvider=e.datas1,e.btnList1.itemRenderer=LandingSevenItem,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardeGroup.dataProvider=e.rewardData,e.rewardeGroup.itemRenderer=GoodsItemRenderer;for(var t,n=1;3>=n;n++)t={},t.index=n,e.datas.addItem(t);for(var n=4;7>=n;n++)t={},t.index=n,e.datas1.addItem(t);e.getBtn.label=fvg.GVf("onlinepacks001"),e.btnScroller.viewport=e.btnList,e.btnScroller1.viewport=e.btnList1,e.tq=App.KB.getUIEffect(gYq.VX),e.tq.stop(),e.xr=App.KB.getUIEffect(gYq.QP),e.xr.horizontalCenter=0,e.xr.y=-100,e.addChildAt(e.xr,1)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n=App.KF.award,i=1;7>=i;i++)if(0==(n&1<<i-1)){3>=i?t.btnList.selectedIndex=i-1:t.btnList1.selectedIndex=i-4;break}t.__clickShowGoods(null),t.hm()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getBtn.addEventListener(eui.tep,t.ee,t),t.btnList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.__clickShowGoods,t),t.btnList1.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.__clickShowGoods,t),vkG.$a(UtJ.OY,t.hm,t)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.ee,e),e.btnList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__clickShowGoods,e),e.btnList1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__clickShowGoods,e),vkG.$r(UtJ.OY,e.hm,e)},t.prototype.__clickShowGoods=function(e){var t=this;if(e&&e.target){var n=e.target;n==t.btnList1?(t.ip=t.btnList1.selectedItem.index,t.btnList.selectedIndex=void 0):(t.ip=t.btnList.selectedItem.index,t.btnList1.selectedIndex=void 0)}else t.btnList.selectedItem?(t.ip=t.btnList.selectedItem.index,t.btnList1.selectedIndex=void 0):t.btnList1.selectedItem&&(t.ip=t.btnList1.selectedItem.index,t.btnList.selectedIndex=void 0);var i=XCA.DG(12,t.ip),r=Nkz.PI(i);t.rewardData.source=r,t.rewardData.refresh(),t.iconImg.icon=kLM.FZ("d_"+t.ip),t.nameImg.icon=kLM.FZ("nd_"+t.ip),t.hm()},t.prototype.ee=function(e){var t=this;return t.ip>App.KF.days?void MessageTipManager.instance.show(fvg.GVf("landingseven002")):void App.JA.checkIncome(t.ke,t)},t.prototype.ke=function(){NXr.SW(this.ip)},t.prototype.hm=function(){var e=this,t=App.KF.award;e.pq=0==(t&1<<e.ip-1),e.pq&&e.ip<=App.KF.days?(e.getBtn.icon=StaticData.GHj,e.tq.parent||(e.tq.play(),e.getBtn.groupDisplay.addChild(e.tq))):(e.getBtn.icon=null,e.tq.parent&&(e.tq.stop(),e.tq.parent.removeChild(e.tq))),e.hr(e.ip),e.getBtn.visible=e.pq,e.getImg.visible=!e.pq},t.prototype.hr=function(e){var t,n=this;if(3>=e){for(var i=0;i<n.btnList.numChildren;i++)if(t=n.btnList.getChildAt(i),t&&t.data.index==e)return void t.aiW()}else for(var i=0;i<n.btnList1.numChildren;i++)if(t=n.btnList1.getChildAt(i),t&&t.data.index==e)return void t.aiW()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.btnScroller&&(t.btnScroller.stopAnimation(),t.btnScroller.viewport=null,GObj.$d(t.btnScroller)),t.btnScroller=null,t.btnScroller1&&(t.btnScroller1.stopAnimation(),t.btnScroller1.viewport=null,GObj.$d(t.btnScroller1)),t.btnScroller1=null,t.btnList&&(t.btnList.dataProvider=null,GObj.$d(t.btnList)),t.btnList=null,t.btnList1&&(t.btnList1.dataProvider=null,GObj.$d(t.btnList1)),t.btnList1=null,t.datas=null,GObj.$d(t.tq),t.tq=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.xr),t.xr=null,t.rewardeGroup&&(t.rewardeGroup.dataProvider=null,GObj.$d(t.rewardeGroup)),t.rewardeGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(LandingSevenView.prototype,"LandingSevenView");var LuckEggAllDropPopUi=function(e){function t(){var t=e.call(this,"LuckEggAllDropPopUi")||this;return t.skinName=RRUU.$s("LuckEggAllDropPopUi"),t.horizontalCenter=0,t.verticalCenter=0,ziI.MF("eggHisRecord"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("22"),e.lx=GObj.$c(kQr),e.lx.cwA(e.eggbtn5),e.lx.cwA(e.eggbtn4),e.lx.cwA(e.eggbtn3),e.lx.cwA(e.eggbtn2),e.lx.cwA(e.eggbtn1),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.lx.addEventListener(egret.TouchEvent.CHANGE,e.ks,e)},t.prototype.removeEvent=function(){var e=this;e.lx.removeEventListener(egret.TouchEvent.CHANGE,e.ks,e)},t.prototype.initData=function(){this.lx.selectedIndex=0},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.fi=function(e){var t=this;if(t.CSo){var n=App.WV.getReward(e+1);if(n){t.rewardData.source.length=0;for(var i=0;i<n.length;i++)t.rewardData.source.push(n[i]);t.rewardData.refresh()}}},t.prototype.ks=function(e){var t=this,n=t.lx.LuO;switch(n){case t.eggbtn1:t.vk=0;break;case t.eggbtn2:t.vk=1;break;case t.eggbtn3:t.vk=2;break;case t.eggbtn4:t.vk=3;break;case t.eggbtn5:t.vk=4}t.fi(t.vk)},t.prototype.rl=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.lx),t.lx=null,GObj.$d(t.eggbtn1),t.eggbtn1=null,GObj.$d(t.eggbtn2),t.eggbtn2=null,GObj.$d(t.eggbtn3),t.eggbtn3=null,GObj.$d(t.eggbtn4),t.eggbtn4=null,GObj.$d(t.eggbtn5),t.eggbtn5=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.vk=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(LuckEggAllDropPopUi.prototype,"LuckEggAllDropPopUi");var LuckEggPopUi=function(e){function t(){var t=e.call(this,"LuckEggPopUi")||this;return t.max1=7,t.max2=7,t.fs=1,t.frame1=120,t.frame2=340,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.label=fvg.GVf("luckegg2"),e.tenBtn.label=fvg.GVf("luckegg3"),e.descTxt.text=fvg.GVf("luckegg4"),e.dropData=GObj.$c(eui.ArrayCollection),e.dropGroup.dataProvider=e.dropData,e.dropGroup.itemRenderer=GoodsItemRenderer,e.dropGroup.touchEnabled=!1,e.ez=GObj.$c(LuckEggWinningView),e.ez.horizontalCenter=0,e.ez.y=390,e.recoredBtn.label=fvg.GVf("holyegg2"),e.addChildAt(e.ez,6)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.oneBtn.addEventListener(eui.tep,t["in"],t),t.tenBtn.addEventListener(eui.tep,t.er,t),t.allRewardBtn.addEventListener(eui.tep,t.ivj,t),t.rewardBtn.addEventListener(eui.tep,t.tl,t),t.recoredBtn.addEventListener(eui.tep,t.jo,t),t.rankBtn.addEventListener(eui.tep,t.nx,t),t.closeBtn.addEventListener(eui.tep,t.qj,t),vkG.$a(UtJ.IF,t.gl,t),vkG.$a(UtJ.DV,t.rt,t),vkG.$a(UtJ.PP,t.td,t)},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e["in"],e),e.tenBtn.removeEventListener(eui.tep,e.er,e),e.allRewardBtn.removeEventListener(eui.tep,e.ivj,e),e.rewardBtn.removeEventListener(eui.tep,e.tl,e),e.recoredBtn.removeEventListener(eui.tep,e.jo,e),e.rankBtn.removeEventListener(eui.tep,e.nx,e),e.closeBtn.removeEventListener(eui.tep,e.qj,e),vkG.$r(HUtJ.HEARTBEAT,e.sz,e),vkG.$r(UtJ.IF,e.gl,e),vkG.$r(UtJ.DV,e.rt,e),vkG.$r(UtJ.PP,e.td,e),App.HA.unRegisteEnterFrame(e.dv,e),Nvm.instance.unRegisteEnterFrame2(e.be,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.xc=App.MG.luckegg[0],t.fs=App.OZ.getDataByName(IDU.WN);for(var n=XCA.RE("132_1"),i=XCA.RE("132_2"),r=Nkz.PI(n),a=Nkz.PI(i),o=0;o<r.length;o++)r[o].TSF||r.splice(o,1);for(var o=0;o<a.length;o++)a[o].TSF||a.splice(o,1);t.av=r,t.ts=a,t.viewArr1=[],t.viewArr2=[];for(var s,o=0;o<t.max1;o++)s=GObj.$c(GoodsItemView),s.data=t.av[o],s.y=74*o,t.viewArr1.push(s),t.itemGroup1.addChild(s);for(var o=0;o<t.max2;o++)s=GObj.$c(GoodsItemView),s.data=t.ts[o],s.y=74*o,t.viewArr2.push(s),t.itemGroup2.addChild(s);Nvm.instance.registeEnterFrame2(t.be,t),t.td()},t.prototype.td=function(){var e=this;e.CSo&&(e.sa(),e.gb(),e.updateLastTime())},t.prototype.gb=function(){var e=this,t=App.FK.hsx(StaticData.TID_GOODS_58);e.needTxt1.text=fvg.GVf("public022",t,1),e.needTxt2.text=fvg.GVf("public022",t,10),t>0||!e.fs?(e.needTxt1.textColor=t>=1?Color.TX:Color.KA,e.oneBtn.icon=t>=1?StaticData.GHj:null):(e.needTxt1.textColor=t>=e.fs?Color.TX:Color.KA,e.oneBtn.icon=null),t>=10||!e.fs?(e.needTxt2.textColor=t>=10?Color.TX:Color.KA,e.tenBtn.icon=t>=10?StaticData.GHj:null):(e.needTxt2.textColor=t>=10*e.fs?Color.TX:Color.KA,e.tenBtn.icon=null),(!e.xc||e.xc.isExpired)&&(e.oneBtn.icon=null,e.tenBtn.icon=null)},t.prototype.updateLastTime=function(){var e=this;if(e.xc){var t=e.xc.endTime-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.sz,e):vkG.$r(HUtJ.HEARTBEAT,e.sz,e),e.sz()}},t.prototype.sz=function(){var e=this;if(!e.destory){var t=e.xc.endTime-App.NN.serverSecond;t>0?(e.hf=!1,e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(e.hf=!0,vkG.$r(HUtJ.HEARTBEAT,e.sz,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}},t.prototype.sa=function(){var e=this;if(App.MG.luckeggStage&&!(App.MG.luckeggStage.length<=0)){var t=App.MG.luckeggStage[0];e.yz=[];for(var n=0;n<t.bagList.length;n++)e.yz.push(t.bagList[n]);e.yz.sort(e.zy),e.pi=e.yz[0].haveFinish||0,e.rewardBtn.icon=e.as()?StaticData.GHj:null,e.s_=App.WV.lvInfo,e.lam=1;for(var i in e.s_)e.pi>=parseInt(e.s_[i])&&(e.lam=parseInt(i));e.lvTxt.text=fvg.GVf("luckegg5",e.lam),e.scoreTxt.text=fvg.GVf("public022",e.pi,e.s_[Math.min(e.lam+1,5)]),e.scoreProg.value=e.pi/e.s_[Math.min(e.lam+1,5)]*100,e.scoreProg.slideDuration=500,e.eggImg.source="luckegg_json.luckegg_egg"+e.lam+"_png",e.eggLvTxt.source="luckegg_json.luckegg_name"+e.lam+"_png",e.group.visible=!1}},t.prototype["in"]=function(e){var t=this;if(t.go)return void App.TT.show(fvg.GVf("store003"));if(!t.xc||t.hf)return void App.TT.show(fvg.GVf("public035"));var n=App.FK.hsx(StaticData.TID_GOODS_58);if(1>n)return void _JDW.TR(StaticData.TID_GOODS_58);var i=t.xc.bagList[0];i&&FunnyMsgProxy.LR(i.id,1),t.go=!0},t.prototype.er=function(e){var t=this;if(t.go)return void App.TT.show(fvg.GVf("store003"));if(!t.xc||t.hf)return void App.TT.show(fvg.GVf("public035"));var n=App.FK.hsx(StaticData.TID_GOODS_58);if(10>n)return void _JDW.TR(StaticData.TID_GOODS_58);var i=t.xc.bagList[0],r=Math.min(10,n)||10;i&&FunnyMsgProxy.LR(i.id,r),t.go=!0},t.prototype.ivj=function(e){App.VS.popup(null,LuckEggAllDropPopUi)},t.prototype.tl=function(e){App.VS.popup(null,LuckEggStagePopUi)},t.prototype.jo=function(e){App.VS.popup(null,LuckEggRecordPopUi)},t.prototype.nx=function(e){var t=App.MG.luckegg[0]?App.MG.luckegg[0].id:null;App.VS.popup(null,LuckEggRankPopUi,null,t)},t.prototype.gl=function(e){var t=this;e&&0!=e.length&&t.go&&(t.dropData.source.length=0,t.dropData.replaceAll(e),t.dropGroup.width=74*Math.min(e.length,5),t.dropGroup.height=74*Math.ceil(e.length/5),t.ru())},t.prototype.rt=function(e){this.gb()},t.prototype.ru=function(){var e=this;e.vq=0,App.HA.registeEnterFrame(e.dv,e)},t.prototype.dv=function(){var e=this;e.vq++,e.vq>e.frame1?(e.vq%3==0&&(e.lightImg.rotation+=5),e.vq%e.frame2==0&&(egret.Tween.removeTweens(e.dropGroup),e.dropGroup.visible=!1,e.lightImg.visible=!1,e.allRewardBtn.visible=!0,e.itemImg1.visible=!0,e.itemImg2.visible=!0,e.itemGroup1.visible=!0,e.itemGroup2.visible=!0,e.group.visible=!1,e.eggImg.visible=!0,e.group.x=420,e.group.y=267,e.group.rotation=0,e.group.scaleX=.6,e.group.scaleY=.6,e.group.rotation=45,e.go=!1,App.HA.unRegisteEnterFrame(e.dv,e))):e.vq%e.frame1==0?(e.allRewardBtn.visible=!1,e.group.visible=!1,e.lightImg.visible=!0,e.ag||(e.ag=App.KB.getUIEffect(gYq.VW),e.ag.addEventListener(egret.Event.COMPLETE,e.zv_,e),e.ag.x=35,e.ag.y=45),e.ag.play(1),e.addChildAt(e.ag,15),e.dropGroup.visible=!0,e.itemImg1.visible=!1,e.itemImg2.visible=!1,e.itemGroup1.visible=!1,e.itemGroup2.visible=!1,e.eggImg.visible=!1,e.dropGroup.scaleX=e.dropGroup.scaleY=.5,egret.Tween.get(e.dropGroup).to({scaleX:1,scaleY:1},200)):40==e.vq?(e.allRewardBtn.visible=!1,e.group.visible=!1,e.lightImg.visible=!0,e.vy||(e.vy=App.KB.getUIEffect(gYq.RK),e.vy.addEventListener(egret.Event.COMPLETE,e.za,e),e.vy.x=200,e.vy.y=145),e.vy.play(1),e.addChildAt(e.vy,15),e.dropGroup.visible=!1,e.itemImg1.visible=!0,e.itemImg2.visible=!0,e.itemGroup1.visible=!0,e.itemGroup2.visible=!0):e.vq>30&&e.vq<e.frame1||(e.vq<=20?(e.group.visible=!0,e.group.x=420-e.vq/2*5,e.group.rotation=45-e.vq/2*1.5,e.group.scaleX=.6+e.vq/2*.04,e.group.scaleY=.6+e.vq/2*.04):e.vq>20&&e.vq<=25&&(e.group.x-=5,e.group.rotation-=6))
},t.prototype.zv_=function(){var e=this;e.ag&&e.ag.parent&&e.ag.parent.removeChild(e.ag)},t.prototype.za=function(){var e=this;e.vy&&e.vy.parent&&e.vy.parent.removeChild(e.vy)},t.prototype.qj=function(){GObj.$d(this)},t.prototype.be=function(){var e=this;e.itemMoveLeft(e.viewArr1,e.av),e.itemMoveRight(e.viewArr2,e.ts)},t.prototype.itemMoveLeft=function(e,t){for(var n=this,i=0;i<e.length;i++)e[i].y-=1;var r,a=t.length;e[0].y<-74&&(r=e.shift(),r.data=t[n.max1],r.y=e[e.length-1].y+74,e.push(r),n.max1++,n.max1>=a&&(n.max1=0))},t.prototype.itemMoveRight=function(e,t){for(var n=this,i=0;i<e.length;i++)e[i].y-=1;var r,a=t.length;e[0].y<-74&&(r=e.shift(),r.data=t[n.max2],r.y=e[e.length-1].y+74,e.push(r),n.max2++,n.max2>=a&&(n.max2=0))},t.prototype.as=function(){var e=this;if(e.xc.endTime<App.NN.serverSecond)return!1;if(!e.yz||e.yz.length<=0)return!1;for(var t=0;t<e.yz.length;t++)if(1==e.yz[t].status)return!0;return!1},t.prototype.zy=function(e,t){return e.sort<t.sort?-1:1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemGroup1),t.itemGroup1=null,GObj.$d(t.itemGroup2),t.itemGroup2=null,GObj.$d(t.viewArr1),t.viewArr1=null,GObj.$d(t.viewArr2),t.viewArr2=null,GObj.$d(t.eggLvTxt),t.eggLvTxt=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.eggImg),t.eggImg=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.needTxt1),t.needTxt1=null,GObj.$d(t.needTxt2),t.needTxt2=null,GObj.$d(t.needIcon1),t.needIcon1=null,GObj.$d(t.needIcon2),t.needIcon2=null,GObj.$d(t.recoredBtn),t.recoredBtn=null,GObj.$d(t.allRewardBtn),t.allRewardBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.scoreProg),t.scoreProg=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,GObj.$d(t.ez),t.ez=null,GObj.$d(t.stageGroup),t.stageGroup=null,GObj.$d(t.itemImg1),t.itemImg1=null,GObj.$d(t.itemImg2),t.itemImg2=null,GObj.$d(t.xc),t.xc=null,GObj.$d(t.s_),t.s_=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.yz),t.yz=null,GObj.$d(t.lightImg),t.lightImg=null,GObj.$d(t.lvTxt),t.lvTxt=null,GObj.$d(t.group),t.group=null,GObj.$d(t.closeBtn),t.closeBtn=null,t.dropGroup&&(egret.Tween.removeTweens(t.dropGroup),t.dropGroup.dataProvider=null,GObj.$d(t.dropGroup)),t.dropGroup=null,t.ag&&(t.ag.stop(),t.ag.removeEventListener(egret.Event.COMPLETE,t.zv_,t)),t.vy&&(t.vy.stop(),GObj.$d(t.vy)),t.vy=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,GObj.$d(t.ag),t.ag=null,t.dw=null,t.dropData=null,t.max1=null,t.max2=null,t.lam=null,t.pi=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(LuckEggPopUi.prototype,"LuckEggPopUi");var LuckEggRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("LuckEggRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ai,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ai,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.uy=e.data,e.rankTxt.text=toChars(e.uy.rank),e.nameTxt.text=e.uy.name||fvg.GVf("rank10"),e.scoreTxt.text=toChars(e.uy.score||0),e.datas.source.splice(0,e.datas.source.length);for(var t,n=e.uy.award||[],i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tid,t.count=n[i].count,e.datas.source.push(t);e.datas.refresh()}},t.prototype.ai=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(LuckEggRankItem.prototype,"LuckEggRankItem");var LuckEggRankPopUi=function(e){function t(){var t=e.call(this,"MagicDiskRankPopUi")||this;return t.xz=3e5,t.skinName=RRUU.$s("MagicDiskRankPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("463"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=LuckEggRankItem,e.descLab.text=fvg.GVf("funny16",10),e.rankTxt.text=fvg.GVf("rank0",fvg.GVf("public042")),e.scoreTxt.text=fvg.GVf("funny17",0),e.rankLab.text=fvg.GVf("public061"),e.countTxt.text=fvg.GVf("464"),e.awardTxt.text=fvg.GVf("107")},t.prototype.initData=function(){this.zn(FDG.NM)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.za=e[0],n.zn(FDG.NM))},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.ZGT,e.hc,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ZGT,e.hc,e)},t.prototype.zn=function(e){var t=this;if(t.za&&e){t.mp=e;var n=App.PV.getGeneralRankByType(t.mp,t.za);(!n||GApp.timer-(n.rtime||0)>=t.xz)&&RankMsgProxy.EI(t.mp),n&&t.ya(!0)}},t.prototype.ya=function(e){var t=this,n=App.PV.getGeneralRankByType(t.mp,t.za);if(n){var i=n.myrank>10?0:n.myrank;t.mp==FDG.NM&&(t.rankTxt.text=fvg.GVf("rank0",i||fvg.GVf("public042")),t.scoreTxt.text=fvg.GVf("funny17",n.myscore||0));for(var r=[],a=n.rank||[],o=0;o<a.length;o++)r[o]=a[o];t.datas.replaceAll(r),e&&t.datas.refresh()}},t.prototype.hc=function(e){var t=this;e==t.mp&&t.ya(!1)},t.prototype.cx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.awardTxt),t.awardTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(LuckEggRankPopUi.prototype,"LuckEggRankPopUi");var LuckEggRecordItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("LuckEggRecordItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rq,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t,n,i=e.data.count,r=e.data.record,a=fvg.GVf("luckegg9",i);for(var o in r)t=XCA.FR(parseInt(o)),n=aKF.QV(t.qua),a+=fvg.GVf("luckegg10",n,t.name,n,r[o])+"";a=a.slice(0,a.length-1),e.msgTxt.textFlow=LgRe.OQ(a),e.height=e.msgTxt.textHeight}},t.prototype.rq=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(LuckEggRecordItem.prototype,"LuckEggRecordItem");var LuckEggRecordPopUi=function(e){function t(){var t=e.call(this,"LuckEggRecordPopUi")||this,n=RRUU.$s("LuckEggRecordPopUiSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,ziI.MF("eggPerRecord"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=LuckEggRecordItem,e.title=fvg.GVf("luckegg1")},t.prototype.initData=function(){this.my()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.QN,e.oq,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.QN,e.oq,e)},t.prototype.oq=function(){this.my()},t.prototype.my=function(){var e=this;if(App.WV.personalRecord){var t=App.WV.personalRecord||[];e.itemDatas.source.length=0;for(var n=0;n<t.length;n++)e.itemDatas.source.push(t[n]);e.itemDatas.refresh()}},t.prototype.bc=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(LuckEggRecordPopUi.prototype,"LuckEggRecordPopUi");var LuckEggStageItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("LuckEggStageItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.uk=[],e.getBtn.label=fvg.GVf("104"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hh,e),e.getBtn.addEventListener(eui.tep,e.ip,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hh,e),e.getBtn.removeEventListener(eui.tep,e.ip,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.ms=e.data,e.ms)){var t,n,i=e.ms.rewardList.length;e.rewardData.source.length=0;for(var r=0;i>r;r++)t=e.ms.rewardList[r],t&&(e.uk[r]||(e.uk[r]=GObj.$c(nlwj)),n=e.uk[r],n.tid=t.tempId,n.count=t.count,e.rewardData.source.push(n));e.rewardData.refresh(),e.descTxt.textFlow=LgRe.OQ(fvg.GVf("luckegg6",e.ms.totalFinish)),e.progTxt.text=fvg.GVf("112",e.ms.haveFinish,e.ms.totalFinish),e.progTxt.x=e.descTxt.x+e.descTxt.textWidth+5,e.ms.haveFinish>=e.ms.totalFinish?(e.progTxt.textColor=Color.TX,e.getBtn.icon=StaticData.GHj):(e.progTxt.textColor=Color.KA,e.getBtn.icon=null),e.getBtn.visible=2!=e.ms.status,e.receiveImg.visible=!e.getBtn.visible}},t.prototype.hh=function(e){GObj.$d(this)},t.prototype.ip=function(e){var t=this;return t.ms?2==t.ms.status?void App.TT.show(fvg.GVf("444")):t.ms.haveFinish<t.ms.totalFinish?void App.TT.show(fvg.GVf("funny2")):void FunnyMsgProxy.LR(t.ms.id):void App.TT.show(fvg.GVf("rename109"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receiveImg),t.receiveImg=null,GObj.$d(t.progTxt),t.progTxt=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.zt=null,t.ms=null,t.uk=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(LuckEggStageItem.prototype,"LuckEggStageItem");var LuckEggStagePopUi=function(e){function t(){var t=e.call(this,"LuckEggStagePopUi")||this,n=RRUU.$s("LuckEggStagePopUiSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("goal8"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=LuckEggStageItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.vg,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.vg,e)},t.prototype.initData=function(){var e=this;e.um=App.MG.luckeggStage[0],e.ac()},t.prototype.ac=function(){var e=this;if(e.CSo&&e.um){for(var t=[],n=0;n<e.um.bagList.length;n++)t.push(e.um.bagList[n]);t.sort(e.kt),e.rewardData.source.length=0;for(var i=0;i<t.length;i++)e.rewardData.source.push(t[i]);e.rewardData.refresh()}},t.prototype.vg=function(e){var t=this;t.um&&e&&e.indexOf(t.um.id)>=0&&t.rewardData&&t.ac()},t.prototype.xr=function(e){GObj.$d(this)},t.prototype.kt=function(e,t){var n=2==e.status?2:0,i=2==t.status?2:0;return i>n?-1:e.sort<t.sort?-1:1},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(LuckEggStagePopUi.prototype,"LuckEggStagePopUi");var LuckEggWinningView=function(e){function t(){var t=e.call(this,"TreasureCrossRecordView")||this;t.nq=3e5;var n=RRUU.$s("LuckEggWinningViewSkin");return t.skinName=n,ziI.MF("eggHisRecord"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ek=!1,e.touchEnabled=e.touchChildren=!1,e.ff=[],e.fu=[],e.fo=GObj.$c(GeneralRecordView,220),e.vs=GObj.$c(GeneralRecordView,220),e.ff.push(e.fo),e.ff.push(e.vs)},t.prototype.initData=function(){var e=this,t=App.WV.crossTime;!t||GApp.timer-t>e.nq?ziI.MF("reqCrossRecord"):e.iw()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.RCH,e.qs,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.RCH,e.qs,e),vkG.$r(UtJ.HD,e.ed,e),App.HA.unRegisteEnterFrame2(e.vv,e)},t.prototype.qs=function(e){this.iw()},t.prototype.iw=function(){var e=this;if(!e.ek){e.ek=!0,vkG.$a(UtJ.HD,e.ed,e),e.fu.length=0;for(var t,n,i,r,a,o=0;o<App.WV.crossRecord.length;o++)a=App.WV.crossRecord[o],a.text.indexOf("[name]")<0||a.text.indexOf("[gid]")<0||(n=fvg.GVf("luckegg7",a.name),t=XCA.FR(App.WV.crossRecord[o].gid),i=fvg.GVf("luckegg8",aKF.QV(t.qua),t.name),r=a.text.replace('"',""),r=r.replace("[name]",n),r=r.replace("[gid]",i),e.fu.push(r));e.fu&&(e.fo.setStringRecordData(e.fu),e.vs.setStringRecordData(e.fu),e.fo.y=0,e.vs.y=e.fo.totalHeight,e.recordGroup.addChild(e.fo),e.recordGroup.addChild(e.vs),App.HA.registeEnterFrame2(e.vv,e))}},t.prototype.vv=function(){var e=this;if(!e.destory)for(var t=e.ff.length-1;t>=0;t--)e.xt=e.ff[t],e.xt.y--,e.xt.y<=-e.xt.totalHeight-5&&(e.xt=e.ff.splice(t,1)[0],e.xt.y=e.ff[0].y+e.ff[0].totalHeight,e.xt.setStringRecordData(e.fu),e.ff.push(e.xt))},t.prototype.ed=function(){var e=App.WV.crossTime;(!e||GApp.timer-e>this.nq)&&(App.WV.crossTime=GApp.timer,ziI.MF("reqCrossRecord"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fo),t.fo=null,GObj.$d(t.vs),t.vs=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.ff=null,t.xt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(LuckEggWinningView.prototype,"LuckEggWinningView");var FunnyLuckyCrossView=function(e){function t(){var t=e.call(this,"TreasureCrossRecordView")||this;t.nh=3e5;var n=RRUU.$s("FunnyLuckyCrossViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.cm=!1,e.touchEnabled=e.touchChildren=!1,e.dq=[],e.gz=[],e.xx=GObj.$c(GeneralRecordView,400),e.cd=GObj.$c(GeneralRecordView,400),e.dq.push(e.xx),e.dq.push(e.cd)},t.prototype.initData=function(){var e=this,t=App.GY.crossTime;!t||GApp.timer-t>e.nh?ziI.MF("reqCrossRecord"):e.zk()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YR,e.jw,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YR,e.jw,e),vkG.$r(UtJ.HD,e.wk,e),App.HA.unRegisteEnterFrame2(e.xg,e)},t.prototype.jw=function(e){3==e&&this.zk()},t.prototype.zk=function(){var e=this;if(!e.cm){e.cm=!0,vkG.$a(UtJ.HD,e.wk,e),e.gz.length=0;for(var t,n,i,r=0;r<App.GY.crossRecord.length;r++)n=App.GY.crossRecord[r].name,t=XCA.FR(App.GY.crossRecord[r].gid),i=aKF.QV(t.qua),e.gz.push(fvg.GVf("luckyDraw01",n,i,t.name));e.gz&&(e.xx.setStringRecordData(e.gz),e.cd.setStringRecordData(e.gz),e.xx.y=0,e.cd.y=e.xx.totalHeight,e.recordGroup.addChild(e.xx),e.recordGroup.addChild(e.cd),App.HA.registeEnterFrame2(e.xg,e))}},t.prototype.xg=function(){var e=this;if(!e.destory)for(var t=e.dq.length-1;t>=0;t--)e.io=e.dq[t],e.io.y--,e.io.y<=-e.io.totalHeight-5&&(e.io=e.dq.splice(t,1)[0],e.io.y=e.dq[0].y+e.dq[0].totalHeight,e.io.setStringRecordData(e.gz),e.dq.push(e.io))},t.prototype.wk=function(){var e=App.GY.crossTime;(!e||GApp.timer-e>this.nh)&&(App.GY.crossTime=GApp.timer,ziI.MF("reqCrossRecord"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.xx),t.xx=null,GObj.$d(t.cd),t.cd=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.dq=null,t.io=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FunnyLuckyCrossView.prototype,"FunnyLuckyCrossView");var FunnyLuckyDrawItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("FunnyLuckyDrawItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.b_,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.b_,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=aKF.QV(t.qua);e.msgTxt.textFlow=LgRe.OQ(fvg.GVf("luckyDraw02",n,t.name)),e.height=16*e.msgTxt.numLines}},t.prototype.b_=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FunnyLuckyDrawItem.prototype,"FunnyLuckyDrawItem");var FunnyLuckyDrawPopUi=function(e){function t(){var t=e.call(this,"FunnyLuckyDrawPopUi")||this;return t.sn=14,t.skinName=RRUU.$s("FunnyLuckyDrawPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.label=fvg.GVf("luckyDraw05",1),e.tenBtn.label=fvg.GVf("luckyDraw05",10),e.recordBtn.label=fvg.GVf("funny11"),e.descTxt.text=fvg.GVf("luckyDraw03"),e.itemsList=[];for(var t=0;t<e.sn;t++)e.itemsList.push(this["item_"+t]);e._x=GObj.$c(TrundlePlugin),e._x.maxIndex=e.sn,e._x.dir=TrundlePlugin.VU,e._x.addCallBackFunction(e.jt,e),e.ps=GObj.$c(TrundlePlugin),e.ps.maxIndex=e.sn,e.ps.dir=TrundlePlugin.DE,e.ps.addCallBackFunction(e.pw,e),e.hy=GObj.$c(FunnyLuckyCrossView),e.hy.x=38,e.hy.y=380,e.addChild(e.hy)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.oneBtn.addEventListener(eui.tep,t.dd,t),t.tenBtn.addEventListener(eui.tep,t.pu,t),t.recordBtn.addEventListener(eui.tep,t.wf,t),t.closeBtn.addEventListener(eui.tep,t.ek,t),vkG.$a(UtJ.YR,t.sw,t),vkG.$a(HUtJ.HEARTBEAT,t.__updateLastTime,t),vkG.$a(UtJ.DV,t.rt,t),vkG.$a(UtJ.KSQ,t.th,t)},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e.dd,e),e.tenBtn.removeEventListener(eui.tep,e.pu,e),e.recordBtn.removeEventListener(eui.tep,e.wf,e),e.closeBtn.removeEventListener(eui.tep,e.ek,e),vkG.$r(UtJ.YR,e.sw,e),vkG.$r(UtJ.DV,e.rt,e),vkG.$r(UtJ.KSQ,e.th,e)},t.prototype.initData=function(){var e=this,t=int(e.sn*Math.random());e._x.start(t,1e3),e.qy(),e.__updateLastTime(),e.rt()},t.prototype.rt=function(){var e=this,t=App.FK.hsx(StaticData.TID_CLOCK_29),n=t>0?Color.TX:Color.KA,i=t>=10?Color.TX:Color.KA;e.oneBtn.icon=t>0?StaticData.GHj:null,e.tenBtn.icon=t>=10?StaticData.GHj:null,e.oneTxt.textFlow=LgRe.OQ(fvg.GVf("luckyDraw04",n,t,1)),e.tenTxt.textFlow=LgRe.OQ(fvg.GVf("luckyDraw04",i,t,10))},t.prototype.qy=function(){var e=this;e.CSo&&e.updateReward()},t.prototype.updateReward=function(){var e=this,t=XCA.DG(76,1);if(t)for(var n=Nkz.PI(t),i=n.length,r=0;i>r;r++)r<e.itemsList.length&&(e.itemsList[r].goodsData=n[r])},t.prototype.__updateLastTime=function(){var e=this;if(!e.destory){var t=App.GY.endTime-App.NN.serverSecond;0>=t?vkG.$r(HUtJ.HEARTBEAT,e.__updateLastTime,e):(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX)}},t.prototype.th=function(){var e=rRcz.SS(85,!1);e||this.ek()},t.prototype.jt=function(e,t,n){var i=this;if(e>=0&&e<i.sn&&(i.itemsList[e].selected=!0),t>=0&&t<i.sn&&(i.itemsList[t].selected=!1),n){i.ps.runing&&(i.ps.stop(),i.itemsList[i.ps.FiZ].selected=!1);var r=App.GY.levels;App.GY.levels=[];for(var a=[],o=void 0,s=0;s<r.length;s++)o=GObj.$c(nlwj),o.tid=r[s],a.push(o);egret.Tween.get(i).wait(0).call(i.es,this,[a])}},t.prototype.pw=function(e,t,n){var i=this;i.ps.runing&&(e>=0&&e<i.sn&&(i.itemsList[e].selected=!0),t>=0&&t<i.sn&&(i.itemsList[t].selected=!1))},t.prototype.es=function(e){var t=this;egret.Tween.removeTweens(t),App.VS.popup(null,TreasureResultPopUi,null,e),t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!0,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!0,SpecialTipsBar.instance.pauseCheck=!1,t._x.start(t._x.FiZ,1e3)},t.prototype.dd=function(e){var t=this,n=App.FK.hsx(StaticData.TID_CLOCK_29);return 1>n?void _JDW.TR(StaticData.TID_CLOCK_29):App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void LuckyDrawMsgProxy.VU(1))},t.prototype.pu=function(e){var t=this,n=App.FK.hsx(StaticData.TID_CLOCK_29);return 10>n?void _JDW.TR(StaticData.TID_CLOCK_29):App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void LuckyDrawMsgProxy.VU(10))},t.prototype.wf=function(e){this.oneBtn.touchEnabled&&App.VS.popup(null,FunnyluckyRecordPopUi)},t.prototype.sw=function(e){var t=this;if(1==e){var n=App.GY.levels||[];n.length>0&&t._x&&!t._x.runing&&(t._x.run(5,3,50),n.length>1&&(t.ps.start(t._x.FiZ,1e3),t.ps.run(5,5,50)))}},t.prototype.ek=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),egret.Tween.removeTweens(t),SpecialTipsBar.instance.pauseCheck=!1,t.itemsList)for(;t.itemsList.length>0;)GObj.$d(t.itemsList.pop());t.itemsList=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t._x),t._x=null,GObj.$d(t.ps),t.ps=null,GObj.$d(t.itemsGroup),t.itemsGroup=null,GObj.$d(t.hy),t.hy=null,GObj.$d(t.oneTxt),t.oneTxt=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.closeBtn),t.closeBtn=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(FunnyLuckyDrawPopUi.prototype,"FunnyLuckyDrawPopUi");var FunnyluckyRecordPopUi=function(e){function t(){var t=e.call(this,"FunnyTreasureRecordPopUi")||this,n=RRUU.$s("FunnyluckyRecordPopUiSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=FunnyLuckyDrawItem,e.title=fvg.GVf("funny11")},t.prototype.initData=function(){ziI.MF("reqPersonalRecord")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YR,e.bb,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YR,e.bb,e)},t.prototype.bb=function(e){2==e&&this.ug()},t.prototype.ug=function(){for(var e,t=this,n=(App.GY.personalRecord,[]),i=0;i<App.GY.personalRecord.length;i++)e=XCA.FR(App.GY.personalRecord[i]),n[i]=e;t.itemDatas.source=n,t.itemDatas.refresh()},t.prototype.xc=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FunnyluckyRecordPopUi.prototype,"FunnyluckyRecordPopUi");var AttributePopUi=function(e){function t(){var t=e.call(this,"AttributePopUi")||this;return t.skinName=RRUU.$s("AttributePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.title=fvg.GVf("magicblade13")},t.prototype.initData=function(){this.jp()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.jp=function(){var e=XCA.AQS.oVs(79)[1][1];if(e){var t,n,i=App.FX.advancedvo.g,r="",a=XCA.YV(e.attrid),o=0;if(a){for(t in xxf.UK)n=App.JP.getMagicBladeAdvancedAttr(i,a[t])||0,a[t]&&(n=0==i?a[t]:n,r+=fvg.GVf("skill004",xxf.UK[t],n)+"\n",o+=a.p1*n);for(t in xxf.IM)n=App.JP.getMagicBladeAdvancedAttr(i,a[t])||0,n&&(r+=fvg.GVf("skill004",xxf.IM[t],(n/10).toFixed(1)+"%")+"\n")}this.attrLab.text=r}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.attrLab),t.attrLab=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(AttributePopUi.prototype,"AttributePopUi");var AwakenPopUi=function(e){function t(){var t=e.call(this,"AwakenPopUi")||this;return t.skinName=RRUU.$s("AwakenPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.maxLab.text=fvg.GVf("magicblade25"),e.skillNameLab.text=fvg.GVf("magicblade42"),e.li=GObj.$c(FigureView),e.li.x=100,e.li.y=100,e.avatar.addChild(e.li),e.capView=GObj.$c(FightView),e.capView.x=117,e.capView.y=50,e.addChildAt(e.capView,2),e.title=fvg.GVf("magicblade22")},t.prototype.initData=function(){this.ub()},t.prototype.initEvent=function(){var e=this;e.awakenBtn.addEventListener(eui.tep,e.wr,e),e.goBtn.addEventListener(eui.tep,e.aq,e),e.playBtn.addEventListener(eui.tep,e.w_,e),e.wearBtn.addEventListener(eui.tep,e.su,e),vkG.$a(UtJ.CV,e.ub,e),vkG.$a(UtJ.RCV,e.ga,e),vkG.$a(UtJ.CV,e.jj,e),vkG.$a(UtJ.YJ,e.fu,e)},t.prototype.removeEvent=function(){var e=this;e.awakenBtn.removeEventListener(eui.tep,e.wr,e),e.goBtn.removeEventListener(eui.tep,e.aq,e),e.playBtn.removeEventListener(eui.tep,e.w_,e),e.wearBtn.removeEventListener(eui.tep,e.su,e),vkG.$r(UtJ.CV,e.ub,e),vkG.$r(UtJ.RCV,e.ga,e),vkG.$r(UtJ.CV,e.jj,e),vkG.$r(UtJ.YJ,e.fu,e)},t.prototype.fu=function(){var e=this;e.goBtn.visible=e.xh<=0&&!IoG.EZ(),e.xh<=0&&!IoG.EZ()?0==App.MG.getFirstChargeState()?(e.goBtn.label=fvg.GVf("imm08"),e.goBtn.visible=!0,e.awakenBtn.visible=!1):1==App.MG.getFirstChargeState()?(e.goBtn.label=fvg.GVf("task26"),e.goBtn.visible=!0,e.awakenBtn.visible=!1):(e.goBtn.visible=!1,e.awakenBtn.visible=!0):(e.goBtn.visible=!1,e.awakenBtn.visible=!0)},t.prototype.ub=function(){var e=this,t=XCA.AQS.UFA(81,99,1);if(t){e.dn=gLw.IQ(t.tid),e.xh=App.FX.awakenInfo[e.dn]||0;var n=e.xh+1;e.gn=XCA.AQS.UFA(81,99,e.xh||1),e.tq=XCA.AQS.UFA(81,99,n),!e.tq&&e.gn&&(e.tq=e.gn),0==e.xh?(e.attrImg_1.visible=!1,e.attrImg_2.visible=!1,e.attrImg_3.visible=!0):(e.rankImg.icon=kLM.QL(e.xh),e.attrImg_2.source="magicblade2_json.magicblade2_img_"+e.xh+"_png",e.attrImg_1.visible=!0,e.attrImg_2.visible=!0,e.attrImg_3.visible=!1);var i=GObj.$c(nlwj);i.tid=parseInt(e.tq.cost),e.goods.data=i;var r=gLw.GM(e.gn.tid);e.nameImg.icon=kLM.HY(e.dn),e.quaImg.icon=kLM.WT(r),e.typeImg.icon=kLM.JT(r),e.xh>0?(e.rankImg_2.visible=!0,e.nameImg.horizontalCenter=-172,e.nameImg.verticalCenter=-110):(e.nameImg.horizontalCenter=-186,e.nameImg.verticalCenter=-145,e.rankImg_2.visible=!1);var a=e.xh>=e.tq.maxgrade;e.awakenGroup.visible=!a,e.maxLab.visible=a,e.awakenBtn.label=e.xh?fvg.GVf("magicblade08"):fvg.GVf("magicblade09");var o=App.FK.hsx(e.tq.cost);e.goods.bottomText=fvg.GVf("public022",o,1),e.goods.bottomColor=o>=1?Color.TX:Color.KA;var s=e.gn.p5;e.lt(s),e.ga(),e.jj();var p=XCA.YV(e.gn.attrid+(e.xh||1));p&&p.p1?e.capView.fightNum=p.p1:e.capView.fightNum=0;var l=XCA.AQS.oVs(1),c=l[520][1];if(c){var u=SkillManager.instance.getActSkillInfoBySonType("520"),d=u?u.grade:0;e.skillDescLab.textFlow=LgRe.OQ(fvg.GVf("magicblade520",Color.XK,GMath.toFixed(.1*c.p1,1),Color.XK,App.JP.skillp2(c,d))),e.skillIcon.icon=kLM.RL(gLw.getIconIdByTid(c.tid)),e.fu()}}},t.prototype.jj=function(){this.awakenBtn.icon=UsU.WM()?StaticData.GHj:""},t.prototype._e=function(e){var t,n,i=this,r="",a=XCA.YV(i.gn.attrid+(e||1));if(a){for(t in xxf.UK)a[t]&&(n=0==e?0:a[t],r+=fvg.GVf("skill004",xxf.UK[t],n)+"\n");for(t in xxf.IM)a[t]&&(n=0==e?0:a[t],r+=fvg.GVf("skill004",xxf.IM[t],(n/10).toFixed(1)+"%")+"\n");i.xh==e&&(i.capView.fightNum=a.p1)}return r},t.prototype.lt=function(e){var t=this;t.li&&(t.pr&&t.pr==e||(t.pr=e,t.pr||(t.pr=GConfig.AVATAR_DEFAULT),FigureHelps.NW(t.li,{w:t.pr},!1)))},t.prototype.w_=function(){var e=this;e.fh||(e.fh=GObj.$c(MovieEffect),e.fh.x=300,e.fh.y=200,e.addChild(e.fh));var t=520;e.fh.once(egret.Event.COMPLETE,e.im,e),e.fh.play(StaticData.SKILL_INFO[t].attack,100,1),e.playBtn.visible=!1,SkillNameAction.bust(t)},t.prototype.im=function(e){var t=this;t.destory||(t.playBtn.visible=!0)},t.prototype.wr=function(){var e=this,t=App.FK.hsx(e.tq.cost);return 1>t?void _JDW.TR(parseInt(e.tq.cost)):void MagicBladeProxy.OD()},t.prototype.ga=function(){var e=this;
if(e.wearBtn.visible=e.xh>0,e.wearBtn.visible){var t=App.FX.advancedvo.use;e.dn!=t?(e.mf=1,e.wearBtn.icon=kLM.OH(!0)):(e.mf=2,e.wearBtn.icon=kLM.OH(!1))}},t.prototype.su=function(e){var t=this;if(t.xh>0){1==t.mf&&(t.kr||(t.kr=App.KB.getUIEffect(gYq.FS,100,1),t.kr.addEventListener(egret.Event.COMPLETE,t.zx,t),t.kr.x=303,t.kr.y=310),t.kr.play(1),t.addChild(t.kr));var n=App.FX.advancedvo.use!=t.dn?1:2;MagicBladeProxy.CK(n,t.dn)}},t.prototype.zx=function(e){var t=this;t.kr&&t.kr.parent&&t.removeChild(t.kr)},t.prototype.aq=function(){rRcz.SZ()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goods),t.goods=null,GObj.$d(t.skillDescLab),t.skillDescLab=null,GObj.$d(t.skillNameLab),t.skillNameLab=null,GObj.$d(t.awakenBtn),t.awakenBtn=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankImg_2),t.rankImg_2=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.capView),t.capView=null,GObj.$d(t.playBtn),t.playBtn=null,GObj.$d(t.awakenGroup),t.awakenGroup=null,GObj.$d(t.maxLab),t.maxLab=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.skillIcon),t.skillIcon=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.li),t.li=null,GObj.$d(t.attrImg_1),t.attrImg_1=null,GObj.$d(t.attrImg_2),t.attrImg_2=null,GObj.$d(t.attrImg_3),t.attrImg_3=null,GObj.$d(t.typeImg),t.typeImg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(AwakenPopUi.prototype,"AwakenPopUi");var FateView=function(e){function t(){var t=e.call(this,"FateView")||this;return t.zn=!1,t.np=!1,t.skinName=RRUU.$s("FateView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsArr=[e.goods1,e.goods2,e.goods3,e.goods4],e.ud=[e.sourceLab1,e.sourceLab2,e.sourceLab3,e.sourceLab4],e.maxLab.text=fvg.GVf("magicblade25"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=FateViewItem,e.vp=App.KB.getUIEffect(gYq.TN),e.vp.x=191,e.vp.y=234,e.addChild(e.vp)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.activationBtn.addEventListener(eui.tep,t.zo,t),t.playBtn.addEventListener(eui.tep,t.rb,t),t.itemList.addEventListener(egret.Event.CHANGING,t.vd,t),t.itemList.addEventListener(egret.Event.CHANGE,t.vb,t),t.rightBtn.addEventListener(egret.Event.ENTER_FRAME,t.fa,t),t.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.sz,t),t.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,t.hq,t),t.leftBtn.addEventListener(egret.Event.ENTER_FRAME,t.vs,t),t.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.yl,t),t.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,t.sw,t),vkG.$a(UtJ.OE,t.du,t),vkG.$a(UtJ.TCN,t.sm,t)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.zo,e),e.playBtn.removeEventListener(eui.tep,e.rb,e),e.itemList.removeEventListener(egret.Event.CHANGING,e.vd,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.vb,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.fa,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.sz,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.hq,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.vs,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.yl,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.sw,e),vkG.$r(UtJ.OE,e.du,e),vkG.$r(UtJ.TCN,e.sm,e)},t.prototype.initData=function(){this.sm()},t.prototype.sm=function(){var e=this,t=XCA.AQS.oVs(82);e.datas.source.length=0;for(var n in t){e.datas.source.push(t[n][1]),e.datas.source.push(t[n][1]),e.datas.source.push(t[n][1]),e.datas.source.push(t[n][1]);break}e.datas.refresh(),e.itemList.selectedIndex=0,e.vb(null)},t.prototype.du=function(){var e=this;if(e.nu){e._n=gLw.IQ(e.nu.tid),e.kw=App.FX.fateInfo[e._n]||0;var t=e.nu.p6.split(QycO.XP);e.sp=t[e.kw];var n,i,r,a,o,s,p,l=e.nu.p5.split(QycO.PK),c=l.length;e.aq=0;for(var u=0;c>u;u++){if(n=l[u].split(QycO.XP),i=null,r=null,n.length<2?(r=XCA.allTemplateData.appelltemp[n[0]],p=r.grade):(i=XCA.AQS.getGradeTempByMasTypeAndSubType(parseInt(n[0]),parseInt(n[1]))[1],p=App.FX.getSkinGrade(parseInt(n[0]),parseInt(n[1]))),!i&&!r)return;a=GObj.$c(nlwj),p>=parseInt(e.sp)&&e.aq++,o=i?parseInt(i.cost):r.canup,s=p>0?fvg.GVf("magicblade11",p):i?i.desc:r.desc,a.tid=o,e.goodsArr[u].data=a,e.ud[u].text=s,e.ud[u].textColor=p>0?Color.TX:Color.KA}var d=e.aq==c?Color.SQ:Color.KA,g=e.kw>=t.length?fvg.GVf("magicblade18",e.nu.name,e.kw):fvg.GVf("magicblade16",e.nu.name,e.kw,d,e.aq,c);e.conditionLab.textFlow=LgRe.OQ(g);var v=e.kw<=0?"magicblade17":"magicblade19";e.descLab.text=fvg.GVf(v,e.sp),e.descLab.visible=e.activationBtn.visible=e.kw<t.length,e.maxLab.visible=e.kw>=t.length,e.activationBtn.label=e.kw?fvg.GVf("magicblade08"):fvg.GVf("public012"),e.playBtn.visible=e.nu.p2?!0:!1,e.skillDesc2Lab.text=fvg.GVf("magicblade28",(e.nu.p3||0)*e.kw),e.skillIcons.source=kLM.UQ(e._n);var h,m=XCA.AQS.oVs(1),f=m[e.nu.p2];if(f){h=gLw.getIconIdByTid(f[1].tid);var y=SkillManager.instance.getActSkillInfoBySonType(e.nu.p2.toString()),b=y?y.grade:0}else h=999;e.skillIcon.source=kLM.RL(h);var _,T="",O="",p=App.FX.getMagicGrade();p>=3&&(T=GMath.toFixed(.1*f[1].p1,1)+"%",O="+"),_=App.JP.skillp2(f[1],b)*p,e.skillDesc1Lab.textFlow=LgRe.OQ(fvg.GVf("magicblade530",T,O,_)),e.yu()}},t.prototype.fd=function(){var e,t,n=this,i="",r=XCA.YV(n.nu.attrid);if(r)for(t in xxf.IM)e=r[t]*n.kw||0,r[t]&&(i=fvg.GVf("magicblade29",n.nu.name,xxf.IM[t],(e/10).toFixed(1)+"%"));return i},t.prototype.vd=function(e){return this.itemList.selectedIndex>0?(MessageTipManager.instance.show(fvg.GVf("magicblade30")),void(e&&e.preventDefault())):void 0},t.prototype.vb=function(e){var t=this;t.nu=t.datas.source[t.itemList.selectedIndex],t.du()},t.prototype.zo=function(){var e=this,t=e.nu.p5.split(QycO.PK),n=t.length;if(e.aq<n){var i=e.kw<=0?"magicblade17":"magicblade19";return void MessageTipManager.instance.show(fvg.GVf(i,e.sp))}var r=gLw.IQ(e.nu.tid);MagicBladeProxy.OG(r)},t.prototype.yu=function(){var e=this;e.activationBtn.icon=UsU.XL(e._n)?StaticData.GHj:""},t.prototype.rb=function(){var e=this;e.ke||(e.ke=GObj.$c(MovieEffect),e.ke.x=300,e.ke.y=200,e.addChild(e.ke)),e.ke.once(egret.Event.COMPLETE,e.zz,e);var t=e.nu&&e.nu.p2?e.nu.p2:520;e.ke.play(StaticData.SKILL_INFO[t].attack,100,1),e.playBtn.visible=!1},t.prototype.zz=function(e){var t=this;t.destory||t.nu.p2&&(t.playBtn.visible=!0)},t.prototype.od=function(e){var t=this,n=t.scroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.yl=function(e){this.zn=!0},t.prototype.sw=function(e){this.zn=!1},t.prototype.vs=function(){var e=this;if(e.zn){var t=e.scroller;if(t.viewport.scrollH<=0)return void(e.zn=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.fa=function(){var e=this;if(e.np){var t=e.scroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return void(e.np=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.sz=function(e){this.np=!0},t.prototype.hq=function(e){this.np=!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsArr),t.goodsArr=null,GObj.$d(t.conditionLab),t.conditionLab=null,GObj.$d(t.skillDesc1Lab),t.skillDesc1Lab=null,GObj.$d(t.skillDesc2Lab),t.skillDesc2Lab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.playBtn),t.playBtn=null,GObj.$d(t.skillIcon),t.skillIcon=null,GObj.$d(t.skillIcons),t.skillIcons=null,GObj.$d(t.maxLab),t.maxLab=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.vp),t.vp=null,GObj.$d(t.ke),t.ke=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(FateView.prototype,"FateView");var FateViewItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("FateViewItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.q_,e),vkG.$a(UtJ.OE,e.dataChanged,e),vkG.$a(UtJ.TCN,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.q_,e),vkG.$r(UtJ.OE,e.dataChanged,e),vkG.$r(UtJ.TCN,e.dataChanged,e)},t.prototype.cc=function(){GObj.$d(this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;if(t){var n=0===e.itemIndex;if(n){var i=gLw.IQ(t.tid);e.iconImg.source=kLM.UQ(i),e.redImg.visible=UsU.XL(i)}else e.iconImg.source=kLM.UQ(e.itemIndex+1);e.maskImg.visible=!n,e.descLab.text=n?"":fvg.GVf("public010")}}},t.prototype.q_=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(FateViewItem.prototype,"FateViewItem");var IllusionView=function(e){function t(){var t=e.call(this,"IllusionView")||this;return t.hl=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.hg=GObj.$c(kQr),e.hg.cwA(e.qua1Btn),e.hg.cwA(e.qua2Btn),e.hg.cwA(e.qua3Btn),e.hg.cwA(e.qua4Btn),e.hg.cwA(e.qua5Btn),e.qua1Btn.label=fvg.GVf("magicblade20"),e.qua2Btn.label=fvg.GVf("magicblade22"),e.qua3Btn.label=fvg.GVf("magicblade21"),e.qua4Btn.label=fvg.GVf("magicblade23"),e.qua5Btn.label=fvg.GVf("magicblade24"),e.basicsAttrLab.text=fvg.GVf("magicblade14"),e.maxLab.text=fvg.GVf("magicblade27"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=IllusionViewItem,e.sx=GObj.$c(FigureView),e.sx.x=400,e.sx.y=300,e.addChildAt(e.sx,1),e.capView=GObj.$c(FightView),e.capView.x=117,e.capView.y=0,e.addChildAt(e.capView,2),e.lc=GObj.$c(GeneralStarView),e.lc.maxStar=10,e.lc.open_star_key=kLM.NZ(),e.lc.close_star_key=kLM.ZH(),e.lc.star_width=32,e.lc.x=90,e.lc.y=468,e.addChild(e.lc)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.advancedBtn.addEventListener(eui.tep,t.cs,t),t.itemList.addEventListener(egret.Event.CHANGE,t.rj,t),t.hg.addEventListener(egret.Event.CHANGE,t.m_,t),t.wearBtn.addEventListener(eui.tep,t.lg,t),vkG.$a(UtJ.TCN,t.cn,t),vkG.$a(UtJ.RCV,t.cn,t),vkG.$a(UtJ.CV,t.cn,t),vkG.$a(UtJ.DV,t.xe,t),vkG.$a(UtJ.YJ,t.yj,t)},t.prototype.removeEvent=function(){var e=this;e.advancedBtn.removeEventListener(eui.tep,e.cs,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.rj,e),e.hg.removeEventListener(egret.Event.CHANGE,e.m_,e),e.wearBtn.removeEventListener(eui.tep,e.lg,e),vkG.$r(UtJ.TCN,e.cn,e),vkG.$r(UtJ.RCV,e.cn,e),vkG.$r(UtJ.CV,e.cn,e),vkG.$r(UtJ.DV,e.xe,e),vkG.$r(UtJ.YJ,e.yj,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.hg.selectedIndex=0,t.yj()},t.prototype.yj=function(){this.group.visible=!IoG.EZ()},t.prototype.m_=function(){var e=this;e.scroller&&e.scroller.stopAnimation(),e.scroller.viewport.scrollH=0,e.itemList.selectedIndex=0,e.hl=e.itemList.selectedIndex,e.xc()},t.prototype.xc=function(){var e=this,t=App.FX.getQua(e.hg.selectedIndex),n=App.FX.getQuaData(t),i=n.length,r=[];e.datas.source.length=0;for(var a=0;i>a;a++)r.push(n[a]);r.sort(e.jj),e.datas.refresh(),e.datas.replaceAll(r),e.itemList.selectedIndex=e.hl,e.rj(),e.qx()},t.prototype.jj=function(e,t){var n=gLw.GM(e.tid),i=gLw.GM(t.tid),r=gLw.IQ(e.tid),a=gLw.IQ(t.tid),o=App.FX.risingstarvo.starArr[r]||0,s=App.FX.risingstarvo.starArr[a]||0,p=o>0,l=s>0,c=99==r&&App.FX.isAwaken?UsU.WM():UsU.XW(r),u=99==a&&App.FX.isAwaken?UsU.WM():UsU.XW(a);return p&&l?e.sort>t.sort?-1:1:p&&!l?-1:!p&&l?1:c&&u?n>=i?1:-1:c&&!u?-1:!c&&u?1:n>=i?1:-1},t.prototype.cn=function(){var e=this;if(e.be){e.dt=gLw.IQ(e.be.tid),e.an=App.FX.risingstarvo.starArr[e.dt]||0;var t=gLw.GM(e.be.tid),n=fvg.GVf("magicblade30_"+e.dt);""==n&&(n=fvg.GVf("magicblade30_")),e.infoLab.text=n,e.quaImg.icon=kLM.WT(t),e.nameImg.icon=kLM.HY(e.dt),e.typeImg.icon=kLM.JT(t),e.sourceLab.text=fvg.GVf("public019",e.be.desc);var i=e.an>0;e.sourceLab.visible=!i,e.lc.visible=i,e.lc.currStar=e.an%10||0;var r=e.an<e.be.maxgrade;e.advancedBtn.visible=r,e.maxLab.visible=!r,e.advancedBtn.label=99==e.dt&&App.FX.isAwaken?fvg.GVf("magicblade09"):e.an?fvg.GVf("magicblade15"):fvg.GVf("public012");var a=GObj.$c(nlwj);a.tid=parseInt(e.be.cost),e.goods.data=a;var o=App.FK.hsx(e.be.cost);e.goods.bottomText=fvg.GVf("public022",o,1),e.goods.bottomColor=o>=1?Color.TX:Color.KA,e.goods.visible=r;var s,p=XCA.AQS.UFA(81,e.dt,App.FX.awakenInfo[e.dt]||1);s=p?p.p5:e.be.p5,e.mp(s),e.qx(),e.hw(),e.xe()}},t.prototype.hw=function(){var e,t,n,i,r=this,a="",o=XCA.YV(r.be.attrid);if(o){for(e in xxf.UK)t=(r.an||1)*o[e]||0,o[e]&&(r.be.p3?(i=App.FX.getSuitAttrAddition(r.be.p3,1)||0,i*=r.kz(),i=int(t*(1+i/100))):i=t,a+=fvg.GVf("fashion3",xxf.UK[e],i)+"\n");for(e in xxf.IM)t=(r.an||1)*o[e]||0,o[e]&&(a+=fvg.GVf("fashion3",xxf.IM[e],(t/10).toFixed(1)+"%")+"\n");if(n=XCA.YV(r.be.p2))for(e in xxf.IM)t=n[e]||0,n[e]&&(a+=fvg.GVf("fashion3",xxf.IM[e],(t/10).toFixed(1)+"%")+"\n");r.be.p3&&(a+=App.FX.getSuitAttrAddition(r.be.p3))}var s;s=r.be.p3?App.FX.getSuitAttrAddition(r.be.p3,1)||0:0,r.capView.fightNum=int(o.p1*(r.an||1)*(1+s/100)),r.attrLab.textFlow=LgRe.OQ(a)},t.prototype.rj=function(){var e=this;e.be=e.datas.source[e.itemList.selectedIndex],e.hl=e.itemList.selectedIndex,e.cn()},t.prototype.kz=function(){var e=this;if(e.be){if(99==e.dt)return 1;var t=e.be.p4,n=App.FX.getMagicFairyFetter(t);if(0>=n)return 1;var i=XCA.AQS.UFA(86,t,1);if(i)return i.p1/100+1}},t.prototype.qx=function(){var e=this;if(e.wearBtn.visible=e.an>0,e.wearBtn.visible){var t=App.FX.advancedvo.use;e.dt!=t?(e.ht=1,e.wearBtn.icon=kLM.OH(!0)):(e.ht=2,e.wearBtn.icon=kLM.OH(!1))}},t.prototype.mp=function(e){var t=this;t.sx&&(t.ym&&t.ym==e||(t.ym=e,t.ym||(t.ym=GConfig.AVATAR_DEFAULT),FigureHelps.NW(t.sx,{w:t.ym},!1)))},t.prototype.cs=function(){var e=this;if(99==e.dt&&App.FX.isAwaken)return void App.VS.popup(10124,AwakenPopUi);var t=App.FK.hsx(e.be.cost);if(1>t)return void(IoG.EZ()?MessageTipManager.instance.show(fvg.GVf("public015")):_JDW.TR(parseInt(e.be.cost)));var n=gLw.IQ(e.be.tid);MagicBladeProxy.NX(n)},t.prototype.xe=function(){var e=this,t=99==e.dt&&App.FX.isAwaken?UsU.WM():UsU.XW(e.dt);e.advancedBtn.icon=t?StaticData.GHj:"";for(var n=0;4>=n;n++)this["qua"+(n+1)+"Btn"].icon=UsU.SH(n)?StaticData.GHj:""},t.prototype.lg=function(e){var t=this;if(t.an>0){1==t.ht&&(t.jb||(t.jb=App.KB.getUIEffect(gYq.FS,100,1),t.jb.addEventListener(egret.Event.COMPLETE,t.wa,t),t.jb.x=303,t.jb.y=372),t.jb.play(1),t.addChild(t.jb));var n=App.FX.advancedvo.use!=t.dt?1:2;MagicBladeProxy.CK(n,t.dt)}},t.prototype.wa=function(e){var t=this;t.jb&&t.jb.parent&&t.removeChild(t.jb)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.advancedBtn),t.advancedBtn=null,GObj.$d(t.wearBtn),t.wearBtn=null,GObj.$d(t.hg),t.hg=null,GObj.$d(t.qua1Btn),t.qua1Btn=null,GObj.$d(t.qua2Btn),t.qua2Btn=null,GObj.$d(t.qua3Btn),t.qua3Btn=null,GObj.$d(t.qua4Btn),t.qua4Btn=null,GObj.$d(t.qua5Btn),t.qua5Btn=null,GObj.$d(t.basicsAttrLab),t.basicsAttrLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.sourceLab),t.sourceLab=null,GObj.$d(t.capView),t.capView=null,GObj.$d(t.sx),t.sx=null,GObj.$d(t.goods),t.goods=null,GObj.$d(t.lc),t.lc=null,GObj.$d(t.maskBg),t.maskBg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.group),t.group=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(IllusionView.prototype,"IllusionView");var IllusionViewItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("IllusionViewItem"),t}return __extends(t,e),t.prototype.initView=function(){this.bgIcon.touchEnabled=!0},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.cz,e),vkG.$a(UtJ.TCN,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.cz,e),vkG.$r(UtJ.TCN,e.dataChanged,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.cz=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=gLw.IQ(t.tid),i=App.FX.risingstarvo.starArr[n]||0;e.starLab.text=i.toString(),e.starLab.visible=e.starImg.visible=e.bottomImg.visible=!!i,e.wearImg.visible=App.FX.advancedvo.use==n,e.nameLab.text=t.name,e.nameLab.textColor=aKF.DU(t.qua),e.bgIcon.source=kLM.QJ(n),e.quaIcon.source=kLM.VQ(t.qua),e.maskImg.visible=!i,e.sourceLab.visible=!i,e.sourceLab.text=t.desc;gLw.GM(t.tid);e.redImg.visible=99==n&&App.FX.isAwaken?UsU.WM():UsU.XW(n)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.starLab),t.starLab=null,GObj.$d(t.wearImg),t.wearImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.bgIcon),t.bgIcon=null,GObj.$d(t.quaIcon),t.quaIcon=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.bottomImg),t.bottomImg=null,GObj.$d(t.sourceLab),t.sourceLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(IllusionViewItem.prototype,"IllusionViewItem");var LightingPopUi=function(e){function t(){var t=e.call(this,"LightingPopUi")||this;return t.skinName=RRUU.$s("LightingPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nameLab.text=fvg.GVf("lighting1"),e.advancedBtn.label=fvg.GVf("magicblade35"),e.activeBtn.label=fvg.GVf("public012")},t.prototype.initData=function(){this.up()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ru=e[0],n.wi=e[1],n.up())},t.prototype.initEvent=function(){var e=this;e.advancedBtn.addEventListener(eui.tep,e.nu,e),e.activeBtn.addEventListener(eui.tep,e.tg,e),e.descLab.addEventListener(eui.tep,e.gs,e),vkG.$a(UtJ.DV,e.jc,e),vkG.$a(UtJ.DT,e.jc,e),vkG.$a(UtJ.FLN,e.jc,e),vkG.$a(UtJ.APK,e.jc,e),vkG.$a(UtJ.YJ,e.up,e)},t.prototype.removeEvent=function(){var e=this;e.advancedBtn.removeEventListener(eui.tep,e.nu,e),e.activeBtn.removeEventListener(eui.tep,e.tg,e),e.descLab.removeEventListener(eui.tep,e.gs,e),vkG.$r(UtJ.DV,e.jc,e),vkG.$r(UtJ.DT,e.jc,e),vkG.$r(UtJ.FLN,e.jc,e),vkG.$r(UtJ.APK,e.jc,e),vkG.$r(UtJ.YJ,e.up,e)},t.prototype.up=function(){var e=this;if(e.CSo&&e.ru){XCA.FR(e.ru);e.iconView.icon=kLM.GT(e.ru),e.nameImg.source="magicblade_json.magicblade_skill_"+e.ru+"_png",e.descLab.textFlow=LgRe.OQ(fvg.GVf("magicblade42_"+(e.wi+1))),e.attrLab.textFlow=LgRe.OQ(fvg.GVf("magicblade43_"+(e.wi+1)));var t=App.FK.hsx(e.ru),n=t>0?Color.TX:Color.KA;e.needTxt.textFlow=LgRe.OQ(fvg.GVf("magicblade44",n,t,1)),e.qi()?(e.activeBtn.visible=e.advancedBtn.visible=!1,e.descLab.visible=!1,e.hasLab.visible=!0):t>0?(e.hasLab.visible=!1,e.activeBtn.visible=!0,e.advancedBtn.visible=!1,e.activeBtn.icon=StaticData.GHj,e.descLab.visible=!IoG.EZ()):(e.hasLab.visible=!1,e.activeBtn.visible=!1,e.advancedBtn.visible=!IoG.EZ(),e.descLab.visible=!IoG.EZ())}},t.prototype.jc=function(){this.up()},t.prototype.nu=function(){var e=this;0==e.wi?rRcz.XC():1==e.wi?App.VS.open(10125):2==e.wi&&App.VS.open(10125,{tabType:2})},t.prototype.tg=function(){var e=this;return e.qi()?void msgTip(fvg.GVf("magicblade37")):(2==e.wi?NXr.EZ():NXr.NI(e.ru),void msgTip(fvg.GVf("public088")))},t.prototype.gs=function(){var e=GObj.$c(nlwj);e.tid=this.ru,e&&App.FK.showGoodsDetails(e,!1)},t.prototype.qi=function(){var e=this;return 0==e.wi?!!App.KF.ushr:1==e.wi?!!App.KF.uscr:2==e.wi?!!App.KF.lighting:!1},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.iconView),e.iconView=null,e.parent&&e.parent.removeChild(e)},t}(BasePopUi);__reflect(LightingPopUi.prototype,"LightingPopUi");var MagicBladeActivePopUi=function(e){function t(){var n=e.call(this,"MagicBladeActivePopUi")||this;singleton(t._instance),t._instance=n;var i=RRUU.$s("MagicBladeActivePopUi");return n.skinName=i,n.horizontalCenter=0,n.verticalCenter=0,n.touchEnabled=n.touchChildren=!0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){},t.prototype.resizeMask=function(){var e=this;e.stage&&(e.maskBg.width=App.YX.stage.stageWidth,e.maskBg.height=App.YX.stage.stageHeight,e.maskBg0.width=App.YX.stage.stageWidth,e.maskBg0.height=App.YX.stage.stageHeight)},t.prototype.show=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i=this,r=FigureHelps.TS(e,t,n);if(r.part){switch(e){case 79:n>1?i.activateTip.source="core_json.activate_upgrade_png":i.activateTip.source="core_json.activate_success_png";break;default:i.activateTip.source="core_json.activate_success_png"}i.getAvatarName(e,t,n);i.resetUI(),i.resetAvatar(r),i.initPerformance(),i.addSkill(e,t,n),i.addToTop()}},t.prototype.getAvatarName=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i=this,r=XCA.AQS.UFA(e,t,n),a="";if(r&&(a=r.name),79==e){var o=App.FX.advancedvo.use,s=XCA.AQS.UFA(79,1,1);if(!s)return;var p=Math.ceil(n/10)==n/10&&n>0&&n<s.maxgrade?n/10+1:Math.ceil(n/10);if(s=XCA.AQS.UFA(79,t,p),!s)return;i.rankImg.icon=kLM.QL(p||0),i.rankImg_2.visible=!0;var l;if(o){var c=XCA.AQS.oVs(80),u=c[o][1];if(!u)return;l=kLM.HY(o)}else l=kLM.NE(p||1);i.nameImg.icon=l}else i.nameImg.icon=kLM.HY(99),i.rankImg_2.visible=!1,i.rankImg.icon=null},t.prototype.resetUI=function(){var e=this;e.destoryUI(),e.effectLight=UIEffectFactory.instance.getUIEffect(gYq.CA,100,1),e.effectBottom=UIEffectFactory.instance.getUIEffect(gYq.HZ),e.effectLight.horizontalCenter=0,e.effectBottom.horizontalCenter=0,e.effectLight.y=-50,e.effectBottom.y=240,e.contentGroup.addChildAt(e.effectLight,3),e.contentGroup.addChildAt(e.effectBottom,3),e.stopTween(),e.effectLight.stop(),e.effectBottom.stop(),e.maskBg.alpha=0,e.maskBg0.alpha=0,e.nameGroup.alpha=0,e.activateTip1.alpha=0,e.pedestal.visible=!1,e.activateTip.visible=!1,e.effectLight.visible=!1,e.effectBottom.visible=!1,e.activateTip.scaleX=1.8,e.activateTip.scaleY=1.8,e.nameGroup.y=200},t.prototype.resetAvatar=function(e){var t=this,n=e.part,i=e.offset;n&&(t.huk=GObj.$c(FigureView),t.huk.visible=!1,t.contentGroup.addChildAt(t.huk,5),t.huk.x=260+i.x,t.huk.y=440+i.y,FigureHelps.NW(t.huk,n,!1))},t.prototype.initPerformance=function(){var e=this;egret.Tween.get(e.maskBg0).to({alpha:1},400,egret.Ease.backOut),egret.Tween.get(e.maskBg).to({alpha:1},400,egret.Ease.backOut).call(e.tweenShowPedestal,e).wait(120).call(e.tweenShowEffect,e).wait(300).call(e.tweenShowTitle,e).wait(1e3).call(e.addCloseEvent,e).wait(1e4).call(e.hide,e)},t.prototype.tweenShowPedestal=function(){this.pedestal.visible=!0},t.prototype.tweenShowEffect=function(){var e=this;e.effectLight.visible=!0,e.effectBottom.visible=!0,e.huk.visible=!0,e.effectLight.play(1),e.effectLight.addEventListener(egret.Event.COMPLETE,function(){e.effectLight.visible=!1},e),e.effectBottom.play()},t.prototype.tweenShowTitle=function(e){var t=this;t.activateTip.visible=!0,egret.Tween.get(t.activateTip).to({scaleX:1,scaleY:1},250,egret.Ease.backOut),egret.Tween.get(t.nameGroup).wait(150).to({alpha:1,y:162},100,egret.Ease.backOut)},t.prototype.addCloseEvent=function(){var e=this;e.once(eui.tep,e.hide,e),egret.Tween.get(e.activateTip1).to({alpha:1},500,egret.Ease.backOut)},t.prototype.addSkill=function(e,t,n){var i=this;if(79==e){i.magicSkillNameImg.visible=!0;var r=XCA.AQS.oVs(1),a=r[510][1];if(!a)return;var o=SkillManager.instance.getActSkillInfoBySonType("510"),s=o?o.grade:0,p="",l="",c=void 0,n=App.FX.getMagicGrade();n>=3&&(p=GMath.toFixed(.1*a.p1,1)+"%",l="+"),c=App.JP.skillp2(a,s)*(n||1);App.FX.awakenInfo[99]||0;i.skillDescLab.textFlow=LgRe.OQ(fvg.GVf("magicblade510",Color.LZ,p,l,Color.LZ,c)),i.skillIcon.source=kLM.RL(gLw.getIconIdByTid(a.tid)),i.skillNameLab.text=a.name}else{var r=XCA.AQS.oVs(1),a=r[520][1];if(!a)return;i.magicSkillNameImg.visible=!1;var o=SkillManager.instance.getActSkillInfoBySonType("520"),s=o?o.grade:0;i.skillDescLab.textFlow=LgRe.OQ(fvg.GVf("magicblade520",Color.LZ,GMath.toFixed(.1*a.p1,1),Color.LZ,App.JP.skillp2(a,s))),i.skillIcon.icon=kLM.RL(gLw.getIconIdByTid(a.tid)),i.skillNameLab.text=a.name}},t.prototype.addToTop=function(){var e=this;e.parent||(alvJ.instance.addToLayer(this,alvJ.YN),e.resizeMask())},t.prototype.stopTween=function(){var e=this;e.effectLight.stop(),e.effectBottom.stop(),egret.Tween.removeTweens(e.maskBg),egret.Tween.removeTweens(e.maskBg0)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.hide,e)},t.prototype.destoryUI=function(){var e=this;GObj.$d(e.effectLight),e.effectLight=null,GObj.$d(e.effectBottom),e.effectBottom=null,GObj.$d(e.huk),e.huk=null},t.prototype.hide=function(){var e=this;e.stopTween(),e.removeEvent(),e.destoryUI(),e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(MagicBladeActivePopUi.prototype,"MagicBladeActivePopUi");var MagicBladeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MagicBladeItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.gl,e),e.addEventListener(eui.RFS,e.za,e),vkG.$a(UtJ.DT,e.yd,e),vkG.$a(UtJ.APK,e.yd,e),vkG.$a(UtJ.FLN,e.yd,e),vkG.$a(UtJ.DV,e.yd,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.gl,e),e.removeEventListener(eui.RFS,e.za,e),vkG.$r(UtJ.DT,e.yd,e),vkG.$r(UtJ.APK,e.yd,e),vkG.$r(UtJ.FLN,e.yd,e),vkG.$r(UtJ.DV,e.yd,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.oo=e.data,e.dz())},t.prototype.dz=function(){var e=this;e.iconView.icon=kLM.GT(e.oo);var t=XCA.FR(e.oo);if(e.sourceTxt.text=t.outsrc+fvg.GVf("public012"),e.gt())e.lockImg.visible=!1,e.redImg.visible=!1,e.sourceTxt.visible=!1;else{e.lockImg.visible=!0,e.sourceTxt.visible=!0;var n=App.FK.hsx(e.oo);e.redImg.visible=n>0}},t.prototype.yd=function(){this.dz()},t.prototype.za=function(){GObj.$d(this)},t.prototype.gl=function(){var e=this;App.VS.popup(10122,LightingPopUi,null,e.oo,e.itemIndex)},t.prototype.gt=function(){var e=this;return 0==e.itemIndex?!!App.KF.ushr:1==e.itemIndex?!!App.KF.uscr:2==e.itemIndex?!!App.KF.lighting:!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.sourceTxt),t.sourceTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicBladeItem.prototype,"MagicBladeItem");var MagicBladeSkillItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MagicBladeSkillItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.activeBtn.label=fvg.GVf("magicblade36"),e.gotoBtn.label=fvg.GVf("magicblade35")},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ec,e),e.gotoBtn.addEventListener(eui.tep,e.hn,e),e.activeBtn.addEventListener(eui.tep,e.hm,e),vkG.$a(UtJ.DV,e.dn,e),vkG.$a(UtJ.DT,e.dn,e),vkG.$a(UtJ.FLN,e.dn,e),vkG.$a(UtJ.APK,e.dn,e)
},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ec,e),e.gotoBtn.removeEventListener(eui.tep,e.hn,e),e.activeBtn.removeEventListener(eui.tep,e.hm,e),vkG.$r(UtJ.DV,e.dn,e),vkG.$r(UtJ.DT,e.dn,e),vkG.$r(UtJ.FLN,e.dn,e),vkG.$r(UtJ.APK,e.dn,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.oi=e.data,e.uo())},t.prototype.uo=function(){var e=this,t=XCA.FR(e.oi);e.iconView.icon=kLM.GT(e.oi),e.nameImg.source="magicblade_json.magicblade_skill_"+e.oi+"_png",e.attrLab.textFlow=LgRe.OQ(t.desc);if(e.i_())e.gotoBtn.visible=!1,e.activeBtn.visible=!1,e.costGroup.visible=!1,e.lockImg.visible=!1;else{e.costGroup.visible=!0;var n=App.FK.hsx(e.oi);e.costImg.goodsTid=e.oi;var i=n>0?Color.TX:Color.KA;e.needTxt.textFlow=LgRe.OQ(fvg.GVf("luckyDraw04",i,n,1));var r=App.FK.hsx(e.oi);r>0?(e.activeBtn.visible=!0,e.gotoBtn.visible=!1,e.lockImg.visible=!1,e.activeBtn.icon=StaticData.GHj):(e.activeBtn.visible=!1,e.gotoBtn.visible=!0,e.lockImg.visible=!0)}},t.prototype.i_=function(){var e=this;return 0==e.itemIndex?!!App.KF.ushr:1==e.itemIndex?!!App.KF.uscr:2==e.itemIndex?!!App.KF.lighting:!1},t.prototype.dn=function(){this.uo()},t.prototype.hn=function(){var e=this;0==e.itemIndex?App.VS.open(10125):1==e.itemIndex?App.VS.open(10125):2==e.itemIndex&&App.VS.open(10125,{tabType:2})},t.prototype.hm=function(){var e=this;return e.i_()?void msgTip(fvg.GVf("magicblade37")):(2==e.itemIndex?NXr.EZ():NXr.NI(e.oi),void msgTip(fvg.GVf("public088")))},t.prototype.ec=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.activeBtn),t.activeBtn=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,GObj.$d(t.costGroup),t.costGroup=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.costImg),t.costImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicBladeSkillItem.prototype,"MagicBladeSkillItem");var MagicBladeSkillPop=function(e){function t(){var t=e.call(this,"MagicBladeSkillPop")||this;return t.skinName=RRUU.$s("MagicBladeSkillPop"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.frameGroup.title=fvg.GVf("magicblade32"),e.skillData=GObj.$c(eui.ArrayCollection),e.skillGroup.dataProvider=e.skillData,e.skillGroup.itemRenderer=MagicBladeSkillItem},t.prototype.initData=function(){this.bk()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.bk=function(){var e=[],t=XCA.AQS.UFA(79,1,1);if(t&&usable(t.p6)){for(var n=t.p6.split(","),i=n.length,r=0;i>r;r++)e.push(parseInt(n[r]));this.skillData.replaceAll(e)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.skillGroup&&(t.skillGroup.dataProvider=null,GObj.$d(t.skillGroup)),t.skillGroup=null,t.skillData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MagicBladeSkillPop.prototype,"MagicBladeSkillPop");var MagicBladeTipsPopUi=function(e){function t(){var t=e.call(this,"MagicBladeTipsPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleName.text=fvg.GVf("flysword1"),e.skillNameTxt.text=fvg.GVf("magicblade41"),e.skillImg.source=kLM.RL(gLw.getIconIdByTid(1510016001));var t=XCA.AQS.oVs(1),n=t[510][1];if(n){var i,r=SkillManager.instance.getActSkillInfoBySonType("510"),a=r?r.grade:1,o="",s="",p=App.FX.getMagicGrade();p>=3&&(o=GMath.toFixed(.1*n.p1,1)+"%",s="+"),i=App.JP.skillp2(n,a)*(p||1),e.skillDescTxt.textFlow=LgRe.OQ(fvg.GVf("magicblade510",Color.LZ,o,s,Color.LZ,i))}},t.prototype.initData=function(){e.prototype.initData.call(this),this.tt()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.tt=function(){var e=89,t=App.JS.getRetinueInfoByType(e);if(t){var n=XCA.AQS.UFA(e,1,t.grade||1),i=(t.openSkinTypes,XCA.AQS.UFA(e,1,t.grade+1),n.p2);this.vv=i}},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.skillDescTxt),e.skillDescTxt=null,GObj.$d(e.skillNameTxt),e.skillNameTxt=null,GObj.$d(e.skillImg),e.skillImg=null},t}(BasePopUi);__reflect(MagicBladeTipsPopUi.prototype,"MagicBladeTipsPopUi");var MagicBladeView=function(e){function t(){var t=e.call(this,"MagicBladeView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ka=0,e.tc=!1,e.advancedBtn.label=fvg.GVf("magicblade01"),e.onekeyAdvancedBtn.label=fvg.GVf("magicblade01"),e.descLab.text=fvg.GVf("magicblade03"),e.activationBtn.label=fvg.GVf("public012"),e.maxLab.text=fvg.GVf("public014"),e.basicsAttrLab.text=fvg.GVf("magicblade14"),e.skillNameLab.text=fvg.GVf("magicblade41"),e.getGoldBtn.label=fvg.GVf("magicblade38"),e.ft=GObj.$c(GeneralStarView),e.ft.maxStar=10,e.ft.open_star_key=["magicblade_json.magicblade_the_sword_1_png","magicblade_json.magicblade_the_sword_1_png"],e.ft.close_star_key="magicblade_json.magicblade_the_sword_2_png",e.ft.star_width=30,e.ft.x=105,e.ft.y=600,e.addChild(e.ft),e.nt=GObj.$c(FigureView),e.nt.x=400,e.nt.y=300,e.addChildAt(e.nt,1),e.capView=GObj.$c(FightView),e.capView.x=117,e.capView.y=0,e.addChildAt(e.capView,2),e.skillData=GObj.$c(eui.ArrayCollection),e.skillGroup.dataProvider=e.skillData,e.skillGroup.itemRenderer=MagicBladeItem,e.le=App.KB.getUIEffect(gYq.GH),e.directBtn.groupDisplay.addChild(e.le),e.smallicon1.goodsTid=StaticData.TID_GOLD_ID,e.smallicon2.goodsTid=StaticData.TID_GOLD_ID},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.advancedBtn.addEventListener(eui.tep,t.cas,t),t.onekeyAdvancedBtn.addEventListener(eui.tep,t.wt,t),t.playBtn.addEventListener(eui.tep,t.px,t),t.awakenBtn.addEventListener(eui.tep,t.tu,t),t.devourBtn.addEventListener(eui.tep,t.av,t),t.checkBox.addEventListener(egret.Event.CHANGE,t.js,t),t.arttrBtn.addEventListener(eui.tep,t.ds,t),t.activationBtn.addEventListener(eui.tep,t.rg,t),t.skillBtn.addEventListener(eui.tep,t.sw,t),t.getGoldBtn.addEventListener(eui.tep,t.gg,t),t.directBtn.addEventListener(eui.tep,t.dm,t),t.skillIcon.addEventListener(eui.tep,t.kg,t),vkG.$a(UtJ.ZQZ,t.tk,t),vkG.$a(UtJ.RCV,t.wm,t),vkG.$a(UtJ.TCN,t.ja,t),vkG.$a(UtJ.FA,t.ja,t),vkG.$a(UtJ.DV,t.nm,t),vkG.$a(UtJ.CV,t.du,t),vkG.$a(UtJ.HA,t.ja,t),vkG.$a(UtJ.YJ,t.lw,t),vkG.$a(UtJ.PP,t.lw,t),vkG.$a(UtJ.AW,t.me,t)},t.prototype.removeEvent=function(){var e=this;e.advancedBtn.removeEventListener(eui.tep,e.cas,e),e.onekeyAdvancedBtn.removeEventListener(eui.tep,e.wt,e),e.playBtn.removeEventListener(eui.tep,e.px,e),e.awakenBtn.removeEventListener(eui.tep,e.tu,e),e.devourBtn.removeEventListener(eui.tep,e.av,e),e.checkBox.removeEventListener(egret.Event.CHANGE,e.js,e),e.arttrBtn.removeEventListener(eui.tep,e.ds,e),e.activationBtn.removeEventListener(eui.tep,e.rg,e),e.skillBtn.removeEventListener(eui.tep,e.sw,e),e.getGoldBtn.removeEventListener(eui.tep,e.gg,e),e.directBtn.removeEventListener(eui.tep,e.dm,e),e.skillIcon.removeEventListener(eui.tep,e.kg,e),vkG.$r(UtJ.ZQZ,e.tk,e),vkG.$r(UtJ.RCV,e.wm,e),vkG.$r(UtJ.TCN,e.ja,e),vkG.$r(UtJ.FA,e.ja,e),vkG.$r(UtJ.DV,e.nm,e),vkG.$r(UtJ.CV,e.du,e),vkG.$r(UtJ.HA,e.ja,e),vkG.$r(UtJ.YJ,e.lw,e),vkG.$r(UtJ.PP,e.lw,e),vkG.$r(UtJ.AW,e.me,e),e._b&&e._b.removeEventListener(egret.Event.COMPLETE,e.qx,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.ja(),t.lw(),t.nm(),t.me(),fNs.instance.execute(hXS.XM,hXS.RZ,t.activationGroup.visible,t.activationBtn),fNs.instance.execute(hXS.XM,hXS.FW,t.advancedGroup.visible,t.onekeyAdvancedBtn),1!=App.MG.getFirstChargeState()||fNs.instance.isNoviceing||fNs.instance["do"](hXS.NHO),fNs.instance.execute(hXS.IW,hXS.RZ,t.awakenBtn)},t.prototype.lw=function(){var e=this;e.getGoldBtn.visible=!IoG.EZ();var t=App.MG.getFirstChargeState();e.maskImg.visible=2!==t;var n=App.FX.awakenInfo[99]||0;if(e.tipsImg.source=t?2==t&&0>=n?"magicblade_json.magicblade_can_png":"":"magicblade_json.magicblade_go_to_png",App.MG.directVo&&App.MG.directVo.getBagDataBySort(1)){e.yi=App.MG.directVo.getBagDataBySort(1);var i=App.XT.vipInfo.vipGrade;IoG.EZ()?e.directBtn.visible=!1:2!=e.yi.status&&i>0?e.directBtn.visible=!0:e.directBtn.visible=!1,e.directBtn.icon=1==e.yi.status?StaticData.GHj:""}},t.prototype.wm=function(){var e=this;e.ja(),e.yk()},t.prototype.yk=function(){var e=this;e._b||(e._b=App.KB.getUIEffect(gYq.VW,100,1),e._b.addEventListener(egret.Event.COMPLETE,e.qx,e),e._b.x=40,e._b.y=100),e._b.play(1),e.addChild(e._b)},t.prototype.qx=function(e){var t=this;t._b&&t._b.parent&&t.removeChild(t._b)},t.prototype.ja=function(){var e=this;if(e.hx=App.FX.advancedvo.g||0,e.qf=App.FX.advancedvo.use,e.zy=XCA.AQS.oVs(79),e.zy){var t=Math.ceil(e.hx/10)==e.hx/10&&e.hx>0&&e.hx<e.zy[1][1].maxgrade?e.hx/10+1:Math.ceil(e.hx/10);if(e.nj=t||0,e.rankImg_2.visible=e.nj>=1,e.ai=e.zy[1][e.nj||1],e.ai){var n=App.FX.swallowDanNumber,i=App.FX.advancedvo.gat_1;e.devourBtn.label=fvg.GVf("public022",i,n),e.ft.currStar=e.hx%10;var r=App.FX.advancedvo.gp_1%10;e.proBar.grade=e.hx,e.proBar.targetValue=int(r/10*100);var a=GObj.$c(nlwj);a.tid=StaticData.TID_GOODS_68,e.goods.data=a;var o=App.FK.hsx(StaticData.TID_GOODS_68);e.goods.bottomText=fvg.GVf("public022",o,1),e.goods.bottomColor=o>=1?Color.TX:Color.KA,e.notActiveImg.visible=e.hx<=0&&99!==e.qf;var s=(e.hx||0)>0;e.ft.visible=s,e.advancedGroup.visible=s,e.activationGroup.visible=!s,e.hx>=e.ai.maxgrade?(e.advancedGroup.visible=!1,e.activationGroup.visible=!1,e.ft.visible=!1,e.maxLab.visible=!0):e.maxLab.visible=!1;var p=XCA.YV(e.ai.attrid);e.capView.fightNum=App.FX.advancedvo.cap||(p?p.p1:0);var l,c;if(e.nj<1&&(l=kLM.NE(0)),e.qf){var u=XCA.AQS.oVs(80),d=u[e.qf][1];if(!d)return;l=kLM.HY(e.qf),c=gLw.GM(d.tid)}else l=kLM.NE(e.nj||1),c=gLw.GM(e.ai.tid);e.nameImg.icon=l,e.nj&&(e.rankImg.icon=kLM.QL(e.nj));var g=e.qf?App.KF.w:e.ai.p5||"";e.oq(g),e.sx(),e.fj(),e.aw();var v=XCA.AQS.oVs(1),h=v[510][1];if(h){var m,f=SkillManager.instance.getActSkillInfoBySonType("510"),y=f?f.grade:1,b="",_="",T=App.FX.getMagicGrade();T>=3&&(b=GMath.toFixed(.1*h.p1,1)+"%",_="+"),m=App.JP.skillp2(h,y)*(T||1),e.skillDescLab.textFlow=LgRe.OQ(fvg.GVf("magicblade510",Color.XK,b,_,Color.XK,m)),e.skillIcon.source=kLM.RL(gLw.getIconIdByTid(h.tid));var O=[],G=XCA.AQS.UFA(79,1,1);if(G&&usable(G.p6)){for(var E=G.p6.split(","),A=E.length,x=0;A>x;x++)O.push(parseInt(E[x]));e.skillData.replaceAll(O)}}}}},t.prototype.aw=function(){var e=this;e.attrLab.text=e.hx?e.ic(e.hx):fvg.GVf("public010"),e.attrLab.textColor=e.hx?Color.SE:Color.KA,e.nextAttrLab.text=e.hx>=e.zy[1][1].maxgrade?fvg.GVf("public014"):e.ic(e.hx+1)},t.prototype.oq=function(e){var t=this;t.nt&&(t.or&&t.or==e||(t.or=e,t.or||(t.or=GConfig.AVATAR_DEFAULT),FigureHelps.NW(t.nt,{w:t.or},!1)))},t.prototype.sx=function(){var e=this;e.rc=App.JP.getConsume(e.hx);var t=App.FX.currentExp(e.hx);e.hn=App.JP.getConsume(e.hx,t),e.consume1Lab.text=e.rc.toString(),e.consume2Lab.text=e.hn.toString();var n=App.KF.gold;e.consume1Lab.textColor=n>=e.rc?Color.XB:Color.KA,e.consume2Lab.textColor=n>=e.hn?Color.XB:Color.KA},t.prototype.js=function(){var e=this,t=GApp.timer;return t-e.ka<400?void MessageTipManager.instance.show(fvg.GVf("store003")):(e.ka=t,e.tc=!1,e.checkBox.selected?App.FX.isTips||(e.tc||(e.checkBox.selected=!1),App.VS.popup(null,PurchasePopUi)):App.FX.ispurchase=e.checkBox.selected,void(App.FX.isTips&&(App.FX.ispurchase=e.checkBox.selected)))},t.prototype.tk=function(e){var t=this;e&&(t.tc=!0),t.checkBox.selected=e,App.FX.ispurchase=t.checkBox.selected},t.prototype.ic=function(e){var t=XCA.AQS.oVs(79)[1][1];if(t){var n,i,r="",a=XCA.YV(t.attrid),o=0;if(a){for(n in xxf.UK)i=App.JP.getMagicBladeAdvancedAttr(e,a[n])||0,a[n]&&(r.length>0&&(r+="\n"),i=0==e?a[n]:i,r+=fvg.GVf("skill004",xxf.UK[n],i),o+=a.p1*i);for(n in xxf.IM)i=App.JP.getMagicBladeAdvancedAttr(e,a[n])||0,i&&(r.length>0&&(r+="\n"),r+=fvg.GVf("skill004",xxf.IM[n],(i/10).toFixed(1)+"%"))}return r}},t.prototype.me=function(){},t.prototype.xdd=function(){App.VS.open(10150)},t.prototype.dm=function(){App.VS.open(10154)},t.prototype.cas=function(){var e=this;return App.BG.jkU.gold<e.rc?void _JDW.TR(StaticData.TID_GOLD_ID):e.hx>=e.ai.maxgrade?void MessageTipManager.instance.show(fvg.GVf("public014")):void MagicBladeProxy.BR(2)},t.prototype.wt=function(){var e=this;return fNs.instance.execute(hXS.XM,hXS.YL),App.BG.jkU.gold<e.hn?void _JDW.TR(StaticData.TID_GOLD_ID):e.hx>=e.ai.maxgrade?void MessageTipManager.instance.show(fvg.GVf("public014")):void MagicBladeProxy.BR(3)},t.prototype.rg=function(){fNs.instance.execute(hXS.XM,hXS.YL);var e=App.FK.hsx(StaticData.TID_GOODS_68);return 1>e?void _JDW.TR(StaticData.TID_GOODS_68):void MagicBladeProxy.BR(3)},t.prototype.px=function(){var e=this;e.ni||(e.ni=GObj.$c(MovieEffect),e.ni.x=App.YX.stage.stageWidth/2,e.ni.y=App.YX.stage.stageHeight/2,alvJ.instance.addToLayer(e.ni,alvJ.YN,alvJ.SF));var t=510;e.ni.once(egret.Event.COMPLETE,e.bm,e),e.ni.play(StaticData.SKILL_INFO[t].attack,100,1),e.playBtn.visible=!1,SkillNameAction.bust(t)},t.prototype.bm=function(e){var t=this;t.destory||(t.playBtn.visible=!0)},t.prototype.nm=function(){var e=this;e.fj(),e.du()},t.prototype.fj=function(){var e=this;e.advancedBtn.icon=UsU.KZ(1)?StaticData.GHj:"",e.onekeyAdvancedBtn.icon=UsU.KZ(10)?StaticData.GHj:"",e.activationBtn.icon=UsU.KZ()?StaticData.GHj:"",e.devourBtn.icon=UsU.IFE()?StaticData.GHj:"",e.skillBtn.icon=UsU.FE()?StaticData.GHj:""},t.prototype.du=function(){this.awakenBtn.icon=UsU.WM()?StaticData.GHj:""},t.prototype.ds=function(){App.VS.popup(10122,AttributePopUi)},t.prototype.tu=function(){2==App.MG.getFirstChargeState()?App.VS.popup(10122,AwakenPopUi):rRcz.SZ()},t.prototype.av=function(){App.VS.popup(10122,SwallowDanPopUi)},t.prototype.sw=function(){App.VS.popup(10122,MagicBladeSkillPop)},t.prototype.gg=function(){App.VS.open(10102)},t.prototype.dt=function(){App.VS.open(10150)},t.prototype.kg=function(){App.VS.popup(10122,MagicBladeTipsPopUi)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.XM,hXS.NW),fNs.instance.execute(hXS.IW,hXS.YL),t.removeEvent(),GObj.$d(t._b),t._b=null,GObj.$d(t.advancedBtn),t.advancedBtn=null,GObj.$d(t.onekeyAdvancedBtn),t.onekeyAdvancedBtn=null,GObj.$d(t.playBtn),t.playBtn=null,GObj.$d(t.awakenBtn),t.awakenBtn=null,GObj.$d(t.devourBtn),t.devourBtn=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.skillDescLab),t.skillDescLab=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.checkBox),t.checkBox=null,GObj.$d(t.ft),t.ft=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.capView),t.capView=null,GObj.$d(t.arttrBtn),t.arttrBtn=null,GObj.$d(t.smallicon1),t.smallicon1=null,GObj.$d(t.smallicon2),t.smallicon2=null,GObj.$d(t.consume1Lab),t.consume1Lab=null,GObj.$d(t.consume2Lab),t.consume2Lab=null,GObj.$d(t.advancedGroup),t.advancedGroup=null,GObj.$d(t.activationGroup),t.activationGroup=null,GObj.$d(t.goods),t.goods=null,GObj.$d(t.maxLab),t.maxLab=null,GObj.$d(t.skillIcon),t.skillIcon=null,GObj.$d(t.nt),t.nt=null,GObj.$d(t.skillBtn),t.skillBtn=null,GObj.$d(t.ni),t.ni=null,GObj.$d(t.basicsAttrLab),t.basicsAttrLab=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.getGoldBtn),t.getGoldBtn=null,GObj.$d(t.directBtn),t.directBtn=null,GObj.$d(t.notActiveImg),t.notActiveImg=null,GObj.$d(t.le),t.le=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.tipsImg),t.tipsImg=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null;var n=t.ni;n&&n.parent&&n.parent.removeChild(n),t.skillGroup&&(t.skillGroup.dataProvider=null,GObj.$d(t.skillGroup)),e.prototype.dispose.call(this)},t}(BaseView);__reflect(MagicBladeView.prototype,"MagicBladeView");var PurchasePopUi=function(e){function t(){var t=e.call(this,"PurchasePopUi")||this;return t.skinName=RRUU.$s("PurchasePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ag=0,e.desc1Lab.text=fvg.GVf("magicblade04"),e.desc2Lab.text=fvg.GVf("magicblade06"),e.cancelBtn.label=fvg.GVf("6"),e.determineBtn.label=fvg.GVf("7"),e.title=fvg.GVf("5")},t.prototype.initData=function(){this.ts()},t.prototype.initEvent=function(){var e=this;e.cancelBtn.addEventListener(eui.tep,e.qb,e),e.determineBtn.addEventListener(eui.tep,e.dq,e),e.checkBox.addEventListener(egret.Event.CHANGE,e.or,e)},t.prototype.removeEvent=function(){var e=this;e.cancelBtn.removeEventListener(eui.tep,e.qb,e),e.determineBtn.removeEventListener(eui.tep,e.dq,e),e.checkBox.removeEventListener(egret.Event.CHANGE,e.or,e)},t.prototype.ts=function(){this.priceLab.text=fvg.GVf("magicblade05",100)},t.prototype.or=function(){var e=this,t=GApp.timer;return t-e.ag<400?void MessageTipManager.instance.show(fvg.GVf("store003")):(e.ag=t,void(App.FX.isTips=e.checkBox.selected))},t.prototype.qb=function(){App.FX.isTips=!1,vkG.$d(UtJ.ZQZ,!1),this.mz()},t.prototype.dq=function(){vkG.$d(UtJ.ZQZ,!0),this.mz()},t.prototype.mz=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.checkBox),t.checkBox=null,GObj.$d(t.priceLab),t.priceLab=null,GObj.$d(t.desc1Lab),t.desc1Lab=null,GObj.$d(t.desc2Lab),t.desc2Lab=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.determineBtn),t.determineBtn=null,GObj.$d(t.goods),t.goods=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PurchasePopUi.prototype,"PurchasePopUi");var SwallowDanPopUi=function(e){function t(){var t=this;+(t=e.call(this,"SwallowDanPopUi")||this);var n=RRUU.$s(t.id);return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initData=function(){this.wb()},t.prototype.initView=function(){var e=this,t=GObj.$c(nlwj);t.tid=StaticData.TID_GOODS_66,e.goodsItem.data=t;var n=t.TSF;if(n){var i=n.qua;e.or=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(i),e.qualityBg.source=kLM.EZ(i)}e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.gb,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qp,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qp,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qp,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qp,e),vkG.$a(UtJ.RCV,e.qn,e)},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.gb,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.tb,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.tb,e),Nvm.instance.unRegisteEnterFrame(e.lj,e),vkG.$r(UtJ.RCV,e.qn,e)},t.prototype.qn=function(){this._m()},t.prototype.gb=function(){var e=this;if(0==e.xz)return void MessageTipManager.instance.show(fvg.GVf("magicblade12"));if(e.kj>=e.lz)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var t=App.FK.hsx(StaticData.TID_GOODS_66);t>0?MagicBladeProxy.HL(e.uy):_JDW.TR(StaticData.TID_GOODS_66)},t.prototype.wb=function(){var e=this;e.CSo&&e._m()},t.prototype._m=function(){var e=this;e.xz=App.FX.advancedvo.g||0,e.kj=App.FX.advancedvo.gat_1||0;0==e.xz?1:e.xz;e.lz=App.FX.swallowDanNumber||0,e.useedLab.text=fvg.GVf("fashion20",e.kj,e.lz);var t=App.FK.hsx(StaticData.TID_GOODS_66);e.haveLab.text=fvg.GVf("414",t),e.useBtn.icon=e.xz>0&&e.kj<e.lz&&t>0?StaticData.GHj:null,e.iu(),e.useBtn.icon?e.ue=Math.min(t,e.lz-e.kj):e.ue=1,e.uy=1,e.gw()},t.prototype.iu=function(){var e=this,t=XCA.YV(e.or),n="";if(t){var i=void 0;for(i in xxf.UK)t[i]&&(n+="\n"+fvg.GVf("skill004",xxf.UK[i],t[i]*e.kj))}e.attrsLab.textFlow=LgRe.OQ(n)},t.prototype.qp=function(e){var t=this;if(!t.bv){t.bv=!0,t.ur=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.tm=10;break;case t.minBtn:t.tm=-10;break;case t.addBtn:t.tm=1;break;case t.removeBtn:t.tm=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.tb,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.tb,t),Nvm.instance.registeEnterFrame(t.lj,t)}},t.prototype.tb=function(e){var t=this;t.bv&&(t.bv=!1,t.ur<10&&(t.uy+=t.tm,t.gw()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.tb,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.tb,t),Nvm.instance.unRegisteEnterFrame(t.lj,t))},t.prototype.lj=function(){var e=this;e.bv&&(e.ur++,e.ur%10==0&&(e.uy+=e.tm,e.gw()))},t.prototype.gw=function(){var e=this;e.uy>=e.ue&&(e.uy=e.ue),e.uy<=0&&(e.uy=1),e.countTxt.text=e.uy.toString()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.qualityBg),t.qualityBg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SwallowDanPopUi.prototype,"SwallowDanPopUi");var MagicDishItem=function(e){function t(){var t=e.call(this,"MagicDishItem")||this;return t.skinName=RRUU.$s("MagicDishItem"),t}return __extends(t,e),t.prototype.initData=function(){var e=this;e.ou=!1,e.goodsData=e.qe},Object.defineProperty(t.prototype,"goodsData",{get:function(){return this.qe},set:function(e){var t=this;t.qe=e,t.CSo&&(t.goodsItem.data=t.qe)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.zu},set:function(e){var t=this;e!=t.zu&&(t.zu=e,t.CSo&&(egret.Tween.removeTweens(t.selectedImg),t.zu?t.selectedImg.alpha=1:egret.Tween.get(t.selectedImg).to({alpha:0},300)))},enumerable:!0,configurable:!0}),t.prototype.playWinning=function(){var e=this;e.ou||(e.ba||(e.ba=App.KB.getUIEffect(gYq.TE),e.ba.addEventListener(egret.Event.COMPLETE,e.jk,e),e.ba.x=-30,e.ba.y=-40),e.ou=!0,e.ba.play(1),e.addChild(e.ba))},t.prototype.jk=function(){var e=this;e.ou=!1,e.ba&&e.ba.parent&&e.ba.parent.removeChild(e.ba)},t.prototype.dispose=function(){var t=this;GObj.$d(t.selectedImg),t.selectedImg=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.descImg),t.descImg=null,t.qe=null,t.ba&&(t.ba.stop(),t.ba.removeEventListener(egret.Event.COMPLETE,t.jk,t),GObj.$d(t.ba)),t.ba=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MagicDishItem.prototype,"MagicDishItem");var MagicDiskBoxItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MagicDiskBoxItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ya=[],e.getBtn.label=fvg.GVf("onlinepacks001"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.lt,e),e.getBtn.addEventListener(eui.tep,e.rq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.lt,e),e.getBtn.removeEventListener(eui.tep,e.rq,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.cq=e.data,e.xk=e.cq.bagList[e.itemIndex],e.xk)){var t,n,i=e.xk.rewardList.length;e.rewardData.source.length=0;for(var r=0;i>r;r++)t=e.xk.rewardList[r],t&&(e.ya[r]||(e.ya[r]=GObj.$c(nlwj)),n=e.ya[r],n.tid=t.tempId,n.count=t.count,e.rewardData.source.push(n));e.rewardData.refresh(),e.descTxt.text=fvg.GVf("funny36",e.xk.totalFinish),e.progTxt.text=fvg.GVf("112",e.xk.haveFinish,e.xk.totalFinish),e.progTxt.x=e.descTxt.x+e.descTxt.textWidth,e.xk.haveFinish>=e.xk.totalFinish?(e.progTxt.textColor=Color.TX,e.getBtn.icon=StaticData.GHj):(e.progTxt.textColor=Color.KA,e.getBtn.icon=null),e.getBtn.visible=2!=e.xk.status,e.receiveImg.visible=!e.getBtn.visible}},t.prototype.lt=function(e){GObj.$d(this)},t.prototype.rq=function(e){var t=this;return t.xk?2==t.xk.status?void App.TT.show(fvg.GVf("444")):t.xk.haveFinish<t.xk.totalFinish?void App.TT.show(fvg.GVf("funny2")):void FunnyMsgProxy.LR(t.xk.id):void App.TT.show(fvg.GVf("rename109"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receiveImg),t.receiveImg=null,GObj.$d(t.progTxt),t.progTxt=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.cq=null,t.xk=null,t.ya=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicDiskBoxItem.prototype,"MagicDiskBoxItem");var MagicDiskBoxPopUi=function(e){function t(){var t=e.call(this,"HolyEggStagePopUi")||this,n=RRUU.$s("MagicDiskBoxPopUiSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("107"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=MagicDiskBoxItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.cv,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.cv,e)},t.prototype.initData=function(){this.ks()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ow=e[0],n.ks())},t.prototype.ks=function(){var e=this;if(e.CSo&&e.ow){for(var t=e.ow.bagList.length,n=0;t>n;n++)e.rewardData.source.push(e.ow);e.rewardData.refresh()}},t.prototype.cv=function(e){var t=this;t.ow&&e&&e.indexOf(t.ow.id)>=0&&t.rewardData&&t.rewardData.replaceAll(t.rewardData.source.concat())},t.prototype.wt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.ow=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MagicDiskBoxPopUi.prototype,"MagicDiskBoxPopUi");var MagicDiskCrossRecordView=function(e){function t(){var t=e.call(this,"MagicDiskCrossRecordView")||this;t.qc=3e5;var n=RRUU.$s("MagicDiskCrossRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.by=!1,e.touchEnabled=e.touchChildren=!1,e.zo=[],e.wd=GObj.$c(GeneralRecordView,280),e.hi=GObj.$c(GeneralRecordView,280),e.zo.push(e.wd),e.zo.push(e.hi)},t.prototype.initData=function(){var e=this,t=App.MG.magicData.crossTime;!t||GApp.timer-t>e.qc?ziI.MF("PointDialServerLog"):e.bk()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.SH,e.hp,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.SH,e.hp,e),vkG.$r(UtJ.HD,e.sr,e),App.HA.unRegisteEnterFrame2(e.hq,e)},t.prototype.hp=function(e){3==e&&this.bk()},t.prototype.bk=function(){var e=this;e.by||(e.by=!0,vkG.$a(UtJ.HD,e.sr,e),e.wd.setRecordData(App.MG.magicData.crossRecords),e.hi.setRecordData(App.MG.magicData.crossRecords),e.wd.y=0,e.hi.y=e.wd.totalHeight,e.recordGroup.addChild(e.wd),e.recordGroup.addChild(e.hi),App.HA.registeEnterFrame2(e.hq,e))},t.prototype.hq=function(){var e=this;if(!e.destory)for(var t=e.zo.length-1;t>=0;t--)e.xp=e.zo[t],e.xp.y--,e.xp.y<=-e.xp.totalHeight-5&&(e.xp=e.zo.splice(t,1)[0],e.xp.y=e.zo[0].y+e.zo[0].totalHeight,e.xp.setRecordData(App.MG.magicData.crossRecords),e.zo.push(e.xp))},t.prototype.sr=function(){var e=App.MG.magicData.crossTime;(!e||GApp.timer-e>this.qc)&&(App.MG.magicData.crossTime=GApp.timer,ziI.MF("DialServerMsg"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.wd),t.wd=null,GObj.$d(t.hi),t.hi=null,GObj.$d(t.recordGroup),t.recordGroup=null,t.zo=null,t.xp=null,e.prototype.dispose.call(this)
},t}(BaseUI);__reflect(MagicDiskCrossRecordView.prototype,"MagicDiskCrossRecordView");var MagicDiskFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.yd=0,n.ix=0,ziI.MF("point_total_refresh"),n.skinName=RRUU.$s(t),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gg=App.KB.getUIEffect(gYq.QW),e.gg.y=-2,e.gg.x=-11,e.group.addChild(e.gg),e.gg.play(),e.uu=App.KB.getUIEffect(gYq.ZE),e.uu.y=88,e.uu.x=-2,e.addChild(e.uu),e.uu.play(),e.ql=GObj.$c(MagicDiskView),e.ql.x=25,e.ql.y=62,e.addChild(e.ql)},t.prototype.initData=function(){e.prototype.initData.call(this),this._l()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.AW,t.za,t),vkG.$a(UtJ.PP,t.za,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.AW,t.za,t),vkG.$r(UtJ.PP,t.za,t)},t.prototype._l=function(){for(var e,t=App.MG.magicList.length,n=0;t>n;n++)if(e=App.MG.magicList[n],e.isExist){this.ql.ok_h=e;break}},t.prototype.za=function(){this._l()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ql),t.ql=null,GObj.$d(t.group),t.group=null,GObj.$d(t.gg),t.gg=null,GObj.$d(t.uu),t.uu=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(MagicDiskFrame.prototype,"MagicDiskFrame");var MagicDiskRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MagicDiskRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ck,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ck,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.dr=e.data,e.rankTxt.text=toChars(e.dr.rank),e.nameTxt.text=e.dr.name||fvg.GVf("rank10"),e.scoreTxt.text=toChars(e.dr.score||0),e.datas.source.splice(0,e.datas.source.length);for(var t,n=e.dr.award||[],i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tid,t.count=n[i].count,e.datas.source.push(t);e.datas.refresh()}},t.prototype.ck=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicDiskRankItem.prototype,"MagicDiskRankItem");var MagicDiskRankPopUi=function(e){function t(){var t=e.call(this,"MagicDiskRankPopUi")||this;return t.za=3e5,t.skinName=RRUU.$s("MagicDiskRankPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("463"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=MagicDiskRankItem,e.descLab.text=fvg.GVf("funny16",50),e.rankTxt.text=fvg.GVf("rank0",fvg.GVf("public042")),e.scoreTxt.text=fvg.GVf("funny17",0),e.rankLab.text=fvg.GVf("public061"),e.countTxt.text=fvg.GVf("464"),e.awardTxt.text=fvg.GVf("107")},t.prototype.initData=function(){this.hc(FDG.YE)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ux=e[0],n.hc(FDG.YE))},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.ZGT,e.nv,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ZGT,e.nv,e)},t.prototype.hc=function(e){var t=this;if(t.ux&&e){t.gj=e;var n=App.PV.getGeneralRankByType(t.gj,t.ux);(!n||GApp.timer-(n.rtime||0)>=t.za)&&RankMsgProxy.EI(t.gj),n&&t.mc(!0)}},t.prototype.mc=function(e){var t=this,n=App.PV.getGeneralRankByType(t.gj,t.ux);if(n){var i=n.myrank>50?0:n.myrank;t.gj==FDG.YE&&(t.rankTxt.text=fvg.GVf("rank0",i||fvg.GVf("public042")),t.scoreTxt.text=fvg.GVf("funny17",n.myscore||0));for(var r=[],a=n.rank||[],o=0;o<a.length;o++)r[o]=a[o];t.datas.replaceAll(r),e&&t.datas.refresh()}},t.prototype.nv=function(e){var t=this;e==t.gj&&t.mc(!1)},t.prototype.zp=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.awardTxt),t.awardTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MagicDiskRankPopUi.prototype,"MagicDiskRankPopUi");var MagicDiskRecordFrame=function(e){function t(){var t=e.call(this,"MagicDiskRecordFrame")||this;ziI.MF("PointDialPeopleLog");var n=RRUU.$s("MagicDiskRecordFrameSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=MagicDiskRecordItem,e.titleTxt.text=fvg.GVf("funny11")},t.prototype.initData=function(){this.ug()},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.ox,e),vkG.$a(UtJ.SH,e.fa,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.ox,e),vkG.$r(UtJ.SH,e.fa,e)},t.prototype.fa=function(e){2==e&&this.ug()},t.prototype.ug=function(){var e=this,t=App.MG.magicData.selfRecords;e.itemDatas.source=t,e.itemDatas.refresh()},t.prototype.ox=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.closeBtn),t.closeBtn=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MagicDiskRecordFrame.prototype,"MagicDiskRecordFrame");var MagicDiskRecordItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MagicDiskRecordItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ae,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ae,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.msgTxt.textFlow=LgRe.OQ(App.FQ.getFormatBulletinString(t)),e.height=16*e.msgTxt.numLines}},t.prototype.ae=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicDiskRecordItem.prototype,"MagicDiskRecordItem");var MagicDiskResultPopUi=function(e){function t(){var t=e.call(this,"MagicDiskResultPopUi")||this,n=RRUU.$s("MagicDiskResultPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("107"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.descTxt.text=fvg.GVf("funny38"),e.confirmBtn.label=fvg.GVf("7")},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.um,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.um,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e&&e.length>0){n.rewardData.source=e[0];for(var i,r=!1,a=0;a<n.rewardData.source.length;a++)if(i=n.rewardData.source[a],i.masterType==Iwrv.LH){r=!0;break}Math.min(5,n.rewardData.length)}},t.prototype.um=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MagicDiskResultPopUi.prototype,"MagicDiskResultPopUi");var MagicDiskView=function(e){function t(){var t=e.call(this,"MagicDiskView")||this;return t.eh=14,t.eb=0,t.pe=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.label=fvg.GVf("funny10",1),e.tenBtn.label=fvg.GVf("funny10",10),e.recordBtn.label=fvg.GVf("funny11"),e.descTxt_1.text=fvg.GVf("funny35"),e.numTxt.text="",e.fu=GObj.$c(nlwj),e.itemsList=[];for(var t=0;t<e.eh;t++)e.itemsList.push(this["item_"+t]);e.zu=GObj.$c(TrundlePlugin),e.zu.maxIndex=e.eh,e.zu.dir=TrundlePlugin.VU,e.zu.addCallBackFunction(e.af,e),e.sz=GObj.$c(TrundlePlugin),e.sz.maxIndex=e.eh,e.sz.dir=TrundlePlugin.DE,e.sz.addCallBackFunction(e.fn,e),e.fe=GObj.$c(MagicDiskCrossRecordView),e.fe.x=105,e.fe.y=265,e.progressTxt.text=fvg.GVf("public022",0,1),e.progressBar.value=int(Math.min(100,0)),e.addChild(e.fe)},t.prototype.initEvent=function(){var e=this;e.oneBtn.addEventListener(eui.tep,e.qs,e),e.tenBtn.addEventListener(eui.tep,e.my,e),e.boxBtn.addEventListener(eui.tep,e.wv,e),e.rankBtn.addEventListener(eui.tep,e.ld,e),e.recordBtn.addEventListener(eui.tep,e.jup,e),e.buyItemBtn.addEventListener(eui.tep,e.ak,e),vkG.$a(UtJ.PT,e.yg,e),vkG.$a(UtJ.SH,e.az,e),vkG.$a(UtJ.DV,e.wn,e),vkG.$a(UtJ.AW,e.uxn,e),vkG.$a(UtJ.PP,e.qm,e),vkG.$a(UtJ.AF,e.ih,e)},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e.qs,e),e.tenBtn.removeEventListener(eui.tep,e.my,e),e.boxBtn.removeEventListener(eui.tep,e.wv,e),e.rankBtn.removeEventListener(eui.tep,e.ld,e),e.recordBtn.removeEventListener(eui.tep,e.jup,e),e.buyItemBtn.removeEventListener(eui.tep,e.ak,e),vkG.$r(UtJ.PT,e.yg,e),vkG.$r(UtJ.SH,e.az,e),vkG.$r(UtJ.DV,e.wn,e),vkG.$r(HUtJ.HEARTBEAT,e.nt,e),vkG.$r(UtJ.AW,e.uxn,e),vkG.$r(UtJ.PP,e.qm,e),vkG.$r(UtJ.AF,e.ih,e)},t.prototype.initData=function(){var e=this,t=int(e.eh*Math.random());e.zu.start(t,1e3),e.is(),e.mp("20,80")},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.rl},set:function(e){var t=this;t.rl!=e&&(t.rl=e,t.is())},enumerable:!0,configurable:!0}),t.prototype.is=function(){var e=this;if(e.CSo&&e.rl){if(e.bt=e.rl.p1,e.fu.tid=0,e.fu.count=0,e.rl.p4){var t=e.rl.p4.split("|");if(t.length>=2){var n=t[1].split(",");n.length>=2&&(e.fu.tid=parseInt(n[0]),e.fu.count=parseInt(n[1]))}}e.fu.TSF&&(e.descTxt.text=fvg.GVf("funny40",e.fu.count,e.fu.TSF.name)),e.updateReward(),e.wn(null),e.updateLastTime(),e.up(),e.tl()}},t.prototype.tl=function(){var e,t=this;App.MG.magicList.length;if(e=t.ok_h,e&&e.p4){var n=e.p4.split("|");n.length>=1&&t.mp(n[0])}},t.prototype.mp=function(e){var t=this,n=e.split(",");n.length>=2&&(t.eb=parseInt(n[0]),t.pe=parseInt(n[1]));var i=t.eb/t.pe*100;t.scoreProgBar.value=Math.min(i,100),t.numTxt.text=fvg.GVf("public022",t.eb,t.pe)},t.prototype.up=function(){for(var e=this,t=App.MG.magicstageList,n=0;n<t.length;n++)if(t[n].isExist&&10033==t[n].type){e.wd=t[n];break}if(e.stageGroup.visible=!!e.wd,e.wd)for(var i=e.wd.bagList,r=i.length,a=void 0,n=0;r>n;n++)if(a=i[n],2!=a.status||n>=r-1){e.progressTxt.text=fvg.GVf("public022",a.haveFinish,a.totalFinish),e.progressBar.value=int(Math.min(100,a.haveFinish/a.totalFinish*100)),e.boxBtn.icon=2!=a.status&&a.haveFinish>=a.totalFinish?StaticData.GHj:null;break}},t.prototype.qm=function(e){var t=this;t.ok_h&&e&&e.indexOf(t.ok_h.id)>=0&&t.is(),t.wd&&e&&e.indexOf(t.wd.id)>=0&&t.up()},t.prototype.ak=function(){var e=App.IQ.getShopGoodsByTypeAndId(9,StaticData.TID_GOODS_35);if(e){var t=GObj.$c(BuyPopUi);t.showDetail(e)}},t.prototype.updateReward=function(){var e=this;e.bj=[];for(var t,n=e.rl.bagList,i=0;i<n.length;i++)t=n[i],e.bj.push(e.x_(t.rewardList));for(var i=0;i<e.bj.length;i++)i<e.itemsList.length&&(e.itemsList[i].goodsData=e.bj[i])},t.prototype.x_=function(e){var t=GObj.$c(nlwj);return e&&e.length>0&&(t.tid=e[0].tempId,t.count=e[0].count),t},t.prototype.updateLastTime=function(){var e=this;if(e.rl){var t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.nt,e):vkG.$r(HUtJ.HEARTBEAT,e.nt,e),e.nt()}},t.prototype.nt=function(){var e=this;if(!e.destory){var t=e.ok_h.showEnd-App.NN.serverSecond;if(t>0){var n=e.ok_h.endTime-App.NN.serverSecond;n>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(n)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}else vkG.$r(HUtJ.HEARTBEAT,e.nt,e)}},t.prototype.af=function(e,t,n){var i=this;if(e>=0&&e<i.eh&&(i.itemsList[e].selected=!0),t>=0&&t<i.eh&&(i.itemsList[t].selected=!1),n){i.sz.runing&&(i.sz.stop(),i.itemsList[i.sz.FiZ].selected=!1);var r=App.MG.magicData.levels;App.MG.magicData.levels=[];for(var a=[],o=0;o<r.length;o++)i.itemsList[r[o]].playWinning(),a.push(i.itemsList[r[o]].goodsData);(r.indexOf(2)>=0||r.indexOf(5)>=0||r.indexOf(9)>=0||r.indexOf(12)>=0)&&App.KB.showEffect(gYq.ZA,100,-40,-210),i.mka(a),egret.Tween.get(i).wait(1e3).call(i.hf,this,[a])}},t.prototype.fn=function(e,t,n){var i=this;i.sz.runing&&(e>=0&&e<i.eh&&(i.itemsList[e].selected=!0),t>=0&&t<i.eh&&(i.itemsList[t].selected=!1))},t.prototype.hf=function(e){var t=this;egret.Tween.removeTweens(t),App.VS.popup(KqZ.CX,MagicDiskResultPopUi,null,e),t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!0,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!0,SpecialTipsBar.instance.pauseCheck=!1,t.zu.start(t.zu.FiZ,1e3)},t.prototype.ld=function(e){App.VS.popup(KqZ.CX,MagicDiskRankPopUi,null,this.ok_h.id)},t.prototype.wv=function(e){App.VS.popup(KqZ.CX,MagicDiskBoxPopUi,null,this.wd)},t.prototype.qs=function(e){var t=this;if(t.ok_h.isExpired)return void App.TT.show(fvg.GVf("s4"));var n=App.FK.hsx(StaticData.TID_GOODS_35);return n?void t.dd(1):App.KF.point<300?void App.TT.show(fvg.GVf("public017")):void Alert.WK(fvg.GVf("shop03",300,1),null,null,t.dd,this,[1])},t.prototype.dd=function(e){var t=this;return App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void FunnyMsgProxy.LR(t.rl.bagList[0].id,e))},t.prototype.my=function(e){var t=this;if(t.ok_h.isExpired)return void App.TT.show(fvg.GVf("s4"));var n=App.FK.hsx(StaticData.TID_GOODS_35);if(10>n){var i=10-n;return App.KF.point<300*i?void App.TT.show(fvg.GVf("public017")):void Alert.WK(fvg.GVf("shop03",300*i,i),null,null,t.fm,t)}t.fm()},t.prototype.fm=function(){var e=this;App.MG.magicData.prompt?e.uv():Alert.WK(fvg.GVf("funny39"),void 0,void 0,e.uv,e)},t.prototype.uv=function(){var e=this;return App.MG.magicData.prompt=!0,App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):(e.oneBtn.touchEnabled=e.oneBtn.touchChildren=!1,e.tenBtn.touchEnabled=e.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,void FunnyMsgProxy.LR(e.rl.bagList[0].id,10))},t.prototype.jup=function(e){this.oneBtn.touchEnabled&&App.VS.popup(KqZ.CX,MagicDiskRecordFrame)},t.prototype.yg=function(e){e&&e.indexOf(6)>=0&&this.up()},t.prototype.az=function(e){var t=this,n=App.MG.magicData;if(1==e){var i=n.levels||[];if(i.length>0&&t.zu&&!t.zu.runing){var r=i[0];t.zu.run(r,3,50),i.length>1&&(t.sz.start(t.zu.FiZ,1e3),t.sz.run(r,5,50))}t.up()}},t.prototype.wn=function(e){var t=this,n=App.FK.hsx(StaticData.TID_GOODS_35);t.needTxt_1.text=n+"/1",t.needTxt_2.text=n+"/10",1>n?(t.needTxt_1.textColor=Color.KA,t.needTxt_2.textColor=Color.KA):10>n?(t.needTxt_1.textColor=Color.TX,t.needTxt_2.textColor=Color.KA):(t.needTxt_1.textColor=Color.TX,t.needTxt_2.textColor=Color.TX),t.oneBtn.icon=n>0?StaticData.GHj:null,t.tenBtn.icon=n>=10?StaticData.GHj:null},t.prototype.mka=function(e){var t=e.length;if(!(0>=t))for(var n,i,r=hCs.stage.stageWidth/2-106,a=hCs.stage.stageHeight/2+100,o=0;t>o;o++)i=e[o].TSF,n=GObj.$c(NewGoodsUIEffect),n.start(i.name,i.qua,e[o].count,r,a-36*o)},t.prototype.ih=function(e){this.mp(e)},t.prototype.uxn=function(){this.is()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),egret.Tween.removeTweens(t),SpecialTipsBar.instance.pauseCheck=!1,t.itemsList)for(;t.itemsList.length>0;)GObj.$d(t.itemsList.pop());t.itemsList=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t.zu),t.zu=null,GObj.$d(t.sz),t.sz=null,GObj.$d(t.itemsGroup),t.itemsGroup=null,GObj.$d(t.fe),t.fe=null,GObj.$d(t.buyItemBtn),t.buyItemBtn=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.numTxt),t.numTxt=null,t.fu=null,t.bj=null,t.rl=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MagicDiskView.prototype,"MagicDiskView");var MagicFairyFetterBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MagicFairyFetterBtn"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.no,e),vkG.$a(UtJ.XF,e.fu,e),vkG.$a(UtJ.ZK,e.fu,e),vkG.$a(UtJ.ZW_,e.fu,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.no,e),vkG.$r(UtJ.XF,e.fu,e),vkG.$r(UtJ.ZK,e.fu,e),vkG.$r(UtJ.ZW_,e.fu,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.fd=e.data,e.kh())},t.prototype.kh=function(){var e=this;e.fd&&(e.btnLab.text=e.fd.name,e.fu())},t.prototype.fu=function(){var e=this;if(e.fd){var t=e.fd.cost.split(","),n=gLw.IQ(e.fd.tid),i=App.FX.getMagicFairyFetter(n);e.redpoint.visible=i>0?!1:UsU.HM(t)}},t.prototype.no=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.btnLab),t.btnLab=null,GObj.$d(t.redpoint),t.redpoint=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicFairyFetterBtn.prototype,"MagicFairyFetterBtn");var MagicFairyFetterNameItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MagicFairyFetterNameItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ck,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ck,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.qq=e.data,e.iy())},t.prototype.iy=function(){var e=this;if(0==e.itemIndex){var t=XCA.AQS.UFA(80,e.qq,1);if(!t)return;var n=gLw.IQ(t.tid),i=App.FX.risingstarvo.starArr[n]||0,r=i>0?Color.TX:Color.HQ;e.nameLab.textFlow=LgRe.OQ(fvg.GVf("magicfairy11",r,t.name))}else{var t=XCA.AQS.UFA(84,e.qq,1);if(!t)return;var i=App.FX.getMagicFairyStarByType(gLw.IQ(t.tid)),r=i>0?Color.TX:Color.HQ;e.nameLab.textFlow=LgRe.OQ(fvg.GVf("magicfairy11",r,t.name))}},t.prototype.ck=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicFairyFetterNameItem.prototype,"MagicFairyFetterNameItem");var MagicFairyFetterPop=function(e){function t(){var t=e.call(this,"MagicFairyFetterPop")||this;return t.cd=[[212,137],[91,359],[331,359]],t.skinName=RRUU.$s("MagicFairyFetterPop"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.frameGroup.title=fvg.GVf("magicfairy15"),e.nj=[],e.btnData=GObj.$c(eui.ArrayCollection),e.btnList.dataProvider=e.btnData,e.btnList.itemRenderer=MagicFairyFetterBtn,e.activeBtn.label=fvg.GVf("public012");for(var t=0;3>t;t++){var n=GObj.$c(MagicFairyItemView);n.x=e.cd[t][0],n.y=e.cd[t][1],e.nj.push(n),e.addChild(n)}},t.prototype.initData=function(){var e=this;e.jc(),e.btnList.selectedIndex=0,e.kf()},t.prototype.initEvent=function(){var e=this;e.btnList.addEventListener(eui.tep,e.kf,e),e.activeBtn.addEventListener(eui.tep,e.tu,e),vkG.$a(UtJ.ZK,e.sy,e),vkG.$a(UtJ.ZW_,e.sy,e),vkG.$a(UtJ.TCN,e.sy,e)},t.prototype.removeEvent=function(){var e=this;e.btnList.removeEventListener(eui.tep,e.kf,e),e.activeBtn.removeEventListener(eui.tep,e.tu,e),vkG.$r(UtJ.ZK,e.sy,e),vkG.$r(UtJ.ZW_,e.sy,e),vkG.$r(UtJ.TCN,e.sy,e)},t.prototype.jc=function(){var e=this,t=[];e.btnData.source.length=0;var n=XCA.AQS.oVs(86);for(var i in n){var r=n[i][1];t.push(r)}e.btnData.replaceAll(t)},t.prototype.kf=function(){var e=this;e.qx=e.btnList.selectedItem,e.zs()},t.prototype.zs=function(){var e=this;if(e.qx){e.uc=gLw.IQ(e.qx.tid);var t=e.qx.cost,n=t.split(","),i=e.nj.length;e.xv=n.length;for(var r=0;i>r;r++){var a=e.nj[r];a.data=parseInt(n[r+1])}var o=parseInt(n[0]),s=XCA.AQS.UFA(80,o,1),p=parseInt(s.cost),l=GObj.$c(nlwj);l.tid=p,e.itemView.data=l,e.nameLab.text=l.name,e.nameLab.textColor=aKF.DU(l.quality);var c=App.FX.getMagicFairyFetter(e.uc);e.activeBtn.visible=c>0?!1:!0,e.hasLab.visible=c>0;var u=App.FX.risingstarvo.starArr[o]||0;e.maskImg.visible=u>0?!1:!0,e.fe(parseInt(n[0])),e.rl(n)}},t.prototype.fe=function(e){var t=this;if(t.qx){var n=(App.FX.getMagicFairyFetter(t.uc),t.qx.attrid),i=LRJ.KG(n),r=XCA.AQS.UFA(80,e,1),a=parseInt(r.cost),o=XCA.FR(a),s="";o&&(s="\n"+fvg.GVf("magicfairy14",o.name,t.qx.p1)),t.attrLab.textFlow=LgRe.OQ(LRJ.XS(i+s))}},t.prototype.sy=function(){this.zs()},t.prototype.rl=function(e){for(var t=this,n=0,i=e.length,r=0;i>r;r++){var a=parseInt(e[r]);if(0==r){var o=App.FX.risingstarvo.starArr[a]||0;o>0&&n++}else{var o=App.FX.getMagicFairyStarByType(a);o>0&&n++}}t.ut=n;var s=n>=i?Color.SQ:Color.KA;t.proLab.textFlow=LgRe.OQ(fvg.GVf("magicfairy12",s,n,i)),t.activeBtn.icon=n>=i?StaticData.GHj:null},t.prototype.tu=function(){var e=this,t=App.FX.getMagicFairyFetter(e.uc);return t>0?msgTip(fvg.GVf("magicfairy13")):e.ut<e.xv?msgTip(fvg.GVf("zhenwu13")):void MagicBladeProxy.XD(e.uc)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.activeBtn),t.activeBtn=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.hasLab),t.hasLab=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.maskImg),t.maskImg=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.btnList&&(t.btnList.dataProvider=null,GObj.$d(t.btnList));var n=0;for(t.nj.length;n<t.nj.length;n++){var i=t.nj[n];delete t.nj[n],GObj.$d(i)}t.nj=null,t.btnList=null,t.btnData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MagicFairyFetterPop.prototype,"MagicFairyFetterPop");var MagicFairyItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MagicFairyItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dv,e),vkG.$a(UtJ.ZK,e.mt,e),vkG.$a(UtJ.XF,e.mt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dv,e),vkG.$r(UtJ.ZK,e.mt,e),vkG.$r(UtJ.XF,e.mt,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.sn=e.data,e.rb())},t.prototype.rb=function(){var e=this,t=gLw.IQ(e.sn.tid);e.iconView.icon=kLM.R_(t);var n=App.FX.getMagicFairyGradeByType(t),i=App.FX.getMagicFairyStarByType(t);e.bgImg.visible=n>0,e.gradeLab.text=n>0?fvg.GVf("public028",n):"",e.starLab.text=i>0?"+"+i:"",e.starImg.visible=i>0,e.starLab.validateNow(),e.starImg.x=e.starLab.x+e.starLab.textWidth+2,e.quaImg.source="core_json.quality_"+e.sn.qua+"_png",e.av()},t.prototype.av=function(){var e=this;if(e.sn){var t=gLw.IQ(e.sn.tid),n=App.FX.getMagicFairyGradeByType(t);if(n>0){var i=XCA.AQS.UFA(85,t,1);if(!i)return;e.redpoint.visible=UsU.KBI(e.sn)||UsU.HU(i),e.maskImg.visible=!1}else e.redpoint.visible=UsU.KBI(e.sn),e.maskImg.visible=!0}},t.prototype.mt=function(){this.rb()},t.prototype.dv=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.redpoint),t.redpoint=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.starLab),t.starLab=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.starImg),t.starImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MagicFairyItem.prototype,"MagicFairyItem");var MagicFairyItemView=function(e){function t(){var t=e.call(this,"MagicFairyItemView")||this;return t.skinName=RRUU.$s("MagicFairyItemView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.yr()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.ZK,e.hn,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ZK,e.hn,e)},t.prototype.hn=function(){this.yr()},Object.defineProperty(t.prototype,"data",{set:function(e){var t=this;t.qz=e,t.yr()},enumerable:!0,configurable:!0}),t.prototype.yr=function(){var e=this;if(e.CSo&&e.qz){var t=XCA.AQS.UFA(84,e.qz,1);if(t){var n=parseInt(t.cost),i=GObj.$c(nlwj);i.tid=n,e.iconView.data=i;var r=gLw.IQ(t.tid);App.FX.getMagicFairyStarByType(r);e.nameLab.text=t.name,e.nameLab.textColor=aKF.DU(t.qua)}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MagicFairyItemView.prototype,"MagicFairyItemView");var MagicFairyStarPop=function(e){function t(){var t=e.call(this,"MagicFairyStarPop")||this;return t.skinName=RRUU.$s("MagicFairyStarPop"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.currLab.text=fvg.GVf("magicfairy07"),e.nextLab.text=fvg.GVf("magicfairy08"),e.frameGroup.title=fvg.GVf("public098"),e.upstarBtn.label=fvg.GVf("public098")},t.prototype.initData=function(){this.gv()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.sl=e[0],n.gv())},t.prototype.initEvent=function(){var e=this;e.upstarBtn.addEventListener(eui.tep,e.ju,e),vkG.$a(UtJ.DV,e.wx,e),vkG.$a(UtJ.ZK,e.lu,e)},t.prototype.removeEvent=function(){var e=this;e.upstarBtn.removeEventListener(eui.tep,e.ju,e),vkG.$r(UtJ.DV,e.wx,e),vkG.$r(UtJ.ZK,e.lu,e)},t.prototype.lu=function(){this.gv()},t.prototype.gv=function(){var e=this;if(e.CSo&&e.sl){e.gg=gLw.IQ(e.sl.tid),e.iconView.icon=kLM.R_(gLw.IQ(e.sl.tid));var t=App.FX.getMagicFairyStarByType(e.gg);e.nameLab.text=e.sl.name,e.nameLab.textColor=aKF.DU(e.sl.qua),e.gradeLab.text=t+"",e.fightLab.text=fvg.GVf("public099",App.FX.getMagicFairyStarCapByType(e.gg)),e.jz(),e.wx(),e.upstarBtn.icon=UsU.KBI(e.sl)?StaticData.GHj:null,e.quaImg.source="core_json.quality_"+e.sl.qua+"_png",e.starImg.x=e.gradeLab.x+e.gradeLab.textWidth+2}},t.prototype.ju=function(){var e=this;if(e.sl){var t=App.FX.getMagicFairyStarByType(e.gg);if(t>=e.sl.maxgrade)return msgTip(fvg.GVf("public100"));var n=parseInt(e.sl.cost),i=1,r=App.FK.hsx(n);return i>r?_JDW.TR(n):void MagicBladeProxy.HG(e.gg)}},t.prototype.jz=function(){var e=this;if(e.sl){var t=e.sl.attrid,n=App.FX.getMagicFairyStarByType(e.gg);
e.currAttrLab.textFlow=LgRe.OQ(LRJ.KG(t,void 0,void 0,void 0,n)),n>=e.sl.maxgrade?e.nextAttrLab.text=fvg.GVf("public100"):e.nextAttrLab.textFlow=LgRe.OQ(LRJ.KG(t,void 0,void 0,void 0,n+1))}},t.prototype.wx=function(){var e=this;if(e.sl){var t=parseInt(e.sl.cost),n=App.FK.hsx(t),i=GObj.$c(nlwj);i.tid=t,i.count=n,e.itemView.data=i,e.itemView.bottomText=fvg.GVf("public022",n,1),e.itemView.bottomColor=n>=1?Color.TX:Color.KA}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.fightLab),t.fightLab=null,GObj.$d(t.currLab),t.currLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.frameGroup),t.frameGroup=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.starImg),t.starImg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MagicFairyStarPop.prototype,"MagicFairyStarPop");var MagicFairyStorePop=function(e){function t(){var t=e.call(this,"MagicFairyStorePop")||this;return t.skinName=RRUU.$s("MagicFairyStorePop"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.currLab.text=fvg.GVf("magicfairy07"),e.nextLab.text=fvg.GVf("magicfairy17"),e.frameGroup.title=fvg.GVf("public008"),e.upgradeBtn.label=fvg.GVf("public008"),e.oneKeyBtn.label=fvg.GVf("skill115")},t.prototype.initData=function(){this.to()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ir=e[0],n.to())},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.iu,e),e.oneKeyBtn.addEventListener(eui.tep,e.gm,e),vkG.$a(UtJ.DV,e.oo,e),vkG.$a(UtJ.XF,e.st,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.iu,e),e.oneKeyBtn.removeEventListener(eui.tep,e.gm,e),vkG.$r(UtJ.DV,e.oo,e),vkG.$r(UtJ.XF,e.st,e)},t.prototype.to=function(){var e=this;if(e.CSo&&e.ir&&(e.ng=gLw.IQ(e.ir.tid),e.ye=XCA.AQS.UFA(85,e.ng,1),e.ye)){e.iconView.icon=kLM.R_(e.ng),e.nameLab.text=e.ye.name,e.nameLab.textColor=aKF.DU(e.ir.qua);var t=App.FX.getMagicFairyGradeByType(e.ng);e.nameLab.text=e.ye.name,e.gradeLab.text=fvg.GVf("magicfairy16",t,e.ye.maxgrade),e.fightLab.text=fvg.GVf("public099",App.FX.getMagicFairyUpCapByType(e.ng)),e.quaImg.source="core_json.quality_"+e.ir.qua+"_png",e.oo(),e.tr()}},t.prototype.oo=function(){var e=this;if(e.ye){var t=App.FX.getMagicFairyGradeByType(e.ng),n=parseInt(e.ye.cost),i=GeneralCompute._P(t,e.ir.qua),r=GeneralCompute._P(t-1,e.ir.qua),a=i-r,o=10*a,s=App.FK.hsx(n);e.needLab.text=fvg.GVf("public022",s,a),e.needLab.textColor=s>0?Color.TX:Color.KA;var p=App.FX.getMagicFairyUpExpByType(e.ng)-10*r;e.proBar.value=int(p/o*100),e.proLab.text=fvg.GVf("public022",p,o),e.upgradeBtn.icon=e.oneKeyBtn.icon=UsU.HU(e.ye)?StaticData.GHj:null}},t.prototype.tr=function(){var e=this;if(e.ir){var t=e.ye.attrid,n=App.FX.getMagicFairyGradeByType(e.ng),i=GeneralCompute.VO(n,e.ye.qua);if(e.currAttrLab.textFlow=LgRe.OQ(e.ix(t,void 0,void 0,void 0,i)),n>=e.ir.maxgrade)e.nextAttrLab.text=fvg.GVf("skill006");else{var r=GeneralCompute.VO(n+1,e.ir.qua);e.nextAttrLab.textFlow=LgRe.OQ(e.ix(t,void 0,void 0,void 0,r))}}},t.prototype.ix=function(e,t,n,i,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0),void 0===r&&(r=1);var a=XCA.YV(e);if(!a)return null;var o=xxf.UK,s="",p=0;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=o[l]+" +0":n?s+=fvg.GVf("skill006"):(p=a[l],isNaN(i)||(p=Math.round(p+p*i)),s+=o[l]+" +"+int(p*r)));o=xxf.IM;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),s+=t?o[l]+" +0%":n?fvg.GVf("skill006"):o[l]+" +"+int(a[l]/10*r)+"%");return s},t.prototype.iu=function(){var e=this;if(e.ye){var t=App.FX.getMagicFairyGradeByType(e.ng);if(t>=e.ye.maxgrade)return msgTip(fvg.GVf("skill006"));var n=parseInt(e.ye.cost),i=(GeneralCompute._P(t,e.ir.qua),App.FK.hsx(n));return 1>i?void _JDW.TR(n):void MagicBladeProxy.JL(2,e.ng)}},t.prototype.gm=function(){var e=this;if(e.ye){var t=App.FX.getMagicFairyGradeByType(e.ng);if(t>=e.ye.maxgrade)return msgTip(fvg.GVf("skill006"));var n=parseInt(e.ye.cost),i=(GeneralCompute._P(t,e.ir.qua),App.FK.hsx(n));return 1>i?void _JDW.TR(n):void MagicBladeProxy.JL(3,e.ng)}},t.prototype.st=function(){this.to()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.fightLab),t.fightLab=null,GObj.$d(t.currLab),t.currLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextLab),t.nextLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.gradeProLab),t.gradeProLab=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.costGroup),t.costGroup=null,GObj.$d(t.needLab),t.needLab=null,GObj.$d(t.proLab),t.proLab=null,GObj.$d(t.quaImg),t.quaImg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MagicFairyStorePop.prototype,"MagicFairyStorePop");var MagicFairyView=function(e){function t(){var t=e.call(this,"MagicFairyView")||this;return t.skinName=RRUU.$s("MagicFairyView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.attrTitleLab.text=fvg.GVf("magicfairy09"),e.activeBtn.label=fvg.GVf("public012"),e.upstarBtn.label=fvg.GVf("public098"),e.tabBtn1.label=fvg.GVf("magicfairy01"),e.tabBtn2.label=fvg.GVf("magicfairy02"),e.tabBtn3.label=fvg.GVf("magicfairy03"),e.tabBtn4.label=fvg.GVf("magicfairy04"),e.tabBtn5.label=fvg.GVf("magicfairy05"),e.fg=GObj.$c(kQr),e.fg.cwA(e.tabBtn1),e.fg.cwA(e.tabBtn2),e.fg.cwA(e.tabBtn3),e.fg.cwA(e.tabBtn4),e.fg.cwA(e.tabBtn5),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=MagicFairyItem,e.fetterData=GObj.$c(eui.ArrayCollection),e.fetterGroup.dataProvider=e.fetterData,e.fetterGroup.itemRenderer=MagicFairyFetterNameItem,e.hl=GObj.$c(FigureView),e.hl.x=220,e.hl.y=350,e.addChild(e.hl)},t.prototype.initData=function(){var e=this;e.fg.selectedIndex=0,e.ca()},t.prototype.initEvent=function(){var e=this;e.storeBtn.addEventListener(eui.tep,e.vfn,e),e.activeBtn.addEventListener(eui.tep,e.sd,e),e.upstarBtn.addEventListener(eui.tep,e.ie,e),e.fetterBtn.addEventListener(eui.tep,e.ct,e),e.fg.addEventListener(egret.Event.CHANGE,e.ca,e),e.itemList.addEventListener(egret.Event.CHANGE,e.ty,e),vkG.$a(UtJ.ZK,e.ng,e),vkG.$a(UtJ.XF,e.ng,e),vkG.$a(UtJ.ZW_,e.ng,e),vkG.$a(UtJ.DV,e.xa,e)},t.prototype.removeEvent=function(){var e=this;e.storeBtn.removeEventListener(eui.tep,e.vfn,e),e.activeBtn.removeEventListener(eui.tep,e.sd,e),e.upstarBtn.removeEventListener(eui.tep,e.ie,e),e.fetterBtn.removeEventListener(eui.tep,e.ct,e),e.fg.removeEventListener(egret.Event.CHANGE,e.ca,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.ty,e),vkG.$r(UtJ.ZK,e.ng,e),vkG.$r(UtJ.XF,e.ng,e),vkG.$r(UtJ.ZW_,e.ng,e),vkG.$r(UtJ.DV,e.xa,e)},t.prototype.vfn=function(){App.VS.popup(10142,MagicFairyStorePop,null,this.ge)},t.prototype.sd=function(){var e=this,t=App.FX.getMagicFairyStarByType(e.eh);if(t>0)return void msgTip(fvg.GVf("magicfairy06"));var n=parseInt(e.ge.cost),i=App.FK.hsx(n);return 1>i?void _JDW.TR(n):void MagicBladeProxy.HG(e.eh)},t.prototype.ie=function(){App.VS.popup(10142,MagicFairyStarPop,null,this.ge)},t.prototype.ct=function(){App.VS.popup(10142,MagicFairyFetterPop)},t.prototype.ca=function(){var e=this;e.ye=e.fg.selectedIndex,e.il(),e.itemList.selectedIndex=0,e.ty()},t.prototype.il=function(){var e=this;e.itemData.source.length=0;var t=App.FX.getMagicFairyTempByQua(e.dt());e.itemData.replaceAll(t)},t.prototype.dt=function(){switch(this.ye){case 0:return 0;case 1:return 3;case 2:return 4;case 3:return 5;case 4:return 6}},t.prototype.xa=function(){var e=this;if(e.ge){e.activeBtn.icon=e.upstarBtn.icon=UsU.KBI(e.ge)?StaticData.GHj:"";var t=XCA.AQS.UFA(85,e.eh,1);t&&(e.storeBtn.icon=UsU.HU(t)?StaticData.GHj:""),e.fetterBtn.icon=UsU.NRR()?StaticData.GHj:null}},t.prototype.ty=function(){var e=this;e.ge=e.itemList.selectedItem,e.nz()},t.prototype.nz=function(){var e=this;if(e.ge){e.eh=gLw.IQ(e.ge.tid);var t=gLw.GM(e.ge.tid),n=App.FX.getMagicFairyStarByType(e.eh);e.hl.updatePart(e.ge.p5,irK.PART_BODY);var i=XCA.YV(e.ge.attrid);e.fightView.fightNum=App.FX.getMagicFairyStarCapByType(e.eh)||i.p1,e.nameImg.source=kLM.PU(e.eh),e.quaImg.source=kLM.WT(t),e.typeImg.source=kLM.JT(t),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(n),-2,e.rankView,1),0>=n?(e.rankView.visible=!1,e.starImg.visible=!1,e.nameImg.horizontalCenter=-197):(e.rankView.visible=!0,e.starImg.visible=!0,e.nameImg.horizontalCenter=-185),e.gp(),e.tj(),e.xa(),n>0?(e.activeBtn.visible=!1,e.upstarBtn.visible=!0,e.storeBtn.visible=!0):(e.storeBtn.visible=!1,e.activeBtn.visible=!0,e.upstarBtn.visible=!1)}},t.prototype.gp=function(){var e=this;if(e.ge){var t=e.ge.attrid,n=App.FX.getMagicFairyStarByType(e.eh),i=e.ge.p1,r=XCA.AQS.UFA(86,i,1);if(r){var a=App.FX.getMagicFairyFetter(i),o=a>0?n+r.p1/100:n;e.attrLab.textFlow=LgRe.OQ(LRJ.KG(t,void 0,void 0,void 0,o||1))}}},t.prototype.tj=function(){var e=this;if(e.ge){var t=e.ge.p1,n=XCA.AQS.UFA(86,t,1);if(n){for(var i=n.cost.split(","),r=[],a=i.length,o=0;a>o;o++){var s=parseInt(i[o]);r.push(s)}e.fetterData.replaceAll(r),e.fetterTitleLab.text=fvg.GVf("magicfairy10",n.name,e.ov(r),a)}}},t.prototype.ov=function(e){for(var t,n,i=0,r=e.length,a=0;r>a;a++)t=e[a],0==a&&(n=App.FX.risingstarvo.starArr[t]||0,n>0)?i++:(n=App.FX.getMagicFairyStarByType(t),n>0&&i++);return i},t.prototype.ng=function(){this.nz()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.storeBtn),t.storeBtn=null,GObj.$d(t.fetterBtn),t.fetterBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.activeBtn),t.activeBtn=null,GObj.$d(t.tabBtn1),t.tabBtn1=null,GObj.$d(t.tabBtn2),t.tabBtn2=null,GObj.$d(t.tabBtn3),t.tabBtn3=null,GObj.$d(t.tabBtn4),t.tabBtn4=null,GObj.$d(t.tabBtn5),t.tabBtn5=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.hl),t.hl=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MagicFairyView.prototype,"MagicFairyView");var DisplayView=function(e){function t(){var t=e.call(this,"DisplayView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.pk=GObj.$c(FigureView),e.pk.x=170,e.pk.y=310,e.addChildAt(e.pk,1),e.hc=GObj.$c(FigureView),e.hc.x=380,e.hc.y=460,e.addChildAt(e.hc,2),e.zgt=GObj.$c(FigureView),e.zgt.x=142,e.zgt.y=600,e.addChildAt(e.zgt,3),e.aq=GObj.$c(FigureView),e.aq.x=360,e.aq.y=200,e.aq.scaleX=.6,e.aq.scaleY=.6,e.addChildAt(e.aq,4),e.dn=GObj.$c(BonesDisplay),e.dn.x=200,e.dn.y=100,e.addChild(e.dn),e.dn.source=kLM.FF(gYq.YL)},t.prototype.initEvent=function(){var e=this;e.implementBtn.addEventListener(eui.tep,e.ko,e),e.beautyBtn.addEventListener(eui.tep,e.zh,e),e.flyswordBtn.addEventListener(eui.tep,e.fw,e),e.rankBtn.addEventListener(eui.tep,e.da,e),vkG.$a(UtJ.FA,e.dx,e),App.AJ.add(KqZ.PY,e.ge,e),App.AJ.add(KqZ.KJ,e.cg,e),App.AJ.add(KqZ.MU,e.gu,e)},t.prototype.removeEvent=function(){var e=this;e.implementBtn.removeEventListener(eui.tep,e.ko,e),e.beautyBtn.removeEventListener(eui.tep,e.zh,e),e.flyswordBtn.removeEventListener(eui.tep,e.fw,e),e.rankBtn.removeEventListener(eui.tep,e.da,e),vkG.$r(UtJ.FA,e.dx,e),App.AJ.remove(KqZ.PY,e.ge,e),App.AJ.remove(KqZ.KJ,e.cg,e),App.AJ.remove(KqZ.MU,e.gu,e)},t.prototype.initData=function(){var e=this;e.dx(),fNs.instance.execute(hXS.YK,hXS.RZ,[e.implementBtn,e.beautyBtn]),e.cg(),e.ge(),e.gu()},t.prototype.dx=function(){var e=this;if(e.pk){var t=App.KF.sex||1;FigureHelps.NW(e.pk,{b:App.KF.b,w:App.KF.w,c:App.KF.c,s:t});var n=App.KF.fere;FigureHelps.NW(e.hc,{b:n},!1);var i=App.JO.getPetUse()||0;if(i){var r=FigureHelps.TS(22,1,i);FigureHelps.NW(e.zgt,r.part,!1)}else e.zgt&&e.zgt.parent&&e.removeChild(e.zgt);var a=App.JS.getRetinueInfoByType(89),o=a&&a.use||App.JS.getHighSontype(89);if(o){var r=FigureHelps.TS(89,o,1);FigureHelps.NW(e.aq,r.part,!1)}else e.aq&&e.aq.parent&&e.removeChild(e.aq)}},t.prototype.cg=function(){var e=this;e.beautyBtn.icon=App.AJ.getRedById(KqZ.KJ)?StaticData.GHj:"",e.beautyBtn.sprintImg.visible=3==App.AT.currDay},t.prototype.ge=function(){var e=this;e.implementBtn.icon=App.AJ.getRedById(KqZ.PY)?StaticData.GHj:"",e.implementBtn.sprintImg.visible=2==App.AT.currDay},t.prototype.gu=function(){this.flyswordBtn.icon=App.AJ.getRedById(KqZ.MU)?StaticData.GHj:""},t.prototype.io=function(){App.VS.open(10122)},t.prototype.ci=function(){App.VS.open(10007)},t.prototype.ko=function(){App.VS.open(10003)},t.prototype.zh=function(){App.VS.open(10018)},t.prototype.fw=function(){App.VS.open(10162)},t.prototype.da=function(){App.VS.open(KqZ.QG)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.dn),t.dn=null,GObj.$d(t.pk),t.pk=null,GObj.$d(t.zgt),t.zgt=null,GObj.$d(t.hc),t.hc=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.flyswordBtn),t.flyswordBtn=null,GObj.$d(t.implementBtn),t.implementBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(DisplayView.prototype,"DisplayView");var BigSkillBar=function(e){function t(){var n=e.call(this,"BigSkillBar")||this;return singleton(t._instance),t._instance=n,n.skinName=RRUU.$s("BigSkillBarSkin"),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e._time=0,e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.backImg.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__onTouchBeginHadnler,e),vkG.$a(UtJ.VY,e.__infoUpdateHandler,e)},t.prototype.removeEvent=function(){var e=this;e.backImg.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.__onTouchBeginHadnler,e),e._cdMe&&e._cdMe.removeEventListener(egret.Event.COMPLETE,e.__cdmeCompleteHandler,e),vkG.$r(UtJ.VY,e.__infoUpdateHandler,e)},t.prototype.initData=function(){this.__infoUpdateHandler()},t.prototype.__infoUpdateHandler=function(){var e=this,t=App.JG.practiceGrade;t>0&&!e._isOpen&&(e._isOpen=!0,PlayerSKillAI.instance.bigSkillOpen(),e._skillInfo=PlayerSKillAI.instance.bigSkillDic[StaticData.MAP_SKILL_ID],vkG.$r(UtJ.VY,e.__infoUpdateHandler,e)),e.updateBtnState()},t.prototype.updateBtnState=function(){var e=this;e._isOpen?(GObj.$d(e._lockImg),e._lockImg=null,e._coverImg||(e._coverImg=GObj.$c(eui.Image),e._coverImg.source="bar_json.skill_tool_cover_png",e._coverImg.touchEnabled=!1,e._coverImg.visible=!1,e._coverImg.x=e._coverImg.y=3),!e._coverImg.parent&&e.addChildAt(e._coverImg,1),e._cdMe||(e._cdMe=GObj.$c(MeanEffect),e._cdMe.touchEnabled=e._cdMe.touchChildren=!1,e._cdMe.addEventListener(egret.Event.COMPLETE,e.__cdmeCompleteHandler,e),e._cdMe.x=-9,e._cdMe.y=-9),e.__cdmeCompleteHandler(null)):(e._lockImg||(e._lockImg=GObj.$c(eui.Image),e._lockImg.touchEnabled=!1),!e._lockImg.parent&&e.addChild(e._lockImg))},t.prototype.__onTouchBeginHadnler=function(e){var t=this;App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.__onTouchCancleHandler,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.__onStageTouchEndHandler,t),!t.touchCaptured&&(t.y-=2),t.touchCaptured=!0},t.prototype.__onTouchCancleHandler=function(e){var t=this;App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.__onTouchCancleHandler,t),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.__onStageTouchEndHandler,t),t.touchCaptured&&(t.y+=2),t.touchCaptured=!1},t.prototype.__onStageTouchEndHandler=function(e){var t=this;App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.__onTouchCancleHandler,t),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.__onStageTouchEndHandler,t),t.backImg&&e.target==t.backImg&&t.buttonReleased(),t.touchCaptured&&(t.y+=2),t.touchCaptured=!1},t.prototype.__cdmeCompleteHandler=function(e){var t=this;t._cdMe&&t._cdMe.parent&&t._cdMe.parent.removeChild(t._cdMe),t._skillInfo&&!t._skillInfo.wait&&(t._fullMc||(t._fullMc=GObj.$c(MeanEffect),t._fullMc.touchEnabled=t._fullMc.touchChildren=!1,t._fullMc.x=-19,t._fullMc.y=-37,t._fullMc.start(gYq.XA,StaticData.PLAY_UI_INTERVAL)),t._fullMc.play(),!t._fullMc.parent&&t.addChild(t._fullMc))},t.prototype.buttonReleased=function(){var e=this;if(e.touchCaptured){if(!e._isOpen)return void App.TT.show(fvg.GVf("skill109"));if(e._time>0)return void App.TT.show(fvg.GVf("skilltool1"));e._time=e._skillInfo.atkcd,e._skillInfo.wait=!0,PlayerSKillAI.instance.addSkill(StaticData.MAP_SKILL_ID),e._time>0&&App.HA.registeEnterFrame2(e.__updateTimeHandler,e),e.__updateTimeHandler(),e._fullMc&&(e._fullMc.stop(),e._fullMc.parent&&e.removeChild(e._fullMc))}},t.prototype.__updateTimeHandler=function(){var e=this;e._skillInfo&&!e._destory&&(e._skillInfo.wait||(e._time=e._skillInfo.atkTime-GApp.timer),e.progress=e._time/e._skillInfo.atkcd,e.cdTimeTxt.text=e._time>0?toChars(int(.001*e._time)):"",e._time<=0&&App.HA.unRegisteEnterFrame2(e.__updateTimeHandler,e))},Object.defineProperty(t.prototype,"progress",{set:function(e){var t=this;if(t._progress!=e){if(!e||.01>e)return void(t._coverImg.visible&&(t._coverImg.visible=!1,t._cdMe&&(t._cdMe.start(gYq.WM,StaticData.PLAY_UI_INTERVAL,1),!t._cdMe.parent&&t.addChild(t._cdMe))));var n=t._progress-e;if(!(.01>n&&n>-.01)){t._progress=e,t._coverImg.visible||(t._coverImg.visible=!0);var i=t._coverImg.height*e;BitmapUtil.setBitmapWH(t._coverImg,i)}}},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var n=this;n.removeEvent(),t._instance=null,GObj.$d(n.cdTimeTxt),n.cdTimeTxt=null,GObj.$d(n._coverImg),n._coverImg=null,GObj.$d(n._lockImg),n._lockImg=null,GObj.$d(n._cdMe),n._cdMe=null,GObj.$d(n._fullMc),n._fullMc=null,n._skillInfo=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BigSkillBar.prototype,"BigSkillBar");var BottomBtnBar=function(e){function t(){var n=e.call(this,"BottomBtnBar")||this;singleton(t._instance),t._instance=n;var i=RRUU.$e(n.id);return n.skinName=i,n.horizontalCenter=0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 32},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.bottom=100,e.chatMsg=[],e.autoAttack=!1,e.skillView||(e.skillView=GObj.$c(SkillToolView)),rRcz.SS(87,!1),App.KF.newbie?e.barState=2:(e.addSkillView(),e.switchBtn.visible=!1),e.playing=!1,e.chatBgImg.touchEnabled=!0,App.FQ.lastChatVO?e.__chatDataUpdateHandler(App.FQ.lastChatVO):e.sysMsg=fvg.GVf("channel_1")+fvg.GVf("chat28",Nkz.PT())},t.prototype.initData=function(){var e=this;e.__emailListUpdateHandler(null),e.updateFakeBigSkillBtn(App.JO.fakeBigArr)},t.prototype.initEvent=function(){var e=this;e.switchBtn.addEventListener(eui.tep,e.__switchClickHandler,e),vkG.$a(UtJ.JD,e.__levelChangeHandler,e),e.chatBgImg.addEventListener(eui.tep,e.__chatClickHandler,e),vkG.$a(UtJ.IO,e.__chatDataUpdateHandler,e),e.emailBtn.addEventListener(eui.tep,e.__emailClickHandler,e),vkG.$a(UtJ.WK,e.__redPointHandler,e),vkG.$a(UtJ.NL,e.__emailListUpdateHandler,e),vkG.$a(UtJ.YK,e.__emailListUpdateHandler,e),vkG.$a(UtJ.UV,e.__emailListUpdateHandler,e),vkG.$a(UtJ.YG,e.updateFakeBigSkillBtn,e),vkG.$a(UtJ.XA,e.__emailListUpdateHandler,e),App.BL.add(e.emailBtn),App.BL.add(e.switchBtn)},t.prototype.updateBar=function(){var e=this;App.KF.newbie&&(App.KF.chapter>=StaticData.SWITCH_BAR_CH?(e.bottomView||(e.bottomView=GObj.$c(BottomToolsView)),e.skillView&&e.skillView.parent&&e.removeChild(e.skillView),e.switchBtn.visible=!0,e.barState=t.bar,e.addChild(e.bottomView)):e.addSkillView())},t.prototype.addSkillView=function(){var e=this;e.switchBtn.visible=!1,e._barState=t.skill,e.addChild(e.skillView)},t.prototype.__chatClickHandler=function(e){App.VS.open(10074)},t.prototype.__chatDataUpdateHandler=function(e){var t=this;if(1==e.op)return t.sysMsg=fvg.GVf("channel_"+e.op)+App.FQ.getFormatBulletinString(e,["[apid]"]),void t.updateChatMsg();if(e&&(2==e.op||3==e.op)&&App.FQ.isShowChatData(e)){var n=App.FQ.getFormatBulletinString(e);if(e.item&&(n=App.FQ.getShowItemString(e.item)),n+e.name!=t.chatStr){t.chatBgImg.visible=!0,t.chatStr=n+e.name;var i=n,r=e.name,a=r.indexOf(".");a>0&&(r=r.substr(a+1)),r=fvg.GVf("channel_"+e.op)+fvg.GVf("chat26",r+":");var o=App.FQ.getEmoticonPathStr(e);""!=o&&(i=fvg.GVf("chat24"));var s=t.chatMsg.unshift(r+i);s>2&&(t.chatMsg.length=2,t.sysMsg=null),t.updateChatMsg()}}},t.prototype.updateChatMsg=function(){var e=this,t=QycO.OK,n=2,i=0;e.sysMsg&&(t=e.sysMsg+"\n",n=1,i++);var r=e.chatMsg.length;i+=r,r>n&&(r=n);for(var a=0;r>a;a++)t+=e.chatMsg[a]+"\n";LgRe.UQ(e.chatTxt,t),e.updateChatBg(i)},t.prototype.updateChatBg=function(e){var t=this;t.chatBg1.source="",t.chatBg2.source="";var n=e>1;if(e)if(t.sysMsg){t.chatBg1.source="bar_json.bar_chatbg_1_png",t.chatBg1.y=15;var i=LgRe.GY(t.chatTxt,t.sysMsg);340>i&&n&&(t.chatBg2.source="bar_json.bar_chatbg_2_png",t.chatBg2.y=36)}else t.chatBg1.source="bar_json.bar_chatbg_2_png",t.chatBg1.y=14,t.chatBg2.source=n?"bar_json.bar_chatbg_2_png":"",t.chatBg2.y=37},t.prototype.__emailListUpdateHandler=function(e){var t=this;App.UY.sceneType;App.AL.hasEmails?t.emailBtn.icon=UsU.IV()?StaticData.GHj:null:t.emailBtn.icon=null,UsU.IV()?t.emailBtn.parent||t.addChild(t.emailBtn):t.emailBtn.parent&&t.emailBtn.parent.removeChild(t.emailBtn)},t.prototype.__emailClickHandler=function(e){App.VS.open(10043)},t.prototype.__levelChangeHandler=function(){var e=this;App.KF.chapter>=StaticData.SWITCH_BAR_CH&&(e.switchBtn.visible=!0,e.updateBar(),e.__redPointHandler())},t.prototype.__switchClickHandler=function(e){var n=this;n._barState==t.skill?n.barState=t.bar:n.barState=t.skill},Object.defineProperty(t.prototype,"skillList",{get:function(){var e=this;return e.skillView?e.skillView.itemList:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barState",{get:function(){return this._barState},set:function(e){var t=this;e!=t._barState&&(t._barState=e,t.updateBarState(),fNs.instance.execute(hXS.ZO,t._barState))},enumerable:!0,configurable:!0}),t.prototype.updateBarState=function(){var e=this;e.switchBtn.visible&&(e._barState==t.skill?(e.autoAttack=!1,e.skillView||(e.skillView=GObj.$c(SkillToolView)),e.skillView.parent||(egret.Tween.removeTweens(e.skillView),e.skillView.horizontalCenter=400,e.addChild(e.skillView),egret.Tween.get(e.skillView).to({horizontalCenter:0},400,egret.Ease.backIn)),e.bottomView&&e.bottomView.parent&&(egret.Tween.removeTweens(e.bottomView),e.bottomView.parent.removeChild(e.bottomView)),e.__redPointHandler()):(e.switchBtn.icon=null,e.autoAttack=!0,e.bottomView||(e.bottomView=GObj.$c(BottomToolsView)),e.bottomView.parent||(egret.Tween.removeTweens(e.bottomView),e.bottomView.horizontalCenter=400,e.addChild(e.bottomView),egret.Tween.get(e.bottomView).to({horizontalCenter:0},400,egret.Ease.backIn)),e.skillView&&e.skillView.parent&&(egret.Tween.removeTweens(e.skillView),e.skillView.parent.removeChild(e.skillView))),vkG.$d(UtJ.MP,e.autoAttack))},t.prototype.__redPointHandler=function(){var e=this;e.bottomView&&!e.bottomView.parent&&(e.switchBtn.icon=e.bottomView.isRed?StaticData.GHj:null)},t.prototype.show=function(){var e=this;e.parent||(e.initSkin(),App.FT.uiLayer.addChildAt(this,0))},t.prototype.updateFakeBigSkillBtn=function(e){var t=this,n=!1;e&&e.length>0&&(n=!0);var i=t.fakeBigSkill;if(n)i||(i=GObj.$c(FakeBigSkillView),i.x=23,i.y=22,t.fakeBigSkill=i),i&&!i.parent&&t.addChild(i);else{var r;i&&(r=i.parent)&&r.removeChild(i)}},t.skill=1,t.bar=2,t}(BarView);__reflect(BottomBtnBar.prototype,"BottomBtnBar");var BottomToolsBar=function(e){function t(){var n=e.call(this,"BottomToolsBar")||this;return n.scrollWidth=0,n.txtWidth=0,singleton(t._instance),t._instance=n,n.skinName=RRUU.$e("BottomToolsBar"),n.horizontalCenter=0,n.bottom=150,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 8},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.playing=!1,App.FQ.lastChatVO?e.__chatDataUpdateHandler(App.FQ.lastChatVO):(e.chatName.text=fvg.GVf("chat27"),e.chatTxt.text=fvg.GVf("chat28"),e.scrollGroup.x=e.chatName.x+TextUtil.measureText(e.chatName)+4)},t.prototype.__chatClickHandler=function(e){App.VS.open(10074)},t.prototype.__emailClickHandler=function(e){App.VS.open(10043)},t.prototype.__fastChatClickHandler=function(e){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.__chatClickHandler,e),vkG.$a(UtJ.IO,e.__chatDataUpdateHandler,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.__chatClickHandler,e),vkG.$r(UtJ.IO,e.__chatDataUpdateHandler,e)},t.prototype.show=function(){var e=this;e.parent||(e.initSkin(),App.FT.uiLayer.addChildAt(this,0))},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.__chatDataUpdateHandler=function(e){var t=this;if(e&&(2==e.op||3==e.op)&&App.FQ.isShowChatData(e)){var n=App.FQ.getFormatBulletinString(e);if(e.item&&(n=App.FQ.getShowItemString(e.item)),n+e.name!=t.chatStr){t.scrollGroup.visible=!0,t.chatBgImg.visible=!0,t.chatName.visible=!0,t.chatStr=n+e.name,LgRe.UQ(t.chatTxt,n),t.chatTxt.x=0,n=e.name+":",e.fid&&(n=fvg.GVf(30,fvg.GVf("martialart_name_"+e.fid))+fvg.GVf("chat26",n)),t.chatName.textFlow=LgRe.OQ(n);var i=App.FQ.getEmoticonPathStr(e),r=e.text;""!=i&&(r=fvg.GVf("chat24"),t.chatTxt.text=r),t.scrollWidth=280,t.scrollGroup.width=t.scrollWidth,t.txtWidth=TextUtil.measureText(t.chatTxt),t.txtWidth>t.scrollGroup.width&&!t.playing?(t.playing=!0,App.HA.registeRender(t.__enterFrameHandler,t)):t.playing&&(t.playing=!1,App.HA.unRegisteRender(t.__enterFrameHandler,t))}}},t.prototype.__enterFrameHandler=function(){var e=this;return e.chatTxt.x<=-e.txtWidth?void(e.chatTxt.x=e.scrollWidth):void(e.chatTxt.x-=1)},t.prototype.dispose=function(){var e=this;e.removeEvent(),e.hide()},t._instance=null,t}(BarView);__reflect(BottomToolsBar.prototype,"BottomToolsBar");var BottomToolsView=function(e){function t(){var t=e.call(this,"BottomToolsView")||this;return t.yg=0,t.wb=!1,t.skinName=RRUU.$e(t.id),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.y=65,e.hm()},t.prototype.initEvent=function(){var e=this;e.familyBtn.addEventListener(eui.tep,e.ci,e),e.martialartBtn.addEventListener(eui.tep,e.jb,e),e.wulinBtn.addEventListener(eui.tep,e.pv,e),e.goalBtn.addEventListener(eui.tep,e.gr,e),vkG.$a(UtJ.WSU,e.ec,e),vkG.$a(UtJ.BI,e.ec,e),vkG.$a(UtJ.IYL,e.xj,e),vkG.$a(UtJ.KSQ,e.hm,e),vkG.$a(UtJ.IN,e.__pointChangeHandler,e),vkG.$a(UtJ.QU,e.__pointChangeHandler,e),vkG.$a(UtJ.JV,e.__pointChangeHandler,e),vkG.$a(UtJ.R_,e.xj,e),vkG.$a(UtJ.BC,e.xj,e),vkG.$a(UtJ.RU,e.xj,e),vkG.$a(UtJ.DV,e.ht,e),vkG.$a(UtJ.BGK,e.ub,e),vkG.$a(UtJ.TA,e.ub,e),vkG.$a(UtJ.ZL,e.ub,e),vkG.$a(UtJ.RZ,e.ub,e),vkG.$a(UtJ.XA,e.hm,e),vkG.$a(UtJ.TB,e.p_,e),vkG.$a(UtJ.I_,e.p_,e),App.BL.add(e.martialartBtn),App.BL.add(e.familyBtn),App.BL.add(e.wulinBtn),App.BL.add(e.goalBtn),App.AJ.add(KqZ.WO,e.jf,e)},t.prototype.__pointChangeHandler=function(){var e=App.KF.gold,t=App.KF.obgp,n=App.ME.grade||0;XCA.AQS.UFA(34,1,1);if(App.BG.turnupInfo.grade>=45){e>Math.floor(153633*Math.pow(n+1,2)+2487617)&&t>Math.floor(153633*Math.pow(n+1,2)+2487617)}},t.prototype.initData=function(){var e=this;e.ub(),e.ht(),e.jf()},t.prototype.jh=function(e){pba.instance.openBBS()},t.prototype.gr=function(e){App.VS.open(10069)},t.prototype.ci=function(e){var t=App.XW.familyInfo.id||0;return 0>=t?void App.VS.open(10073):void App.VS.open(10053)},t.prototype.ub=function(){var e=this;e.familyBtn.icon=UsU.E_()?StaticData.GHj:null,e.qw()
},t.prototype.jf=function(){var e=this;e.martialartBtn.icon=App.AJ.getRedById(KqZ.WO)?StaticData.GHj:null,e.qw()},t.prototype.jb=function(e){rRcz.QF()},t.prototype.pe=function(e){rRcz.TM()},t.prototype.pv=function(e){rRcz.HL()},t.prototype.ht=function(){this.xj()},t.prototype.xj=function(){var e=this;e.wulinBtn.icon=UsU.KV()?StaticData.GHj:null,e.p_()},t.prototype.p_=function(){this.goalBtn.icon=App.AJ.getRedById(KqZ.YD)?StaticData.GHj:null},t.prototype.up=function(e){rRcz.JW()},t.prototype.hk=function(e){App.VS.open(10011)},t.prototype.ec=function(){var e=this;rRcz.SS(17,!1)&&(e.p_(),e.qw())},t.prototype.hm=function(e){var t=this;t.wulinBtn.parent&&t.wulinBtn.parent.removeChild(t.wulinBtn),t.ub()},t.prototype.qw=function(){var e=this;if(e.wb){if(e.familyBtn.icon)return;e.wb=!1,vkG.$d(UtJ.WK)}},Object.defineProperty(t.prototype,"isRed",{get:function(){return this.wb},enumerable:!0,configurable:!0}),t}(BaseUI);__reflect(BottomToolsView.prototype,"BottomToolsView");var ChapterOpenView=function(e){function t(){var t=e.call(this,"ChapterOpenView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.iconview=e.growRewardBtn.iconview,e.iconview.touchEnabled=!0,e.ad_mc=App.KB.getUIEffect(gYq.LK),e.ad_mc.x=-38,e.ad_mc.y=-50,e.addChildAt(e.ad_mc,0),e.mx=[]},t.prototype.initData=function(){var e=this;e.pi(),e.kt()},t.prototype.initEvent=function(){var e=this;e.growRewardBtn.addEventListener(eui.tep,e.fb,e),vkG.$a(UtJ.JD,e.kt,e),vkG.$a(UtJ.T_,e.kt,e),App.BL.add(e.growRewardBtn)},t.prototype.growIcon=function(){return this.growRewardBtn},t.prototype.removeEvent=function(){var e=this;e.growRewardBtn.removeEventListener(eui.tep,e.fb,e),vkG.$r(UtJ.JD,e.kt,e),vkG.$r(UtJ.T_,e.kt,e),App.BL.remove(e.growRewardBtn)},t.prototype.pi=function(){var e=this,t=XCA.CG(IDU.QX);if(t){var n=t.split(QycO.PK);e.fj=n.length;for(var i=0,r=e.fj;r>i;i++){var a=n[i],o=a.split(QycO.XP);if(o){var s=parseInt(o[0]);e.mx.push(s)}}}},t.prototype.fb=function(e){rRcz.PW()},t.prototype.kt=function(){var e=this;e.eq=App.KF.rewardState;var t=e.mx[e.eq];void 0!=t&&(e.iconview.source=kLM.KO(t)),e.em();var n=e.fj,i=e.eq>=n;i&&GObj.$d(e)},t.prototype.em=function(){var e=this;e.progTxt.text=fvg.GVf("public022",App.KF.chapter,e.mx[e.eq]),e.progBar.value=Math.min(int(App.KF.chapter/e.mx[e.eq]*100),100),e.growRewardBtn.icon=App.KF.chapter>=e.mx[e.eq]?StaticData.GHj:null,e.nameTxt.text=fvg.GVf("rewardChapter01",e.mx[e.eq]),""==e.nameTxt.text?e.nambgImg.visible=!1:e.nambgImg.visible=!0,App.KF.chapter>=e.mx[e.eq]&&e.addChildAt(e.ad_mc,0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.growRewardBtn),t.growRewardBtn=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.iconview),t.iconview=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.ad_mc),t.ad_mc=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ChapterOpenView.prototype,"ChapterOpenView");var ChatNoticeView=function(e){function t(){var t=e.call(this,"ChatNoticeView")||this;return t._startTime=0,t.initNotice(),t}return __extends(t,e),t.prototype.initNotice=function(){var e=this;e.width=371,e.height=166,e._bgBmp=GObj.$c(egret.Bitmap),e._bgBmp.texture=RES.getRes("core_json.notice_bg_png"),e.addChild(e._bgBmp),e._txt=GObj.$c(eui.Label),e._txt.y=60,e._txt.horizontalCenter=0,e._txt.textColor=Color.SE,e._txt.size=18,e._txt.lineSpacing=3,e.addChild(e._txt),e._closeBtn=GObj.$c(eui.Button),e._closeBtn.addEventListener(eui.tep,e._closeView,e),e._closeBtn.skinName=RRUU.$e("SimpleButton_1"),e._closeBtn.horizontalCenter=0,e._closeBtn.y=120,e._closeBtn.label=fvg.GVf("7"),e.addChild(e._closeBtn)},Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.show=function(e){e&&this.$show(e)},t.prototype.$show=function(e){var t=this,n=e.text||"";n=n.replace(/\\n/g,"\n"),n.indexOf("</")>=0?t._txt.textFlow=LgRe.OQ(n):t._txt.text=n,t._startTime=GApp.timer,t.x=hCs.stageWidthHalf-166,t.y=240,t.parent||alvJ.instance.addToLayer(this,alvJ.RX,alvJ.SF),App.FQ.addChatVoToPools(e)},t.prototype._closeView=function(){GObj.$d(this)},t.prototype.dispose=function(){var e=this;t._instance=null,GObj.$d(e._bgBmp),e._bgBmp=null,GObj.$d(e._txt),e._txt=null,e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(ChatNoticeView.prototype,"ChatNoticeView");var FakeBigSkillItem=function(e){function t(){var t=e.call(this)||this;t.hn=0,t.ft=0;var n=RRUU.$s("FakeBigSkillItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._z=App.KB.getUIEffect(gYq.ON),e._z.x=-20,e._z.y=-35,e.iconView=e.clickBtn.iconView,e.coverBmp=e.clickBtn.coverBmp,e.cdTxt=e.clickBtn.cdTxt},t.prototype.initEvent=function(){var e=this;App.HA.registeEnterFrame2(e.uk,e),e.addEventListener(eui.RFS,e.bl,e),e.addEventListener(eui.tep,e.lt,e)},t.prototype.removeEvent=function(){var e=this;App.HA.unRegisteEnterFrame2(e.uk,e),e.removeEventListener(eui.RFS,e.bl,e),e.removeEventListener(eui.tep,e.lt,e)},t.prototype.updateData=function(){this.dataChanged()},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.bv=e.data,e.bv&&(e.iconView.icon=kLM.FK(gLw.getIconIdByTid(e.bv.tid))))},t.prototype.uk=function(){var e=this;e.bv&&e.stage&&(e.bv.wait||(e.ft=e.bv.atkTime-GApp.timer),e.progress=e.ft/e.bv.atkcd,e.ft>0?e.cdTxt.text=int(.001*e.ft).toString():e.cdTxt.text="")},Object.defineProperty(t.prototype,"progress",{get:function(){return this.hn},set:function(e){var t=this;if(t.hn!=e){if(!e||.01>e)return void t.qq(0);t.qq(e);var n=t.hn-e;.01>n&&n>-.01||(t.hn=e)}},enumerable:!0,configurable:!0}),t.prototype.qq=function(e){var t=this,n=int(360*(-e+1));t.sk=DrawUtil.ET(0,n,36,t.sk),t.coverBmp.mask||(t.coverBmp.mask=t.sk,t.sk.x=39,t.sk.y=39,t.addChild(t.sk)),1===e?t.coverBmp.visible=!1:t.coverBmp.visible=!0,e>0?t._z&&t._z.parent&&t.removeChild(t._z):t._z&&!t._z.parent&&t.addChild(t._z)},t.prototype.canSlt=function(){var e=this;return e.bv?e.ft>0?(MessageTipManager.instance.show(fvg.GVf("skilltool1")),!1):(e.ft=e.bv.atkcd,e.bv.wait=!0,e.uk(),!0):!1},t.prototype.lt=function(){var e=this;e.data&&e.canSlt()&&PlayerSKillAI.instance.addSkill(e.data.id)},t.prototype.bl=function(e){},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.iconView),e.iconView=null,e.dispose()},t}(BaseItemRenderer);__reflect(FakeBigSkillItem.prototype,"FakeBigSkillItem");var FakeBigSkillView=function(e){function t(){var t=e.call(this,"FakeBigSkillView")||this;return t.skinName=RRUU.$e(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ct=[],e.jc=PlayerSKillAI.instance,e.datas=GObj.$c(eui.ArrayCollection),e.skillGroup.dataProvider=e.datas,e.skillGroup.itemRenderer=FakeBigSkillItem,e.fakeSkill=GObj.$c(FakeBigSkillItem),e.fakeSkill.x=0,e.fakeSkill.y=0,e.addChildAt(e.fakeSkill,2)},t.prototype.initEvent=function(){var e=this;vkG.$a(HUtJ.HEARTBEAT,e.ek,e),vkG.$a(UtJ.YG,e.bs,e),e.fakeSkill.addEventListener(eui.tep,e.rv,this,!1,-1)},t.prototype.initData=function(){var e=this;e.cf(),e.dn()},t.prototype.ek=function(){var e,t,n=this,i=n.jc.fakeBigSkillDic;for(var r in i)if(e=i[r],e.wait||(t=e.atkTime-GApp.timer),0>t&&(StaticData.AUTO_FAKE_SKILL&&n.jc.addSkill(e.id),n.dc(e)))return;n.bp||n.dc(e)},t.prototype.cf=function(){var e=this,t=e.jc.fakeBigSkillDic,n=[];for(var i in t){var r=t[i];n.push(r)}e.datas.replaceAll(n)},t.prototype.bs=function(){this.cf()},t.prototype.dc=function(e){var t=this;if(e!==t.bp){var n=t.fakeSkill,i=t.bp;if(i&&!i.wait){var r=void 0;if(r=i.atkTime-GApp.timer,0>r)return}return t.bp=e,n.data=e,n.updateData(),!0}},t.prototype.dn=function(){var e=this,t=!1;t?e.tm():e.iz()},t.prototype.tm=function(){var e=this;e.skillBg.visible=!0,e.scroller.parent||e.addChild(e.scroller)},t.prototype.iz=function(){var e=this;e.skillBg.visible=!1,e.scroller.parent&&e.removeChild(e.scroller)},t.prototype.rv=function(){this.ek()},Object.defineProperty(t.prototype,"itemList",{get:function(){return this.ct},enumerable:!0,configurable:!0}),t}(BaseUI);__reflect(FakeBigSkillView.prototype,"FakeBigSkillView");var FightAddView=function(e){function t(){var t=e.call(this)||this;return t.playing=!1,t.gh=0,t.dp(),t.rn(),t}return __extends(t,e),t.prototype.dp=function(){var e=this;e.touchEnabled=e.touchChildren=!1,e._bgImg=GObj.$c(eui.Image),e._bgImg.source="game_json.fighting_png",e.addChild(e._bgImg),e._fightingView=GObj.$c(NumberView),e._fightingView.y=33,e.addChild(e._fightingView),e._addNumView=GObj.$c(NumberView),e._addNumView.y=30,e.addChild(e._addNumView),e.pk=GObj.$c(MovieEffect),e.pk.x=-54,e.pk.y=38,e.addChild(e.pk)},t.prototype.rn=function(){},t.prototype.yt=function(){},t.prototype.show=function(e,t,n){var i=this;if(App.KF.newbie&&!i.playing){i.playing=!0,i.gh=0,i.ge=e,i.fq=t,i.ik=n,i.hp=int(i.ge/40)||1,i.ob=App.BG.playerAttrsInfo.cap-i.ge;var r,a=App.BG.playerAttrsInfo.cap;i.ge<5e4?(r=bRC.NO,i.jl=0):i.ge>=5e4&&i.ge<1e5?(r=bRC.OI,i.jl=1):i.ge>=1e5&&i.ge<5e5?(r=bRC.GS,i.jl=2):i.ge>=5e5&&i.ge<1e6?(r=bRC.KNJ,i.jl=3):i.ge>1e6&&(r=bRC.TK,i.jl=4),hFO.instance.getNumberView(bRC.UA,a.toString(),-12,i._fightingView),hFO.instance.getNumberView(r,"+"+i.ge,-2,i._addNumView);var o=.5*-(76+i._fightingView.width+i._addNumView.width);i.pk.x=o+84,i._bgImg.x=o,i._fightingView.x=o+76,i._addNumView.x=i._fightingView.x+i._fightingView.width-6,i._addNumView.visible=!1,egret.Tween.removeTweens(i._addNumView),i.pk.play(gYq.RV,100,1),alvJ.instance.addToLayer(this,alvJ.YN),App.HA.registeEnterFrame(i.nt,i)}},t.prototype.nt=function(){var e=this;if(e.gh++,e.gh>40)return App.HA.unRegisteEnterFrame(e.nt,e),void e.ta();var t="+"+(e.ob+e.hp*e.gh);hFO.instance.getNumberView(bRC.UA,t,-12,e._fightingView)},t.prototype.ta=function(){var e=this,t="+"+App.BG.playerAttrsInfo.cap;hFO.instance.getNumberView(bRC.UA,t,-12,e._fightingView),e._addNumView.visible=!0,e._addNumView.y=40-5*e.jl,egret.Tween.get(e._addNumView).to({y:30-5*e.jl},100),ClockManager.setTimeout(e.vx,this,2e3)},t.prototype.vx=function(e){var t=this;t.playing=!1,t.parent&&t.parent.removeChild(t),t.fq&&t.fq.call(t.ik)},t}(egret.DisplayObjectContainer);__reflect(FightAddView.prototype,"FightAddView");var FirstChargeTip=function(e){function t(){var t=e.call(this,"FirstChargeTip")||this,n=RRUU.$s("FirstChargeTip");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.tipImage.scaleX=.7,e.tipImage.scaleY=.7},t.prototype.initEvent=function(){var e=this;e.tipImage.addEventListener(eui.tep,e.jh,e),vkG.$a(UtJ.S_P,e.aq,e)},t.prototype.removeEvent=function(){var e=this;e.tipImage.removeEventListener(eui.tep,e.jh,e),vkG.$r(UtJ.S_P,e.aq,e)},t.prototype.jh=function(){rRcz.SZ()},t.prototype.aq=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.tipImage),t.tipImage=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FirstChargeTip.prototype,"FirstChargeTip");var FuncOpenView=function(e){function t(){var t=e.call(this,"FuncOpenView")||this;t._d=239;var n=RRUU.$s("FuncOpenViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.te=App.KB.getUIEffect(gYq.PG,100,0,!1),e.te.verticalAlign=egret.VerticalAlign.MIDDLE,e.te.horizontalAlign=egret.HorizontalAlign.CENTER,e.te.verticalCenter=0,e.te.horizontalCenter=0,e.iconGroup.addChildAt(e.te,0)},t.prototype.initData=function(){this.ro()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.AFF,e.ro,e),vkG.$a(UtJ.LOI,e.ro,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.AFF,e.ro,e),vkG.$r(UtJ.LOI,e.ro,e)},t.prototype.ro=function(){this.visible=!fNs.instance.isNoviceing},t.prototype.oe=function(){var e=this;if(e.CSo&&e.ig){e.kw=GObj.$c(BaseUpgradeIcon),e.kw.upgradeId=e.ig.data,e.iconGroup.addChild(e.kw),e.titleImg.source="funopen_json.funopen_type"+e.ig.type+"_png",e.titleImg.source&&(e.titleImg.x=10+(e._d-e.titleImg.width)/2),usable(e.ig.name)&&(e.nameTxt.text=e.ig.name),e.iconGroup.scaleX=e.iconGroup.scaleY=1.5,e.iconGroup.alpha=0;var t=App.FT.getStageWidth();e.horizontalCenter=-(t/2+e.width),egret.Tween.get(e).to({horizontalCenter:0},300,egret.Ease.backInOut).call(e.mr,e)}},Object.defineProperty(t.prototype,"backScrollRect",{set:function(e){},enumerable:!0,configurable:!0}),t.prototype.mr=function(){var e=this;egret.Tween.get(e.iconGroup).to({alpha:1,scaleX:1,scaleY:1},200).call(e.wh,e)},t.prototype.wh=function(){var e=this;e.addEventListener(eui.tep,e.az,e),egret.Tween.get(e).wait(5e3).call(e.us,e)},t.prototype.us=function(){var e=this,t=App.FT.getStageWidth();egret.Tween.get(e).to({horizontalCenter:t/2+e.width/2},300,egret.Ease.backInOut).call(e.dispose,e)},t.prototype.show=function(e){var t=this;t.ig=e,t.oe(),alvJ.instance.addToLayer(this,alvJ.YN)},t.prototype.az=function(e){this.us()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.removeEventListener(eui.tep,t.az,t),egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.titleImg),egret.Tween.removeTweens(t.iconGroup),egret.Tween.removeTweens(t.kw),GObj.$d(t.kw),t.kw=null,GObj.$d(t.iconGroup),t.iconGroup=null,t.te&&(t.te.stop(),GObj.$d(t.te)),t.te=null,t.ig=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FuncOpenView.prototype,"FuncOpenView");var FuncPreviewBar=function(e){function t(){var n=e.call(this,"FuncPreviewBar")||this;singleton(t._instance),t._instance=n;var i=RRUU.$s("FuncPreviewBarSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 64},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.left=0,e.bottom=166,e.rewardChapter=[]},t.prototype.initEvent=function(){var e=this;e.contentGroup.addEventListener(eui.tep,e.__preViewClick,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.KV,e.__rewardStateHandler,e),vkG.$a(UtJ.JD,e.__updateChapterHandler,e),App.BL.add(e.iconView)},t.prototype.removeEvent=function(){var e=this;e.contentGroup.removeEventListener(eui.tep,e.__preViewClick,e),vkG.$r(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$r(UtJ.KV,e.__rewardStateHandler,e),vkG.$r(UtJ.JD,e.__updateChapterHandler,e),App.BL.remove(e.iconView)},t.prototype.initData=function(){var e=this;e.initConfig(),e.__rewardStateHandler()},Object.defineProperty(t.prototype,"conGroup",{get:function(){return this.contentGroup},enumerable:!0,configurable:!0}),t.prototype.initConfig=function(){for(var e=[],t=XCA.CG(IDU.LU).split(QycO.XP),n=t.length,i=0;n>i;i++){var r=t[i];e.push(r)}this.rewardChapter=e},t.prototype.__rewardStateHandler=function(){var e=this;e.rewardIndex=App.KF.vipcard,e.updatePro()},t.prototype.__updateChapterHandler=function(){App.XT.vipInfo.vipGrade;this.updatePro()},t.prototype.updatePro=function(){var e=this,t=e.rewardChapter[e.rewardIndex];t?(e.levelTxt.visible=!0,e.levelTxt.text=fvg.GVf("public091",t),e.levelTxt.textColor=App.KF.chapter<e.rewardChapter[e.rewardIndex]?Color.XB:Color.SE,e.redImg.source=App.KF.chapter>=e.rewardChapter[e.rewardIndex]?StaticData.GHj:null):(e.levelTxt.visible=!1,e.redImg.source="",e.iconView.source="bar_json.bar_boss_png",e.iconView.x=-8,e.iconView.y=6)},t.prototype.__preViewClick=function(){var e=this,t=e.rewardChapter[e.rewardIndex];t?App.VS.open(10121):App.VS.open(10050)},t.prototype.show=function(){var e=this;e.isShow=!0,e.updateDisplayState()},t.prototype.hide=function(){var e=this;e.isShow=!1,e.updateDisplayState()},t.prototype.updateDisplayState=function(){var e=this;e.isShow?e.parent||alvJ.instance.addToLayer(this,alvJ.WL):e.parent&&e.parent.removeChild(e)},t.prototype.__sceneSwitchHandler=function(){var e=this;1==App.UY.sceneType?e.show():e.hide()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.levelTxt),t.levelTxt=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.contentGroup),t.contentGroup=null,GObj.$d(t.redImg),t.redImg=null,e.prototype.dispose.call(this)},t}(BarView);__reflect(FuncPreviewBar.prototype,"FuncPreviewBar");var LeftToolsBar=function(e){function t(){var n=e.call(this,"LeftToolsBar")||this;return n.showFirstCharge=!1,n.tid=0,n.fActBtnItemHight=0,singleton(t._instance),t._instance=n,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 256},enumerable:!0,configurable:!0}),t.prototype.initSkin=function(){var e=this;e._initSkin||(e._initSkin=!0,e.skinName=RRUU.$e("LeftToolsBar"))},t.prototype.initView=function(){var e=this;e.growRewardBtn=GObj.$c(ChapterOpenView),e.addChild(e.growRewardBtn),e.firstChargeMc=App.KB.getUIEffect(gYq.CBY),e.firstChargeMc.x=0,e.firstChargeMc.y=0,e.firstChargeBtn.groupDisplay.addChild(e.firstChargeMc)},t.prototype.initData=function(){this.updateView()},t.prototype.initEvent=function(){var e=this;e.growRewardBtn.once(UtJ.ST,e.__disposeGrow,e),e.firstChargeBtn.addEventListener(eui.tep,e.__firstChargeClick,e),vkG.$a(UtJ.PP,e.__refresh,e),vkG.$a(UtJ.JD,e.__updateChapterHandler,e),vkG.$a(UtJ.NB,e.__refresh,e),vkG.$a(UtJ.S_P,e.__closeHandler,e),vkG.$a(UtJ.YUJ,e.__completeTask,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.PHE,e.funny_FestivalAct_updatetAct,e),vkG.$a(UtJ.YJ,e.__hidePayUIHandler,e)},t.prototype.removeEvent=function(){var e=this;e.firstChargeBtn.removeEventListener(eui.tep,e.__firstChargeClick,e),vkG.$r(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$r(UtJ.PP,e.__refresh,e),vkG.$r(UtJ.JD,e.__updateChapterHandler,e),vkG.$r(UtJ.NB,e.__refresh,e),vkG.$r(UtJ.S_P,e.__closeHandler,e),vkG.$r(UtJ.YUJ,e.__completeTask,e),vkG.$r(UtJ.PHE,e.funny_FestivalAct_updatetAct,e),vkG.$r(UtJ.YJ,e.__hidePayUIHandler,e)},t.prototype.__hidePayUIHandler=function(){var e=this;IoG.XB(e.firstChargeBtn),e.updateFristRechargeTip()},t.prototype.__completeTask=function(e){var t=this;t.isOpenFirstCharge(e),t.isOpenFirstChargeTip(e)},t.prototype.__firstChargeClick=function(e){if(!IoG.EZ()){var t=App.XT.vipInfo.vipGrade;2==App.MG.getFirstChargeState()?t<StaticData.FGREAT_SVIP_LV_4?App.VS.open(10144):t<StaticData.FGREAT_SAINT_HIDE_LV&&App.VS.open(10128):rRcz.SZ()}},t.prototype.isOpenFirstCharge=function(e){},t.prototype.isOpenFirstChargeTip=function(e){var t=this,n=[25,90,118,175,386];t.tid!=e&&-1!==n.indexOf(e)&&t.updateFristRechargeTip()},t.prototype.isFirstRecharge=function(){var e=App.MG.getFirstChargeState();return e},t.prototype.__refresh=function(){var e=this,t=App.XT.vipInfo.vipGrade;e.firstChargeBtn.icon=1==App.MG.getFirstChargeState()?StaticData.GHj:null,2==App.MG.getFirstChargeState()&&(t<StaticData.FGREAT_SVIP_LV_4?e.firstChargeMc.start(gYq.BR,120):t<StaticData.FGREAT_SAINT_HIDE_LV?e.firstChargeMc.start(gYq.NX,120):e.firstChargeBtn&&e.firstChargeBtn.parent&&IoG.XB(e.firstChargeBtn,!1)),e.updateChangeSize()},t.prototype.__updateChapterHandler=function(){var e=this;App.XT.vipInfo.vipGrade;e.growRewardUpdate(),e.updateFirstChargeBtn(),e.__refresh()},t.prototype.growRewardUpdate=function(){var e=this;if(e.growRewardBtn){var t=XCA.CG(IDU.QX).split(QycO.PK),n=t.length;App.KF.rewardState>=n;App.KF.rewardState>=n?e.growRewardBtn.visible=!1:e.growRewardBtn.visible=!0}},t.prototype.updateFristRechargeTip=function(){var e=this;!e.isFirstRecharge()&&e.showFirstCharge?(e.firstChargeTip||(e.firstChargeTip=GObj.$c(FirstChargeTip)),e.firstChargeTip.parent||e.addChild(e.firstChargeTip)):e.firstChargeTip&&e.firstChargeTip.parent&&(GObj.$d(e.firstChargeTip),e.firstChargeTip=null),e.firstChargeTip&&(e.firstChargeTip.visible=!IoG.EZ())},t.prototype.updateFirstChargeBtn=function(){var e=this;App.KF.chapter<3?e.showFirstCharge=!1:e.showFirstCharge=!0,e.updateFirstCharge(),e.updateFristRechargeTip(),e.__refresh()},t.prototype.updateFirstCharge=function(){var e=this;e.showFirstCharge?e.firstChargeBtn&&IoG.XB(e.firstChargeBtn,!0):e.firstChargeBtn&&IoG.XB(e.firstChargeBtn,!1)},t.prototype.__closeHandler=function(){this.firstChargeTip=null},t.prototype.updateView=function(){var e=this;e.CSo&&(e.updateFirstChargeBtn(),e.growRewardUpdate(),e.updateDynamicBtn(),e.updateChangeSize())},t.prototype.funny_FestivalAct_updatetAct=function(){this.updateView()},t.prototype.updateDynamicBtn=function(){var e=this;App.VM.isExistDynamicFrame(1)?(e.dynamicBtn||(e.dynamicBtn=GObj.$c(DynamicBtn)),e.dynamicBtn.parent||e.addChild(e.dynamicBtn),e.fActBtnItemHight=78):(e.dynamicBtn&&e.dynamicBtn.parent&&e.removeChild(e.dynamicBtn),e.fActBtnItemHight=0)},t.prototype.updateChangeSize=function(){var e=this;e.parent&&(e.hNum=0,e.hNum+=e.fActBtnItemHight,e.firstChargeBtn.visible&&(e.firstChargeBtn.y=e.hNum+10,e.hNum+=90,e.firstChargeTip&&(e.firstChargeTip.x=e.firstChargeBtn.x+105,e.firstChargeTip.y=e.firstChargeBtn.y)),e.growRewardBtn&&e.growRewardBtn.visible&&(e.growRewardBtn.y=e.hNum+25,e.hNum+=e.growRewardBtn.height),e.height=e.hNum,e.bottom=350)},t.prototype.__sceneSwitchHandler=function(){var e=this;1===App.UY.sceneType?e.show():e.hide()},t.prototype.show=function(){var e=this;e.parent||(e.initSkin(),App.FT.uiLayer.addChildAt(this,0));var t=e.firstChargeBtn;t&&t.parent&&(t.parent.removeChild(t),e.addChild(t),e.updateChangeSize())},t.prototype.hide=function(){var t=this;e.prototype.hide.call(this);var n=t.firstChargeBtn;n&&n.parent&&t.isMapShow()&&(n.parent.removeChild(n),t.updateChangeSize(),n.x+=t.x,n.y+=t.y,App.FT.uiLayer.addChildAt(n,0))},t.prototype.isMapShow=function(){var e=App.UY.sceneType,t=!0;switch(e){case 41:case 10:t=!1}return t},t.prototype.__disposeGrow=function(){this.growRewardBtn=null},t.prototype.dispose=function(){var e=this;e.removeEvent(),e.hide()},t._instance=null,t}(BarView);__reflect(LeftToolsBar.prototype,"LeftToolsBar");var MainToolBar=function(e){function t(){var n=e.call(this,"MainToolBar")||this;return singleton(t._instance),t._instance=n,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 1},enumerable:!0,configurable:!0}),t.prototype.initSkin=function(){var e=this;e._initSkin||(e._initSkin=!0,e.skinName=RRUU.$e("MainToolBar"),e.bottom=0,e.horizontalCenter=0)},t.prototype.initView=function(){var e=this;e.touchEnabled=!1,GourmetGoodsBar.instance,RewardsGoodsBar.instance,ChapterIncomeBar.instance,TopBulletinBar.instance,e.magic_btm_mc=App.KB.getUIEffect(gYq.FD),e.magic_btm_mc.x=-5,e.magic_btm_mc.y=0,e.magicWeaponBtn.groupDisplay.addChild(e.magic_btm_mc),e.magic_mc=App.KB.getUIEffect(gYq.PC),e.magic_mc.x=-2,e.magic_mc.y=-35,e.magicWeaponBtn.groupDisplay.addChild(e.magic_mc),App.KF.chapter<StaticData.HIDE_BASE_CH&&FakeBulletinManager.instance,e._bagPos={x:0,y:0},RES.getResAsync("bar_json.bag_png",e.__resCompleteHandler,e),e.roleBtn.sprintImg.visible=4==App.AT.currDay},t.prototype.initEvent=function(){var e=this;e.magicWeaponBtn.addEventListener(eui.tep,e.__magicWeaponClickHandler,e),e.roleBtn.addEventListener(eui.tep,e.__roleBtnClickHandler,e),e.storeBtn.addEventListener(eui.tep,e.__storeBtnClickHandler,e),e.skillBtn.addEventListener(eui.tep,e.__skillBtnClickHandler,e),e.cardBtn.addEventListener(eui.tep,e.__cardBtnClickHandler,e),e.bagBtn.addEventListener(eui.tep,e.__bagBtnClickHandler,e),e.followBtn.addEventListener(eui.tep,e.__followBtnClickHandler,e),e.oneKeySmltingBtn.addEventListener(eui.tep,e.__onekeySmeltingHandler,e),vkG.$a(HUtJ.RESIZE,e.__resizeHandler,e),vkG.$a(UtJ.DV,e.__goodsUpdateHandler,e),vkG.$a(UtJ.NM,e.__knightInfoHandler,e),vkG.$a(UtJ.RV,e.__knightInfoHandler,e),vkG.$a(UtJ.IZC,e.__knightInfoHandler,e),vkG.$a(UtJ.HL,e.exeChange,e),vkG.$a(UtJ.RCV,e.magicBladeRed,e),vkG.$a(UtJ.TCN,e.magicBladeRed,e),vkG.$a(UtJ.CV,e.magicBladeRed,e),App.AJ.add(KqZ.PY,e.__followBtnRedPoint,e),App.AJ.add(KqZ.KJ,e.__followBtnRedPoint,e),App.AJ.add(KqZ.MU,e.__followBtnRedPoint,e),App.AJ.add(KqZ.LK,e.__cardRedPointUpdateHandler,e),App.AJ.add(KqZ.YY,e.__goodsUpdateHandler,e),App.AJ.add(KqZ.BT,e.__culUpdateHandler,e),App.BL.add(e.magicWeaponBtn),App.BL.add(e.roleBtn),App.BL.add(e.storeBtn),App.BL.add(e.skillBtn),App.BL.add(e.cardBtn),App.BL.add(e.bagBtn),App.BL.add(e.followBtn),App.BL.add(e.oneKeySmltingBtn)},t.prototype.initData=function(){var e=this;e.__resizeHandler(),e.__culUpdateHandler(),e.__goodsUpdateHandler(null),e.__cardRedPointUpdateHandler(),e.__followBtnRedPoint(),e.exeChange()},t.prototype.__resCompleteHandler=function(){this.countBagPos()},t.prototype.__followBtnRedPoint=function(){var e=this;e.followBtn.icon=App.AJ.getRedById(KqZ.PY)||App.AJ.getRedById(KqZ.KJ)||App.AJ.getRedById(KqZ.MU)?StaticData.GHj:null,e.followBtn.sprintImg.visible=3==App.AT.currDay||2==App.AT.currDay},t.prototype.__resizeHandler=function(){this.countBagPos()},t.prototype.countBagPos=function(){var e=this;e.localToGlobal();e._bagPos.x=.5*(hCs.stageWidth-e.width)+e.bagBtn.x+.5*e.bagBtn.width,e._bagPos.y=hCs.stageHeight-e.height+e.bagBtn.y+.5*e.bagBtn.height},t.prototype.__goodsUpdateHandler=function(e){var t=this;t.roleBtn.icon=UsU.QY()?StaticData.GHj:null,t.bagBtn.icon=UsU.BO()?StaticData.GHj:null,t.storeBtn.icon=App.AJ.getRedById(KqZ.YY)?StaticData.GHj:null,App.HG.checkStoreUpHander(),t.__culUpdateHandler(),t.checkBagFull(),t.magicBladeRed()},t.prototype.exeChange=function(){var e=this,t=App.KF.grade,n=GeneralCompute.HE(t),i=GeneralCompute.HE(t+1),r=App.KF.gp-n<0?0:App.KF.gp-n,a=i-n;e.exeProg.value=r/a*100,e.exeTxt.text=fvg.GVf("beauty17",r,a)},t.prototype.__knightInfoHandler=function(e){this.roleBtn.icon=UsU.QY()?StaticData.GHj:null},t.prototype.__cardRedPointUpdateHandler=function(){this.cardBtn.icon=App.AJ.getRedById(KqZ.LK)},t.prototype.__culUpdateHandler=function(){this.skillBtn.icon=App.AJ.getRedById(KqZ.BT)?StaticData.GHj:null},t.prototype.checkBagFull=function(){var e=App.BG.emptyEquipBagSize<=StaticData.CHECK_BAG_SIZE;this.oneKeySmltingBtn.visible=e},t.prototype.magicBladeRed=function(){var e=this;e.magicWeaponBtn.icon=UsU.VP()?StaticData.GHj:"",e.magicWeaponBtn.sprintImg.visible=1==App.AT.currDay||5==App.AT.currDay},t.prototype.__onekeySmeltingHandler=function(e){App.FK.UrC()},t.prototype.__magicWeaponClickHandler=function(e){rRcz.PT()},t.prototype.__roleBtnClickHandler=function(e){App.VS.openMain(10009)},t.prototype.__storeBtnClickHandler=function(e){App.VS.openMain(10033)},t.prototype.__skillBtnClickHandler=function(e){App.VS.openMain(10012)},t.prototype.__cardBtnClickHandler=function(e){rRcz.VJ()},t.prototype.__bagBtnClickHandler=function(e){App.VS.openMain(10019)},t.prototype.__followBtnClickHandler=function(e){App.VS.openMain(10042)},Object.defineProperty(t.prototype,"bagPos",{get:function(){return this._bagPos},enumerable:!0,configurable:!0}),t}(BarView);__reflect(MainToolBar.prototype,"MainToolBar");var ResourcesBar=function(e){function t(){var n=e.call(this,"ResourcesBar")||this;return n._count=0,n.currTotalGp=0,n.nextTotalGp=0,singleton(t._instance),t._instance=n,n.top=0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initSkin=function(){var e=this;e._initSkin||(e._initSkin=!0,e.skinName=RRUU.$e("ResourcesBar"),e.top=53,e.horizontalCenter=0)},Object.defineProperty(t.prototype,"barType",{get:function(){return 2},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.fightingView=GObj.$c(NumberView),e.fightingView.x=170,e.fightingView.y=52,e.addChildAt(e.fightingView,4),e.svip_mc=App.KB.getUIEffect(gYq.E_),e.svip_mc.x=-17,e.svip_mc.y=-6,e.svipBtn.groupDisplay.addChild(e.svip_mc),e.fight_mc=App.KB.getUIEffect(gYq.AF,150),e.fight_mc.x=88,e.fight_mc.y=20,e.addChildAt(e.fight_mc,3),e.soundBtn.selected=!0,e.fightAddView=GObj.$c(FightAddView),e.addFightNum=0,e.updateView(),e.updateSvipLevel(),e.updateVipLevel(),e.__resizeHandler(),e.__openSettingHandler(null),e.updateSounnd(),e.__hidePayUI()},t.prototype.initEvent=function(){var e=this;e.svipBtn.addEventListener(eui.tep,e.__svipBtnClickHandler,e),e.vipBtn&&e.vipBtn.addEventListener(eui.tep,e.__vipBtnClickHandler,e),e.rechargeBtn.addEventListener(eui.tep,e.__rechargeBtnClickHandler,e),e.goldBtn.addEventListener(eui.tep,e.__goldClickHandler,e),e.soundBtn.addEventListener(eui.tep,e.__openSettingHandler,e),e.headImg.addEventListener(eui.tep,e.__headImgClickHandler,e),vkG.$a(UtJ.SI,e.updateView,e),vkG.$a(UtJ.IN,e.updateView,e),vkG.$a(HUtJ.RESIZE,e.__resizeHandler,e),vkG.$a(UtJ.OK,e.__totalFightChangeHandler,e),vkG.$a(UtJ.JD,e.__chapterChangeHandler,e),vkG.$a(UtJ.NB,e.__chapterChangeHandler,e),vkG.$a(UtJ.IUY,e.__chapterChangeHandler,e),vkG.$a(UtJ.HA,e.__svipInfoUpdateHandler,e),vkG.$a(UtJ.FP,e.__playerAttrUpdateHandler,e),vkG.$a(UtJ.SOU,e.updateView,e),vkG.$a(UtJ.VG,e.__uiOutHandler,e),vkG.$a(UtJ.FM,e.__uiEnterHandler,e),vkG.$a(UtJ.EGW,e.updateView,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.YJ,e.__hidePayUI,e),vkG.$a(UtJ.IK,e.__vipInfoUpdateHandler,e),vkG.$a(UtJ.ND,e.__levelInfoUpdateHandeler,e),vkG.$a(UtJ.SS,e.__turunupInfoUpdateHandeler,e),App.YX.stage.addEventListener(egret.Event.DEACTIVATE,e.__stageDeactivateHandler,e),App.YX.stage.addEventListener(egret.Event.ACTIVATE,e.__stageActivateHandler,e),App.BL.add(e.headImg),App.BL.add(e.svipBtn),e.vipBtn&&App.BL.add(e.vipBtn),App.BL.add(e.soundBtn),App.KF.grade
},t.prototype.initData=function(){this.showComplete()},t.prototype.__hidePayUI=function(){var e=this;IoG.EZ()?(e.svipBtn.visible=!1,e.rechargeBtn.visible=!1):(e.svipBtn.visible=!0,e.rechargeBtn.visible=!0)},t.prototype.updateSounnd=function(){App.PD.openBgm=this.soundBtn.selected},t.prototype.__headImgClickHandler=function(e){App.VS.popup(null,KqZ.WL)},t.prototype.__resizeHandler=function(){var e=this;e.fightAddView&&(e.fightAddView.x=hCs.stageWidth/2-10,e.fightAddView.y=hCs.stageHeight-320)},t.prototype.__svipBtnClickHandler=function(e){App.VS.open(10088)},t.prototype.__vipBtnClickHandler=function(e){App.VS.open(10121)},t.prototype.isShowSvip=function(){return App.KF.chapter>20||App.XT.vipInfo.vipGp>0},t.prototype.__rechargeBtnClickHandler=function(e){App.VS.open(10089)},t.prototype.__goldClickHandler=function(e){_JDW.TR(StaticData.TID_GOLD_ID)},t.prototype.__openSettingHandler=function(e){App.PD.openBgm=this.soundBtn.selected},t.prototype.__stageDeactivateHandler=function(e){this.soundBtn.selected&&(App.PD.openBgm=!1)},t.prototype.__stageActivateHandler=function(e){this.__openSettingHandler(null)},t.prototype.updateVipLevel=function(){var e=this;if(e.vipBtn){e.vipLevelView||(e.vipLevelView=e.vipBtn.vipLevelView);var t=App.EO.vipInfo.vipGrade;e.preVipLevel!=t&&(e.preVipLevel=t,hFO.instance.getNumberView(bRC.TA,e.preVipLevel.toString(),-6,e.vipLevelView)),e.vipBtn.icon=UsU.WY()?StaticData.GHj:null,e.checkVipVisable()}},t.prototype.updateSvipLevel=function(){var e=this;e.svipLevelView||(e.svipLevelView=e.svipBtn.vipLevelView);var t=App.XT.vipInfo.vipGrade;e.preSvipLevel!=t&&(e.preSvipLevel=t,hFO.instance.getNumberView(bRC.TA,e.preSvipLevel.toString(),-6,e.svipLevelView)),e.svipBtn.icon=UsU.QI()?StaticData.GHj:null,e.checkSvipVisable()},t.prototype.updateView=function(){var e=this,t=App.KF;e.goldTxt.text=NumberUtil.DB(t.gold),e.pointTxt.text=NumberUtil.DB(t.point);var n=App.KF.sex||1,i=App.KF.currentHead?App.KF.currentHead:1;e.headImg.source=kLM.JU(n,i,1),e.frameImg.source=kLM.ZQ(App.KF.currentFrame?App.KF.currentFrame:1),e.__chapterChangeHandler(),e.updeteLevelTxt()},t.prototype.__levelInfoUpdateHandeler=function(){this.updeteLevelTxt(),App.NG.initGamePayState(),LevelUpEffect.UV(App.KF.grade)},t.prototype.__turunupInfoUpdateHandeler=function(){this.updeteLevelTxt(),TurnupEffect.UA(App.BG.turnupInfo.grade)},t.prototype.updeteLevelTxt=function(){var e=this,t=App.KF,n=App.BG.turnupInfo.turnupNum;n>0?e.levelTxt.text=fvg.GVf("public034",App.JP.getNameByTurnup(n),t.grade):e.levelTxt.text=fvg.GVf("public034",fvg.GVf("public072"),t.grade)},t.prototype.__svipInfoUpdateHandler=function(){this.updateSvipLevel()},t.prototype.__vipInfoUpdateHandler=function(){this.updateVipLevel()},t.prototype.checkVipVisable=function(){var e=this;if(e.vipBtn&&App.XT.vipInfo.vipGp>0&&App.EO.vipRecvComplate()){App.GP.setFrameBtnVisable(10121,!1);var t=e.vipBtn;t&&t.parent&&(t.parent.removeChild(t),e.vipBtn.removeEventListener(eui.tep,e.__vipBtnClickHandler,e),e.vipBtn=null)}},t.prototype.checkSvipVisable=function(){var e=this;if(App.XT.vipInfo.vipGp>0||App.GP.getOpenStateByVid(10088)){var t=App.GP.getViewDataByVid(10088);t.openData.chapter=0;var n=e.svipBtn;n&&!n.parent&&e.addChild(n)}else{var n=e.svipBtn;n&&n.parent&&n.parent.removeChild(n)}},t.prototype.__playerAttrUpdateHandler=function(){var e=this,t=App.BG.playerAttrsInfo.gpimprate;e.preGpimprate!=t&&e.__chapterChangeHandler(),e.preGpimprate=t},t.prototype.__chapterChangeHandler=function(){var e=this,t=PlayerManager.instance.jkU.chapter,n=App.BG.playerAttrsInfo,i=App.JP.chapterOutputGold(t),r=App.JP.chapterOutputExp(t),a=0;16==t&&(StaticData.AUTO_FAKE_SKILL=!0,NXr.MR(SetKey.HI,StaticData.AUTO_FAKE_SKILL)),App.DE.supremeCardVO.isWeek&&(a=App.XT.getPrivilegeByVipGradeAndType(101,7)),App.DE.supremeCardVO.isMonth&&(a+=App.XT.getPrivilegeByVipGradeAndType(102,7)),i=int(i*(1e3+a)/1e3),r=int(r*(1e3+n.gpimprate+a)/1e3);var o=App.SMF.getBuffAttrByType(10001);r=int(r*(1+o/1e3)),i=int(i*(1+o/1e3)),e.chapterGoldLab.textFlow=LgRe.OQ(fvg.GVf(114,NumberUtil.YT(i))),e.chapterExpLab.textFlow=LgRe.OQ(fvg.GVf(114,NumberUtil.YT(r))),e.checkSvipVisable(),e.updateVipLevel(),App.NG.initGamePayState()},t.prototype.__totalFightChangeHandler=function(e){var t=this;e>0?(t.addFightNum+=e,egret.Tween.removeTweens(t.fightingView),egret.Tween.get(t.fightingView).wait(500).call(t.updateFightAddView,t)):t.showComplete()},t.prototype.updateFightAddView=function(){var e=this;e.addFightNum>0&&!e.fightAddView.playing&&(e.fightAddView.show(e.addFightNum,e.showComplete,e),e.addFightNum=0)},t.prototype.showComplete=function(){var e=this,t=App.KF.newbie?App.BG.playerAttrsInfo.cap:1888,n=Nkz.RA(t);hFO.instance.getNumberView(bRC.UA,n,-8,e.fightingView),e.updateFightAddView()},t.prototype.__uiOutHandler=function(){var e=this;e._count--,e._count<0&&(e._isUpdate||(e._isUpdate=!0,egret.Tween.removeTweens(alvJ.instance.uiLayer),egret.Tween.get(alvJ.instance.uiLayer).to({alpha:0},200)))},t.prototype.__uiEnterHandler=function(){var e=this;e._count++,e._count>=0&&e._isUpdate&&(e._isUpdate=!1,egret.Tween.removeTweens(alvJ.instance.uiLayer),egret.Tween.get(alvJ.instance.uiLayer).to({alpha:1},200))},t.prototype.__sceneSwitchHandler=function(){var e=this;101==App.UY.sceneType?e.hide():e.show()},t}(BarView);__reflect(ResourcesBar.prototype,"ResourcesBar");var RightToolsBar=function(e){function t(){var n=e.call(this,"RightToolsBar")||this;return singleton(t._instance),t._instance=n,n.skinName=RRUU.$e(n.id),n.right=0,n.bottom=210,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 128},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.crossTeamBtn.parent.removeChild(e.crossTeamBtn),e.timeActivity=GObj.$c(TimeActivityView),e.timeActivity.right=0,e.timeActivity.y=-70,!e.isShow&&e.iconGroup&&e.iconGroup.parent&&e.iconGroup.parent.removeChild(e.iconGroup),e._bagPos={x:0,y:0}},t.prototype.initEvent=function(){var e=this;e.bossBtn.addEventListener(eui.tep,e.__bossBtnClickHandler,e),e.arenaBtn.addEventListener(eui.tep,e.__arenaBtnClickHandler,e),e.villaBtn.addEventListener(eui.tep,e.__villaBtnClickHandler,e),e.offLineBtn.addEventListener(eui.tep,e.__offLineBtnClickHandler,e),e.crossTeamBtn.addEventListener(eui.tep,e.__corssTeamBtnClickHandler,e),e.bosshomeBtn.addEventListener(eui.tep,e.__bosshomeBtnHandler,e),vkG.$a(UtJ.IN,e.__raidInfoHandler,e),vkG.$a(UtJ.SW,e.__redPointHandler,e),vkG.$a(UtJ.CH,e.__bossInfoHandlerHandler,e),vkG.$a(UtJ.AO,e.__raidInfoHandler,e),vkG.$a(UtJ.JD,e.__chapterChangeHandler,e),vkG.$a(UtJ.ZC,e.__bossInfoHandlerHandler,e),vkG.$a(UtJ.DV,e.__bossInfoHandlerHandler,e),vkG.$a(UtJ.DOU,e.__crossHarryHandler,e),vkG.$a(UtJ.VOB,e.__crossHarryHandler,e),vkG.$a(UtJ.EK,e.__redPointHandler,e),vkG.$a(UtJ.LO,e.__redPointHandler,e),vkG.$a(UtJ.OL,e.__redPointHandler,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.IQ,e.__offlineInfoUpdate,e),vkG.$a(HUtJ.RESIZE,e.__resizeHandler,e),App.BL.add(e.bossBtn),App.BL.add(e.arenaBtn),App.BL.add(e.villaBtn),App.BL.add(e.crossTeamBtn),App.BL.add(e.offLineBtn),App.BL.add(e.bosshomeBtn),App.AJ.add(KqZ.XA,e.__campaignNumHandler,e)},t.prototype.__resizeHandler=function(){var e=this;e._bagPos.x=hCs.stageWidth-e.width+e.offLineBtn.x+.5*e.offLineBtn.width,e._bagPos.y=hCs.stageHeight-e.height-(e.bottom||210)+e.offLineBtn.y+.5*e.offLineBtn.height},Object.defineProperty(t.prototype,"bagPos",{get:function(){return this._bagPos},enumerable:!0,configurable:!0}),t.prototype.initData=function(){var e=this;e.__resizeHandler(),e.__redPointHandler(),e.__bossInfoHandlerHandler(),e.__campaignNumHandler(),e.__raidInfoHandler(),e.__chapterChangeHandler(),e.__crossHarryHandler(),e.__offlineInfoUpdate()},t.prototype.__bossBtnClickHandler=function(e){App.VS.openMain(10025)},t.prototype.__arenaBtnClickHandler=function(e){App.VS.openMain(10143)},t.prototype.__villaBtnClickHandler=function(e){App.VS.openMain(10038)},t.prototype.__bosshomeBtnHandler=function(e){App.VS.openMain(10161)},t.prototype.__offLineBtnClickHandler=function(e){this.openRaidFrame()},t.prototype.__corssTeamBtnClickHandler=function(e){!rRcz.openCrossHarry()&&rRcz.ZC()},t.prototype.openRaidFrame=function(){App.VS.popup(null,KqZ.FF)},t.prototype.checkOpenBossHome=function(){var e=this;App.KF.chapter<StaticData.BOSS_HOME_CH?removeSelf(e.bosshomeBtn):addSelf(e.iconGroup,e.bosshomeBtn)},t.prototype.__offlineInfoUpdate=function(){var e=this;switch(e.offLineBtn.groupDisplay.removeChildren(),e.offLineBtn.icon=StaticData.GHj,App.KF.offlineStatic){case 0:e.offLine_btm_mc=App.KB.getUIEffect(gYq.YK),e.offLine_btm_mc.x=75,e.offLine_btm_mc.y=2;break;case 1:App.BG.OffLineVo.t1>0||App.BG.OffLineVo.t2>=15?(e.offLine_btm_mc=App.KB.getUIEffect(gYq.ES),e.offLine_btm_mc.x=-25,e.offLine_btm_mc.y=-22):(0==App.BG.OffLineVo.t1||App.BG.OffLineVo.t2<15)&&(e.offLine_btm_mc=App.KB.getUIEffect(gYq.YK),e.offLine_btm_mc.x=75,e.offLine_btm_mc.y=2);break;case 2:e.offLine_btm_mc=App.KB.getUIEffect(gYq.OM),e.offLine_btm_mc.x=90,e.offLine_btm_mc.y=2,e.offLineBtn.icon=""}e.offLineBtn.groupDisplay.addChild(e.offLine_btm_mc)},t.prototype.__redPointHandler=function(){this.villaBtn.icon=UsU.WN()||UsU.LQ()||UsU.MO()?StaticData.GHj:null},t.prototype.__campaignNumHandler=function(){this.arenaBtn.icon=App.AJ.getRedById(KqZ.XA)?StaticData.GHj:null},t.prototype.__bossInfoHandlerHandler=function(e){var t=this;t.bossBtn.icon=UsU.NJ()||UsU.QN()?StaticData.GHj:null,t.__redPointHandler()},t.prototype.__crossHarryHandler=function(){this.crossTeamBtn.icon=UsU.BIJ()?StaticData.GHj:null},t.prototype.__raidInfoHandler=function(){},t.prototype.__chapterChangeHandler=function(){var e=this;e.updateArenaBtn(),e.updateBossBtn(),e.updateVillaBtn(),e.updateTimeActivityView(),e.checkOpenBossHome()},t.prototype.updateArenaBtn=function(){var e=this;e.updateBtn(e.arenaBtn,14)},t.prototype.updateBossBtn=function(){var e=this;e.updateBtn(e.bossBtn,12)},t.prototype.updateVillaBtn=function(){var e=this;e.updateBtn(e.villaBtn,24)},t.prototype.updateTimeActivityView=function(){var e=this;e.updateBtn(e.timeActivity,20)},t.prototype.updateBtn=function(e,t){App.KF.chapter>=t?e&&!e.parent&&this.iconGroup.addChild(e):e&&e.parent&&e.parent.removeChild(e)},t.prototype.show=function(){var e=this;e.isShow=!0,e.iconGroup&&!e.iconGroup.parent&&e.addChild(e.iconGroup),e.parent||App.FT.uiLayer.addChildAt(this,0)},t.prototype.__sceneSwitchHandler=function(){var e=this;1==App.UY.sceneType?e.show():e.hide()},t.prototype.hide=function(){var e=this;e.isShow=!1,e.iconGroup&&e.iconGroup.parent&&e.iconGroup.parent.removeChild(e.iconGroup)},t}(BarView);__reflect(RightToolsBar.prototype,"RightToolsBar");var SkillToolItem=function(e){function t(t){var n=e.call(this,"SkillToolItem")||this;n.jf=0,n.ax=0;var i=RRUU.$s("SkillToolItemSkin");return n.dq=t,n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.yn=GObj.$c(MeanEffect),e.yn.x=-6,e.yn.y=-6,e.iconView=e.clickBtn.iconView,e.coverBmp=e.clickBtn.coverBmp,e.cdTxt=e.clickBtn.cdTxt},t.prototype.initEvent=function(){var e=this;App.HA.registeEnterFrame2(e._y,e),e.yn.addEventListener(egret.Event.COMPLETE,e.uc,e)},t.prototype.removeEvent=function(){var e=this;App.HA.unRegisteEnterFrame2(e._y,e),e.yn.removeEventListener(egret.Event.COMPLETE,e.uc,e)},t.prototype.initData=function(){var e=this;e.data=e.nv},t.prototype._y=function(){var e=this;e.nv&&e.stage&&(e.nv.wait||(e.ax=e.nv.atkTime-GApp.timer),e.progress=e.ax/e.nv.atkcd,e.ax>0?e.cdTxt.text=int(.001*e.ax).toString():e.cdTxt.text="")},t.prototype.uc=function(e){var t=this;t.yn&&t.yn.parent&&t.yn.parent.removeChild(t.yn)},Object.defineProperty(t.prototype,"progress",{get:function(){return this.jf},set:function(e){var t=this;if(t.jf!=e){if(!e||.01>e)return void(t.coverBmp.visible&&(t.coverBmp.visible=!1,t.yn.parent||(t.yn.start(gYq.WM,StaticData.PLAY_UI_INTERVAL,1),t.addChild(t.yn))));var n=t.jf-e;.01>n&&n>-.01||(t.jf=e,t.coverBmp.visible||(t.coverBmp.visible=!0),t.fw(e))}},enumerable:!0,configurable:!0}),t.prototype.fw=function(e){var t=this,n=int(360*(-e+1));t.ev=DrawUtil.ET(n,360,32,t.ev),t.coverBmp.mask||(t.coverBmp.mask=t.ev,t.ev.x=32,t.ev.y=32,t.addChild(t.ev))},t.prototype.selected=function(){var e=this;return e.nv?e.ax>0?(MessageTipManager.instance.show(fvg.GVf("skilltool1")),!1):(e.ax=e.nv.atkcd,e.nv.wait=!0,e._y(),!0):!1},Object.defineProperty(t.prototype,"data",{get:function(){return this.nv},set:function(e){var t=this;t.nv=e,t.CSo&&(t.nv?t.iconView.icon=kLM.RL(gLw.getIconIdByTid(e.tid)):(t.iconView.icon=kLM.EI(),App.KF.grade>=parseInt(App.JO.openGradeArr[t.dq])||App.XT.vipInfo.vipGrade>=parseInt(App.JO.openVipArr[t.dq])?t.coverBmp.visible=!1:t.coverBmp.visible=!1))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.iconView),e.iconView=null,e.dispose()},t}(BaseUI);__reflect(SkillToolItem.prototype,"SkillToolItem");var SkillToolView=function(e){function t(){var t=e.call(this,"SkillToolView")||this;return t.skinName=RRUU.$e(t.id),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.yx=[],e.hm=PlayerSKillAI.instance;for(var t,n=0;6>n;n++)t=GObj.$c(SkillToolItem,n),t.touchChildren=t.touchEnabled=!1,t.data=null,t.x=62*n,t.y=58,e.yx[n]=t,e.addChild(t)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.MP,e.jx,e),vkG.$a(UtJ.A_,e.rp,e)},t.prototype.initData=function(){App.KF.newbie&&this.mh()},t.prototype.mh=function(){var e,t=this,n=0,i=t.hm.skillDict;if(i){var r=[];for(var a in i){if(e=t.yx[n],!e)break;e.data=i[a],n++,r.push(e.data.id),t.vz&&App.KF.newbie&&-1==t.vz.indexOf(e.data.id)&&(11==App.UY.sceneType||15==App.UY.sceneType?e.data.atkTime=GApp.timer+e.data.atkcd:e.data.atkTime=GApp.timer+Math.min(1e4,e.data.atkcd))}t.vz=r}},t.prototype.jx=function(e){},t.prototype.rp=function(){var e=this;App.KF.newbie?e.mh():e.nh()},t.prototype.nh=function(){var e=this,t=e.yx[0].data?1:0,n=App.JO.skillInalyInfo[t],i=e.hm.skillDict;if(!i||!i[n])return void vkG.$d(UtJ.MOJ);var r=e.yx[t],a=e.localToGlobal(r.x-7,r.y-7),o=GObj.$c(fHq);o.type=fHq.IB,o.data=kLM.RL(gLw.getIconIdByTid(i[n].tid)),o.moveTo=a;var s=XCA.AQS.getGradeTempByTId(i[n].tid);s&&(o.name=s.name,o.quality=gLw.GM(s.tid));var p=GObj.$c(FuncOpenView);p.addEventListener(UtJ.ST,e.cs,e),p.show(o)},t.prototype.cs=function(e){var t=this;e.target.removeEventListener(UtJ.ST,t.cs,t);var n=t.yx[0].data?1:0,i=t.yx[n],r=App.JO.skillInalyInfo[n];i.data=t.hm.skillDict[r],t.mh(),vkG.$d(UtJ.MOJ)},t.prototype.gy=function(e){var t=e.currentTarget;t&&t.data&&t.selected()&&this.hm.addSkill(t.data.id)},Object.defineProperty(t.prototype,"itemList",{get:function(){return this.yx},enumerable:!0,configurable:!0}),t}(BaseUI);__reflect(SkillToolView.prototype,"SkillToolView");var TaskBar=function(e){function t(){var n=e.call(this,"TaskBar")||this;return n._taskId=0,n.isCheckBag=!0,singleton(t._instance),t._instance=n,n.skinName=RRUU.$e("TaskBar"),n.x=0,n.bottom=202,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 16},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.autoTaskBtn.$autoSelected=!1,e.autoTaskState=!1,e.autotask_mc=App.KB.getUIEffect(gYq.KG),e.autotask_mc.x=-33,e.autotask_mc.y=2,e.addChild(e.autotask_mc),e.autotask_mc.stop(),e.rewardDesc.text=fvg.GVf("task15"),e.autoTaskBtn.label=fvg.GVf("task16"),e.chapter_btm_mc=App.KB.getUIEffect(gYq.QS),e.chapter_btm_mc.x=-10,e.chapter_btm_mc.y=-15,e.chapterBtn.groupDisplay.addChild(e.chapter_btm_mc),e.autoTaskBtn.visible=App.KF.chapter>=14},t.prototype.__playClickHandler=function(){var e=this;e.taskbg_mc||(e.taskbg_mc=GObj.$c(MovieEffect),e.taskbg_mc.x=120,e.taskbg_mc.y=40,e.contentGroup.addChild(e.taskbg_mc)),e.taskbg_mc.play("ui_wanchengrenwu",1e3,0)},t.prototype.initData=function(){var e=this;e.__playClickHandler(),e._count=0,e.__taskUpdateHandler(),e.__switchHandler([44]),e.setVipTips()},t.prototype.setVipTips=function(){for(var e=this,t=XCA.CG(IDU.LU).split(QycO.XP),n=t.length,i=!1,r=0;n>r;r++)if(App.KF.chapter<parseInt(t[r])){e.tipsImg.source=kLM.DJ(parseInt(t[r])),i=!0;break}e.tipGroup.visible=i},t.prototype.__taskClickHandler=function(e){var t=this;if(t._taskVo&&!(t._taskVo.tid<=0)){if(t.taskIsComplete()){if(App.BG.isBagFull(!0,StaticData.CHECK_BAG_SIZE))return;return void TaskMsgProxy.EJ(t._taskVo.tid)}if(t.autoTaskBtn.selected&&22==t._taskVo.taskTemplate.type){if(App.BG.isBagFull(!0,StaticData.CHECK_BAG_SIZE))return;App.VS.closeAll(),App.UY.enter(t._taskVo.taskTemplate.tar||1)}else TaskHelp.VO(t._taskVo.taskTemplate.type,t._taskVo.taskTemplate.tar||1,t._taskVo.taskTemplate.taskType,t._taskVo.taskTemplate.vid)}},t.prototype._chapterBtn_handler=function(e){rRcz.TM()},t.prototype.__changeAutoTaskHandler=function(e){var t=this;if(App.UY.isCanSwitc())if(t.autoTaskBtn.selected)t.autoTaskState=!1;else if(App.KF.chapter>=StaticData.TASK_AUTO_ID){var n=t.isCheckBag&&App.BG.isBagFull(!0,StaticData.CHECK_BAG_SIZE);if(t.isCheckBag=!0,n)return;var i=fvg.GVf("423");Alert.WK(i,null,null,t.getSlected,t)}else MessageTipManager.instance.show(fvg.GVf("public033",StaticData.TASK_AUTO_ID))},t.prototype.taskIsComplete=function(){var e=this;return e._taskVo.pro>=e._taskVo.taskTemplate.maxValue},t.prototype.getSlected=function(){var e=this;e.autoTaskState=!0,e.__taskClickHandler(null)},t.prototype.initEvent=function(){var e=this;e.contentGroup.addEventListener(eui.tep,e.__taskClickHandler,e),e.autoTaskBtn.addEventListener(eui.tep,e.__changeAutoTaskHandler,e),e.chapterBtn.addEventListener(eui.tep,e._chapterBtn_handler,e),vkG.$a(UtJ.ER,e.__taskUpdateHandler,e),vkG.$a(UtJ.UX,e.__mapKillNpcHandler,e),vkG.$a(UtJ.KSQ,e.__switchHandler,e),vkG.$a(UtJ.NA,e.__checkIndulge,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.CS,e.__fakeBigSkillHandler,e),vkG.$a(UtJ.XA,e.setVipTips,e)},t.prototype.__fakeBigSkillHandler=function(){var e=this;e._taskVo&&e._taskVo.taskTemplate&&93==e._taskVo.taskTemplate.type&&(e._taskVo.pro=1,e.__taskUpdateHandler())},t.prototype.__mapKillNpcHandler=function(e){var t=this;t._taskVo&&t._taskVo.taskTemplate&&21==t._taskVo.taskTemplate.type&&(t._taskVo.pro=(t._taskVo.pro||0)+e,t.__taskUpdateHandler())},t.prototype.gotoBoss=function(){var e=this;return e._taskVo&&e._taskVo.taskTemplate&&e.autoTaskBtn.selected&&22==e._taskVo.taskTemplate.type?(App.VS.clearMapOpenUI(e._taskVo.taskTemplate.tar||1),App.UY.enter(e._taskVo.taskTemplate.tar||1),!0):!1},t.prototype.__taskUpdateHandler=function(){var e=this;e._taskVo=App.QA.taskVo;var t=App.KF.chapter;if(e.autoTaskBtn.visible=t>=14,e._taskVo.tid<=0)return e.progTxt.text=" 1/1 ",void(e.titleTxt.text=fvg.GVf(102));if(e._taskVo.taskTemplate.maxValue>e._taskVo.pro?(e.autoTaskBtn.selected&&22==e._taskVo.taskTemplate.type&&(App.BG.isBagFull(!1,StaticData.CHECK_BAG_SIZE)?e._count?e.autoTaskState=!1:(App.FK.UrC(),egret.Tween.get(e).wait(300).call(e.__taskUpdateHandler,e),e._count++):App.UY.isCanSwitc(!1)&&(App.VS.closeAll(),App.UY.enter(e._taskVo.taskTemplate.tar||1))),e.progTxt.text=TaskHelp.UO(e._taskVo.taskTemplate.type,e._taskVo.pro,e._taskVo.taskTemplate.maxValue),e.progTxt.textColor=Color.KA):(e.progTxt.text=fvg.GVf(101),e.progTxt.textColor=Color.TX,e.autoTaskBtn.selected||22==e._taskVo.taskTemplate.type?App.BG.isBagFull(!1,StaticData.CHECK_BAG_SIZE)?e._count?e.autoTaskState=!1:(App.FK.UrC(),egret.Tween.get(e).wait(300).call(e.__taskUpdateHandler,e),e._count++):TaskMsgProxy.EJ(e._taskVo.tid):30>t&&!fNs.instance.isNoviceing&&fNs.instance["do"](hXS.WL[0])),e._taskId!=e._taskVo.tid){e._taskId>0&&vkG.$d(UtJ.YUJ,e._taskId),e._taskId=e._taskVo.tid,e._count=0,e.titleTxt.text=e._taskVo.taskTemplate.title,e.fightLab.text=fvg.GVf("task18",e._taskVo.taskTemplate.detail),e.progTxt.x=e.titleTxt.x+TextUtil.measureText(e.titleTxt)+2;var n=TaskHelp.OY(e._taskVo.taskTemplate);n.icon1?(e.rewardBmp1.source=n.icon1,e.rewardTxt1.text=QycO.UQ+n.count1):(e.rewardBmp1.source=null,e.rewardTxt1.text=QycO.OK),n.icon2?(e.rewardBmp2.source=n.icon2,e.rewardTxt2.text=QycO.UQ+n.count2):(e.rewardBmp2.source=null,e.rewardTxt2.text=QycO.OK),e.updateChapterInfo()}},t.prototype.updateChapterInfo=function(){var e=this;if(e._taskVo){e.chapterInfoArr=e._taskVo.taskTemplate.step.split(","),e.chapterTxt.text=fvg.GVf("horoskop5",e.chapterInfoArr[0]),e.chapterNameTxt.text=fvg.GVf("task22",e.chapterInfoArr[1]);var t=parseInt(e.chapterInfoArr[2])||0,n=parseInt(e.chapterInfoArr[3])||1,i=int(t/n*100);e.chapterProgTxt.text=fvg.GVf("task19",i),e.chapterProgTxt.textColor=i>=100?Color.TX:Color.KA,e.chapterProgTxt.x=e.chapterNameTxt.x+TextUtil.measureText(e.chapterNameTxt)+2,e.chapterProg.value=int(t/n*100),e.setVipTips()}},Object.defineProperty(t.prototype,"backGroup",{get:function(){return this.contentGroup},enumerable:!0,configurable:!0}),t.prototype.__switchHandler=function(e){e.indexOf(44)>=0&&(rRcz.SS(44,!1),this.__checkIndulge())},t.prototype.$setY=function(t){return e.prototype.$setY.call(this,t)},t.prototype.__checkIndulge=function(){var e=this;!rRcz.SS(44,!1)||!App.JA.indulgeVO.isInAAS&&App.JA.indulgeVO.isWrite?(GObj.$d(e.indulgeBtn),e.indulgeBtn=null):e.indulgeBtn||(e.indulgeBtn=GObj.$c(IndulgeTimeBtn),App.FT.addToLayer(e.indulgeBtn,alvJ.YN))},Object.defineProperty(t.prototype,"autoTaskState",{set:function(e){var t=this;e!=t.autoTaskBtn.selected&&(t.autoTaskBtn.selected=e,e?(t.addChild(t.autotask_mc),t.autotask_mc.play(),t.autoTaskBtn.autoImg.source="bar_json.task_auto_ing_png"):(t.autotask_mc&&t.autotask_mc.parent&&t.removeChild(t.autotask_mc),t.autoTaskBtn.autoImg.source="bar_json.task_icon_5_png"))},enumerable:!0,configurable:!0}),t.prototype.__sceneSwitchHandler=function(){var e=this;1==App.UY.sceneType?e.show():e.hide()},t._instance=null,t}(BarView);__reflect(TaskBar.prototype,"TaskBar");var TimeActivityView=function(e){function t(){var t=e.call(this,"TimeActivityView")||this,n=RRUU.$s("TimeActivityViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.activityBtn.addEventListener(eui.tep,e.bs,e),vkG.$a(UtJ.KP,e.cv,e),vkG.$a(UtJ.UH,e.cv,e),vkG.$a(UtJ.JD,e.li,e),App.BL.add(e.activityBtn)},t.prototype.removeEvent=function(){var e=this;e.activityBtn.removeEventListener(eui.tep,e.bs,e),vkG.$r(UtJ.KP,e.cv,e),vkG.$r(HUtJ.HEARTBEAT,e.mn,e),vkG.$r(UtJ.UH,e.cv,e),vkG.$r(UtJ.JD,e.li,e),App.BL.remove(e.activityBtn)},t.prototype.initData=function(){this.cv()},t.prototype.cv=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.mn,e),e.ne=App.ZF.timeActivityList.concat(App.ZF.palaceActivity),e.ne.sort(e.me),e.gi=null;var t=e.kx();t.length>1&&t.sort(e.ue),e.gi=t[0],e.vn()},t.prototype.vn=function(){var e=this;if(e.gi){var t=4==e.gi.type?3:e.gi.type;e.activityBtn.activityImg.source="bar_json.time_activity_"+t+"_png",vkG.$a(HUtJ.HEARTBEAT,e.mn,e),e.mn()}else vkG.$r(HUtJ.HEARTBEAT,e.mn,e);e.visible=!!e.gi},t.prototype.li=function(){this.cv()},t.prototype.bp=function(e){switch(e){case 1:return App.GP.getOpenStateByVid(10048);case 2:return App.GP.getOpenStateByVid(10049);case 3:case 4:return App.GP.getOpenStateByVid(10024);case 5:return App.GP.getOpenStateByVid(10039)}return!1},t.prototype.mn=function(){var e=this;e.gi&&(e._e=App.NN.serverSecond,e._e>=e.gi.st?e._e<e.gi.st+e.gi.cd?(e.activityBtn.label=fvg.GVf("442"),e.mo||(e.mo=App.KB.getUIEffect(gYq.VEV),e.mo.stop(),e.mo.x=-18,e.mo.y=-40,e.mo.touchEnabled=!1),e.mo.parent||(e.activityBtn.contentGroup.addChildAt(e.mo,0),e.mo.play())):e.cv():(e.activityBtn.label=kpd.YW(e.gi.st-e._e),e.mo&&e.mo.parent&&(e.mo.parent.removeChild(e.mo),e.mo.stop())))},t.prototype.kx=function(){for(var e,t,n=this,i=[],r=App.NN.serverSecond,a=n.ne.length,o=0;a>o;o++)e=n.ne[o],n.bp(e.type)&&(r>=e.st&&r<e.st+e.cd?i.push(e):!t&&e.st>r&&(t=e));return 0==i.length&&t&&i.push(t),i},t.prototype.bs=function(e){var t=this;if(t.gi){var n=t.gi.type;switch(n){case 1:App.XB.info.fid>0?App.VS.open(10048):MessageTipManager.instance.show(fvg.GVf("martialart52"));break;case 2:App.KF.fid>0?rRcz.SS(12)&&App.VS.open(10049):MessageTipManager.instance.show(fvg.GVf("martialart52"));break;case 3:case 4:rRcz.ZG();break;case 5:rRcz.QM();break;case 6:rRcz.openCrossHarry()}}},t.prototype.me=function(e,t){return e.st<t.st?-1:e.st>t.st?1:e.st+e.cd<t.st+t.cd?-1:1},t.prototype.ue=function(e,t){return e.st+e.cd<=t.st+t.cd?-1:1},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TimeActivityView.prototype,"TimeActivityView");var TipPopManager=function(e){function t(){var n=e.call(this,"TipPopManager")||this;n.taskTid=0,singleton(t._instance),t._instance=n;var i=RRUU.$s("TipPopManagerSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1,e.resultPoint=GObj.$c(egret.Point)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YUJ,e.__taskCompleteHandler,e),vkG.$a(UtJ.YT,e.updateView,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YUJ,e.__taskCompleteHandler,e),vkG.$r(UtJ.YT,e.updateView,e),vkG.$d(UtJ.YUJ)},t.prototype.updateView=function(){var e=this;e.parent&&(e.visible=!1,vkG.$r(UtJ.YT,e.updateView,e))},t.prototype.initData=function(){var e=this,t=XCA.CG(IDU.UW).split(QycO.PK);e.first_charge=t[0],e.wealth_dish=t[1],e.shop=t[2],e.supreme=t[3],e.bank=t[4],e.daily_task=t[5],e.chapter=t[6],e.goal=t[1],e.mini_client=t[8],e.growReward=t[9],e.currType=0,e.currBtn=null},t.prototype.__taskCompleteHandler=function(e){var t=this;if(e&&!(0>=e)){t.taskTid=e;var n=0;if(t.first_charge.indexOf(e)>=0)n=1;else if(t.wealth_dish.indexOf(e)>=0)n=2;else if(t.shop.indexOf(e)>=0)n=3;else if(t.supreme.indexOf(e)>=0)n=4;else if(t.bank.indexOf(e)>=0)n=5;else if(t.daily_task.indexOf(e)>=0)n=6;else if(t.chapter.indexOf(e)>=0)n=7;else if(t.goal.indexOf(e)>=0)n=8;else if(t.mini_client.indexOf(e)>=0)0==App.VX.clientStatus&&0==(8&App.VX.rewardState)&&rRcz.SS(45,!1)&&(n=9);else if(StaticData.MINI_CLIENT_TID.indexOf(e)>=0){if(!App.VX.isOpenDownLoadMicro&&!App.VX.isOpenToDesktop)return;App.VX.isOpenToDesktop?App.VX.toDesktopStatus&&0==(1&App.VX.rewardState)&&rRcz.SS(45,!1)&&rRcz.OC():App.VX.isOpenDownLoadMicro&&0==App.VX.clientStatus&&0==(8&App.VX.rewardState)&&rRcz.SS(45,!1)&&rRcz.SE()}t.showPopByType(n)}},t.prototype.showPopByType=function(e){var t=this;!e||0>=e||(t.currType>0&&t.__btnClickHandler(null),t.currType=e,t.currBtn=t.getBtnByType(),t.updateDirByType(),t.currBtn&&t.checkShowByType()?(t.msgTxt.text=fvg.GVf("tippop"+t.currType),10==t.currType&&(t.msgTxt.text=fvg.GVf("tippop"+t.currType+"_"+t.taskTid)),vkG.$d(UtJ.YT),t.currBtn.addEventListener(eui.tep,t.__btnClickHandler,t),t.show(),t.updatePosition(),App.HA.registeEnterFrame(t.updatePosition,t),egret.Tween.get(t).wait(2e4).call(t.__btnClickHandler,t)):t.__btnClickHandler(null))},t.prototype.__btnClickHandler=function(e){var t=this;egret.Tween.removeTweens(t),App.HA.unRegisteEnterFrame(t.updatePosition,t),t.reset(),t.dispose()},t.prototype.updatePosition=function(){var e=this;if(e.parent&&e.currBtn&&e.currBtn.parent){switch(e.resultPoint.x=e.resultPoint.y=0,e.currBtn.parent.localToGlobal(e.currBtn.x,e.currBtn.y,e.resultPoint),e.parent.globalToLocal(e.resultPoint.x,e.resultPoint.y,e.resultPoint),e.dir){case 101:case 104:e.x=e.resultPoint.x;break;case 102:case 105:e.x=e.resultPoint.x-60;break;case 103:case 106:e.x=e.resultPoint.x-120}1==e.arrowImg.scaleY?e.y=e.resultPoint.y+e.currBtn.height+10:e.y=e.resultPoint.y-e.height-10}e.arrowImg.y+=e.step,e.arrowImg.y<e.minY&&(e.step=1),e.arrowImg.y>e.maxY&&(e.step=-1)},t.prototype.show=function(){var e=this;switch(e.currType){case 1:case 10:App.FT.addToLayer(this,alvJ.WL);break;case 2:case 4:case 5:case 8:case 9:App.FT.addToLayer(this,alvJ.WL);break;case 3:App.FT.addToLayer(this,alvJ.IL);break;case 6:App.FT.addToLayer(this,alvJ.WL);break;case 7:App.FT.addToLayer(this,alvJ.WL)}},t.prototype.checkShowByType=function(){var e=!1;switch(this.currType){case 1:e=App.XT.vipInfo.vipGrade<1;break;case 2:e=TopToolsBar.instance.parent&&TopToolsBar.instance.displayState;break;case 3:case 7:e=!0;break;case 4:e=TopToolsBar.instance.parent&&TopToolsBar.instance.displayState&&App.XT.vipInfo.vipGrade<4;break;case 5:e=TopToolsBar.instance.parent&&TopToolsBar.instance.displayState&&App.XT.vipInfo.vipGrade<5;break;case 6:e=BottomBtnBar.instance.barState==BottomBtnBar.bar;break;case 8:e=TopToolsBar.instance.parent&&rRcz.SS(51);break;case 9:e=0==App.VX.clientStatus&&0==(8&App.VX.rewardState)&&App.VX.isOpenDownLoadMicro;break;case 10:e=!0}return e},t.prototype.getBtnByType=function(){switch(this.currType){case 1:return App.XT.vipInfo.vipGrade<StaticData.FIRST_CHARGE_HIDE_LV?LeftToolsBar.instance.firstChargeBtn:null;case 2:return TopToolsBar.instance.getBtnByType(TopToolsBar.JU);case 3:return TopToolsBar.instance.getBtnByType(TopToolsBar.CY);case 4:return TopToolsBar.instance.getBtnByType(TopToolsBar.MO);case 5:return TopToolsBar.instance.getBtnByType(TopToolsBar.IR);case 7:return ResourcesBar.instance.chapterExpLab;case 8:return TopRightBar.instance.peakBtn;case 9:return TopToolsBar.instance.getBtnByType(TopToolsBar.OH)
}},t.prototype.updateDirByType=function(){var e=this;switch(e.currType){case 1:case 2:case 8:case 10:e.dir=101;break;case 3:e.dir=102;break;case 4:case 5:case 7:case 9:e.dir=102;break;case 6:e.dir=106}switch(e.dir){case 101:e.arrowImg.scaleY=1,e.arrowImg.x=10;break;case 102:e.arrowImg.scaleY=1,e.arrowImg.x=73;break;case 103:e.arrowImg.scaleY=1,e.arrowImg.x=135;break;case 104:e.arrowImg.scaleY=-1,e.arrowImg.x=10;break;case 105:e.arrowImg.scaleY=-1,e.arrowImg.x=73;break;case 106:e.arrowImg.scaleY=-1,e.arrowImg.x=135}1==e.arrowImg.scaleY?(e.step=-1,e.maxY=0,e.minY=-10,e.arrowImg.y=0):(e.step=1,e.maxY=115,e.minY=105,e.arrowImg.y=105)},t.prototype.reset=function(){var e=this;e.currBtn&&e.currBtn.removeEventListener(eui.tep,e.__btnClickHandler,e),e.currBtn=null,e.currType=0},t.prototype.dispose=function(){var e=this;e.parent&&e.parent.removeChild(e)},t._instance=null,t}(BaseUI);__reflect(TipPopManager.prototype,"TipPopManager");var TopBulletinBar=function(e){function t(){var n=e.call(this,"TopBulletinBar")||this;n._enterFrame=0,t._instance=n;var i=RRUU.$s("TopBulletinBarSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!1,e.top=138,e.horizontalCenter=0,e.playing=!1,e.msgDataList=[],e.sysDataList=[],e.htmlFormat=GObj.$c(egret.HtmlTextParser),e.MAX_COUNT=10,e.effectMc=App.KB.getUIEffect(gYq._A),e.effectMc.x=19,e.effectMc.stop(),e.addChild(e.effectMc)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.IO,e.__chatDataUpdateHandler,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.IO,e.__chatDataUpdateHandler,e)},t.prototype.__chatDataUpdateHandler=function(e){var t=this;if(e&&7==e.op){var n=App.FQ.getOneChatVo();ObjectUtil.oto(e,n),1==n.op?(t.msgDataList.length>=t.MAX_COUNT&&App.FQ.addChatVoToPools(t.msgDataList.shift()),t.msgDataList.push(n)):7==n.op&&(t.sysDataList.length>=t.MAX_COUNT&&App.FQ.addChatVoToPools(t.sysDataList.shift()),t.sysDataList.push(n)),t.playNext()}},t.prototype.playNext=function(){var e=this;if(!e.playing){if(0==e.msgDataList.length&&0==e.sysDataList.length)return void e.hide();e.show(),e.playing=!0,e.sysDataList.length>0?(e.chatVo=e.sysDataList.shift(),e.maxPlayCount=3):(e.chatVo=e.msgDataList.shift(),e.maxPlayCount=1),e.playCount=0,e.msgStr=App.FQ.getFormatBulletinString(e.chatVo),LgRe.UQ(e.msgTxt,e.msgStr),e.roll=TextUtil.measureText(e.msgTxt)>=e.contentGroup.width,e.roll?e.msgTxt.x=e.contentGroup.width:e.msgTxt.x=0,e._enterFrame=0,App.FQ.addChatVoToPools(e.chatVo),e.chatVo=null,e.msgStr=null,App.HA.registeEnterFrame(e.__enterFrameHandler,e)}},t.prototype.__enterFrameHandler=function(){var e=this;if(e._enterFrame++,!e.roll)return void(e._enterFrame>=80&&(e._enterFrame=0,e.playing=!1,e.playNext()));if(e.msgTxt.x<=-e.msgTxt.width){if(e.playCount++,e.playCount>=e.maxPlayCount)return App.HA.unRegisteEnterFrame(e.__enterFrameHandler,e),e.playing=!1,void e.playNext();e.msgTxt.x=e.contentGroup.width}e.msgTxt.x-=1},t.prototype.show=function(){var e=this;e.parent||(e.effectMc.play(),App.FT.addToLayer(this,alvJ.WL))},t.prototype.hide=function(){var e=this;e.parent&&(e.effectMc.stop(),e.parent.removeChild(e))},t.prototype.dispose=function(){this.hide()},t._instance=null,t}(BaseUI);__reflect(TopBulletinBar.prototype,"TopBulletinBar");var TopRightBar=function(e){function t(){var n=e.call(this,"TopRightBar")||this;return singleton(t._instance),t._instance=n,n.top=0,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initSkin=function(){var e=this;e._initSkin||(e._initSkin=!0,e.skinName=RRUU.$e(e.id),e.top=53,e.right=0)},Object.defineProperty(t.prototype,"barType",{get:function(){return 512},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.soaring_mc=App.KB.getUIEffect(gYq.TX),e.soaring_mc.x=0,e.soaring_mc.y=0,e.soaringBtn.groupDisplay.addChild(e.soaring_mc),e.peak_mc=App.KB.getUIEffect(gYq.U_X),e.peak_mc.x=-15,e.peak_mc.y=-14,e.peakBtn.groupDisplay.addChild(e.peak_mc),e.updateView(),e.switchTemp=XCA.MF(51),e.__getRedPointStateHandler(),e.__funnyUserUpdateHandler(),e.updateBtn()},t.prototype.initEvent=function(){var e=this;e.peakBtn.addEventListener(eui.tep,e.__openPeakBtnHandler,e),e.soaringBtn.addEventListener(eui.tep,e.__openSoaringBtnHandler,e),vkG.$a(UtJ.SI,e.updateView,e),vkG.$a(UtJ.IN,e.updateView,e),vkG.$a(UtJ.SOU,e.updateView,e),vkG.$a(UtJ.EGW,e.updateView,e),vkG.$a(UtJ.MV,e.__getRedPointStateHandler,e),vkG.$a(UtJ.FPF,e.__getRedPointStateHandler,e),vkG.$a(UtJ.KSQ,e.__switchChangeHandler,e),vkG.$a(HUtJ.HEARTBEAT,e.__heartbeatHandler,e),vkG.$a(UtJ.XA,e.updateBtn,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.PP,e.__funnyUserUpdateHandler,e),vkG.$a(UtJ.AW,e.__funnyUserUpdateHandler,e),vkG.$a(UtJ.AQ,e.__funnyUserUpdateHandler,e),vkG.$a(UtJ.ND,e.updateView,e),App.BL.add(e.soaringBtn),App.BL.add(e.peakBtn)},t.prototype.initData=function(){},t.prototype.__headImgClickHandler=function(e){App.VS.popup(null,KqZ.WL)},t.prototype.__getRedPointStateHandler=function(){for(var e,t=App.AT.currDay,n=!1,i=0;t>i;i++)if(e=App.AT.getGoalDayInfoByDay(i),e&&UsU.XZ(e.type)){n=!0;break}this.peakBtn.icon=n?StaticData.GHj:""},t.prototype.__switchChangeHandler=function(e){e&&0!=e.length&&e.indexOf(51)>=0&&this.updatePeakBtn()},t.prototype.updateBtn=function(){var e=this;e.updatePeakBtn(),e.updateGoalBtn(),e.checkSoaring()},t.prototype.updatePeakBtn=function(){this.peakBtn.visible=rRcz.SS(51,!1)},t.prototype.__openPeakBtnHandler=function(){App.VS.open(10091)},t.prototype.__openSoaringBtnHandler=function(){App.VS.open(KqZ.UQ)},t.prototype.checkSoaring=function(){this.soaringBtn.visible=App.MG.hasSoaringGift},t.prototype.updateGoalBtn=function(){var e=this,t=App.AT.currDay;if(t&&(e.peakBtn.peakImg.source="bar_json.bar_peak_"+t+"_png",e.goalDayInfo=App.AT.getGoalDayInfoByDay(t-1),e.goalDayInfo)){var n=e.goalDayInfo.fnick;e.peakBtn.nameLbl.text=n?n:fvg.GVf("462");var i=86400,r=i-App.NN.todaySecond,a=int(r/3600),o=int(r%3600/60),s=r%60;e.peakBtn.timeLbl.text=fvg.GVf("teamcopy7",10>a?"0"+a:a,10>o?"0"+o:o,10>s?"0"+s:s)}},t.prototype.__funnyUserUpdateHandler=function(e){var t=this,n=t.getCurrGift(),i=!1;if(!n)return void(e&&t.checkSoaring());if(!e||-1!=e.indexOf(n.id)){for(var r,a=n.bagList.length,o=0;a>o;o++)r=n.bagList[o],2!=r.status&&r.haveFinish>=r.totalFinish&&(i=!0);t.soaringBtn.icon=i?StaticData.GHj:""}},t.prototype.getCurrGift=function(){var e=App.MG.soaringGift,t=e.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e[i],n.isExist)return n;return null},t.prototype.__heartbeatHandler=function(){var e=this;if(e.switchTemp){var t=App.NN.serverSecond,n=!!e.switchTemp.open&&t>=(e.switchTemp.start||0)&&t<(e.switchTemp.end||0);n||(vkG.$r(HUtJ.HEARTBEAT,e.__heartbeatHandler,e),e.updatePeakBtn())}e.updateGoalBtn()},t.prototype.updateView=function(){this.updateGoalBtn()},t.prototype.__sceneSwitchHandler=function(){var e=this;1==App.UY.sceneType?e.show():e.hide()},t}(BarView);__reflect(TopRightBar.prototype,"TopRightBar");var TopToolsBar=function(e){function t(){var n=e.call(this,"TopToolsBar")||this;return n.btnArr_1=[t.JU,t.MO,t.RX,t.IR,t.QO,t.FX,t.JF,t.VN,t.FZ,t.YQ,t.JM,t.EO,t.XO,t.OH,t.VK,t.QU,t.GQ,t.FD,t.LZ,t.EK,t.QI,t.EQ,t.DJ,t.ZA,t.KL,t.YX,t.XY,t.VO,t.AS,t.GE,t.VF,t.HL,t.DB,t.YW,t.RZ,t.TE,t.QP,t.SI,t.FA,t.GC,t.O_,t.FR,t.QJ,t.KB,t.CY,t.SS,t.UT,t.FT,t._L,t.VW,t.MYT,t.QX,t.MZ,t.AT,t.HY,t.ML,t.TA,t.AW,t.YT,t.CB,t.XP,t.YD,t.SM],n.btnArr_2=[],singleton(t._instance),t._instance=n,n.skinName=RRUU.$e("TopToolsBar"),n.y=158,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 4},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.allBtns={},e.allGroupBtns={},e.classsDic={},e.checkDic={},e.clickDic={},e.sortDic={},e.initBtnGroup(),e.initMap(),e.btnArr_1.sort(e.sortBtn),e.updateView(),e.displayState=!0},t.prototype.initEvent=function(){var e=this;e.showBtn.addEventListener(eui.tep,e.__showSelfHandler,e),e.hideBtn.addEventListener(eui.tep,e.__hideSelfHandler,e),vkG.$a(UtJ.JD,e.__chapterChangeHandler,e),vkG.$a(UtJ.HA,e.__vipInfoUpdateHandler,e),vkG.$a(UtJ.OY,e.__awardGetUpdateHandler,e),vkG.$a(UtJ.VVN,e.__bankGetUpdateHandler,e),vkG.$a(UtJ.XO,e.__privilegeRewardHandler,e),vkG.$a(UtJ.AW,e.__funnyHandler,e),vkG.$a(UtJ.AQ,e.__funnyHandler,e),vkG.$a(UtJ.KSQ,e.__switchChangeHandler,e),vkG.$a(UtJ.FI,e.__gangTreasureHandler,e),vkG.$a(UtJ.YXZ,e.__volverGetUpdateHandler,e),vkG.$a(UtJ.IYL,e.__auctionHandler,e),vkG.$a(UtJ.R_M,e.__mergeChargeHandler,e),vkG.$a(UtJ.XA,e.__sendOverHandler,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e),vkG.$a(UtJ.YJ,e.__hidePayUI,e),vkG.$a(UtJ.WXG,e.__updataRevelryHandler,e),vkG.$a(UtJ.PHE,e.funnyFestivalActUpdate,e),vkG.$a(UtJ.SWL,e.__updataffmInfoHandler,e),vkG.$a(UtJ.PP,e.__updateDirect,e),vkG.$a(UtJ.NA,e.__updateIndulge,e)},t.prototype.initMap=function(){var e=this;e.classsDic[t.IR]=TopToolsBankBtn,e.classsDic[t.QU]=TopToolsGrilBtn,e.classsDic[t.JF]=TopToolsFunnyBtn,e.classsDic[t.VN]=TopToolsPacksBtn,e.classsDic[t.FD]=TopToolsRebatesBtn,e.classsDic[t.MO]=TopToolsSupremeBtn,e.classsDic[t.FX]=TopToolsShareBtn,e.classsDic[t.YQ]=TopToolsHolyEggBtn,e.classsDic[t.XO]=TopToolsCollectionBtn,e.classsDic[t.OH]=TopToolsMiniClientBtn,e.classsDic[t.VK]=TopToolsShowCodeBtn,e.classsDic[t.JU]=TopToolsWealthDishBtn,e.classsDic[t.QO]=TopToolsRewardHallBtn,e.classsDic[t.RX]=TopToolsLandingSevenBtn,e.classsDic[t.EO]=TopToolsEvDayRechargeBtn,e.classsDic[t.FZ]=TopToolsAllTogetherGiftBtn,e.classsDic[t.HL]=TopToolsCollectRankingBtn,e.classsDic[t.AS]=TopToolsDailyActivityBtn,e.classsDic[t.EQ]=TopToolsTxMiniClientBtn,e.classsDic[t.DJ]=TopToolsTxWanBaQQPetBtn,e.classsDic[t.VF]=TopToolsTreasuryBtn,e.classsDic[t.KL]=TopToolsTangTreasureBtn,e.classsDic[t.XY]=TopToolsRealNameBtn,e.classsDic[t.QI]=TopToolsStraightBuyBtn,e.classsDic[t.ZA]=TopToolsQzoneCoverBtn,e.classsDic[t.EK]=TopToolsWanBaShareBtn,e.classsDic[t.VO]=TopToolsBindPhoneBtn,e.classsDic[t.GE]=TopToolsQQLiveBtn,e.classsDic[t.TE]=TopToolsPrizeBtn,e.classsDic[t.DB]=TopToolsAuctionBtn,e.classsDic[t.YW]=TopToolsVolverBtn,e.classsDic[t.LZ]=TopToolsMagicBtn,e.classsDic[t.GC]=TopToolsRankBtn,e.classsDic[t.RZ]=TopToolsQQGameBtn,e.classsDic[t.O_]=TopToolsLuckEggBtn,e.classsDic[t.FA]=TopToolsEliminateBtn,e.classsDic[t.QJ]=TopToolsValentinesBtn,e.classsDic[t.FR]=TooToolsMergeChargeBtn,e.classsDic[t.SI]=TopToolsActivity1111Btn,e.classsDic[t.QP]=TopToolsTreasureHuntingBtn,e.classsDic[t.KB]=TopToolsContinueChargeBtn,e.classsDic[t.CY]=TopToolsShopBtn,e.classsDic[t.SS]=TopOneYuanBuyBtn,e.classsDic[t.UT]=TopToolsFreeShopBtn,e.classsDic[t.VW]=TopVowBtn,e.classsDic[t.MYT]=TopAchievementBtn,e.classsDic[t.FT]=TopToolsNewRevelryBtn,e.classsDic[t._L]=TopToolCarnivalBtn,e.classsDic[t.MZ]=TopToolsOneYuanGiftPackgeBtn,e.classsDic[t.QX]=TopDirectBtn,e.classsDic[t.AT]=TopToolsFFMountainBtn,e.classsDic[t.HY]=TopToolRedEnvelopesBtn,e.classsDic[t.ML]=TopToolsSubscribeBtn,e.classsDic[t.TA]=TopToolsOurRealNameBtn,e.classsDic[t.AW]=TopToolsWxCollectionBtn,e.classsDic[t.YT]=TopToolsWxFloatBtn,e.classsDic[t.CB]=TopToolsCustomerBtn,e.classsDic[t.YD]=TopToolsQQCustomerBtn,e.classsDic[t.XP]=TopSuperVipBtn,e.classsDic[t.SM]=TopDirectCrashBtn,e.checkDic[t.QO]=e.checkRewardHall,e.checkDic[t.MO]=e.checkSupreme,e.checkDic[t.RX]=e.checkLandingSeven,e.checkDic[t.IR]=e.checkBank,e.checkDic[t.JU]=e.checkWealthDish,e.checkDic[t.EO]=e.checkEveryDayReChange,e.checkDic[t.XO]=e.checkCollection,e.checkDic[t.OH]=e.checkMiniClient,e.checkDic[t.VK]=e.checkAttention,e.checkDic[t.FX]=e.checkShareGame,e.checkDic[t.JM]=e.checkInviteFriend,e.checkDic[t.JF]=e.checkFunny,e.checkDic[t.VN]=e.checkPacks,e.checkDic[t.FZ]=e.checkAllTogetherGift,e.checkDic[t.QU]=e.checkgril,e.checkDic[t.YQ]=e.checkHolyEgg,e.checkDic[t.GQ]=e.checkQbTopicCircle,e.checkDic[t.FD]=e.checkRebate,e.checkDic[t.LZ]=e.checkMagic,e.checkDic[t.EK]=e.checkWanbaShare,e.checkDic[t.QI]=e.checkStraightBuy,e.checkDic[t.EQ]=e.checkTxMiniClient,e.checkDic[t.DJ]=e.checkTxWanbaQQPet,e.checkDic[t.KL]=e.checkGangTreasure,e.checkDic[t.ZA]=e.checkQzoneCover,e.checkDic[t.YX]=e.checkWanbaActive,e.checkDic[t.XY]=e.checkRealName,e.checkDic[t.VO]=e.checkBindPhone,e.checkDic[t.AS]=e.checkDailyActivity,e.checkDic[t.GE]=e.checkQQLiveFuli,e.checkDic[t.VF]=e.checkTreasuryActivity,e.checkDic[t.HL]=e.checkCollectRanking,e.checkDic[t.DB]=e.checkAuction,e.checkDic[t.YW]=e.checkVolver,e.checkDic[t.RZ]=e.checkQQGame,e.checkDic[t.TE]=e.checkluckyDraw,e.checkDic[t.QP]=e.checkTreasureHunting,e.checkDic[t.SI]=e.checkActivity1111,e.checkDic[t.FA]=e.checkEliminate,e.checkDic[t.GC]=e.checkRank,e.checkDic[t.O_]=e.checkLuckEgg,e.checkDic[t.FR]=e.checkMergeCharge,e.checkDic[t.QJ]=e.checkValentines,e.checkDic[t.KB]=e.checkContinueCharge,e.checkDic[t.CY]=e.checkShop,e.checkDic[t.SS]=e.checkOneYuanBuy,e.checkDic[t.UT]=e.checkFreeShop,e.checkDic[t.VW]=e.checkVow,e.checkDic[t.MYT]=e.checkAchievement,e.checkDic[t.FT]=e.checkNewRevelry,e.checkDic[t._L]=e.checkCarnivalIsOpen,e.checkDic[t.MZ]=e.checkOneYuan,e.checkDic[t.QX]=e.checkDirect,e.checkDic[t.AT]=e.checkFFMountain,e.checkDic[t.HY]=e.checkRedEnvelopes,e.checkDic[t.ML]=e.checkSubscribe,e.checkDic[t.TA]=e.checkOurRealName,e.checkDic[t.AW]=e.checkWxCollection,e.checkDic[t.YT]=e.checkWxFloat,e.checkDic[t.CB]=e.checkCustomer,e.checkDic[t.YD]=e.checkQQCustomer,e.checkDic[t.XP]=e.checkSuperVip,e.checkDic[t.SM]=e.checkDirectCrash,e.clickDic[t.QO]=rRcz.TS,e.clickDic[t.MO]=rRcz.DD,e.clickDic[t.RX]=rRcz.QE,e.clickDic[t.IR]=rRcz.ES,e.clickDic[t.JU]=rRcz.IX,e.clickDic[t.EO]=rRcz.XX,e.clickDic[t.XO]=rRcz.OC,e.clickDic[t.OH]=rRcz.SE,e.clickDic[t.VK]=rRcz.RX,e.clickDic[t.FX]=rRcz.WP,e.clickDic[t.JM]=rRcz._V,e.clickDic[t.JF]=rRcz.SJ,e.clickDic[t.VN]=rRcz.NC,e.clickDic[t.FZ]=rRcz.XR,e.clickDic[t.QU]=rRcz.CA,e.clickDic[t.YQ]=rRcz.KT,e.clickDic[t.GQ]=rRcz.SK,e.clickDic[t.FD]=rRcz.IG,e.clickDic[t.LZ]=rRcz.ZB,e.clickDic[t.EK]=rRcz.OM,e.clickDic[t.QI]=rRcz.NRG,e.clickDic[t.EQ]=rRcz.LH,e.clickDic[t.DJ]=rRcz.XN,e.clickDic[t.KL]=rRcz.RDN,e.clickDic[t.ZA]=rRcz.PG,e.clickDic[t.YX]=rRcz.IC,e.clickDic[t.XY]=rRcz.FT,e.clickDic[t.VO]=rRcz.WC,e.clickDic[t.AS]=rRcz.LN,e.clickDic[t.GE]=rRcz.TK,e.clickDic[t.UH]=rRcz.TK,e.clickDic[t.VF]=rRcz.AF,e.clickDic[t.HL]=rRcz.BR,e.clickDic[t.DB]=rRcz.AG,e.clickDic[t.YW]=rRcz.EFZ,e.clickDic[t.RZ]=rRcz.JXQ,e.clickDic[t.TE]=rRcz.WH,e.clickDic[t.QP]=rRcz.TO,e.clickDic[t.SI]=rRcz.XW,e.clickDic[t.FA]=rRcz.YH,e.clickDic[t.GC]=rRcz.ON,e.clickDic[t.O_]=rRcz.EF,e.clickDic[t.FR]=e.openMergeCharge,e.clickDic[t.QJ]=rRcz.IM,e.clickDic[t.KB]=rRcz.PP,e.clickDic[t.CY]=rRcz.SOT,e.clickDic[t.SS]=rRcz.BH,e.clickDic[t.UT]=rRcz.XC,e.clickDic[t.VW]=rRcz.EA,e.clickDic[t.MYT]=rRcz.YW,e.clickDic[t.FT]=rRcz.M_,e.clickDic[t._L]=rRcz.NP,e.clickDic[t.MZ]=rRcz.AA,e.clickDic[t.QX]=rRcz.SA,e.clickDic[t.AT]=rRcz.ZR,e.clickDic[t.HY]=rRcz.MP,e.clickDic[t.ML]=rRcz.NO,e.clickDic[t.TA]=rRcz.JX,e.clickDic[t.AW]=rRcz.IU,e.clickDic[t.YT]=rRcz.DX,e.clickDic[t.CB]=rRcz.LO,e.clickDic[t.YD]=rRcz.QN,e.clickDic[t.XP]=rRcz.SP,e.clickDic[t.SM]=rRcz.NQA,e.sortTopToolsBtns()},t.prototype.funnyFestivalActUpdate=function(e){var t=this,n=App.MG.FestivalActivtiyList;if(!(n.length<1)){for(var i,r,a="",o="festact_",s=0;s<n.length;s++)i=n[s],i.p4==1..toString()&&(a=o+i.p5,t.classsDic[a]||(r=GObj.$c(TopToolFestActBtn),t.classsDic[a]=TopToolFestActBtn,t.checkDic[a]=function(){return t.checkFunnyfActIsOpen(i.p5)},t.clickDic[a]=function(){rRcz.QP(i.p5)},t.btnArr_1.push(a)));t.sortTopToolsBtns()}},t.prototype.sortTopToolsBtns=function(){for(var e,t=this,n=t.btnArr_1.length,i=1,r=0,a=0,o=0;n>o;o++){e=t.btnArr_1[o];var s=StaticData.TOPTOOL_BAR_CONF[e];s?(i=s.index||9999,r=s.chapter,a=s.isSpec):(i=9999,r=0,a=0),t.sortDic[e]={index:i,chapter:r,isSpec:a}}},t.prototype.chapterCheck=function(e){var t=this;if(!t.sortDic[e])return!1;var n=t.sortDic[e].chapter;return n&&App.KF.chapter<n?!1:!0},t.prototype.belongToInsideCheck=function(e){return StaticData.TOPTOOL_BAR_BTN_GROUP.btnArr.indexOf(e)>=0?!0:!1},t.prototype.topButtonGroupCheck=function(e){var t=this;if(!t.sortDic[e])return!1;var n=t.sortDic[e].chapter;return n&&App.KF.chapter<n?!1:!0},t.prototype.updateView=function(){var e=this,t=e.btnArr_1.length,n=0;for(n=0;t>n;n++)e.updateBtnByType(e.btnArr_1[n]);for(t=e.btnArr_2.length,n=0;t>n;n++)e.updateBtnByType(e.btnArr_2[n])},t.prototype.commonCheck=function(e){return this.chapterCheck(e)},t.prototype.updateBtnByType=function(e){var t=this;if(t.checkDic[e]){var n=t.belongToInsideCheck(e),i=t.checkDic[e],r=i.call(this,e),a=t.commonCheck(e),o=r&&a;return n?t.updateInsideBtnByType(e,o):t.updateOutsideBtnByType(e,o),o}return!1},t.prototype.updateOutsideBtnByType=function(e,t){var n=this;t?n.addOutsideBtnByType(e):n.removeOutsideBtnByType(e)},t.prototype.updateInsideBtnByType=function(e,t){var n=this;t?n.createBtnByType(e,n.allGroupBtns):n.disposeBtnByType(e,n.allGroupBtns)},t.prototype.addOutsideBtnByType=function(e){var t=this,n=t.createBtnByType(e,t.allBtns);t.resortBtn(n,e)},t.prototype.createBtnByType=function(e,t){var n=t[e];if(!n){var i=this.classsDic[e];n=GObj.$c(i?i:TopToolsBaseBtn,e),t[e]=n}return n},t.prototype.removeOutsideBtnByType=function(e){var t=this,n=t.disposeBtnByType(e,t.allBtns);t.resortBtn(n,e)},t.prototype.disposeBtnByType=function(e,t){var n=t[e];return n&&(n.dispose(),delete t[e]),n},t.prototype.resortBtn=function(e,t){var n=this;if(e&&!e.parent){var i,r=0,a=n.btnArr_1.indexOf(t);if(a>=0)for(n.container_1.removeChildren(),n.container_2.removeChildren(),r=0;r<n.btnArr_1.length;r++)if(i=n.allBtns[n.btnArr_1[r]]){var o=n.sortDic[n.btnArr_1[r]].isSpec;o?n.container_2.addChild(i):n.container_1.addChild(i)}var s=n.container_1.layout.requestedColumnCount,p=Math.ceil(n.container_1.numChildren/s);n.container_2.y=62*p}},t.prototype.__hidePayUI=function(){var e=this;e.updateBtnByType(t.FD),e.updateBtnByType(t.JU),e.updateBtnByType(t.EO),e.updateBtnByType(t.IR),e.updateBtnByType(t.UT),e.updateBtnByType(t.SS),e.updateBtnByType(t.MO),e.updateBtnByType(t.DB),e.updateBtnByType(t.QX),e.updateBtnByType(t.VN),e.updateBtnByType(t.JF),e.updateBtnByType(t.HY),e.updateBtnByType(t.MZ)},t.prototype.checkLuckEgg=function(){return App.MG.hasLuckEgg&&rRcz.SS(100,!1)},t.prototype.checkMergeCharge=function(){var e=this,t=App.MG.mergeChargeInfo,n=App.OZ.getDataByName(IDU.AC);if(App.NN.serverTime-t.t<=n){var i=n-(App.NN.serverTime-t.t)+1e3;return ClockManager.setTimeout(e.checkMergeCharge,this,i),!0}return!1},t.prototype.checkContinueCharge=function(){if(!rRcz.SS(101,!1))return!1;var e=App.MG.getValueChargeRewardFunny();return e&&e.isExist?!0:!1},t.prototype.checkShop=function(){return!0},t.prototype.checkNewRevelry=function(){var e=kpd.getOpenServerZeroClock(),t=App.NN.serverTime,n=App.KP.time;return t-e>n?!1:!0},t.prototype.checkCarnivalIsOpen=function(){var e=this,t=!1;ClockManager.instance.serverSecond;return t||(t=e.checkCarnivalisOK(App.MG.carnivalChapterList)),t||(t=e.checkCarnivalisOK(App.MG.carnivalMagicList)),t||(t=e.checkCarnivalisOK(App.MG.carnivalFightList)),t||(t=e.checkCarnivalisOK(App.MG.carnivalBeautyList)),t||(t=e.checkCarnivalisOK(App.MG.carnivalTeamList)),t||(t=e.checkCarnivalisOK(App.MG.carnivalTeam2List)),t||(t=e.checkCarnivalisOK(App.MG.carnivalTownList)),e.chenckCarnivalViewIsShoww(),t},t.prototype.chenckCarnivalViewIsShoww=function(){App.GP.setFrameBtnVisable(10152,App.MG.checkFunnyVoisNull(App.MG.carnivalChapterList)),App.GP.setFrameBtnVisable(10150,App.MG.checkFunnyVoisNull(App.MG.carnivalMagicList)),App.GP.setFrameBtnVisable(10148,App.MG.checkFunnyVoisNull(App.MG.carnivalBeautyList)),App.GP.setFrameBtnVisable(10149,App.MG.checkFunnyVoisNull(App.MG.carnivalFightList)),App.GP.setFrameBtnVisable(10151,App.MG.checkFunnyVoisNull(App.MG.carnivalTeamList)),App.GP.setFrameBtnVisable(10153,App.MG.checkFunnyVoisNull(App.MG.carnivalTeam2List)),App.GP.setFrameBtnVisable(10169,App.MG.checkFunnyVoisNull(App.MG.carnivalTownList))},t.prototype.checkCarnivalisOK=function(e){var t=!0;return e&&e.isExist&&e.endTime>App.NN.serverSecond||(t=!1),t},t.prototype.checkFunnyfActIsOpen=function(e){for(var t,n=App.MG.funnyList.length,i=!1,r=(ClockManager.instance.serverSecond,0);n>r;r++)if(t=App.MG.funnyList[r],t.isExist&&t.p5==e&&t.endTime>App.NN.serverSecond){i=!0;break}return i},t.prototype.checkOneYuan=function(){return this.checkRedEnvelopes()&&App.MG.oneYuanInfo&&App.MG.oneYuanInfo.isExist?!0:!1},t.prototype.checkRedEnvelopes=function(){if(IoG.EZ())return!1;var e=kpd.getOpenServerZeroClock(),t=App.NN.serverSecond>=Math.floor(e/1e3)+691200,n=App.NN.serverSecond>=Math.floor(e/1e3)+86400&&!App.RK._redEnvelopesInfo.m_1;return t||!App.NG.isQQminiChannel()||n||!rRcz.SS(113,!1)||QycO._A?!1:!0},t.prototype.__updataRevelryHandler=function(){this.updateBtnByType(t.FT)},t.prototype.checkFristRecharge=function(){return!0},t.prototype.checkRewardHall=function(){return!0},t.prototype.checkSupreme=function(){return IoG.EZ()?!1:!0},t.prototype.checkLandingSeven=function(){for(var e=App.KF.award,t=1;7>=t;t++)if(0==(e&1<<t-1))return!0;return!1},t.prototype.checkBank=function(){if(IoG.EZ())return!1;if(!rRcz.SS(45,!1))return!1;var e=XCA.CG(IDU.SM).split(QycO.XP),t=App.CC.bankgold,n=e.length;return(1<<n)-1>t?!0:(e=XCA.CG(IDU.EU).split(QycO.XP),t=App.CC.bankgrow,n=e.length,(1<<n)-1>t?!0:!1)},t.prototype.checkWealthDish=function(){return!0},t.prototype.checkEveryDayReChange=function(){return IoG.EZ()?!1:App.XT.vipInfo.vipGrade>=StaticData.EVDAYRECHARGE_SHOW_LV},t.prototype.checkEliminate=function(){return!1},t.prototype.checkCollection=function(){return App.NG.isOpenCollection()?0!=(1&App.VX.rewardState)?!1:!0:!1},t.prototype.checkMiniClient=function(){return-1==App.VX.clientStatus?!1:rRcz.SS(45,!1)},t.prototype.checkAttention=function(){return App.NG.isOpenShowFocus()&&App.NG.getIsFocus()?0==(2&App.VX.rewardState):!1},t.prototype.checkShareGame=function(){var e=App.NG.isOpenShare();return e},t.prototype.checkSubscribe=function(){return App.NG.isOpenSubscribe()?0!==(4096&App.VX.rewardState)?!1:App.NG.isSubscribe()?!1:!0:!1},t.prototype.checkInviteFriend=function(){return-1==App.VX.inviteStatus?!1:rRcz.SS(45,!1)},t.prototype.checkActivity1111=function(){return App.VX.activity1111Status?!0:!1},t.prototype.checkFunny=function(){if(IoG.EZ())return!1;for(var e,t=App.MG.funnyList.length,n=!1,i=(ClockManager.instance.serverSecond,0);t>i;i++)if(e=App.MG.funnyList[i],e.isExist&&0==e.p5){n=!0;break}return n},t.prototype.checkPacks=function(){return IoG.EZ()?!1:App.MG.hasTimeGift||App.MG.hasLimitGift||App.MG.hasPackstList?!0:!1},t.prototype.checkAllTogetherGift=function(){return App.MG.hasAllTogetherGift},t.prototype.checkgril=function(){return!!App.VX.supervip},t.prototype.checkHolyEgg=function(){return App.MG.hasHolyEgg},t.prototype.checkRank=function(){return!0},t.prototype.checkRebate=function(){if(IoG.EZ())return!1;for(var e,t=App.MG.rebateList.length,n=!1,i=0;t>i;i++)if(e=App.MG.rebateList[i],e.isExist){n=!0;break}return n},t.prototype.checkMagic=function(){for(var e,t=App.MG.magicList.length,n=!1,i=0;t>i;i++)if(e=App.MG.magicList[i],e.isExist){n=!0;break}return n},t.prototype.checkWanbaShare=function(){return!1},t.prototype.checkStraightBuy=function(){return App.MG.hasStraightBuy},t.prototype.checkTxMiniClient=function(){return-1!=App.VX.txClientStatus},t.prototype.checkTxWanbaQQPet=function(){return 1==App.VX.txWanbaQQPet},t.prototype.checkGangTreasure=function(){if(!rRcz.SS(68,!1))return!1;var e=App.HD.gangTreasureInfo,t=e.stime-int((GApp.timer-e.utime)/1e3);return 0>=t?!1:e.award>=3?!1:!0},t.prototype.checkQzoneCover=function(){return(256&App.VX.rewardState)>0?!1:-1!=App.VX.wanbaCoverStatus},t.prototype.checkOneYuanBuy=function(){return IoG.EZ()?!1:App.MG.oneYuanBuy&&App.MG.oneYuanBuy.isExist?!0:!1},t.prototype.checkFreeShop=function(){if(IoG.EZ())return!1;var e=XCA.CG(IDU.S_),t=rRcz.SS(109,!1)&&kpd.FZ()<=parseInt(e)&&!IoG.EZ();return t},t.prototype.checkVow=function(){var e=UsU.EO();return e},t.prototype.checkWanbaActive=function(){return App.VX.wanbaActiveExtension},t.prototype.checkTreasureHunting=function(){return App.MG.hasTreHunting()?!0:!1},t.prototype.checkRealName=function(){return App.NG.isOpenAuthen()?0==(512&App.VX.rewardState):!1},t.prototype.checkBindPhone=function(){if(-1==App.VX.bindPhoneStatus)return!1;var e=App.VX.rewardState;return(1024&e)>0?!1:!0},t.prototype.checkQQLiveFuli=function(){return App.VX.qqLiveFuLi},t.prototype.checkTreasuryActivity=function(){for(var e,t=App.MG.treasuryList.length,n=!1,i=0;t>i;i++)if(e=App.MG.treasuryList[i],e.isExist){n=!0;break}return n},t.prototype.checkCollectRanking=function(){return rRcz.SS(79,!1)},t.prototype.checkAuction=function(){if(IoG.EZ())return!1;var e=rRcz.SS(83,!1);return App.BG.turnupInfo.turnupNum>=MaxLevel.AUCTION_MIN_GRADE&&e?!0:!1},t.prototype.checkVolver=function(){return!1},t.prototype.checkQQGame=function(){return App.VX.qqEgameFuLi},t.prototype.checkluckyDraw=function(){var e=rRcz.SS(85,!1);return e},t.prototype.checkDailyActivity=function(){return PlayerManager.instance.jkU.chapter>49?!0:!1},t.prototype.checkQbTopicCircle=function(){return App.VX.qbTopicCircle},t.prototype.checkAchievement=function(){var e=XCA.CG(IDU.MN);return!rRcz.SS(108,!1)||kpd.FZ()<parseInt(e)||!App.EJ.achievementVo.ps?!1:!0},t.prototype.checkDirect=function(){if(IoG.EZ())return!1;var e=App.MG.directVo,t=!1;if(!e)return t;for(var n=0;6>n;n++){var i=e.getBagDataBySort(n+1),r=10154+n;if(i){var a=!(2==i.status)&&App.GP.getOpenStateByVid(r);App.GP.setFrameBtnVisable(r,a),a&&(t=!0)}else App.GP.setFrameBtnVisable(r,!1)}return t},t.prototype.checkFFMountain=function(){if(kpd.FZ()>7)return!1;var e=App.OO.currType;if(!rRcz.SS(1034,!1)||!e)return!1;var t=0,n=XCA.CG("new_server_boss_condition");if(n&&e>0){var i=n.split(",");t=parseInt(i[e-1])}return kpd.FZ()>App.OO.getCurrEndDay(e)||App.BG.playerAttrsInfo.cap<t?!1:!0},t.prototype.checkOurRealName=function(){return rRcz.SS(44,!1)?!App.JA.indulgeVO.isWrite:!1},t.prototype.checkWxCollection=function(){return App.NG.isWXminiChannel()&&0===(8&App.VX.rewardState)},t.prototype.checkWxFloat=function(){return App.NG.isWXminiChannel()&&0===(16&App.VX.rewardState)},t.prototype.checkCustomer=function(){return App.NG.isWXminiChannel()},t.prototype.checkQQCustomer=function(){return App.NG.isQQminiChannel()},t.prototype.checkSuperVip=function(){if(!rRcz.SS(1038,!1))return!1;if(App.NG.isQQminiChannel()){var e=XCA.CG(IDU.NY);if(!App.VX.qqcode&&!App.VX.birthday&&(!e||App.KF.allcharge>=parseInt(e)))return!0}return!1},t.prototype.checkDirectCrash=function(){if(IoG.EZ())return!1;var e=kpd.getOpenServerZeroClock(),t=App.NN.serverSecond>=Math.floor(e/1e3)+691200;return t||!App.NG.isQQminiChannel()||!rRcz.SS(119,!1)||QycO._A?!1:!!App.MG.getDirectCrashFunny()},t.prototype.openMergeCharge=function(){App.VS.open(10089)},t.prototype.__showSelfHandler=function(e){var t=this;t.displayState=!0,t.showBtn.visible=!1,t.hideBtn.visible=!0},t.prototype.__hideSelfHandler=function(e){var t=this;t.displayState=!1,t.showBtn.visible=!0,t.hideBtn.visible=!1},t.prototype.__sendOverHandler=function(){this.updateView()},t.prototype.__sceneSwitchHandler=function(){var e=this;1==App.UY.sceneType?e.__showSelfHandler(null):e.__hideSelfHandler(null)},t.prototype.__chapterChangeHandler=function(){this.updateView()},t.prototype.__vipInfoUpdateHandler=function(){this.updateBtnByType(t.EO)},t.prototype.__awardGetUpdateHandler=function(){this.updateBtnByType(t.RX)},t.prototype.checkValentines=function(){return null!=App.MG.getValentinesFunny()&&rRcz.SS(99,!1)},t.prototype.__funnyHandler=function(){var e=this;e.updateBtnByType(t.JF),e.updateBtnByType(t.VN),e.updateBtnByType(t.LZ),e.updateBtnByType(t.FD),e.updateBtnByType(t.O_),e.updateBtnByType(t.YQ),e.updateBtnByType(t.FA),e.updateBtnByType(t.QJ),e.updateBtnByType(t.FR),e.updateBtnByType(t.QI),e.updateBtnByType(t.KB),e.updateBtnByType(t.QP),e.updateBtnByType(t.FZ),e.updateBtnByType(t.VF),e.updateBtnByType(t.SS),e.updateBtnByType(t.UT),e.updateBtnByType(t.MYT),e.updateBtnByType(t.QX),e.updateBtnByType(t._L),e.updateBtnByType(t.AT),e.updateBtnByType(t.MZ),e.updateBtnByType(t.HY),e.updateBtnByType(t.SM)},t.prototype.__updateDirect=function(){var e=this;e.updateBtnByType(t.QX),e.updateBtnByType(t.SM)},t.prototype.__updateIndulge=function(){this.updateBtnByType(t.TA)},t.prototype.__updataffmInfoHandler=function(){this.updateBtnByType(t.AT)},t.prototype.__auctionHandler=function(){this.updateBtnByType(t.DB)},t.prototype.__mergeChargeHandler=function(){this.updateBtnByType(t.FR)},t.prototype.__switchChangeHandler=function(e){var n=this;e&&0!=e.length&&(e.indexOf(56)>=0&&n.updateBtnByType(t.QU),e.indexOf(64)>=0&&n.updateBtnByType(t.EK),e.indexOf(79)>=0&&n.updateBtnByType(t.HL),e.indexOf(83)>=0&&n.updateBtnByType(t.DB),e.indexOf(85)>=0&&n.updateBtnByType(t.TE),e.indexOf(99)>=0&&n.updateBtnByType(t.QJ),e.indexOf(100)>=0&&n.updateBtnByType(t.O_),e.indexOf(101)>=0&&n.updateBtnByType(t.KB),e.indexOf(107)>=0&&n.updateBtnByType(t.VW),e.indexOf(108)>=0&&n.updateBtnByType(t.MYT),e.indexOf(109)>=0&&n.updateBtnByType(t.UT),e.indexOf(1034)>=0&&n.updateBtnByType(t.AT),e.indexOf(44)>=0&&n.updateBtnByType(t.TA),e.indexOf(119)>=0&&n.updateBtnByType(t.SM))},t.prototype.__gangTreasureHandler=function(){this.updateBtnByType(t.KL)},t.prototype.__privilegeRewardHandler=function(){var e=this;e.updateBtnByType(t.XO),e.updateBtnByType(t.VK),e.updateBtnByType(t.ZA),e.updateBtnByType(t.XY),e.updateBtnByType(t.VO),e.updateBtnByType(t.ML),e.updateBtnByType(t.AW),e.updateBtnByType(t.YT),e.updateBtnByType(t.XP)},t.prototype.__bankGetUpdateHandler=function(){this.updateBtnByType(t.IR)},Object.defineProperty(t.prototype,"displayState",{get:function(){return this._displayState},set:function(e){var t=this;t._displayState!=e&&(t._displayState=e,egret.Tween.removeTweens(t.bigGroup),t._displayState?egret.Tween.get(t.bigGroup).to({x:32},400,egret.Ease.backOut):egret.Tween.get(t.bigGroup).to({x:-508},400,egret.Ease.backIn),t.noticeGuide())
},enumerable:!0,configurable:!0}),t.prototype.__volverGetUpdateHandler=function(){this.updateBtnByType(t.YW)},t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e),e.noticeGuide()},t.prototype.show=function(){e.prototype.show.call(this),this.noticeGuide()},t.prototype.noticeGuide=function(){var e=this,t=e.parent&&e._displayState;fNs.instance.execute(hXS.JF,t)},t.prototype.clickBtnByType=function(e){var t=this,n=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation;t.clickDic&&t.clickDic[e]&&(n[e]?t.clickDic[e](e):t.clickDic[e]())},t.prototype.sortBtn=function(e,n){var i=t.instance.sortDic;return i[e].index&&i[n].index?i[e].index>=i[n].index?1:-1:1},t.prototype.initBtnGroup=function(){var e=this,t=Object.keys(StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation);if(t)for(var n=0,i=t.length;i>n;n++){var r=t[n];e.btnArr_1.push(r),e.classsDic[r]=TopToolsGroupBtn,e.checkDic[r]=e.checkBtnGroup,e.clickDic[r]=rRcz.OG}},t.prototype.checkBtnGroup=function(e){var t=this,n=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation[e];if(!n)return!1;for(var i in n){var r=n[i],a=t.getBtnCheckByType(r);if("function"==typeof a&&a.call(t)&&t.commonCheck(r))return!0}return!1},t.prototype.getBtnByType=function(e){return this.allBtns[e]},t.prototype.getInsideBtnByType=function(e){return this.allGroupBtns[e]},t.prototype.getBtnClassByType=function(e){return this.classsDic[e]},t.prototype.getBtnCheckByType=function(e){return this.checkDic[e]},t.prototype.getBtnClickByType=function(e){return this.clickDic[e]},t.QO="rewardhall",t.AT="flower_fruit_mountain",t.MO="supreme",t.RX="landing_seven",t.IR="bank",t.JU="wealth_dish",t.EO="evdayrechg",t.XO="collection",t.OH="mini_client",t.JM="invite_friend",t.VK="attention",t.FX="share_game",t.JF="funny",t.VN="packs",t.FZ="all_together_gift",t.QU="super_vip",t.YQ="holy_egg",t.GQ="qbtopiccircle",t.FD="rebate",t.LZ="magic",t.EK="wanba_share",t.QI="straight_buy",t.KL="gang_treasure",t.EQ="tx_mini_client",t.DJ="tx_wanba_qqpet",t.ZA="qzone_cover",t.XY="real_name",t.YX="wanba_active",t.VO="bind_phone",t.AS="daily_activity",t.VF="treasury_activity",t.HL="collect_ranking",t.GE="qq_live_fuli",t.UH="qq_live_fuli_iOS",t.DB="auction",t.YW="volver",t.RZ="qq_game",t.TE="lucky_draw",t.QP="treasure_hunting",t.SI="activity_1111",t.FA="eliminate",t.GC="rank",t.O_="luckegg",t.FR="merge_charge",t.QJ="valentines",t.KB="continue_charge",t.CY="shop",t.SS="one_yuan_buy",t.UT="free_shop",t.VW="vow",t.MYT="achievement",t.FT="newrevelry",t._L="carnival",t.MZ="one_yuan_gift_package",t.HY="red_envelopes",t.QX="direct",t.ML="subscribe",t.TA="our_real_name",t.AW="wx_collection",t.YT="wx_float",t.CB="customer",t.YD="qq_customer",t.XP="super_vip",t.SM="direct_crash",t}(BarView);__reflect(TopToolsBar.prototype,"TopToolsBar");var WXJumpItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("WXJumpItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.cy,e),e.addEventListener(eui.RFS,e.rm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.cy,e),e.removeEventListener(eui.RFS,e.rm,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.gameImg.source=e.data.pic,e.gameName.text=e.data.to_game_name)},t.prototype.rm=function(){GObj.$d(this)},t.prototype.cy=function(){App.NG.shareRecommend(this.data)},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WXJumpItem.prototype,"WXJumpItem");var WXToolsBar=function(e){function t(){var n=e.call(this,"WXToolsBar")||this;return singleton(t._instance),t._instance=n,n.skinName=RRUU.$e("WXToolsBar"),n.y=340,n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"barType",{get:function(){return 1024},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.gameData=GObj.$c(eui.ArrayCollection),e.gameGroup.dataProvider=e.gameData,e.gameGroup.itemRenderer=WXJumpItem,e.gameTitle.text=fvg.GVf("privilege65"),e.updateView(),e.displayState=!1},t.prototype.initEvent=function(){var e=this;e.showBtn.addEventListener(eui.tep,e.__showSelfHandler,e),e.hideBtn.addEventListener(eui.tep,e.__hideSelfHandler,e),vkG.$a(UtJ.YT,e.__sceneSwitchHandler,e)},t.prototype.updateView=function(){var e=App.NG.getShareRecommend();if(e)for(var t=0,n=e.length;n>t&&!(t>=3);t++)this.gameData.source.push(e[t])},t.prototype.__showSelfHandler=function(e){var t=this;t.displayState=!0,t.showBtn.visible=!1,t.hideBtn.visible=!0},t.prototype.__hideSelfHandler=function(e){var t=this;t.displayState=!1,t.showBtn.visible=!0,t.hideBtn.visible=!1},t.prototype.__sceneSwitchHandler=function(){var e=this;1==App.UY.sceneType?e.show():e.hide()},Object.defineProperty(t.prototype,"displayState",{get:function(){return this._displayState},set:function(e){var t=this;if(t._displayState!=e){t._displayState=e;var n=t.displayGroup;egret.Tween.removeTweens(n),t._displayState?egret.Tween.get(n).to({x:32},400,egret.Ease.backOut):egret.Tween.get(n).to({x:-210},400,egret.Ease.backIn)}},enumerable:!0,configurable:!0}),t.prototype.hide=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.show=function(){e.prototype.show.call(this)},t}(BarView);__reflect(WXToolsBar.prototype,"WXToolsBar");var TooToolsMergeChargeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t}(TopToolsBaseBtn);__reflect(TooToolsMergeChargeBtn.prototype,"TooToolsMergeChargeBtn");var TopAchievementBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.NTG,t.id,t),vkG.$a(UtJ.KSQ,t.id,t),vkG.$a(UtJ._S,t.id,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.NTG,t.id,t),vkG.$r(UtJ.KSQ,t.id,t),vkG.$r(UtJ.MV,t.id,t)},t.prototype.initData=function(){this.id()},t.prototype.id=function(){var e=this;return UsU.HX()?void(e.gNlK=!0):void(e.gNlK=!1)},t}(TopToolsBaseBtn);__reflect(TopAchievementBtn.prototype,"TopAchievementBtn");var TopButtonGroupPopUi=function(e){function t(){var t=e.call(this,"TopButtonGroupPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.yc={},e.ah={},e.wb={},e.ed={},e.oz()},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.Event.ADDED_TO_STAGE,e.ph,e),vkG.$a(UtJ.IM,e.ty,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.Event.ADDED_TO_STAGE,e.ph,e),vkG.$r(UtJ.IM,e.ty,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e&&e.length>0){var i=e[0];n.x=i.x+5,n.y=i.y+30,n.hz=e[1],n.bgo(n.hz)}n.oz()},t.prototype.ty=function(){GObj.$d(this)},t.prototype.oz=function(){var e=this;if(e.hz){var t=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation[e.hz];if(t){for(var n=t.length,i=0;n>i;i++)e.updateBtnByType(t[i]);e.og()}}},t.prototype.updateBtnByType=function(e){var t=this;if(t.wb[e]){var n=t.wb[e];n.call(t.ed[e])&&TopToolsBar.instance.commonCheck(e)&&t.zm(e)}},t.prototype.vq=function(e){var t=TopToolsBar.instance;return t.getInsideBtnByType(e)},t.prototype.zm=function(e){var t=this,n=t.vq(e);t.cq(n,e)},t.prototype.cq=function(e,t){var n=this;if(!e.parent){var i,r=0,a=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation[n.hz],o=a.indexOf(t);if(o>=0)for(n.btnGroup.removeChildren(),r=0;r<a.length;r++)i=n.vq(a[r]),i&&(n.btnGroup.addChild(i),n.width=n.btnGroup.width+25)}},t.prototype.clickBtnByType=function(e){var t=this;t.yc&&t.yc[e]&&t.yc[e]()},t.prototype.ph=function(e){},t.prototype.bgo=function(e){var t=this,n=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation[e];for(var i in n){var r=n[i];t.ah[r]=TopToolsBar.instance.getBtnClassByType(r),t.wb[r]=TopToolsBar.instance.getBtnCheckByType(r),t.yc[r]=TopToolsBar.instance.getBtnClickByType(r),t.ed[r]=TopToolsBar.instance}},t.prototype.cl=function(){var e=this,t=e.hz;t&&(e.ed[t]=null,e.ah[t]=null,e.wb[t]=null,e.yc[t]=null)},t.prototype.og=function(){var e=this,t=58,n=6,i=13,r=egret.lifecycle.stage.stageWidth,a=r-e.x;e.su=Math.min(Math.floor((a-i)/(t+n)),Math.min(3,e.btnGroup.numChildren)),e.width=e.su*(t+n)+2*i,e.btnGroup.width=e.width-i,e.once(egret.Event.ENTER_FRAME,e.en,e)},t.prototype.en=function(){var e=this,t=6,n=26,i=58;e.ga=Math.ceil(e.btnGroup.numChildren/e.su),e.height=e.ga*(i+t)+1.5*n},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.cl(),t.btnGroup.removeChildren(),GObj.$d(t.barbg),t.barbg=null,GObj.$d(t.btnGroup),t.btnGroup=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(TopButtonGroupPopUi.prototype,"TopButtonGroupPopUi");var TopDirectBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.NTG,t.jj,t),vkG.$a(UtJ.KSQ,t.jj,t),vkG.$a(UtJ._S,t.jj,t),vkG.$a(UtJ.PP,t.jj,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.NTG,t.jj,t),vkG.$r(UtJ.KSQ,t.jj,t),vkG.$r(UtJ.MV,t.jj,t),vkG.$r(UtJ.PP,t.jj,t)},t.prototype.initData=function(){this.jj()},t.prototype.jj=function(){for(var e=this,t=1;6>=t;t++){if(UsU.WA(t))return void(e.gNlK=!0);e.gNlK=!1}},t}(TopToolsBaseBtn);__reflect(TopDirectBtn.prototype,"TopDirectBtn");var TopDirectCrashBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.ym,t),vkG.$a(UtJ.HX_,t.ym,t),vkG.$a(UtJ.HBA,t.ym,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.ym,t),vkG.$r(UtJ.HX_,t.ym,t),vkG.$r(UtJ.HBA,t.ym,t)},t.prototype.initData=function(){this.ym()},t.prototype.ym=function(){var e=this;e.gNlK=!1;var t=App.MG.getDirectCrashFunny();if(t){var n=t.bagList;if(n)for(var i=0,r=n.length;r>i;i++)if(e.gNlK=e.dy(n[i]),e.gNlK)return}},t.prototype.dy=function(e){if(!e)return!1;var t,n,i=e.conditionList[0].value;if(28===i?(t=!!App.RK.redEnvelopesInfo.ewc,n=App.DE.supremeCardVO.isWeek?2:0):(t=!!App.RK.redEnvelopesInfo["el_"+e.id],n=e.status),2==n){if(!t)return!0}else if(1==n)return!0;return!1},t}(TopToolsBaseBtn);__reflect(TopDirectCrashBtn.prototype,"TopDirectCrashBtn");var TopOneYuanBuyBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.AW,t.dp,t),vkG.$a(UtJ.PP,t.dp,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.AW,t.dp,t),vkG.$r(UtJ.PP,t.dp,t)},t.prototype.initData=function(){this.dp()},t.prototype.dp=function(){this.gNlK=UsU.LD()},t}(TopToolsBaseBtn);__reflect(TopOneYuanBuyBtn.prototype,"TopOneYuanBuyBtn");var TopSuperVipBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t.xl,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t.xl,t)},t.prototype.initData=function(){this.xl()},t.prototype.xl=function(){var e=this;return App.VX.qqcode||App.VX.birthday?void(e.gNlK=!1):void(e.gNlK=!0)},t}(TopToolsBaseBtn);__reflect(TopSuperVipBtn.prototype,"TopSuperVipBtn");var TopToolCarnivalBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.AW,t.gcv,t),vkG.$a(UtJ.PP,t.gcv,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.AW,t.gcv,t),vkG.$r(UtJ.PP,t.gcv,t)},t.prototype.initData=function(){this.gcv()},t.prototype.gcv=function(){var e=!1;e||(e=UsU.CL(10058)),e||(e=UsU.CL(10059)),e||(e=UsU.CL(10060)),e||(e=UsU.CL(10057)),e||(e=UsU.CL(10056)),e||(e=UsU.CL(10062)),e||(e=UsU.CL(10063)),this.gNlK=e},t}(TopToolsBaseBtn);__reflect(TopToolCarnivalBtn.prototype,"TopToolCarnivalBtn");var TopToolFestActBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){this.lq()},t.prototype.lq=function(){var e=!1;e||(e=UsU.CL(10058)),e||(e=UsU.CL(10059)),e||(e=UsU.CL(10060)),e||(e=UsU.CL(10057)),e||(e=UsU.CL(10056)),this.gNlK=e},t}(TopToolsBaseBtn);__reflect(TopToolFestActBtn.prototype,"TopToolFestActBtn");var TopToolRedEnvelopesBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.HBA,t.ur,t),vkG.$a(UtJ.PP,t.ur,t),vkG.$a(UtJ.XA,t.ef,t),vkG.$a(UtJ.RH,t.ef,t),vkG.$a(UtJ.KSQ,t.ef,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.HBA,t.ur,t),vkG.$r(UtJ.PP,t.ur,t),vkG.$r(UtJ.XA,t.ef,t),vkG.$r(UtJ.RH,t.ef,t),vkG.$r(UtJ.KSQ,t.ef,t)},t.prototype.initData=function(){this.ur()},t.prototype.ur=function(){this.gNlK=UsU._R()},t.prototype.ef=function(){if(App.KF.newbie&&kpd.FZ()&&!(kpd.DC()>=8)){this.ur();var e=kpd.getOpenServerZeroClock(),t=App.NN.serverSecond>=Math.floor(e/1e3)+604800,n=App.NN.serverSecond>=Math.floor(e/1e3)+86400&&!App.RK._redEnvelopesInfo.m_1;t&&n||!App.NG.isQQminiChannel()||App.RK._redEnvelopesInfo["m_"+kpd.FZ()]||QycO._A||!rRcz.SS(114,!1)||App.VS.popup(null,RedEnvelopesTips,void 0,1)}},t}(TopToolsBaseBtn);__reflect(TopToolRedEnvelopesBtn.prototype,"TopToolRedEnvelopesBtn");var TopToolsActivity1111Btn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){this.isBtnMc=!0},t}(TopToolsBaseBtn);__reflect(TopToolsActivity1111Btn.prototype,"TopToolsActivity1111Btn");var TopToolsAllTogetherGiftBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.tu,t),vkG.$a(UtJ.IN,t.dj,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.tu,t),vkG.$r(UtJ.IN,t.dj,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.rp=0,e.tu()},t.prototype.tu=function(e){var t=this,n=t.dv();if(!n)return void(e&&TopToolsBar.instance.updateBtnByType(TopToolsBar.FZ));if(!e||-1!=e.indexOf(n.id)){var i=!1,r=n.endTime-App.NN.serverSecond;if(r>0)for(var a=n.bagList,o=a.length,s=void 0,p=void 0,l=0;o>l;l++)if(s=a[l],p=s.conditionList[0],p&&p.value<=s.totalFinish&&App.KF.point>=p.p2&&s.haveGet<s.totalGet){i=!0;break}t.gNlK=i}},t.prototype.dj=function(){var e=this;e.rp!=App.KF.point&&(e.tu(),e.rp=App.KF.point)},t.prototype.dv=function(){var e=App.MG.allTogetherGift,t=e.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e[i],n.isExist)return n;return null},t}(TopToolsBaseBtn);__reflect(TopToolsAllTogetherGiftBtn.prototype,"TopToolsAllTogetherGiftBtn");var TopToolsAuctionBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.ma()},t.prototype.ma=function(){this.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsAuctionBtn.prototype,"TopToolsAuctionBtn");var TopToolsBankBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.VVN,t.de,t),vkG.$a(UtJ.HA,t.bd,t),vkG.$a(UtJ.IN,t.bd,t),vkG.$a(UtJ.ND,t.de,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.VVN,t.de,t),vkG.$r(UtJ.HA,t.bd,t),vkG.$r(UtJ.IN,t.bd,t),vkG.$r(UtJ.ND,t.de,t)},t.prototype.initData=function(){var e=this,t=XCA.CG(IDU.FV).split(QycO.PK);e.ob=[];for(var n=0;n<t.length;n++)e.ob.push(t[n].split(QycO.XP));e.ja=XCA.CG(IDU.SM).split(","),e.yx=XCA.CG(IDU.EU).split(","),e.bd(),e.de()},t.prototype.bd=function(){var e=this;e.mq=!1;var t=App.CC.bankbuy;if((1&t)>0&&(2&t)>0)vkG.$r(UtJ.HA,e.bd,e),vkG.$r(UtJ.IN,e.bd,e),e.eu();else{var n=void 0,i=App.XT.vipInfo.vipGrade,r=App.KF.point;if(0==(1&t)&&(n=e.ob[0],parseInt(n[0])<=i&&parseInt(n[1])<=r))return e.mq=!0,void e.eu();if(0==(2&t)&&(n=e.ob[1],parseInt(n[0])<=i&&parseInt(n[1])<=r))return e.mq=!0,void e.eu()}},t.prototype.de=function(){var e=this,t=App.CC.bankbuy,n=!1;if(e.vm=!1,(1&t)>0){for(var i=App.CC.bankgold,r=0;r<e.ja.length;r++)if(App.KF.days>=parseInt(e.ja[r])&&0==(i&1<<r)){n=!0;break}if(n)return e.vm=!0,void e.eu()}if((2&t)>0){for(var i=App.CC.bankgrow,r=0;r<e.yx.length;r++)if(App.KF.grade>=parseInt(e.yx[r])&&0==(i&1<<r)){n=!0;break}if(n)return e.vm=!0,void e.eu()}e.eu()},t.prototype.eu=function(){var e=this;e.mq||e.vm?e.gNlK=!0:e.gNlK=!1},t.prototype.dispose=function(){var t=this;t.ob=null,t.ja=null,t.yx=null,e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsBankBtn.prototype,"TopToolsBankBtn");var TopToolsBindPhoneBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.JT,t.nn,t),vkG.$a(UtJ.XO,t.nn,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.JT,t.nn,t),vkG.$r(UtJ.XO,t.nn,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.nn()},t.prototype.nn=function(){var e=App.VX.bindPhoneStatus;this.gNlK=1==e&&0==(1024&App.VX.rewardState)},t}(TopToolsBaseBtn);__reflect(TopToolsBindPhoneBtn.prototype,"TopToolsBindPhoneBtn");var TopToolsCollectionBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TopToolsBaseBtn);__reflect(TopToolsCollectionBtn.prototype,"TopToolsCollectionBtn");var TopToolsCollectRankingBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.OB,t.pe,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.OB,t.pe,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.gNlK=!1,ziI.BZ(11001)},t.prototype.pe=function(){this.gNlK=App.JUY.collHallInfo.count>0},t}(TopToolsBaseBtn);__reflect(TopToolsCollectRankingBtn.prototype,"TopToolsCollectRankingBtn");var TopToolsContinueChargeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.HD,t.ga,t),vkG.$a(UtJ.PP,t.me,t),vkG.$a(UtJ.DV,t.me,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.HD,t.ga,t),vkG.$r(UtJ.PP,t.me,t),vkG.$r(UtJ.DV,t.me,t)},t.prototype.ga=function(){var e=App.MG.getValueChargeRewardFunny();if(!e)return void this.dispose();var t=ClockManager.instance.serverSecond;t=e.endTime-t,0>=t&&TopToolsBar.instance.updateBtnByType(TopToolsBar.KB)},t.prototype.me=function(e){var t=0,n=App.MG.getValueChargeRewardFunny();if(n)for(var i=n.bagList.length,r=0;i>r;r++)if(1==n.bagList[r].status){t++;break}var a=App.MG.getValueChargeSupRewardFunny();if(a)for(var i=a.bagList.length,r=0;i>r;r++)if(1==a.bagList[r].status){t++;break}this.gNlK=t>0?!0:!1},t.prototype.initData=function(){var e=this;e.isBtnMc=!1,e.gNlK=!1,e.me(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsContinueChargeBtn.prototype,"TopToolsContinueChargeBtn");var TopToolsCustomerBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.JM,t.cf,t),vkG.$a(UtJ.XO,t.cf,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.JM,t.cf,t),vkG.$r(UtJ.XO,t.cf,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.cf()},t.prototype.cf=function(){this.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsCustomerBtn.prototype,"TopToolsCustomerBtn");var TopToolsDailyActivityBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TopToolsBaseBtn);__reflect(TopToolsDailyActivityBtn.prototype,"TopToolsDailyActivityBtn");var TopToolsEliminateBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.RMY,t.jn,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.RMY,t.jn,t)},t.prototype.initData=function(){this.jn()},t.prototype.jn=function(){this.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsEliminateBtn.prototype,"TopToolsEliminateBtn");var TopToolsEvDayRechargeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.Z_H,t.hu,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.Z_H,t.hu,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.yc=XCA.CG(IDU.LO).split(","),e.hu()},t.prototype.hu=function(){for(var e,t=this,n=App.ZF.evDayReChgVO.hr,i=App.ZF.evDayReChgVO.cd,r=!1,a=0;a<t.yc.length;a++)if(e=parseInt(t.yc[a]),i>=e&&0==(n&1<<e-1)){r=!0;break}r||1==App.ZF.evDayReChgVO.r?t.gNlK=!0:t.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsEvDayRechargeBtn.prototype,"TopToolsEvDayRechargeBtn");var TopToolsFFMountainBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xd(),e.iconView.loadCompleteCall(e.__iconLoaderComplete,e)},t.prototype.initData=function(){var e=this;e.gNlK=!1,e.ij(),e.xd()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.SWL,t.hi,t),vkG.$a(HUtJ.UPDATE_HOUR24,t.hi,t),vkG.$a(HUtJ.UPDATE_HOUR24,t.xd,t),vkG.$a(UtJ.XA,t.ij,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.SWL,t.hi,t),vkG.$r(HUtJ.UPDATE_HOUR24,t.hi,t),vkG.$r(HUtJ.UPDATE_HOUR24,t.xd,t),vkG.$r(UtJ.XA,t.ij,t)},t.prototype.hi=function(e){this.ij()},t.prototype.ij=function(){var e=this;console.log(""+kpd.formatDateBySec(App.NN.serverSecond)),console.log(""+kpd.FZ()),console.log("App.clock.date"+App.NN.date);var t=App.OO.getSubBossListByType();if(!t)return void(e.gNlK=!1);for(var n=t.length,i=0;n>i;i++){var r=t[i],a=gLw.FJ(r.tid);if(r&&CondHelp.WC(r.TSF.con,r.TSF.conval)&&kpd.FZ()<=7&&!App.OO.ffmListDic["die_"+a])return void(e.gNlK=!0)}e.gNlK=!1},t.prototype.xd=function(){var e=this,t=App.OO.currType;t&&(e.iconView.icon=kLM.BD(e.btnType+App.OO.currType))},t}(TopToolsBaseBtn);__reflect(TopToolsFFMountainBtn.prototype,"TopToolsFFMountainBtn");var TopToolsFirstRechargeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.HA,t.bs,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.HA,t.bs,t)},t.prototype.initData=function(){this.bs()},t.prototype.bs=function(){var e=this,t=App.XT.vipInfo.vipGrade,n=App.XT.vipInfo.rewardState;t>=1&&0==(2&n)||t>=3&&0==(8&n)?e.gNlK=!0:e.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsFirstRechargeBtn.prototype,"TopToolsFirstRechargeBtn");var TopToolsFreeShopBtn=function(e){function t(t){var n=e.call(this,t)||this;return n.checkChargeGift=0,n.checkValuePack=0,n}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.BM,t.pe,t),vkG.$a(UtJ.HA,t.pe,t),vkG.$a(UtJ.IN,t.je,t),vkG.$a(UtJ.WU,t.je,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.BM,t.pe,t),vkG.$r(UtJ.HA,t.pe,t),vkG.$r(UtJ.IN,t.je,t),vkG.$r(UtJ.WU,t.je,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!1,e.jz()},t.prototype.pe=function(){var e=this;e.checkChargeGift=UsU.BER()?1:0,e.qy()},t.prototype.je=function(){var e=this;e.checkValuePack=UsU.BOK()?2:0,e.qy()},t.prototype.qy=function(){var e=this;e.gNlK=(e.checkChargeGift|e.checkValuePack)>0},t.prototype.jz=function(){var e=this;XianLaiUtil.UN(e.btnType);e.iconView.icon=kLM.BD(e.btnType)},t}(TopToolsBaseBtn);__reflect(TopToolsFreeShopBtn.prototype,"TopToolsFreeShopBtn");var TopToolsFunnyBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.AW,t.xn,t),vkG.$a(UtJ.PP,t.xn,t),vkG.$a(UtJ.PT,t.xp,t),vkG.$a(UtJ.IU,t.ee,t),vkG.$a(UtJ.SQ,t.ee,t),vkG.$a(UtJ.DV,t.ee,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.AW,t.xn,t),vkG.$r(UtJ.PP,t.xn,t),vkG.$r(UtJ.PT,t.xp,t),vkG.$r(UtJ.IU,t.ee,t),vkG.$r(UtJ.SQ,t.ee,t),vkG.$r(UtJ.DV,t.ee,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.xn()},t.prototype.xn=function(e){for(var t,n=App.MG.funnyList.length,i=!1,r=0;n>r;r++)if(t=App.MG.funnyList[r],t.isExist&&t.hasReceiveBag){i=!0;break}i||(i=UsU.TTM()),this.gNlK=i},t.prototype.xp=function(e){e&&(e.indexOf(6)>=0||e.indexOf(7)>=0)&&this.xn()},t.prototype.ee=function(e){1==e&&this.xn()},t}(TopToolsBaseBtn);__reflect(TopToolsFunnyBtn.prototype,"TopToolsFunnyBtn");var TopToolsGoalBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.MV,t.es,t),vkG.$a(UtJ.FPF,t.es,t),vkG.$a(HUtJ.HEARTBEAT,t.gm,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.MV,t.es,t),vkG.$r(UtJ.FPF,t.es,t),vkG.$r(HUtJ.HEARTBEAT,t.gm,t)},t.prototype.initData=function(){var e=this;e.ya=XCA.MF(51),e.isBtnMc=!0,e.es()},t.prototype.es=function(){for(var e,t=App.AT.currDay,n=!1,i=0;t>i;i++)if(e=App.AT.getGoalDayInfoByDay(i),e&&UsU.XZ(e.type)){n=!0;break}this.gNlK=n},t.prototype.gm=function(){var e=this;if(e.ya){var t=App.NN.serverSecond,n=!!e.ya.open&&t>=(e.ya.start||0)&&t<(e.ya.end||0);n||vkG.$r(HUtJ.HEARTBEAT,e.gm,e)}},t.prototype.dispose=function(){this.ya=null,e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsGoalBtn.prototype,"TopToolsGoalBtn");var TopToolsGrilBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.HA,t.iq,t),vkG.$a(UtJ.DK,t.iq,t),vkG.$a(UtJ.HA,t.xq,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.HA,t.iq,t),vkG.$r(UtJ.DK,t.iq,t),vkG.$r(UtJ.HA,t.xq,t)},t.prototype.initData=function(){var e=this;e.cd=parseInt(XCA.CG(IDU.SN)),e.isBtnMc=!0,e.hk=App.XT.vipGrade,e.iq(),e.xq()},t.prototype.iq=function(){var e=this;e.gNlK=App.XT.vipInfo.vipGrade>=e.cd&&!App.XT.isget},t.prototype.xq=function(){var e=this;e.hk=App.XT.vipGrade,e.sr&&e.sr!=e.hk&&e.hk==StaticData.VIPPRE_7_LV&&rRcz.CA(),e.sr=e.hk},t}(TopToolsBaseBtn);__reflect(TopToolsGrilBtn.prototype,"TopToolsGrilBtn");var TopToolsGroupBtn=function(e){function t(t){var n=e.call(this,t)||this;return n.isClick=!1,n}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.qw=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation[t.btnType]||[]
},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this);for(var n=0,i=t.qw.length;i>n;n++){var r=t.qw[n];vkG.$a(UtJ.VYP+r,t.__aiW,t)}},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this);for(var n=0,i=t.qw.length;i>n;n++){var r=t.qw[n];vkG.$r(UtJ.VYP+r,t.__aiW,t)}},t.prototype.initData=function(){this.__aiW()},t.prototype.__aiW=function(){var e=this;if(("wanba_all"===e.btnType||"zhigou_all"===e.btnType)&&!e.isClick)return void(e.gNlK=!0);for(var t=StaticData.TOPTOOL_BAR_BTN_GROUP.matchRelation[e.btnType],n=0,i=t.length;i>n;n++){var r=TopToolsBar.instance.getInsideBtnByType(t[n]);if(r){var a=r.gNlK;if(a)return void(e.gNlK=!0)}}e.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsGroupBtn.prototype,"TopToolsGroupBtn");var TopToolsHolyEggBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.mr,t),vkG.$a(UtJ.DV,t.zm,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.mr,t),vkG.$r(UtJ.DV,t.zm,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.mr(),e.zm(null)},t.prototype.mr=function(e){var t=this,n=t.hb();if(!n.length)return void(e&&TopToolsBar.instance.updateBtnByType(TopToolsBar.YQ));var i,r,a,o=n.length;t.ll=!1;for(var s=0;o>s;s++){i=n[s],a=i.bagList.length;for(var p=0;a>p;p++)if(r=i.bagList[p],2!=r.status&&r.haveFinish>=r.totalFinish){t.ll=!0;break}}t.wf()},t.prototype.zm=function(e){var t=this,n=App.MG.holyegg,i=n.length,r=0;if(i>0)for(var a=void 0,o=void 0,s=0;i>s&&(a=n[s],a.isExist&&a.bagList&&(o=a.bagList[0],o&&o.conditionList[0]&&(r=App.FK.hsx(o.conditionList[0].p2))),!(r>0));s++);t.uf=r>0,t.wf()},t.prototype.wf=function(){var e=this;e.gNlK=e.uf||e.ll},t.prototype.hb=function(){var e,t=[],n=App.MG.holyegg,i=n.length;if(i>0)for(var r=void 0,a=0;i>a;a++)r=n[a],r.isExist&&(e=App.MG.findFunnyVoById(r.p4),e&&t.push(e));return t},t}(TopToolsBaseBtn);__reflect(TopToolsHolyEggBtn.prototype,"TopToolsHolyEggBtn");var TopToolsLandingSevenBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.OY,t.sq,t),vkG.$a(UtJ.XJ,t.sq,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.OY,t.sq,t),vkG.$r(UtJ.XJ,t.sq,t)},t.prototype.initData=function(){e.prototype.initData.call(this),this.sq()},t.prototype.sq=function(){for(var e=App.KF.award,t=!1,n=1;n<=App.KF.days;n++)if(t=0==(e&1<<n-1)){t=!0;break}this.gNlK=t},t}(TopToolsBaseBtn);__reflect(TopToolsLandingSevenBtn.prototype,"TopToolsLandingSevenBtn");var TopToolsLuckEggBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.xi,t),vkG.$a(UtJ.DV,t.pq,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.xi,t),vkG.$r(UtJ.DV,t.pq,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!1,e.xi(),e.pq(null)},t.prototype.xi=function(e){var t=this,n=App.MG.luckeggStage;if(!n.length)return void(e&&TopToolsBar.instance.updateBtnByType(TopToolsBar.O_));var i,r,a,o=n.length;t.ib=!1;for(var s=0;o>s;s++){i=n[s],a=i.bagList.length;for(var p=0;a>p;p++)if(r=i.bagList[p],2!=r.status&&r.haveFinish>=r.totalFinish){t.ib=!0;break}}t.eq()},t.prototype.pq=function(e){var t=this,n=0;n=App.FK.hsx(StaticData.TID_GOODS_58),t.om=n>0,t.eq()},t.prototype.eq=function(){var e=this,t=App.MG.luckegg[0];e.gNlK=(e.om||e.ib)&&t&&!t.isExpired},t}(TopToolsBaseBtn);__reflect(TopToolsLuckEggBtn.prototype,"TopToolsLuckEggBtn");var TopToolsMagicBtn=function(e){function t(t){var n=e.call(this,t)||this;return n.np=0,n}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.bi,t),vkG.$a(UtJ.DV,t.iq,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.bi,t),vkG.$r(UtJ.DV,t.iq,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.iq(null),e.bi()},t.prototype.bi=function(e){var t=this,n=t.zi();if(!n)return void(e&&TopToolsBar.instance.updateBtnByType(TopToolsBar.LZ));if(!e||-1!=e.indexOf(n.id)){var i,r;t.is=!1;var a=n.endTime-App.NN.serverSecond;if(a>0){r=n.bagList.length;for(var o=0;r>o;o++)if(i=n.bagList[o],2!=i.status&&i.haveFinish>=i.totalFinish){t.is=!0;break}}t.ar()}},t.prototype.iq=function(e){var t=this;t.np=App.FK.hsx(StaticData.TID_GOODS_35),t.ar()},t.prototype.ar=function(){var e=this;e.gNlK=e.is||e.np>1},t.prototype.zi=function(){var e=App.MG.magicstageList,t=e.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e[i],n.isExist)return n;return null},t}(TopToolsBaseBtn);__reflect(TopToolsMagicBtn.prototype,"TopToolsMagicBtn");var TopToolsMiniClientBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t._g,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t._g,t)},t.prototype.initData=function(){this._g()},t.prototype._g=function(){this.gNlK=1==App.VX.clientStatus&&0==(8&App.VX.rewardState)},t}(TopToolsBaseBtn);__reflect(TopToolsMiniClientBtn.prototype,"TopToolsMiniClientBtn");var TopToolsNewRevelryBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.ce,t),vkG.$a(UtJ.VFN,t.ce,t),vkG.$a(UtJ.MXL,t.ce,t),vkG.$a(UtJ.KWI,t.ce,t)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){this.gNlK=!1,ziI.MF("open_carnival"),ziI.MF("BossFrame")},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t.prototype.ce=function(e){var t=!1;t=UsU.AC(),t||(t=UsU.IU()),t||(t=UsU.PBX()),t||(t=UsU.ZX(4)),t||(t=UsU.ZX(5)),this.gNlK=t},t}(TopToolsBaseBtn);__reflect(TopToolsNewRevelryBtn.prototype,"TopToolsNewRevelryBtn");var TopToolsOneYuanGiftPackgeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.ri,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.ri,t)},t.prototype.initData=function(){this.ri()},t.prototype.ri=function(){this.gNlK=UsU.BQE()},t}(TopToolsBaseBtn);__reflect(TopToolsOneYuanGiftPackgeBtn.prototype,"TopToolsOneYuanGiftPackgeBtn");var TopToolsOurRealNameBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.JM,t.tco,t),vkG.$a(UtJ.XO,t.tco,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.JM,t.tco,t),vkG.$r(UtJ.XO,t.tco,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.tco()},t.prototype.tco=function(){this.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsOurRealNameBtn.prototype,"TopToolsOurRealNameBtn");var TopToolsPacksBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.yv,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.yv,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.yv(null)},t.prototype.yv=function(e){for(var t=this,n=App.MG.packstList,i=0;i<n.length;i++)if(n[i].isExist&&n[i].hasReceiveBag)return void(t.gNlK=!0);t.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsPacksBtn.prototype,"TopToolsPacksBtn");var TopToolsPrizeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.DV,t.fx,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.DV,t.fx,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.fx()},t.prototype.fx=function(){var e=App.FK.hsx(StaticData.TID_CLOCK_29);this.gNlK=e>0},t}(TopToolsBaseBtn);__reflect(TopToolsPrizeBtn.prototype,"TopToolsPrizeBtn");var TopToolsQQCustomerBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.JM,t.ef,t),vkG.$a(UtJ.XO,t.ef,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.JM,t.ef,t),vkG.$r(UtJ.XO,t.ef,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.ef()},t.prototype.ef=function(){this.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsQQCustomerBtn.prototype,"TopToolsQQCustomerBtn");var TopToolsQQGameBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t.jb,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t.jb,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.jb()},t.prototype.jb=function(){var e=2048&App.VX.rewardState;this.gNlK=0==e},t}(TopToolsBaseBtn);__reflect(TopToolsQQGameBtn.prototype,"TopToolsQQGameBtn");var TopToolsQQLiveBtn=function(e){function t(t){var n=this;return t="iOS"==egret.Capabilities.os?"qq_live_fuli_iOS":"qq_live_fuli",n=e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.YUJ,t.__taskCompleteHandler,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.YUJ,t.__taskCompleteHandler,t)},t.prototype.initData=function(){var e=this;e.tw=[9,55],e.isBtnMc=!0,e.gNlK=!1},t.prototype.__taskCompleteHandler=function(e){var t=this;!e||0>=e||t.tw.indexOf(e)>=0&&t.__clickHandler(null)},t.prototype.dispose=function(){this.tw=null,e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsQQLiveBtn.prototype,"TopToolsQQLiveBtn");var TopToolsQzoneCoverBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t.gy,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t.gy,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.gy(),e.lw()},t.prototype.gy=function(){var e=this,t=App.VX.wanbaCoverStatus;return 1==t&&0==(256&App.VX.rewardState)?void(e.gNlK=!0):void(e.gNlK=!1)},t.prototype.lw=function(){var e=this,t=App.BG.openId,n=StaticData.GAME_KEY,i=kLM._G("d.hgame.com/wanba/v3/cover/judge_cover_type?cover_id=130746&open_id="+t+"&game_key="+n);e.nr||(e.nr=GObj.$c(egret.HttpRequest),e.nr.responseType=egret.HttpResponseType.TEXT,e.nr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.nr.addEventListener(egret.Event.COMPLETE,e.ft,e),e.nr.addEventListener(egret.IOErrorEvent.IO_ERROR,e.vu,e)),e.nr.open(i,egret.HttpMethod.GET),e.nr.send()},t.prototype.ft=function(e){var t=this,n=JSON.parse(t.nr.response);if(n){var i=n.code,r=n.data?n.data.isUsed:!1;0==i&&r&&App.VX.extraData&&App.VX.extraData.wanbaCover&&(App.VX.extraData.wanbaCover.status=1,t.gy())}},t.prototype.vu=function(e){},t.prototype.dispose=function(){var t=this;e.prototype.dispose.call(this),t.nr&&(t.nr.removeEventListener(egret.Event.COMPLETE,t.ft,t),t.nr.removeEventListener(egret.IOErrorEvent.IO_ERROR,t.vu,t)),t.nr=null},t}(TopToolsBaseBtn);__reflect(TopToolsQzoneCoverBtn.prototype,"TopToolsQzoneCoverBtn");var TopToolsRankBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TopToolsBaseBtn);__reflect(TopToolsRankBtn.prototype,"TopToolsRankBtn");var TopToolsRealNameBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.TH,t.wi,t),vkG.$a(UtJ.XO,t.wi,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.TH,t.wi,t),vkG.$r(UtJ.XO,t.wi,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.wi()},t.prototype.wi=function(){this.gNlK=App.NG.isAdult()&&0==(512&App.VX.rewardState)},t}(TopToolsBaseBtn);__reflect(TopToolsRealNameBtn.prototype,"TopToolsRealNameBtn");var TopToolsRebatesBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.rb,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.rb,t)},t.prototype.rb=function(e){for(var t,n=App.MG.rebateList.length,i=!1,r=0;n>r;r++)if(t=App.MG.rebateList[r],t.isExist&&t.hasReceiveBag){i=!0;break}this.gNlK=i},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.rb(null)},t}(TopToolsBaseBtn);__reflect(TopToolsRebatesBtn.prototype,"TopToolsRebatesBtn");var TopToolsRewardHallBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.KUB,t.il,t),vkG.$a(UtJ.DL,t.il,t),vkG.$a(UtJ.JP,t.il,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(HUtJ.HEARTBEAT,t.kr,t),vkG.$r(HUtJ.HEARTBEAT,t.om,t),vkG.$r(UtJ.KUB,t.il,t),vkG.$r(UtJ.DL,t.il,t),vkG.$r(UtJ.JP,t.il,t)},t.prototype.initData=function(){this.il()},t.prototype.il=function(){var e=this;return UsU.YD()?void(e.gNlK=!0):UsU.JA()?void(e.gNlK=!0):UsU.JA()?void(e.gNlK=!0):UsU.FY()?void(e.gNlK=!0):(e.kr(),void(e.gNlK=!1))},t.prototype.kr=function(){var e=this;UsU.F_X()?vkG.$a(HUtJ.HEARTBEAT,e.ds,e):vkG.$r(HUtJ.HEARTBEAT,e.ds,e)},t.prototype.ds=function(){var e=this;return UsU.JA()?void(e.gNlK=!0):void(e.gNlK=!1)},t.prototype.om=function(){var e=this;UsU.AW()?vkG.$a(HUtJ.HEARTBEAT,e.bu,e):vkG.$r(HUtJ.HEARTBEAT,e.bu,e)},t.prototype.bu=function(){var e=this;return UsU.DO()?void(e.gNlK=!0):void e.il()},t}(TopToolsBaseBtn);__reflect(TopToolsRewardHallBtn.prototype,"TopToolsRewardHallBtn");var TopToolsShareBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initView=function(){var e=this;e.iconView.icon=kLM.BD(e.btnType)},t}(TopToolsBaseBtn);__reflect(TopToolsShareBtn.prototype,"TopToolsShareBtn");var TopToolsShopBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){this.gNlK=!1},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsShopBtn.prototype,"TopToolsShopBtn");var TopToolsShowCodeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){var e=this;e.isBtnMc=!1,e.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsShowCodeBtn.prototype,"TopToolsShowCodeBtn");var TopToolsSoaringBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PP,t.cq,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PP,t.cq,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.cq()},t.prototype.cq=function(e){var t=this,n=t.na();if(n&&(!e||-1!=e.indexOf(n.id))){for(var i,r=n.bagList.length,a=0;r>a;a++)if(i=n.bagList[a],2!=i.status&&i.haveFinish>=i.totalFinish)return void(t.gNlK=!0);t.gNlK=!1}},t.prototype.na=function(){var e=App.MG.soaringGift,t=e.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e[i],n.isExist)return n;return null},t}(TopToolsBaseBtn);__reflect(TopToolsSoaringBtn.prototype,"TopToolsSoaringBtn");var TopToolsStraightBuyBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.gNlK=!0},t.prototype.__clickHandler=function(t){var n=this;e.prototype.__clickHandler.call(this,t),n.gNlK&&(n.gNlK=!1)},t}(TopToolsBaseBtn);__reflect(TopToolsStraightBuyBtn.prototype,"TopToolsStraightBuyBtn");var TopToolsSubscribeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t.fq,t)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.initData=function(){var e=this;e.isBtnMc=!1,e.gNlK=!1,App.NN.registeClock(this,3e5),e.fq()},t.prototype.fq=function(){this.gNlK=0===(4096&App.VX.rewardState)&&App.NG.isSubscribe()},t.prototype.$clockExecute=function(){App.NG.isSubscribe()||0!==(4096&App.VX.rewardState)||rRcz.NO()},t}(TopToolsBaseBtn);__reflect(TopToolsSubscribeBtn.prototype,"TopToolsSubscribeBtn",["IClock"]);var TopToolsSupremeBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.HX_,t.yh,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.HX_,t.yh,t)},t.prototype.initData=function(){this.yh()},t.prototype.yh=function(e){var t=this,n=App.DE.supremeCardVO;return n.isWeek&&!n.isgetWeek?void(t.gNlK=!0):n.isMonth&&!n.isgetMonth?void(t.gNlK=!0):n.isExpCard&&!n.isGetExpCard?void(t.gNlK=!0):void(t.gNlK=!1)},t}(TopToolsBaseBtn);__reflect(TopToolsSupremeBtn.prototype,"TopToolsSupremeBtn");var TopToolsTangTreasureBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this);var n=XCA.CG(IDU.BC).split(QycO.XP);t.xl=parseInt(n[0]||"0"),t.yl=parseInt(n[2]||"0")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.FI,t.rd,t),vkG.$a(UtJ.HA,t.qi,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.FI,t.rd,t),vkG.$r(UtJ.HA,t.qi,t),vkG.$r(UtJ.HD,t.sa,t)},t.prototype.initData=function(){var e=this;e.rd(),e.isBtnMc=!0},t.prototype.rd=function(){var e=this,t=App.HD.gangTreasureInfo;e.kk=t.stime,e.uo=t.utime,e.th=t.otime,e.qj=t.award,e.jhp=!1,e.kk>0&&vkG.$a(UtJ.HD,e.sa,e),e.sa()},t.prototype.sa=function(){var e=this,t=e.xl-(e.th+int((GApp.timer-e.uo)/1e3));t>0?(e.timeTxt.text=fvg.GVf("gangt3",kpd.TV(t)),e.fw=!1):(e.fw=!0,vkG.$r(UtJ.HD,e.sa,e)),e.lp()},t.prototype.lp=function(){var e=this;return e.fw&&0==(1&e.qj)?void(e.gNlK=!0):e.fw&&App.XT.vipGrade>=e.yl&&0==(2&e.qj)?void(e.gNlK=!0):void(e.gNlK=!1)},t.prototype.qi=function(){this.lp()},t.prototype.__clickHandler=function(e){var t=this;return t._isBtnMc&&(t._isBtnMc=!1),t.btn_mc&&(GObj.$d(t.btn_mc),t.btn_mc=null),t.kk-int((GApp.timer-t.uo)/1e3)<=0?(App.TT.show(fvg.GVf("public035")),void TopToolsBar.instance.updateBtnByType(TopToolsBar.KL)):void(t.fw?TopToolsBar.instance.clickBtnByType(t.btnType):App.VS.openMain(10122))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsTangTreasureBtn.prototype,"TopToolsTangTreasureBtn");var TopToolsTreasureHuntingBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.DV,t.qo,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.DV,t.qo,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.qo()},t.prototype.qo=function(){var e=App.FK.hsx(App.MG.TreasureHunting.p1);this.redPointImg.visible=e>0?!0:!1},t}(TopToolsBaseBtn);__reflect(TopToolsTreasureHuntingBtn.prototype,"TopToolsTreasureHuntingBtn");var TopToolsTreasuryBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.DV,t.or,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.DV,t.or,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.or(null)},t.prototype.or=function(e){var t=this,n=App.MG.treasuryList,i=n.length,r=0,a=999;if(i>0)for(var o=void 0,s=void 0,p=0;i>p&&(o=n[p],o.isExist&&o.bagList&&(s=o.bagList[0],s&&o.p1&&(r=App.FK.hsx(o.p1),a=o.p2||999)),!(r>0));p++);t.im=r>=a,t.mc()},t.prototype.mc=function(){var e=this;e.gNlK=e.im||e.cu},t}(TopToolsBaseBtn);__reflect(TopToolsTreasuryBtn.prototype,"TopToolsTreasuryBtn");var TopToolsTxMiniClientBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t._f,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t._f,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e._f(),ClockManager.setTimeout(e.vd,this,2e3)},t.prototype._f=function(){var e=this,t=App.VX.txClientStatus;return 1==t&&0==(64&App.VX.rewardState)?void(e.gNlK=!0):1==t&&0==(128&App.VX.rewardState)?void(e.gNlK=!0):void(e.gNlK=!1)},t.prototype.vd=function(){var e=this,t=App.VX.txClientStatus,n=App.VX.txClientInstalled;(e._gNlK||0==t&&n)&&(TxMiniClientFrame.LC||e.__clickHandler(null))},t.prototype.__clickHandler=function(e){var t=this,n=App.VX.txClientStatus;return-1==n?void TopToolsBar.instance.updateBtnByType(TopToolsBar.EQ):(t._isBtnMc&&(t._isBtnMc=!1),t.btn_mc&&(GObj.$d(t.btn_mc),t.btn_mc=null),void TopToolsBar.instance.clickBtnByType(t.btnType))},t}(TopToolsBaseBtn);__reflect(TopToolsTxMiniClientBtn.prototype,"TopToolsTxMiniClientBtn");var TopToolsTxWanBaQQPetBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.PQI,t.bu,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.PQI,t.bu,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.bu()},t.prototype.bu=function(){var e,t=App.QA.getTaskListByType(5),n=!1;for(var i in t)if(e=t[i],e&&e.taskTemplate&&!e.isComp&&e.pro>=e.taskTemplate.maxValue){n=!0;break}this.gNlK=n},t.prototype.__clickHandler=function(e){var t=this,n=App.VX.txWanbaQQPet;return 1!=n?void TopToolsBar.instance.updateBtnByType(TopToolsBar.DJ):(t._isBtnMc&&(t._isBtnMc=!1),t.btn_mc&&(GObj.$d(t.btn_mc),t.btn_mc=null),void TopToolsBar.instance.clickBtnByType(t.btnType))},t}(TopToolsBaseBtn);__reflect(TopToolsTxWanBaQQPetBtn.prototype,"TopToolsTxWanBaQQPetBtn");var TopToolsValentinesBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(HUtJ.HEARTBEAT,t.qb,t),vkG.$a(UtJ.PP,t.ty,t),vkG.$a(UtJ.DV,t.ty,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(HUtJ.HEARTBEAT,t.qb,t),vkG.$r(UtJ.PP,t.ty,t),vkG.$r(UtJ.DV,t.ty,t)},t.prototype.qb=function(){var e=App.MG.getValentinesFunny();if(!e)return void this.dispose();var t=ClockManager.instance.serverSecond;t=e.endTime-t,0>=t&&TopToolsBar.instance.updateBtnByType(TopToolsBar.QJ)},t.prototype.ty=function(e){var t=0,n=App.MG.getValentinesRewardFunny();if(n){for(var i=n.bagList.length,r=0;i>r;r++)if(1==n.bagList[r].status){t++;break}var a=App.FK.hsx(StaticData.TID_GOODS_59);a>1&&t++}this.gNlK=t>0?!0:!1},t.prototype.initData=function(){var e=this;e.isBtnMc=!1,e.gNlK=!1,e.ty(null)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(TopToolsBaseBtn);__reflect(TopToolsValentinesBtn.prototype,"TopToolsValentinesBtn");var TopToolsVolverBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.YXZ,t.rg,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.YXZ,t.rg,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.rg()},t.prototype.rg=function(){var e=this;UsU.MJ()?e.gNlK=!0:e.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsVolverBtn.prototype,"TopToolsVolverBtn");var TopToolsWanBaShareBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.gNlK=!1},t}(TopToolsBaseBtn);__reflect(TopToolsWanBaShareBtn.prototype,"TopToolsWanBaShareBtn");var TopToolsWealthDishBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),App.AJ.add(KqZ.MM,t.pm,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),App.AJ.remove(KqZ.MM,t.pm,t)},t.prototype.initData=function(){var e=this,t=XCA.CG(IDU.QR);e.xq=t.split(","),e.isBtnMc=!1,e.pm()},t.prototype.pm=function(e){this.gNlK=!!App.AJ.getRedById(KqZ.MM)},t}(TopToolsBaseBtn);__reflect(TopToolsWealthDishBtn.prototype,"TopToolsWealthDishBtn");var TopToolsWxCollectionBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t.ts,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t.ts,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.ts()},t.prototype.ts=function(){this.gNlK=0===(8&App.VX.rewardState)},t}(TopToolsBaseBtn);__reflect(TopToolsWxCollectionBtn.prototype,"TopToolsWxCollectionBtn");var TopToolsWxFloatBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.XO,t.rp,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.XO,t.rp,t)},t.prototype.initData=function(){var e=this;e.isBtnMc=!0,e.rp()},t.prototype.rp=function(){this.gNlK=0===(16&App.VX.rewardState)},t}(TopToolsBaseBtn);__reflect(TopToolsWxFloatBtn.prototype,"TopToolsWxFloatBtn");var TopVowBtn=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;vkG.$a(UtJ.BZ,e.jp,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.BZ,e.jp,e)},t.prototype.initData=function(){this.jp()},t.prototype.jp=function(){this.gNlK=UsU.YKC()},t}(TopToolsBaseBtn);__reflect(TopVowBtn.prototype,"TopVowBtn");var HeadFightItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("HeadFightItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yf,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yf,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;if(e.rankLab.text=toChars(e.itemIndex+1),e.nameLab.text=toChars(t.name),e.numLab.text=toChars(t.score),e.itemIndex<3){var n=App.XB.memberList.fid||1,i=MartialArtOfficial["off"+(e.itemIndex+1)],r=StaticData.MARTIALT_APPELL[n+QycO.SY+i]||0;e.appellIcon.icon=kLM.EF(r)}else e.appellIcon.icon=null}},t.prototype.yf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.appellIcon),t.appellIcon=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HeadFightItem.prototype,"HeadFightItem");var IntoDiscipleItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("IntoDiscipleItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.appointBtn.label=fvg.GVf("martialart66"),e.cpLab.text=fvg.GVf("martialart48",25e3),e.expLab.text=fvg.GVf("martialart65",5),e.mj=parseInt(XCA.CG(IDU.FXI))||4},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.zu,e),e.cancelBtn.addEventListener(eui.tep,e.mm,e),e.appointBtn.addEventListener(eui.tep,e.xf,e)
},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.py=e.data,e.descLab.text=fvg.GVf("martialart_appell_"+App.XB.info.fid,e.py.fgrade)+e.py.fsname,e.nameLab.text=e.py.name;var t=App.XB.memberList.elite,n=t.indexOf(e.py.uid)>=0;e.cancelBtn.visible=n&&e.isHead,e.appointGroup.visible=n,e.appointBtn.visible=!n}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.zu,e),e.cancelBtn.removeEventListener(eui.tep,e.mm,e),e.appointBtn.removeEventListener(eui.tep,e.xf,e)},t.prototype.zu=function(e){GObj.$d(this)},t.prototype.mm=function(e){var t=this;t.py&&t.isHead&&AjJ.AI(2,t.py.uid)},t.prototype.xf=function(e){var t=this;if(t.py){if(!t.isHead)return void MessageTipManager.instance.show(fvg.GVf("martialart75"));var n=App.XB.memberList.elite.length;return n>=t.mj?void MessageTipManager.instance.show(fvg.GVf("martialart76")):void AjJ.AI(1,t.py.uid)}},Object.defineProperty(t.prototype,"isHead",{get:function(){var e=App.XB.memberList.dumap[MartialArtOfficial.off1];return App.KF.uid==e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.appointBtn),t.appointBtn=null,GObj.$d(t.appointGroup),t.appointGroup=null,GObj.$d(t.cpLab),t.cpLab=null,GObj.$d(t.expLab),t.expLab=null,t.py=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(IntoDiscipleItem.prototype,"IntoDiscipleItem");var IntoDisciplePopUi=function(e){function t(){var t=e.call(this,"IntoDisciplePopUi")||this;return t.skinName=RRUU.$s("IntoDisciplePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("martialart115"),e.descLab.text=fvg.GVf("martialart74"),e.personTxt.text=fvg.GVf("martialart111"),e.appointTxt.text=fvg.GVf("martialart66"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=IntoDiscipleItem,e.wj=parseInt(XCA.CG(IDU.FXI))||4},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.CT,e.ox,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.CT,e.ox,e)},t.prototype.initData=function(){for(var e,t=this,n=App.XB.memberList,i=n.memberList,r=i.length,a=App.XB.memberList.dumap[MartialArtOfficial.off1]||0,o=[],s=App.XB.memberList.elite,p=0;r>p;p++)e=i[p],e.type&&1==e.type||e.uid!=a&&(e.uid>0||s.indexOf(e.uid)>=0?t.datas.source.push(e):o.push(e));if(t.datas.length<10)for(var l=10-t.datas.length,p=0;l>p;p++)p<o.length&&t.datas.source.push(o[p]);t.ox()},t.prototype.ox=function(){var e=this;e.datas.source.sort(e.qp),e.datas.replaceAll(e.datas.source);var t=e.wj-App.XB.memberList.elite.length;e.moreLab.textFlow=LgRe.OQ(fvg.GVf("martialart61",t))},t.prototype.qp=function(e,t){var n=App.XB.memberList.elite.indexOf(e.uid)>=0,i=App.XB.memberList.elite.indexOf(t.uid)>=0;return n&&!i?-1:!n&&i?1:e.fgrade>t.fgrade?-1:e.fgrade<t.fgrade?1:0},t.prototype.hk=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.moreLab),t.moreLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.personTxt),t.personTxt=null,GObj.$d(t.appointTxt),t.appointTxt=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(IntoDisciplePopUi.prototype,"IntoDisciplePopUi");var KickAppellItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("KickAppellItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.withBtn.addEventListener(eui.tep,e.iz,e),e.addEventListener(eui.RFS,e.mv,e),vkG.$a(UtJ.OC,e.od,e),vkG.$a(UtJ.ZB,e.ga,e)},t.prototype.removeEvent=function(){var e=this;e.withBtn.removeEventListener(eui.tep,e.iz,e),e.removeEventListener(eui.RFS,e.mv,e),vkG.$r(UtJ.OC,e.od,e),vkG.$r(UtJ.ZB,e.ga,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ja=e.data,e.avatarIcon.icon=kLM.EF(e.ja.tid),e.gv(),e.mu(),e.ga())},t.prototype.od=function(e){var t=this;t.ja&&e&&e.indexOf(t.ja.tid)>=0&&(t.mu(),t.ga())},t.prototype.mu=function(){var e=this,t=1==(e.ja.isact||0);e.needTxt.text=fvg.GVf("martialart58",e.ja.p2||0),e.needTxt.textColor=t?Color.TX:Color.KA,e.needTxt.y=t?58:37},t.prototype.ga=function(){var e=this;e.withBtn.visible=1==(e.ja.isact||0),App.KF.apid==e.ja.tid?(e.withBtn.label=fvg.GVf("appell2"),e.withBtn.bgImg.source="core_json.btn_2_png"):(e.withBtn.label=fvg.GVf("appell1"),e.withBtn.bgImg.source="core_json.btn_1_png")},t.prototype.gv=function(){var e=this,t=e.ja.attrid,n=XCA.YV(t);e.attrsTxt.text="";var i,r="";if(n){for(i in xxf.UK)n[i]&&(r&&(r+="\n"),r+=fvg.GVf("441",xxf.UK[i],n[i]));for(i in xxf.IM)n[i]&&(r&&(r+="\n"),r+=fvg.GVf("441",xxf.IM[i],(n[i]/10).toFixed(1)+"%"))}e.attrsTxt.textFlow=LgRe.OQ(r)},t.prototype.iz=function(e){var t=this;t.ja&&1==(t.ja.isact||0)&&(App.KF.apid==t.ja.tid?AppellMsgProxy.OR(2,t.ja.tid):AppellMsgProxy.OR(1,t.ja.tid))},t.prototype.mv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.attrsTxt),t.attrsTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.avatarIcon),t.avatarIcon=null,GObj.$d(t.withBtn),t.withBtn=null,t.ja=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(KickAppellItem.prototype,"KickAppellItem");var KickAppellPopUi=function(e){function t(){var t=e.call(this,"KickAppellPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.horizontalCenter=0,e.verticalCenter=0,e.descTxt.text=fvg.GVf("martialart57"),e.appellData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.appellData,e.itemGroup.itemRenderer=KickAppellItem,e.appellTitle.text=fvg.GVf("martialart108"),e.attrTitle.text=fvg.GVf("martialart109"),e.scoreTitle.text=fvg.GVf("martialart110"),e.frameGroup.title=fvg.GVf("martialart107")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.XW,e.ai,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.XW,e.ai,e)},t.prototype.initData=function(){var e,t=this,n=XCA.allTemplateData.appelltemp;for(var i in n)e=n[i],410==AppellTemplate.TN(e.tid)&&t.appellData.source.push(e);t.appellData.refresh(),t.ai()},t.prototype.ai=function(){this.myScoreTxt.text=fvg.GVf("martialart100",App.XB.info.tscore)},t.prototype.oj=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.myScoreTxt),t.myScoreTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.appellData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(KickAppellPopUi.prototype,"KickAppellPopUi");var KickFactionRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("KickFactionRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.mb,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.mb,e)},t.prototype.mb=function(e){GObj.$d(this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=XCA.DG(36,t.rank);if(n){var i=Nkz.PI(n);i&&i.length>0&&(e.goodsItem.data=i[0])}e.factionLab.text=fvg.GVf("martialart_name_"+t.fid),e.scoreLab.text=t.score.toString(),t.name?e.headLab.text=t.name:e.headLab.text=fvg.GVf("rank10"),e.data.rank>0&&e.data.rank<=3?(1==e.data.rank?e.rankImg.y=-9:e.rankImg.y=5,e.rankImg.visible=!0,e.rankLab.visible=!1,e.rankImg.source=kLM.TE(t.rank)):(e.rankImg.visible=!1,e.rankLab.visible=!0,e.rankLab.text=e.data.rank)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.factionLab),t.factionLab=null,GObj.$d(t.headLab),t.headLab=null,GObj.$d(t.scoreLab),t.scoreLab=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankLab),t.rankLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(KickFactionRankItem.prototype,"KickFactionRankItem");var KickRankingItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("KickRankingItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.va,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.va,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;t.rank<=3?(e.rankingTxt.text="",e.rankingImg.source=kLM.TE(t.rank)):(e.rankingTxt.text=toChars(t.rank),e.rankingImg.source=""),e.nameTxt.text=t.name;var n=t.fid||1;e.martalTxt.text=fvg.GVf("martialart_name_"+n),e.scoreTxt.text=toChars(t.score);var i=XCA.DG(29,t.rank);if(i){var r=Nkz.PI(i);r&&r.length>0&&(e.goodsItem.data=r[0])}}},t.prototype.va=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankingTxt),t.rankingTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.martalTxt),t.martalTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.rankingImg),t.rankingImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(KickRankingItem.prototype,"KickRankingItem");var KickRankingPopUi=function(e){function t(){var t=e.call(this,"KickRankingPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rankData=GObj.$c(eui.ArrayCollection),e.factionData=GObj.$c(eui.ArrayCollection),e.zt=GObj.$c(kQr),e.zt.cwA(e.personalBtn),e.zt.cwA(e.factionBtn),e.zx=GObj.$c(RankListVO),e.personalBtn.label=fvg.GVf("martialart54"),e.factionBtn.label=fvg.GVf("martialart55"),e.rankTitle.text=fvg.GVf("rank4"),e.nameTitle.text=fvg.GVf("17"),e.scoreTitle.text=fvg.GVf("martialart103"),e.awardTitle.text=fvg.GVf("martialart104"),e.frameGroup.title=fvg.GVf("martialart104")},t.prototype.initEvent=function(){var e=this;e.zt.addEventListener(egret.Event.CHANGE,e.ck,e),vkG.$a(UtJ.TT,e.bo,e)},t.prototype.removeEvent=function(){var e=this;e.zt.removeEventListener(egret.Event.CHANGE,e.ck,e),vkG.$r(UtJ.TT,e.bo,e)},t.prototype.initData=function(){this.zt.selectedIndex=0,RankMsgProxy.IU(FDG.CWX),RankMsgProxy.IU(FDG.TK)},t.prototype.bo=function(e){var t=this;if(e&&e.list){var n=e.list.length;if(e.type==FDG.CWX){t.rankData.source.length=0;for(var i=0;n>i;i++)t.rankData.source.push(e.list[i]);t.rankData.refresh(),t.zx=e}else if(e.type==FDG.TK){t.factionData.source.splice(0,t.factionData.source.length);for(var r=0;n>r;r++)t.factionData.source.push(e.list[r])}t.ck(null)}},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.hj=function(e){GObj.$d(this)},t.prototype.ck=function(e){var t=this,n=t.zt.LuO;switch(n){case t.personalBtn:t.rankingGroup.dataProvider=t.rankData,t.rankingGroup.itemRenderer=KickRankingItem;var i=App.XB.info.score||0,r=t.zx.order?t.zx.order.toString():"10+";t.myRankTxt.text=fvg.GVf("rank0",r),t.myScoreTxt.text=fvg.GVf("martialart100",i),t.myScoreTxt.textColor=Color.SE,t.descTxt.text=fvg.GVf("martialart101"),t.nameTitle.text=fvg.GVf("17"),t.scoreTitle.text=fvg.GVf("martialart103");break;case t.factionBtn:t.rankingGroup.dataProvider=t.factionData,t.rankingGroup.itemRenderer=KickFactionRankItem,t.myRankTxt.text=fvg.GVf("rank1",fvg.GVf("martialart_name_"+App.KF.fid)),t.myScoreTxt.text=fvg.GVf("martialart56");var a=App.XB.info.fgrade||1;t.myScoreTxt.textColor=a>=6?Color.TX:Color.KA,t.descTxt.text=fvg.GVf("martialart53"),t.nameTitle.text=fvg.GVf("martialart106"),t.scoreTitle.text=fvg.GVf("martialart105")}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myScoreTxt),t.myScoreTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rankingGroup&&(t.rankingGroup.dataProvider=null,GObj.$d(t.rankingGroup)),t.rankingGroup=null,t.rankData=null,GObj.$d(t.personalBtn),t.personalBtn=null,GObj.$d(t.factionBtn),t.factionBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(KickRankingPopUi.prototype,"KickRankingPopUi");var MartialArtBoxPopUi=function(e){function t(){var t=e.call(this,"MartialArtBoxPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this._itemArr=[]},t.prototype.initEvent=function(){},t.prototype.initData=function(){},t.prototype.removeEvent=function(){},t.prototype.zj=function(e){GObj.$d(this)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;if(e&&e.length>=3){var i=e[0],r=e[1],a=e[2],o=QycO.OK;e.length>4&&(o=e[3]),n.frameGroup.title=a,n.descLab.text=o;var s=XCA.DG(i,r),p=Nkz.PI(s);if(!p)return;for(var l,c,u=p.length,d=.5*(356-86*u-18)+27,g=0;u>g;g++)c=p[g],l=n._itemArr[g],l||(l=GObj.$c(GoodsItemView),n._itemArr.push(l)),l.data=c,l.x=d+86*g,l.y=100,n.addChild(l)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t._itemArr),t._itemArr=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MartialArtBoxPopUi.prototype,"MartialArtBoxPopUi");var MartialArtChatItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MartialArtChatItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=t.text;n=usable(t.textFormat)?t.textFormat:App.FQ.getFormatBulletinString(t),LgRe.UQ(e.contentTxt,fvg.GVf("martialart17",t.name,n))}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pm,e)},t.prototype.pm=function(e){GObj.$d(this)},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MartialArtChatItem.prototype,"MartialArtChatItem");var MartialArtDonationItem=function(e){function t(){var t=e.call(this)||this;return t._t=10,t.wd=1e3,t.wb=100,t.ah=1,t.ny=2,t.vbx=0,t.skinName=RRUU.$s("MartialArtDonationItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.badgeDescLab.text=fvg.GVf(32),e.prestigeDescLab.text=fvg.GVf("renown2"),e.prestigeLab.text="+5"},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.titleImg.source="martialart_3_json.martialart_donation_"+e.data+"_png",e.iconImg.source="martialart_3_json.martialart_donation_icon_"+e.data+"_png",e.ah==e.data?(e.coinImg.source=kLM.XD(1),e.coinImg.x=27,e.coinLab.text=e.wd.toString(),e.coinLab.x=e.coinImg.x+73,e.badgeLab.text="+10"):(e.donationBtn.labelDisplay.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("martialart9")),e.coinImg.source="game_json.gold_png",e.coinImg.x=30,e.badgeLab.text="+100",e.coinLab.text=e.wb.toString(),e.coinLab.x=e.coinImg.x+73),e.ie())},t.prototype.initEvent=function(){var e=this;e.donationBtn.addEventListener(eui.tep,e.wl,e),e.addEventListener(eui.RFS,e.qf,e),vkG.$a(UtJ.XW,e.ie,e)},t.prototype.removeEvent=function(){var e=this;e.donationBtn.removeEventListener(eui.tep,e.wl,e),e.removeEventListener(eui.RFS,e.qf,e),vkG.$r(UtJ.XW,e.ie,e)},t.prototype.ie=function(){var e=this;e.ah==e.data?(e.vbx=App.XB.info.gct||0,e.vbx>0?(e.donationBtn.labelDisplay.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("martialart10",Color.SQ,e.vbx,e._t)),e.donationBtn.icon=App.KF.gold<e.wd?null:StaticData.GHj):(e.donationBtn.labelDisplay.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("martialart10",Color.KA,e.vbx,e._t)),e.donationBtn.icon=null),App.KF.gold<e.wd?e.coinLab.textColor=Color.KA:e.coinLab.textColor=Color.XB):App.KF.point<e.wb?e.coinLab.textColor=Color.KA:e.coinLab.textColor=Color.XB},t.prototype.wl=function(e){var t=this;if(t.ah==t.data){if(t.vbx<=0)return void MessageTipManager.instance.show(fvg.GVf(26));if(App.KF.gold<t.wd)return void MessageTipManager.instance.show(fvg.GVf("moneyType1"))}else if(App.KF.point<t.wb)return void MessageTipManager.instance.show(fvg.GVf("moneyType2"));MessageTipManager.instance.show(fvg.GVf("martialart40")),App.JA.checkIncome(t.pj,t)},t.prototype.pj=function(){AjJ.SU(this.data)},t.prototype.qf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.badgeLab),t.badgeLab=null,GObj.$d(t.donationBtn),t.donationBtn=null,GObj.$d(t.coinImg),t.coinImg=null,GObj.$d(t.coinLab),t.coinLab=null,GObj.$d(t.prestigeLab),t.prestigeLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MartialArtDonationItem.prototype,"MartialArtDonationItem");var MartialArtDonationPopUi=function(e){function t(){var t=e.call(this,"MartialArtDonationPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("martialart116"),e.badgeLab.text=fvg.GVf(32),e.exchangeBtn.label=fvg.GVf("martialart6"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=MartialArtDonationItem;for(var t=0;2>t;t++)e.datas.source.push(t+1)},t.prototype.initEvent=function(){var e=this;e.exchangeBtn.addEventListener(eui.tep,e.wh,e),vkG.$a(UtJ.XW,e.hn,e)},t.prototype.hn=function(){var e=App.XB.info.fm||0;this.numLab.text=toChars(e)},t.prototype.initData=function(){this.hn()},t.prototype.removeEvent=function(){var e=this;e.exchangeBtn.removeEventListener(eui.tep,e.wh,e),vkG.$r(UtJ.XW,e.hn,e)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.cv=function(e){GObj.$d(this)},t.prototype.wh=function(e){GObj.$d(this),App.VS.open(10093)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.badgeLab),t.badgeLab=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.exchangeBtn),t.exchangeBtn=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MartialArtDonationPopUi.prototype,"MartialArtDonationPopUi");var MartialArtHeadFightPopUi=function(e){function t(){var t=e.call(this,"MartialArtHeadFightPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("martialart121"),e.descLab.text=fvg.GVf("martialart63"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=HeadFightItem,e.rankTxt.text=fvg.GVf("public061"),e.winTxt.text=fvg.GVf("martialart122"),e.awardTxt.text=fvg.GVf("martialart104")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.FQ,e.pu,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.FQ,e.pu,e)},t.prototype.initData=function(){AjJ.KP(),this.pu()},t.prototype.pu=function(){var e=this;if(e.CSo){var t=App.XB.dutyRankInfo;if(t){e.myLab.text=fvg.GVf("rank0",t.myrank?t.myrank:fvg.GVf("public042")),e.winsLab.text=fvg.GVf("martialart64",t.myscore||0);var n=t.rank||[];e.datas.source.splice(0,e.datas.length);for(var i=0;i<n.length;i++)e.datas.source.push(n[i]);e.datas.refresh()}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.myLab),t.myLab=null,GObj.$d(t.winsLab),t.winsLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.winTxt),t.winTxt=null,GObj.$d(t.awardTxt),t.awardTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MartialArtHeadFightPopUi.prototype,"MartialArtHeadFightPopUi");var MartialArtInfoItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MartialArtInfoItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=App.XB.info,i=t.dutyId;0==i?usable(t.fsname)?e.positionLab.text=t.fsname:e.positionLab.text=fvg.GVf("martialart_duty_0"):e.positionLab.text=fvg.GVf("martialart_"+n.fid+"_"+i),e.nameLab.text=t.name,e.fightLab.text=t.cap+"",t.uid==App.BG.jkU.uid?(e.nameLab.textColor=834297,e.fightLab.textColor=834297,e.positionLab.textColor=834297):(e.nameLab.textColor=15858941,e.fightLab.textColor=15858941,e.positionLab.textColor=14532388)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.qd,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.qd,e)},t.prototype.qd=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.positionLab),t.positionLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.fightLab),t.fightLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MartialArtInfoItem.prototype,"MartialArtInfoItem");var MartialArtInfoPopUi=function(e){function t(){var t=e.call(this,"MartialArtInfoPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("17"),e.memberdatas=GObj.$c(eui.ArrayCollection),e.memberGroup.dataProvider=e.memberdatas,e.memberGroup.itemRenderer=MartialArtInfoItem,e.descLab.text=fvg.GVf("martialart16"),e.posTxt.text=fvg.GVf("zhenwu6"),e.nameTxt.text=fvg.GVf("460"),e.fightTxt.text=fvg.GVf("11"),e.sayTitleLbl.text=fvg.GVf("martialart118"),e.chatdatas=GObj.$c(eui.ArrayCollection),e.chatGroup.dataProvider=e.chatdatas,e.chatGroup.itemRenderer=MartialArtChatItem,e.th()},t.prototype.th=function(){var e=this;e.md(),e.dw();var t=App.FQ.martialArtList,n=t.length,i=0;n>5&&(i=n-5,n=i+5);for(var r=0;n>i;i++)e.chatdatas.source[r]=t[i],r++;e.chatdatas.refresh()},t.prototype.initEvent=function(){var e=this;e.chatBtn.addEventListener(eui.tep,e.zr,e),e.rebellionBtn.addEventListener(eui.tep,e.rm,e),vkG.$a(UtJ.XW,e.dw,e),vkG.$a(UtJ.CT,e.md,e)},t.prototype.initData=function(){},t.prototype.removeEvent=function(){var e=this;e.chatBtn.removeEventListener(eui.tep,e.zr,e),e.rebellionBtn.removeEventListener(eui.tep,e.rm,e),vkG.$r(UtJ.XW,e.dw,e),vkG.$r(UtJ.CT,e.md,e)},t.prototype.rm=function(e){this.dispose(),App.VS.open(10082)},t.prototype.zr=function(e){App.VS.open(10074)},t.prototype.ad=function(e){var t=this;t.chatdatas&&3==e.op&&(t.chatdatas.source.length>=ChatManager.DP&&t.chatdatas.removeItemAt(0),t.chatdatas.addItem(e))},t.prototype.dw=function(){var e=this,t=App.XB.info;switch(t.fid){case 1:e.iconImg.source="martialart_3_json.martialart_icon_1_png";break;case 2:e.iconImg.source="martialart_3_json.martialart_icon_2_png";break;case 3:e.iconImg.source="martialart_3_json.martialart_icon_3_png";break;case 4:e.iconImg.source="martialart_3_json.martialart_icon_4_png"}e.gangLab.text=fvg.GVf("martialart_name_"+t.fid)},t.prototype.md=function(){var e=this,t=App.XB.memberList;e.nameLab.text=t.chairmanVo?t.chairmanVo.name:fvg.GVf("martialart32"),e.memberdatas.source.splice(0,e.memberdatas.source.length);for(var n=t.memberList,i=n.length,r=0;i>r;r++){var a=n[r];a.type&&1==a.type||(a.uid==App.BG.jkU.uid?e.memberdatas.source.unshift(n[r]):e.memberdatas.source.push(n[r]))}e.memberdatas.refresh()},t.prototype.xr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.memberScroller&&(t.memberScroller.stopAnimation(),t.memberScroller.viewport=null,GObj.$d(t.memberScroller)),t.memberScroller=null,t.memberGroup&&(t.memberGroup.dataProvider=null,GObj.$d(t.memberGroup)),t.memberGroup=null,t.chatScroller&&(t.chatScroller.stopAnimation(),t.chatScroller.viewport=null,GObj.$d(t.chatScroller)),t.chatScroller=null,t.chatGroup&&(t.chatGroup.dataProvider=null,GObj.$d(t.chatGroup)),t.chatGroup=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.gangLab),t.gangLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.rebellionBtn),t.rebellionBtn=null,GObj.$d(t.chatBtn),t.chatBtn=null,GObj.$d(t.posTxt),t.posTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.fightTxt),t.fightTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MartialArtInfoPopUi.prototype,"MartialArtInfoPopUi");var MartialArtItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MartialArtItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.img_2.source="martialart_2_json.martialart_open_"+e.data.type+"_png",e.img_1.source="martialart_2_json.martialart_close_"+e.data.type+"_png",e.data.hot&&!App.XB.info.fid)},t.prototype.invalidateState=function(){var t=this;e.prototype.invalidateState.call(this);var n=t.getCurrentState(),i=!1;"up"==n||"down"==n?t.width=80:(t.width=180,i=!0),t._hotImg&&(t._hotImg.visible=i),t.ct&&(t.ct.visible=i),t.goldImg&&(t.goldImg.visible=i),t.zq&&(t.zq.visible=i)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pw,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pw,e)},t.prototype.pw=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.img_1),t.img_1=null,GObj.$d(t.img_2),t.img_2=null,GObj.$d(t._hotImg),t._hotImg=null,GObj.$d(t.ct),t.ct=null,GObj.$d(t.zq),t.zq=null,GObj.$d(t.goldImg),t.goldImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MartialArtItem.prototype,"MartialArtItem");var MartialArtLeaderView=function(e){function t(t){var n=e.call(this,"MartialArtLeaderView")||this;return n.gl=0,n.oj=0,n.wf=0,n.ci=0,n.rl=0,n.dj=300,n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.KF.fid||1;e.ll=GObj.$c(MartialArtMemberInfoItem,MartialArtOfficial.off1),e.ll.x=157,e.ll.y=86,e.ce=GObj.$c(MartialArtMemberInfoItem,MartialArtOfficial.off2),e.ce.x=297,e.ce.y=186,e.hk=GObj.$c(MartialArtMemberInfoItem,MartialArtOfficial.off3),e.hk.x=29,e.hk.y=186,e.addChildAt(e.ce,1),e.addChildAt(e.ll,2),e.addChildAt(e.hk,3),e._appellImg_1=GObj.$c(eui.Image),e._appellImg_1.x=78,e._appellImg_1.y=-2,e._appellImg_1.source=kLM.DO(1,t),e.appellGroup.addChild(e._appellImg_1),e._appellImg_2=GObj.$c(eui.Image),e._appellImg_2.x=114,e._appellImg_2.y=30,e._appellImg_2.source=kLM.DO(2,t),e.appellGroup.addChild(e._appellImg_2),e._appellImg_3=GObj.$c(eui.Image),e._appellImg_3.x=41,e._appellImg_3.y=30,e._appellImg_3.source=kLM.DO(3,t),e.appellGroup.addChild(e._appellImg_3),e.oj=StaticData.MARTIALT_LEADER_FIGHT_COUNT,e.challengeBtn.label=fvg.GVf("martialart62"),e.numLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("teamcopy32",Color.KA,"0/"+e.oj)),e.autoBtn.label=fvg.GVf("crossarena45"),e.matchingTxt.text=fvg.GVf("crossarena49"),e.gl=parseInt(XCA.CG(IDU.EL))||0,e.ci=50,e.wy(),e.vn(),e.az(),e.autoBtn.selected=App.XB.info?App.XB.info.autoState:!1,e.cq(),App.XB.info&&App.XB.info.autoState&&ClockManager.setTimeout(e.xl,this,3e3)},t.prototype.initEvent=function(){var e=this;e.rankBtn.addEventListener(eui.tep,e._r,e),e.wealthBtn.addEventListener(eui.tep,e.zx,e),e.discipleBtn.addEventListener(eui.tep,e.sj,e),e.factionBtn.addEventListener(eui.tep,e.dv,e),e.addBtn.addEventListener(eui.tep,e.yk,e),e.challengeBtn.addEventListener(eui.tep,e.js,e),e.autoBtn.addEventListener(eui.tep,e.mh,e),vkG.$a(UtJ.XW,e.wy,e),vkG.$a(UtJ.CT,e.vn,e),vkG.$a(HUtJ.HEARTBEAT,e.az,e),vkG.$a(UtJ.YJ,e.mo,e)
},t.prototype.initData=function(){this.mo()},t.prototype.removeEvent=function(){var e=this;e.rankBtn.removeEventListener(eui.tep,e._r,e),e.wealthBtn.removeEventListener(eui.tep,e.zx,e),e.discipleBtn.removeEventListener(eui.tep,e.sj,e),e.factionBtn.removeEventListener(eui.tep,e.dv,e),e.addBtn.removeEventListener(eui.tep,e.yk,e),e.challengeBtn.removeEventListener(eui.tep,e.js,e),e.autoBtn.removeEventListener(eui.tep,e.mh,e),vkG.$r(UtJ.XW,e.wy,e),vkG.$r(UtJ.CT,e.vn,e),vkG.$r(HUtJ.HEARTBEAT,e.az,e),vkG.$r(UtJ.YJ,e.mo,e)},t.prototype.mo=function(){this.addBtn.visible=!IoG.EZ()},t.prototype.wy=function(){var e,t=this,n=App.XB.info.duty_chall||0;App.XB.info.duty_time||0;e=n>0?Color.SQ:Color.KA,LgRe.UQ(t.numLab,fvg.GVf("teamcopy32",e,n+"/"+t.oj)),t.wf=App.XB.info.duty_time+StaticData.MARTIALT_LEADER_TIME-App.NN.serverSecond;var i,r=App.XB.info.act||0;i=r>0?Color.HW:Color.AY,LgRe.UQ(t.rankLab,fvg.GVf("martialart72",i,r,3))},t.prototype.vn=function(){var e=this,t=App.XB.memberList.status||1;switch(e.lt=t,e.appellDescLab_1.text=fvg.GVf("martialart70",5e4)+""+fvg.GVf("martialart65",15),e.appellDescLab_2.text=fvg.GVf("martialart70",3e4)+""+fvg.GVf("martialart65",10),e.startLab.visible=1!=t,t){case 1:e.rankBtn.visible=!1,e.rankLab.visible=!1,e.appellGroup.visible=!0,e.otherGroup.visible=!1,e.btnGroup.visible=!1,e.bgImg.source="martialart_4_json.martialart_leader_bg_1_png";break;case 2:e.rankBtn.visible=!0,e.rankLab.visible=!0,e.appellGroup.visible=!0,e.otherGroup.visible=!0,e.btnGroup.visible=!1,e.bgImg.source="martialart_4_json.martialart_leader_bg_2_png",e.rankLab.text=fvg.GVf("rank0",App.XB.memberList.myrank||fvg.GVf("public042"));break;case 3:e.rankBtn.visible=!1,e.rankLab.visible=!0,e.appellGroup.visible=!1,e.otherGroup.visible=!1,e.btnGroup.visible=!0,e.bgImg.source="martialart_4_json.martialart_leader_bg_1_png"}e.wealthBtn.icon=UsU.CVF()?StaticData.GHj:null},t.prototype.az=function(){var e=this,t=App.XB.memberList.dutytime||0;switch(t-=App.NN.serverSecond,0>t&&(t=0),e.lt){case 1:var n=int(t/86400),i=kpd.formatSingle(int(t%86400/3600)),r=kpd.formatSingle(int(t%86400%3600/60));hFO.instance.getNumberView(bRC.PQ,n.toString(),-4,e.dayView),hFO.instance.getNumberView(bRC.PQ,i,-4,e.hourView),hFO.instance.getNumberView(bRC.PQ,r,-4,e.minView);break;case 2:t-=e.dj,0>=t?e.startLab.text=fvg.GVf("martialart83"):e.startLab.text=fvg.GVf("martialart79",kpd.YW(t));break;case 3:e.startLab.text=fvg.GVf("martialart68",kpd.YW(t))}},t.prototype._r=function(e){App.VS.popup(10048,MartialArtHeadFightPopUi)},t.prototype.zx=function(e){App.VS.popup(10048,MartialArtWealthPopUi)},t.prototype.sj=function(e){App.VS.popup(10048,IntoDisciplePopUi)},t.prototype.dv=function(e){App.PV.selectBtn=4,App.VS.open(KqZ.QG)},t.prototype.js=function(e){var t=App.XB.memberList.dutytime||0;if(t-=App.NN.serverSecond,t<=this.dj)return void MessageTipManager.instance.show(fvg.GVf("martialart83"));if(App.UY.isCanSwitc()){var n=App.XB.info.duty_chall||0;if(0>=n)return void App.TT.show(fvg.GVf("arena9"));TaskBar.instance.autoTaskState=!1,App.VS.popup(10048,MartialartMatchPopUi)}},t.prototype.mh=function(e){var t=this;App.XB.info.autoState=t.autoBtn.selected,t.vn(),t.cq(),App.XB.info.autoState&&ClockManager.setTimeout(t.xl,this,3e3)},t.prototype.xl=function(){var e=this;App.XB.info.autoState&&(e.oa()||(App.XB.info.autoState=e.autoBtn.selected=!1,e.vn(),e.cq()))},t.prototype.oa=function(){var e=this;if(!App.UY.isCanSwitc())return!1;if(!App.XB.info.duty_chall||App.XB.info.duty_chall<=0)return App.TT.show(fvg.GVf("arena9")),!1;var t=App.XB.memberList.dutytime||0;return t-=App.NN.serverSecond,t<=e.dj?(App.TT.show(fvg.GVf("martialart83")),!1):1==e.lt||3==e.lt?!1:(App.XB.info.matching=!0,TaskBar.instance.autoTaskState=!1,App.VS.popup(10048,MartialartMatchPopUi),!0)},t.prototype.cq=function(){var e=this;e.challengeBtn.visible=!e.autoBtn.selected,e.matchingTxt.visible=!e.challengeBtn.visible},t.prototype.yk=function(e){var t=this,n=App.XB.info.duty_chall||0;if(n>=t.oj)return void App.TT.show(fvg.GVf("arena7"));var i=App.XB.memberList.dutytime||0;return i-=App.NN.serverSecond,i<=t.dj?void App.TT.show(fvg.GVf("martialart83")):App.XB.info.duty_today_buy>=t.ci?void App.TT.show(fvg.GVf("martialart86")):void Alert.WK(fvg.GVf("martialart67",t.gl,App.XB.info.duty_today_buy,t.ci),null,null,t.wg,t)},t.prototype.wg=function(){App.BG.isPointEnough(this.gl)&&(App.TT.show(fvg.GVf("campaign2")),AjJ.PC())},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.XB.info.matching||(App.XB.info.autoState=!1),App.XB.info.matching=!1,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.btnGroup),t.btnGroup=null,GObj.$d(t.wealthBtn),t.wealthBtn=null,GObj.$d(t.discipleBtn),t.discipleBtn=null,GObj.$d(t.appellGroup),t.appellGroup=null,GObj.$d(t.factionBtn),t.factionBtn=null,GObj.$d(t.startLab),t.startLab=null,GObj.$d(t.appellDescLab_1),t.appellDescLab_1=null,GObj.$d(t.appellDescLab_2),t.appellDescLab_2=null,GObj.$d(t.otherGroup),t.otherGroup=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.dayView),t.dayView=null,GObj.$d(t.hourView),t.hourView=null,GObj.$d(t._appellImg_1),t._appellImg_1=null,GObj.$d(t._appellImg_2),t._appellImg_2=null,GObj.$d(t._appellImg_3),t._appellImg_3=null,GObj.$d(t.ll),t.ll=null,GObj.$d(t.ce),t.ce=null,GObj.$d(t.hk),t.hk=null,GObj.$d(t.autoBtn),t.autoBtn=null,GObj.$d(t.matchingTxt),t.matchingTxt=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MartialArtLeaderView.prototype,"MartialArtLeaderView");var MartialartMatchPopUi=function(e){function t(){var t=e.call(this,"MartialartMatchPopUi")||this;return t.en=3,t.ab=4,t.bm=0,t.ki=0,t.skinName=RRUU.$s("MartialartMatchPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.matchingTxt.text=fvg.GVf("crossarena57"),e.eg=fvg.GVf("martialart78").split(QycO.XP),e.eg&&e.eg.length>0&&(e.nameLab.text=e.eg[0]),e.headGroup.alpha=0,e.timeView=GObj.$c(NumberView),e.timeView.x=210,e.timeView.y=10,e.titleGroup.addChild(e.timeView),e.lastGroup.y=85,e.lastGroup.alpha=0;var t=egret.Tween.get(e.lastGroup);t.wait(300).to({y:175,alpha:1},50);var n=egret.Tween.get(e.titleGroup);n.to({alpha:1},300);var i=egret.Tween.get(e.headGroup);i.to({alpha:1},300)},t.prototype.initEvent=function(){vkG.$a(HUtJ.HEARTBEAT,this["in"],this),vkG.$a(UtJ.AZ,this.xyp,this)},t.prototype.initData=function(){AjJ.YU()},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e["in"],e),vkG.$r(UtJ.AZ,e.xyp,e),App.HA.unRegisteEnterFrame(e.ln,e)},t.prototype.xyp=function(e){this.iu=e},t.prototype["in"]=function(){var e=this;if(e.ab-=1,175==e.lastGroup.y&&e.ab<=4&&e.ab>=2)for(var t=egret.Tween.get(e.headImg),n=egret.Tween.get(e.nameLab),i=egret.Tween.get(e.frameImg),r=e.eg.length,a=0;r>a;a++)n.to({alpha:0},100),n.to({text:e.eg[a],alpha:1},250),t.to({alpha:0},100),t.to({source:kLM.JU(1+int(2*Math.random()),1+int(5*Math.random())),alpha:1},250),i.to({alpha:0},100),i.to({source:kLM.ZQ(1+int(2*Math.random())),alpha:1},250);if(e.ab<0&&e.iu){e.headImg.source=kLM.JU(e.iu.sex,e.iu.head),e.frameImg.source=kLM.ZQ(e.iu.usehf),e.nameLab.text=e.iu.name,e.ab=60,e.titleGroup.horizontalCenter=-42.5,e.titleGroup.verticalCenter=-233.5,e.ki=0,e.titleGroup.scaleX=e.titleGroup.scaleY=3;var t=egret.Tween.get(e.titleDescImg);t.to({source:"match_json.match_title_3_png"}),t.wait(1500).to({visible:!1}),App.HA.registeEnterFrame(e.ln,e)}return 0==e.titleDescImg.visible?void e.xt():void 0},t.prototype.xt=function(){var e=this;GObj.$d(e),App.VS.closeAll(),e.iu&&(App.MB.addRobot(e.iu,RobotVO.martialart_head),e.iu=null)},t.prototype.ln=function(){var e=this;e.ki++,e.ki<=10?e.titleGroup.scaleX=e.titleGroup.scaleY-=.2:e.ki<=120||App.HA.unRegisteEnterFrame(e.ln,e)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.RX,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t.titleGroup),egret.Tween.removeTweens(t.headGroup),egret.Tween.removeTweens(t.titleDescImg),egret.Tween.removeTweens(t.headImg),egret.Tween.removeTweens(t.nameLab),egret.Tween.removeTweens(t.frameImg),GObj.$d(t.titleGroup),t.titleGroup=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.titleDescImg),t.titleDescImg=null,GObj.$d(t.headGroup),t.headGroup=null,GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.lastGroup),t.lastGroup=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.timeView),t.timeView=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MartialartMatchPopUi.prototype,"MartialartMatchPopUi");var MartialArtMemberInfoItem=function(e){function t(t){var n=e.call(this,"MartialArtMemberInfoItem")||this;n.b_=t;var i=RRUU.$s("MartialArtMemberInfoItemSkin");return n.skinName=i,n.touchEnabled=!1,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e._appellImg=GObj.$c(ImageIcon),e._appellImg.y=-50,e._appellImg.horizontalCenter=0,e.addChild(e._appellImg),e.adoreBtn.label=fvg.GVf("multiplayer9")},t.prototype.initEvent=function(){var e=this;e.adoreBtn.addEventListener(eui.tep,e.ati,e),vkG.$a(UtJ.CT,e.rr,e),vkG.$a(UtJ.XW,e.fz,e)},t.prototype.initData=function(){var e=this;e.gs=App.KF.fid||1,e._appellImg.source=kLM.EF(StaticData.MARTIALT_APPELL[e.gs+"_"+e.b_]),e.rr(),e.fz()},t.prototype.removeEvent=function(){var e=this;e.adoreBtn.removeEventListener(eui.tep,e.ati,e),vkG.$r(UtJ.CT,e.rr,e),vkG.$r(UtJ.XW,e.fz,e)},t.prototype.rr=function(){var e,t,n=this,i=App.XB.memberList.status||1,r=1,a=0,o=0,s=App.XB.memberList.avatars[n.b_];if(s){e=s.name,e&&(t=e.split("."),t.length>1&&(e=e.replace(t[0]+".",""))),a=s.count||0,o=s.cap||0,r=s.fgrade||1,n.bm&&n.bm.parent&&n.bm.parent.removeChild(n.bm),n.dl||(n.dl=GObj.$c(FigureView),n.dl.x=90,n.dl.y=290,n.dl.touchEnabled=!1,n.dl.touchChildren=!1),n.addChildAt(n.dl,0),FigureHelps.NW(n.dl,{b:s.b,w:s.w,s:1});var p=s.stg;n.qw&&n.qw.parent&&n.removeChild(n.qw),p>0&&(n.qw&&n.qw.parent?(n.removeChild(n.qw),n.qh(p)):n.qh(p),n.qw.play(),n.addChildAt(n.qw,n.numChildren))}else n.dl&&n.dl.parent&&n.dl.parent.removeChild(n.dl),n.bm||(n.bm=GObj.$c(MovieEffect),n.bm.touchEnabled=n.bm.touchChildren=!1,n.bm.play(gYq.BU),n.bm.x=90,n.bm.y=290,n.bm.touchEnabled=!1,n.bm.touchChildren=!1),n.addChildAt(n.bm,0);switch(i){case 1:n.cpLab.visible=!1,n.nameLab.y=322,n.nameLab.text=fvg.GVf("rank10");break;case 2:n.cpLab.visible=!0,n.descLab.visible=!1,n.adoreBtn.visible=!1,n.countLab.visible=!1;var l=e?fvg.GVf("martialart71",QycO.OK):QycO.OK;n.bgImg.y=290,n.nameLab.y=312,LgRe.UQ(n.cpLab,fvg.GVf("martialart77",a)),n.nameLab.text=e?l+e:fvg.GVf("rank10");break;case 3:n.cpLab.visible=!0,n.descLab.visible=!0,n.adoreBtn.visible=!0,n.countLab.visible=!0;var c=App.XB.memberList.bact[n.b_]||0;n.countLab.text=fvg.GVf("martialart49",c),n.bgImg.y=283,n.nameLab.y=312,n.cpLab.text=fvg.GVf("public018",o);var u=void 0,d=void 0,g=XCA.AQS.UFA(21,1,r);if(g){d=fvg.GVf("martialart_appell_"+n.gs,r),u=gLw.GM(g.tid);var v=Nkz.LI(g.p5);d+=v[n.gs]}n.descLab.text=d,n.descLab.textColor=aKF.DU(u),n.nameLab.text=e?e:fvg.GVf("rank10")}s||(n.bgImg.y=290,n.nameLab.y=322,n.descLab.visible=!1,n.countLab.visible=!1,n.countLab.visible=!1,n.adoreBtn.visible=!1,n.cpLab.visible=!1)},t.prototype.qh=function(e){var t=this;e>0&&(t.qw=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((e+1)/4))),t.qw.x=-70,t.qw.y=-30,t.qw.touchEnabled=!1,t.qw.touchChildren=!1,t.qw.addEventListener(egret.Event.COMPLETE,t.pf,t)},t.prototype.pf=function(e){var t=this;t.qw&&t.qw.parent&&t.removeChild(t.qw)},t.prototype.ati=function(e){var t=App.XB.info.act||0;return 0>=t?void MessageTipManager.instance.show(fvg.GVf("martialart42")):(MessageTipManager.instance.show(fvg.GVf("martialart43")),void AjJ.OM(this.b_))},t.prototype.fz=function(){var e=this,t=App.XB.info.act||0;e.adoreBtn.icon=e.adoreBtn.visible&&t>0?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.cpLab),t.cpLab=null,GObj.$d(t.adoreBtn),t.adoreBtn=null,GObj.$d(t.countLab),t.countLab=null,GObj.$d(t._appellImg),t._appellImg=null,GObj.$d(t.bm),t.bm=null,GObj.$d(t.dl),t.dl=null,GObj.$d(t.qw),t.qw=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MartialArtMemberInfoItem.prototype,"MartialArtMemberInfoItem");var MartialArtProvokeItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MartialArtProvokeItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.dareBtn.label=fvg.GVf(213),e.sweepBtn.label=fvg.GVf("raid7"),e.badgeLab.text=fvg.GVf("dragon1"),e.prestigeLab.text=fvg.GVf("425"),e._headImg=GObj.$c(ImageIcon),e._headImg.touchEnabled=!1,e._headImg.horizontalCenter=-188,e._headImg.verticalCenter=0,e._headImg.scaleX=.8,e._headImg.scaleY=.8,e.addChildAt(e._headImg,1),e.smaicon1.goodsTid=StaticData.TID_GOODS_62,e.smaicon2.goodsTid=StaticData.TID_PRESTIGE_ID},t.prototype.initData=function(){var e=XCA.DG(37,1),t=e.split(QycO.PK),n=t[0],i=t[1],r=n.indexOf(",");n.substring(0,r)&&(this.badgeNum.text=fvg.GVf("426",n.substring(r+1))),r=i.indexOf(","),i.substring(0,r)&&(this.prestigeNum.text=fvg.GVf("426",i.substring(r+1))),this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.sectsImg.source="chat_json.chat_bg_"+t.fid+"_png",e.integralImg.source="martialart_3_json.martialart_provoke_prompt_"+t.lv+"_png",e.nameLab.text=t.name,e.capLab.text=fvg.GVf(28)+toChars(t.cap),e._headImg.source=kLM.JU(t.head||1,t.heads,1);var n="["+fvg.GVf("martialart_name_"+t.fid)+"]";if(t.duty)n+=fvg.GVf("martialart_"+t.fid+"_"+t.duty),e.officialLab.text=n;else{var i=t.fgrade||1,r=XCA.AQS.UFA(21,1,i);if(r){var a=Nkz.LI(r.p5);n+=a[t.fid],e.officialLab.text=n}}3!=t.lv&&(App.XT.vipInfo.vipGrade>=StaticData.SWEEP_VIP||App.XB.info.fgrade>=StaticData.SWEEP_FGRADE)?(e.sweepBtn.visible=!0,e.dareBtn.verticalCenter=24):(e.sweepBtn.visible=!1,e.dareBtn.verticalCenter=-1),0==e.itemIndex&&e.parent&&fNs.instance.execute(hXS.UO,hXS.YL,e.dareBtn)}},t.prototype.ih=function(e){var t=this;if(t.data&&App.UY.isCanSwitc()){if(App.XB.info.foct<=0){if(IoG.EZ())return void msgTip(fvg.GVf("public101"));var n=App.XB.info.fobct||0;return n?void Alert.WK(fvg.GVf(303,10,n,10),null,null,t.sz,t):void MessageTipManager.instance.show(fvg.GVf("34"))}AjJ.NW(t.data.uid),App.VS.closeAll()}},t.prototype.sz=function(){return App.XB.info.fobct<=0?void MessageTipManager.instance.show(fvg.GVf("304")):void(App.BG.isPointEnough(10,!0)&&(AjJ.NW(this.data.uid),App.VS.closeAll()))},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wm,e),e.dareBtn.addEventListener(eui.tep,e.ih,e),e.sweepBtn.addEventListener(eui.tep,e.vh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wm,e),e.dareBtn.removeEventListener(eui.tep,e.ih,e),e.sweepBtn.removeEventListener(eui.tep,e.vh,e)},t.prototype.vh=function(e){var t=this;if(3==t.data.lv)return void App.TT.show(fvg.GVf("arena15"));if(App.XT.vipInfo.vipGrade<StaticData.SWEEP_VIP&&App.XB.info.fgrade<StaticData.SWEEP_FGRADE)return void App.TT.show(fvg.GVf("arena16",StaticData.SWEEP_FGRADE,StaticData.SWEEP_VIP));if(App.XB.info.foct<=0){var n=App.XB.info.fobct||0;return n?void Alert.WK(fvg.GVf(303,10,n,10),null,null,t.lk,t):void MessageTipManager.instance.show(fvg.GVf("34"))}AjJ.BQ(t.data.uid)},t.prototype.lk=function(){return App.XB.info.fobct<=0?void MessageTipManager.instance.show(fvg.GVf("304")):void(App.BG.isPointEnough(10,!0)&&AjJ.BQ(this.data.uid))},t.prototype.wm=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.officialLab),t.officialLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.capLab),t.capLab=null,GObj.$d(t.dareBtn),t.dareBtn=null,GObj.$d(t.integralImg),t.integralImg=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,GObj.$d(t.sectsImg),t.sectsImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MartialArtProvokeItem.prototype,"MartialArtProvokeItem");var MartialArtProvokeView=function(e){function t(){var t=e.call(this,"MartialArtProvokeView")||this;return t.br=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gk=[],e.rankLab.text=fvg.GVf("rank0","10+"),e.refreshBtn.label=fvg.GVf("martialart5"),e.cpLab.text=fvg.GVf("rank_cap",App.BG.playerAttrsInfo.cap||0),e.playerdatas=GObj.$c(eui.ArrayCollection),e.playerGroup.dataProvider=e.playerdatas,e.playerGroup.itemRenderer=MartialArtProvokeItem,e.sweepTxt.text=fvg.GVf("arena16",StaticData.SWEEP_VIP),e.cx=[];for(var t=0;2>t;t++){var n=GObj.$c(eui.Label);n.x=60,n.y=630+38*t,n.size=16,n.width=420,n.textColor=Color.SE,n.lineSpacing=4,e.addChild(n),e.cx.push(n)}},t.prototype.initData=function(){var e=this;AjJ.XW();var t=XCA.CG(IDU.EG);if(t){e.oq=Nkz.LI(t);for(var n in e.oq){var i=parseInt(n);e.gk.push(i),this["scoreTxt_"+e.gk.length].text=fvg.GVf("421",i)}}e.az(),e.__hidePayUIHandler(),RankMsgProxy.IU(FDG.CWX)},t.prototype._u=function(e){var t=this;if(t.playerdatas.source.length=0,e){for(var n=e.length,i=0;n>i;i++)t.playerdatas.source.push(e[i]);t.playerdatas.refresh()}},t.prototype.az=function(){for(var e=this,t=App.XB.info.boxv||0,n=App.XB.info.score||0,i=!1,r=0;3>r;r++)i=(t&1<<r)>0,this["reviceImg_"+(r+1)].visible=i,this["boxBtn"+(r+1)].touchEnabled=!i,this["boxBtn"+(r+1)].back.source=e.gk[r]<=n?"core_json.award_box_png":"core_json.award_box_grey_png",this["boxBtn"+(r+1)].icon=0==(t&1<<r)&&e.gk[r]<=n?StaticData.GHj:null;var a=1;if(e.oq)for(var o in e.oq){var s=parseInt(o);s>a&&(a=s)}e.integralLab.text=fvg.GVf("public022",n,a),e.awardBar.value=int(n/a*100),e.i_(),e.ge()},t.prototype.__hidePayUIHandler=function(){var e=this;App.XT.vipInfo.vipGrade>=StaticData.SWEEP_VIP?e.sweepTxt.visible=!1:e.sweepTxt.visible=!IoG.EZ()},t.prototype.ge=function(){var e=this,t=App.XB.info.foct||0;if(t>0?e.numLab.textFlow=LgRe.OQ(fvg.GVf("martialart27",Color.TX,t,StaticData.MARTIALT_PROVOKE_MAX)):e.numLab.textFlow=LgRe.OQ(fvg.GVf("martialart27",Color.KA,t,StaticData.MARTIALT_PROVOKE_MAX)),t>=StaticData.MARTIALT_PROVOKE_MAX)e.timeLab.visible=e.timebgImg.visible=!1;else{e.timeLab.visible=e.timebgImg.visible=!0;var n=App.NN.serverSecond,i=App.XB.info.foclt||n;i+=StaticData.MARTIALT_PROVOKE_TIME,e.br=i-n,vkG.$a(HUtJ.HEARTBEAT,e.il,e),e.il()}},t.prototype.et=function(e){var t=this;if(e){var n=e.length;n>t.cx.length&&(n=t.cx.length);for(var i,r=0;n>r;r++){var a=e[r];if(a){var o=XCA.AQS.UFA(21,1,a.fgrade2),s=XCA.AQS.UFA(21,1,a.fgrade1);if(s&&o){i=t.cx[r];var p=void 0,l=void 0;a.duty1?(p=aKF.QV(aKF.PU),l=fvg.GVf("martialart_"+a.fid1+"_"+a.duty1)):(p=aKF.QV(gLw.GM(s.tid)),l=Nkz.LI(s.p5)[a.fid1]);var c=void 0,u=void 0;a.duty2?(c=aKF.QV(aKF.PU),u=fvg.GVf("martialart_"+a.fid2+"_"+a.duty2)):(c=aKF.QV(gLw.GM(o.tid)),u=Nkz.LI(o.p5)[a.fid2]);var d=fvg.GVf("martialart_name_"+a.fid1),g=fvg.GVf("martialart_name_"+a.fid2),v="martialart34";a.result||(v="martialart35");var h=fvg.GVf(v,a.date,p,d,l,a.name1,c,g,u,a.name2);i.textColor=Color.XB,i.textFlow=LgRe.OQ(h)}}}}},t.prototype.tf=function(e){AjJ.XW(1)},t.prototype.zo=function(e){App.VS.popup(null,KickRankingPopUi)},t.prototype.ew=function(e){App.VS.open(10011)},t.prototype.yn=function(e){App.VS.popup(null,KickAppellPopUi)},t.prototype.fz=function(e){if(e){var t;e.type==FDG.CWX&&(t=e.order?e.order.toString():"10+",this.rankLab.text=fvg.GVf("rank0",t))}},t.prototype.i_=function(){this.prestigeBtn.icon=UsU.KX()?StaticData.GHj:null},t.prototype.ki=function(e){var t=this,n=0;switch(e.currentTarget){case t.boxBtn1:n=0;break;case t.boxBtn2:n=1;break;case t.boxBtn3:n=2}if(!(n>=t.gk.length)){var i=App.XB.info.boxv||0;t.sa=t.gk[n]||0;var r=App.XB.info.score;return r>=t.sa&&!(i&1<<n)?void App.JA.checkIncome(t.rn,t):void App.VS.popup(null,MartialArtBoxPopUi,null,29,t.sa,fvg.GVf("martialart33"))}},t.prototype.rn=function(){AjJ.VA(this.sa)},t.prototype.il=function(){var e=this;if(e.br--,e.br<=0){e.timeLab.visible=e.timebgImg.visible=!0;var t=App.NN.serverSecond,n=App.XB.info.foclt||t;n+=StaticData.MARTIALT_PROVOKE_TIME,App.XB.info.foclt=n,e.br=n-App.NN.serverSecond;var i=App.XB.info.foct||0;i+=1,i>=StaticData.MARTIALT_PROVOKE_MAX&&(vkG.$r(UtJ.HD,e.il,e),e.timeLab.visible=e.timebgImg.visible=!1),e.numLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("martialart27",i>0?Color.TX:Color.KA,i,StaticData.MARTIALT_PROVOKE_MAX)),e.br<0&&(e.br=0)}e.timeLab.text=fvg.GVf("martialart28",kpd.HE(e.br))},t.prototype.initEvent=function(){var e=this;e.refreshBtn.addEventListener(eui.tep,e.tf,e),e.rankBtn.addEventListener(eui.tep,e.zo,e),e.prestigeBtn.addEventListener(eui.tep,e.ew,e),e.appellBtn.addEventListener(eui.tep,e.yn,e),e.boxBtn1.addEventListener(eui.tep,e.ki,e),e.boxBtn2.addEventListener(eui.tep,e.ki,e),e.boxBtn3.addEventListener(eui.tep,e.ki,e),vkG.$a(UtJ.TV,e._u,e),vkG.$a(UtJ.NP,e.et,e),vkG.$a(UtJ.XW,e.az,e),vkG.$a(UtJ.TT,e.fz,e),vkG.$a(UtJ.YL,e.i_,e),vkG.$a(UtJ.YJ,e.__hidePayUIHandler,e)},t.prototype.removeEvent=function(){var e=this;e.refreshBtn.removeEventListener(eui.tep,e.tf,e),e.rankBtn.removeEventListener(eui.tep,e.zo,e),e.prestigeBtn.removeEventListener(eui.tep,e.ew,e),e.appellBtn.removeEventListener(eui.tep,e.yn,e),e.boxBtn1.removeEventListener(eui.tep,e.ki,e),e.boxBtn2.removeEventListener(eui.tep,e.ki,e),e.boxBtn3.removeEventListener(eui.tep,e.ki,e),vkG.$r(UtJ.TV,e._u,e),vkG.$r(UtJ.NP,e.et,e),vkG.$r(UtJ.XW,e.az,e),vkG.$r(HUtJ.HEARTBEAT,e.il,e),vkG.$r(UtJ.TT,e.fz,e),vkG.$r(UtJ.YL,e.i_,e),vkG.$r(UtJ.YJ,e.__hidePayUIHandler,e)},t.prototype.it=function(){var e=App.XB.info.score||0,t=App.XB.info.boxv||0,n=XCA.CG(IDU.EG),i=0;if(n){var r=Nkz.LI(n);if(r)for(var a in r){var o=parseInt(a);e>=o&&!(t&1<<i)?this["boxBtn"+(i+1)].icon="bar_json.redPoint_png":this["boxBtn"+(i+1)].icon=null,i++}}},t.prototype.ri=function(){this.it()},t.prototype.dt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.cx),t.cx=null,GObj.$d(t.prestigeBtn),t.prestigeBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,t.playerGroup&&(t.playerGroup.dataProvider=null,GObj.$d(t.playerGroup)),t.playerGroup=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.timebgImg),t.timebgImg=null,GObj.$d(t.refreshBtn),t.refreshBtn=null,GObj.$d(t.boxBtn1),t.boxBtn1=null,GObj.$d(t.boxBtn2),t.boxBtn2=null,GObj.$d(t.boxBtn3),t.boxBtn3=null,GObj.$d(t.awardBar),t.awardBar=null,GObj.$d(t.integralLab),t.integralLab=null,t.infoScroller&&(t.infoScroller.stopAnimation(),t.infoScroller.viewport=null,GObj.$d(t.infoScroller)),t.infoScroller=null,GObj.$d(t.reviceImg_1),t.reviceImg_1=null,GObj.$d(t.reviceImg_2),t.reviceImg_2=null,GObj.$d(t.reviceImg_3),t.reviceImg_3=null,GObj.$d(t.scoreTxt_1),t.scoreTxt_1=null,GObj.$d(t.scoreTxt_2),t.scoreTxt_2=null,GObj.$d(t.scoreTxt_3),t.scoreTxt_3=null,GObj.$d(t.cpLab),t.cpLab=null,GObj.$d(t.rankLab),t.rankLab=null,t.oq=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MartialArtProvokeView.prototype,"MartialArtProvokeView");var MartialArtSelfView=function(e){function t(){var t=e.call(this,"MartialArtSelfView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){this.wp()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.infoBtn.addEventListener(eui.tep,t.zg,t),t.donationBtn.addEventListener(eui.tep,t._i,t),t.prestigeBtn.addEventListener(eui.tep,t.ph,t),t.harryBtn.addEventListener(eui.tep,t.ry,t),t.shopBtn.addEventListener(eui.tep,t.yg,t),t.provokeBtn.addEventListener(eui.tep,t.hh,t),t.headBtn.addEventListener(eui.tep,t.lg,t),t.campBtn.addEventListener(eui.tep,t.cx,t),t.taskBtn.addEventListener(eui.tep,t.gw,t),t.godSkillBtn.addEventListener(eui.tep,t.fi,t),vkG.$a(UtJ.XW,t.xj,t),vkG.$a(UtJ.TB,t.k_,t),vkG.$a(UtJ.I_,t.k_,t),vkG.$a(UtJ.YL,t.xj,t),vkG.$a(UtJ.CH,t.fj,t),App.AJ.add(KqZ.HC,t.bm,t),App.AJ.add(KqZ.FS,t.ei,t),App.AJ.add(KqZ.PMR,t.lc,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.xj(),t.lc(),t.fj(),t.bm(),AjJ.RD(),fNs.instance.execute(hXS.UO,hXS.RZ,t.provokeBtn,t.campBtn)},t.prototype.selectIndex=function(e){9==e&&this.hh(null)},t.prototype.removeEvent=function(){var e=this;e.infoBtn.removeEventListener(eui.tep,e.zg,e),e.donationBtn.removeEventListener(eui.tep,e._i,e),e.prestigeBtn.removeEventListener(eui.tep,e.ph,e),e.harryBtn.removeEventListener(eui.tep,e.ry,e),e.shopBtn.removeEventListener(eui.tep,e.yg,e),e.provokeBtn.removeEventListener(eui.tep,e.hh,e),e.headBtn.removeEventListener(eui.tep,e.lg,e),e.campBtn.removeEventListener(eui.tep,e.cx,e),e.taskBtn.removeEventListener(eui.tep,e.gw,e),e.godSkillBtn.removeEventListener(eui.tep,e.fi,e),vkG.$r(UtJ.XW,e.xj,e),vkG.$r(UtJ.TB,e.k_,e),vkG.$r(UtJ.I_,e.k_,e),vkG.$r(UtJ.YL,e.xj,e),vkG.$r(UtJ.CH,e.fj,e),App.AJ.remove(KqZ.HC,e.bm,e),App.AJ.remove(KqZ.FS,e.ei,e),App.AJ.remove(KqZ.PMR,e.lc,e)},t.prototype.xj=function(){var e=this;e.donationBtn.icon=UsU.XD()?StaticData.GHj:null,e.provokeBtn.icon=UsU.VD()?StaticData.GHj:null,e.taskBtn.icon=UsU.VE()?StaticData.GHj:null,e.headBtn.icon=UsU.EB()?StaticData.GHj:null,e.prestigeBtn.icon=UsU.KX()?StaticData.GHj:null,e.__updateTitle(),e.ei()},t.prototype.ei=function(){this.headBtn.icon=App.AJ.getRedById(KqZ.FS)?StaticData.GHj:null},t.prototype.bm=function(){this.godSkillBtn.icon=App.AJ.getRedById(KqZ.HC)?StaticData.GHj:null},t.prototype.lc=function(){this.harryBtn.icon=App.AJ.getRedById(KqZ.PMR)?StaticData.GHj:null},t.prototype.fj=function(){this.campBtn.icon=UsU.NJ(3)?StaticData.GHj:null},t.prototype.k_=function(){this.taskBtn.icon=UsU.VE()?StaticData.GHj:null},t.prototype.wp=function(){var e=this,t=App.XB.info.fid||1;e.__updateTitle(),e.bgImg.source=kLM.PW(t),2==t?(e.harryBtn.x=238,e.harryBtn.y=135,e.shopBtn.x=148,e.shopBtn.y=375,e.headBtn.x=128,e.headBtn.y=176):(e.harryBtn.x=94,e.harryBtn.y=150,e.shopBtn.x=114,e.shopBtn.y=392,e.headBtn.x=232,e.headBtn.y=254),e.provokeBtn.x=295,e.provokeBtn.y=472},t.prototype.zg=function(e){App.VS.popup(10046,MartialArtInfoPopUi)},t.prototype._i=function(e){rRcz.YA()},t.prototype.ph=function(e){App.VS.open(10011)},t.prototype.ry=function(e){App.VS.open(10049)},t.prototype.yg=function(e){App.VS.open(10093)},t.prototype.hh=function(e){App.VS.open(10051)},t.prototype.cx=function(e){App.VS.open(10047)},t.prototype.gw=function(e){rRcz.TM()},t.prototype.fi=function(e){rRcz.OR()},t.prototype.lg=function(e){App.VS.open(10048)},t.prototype.dataUpdated=function(){this.__updateTitle()},t.prototype.__updateTitle=function(){var e=App.XB.info.fid||1;this.title="martialart_1_json.martialart_inside_title_"+e+"_png"},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.UO,hXS.NW),t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.infoBtn),t.infoBtn=null,GObj.$d(t.donationBtn),t.donationBtn=null,GObj.$d(t.prestigeBtn),t.prestigeBtn=null,GObj.$d(t.harryBtn),t.harryBtn=null,GObj.$d(t.shopBtn),t.shopBtn=null,GObj.$d(t.provokeBtn),t.provokeBtn=null,GObj.$d(t.headBtn),t.headBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MartialArtSelfView.prototype,"MartialArtSelfView");var MartialArtView=function(e){function t(){var t=e.call(this,"MartialArtView")||this;
return t.yj=1,AjJ.RE(),t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.joinBtn.label=fvg.GVf("martialart1"),e.datas=GObj.$c(eui.ArrayCollection),e.btnList.dataProvider=e.datas,e.btnList.itemRenderer=MartialArtItem,e.leaderTxt.text=fvg.GVf("martialart16");for(var t=[1,2,3,4],n=0,i=t;n<i.length;n++){var r=i[n],a={};a.type=r,a.hot=!1,e.datas.source.push(a)}e.pg={},e.btnList.selectedIndex=0},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.btnList.addEventListener(egret.TouchEvent.CHANGE,t.hz,t),t.joinBtn.addEventListener(eui.tep,t._e,t),vkG.$a(UtJ.R_,t.kl,t),vkG.$a(UtJ.FA,t.xn,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),fNs.instance.execute(hXS.WB,hXS.RZ,t.joinBtn),t.hz()},t.prototype.removeEvent=function(){var e=this;e.btnList.removeEventListener(egret.TouchEvent.CHANGE,e.hz,e),e.joinBtn.removeEventListener(eui.tep,e._e,e),vkG.$r(UtJ.R_,e.kl,e),vkG.$r(UtJ.FA,e.xn,e)},t.prototype.kl=function(e,t){var n=this;if(e=e||1,t)for(var i=t.length,r=0;i>r;r++)n.pg[r+1]=t[r];App.XB.info.fid||n.datas.source[e-1]&&(n.datas.source[e-1].hot=!0,n.datas.itemUpdated(n.datas.source[e-1])),n.btnList.selectedIndex=e-1,n.hz()},t.prototype.hz=function(){var e=this,t=e.datas.source[e.btnList.selectedIndex];e.yj=t.type;var n=e.pg[e.yj]||fvg.GVf("rank10");e.nameLab.text=n,e.descLab.text=fvg.GVf("martialart_desc"+e.yj)},t.prototype._e=function(e){var t=this,n=App.XB.info.qtime||0;n+=StaticData.MARTIALT_JOIN_CD;App.NN.serverSecond;if(n>App.NN.serverSecond){var i=n-App.NN.serverSecond;return void MessageTipManager.instance.show(fvg.GVf("martialart44",kpd.HE(i)))}App.KF.fid?Alert.WK(fvg.GVf("martialart46",fvg.GVf("martialart_name_"+t.yj)),null,null,t.ly,t):t.ly()},t.prototype.ly=function(){var e=this;MessageTipManager.instance.show(fvg.GVf("martialart46",fvg.GVf("martialart_name_"+e.yj))),AjJ.QD(e.yj)},t.prototype.xn=function(){App.KF.fid&&App.VS.openMain(10046)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.btnList&&(t.btnList.dataProvider=null,GObj.$d(t.btnList)),t.btnList=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.joinBtn),t.joinBtn=null,GObj.$d(t.leaderTxt),t.leaderTxt=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MartialArtView.prototype,"MartialArtView");var MartialArtWealthItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MartialArtWealthItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.allotBtn.label=fvg.GVf("martialart59"),e.allotBtn.visible=!0,e.boxBtn.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.y_,e),e.allotBtn.addEventListener(eui.tep,e.yu,e),e.boxBtn.addEventListener(eui.tep,e.gm,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.lj=e.data;var t=App.XB.memberList.assetu;e.descLab.text=fvg.GVf("martialart_appell_"+App.XB.info.fid,e.lj.fgrade)+e.lj.fsname,e.nameLab.text=e.lj.name;var n=e.lj.uid,i=App.XB.memberList.assetc;t[n]?(e.boxBtn.visible=!0,e.allotBtn.visible=!1):(e.boxBtn.visible=!1,e.allotBtn.visible=0!=i);var r=App.XB.memberList.win;0==r&&(e.boxBtn.visible=!1,e.allotBtn.visible=!1),r==App.KF.fid?e.boxBtn.bgImg.source="martialart_3_json.martialart3_box_png":e.boxBtn.bgImg.source="martialart_3_json.martialart3_box_png"}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.y_,e),e.allotBtn.removeEventListener(eui.tep,e.yu,e),e.boxBtn.removeEventListener(eui.tep,e.gm,e)},t.prototype.y_=function(e){GObj.$d(this)},t.prototype.yu=function(e){var t=this;if(t.lj)return t.isHead?void AjJ.IX(t.lj.uid):void MessageTipManager.instance.show(fvg.GVf("martialart84"))},t.prototype.gm=function(e){var t=App.XB.info.fid==App.MT.defFid?1:2,n=GObj.$c(BoxPopUi);n.showDetail(28,2,2,t)},Object.defineProperty(t.prototype,"isHead",{get:function(){var e=App.XB.memberList.dumap[MartialArtOfficial.off1];return App.KF.uid==e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.allotBtn),t.allotBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MartialArtWealthItem.prototype,"MartialArtWealthItem");var MartialArtWealthPopUi=function(e){function t(){var t=e.call(this,"MartialArtWealthPopUi")||this;return t.skinName=RRUU.$s("MartialArtWealthPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("martialart114"),e.descLab.text=fvg.GVf("martialart73"),e.lastLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("martialart60",2)),e.personTxt.text=fvg.GVf("martialart111"),e.wealthTxt.text=fvg.GVf("martialart112"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=MartialArtWealthItem},t.prototype.initEvent=function(){var e=this;e.boxBtn.addEventListener(eui.tep,e.is,e),vkG.$a(UtJ.CT,e["do"],e)},t.prototype.initData=function(){for(var e,t=this,n=App.XB.memberList,i=n.memberList,r=i.length,a=App.XB.memberList.dumap[MartialArtOfficial.off1]||0,o=[],s=App.XB.memberList.assetu,p=0;r>p;p++)e=i[p],e.type&&1==e.type||e.uid!=a&&(e.uid>0||s.uid>=0?t.datas.source.push(e):o.push(e));if(t.datas.length<10)for(var l=10-t.datas.length,p=0;l>p;p++)p<o.length&&t.datas.source.push(o[p]);t["do"]()},t.prototype.po=function(e,t){var n=App.XB.memberList.assetu[e.uid]>=0,i=App.XB.memberList.assetu[t.uid]>=0;return n&&!i?-1:!n&&i?1:e.fgrade>t.fgrade?-1:e.fgrade<t.fgrade?1:0},t.prototype.removeEvent=function(){var e=this;e.boxBtn.removeEventListener(eui.tep,e.is,e),vkG.$r(UtJ.CT,e["do"],e)},t.prototype.vw=function(){GObj.$d(this)},t.prototype.is=function(e){var t=App.XB.info.fid==App.MT.defFid?1:2,n=GObj.$c(BoxPopUi);n.showDetail(28,2,2,t)},t.prototype["do"]=function(){var e=this;e.datas.source.sort(e.po),e.datas.replaceAll(e.datas.source);var t=App.XB.memberList.assetc||0,n=App.XB.memberList.win,i=0==n?0:t;e.lastLab.textFlow=LgRe.OQ(fvg.GVf("martialart60",i)),n==App.KF.fid?e.boxBtn.bgImg.source="martialart_3_json.martialart3_box_png":e.boxBtn.bgImg.source="martialart_3_json.martialart3_box_png"},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.lastLab),t.lastLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.personTxt),t.personTxt=null,GObj.$d(t.wealthTxt),t.wealthTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MartialArtWealthPopUi.prototype,"MartialArtWealthPopUi");var BuildingMineView=function(e){function t(){var t=e.call(this,"BuildingMineView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine19"),e.buildingBtn.label=fvg.GVf("mine16"),e.needBtn.icon="game_json.gold_png",e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=MineIconItem},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.ao,e),e.buildingBtn.addEventListener(eui.tep,e.hh,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.ao,e),e.buildingBtn.removeEventListener(eui.tep,e.hh,e)},t.prototype.initData=function(){for(var e=this,t=App.XQS.building_nodes,n=0;n<t.length;n++)e.itemData.source.push(t[n]);e.itemData.refresh(),e.itemList.selectedIndex=0,e.ao(null)},t.prototype.ao=function(e){var t=this;t.sp=t.itemList.selectedItem,t.rm(),t.needBtn.label=t.sp?toChars(t.sp.point||0):"0"},t.prototype.rm=function(){var e=this;if(e.sp&&e.sp.award){var t,n=e.sp.award,i=1;for(var r in n)t=this["incomeBtn_"+i],t&&(t.icon=kLM.PO(parseInt(r)),t.label=fvg.GVf("mine15",12*n[r])),i++}},t.prototype.hh=function(e){var t=this;if(t.sp){if(!App.XQS.mine_processing)return void App.TT.show(fvg.GVf("mine55_11"));var n=t.sp.point||0;return n>App.KF.point?void _JDW.TR(StaticData.TID_POINT_ID):void MineMsgProxy.CH(t.sp.type)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.buildingBtn),t.buildingBtn=null,GObj.$d(t.needBtn),t.needBtn=null,GObj.$d(t.incomeBtn_1),t.incomeBtn_1=null,GObj.$d(t.incomeBtn_2),t.incomeBtn_2=null,GObj.$d(t.incomeBtn_3),t.incomeBtn_3=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,t.sp=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BuildingMineView.prototype,"BuildingMineView");var FightedBeautyMineView=function(e){function t(){var t=e.call(this,"FightedBeautyMineView")||this;return t.qm=[101501601,302701601,500170601],t.skinName=RRUU.$s("FightedBeautyMineViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine19"),e.titleTxt_2.text=fvg.GVf("mine20"),e.posTxt.text=fvg.GVf("mine21"),e.cancelBtn.label=fvg.GVf("mine17")},t.prototype.initEvent=function(){var e=this;e.cancelBtn.addEventListener(eui.tep,e.kg,e)},t.prototype.removeEvent=function(){var e=this;e.cancelBtn.removeEventListener(eui.tep,e.kg,e),vkG.$r(UtJ.HD,e.vr,e)},t.prototype.initData=function(){var e=this;e.sg(),e.dr()},Object.defineProperty(t.prototype,"nodeInfo",{get:function(){return this.rb},set:function(e){var t=this;t.rb=e,t.sg(),t.CSo&&t.rb||t.az(),t.dr()},enumerable:!0,configurable:!0}),t.prototype.sg=function(){var e=this;e.CSo&&e.rb&&(e.areaNameTxt.text=fvg.GVf("mine65_"+App.XQS.getBeautyAIdByNId(e.rb.id)),e.rateTxt.x=e.nameTxt.x+e.nameTxt.width+3,e.rateTxt.visible=App.XQS.hasBeautyIncomeRate(e.rb),e.az(),e.hc(),e.gf())},t.prototype.dr=function(){var e=this,t=App.XQS.myBeautyMineInfo.award;e.yv(t)&&(t={101501601:0,302701601:0,500170601:0});var n,i=1;for(var r in t)n=this["incomeBtn_"+i],n&&(n.icon=kLM.PO(parseInt(r)),n.label=toChars(t[r])||"0"),i++},t.prototype.yv=function(e){for(var t in e)return!1;return!0},t.prototype.az=function(){var e,t=this;if(!t.nodeInfo||!t.nodeInfo.award)return void t.kt();var n=App.XQS.getBeautyRewardByInfo(t.nodeInfo),i=1;t.posTxt.visible=t.cancelBtn.visible=!0,t.timeTxt.visible=t.nameTxt.visible=t.areaNameTxt.visible=!0,t.rateTxt.visible=!1;for(var r in n)e=this["outputBtn_"+i],e&&n[r]>0?(e.icon=kLM.PO(parseInt(r)),e.label=fvg.GVf("mine15",n[r]),i++):(e.icon=null,e.label="");for(;3>=i;i++)e=this["outputBtn_"+i],e&&(e.icon=null,e.label="")},t.prototype.kt=function(){for(var e,t=this,n=0;n<t.qm.length;n++)e=this["outputBtn_"+(n+1)],e.icon=kLM.PO(t.qm[n]),e.label=fvg.GVf("mine15",0);vkG.$r(UtJ.HD,t.vr,t),t.timeTxt.visible=t.nameTxt.visible=t.areaNameTxt.visible=!1,t.posTxt.visible=t.cancelBtn.visible=!1,t.rateTxt.visible=!1},t.prototype.hc=function(){var e=this;e.cz=0,App.XQS.hasBeautyDefPlayer(e.rb)&&e.rb.def.uid==App.KF.uid?(e.cz=1,e.cancelBtn.label=fvg.GVf("mine17")):App.XQS.hasBeautyHelpPlayer(e.rb)&&e.rb.help.uid==App.KF.uid&&(e.cz=2,e.cancelBtn.label=fvg.GVf("mine32"))},t.prototype.kg=function(e){var t=this;if(t.cz>0){var n=1==t.cz?fvg.GVf("mine38"):fvg.GVf("mine43");Alert.WK(n,void 0,void 0,t.fh,this,[t.cz,t.rb.id])}},t.prototype.fh=function(e,t){MineMsgProxy.TZ(t)},t.prototype.gf=function(){var e=this;e.ve=(e.rb.time||0)+5,e.rx=e.ve-App.NN.serverSecond,e.rx>0&&vkG.$a(UtJ.HD,e.vr,e),e.vr()},t.prototype.vr=function(){var e=this;e.rx=e.ve-App.NN.serverSecond,e.rx<=0&&(e.rx=0,vkG.$r(UtJ.HD,e.vr,e)),e.timeTxt.text="("+fvg.GVf("public023",kpd.formatDateBySec5(e.rx))+")"},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.areaNameTxt),t.areaNameTxt=null,GObj.$d(t.posTxt),t.posTxt=null,GObj.$d(t.belongTxt),t.belongTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.outputBtn_1),t.outputBtn_1=null,GObj.$d(t.outputBtn_2),t.outputBtn_2=null,GObj.$d(t.outputBtn_3),t.outputBtn_3=null,GObj.$d(t.incomeBtn_1),t.incomeBtn_1=null,GObj.$d(t.incomeBtn_2),t.incomeBtn_2=null,GObj.$d(t.incomeBtn_3),t.incomeBtn_3=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.rateTxt),t.rateTxt=null,t.rb=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FightedBeautyMineView.prototype,"FightedBeautyMineView");var FightedMineView=function(e){function t(){var t=e.call(this,"FightedMineView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine19"),e.titleTxt_2.text=fvg.GVf("mine20"),e.posTxt.text=fvg.GVf("mine21"),e.gradeTxt.text=fvg.GVf("public013",""),e.rateTxt.textFlow=LgRe.OQ(fvg.GVf("mine8",int(App.XQS.income_rate/10))),e.cancelBtn.label=fvg.GVf("mine17")},t.prototype.initEvent=function(){var e=this;e.cancelBtn.addEventListener(eui.tep,e.rm,e)},t.prototype.removeEvent=function(){var e=this;e.cancelBtn.removeEventListener(eui.tep,e.rm,e),vkG.$r(HUtJ.HEARTBEAT,e.jb,e)},t.prototype.initData=function(){var e=this;e.ba(),e.ip()},Object.defineProperty(t.prototype,"nodeInfo",{get:function(){return this.bk},set:function(e){var t=this;t.bk=e,t.ba(),t.ip()},enumerable:!0,configurable:!0}),t.prototype.ba=function(){var e=this;e.CSo&&e.bk&&(e.areaNameTxt.text=fvg.GVf("mine10_"+App.XQS.getAIdByNId(e.bk.id)),e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("mine9_"+(e.bk.type||1))),e.rateTxt.x=e.nameTxt.x+e.nameTxt.width+3,e.rateTxt.visible=App.XQS.hasIncomeRate(e.bk),e.be(),e.rr(),e.cd())},t.prototype.ip=function(){var e,t=App.XQS.myMineInfo.award||{},n=1;for(var i in t)e=this["incomeBtn_"+n],e&&(e.icon=kLM.PO(parseInt(i)),e.label=toChars(t[i])),n++},t.prototype.be=function(){var e=this;if(e.nodeInfo&&e.nodeInfo.award){var t,n=App.XQS.getRewardByInfo(e.nodeInfo),i=1;for(var r in n)t=this["outputBtn_"+i],t&&n[r]>0?(t.icon=kLM.PO(parseInt(r)),t.label=fvg.GVf("mine15",n[r]),i++):(t.icon=null,t.label="");for(;3>=i;i++)t=this["outputBtn_"+i],t&&(t.icon=null,t.label="")}},t.prototype.rr=function(){var e=this;e.lw=0,App.XQS.hasDefPlayer(e.bk)&&e.bk.def.uid==App.KF.uid?(e.lw=1,e.cancelBtn.label=fvg.GVf("mine17")):App.XQS.hasHelpPlayer(e.bk)&&e.bk.help.uid==App.KF.uid&&(e.lw=2,e.cancelBtn.label=fvg.GVf("mine32"))},t.prototype.rm=function(e){var t=this;if(t.lw>0){var n=1==t.lw?fvg.GVf("mine38"):fvg.GVf("mine43");Alert.WK(n,void 0,void 0,t.mx,this,[t.lw,t.bk.id])}},t.prototype.mx=function(e,t){1==e?MineMsgProxy.CP(1,t):2==e&&MineMsgProxy.CP(3,t)},t.prototype.cd=function(){var e=this;e.gmc=(e.bk.time||0)+5,e.fs=e.gmc-App.NN.serverSecond,e.fs>0&&vkG.$a(HUtJ.HEARTBEAT,e.jb,e),e.jb()},t.prototype.jb=function(){var e=this;e.fs=e.gmc-App.NN.serverSecond,e.fs<=0&&(e.fs=0,vkG.$r(HUtJ.HEARTBEAT,e.jb,e)),e.timeTxt.text="("+fvg.GVf("public023",kpd.formatDateBySec5(e.fs))+")"},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.areaNameTxt),t.areaNameTxt=null,GObj.$d(t.posTxt),t.posTxt=null,GObj.$d(t.belongTxt),t.belongTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.outputBtn_1),t.outputBtn_1=null,GObj.$d(t.outputBtn_2),t.outputBtn_2=null,GObj.$d(t.outputBtn_3),t.outputBtn_3=null,GObj.$d(t.incomeBtn_1),t.incomeBtn_1=null,GObj.$d(t.incomeBtn_2),t.incomeBtn_2=null,GObj.$d(t.incomeBtn_3),t.incomeBtn_3=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.rateTxt),t.rateTxt=null,t.bk=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FightedMineView.prototype,"FightedMineView");var GiveupBeautyMineFrame=function(e){function t(){var t=e.call(this,"GiveupBeautyMineFrame")||this;return t.skinName=RRUU.$s("GiveupBeautyMineFrameSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("mine25"),e.cancelBtn.label=fvg.GVf("6"),e.giveupBtn.label=fvg.GVf("mine26"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=MineIconItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.jn,e),e.cancelBtn.addEventListener(eui.tep,e.jn,e),e.itemGroup.addEventListener(egret.Event.CHANGE,e.de,e),e.itemGroup.addEventListener(egret.Event.CHANGING,e.ld,e),e.giveupBtn.addEventListener(eui.tep,e.mt,e),vkG.$a(UtJ.WL,e.wy,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.jn,e),e.cancelBtn.removeEventListener(eui.tep,e.jn,e),e.itemGroup.removeEventListener(egret.Event.CHANGE,e.de,e),e.itemGroup.removeEventListener(egret.Event.CHANGING,e.ld,e),e.giveupBtn.removeEventListener(eui.tep,e.mt,e),vkG.$r(UtJ.YNK,e.wy,e),vkG.$r(UtJ.HD,e.ey,e)},t.prototype.initData=function(){this.wy()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.bd=e[0],n.wy())},t.prototype.wy=function(){var e=this;if(e.CSo&&e.bd){var t=App.XQS.myBeautyMineInfo,n=t.my;if(0==n.length)return void ziI.MF("cs_mine_my_node");var i=App.XQS.max_beauty_hold_count;if(e.bd&&n.length<i)return void e.jn(null);e.itemData.source.length=0;for(var r=0;i>r;r++)e.itemData.source.push(n[r]),n[r]&&this["nameTxt_"+(r+1)]&&(this["nameTxt_"+(r+1)].textFlow=LgRe.OQ(fvg.GVf("mine9_"+n[r].type)));e.itemData.refresh(),e.itemGroup.selectedIndex=n.length>0?0:-1,e.de(null)}},t.prototype.de=function(e){var t=this;t.zb=t.itemGroup.selectedItem,t.posTxt.text=fvg.GVf("mine21")+fvg.GVf("mine10_"+App.XQS.getAIdByNId(t.zb?t.zb.id:0)),t.dh()},t.prototype.ld=function(e){this.itemGroup.selectedItem||e.preventDefault()},t.prototype.mt=function(e){var t=this;return t.zb?void Alert.WK(fvg.GVf("mine38"),void 0,void 0,t.au,this,[t.zb.id]):void App.TT.show(fvg.GVf("mine50"))},t.prototype.au=function(e){MineMsgProxy.TZ(e)},t.prototype.show=function(){var e=this;e.destory||alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dh=function(){var e=this;e.go=(e.zb.time||0)+5,e.wt=e.go-App.NN.serverSecond,e.wt>0&&vkG.$a(UtJ.HD,e.ey,e),e.ey()},t.prototype.ey=function(){var e=this;e.wt=e.go-App.NN.serverSecond,e.wt<=0&&(e.wt=0,vkG.$r(UtJ.HD,e.ey,e)),e.timeTxt.text="("+fvg.GVf("public023",kpd.formatDateBySec5(e.wt))+")"},t.prototype.jn=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.giveupBtn),t.giveupBtn=null,GObj.$d(t.posTxt),t.posTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.zb=null,t.bd=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(GiveupBeautyMineFrame.prototype,"GiveupBeautyMineFrame");var GiveupMinePopUi=function(e){function t(){var t=e.call(this,"GiveupMinePopUi")||this;return t.skinName=RRUU.$s("GiveupMinePopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("mine81"),e.descTxt.text=fvg.GVf("mine25"),e.cancelBtn.label=fvg.GVf("6"),e.giveupBtn.label=fvg.GVf("mine26"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=MineIconItem},t.prototype.initEvent=function(){var e=this;e.cancelBtn.addEventListener(eui.tep,e.dr,e),e.itemGroup.addEventListener(egret.Event.CHANGE,e.sa,e),e.itemGroup.addEventListener(egret.Event.CHANGING,e.xi,e),e.giveupBtn.addEventListener(eui.tep,e.nm,e),vkG.$a(UtJ.WL,e.st,e)},t.prototype.removeEvent=function(){var e=this;e.cancelBtn.removeEventListener(eui.tep,e.dr,e),e.itemGroup.removeEventListener(egret.Event.CHANGE,e.sa,e),e.itemGroup.removeEventListener(egret.Event.CHANGING,e.xi,e),e.giveupBtn.removeEventListener(eui.tep,e.nm,e),vkG.$r(UtJ.WL,e.st,e),vkG.$r(UtJ.HD,e.ed,e)},t.prototype.initData=function(){this.st()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.mx=e[0],n.st())},t.prototype.st=function(){var e=this;if(e.CSo&&e.mx){var t=App.XQS.myMineInfo,n=t.my;if(0==n.length)return void ziI.MF("cross_mine_my_node");var i=App.XQS.max_hold_count;if(e.mx&&n.length<i)return MineMsgProxy.KW(e.mx.id),void e.dr(null);e.itemData.source.length=0;for(var r=0;i>r;r++)e.itemData.source.push(n[r]),n[r]&&this["nameTxt_"+(r+1)]&&(this["nameTxt_"+(r+1)].textFlow=LgRe.OQ(fvg.GVf("mine9_"+n[r].type)));e.itemData.refresh(),e.itemGroup.selectedIndex=n.length>0?0:-1,e.sa(null)}},t.prototype.sa=function(e){var t=this;t.kn=t.itemGroup.selectedItem,t.posTxt.text=fvg.GVf("mine21")+fvg.GVf("mine10_"+App.XQS.getAIdByNId(t.kn?t.kn.id:0)),t.ft()},t.prototype.xi=function(e){this.itemGroup.selectedItem||e.preventDefault()},t.prototype.nm=function(e){var t=this;return t.kn?void Alert.WK(fvg.GVf("mine38"),void 0,void 0,t.ht,this,[t.kn.id]):void App.TT.show(fvg.GVf("mine50"))},t.prototype.ht=function(e){MineMsgProxy.CP(1,e)},t.prototype.show=function(){var e=this;e.destory||alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.ft=function(){var e=this;e.xu=(e.kn.time||0)+5,e.qy=e.xu-App.NN.serverSecond,e.qy>0&&vkG.$a(UtJ.HD,e.ed,e),e.ed()},t.prototype.ed=function(){var e=this;e.qy=e.xu-App.NN.serverSecond,e.qy<=0&&(e.qy=0,vkG.$r(UtJ.HD,e.ed,e)),e.timeTxt.text="("+fvg.GVf("public023",kpd.formatDateBySec5(e.qy))+")"},t.prototype.dr=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.giveupBtn),t.giveupBtn=null,GObj.$d(t.posTxt),t.posTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.kn=null,t.mx=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GiveupMinePopUi.prototype,"GiveupMinePopUi");var MineAreaPopUi=function(e){function t(){var t=e.call(this,"MineAreaPopUi")||this;return t.skinName=RRUU.$s("MineAreaPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.incomeTxt.text=fvg.GVf("mine8",0),e.iy={}},t.prototype.initEvent=function(){var e=this;e.mymineBtn.addEventListener(eui.tep,e._v,e),e.buyBtn.addEventListener(eui.tep,e.cw,e),vkG.$a(UtJ.VS,e.ke,e),vkG.$a(UtJ.SD,e.nb,e),vkG.$a(UtJ.DI,e.ec,e),vkG.$a(UtJ.VOB,e.nr,e)},t.prototype.removeEvent=function(){var e=this;e.mymineBtn.removeEventListener(eui.tep,e._v,e),e.buyBtn.removeEventListener(eui.tep,e.cw,e),vkG.$r(UtJ.VS,e.ke,e),vkG.$r(UtJ.SD,e.nb,e),vkG.$r(UtJ.DI,e.ec,e),vkG.$r(UtJ.VOB,e.nr,e)},t.prototype.initData=function(){this.xr()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.sf=e[0],n.sf&&ziI.BR("cross_mine_node_grid",n.sf.id),n.xr())},t.prototype.xr=function(){var e=this;if(e.CSo&&e.sf){e.bh=e.sf.id,e.title=fvg.GVf("mine00"+e.bh);for(var t,n,i=e.sf.nodes,r=i?i.length:0,a=0;r>a;a++)n=i[a],t=GObj.$c(MineAreaView),t.addEventListener(eui.tep,e.vw,e),t.nodeTemp=n,t.x=n.x,t.y=n.y,e.iy[n.id]=t,e.addChild(t);e.nb(e.bh),e.nr(),e.ke()}},t.prototype.ke=function(){this.bl()},t.prototype.nb=function(e){var t=this;if(e==t.bh){for(var n in t.iy)t.iy[n].updateView();var i=App.XQS.mineAreaDic[t.bh];if(i&&i.fid>0){var r=fvg.GVf("martialart_name_"+i.fid);t.belongTxt.textFlow=LgRe.OQ(fvg.GVf("mine7",r)),t.incomeTxt.textFlow=LgRe.OQ(fvg.GVf("mine8",App.XQS.income_rate/10))}else t.belongTxt.textFlow=LgRe.OQ(fvg.GVf("mine7","--")),t.incomeTxt.textFlow=LgRe.OQ(fvg.GVf("mine8",0))}},t.prototype.nr=function(){var e=this;e.mymineBtn.label=fvg.GVf("112",App.XQS.my_mine_count,App.XQS.max_hold_count),e.mymineBtn.icon=UsU.AO()?StaticData.GHj:null},t.prototype.ec=function(e){var t=this.iy[e];t&&t.updateView()},t.prototype.bl=function(){this.lastCountTxt.text=fvg.GVf("mine27",App.XQS.mineMainInfo.atkcount,App.XQS.max_fight_count)},t.prototype.vw=function(e){var t=this,n=e.currentTarget,i=GObj.$c(MineFightPopUi);i.loU(n.nodeTemp),i.addEventListener(UtJ.ST,t.uf,t),i.show(),t.vh()},t.prototype._v=function(e){var t=this,n=GObj.$c(MyMinePopUi);n.addEventListener(UtJ.ST,t.uf,t),n.show(),t.vh()},t.prototype.uf=function(e){var t=this;e.target&&e.target.removeEventListener(UtJ.ST,t.uf,t),t._destory||t.parent||(t.sf&&ziI.BR("cross_mine_node_grid",t.sf.id),t.show())},t.prototype.vh=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.bw=function(e){GObj.$d(this)},t.prototype.cw=function(e){var t=this;if(App.XQS.mineMainInfo.buycount<=0)return void App.TT.show(fvg.GVf("304"));var n=App.XQS.mineMainInfo.atkcount,i=App.XQS.max_fight_count;if(n>=i)return void App.TT.show(fvg.GVf("mine56"));var r=App.XQS.getBuyCountPoint(),a=fvg.GVf("303",r,App.XQS.mineMainInfo.buycount,App.XQS.max_buy_count);Alert.WK(a,void 0,void 0,t.bp,this,[r])},t.prototype.bp=function(e){return App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):void MineMsgProxy.MV()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.belongTxt),t.belongTxt=null,GObj.$d(t.incomeTxt),t.incomeTxt=null,GObj.$d(t.lastCountTxt),t.lastCountTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.mymineBtn),t.mymineBtn=null,t.iy){var n=void 0;for(var i in t.iy)n=t.iy[i],n.removeEventListener(eui.tep,t.vw,t),GObj.$d(n),delete t.iy[i];n=null}t.iy=null,t.sf=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineAreaPopUi.prototype,"MineAreaPopUi");var MineAreaView=function(e){function t(){var t=e.call(this,"MineAreaView")||this;return t.skinName=RRUU.$s("MineAreaViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buildImg=e.contentBtn.buildImg,e.timeTxt=e.contentBtn.timeTxt,e.progBar=e.contentBtn.progBar,e.backImg=e.contentBtn.backImg,e.flagImg=e.contentBtn.iconImg,e.nameTxt=e.contentBtn.nameTxt,e.mcSp=e.contentBtn.shieldMc,e.touchEnabled=!1},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.wm,e)},t.prototype.initData=function(){this.updateView()},Object.defineProperty(t.prototype,"nodeTemp",{get:function(){return this.xj},set:function(e){this.xj=e},enumerable:!0,configurable:!0}),t.prototype.updateView=function(){var e=this;e.CSo&&e.xj&&(e.rh=App.XQS.mineNodeDic[e.xj.id],e.rh&&(e.buildImg.source="mine_json.mine_build_"+e.bs(e.rh.type||1)+"_png"),App.XQS.hasDefPlayer(e.rh)?(e.progBar.value=int(e.rh.hp/10),e.nameTxt.text=e.rh.def.name,e.flagImg.source="mine_json.mine_mart_"+e.rh.def.fid+"_png",e.progBar.visible=!0,e.timeTxt.visible=e.nameTxt.visible=e.backImg.visible=e.flagImg.visible=!0,e.zf=(e.rh.time||0)+5,e.uv=(e.rh.safe||0)+5,e.j_=e.zf-App.NN.serverSecond,e.j_>0&&vkG.$a(HUtJ.HEARTBEAT,e.wm,e),e.wm()):(e.nameTxt.text="",e.timeTxt.text="",e.progBar.visible=!1,e.timeTxt.visible=e.nameTxt.visible=e.backImg.visible=e.flagImg.visible=!1,e.sz&&(e.sz.stop(),e.sz.parent&&e.sz.parent.removeChild(e.sz)),vkG.$r(HUtJ.HEARTBEAT,e.wm,e)),e.visible=e.rh&&1!=e.rh.exist)},t.prototype.wm=function(){var e=this;e.j_=e.zf-App.NN.serverSecond,e.j_<=0&&(e.j_=0,vkG.$r(HUtJ.HEARTBEAT,e.wm,e)),e.timeTxt.text=fvg.GVf("public023",kpd.formatDateBySec5(e.j_)),e.j_=e.uv-App.NN.serverSecond,e.j_>0?(e.sz||(e.sz=App.KB.getUIEffect(gYq.VQ)),e.sz.play(),e.mcSp&&!e.sz.parent&&e.mcSp.addChild(e.sz)):e.sz&&(e.sz.stop(),e.sz.parent&&e.sz.parent.removeChild(e.sz))},t.prototype.bs=function(e){switch(e){case 6:case 7:case 8:return 6}return e},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentBtn),t.contentBtn=null,t.nameTxt=null,t.backImg=null,t.timeTxt=null,t.progBar=null,t.flagImg=null,t.buildImg=null,t.mcSp=null,t.rh=null,t.xj=null,t.sz&&(t.sz.stop(),GObj.$d(t.sz)),t.sz=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MineAreaView.prototype,"MineAreaView");var MineBattleFrame=function(e){function t(t){var n=e.call(this,"MineBattleFrame")||this;return n.pg=t,n.skinName=RRUU.$s(n.id),n.horizontalCenter=0,n.verticalCenter=-20,n
}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bl=3,e.skipBtn.label=fvg.GVf("mine53",e.bl),e.skipBtn.visible=!1,e.player_1.x=480,e.player_2.x=-297,e.backImg.alpha=e.player_1.alpha=e.player_2.alpha=0,e.resultImg_1.alpha=e.resultImg_2.alpha=0,e.resultImg_1.scaleX=e.resultImg_1.scaleY=3.5,e.resultImg_2.scaleX=e.resultImg_2.scaleY=3.5,e.hg=App.KB.getUIEffect(gYq.LSK),e.hg.stop(),e.hg.x=175,e.hg.y=90},t.prototype.initEvent=function(){var e=this;e.skipBtn.addEventListener(eui.tep,e.dd,e)},t.prototype.removeEvent=function(){var e=this;e.skipBtn.removeEventListener(eui.tep,e.dd,e)},t.prototype.initData=function(){var e=this;e.fs(),e.ap()},t.prototype.fs=function(){var e=this;e.oa=e.pg.atk,e.kp=e.pg.def,e.oa&&(e.headIcon_1.icon=kLM.JU(e.oa.head,e.oa.heads),e.nameTxt_1.text=e.oa.name,e.capTxt_1.text=fvg.GVf("public018",e.oa.cap),e.hpProg_1.value=int(e.oa.starthp/e.oa.maxhp*100)),e.kp&&(e.headIcon_2.icon=kLM.JU(e.kp.head,e.kp.heads),e.nameTxt_2.text=e.kp.name,e.capTxt_2.text=fvg.GVf("public018",e.kp.cap),e.hpProg_2.value=int(e.kp.starthp/e.kp.maxhp*100))},t.prototype.ap=function(){var e=this;e.CSo&&e.parent&&!e.yn&&(e.yn=!0,egret.Tween.get(e.backImg).to({alpha:1},200),egret.Tween.get(e.player_1).to({alpha:1,x:20},300),egret.Tween.get(e.player_2).to({alpha:1,x:160},300).wait(100).call(e.ig,e))},t.prototype.ig=function(){var e=this;if(!e.destory){e.hg&&(e.hg.play(),e.addChild(e.hg));var t=int(e.oa.endhp/e.oa.maxhp*100);egret.Tween.get(e.hpProg_1).to({value:t},2e3),t=int(e.kp.endhp/e.kp.maxhp*100),egret.Tween.get(e.hpProg_2).to({value:t},2e3).wait(100).call(e.lg,e)}},t.prototype.lg=function(){var e=this;e.destory||(e.resultImg_1.source=1==e.pg.result?"mine_json.mine_win_png":"mine_json.mine_fail_png",e.resultImg_2.source=2==e.pg.result?"mine_json.mine_win_png":"mine_json.mine_fail_png",e.hg&&e.hg.stop(),egret.Tween.get(e.resultImg_1).to({alpha:1,scaleX:1,scaleY:1},50),egret.Tween.get(e.resultImg_2).to({alpha:1,scaleX:1,scaleY:1},50).wait(200).call(e.zi,e))},t.prototype.zi=function(){var e=this;if(!e.destory){if(e.bl<=0)return void e.dd(null);ClockManager.setTimeout(e.zi,this,1e3),e.skipBtn.visible=!0,e.skipBtn.label=fvg.GVf("mine53",e.bl),e.bl--}},t.prototype.show=function(){var e=this;alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR),e.ap()},t.prototype.dd=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.backImg&&egret.Tween.removeTweens(t.backImg),t.player_1&&egret.Tween.removeTweens(t.player_1),t.player_2&&egret.Tween.removeTweens(t.player_2),t.hpProg_1&&egret.Tween.removeTweens(t.hpProg_1),t.hpProg_2&&egret.Tween.removeTweens(t.hpProg_2),t.resultImg_1&&egret.Tween.removeTweens(t.resultImg_1),t.resultImg_2&&egret.Tween.removeTweens(t.resultImg_2),GObj.$d(t.headIcon_1),t.headIcon_1=null,GObj.$d(t.headIcon_2),t.headIcon_2=null,GObj.$d(t.resultImg_1),t.resultImg_1=null,GObj.$d(t.resultImg_2),t.resultImg_2=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.capTxt_1),t.capTxt_1=null,GObj.$d(t.capTxt_2),t.capTxt_2=null,GObj.$d(t.hpProg_1),t.hpProg_1=null,GObj.$d(t.hpProg_2),t.hpProg_2=null,GObj.$d(t.player_1),t.player_1=null,GObj.$d(t.player_2),t.player_2=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.skipBtn),t.skipBtn=null,t.hg&&(t.hg.stop(),GObj.$d(t.hg)),t.hg=null,t.oa=null,t.kp=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MineBattleFrame.prototype,"MineBattleFrame");var MineBeautyAreaPopUi=function(e){function t(){var t=e.call(this,"MineBeautyAreaPopUi")||this;return t.skinName=RRUU.$s("MineBeautyAreaPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.ef={}},t.prototype.initEvent=function(){var e=this;e.mymineBtn.addEventListener(eui.tep,e.oj,e),e.buyBtn.addEventListener(eui.tep,e.kr,e),vkG.$a(UtJ.ZQ,e.yi,e),vkG.$a(UtJ.UJ,e.uj,e),vkG.$a(UtJ.IP,e.sj,e),vkG.$a(UtJ.LY,e.tg,e)},t.prototype.removeEvent=function(){var e=this;e.mymineBtn.removeEventListener(eui.tep,e.oj,e),e.buyBtn.removeEventListener(eui.tep,e.kr,e),vkG.$r(UtJ.ZQ,e.yi,e),vkG.$r(UtJ.UJ,e.uj,e),vkG.$r(UtJ.IP,e.sj,e),vkG.$r(UtJ.LY,e.tg,e)},t.prototype.initData=function(){this.f_()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.vp=e[0],n.vp&&ziI.BR("cs_mine_node_grid",n.vp.id),ziI.BR("cs_mine_my_node"),n.f_())},t.prototype.f_=function(){var e=this;if(e.CSo&&e.vp){e.fp=e.vp.id,e.title=fvg.GVf("mine65_"+e.fp);for(var t,n,i=e.vp.nodes,r=i?i.length:0,a=0;r>a;a++)n=i[a],t=GObj.$c(MineBeautyAreaView),t.addEventListener(eui.tep,e.yx,e),t.nodeTemp=n,t.imgType=a,t.x=n.x,t.y=n.y,e.ef[n.id]=t,e.addChild(t);e.uj(e.fp),e.tg(),e.yi()}},t.prototype.yi=function(){this.ff()},t.prototype.uj=function(e){var t=this;if(e==t.fp){for(var n in t.ef)t.ef[n].updateView();var i=App.XQS.mineBeautyAreaDic[t.fp];if(i&&i.fid>0){fvg.GVf("martialart_name_"+i.fid)}}},t.prototype.tg=function(){var e=this;e.mymineBtn.label="",e.mymineBtn.icon=UsU.EG()?StaticData.GHj:null},t.prototype.sj=function(e){var t=this.ef[e];t&&t.updateView()},t.prototype.ff=function(){this.lastCountTxt.text=fvg.GVf("mine27",App.XQS.mineBeautyMainInfo.atkcount,App.XQS.max_beauty_fight_count)},t.prototype.yx=function(e){var t=this,n=e.currentTarget,i=GObj.$c(MineBeautyFightPopUi);i.loU(n.nodeTemp),i.addEventListener(UtJ.ST,t.xg,t),i.show(),t.wf()},t.prototype.oj=function(e){var t=this,n=GObj.$c(MyBeautyMinePopUi);n.addEventListener(UtJ.ST,t.xg,t),n.show(),t.wf()},t.prototype.xg=function(e){var t=this;e.target&&e.target.removeEventListener(UtJ.ST,t.xg,t),t._destory||t.parent||(t.vp&&ziI.BR("cs_mine_node_grid",t.vp.id),t.show())},t.prototype.wf=function(){var e=this;e.parent&&e.parent.removeChild(e)},t.prototype.kr=function(e){var t=this;if(App.XQS.mineBeautyMainInfo.buycount<=0)return void App.TT.show(fvg.GVf("304"));var n=App.XQS.mineBeautyMainInfo.atkcount,i=App.XQS.max_beauty_fight_count;if(n>=i)return void App.TT.show(fvg.GVf("mine56"));var r=App.XQS.getBeautyBuyCountPoint(),a=fvg.GVf("303",r,App.XQS.mineBeautyMainInfo.buycount,App.XQS.max_beauty_buy_count);Alert.WK(a,void 0,void 0,t.pr,this,[r])},t.prototype.pr=function(e){return App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):void MineMsgProxy.UQ()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.lastCountTxt),t.lastCountTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.mymineBtn),t.mymineBtn=null,t.ef){var n=void 0;for(var i in t.ef)n=t.ef[i],n.removeEventListener(eui.tep,t.yx,t),GObj.$d(n),delete t.ef[i];n=null}t.ef=null,t.vp=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineBeautyAreaPopUi.prototype,"MineBeautyAreaPopUi");var MineBeautyAreaView=function(e){function t(){var t=e.call(this,"MineBeautyAreaView")||this;return t.skinName=RRUU.$s("MineBeautyAreaView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buildImg=e.contentBtn.buildImg,e.timeTxt=e.contentBtn.timeTxt,e.progBar=e.contentBtn.progBar,e.backImg=e.contentBtn.backImg,e.flagImg=e.contentBtn.iconImg,e.nameTxt=e.contentBtn.nameTxt,e.mcSp=e.contentBtn.shieldMc,e.touchEnabled=!1},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){var e=this;vkG.$r(HUtJ.HEARTBEAT,e.qp,e)},t.prototype.initData=function(){this.updateView()},Object.defineProperty(t.prototype,"nodeTemp",{get:function(){return this.o_},set:function(e){this.o_=e},enumerable:!0,configurable:!0}),t.prototype.updateView=function(){var e=this;e.CSo&&e.o_&&(e.aq=App.XQS.mineBeautyNodeDic[e.o_.id],App.XQS.hasBeautyDefPlayer(e.aq)?(e.progBar.value=int(e.aq.hp/10),e.nameTxt.text=e.aq.def.name,e.flagImg.source="mine_json.mine_mart_"+e.aq.def.fid+"_png",e.progBar.visible=!0,e.timeTxt.visible=e.nameTxt.visible=e.backImg.visible=e.flagImg.visible=!0,e.eu=(e.aq.time||0)+5,e.uc=e.aq.safe||0,e.di=e.uc-App.NN.serverSecond,e.di>0&&vkG.$a(HUtJ.HEARTBEAT,e.qp,e),e.qp()):(e.nameTxt.text="",e.timeTxt.text="",e.progBar.visible=!1,e.timeTxt.visible=e.nameTxt.visible=e.backImg.visible=e.flagImg.visible=!1,e.md&&(e.md.stop(),e.md.parent&&e.md.parent.removeChild(e.md)),vkG.$r(HUtJ.HEARTBEAT,e.qp,e)),e.buildImg.source="mine_2_json.mine_house_"+(e.imgType+1)+"_png",e.visible=e.aq&&1!=e.aq.exist)},t.prototype.qp=function(){var e=this;e.di>0?(e.md||(e.md=App.KB.getUIEffect(gYq.VQ)),e.timeTxt.text=fvg.GVf("mine59",kpd.formatDateBySec5(e.di)),e.md.play(),e.mcSp&&!e.md.parent&&e.mcSp.addChild(e.md),e.nameTxt.y=85,e.di--):e.di<=0&&(e.md&&(e.di=0,e.timeTxt.text="",vkG.$r(HUtJ.HEARTBEAT,e.qp,e),e.md.stop(),e.md.parent&&e.md.parent.removeChild(e.md)),e.nameTxt.y=90,vkG.$r(HUtJ.HEARTBEAT,e.qp,e))},t.prototype.ah=function(e){switch(e){case 6:case 7:case 8:return 6}return e},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentBtn),t.contentBtn=null,t.nameTxt=null,t.backImg=null,t.timeTxt=null,t.progBar=null,t.flagImg=null,t.buildImg=null,t.mcSp=null,t.aq=null,t.o_=null,t.md&&(t.md.stop(),GObj.$d(t.md)),t.md=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MineBeautyAreaView.prototype,"MineBeautyAreaView");var MineBeautyBattleFrame=function(e){function t(t){var n=e.call(this,"MineBeautyBattleFrame")||this;return n.xs=t,n.skinName=RRUU.$s(n.id),n.horizontalCenter=0,n.verticalCenter=-20,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.j_=3,e.skipBtn.label=fvg.GVf("mine53",e.j_),e.skipBtn.visible=!1,e.player_1.x=480,e.player_2.x=-297,e.backImg.alpha=e.player_1.alpha=e.player_2.alpha=0,e.resultImg_1.alpha=e.resultImg_2.alpha=0,e.resultImg_1.scaleX=e.resultImg_1.scaleY=3.5,e.resultImg_2.scaleX=e.resultImg_2.scaleY=3.5,e.vr=App.KB.getUIEffect(gYq.LSK),e.vr.stop(),e.vr.x=175,e.vr.y=90},t.prototype.initEvent=function(){var e=this;e.skipBtn.addEventListener(eui.tep,e.rs,e)},t.prototype.removeEvent=function(){var e=this;e.skipBtn.removeEventListener(eui.tep,e.rs,e)},t.prototype.initData=function(){var e=this;e.ja(),e.wt()},t.prototype.ja=function(){var e=this;e.wy=e.xs.atk,e.er=e.xs.def,e.wy&&(e.headIcon_1.icon=kLM.JU(e.wy.head,e.wy.heads),e.nameTxt_1.text=e.wy.name,e.beautyName_1.text=fvg.GVf("mine71",e.tp(e.wy.dsl)),e.capTxt_1.text=fvg.GVf("public018",e._j(e.wy.dcl)),e.hpProg_1.value=int(e.wy.starthp/e.wy.maxhp*100)),e.er&&(e.headIcon_2.icon=kLM.JU(e.er.head,e.er.heads),e.nameTxt_2.text=e.er.name,e.beautyName_2.text=fvg.GVf("mine71",e.tp(e.er.dsl)),e.capTxt_2.text=fvg.GVf("public018",e._j(e.er.dcl)),e.hpProg_2.value=int(e.er.starthp/e.er.maxhp*100))},t.prototype._j=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},t.prototype.tp=function(e){var t="";if(!e||e.length<=0)return"";var n=App.JS.getRetinueInfoByType(32);if(!n)return"";for(var i=0;i<e.length;i++){var r=e[i],a=XCA.AQS.UFA(33,r,1);t+=a.name+"  "}return t},t.prototype.wt=function(){var e=this;e.CSo&&e.parent&&!e.ph&&(e.ph=!0,egret.Tween.get(e.backImg).to({alpha:1},200),egret.Tween.get(e.player_1).to({alpha:1,x:20},300),egret.Tween.get(e.player_2).to({alpha:1,x:160},300).wait(100).call(e.ld,e))},t.prototype.ld=function(){var e=this;if(!e.destory){e.vr&&(e.vr.play(),e.addChild(e.vr));var t=int(e.wy.endhp/e.wy.maxhp*100);egret.Tween.get(e.hpProg_1).to({value:t},2e3),t=int(e.er.endhp/e.er.maxhp*100),egret.Tween.get(e.hpProg_2).to({value:t},2e3).wait(100).call(e.oi,e)}},t.prototype.oi=function(){var e=this;e.destory||(e.resultImg_1.source=1==e.xs.result?"mine_json.mine_win_png":"mine_json.mine_fail_png",e.resultImg_2.source=2==e.xs.result?"mine_json.mine_win_png":"mine_json.mine_fail_png",e.vr&&e.vr.stop(),egret.Tween.get(e.resultImg_1).to({alpha:1,scaleX:1,scaleY:1},50),egret.Tween.get(e.resultImg_2).to({alpha:1,scaleX:1,scaleY:1},50).wait(200).call(e.xd,e))},t.prototype.xd=function(){var e=this;if(!e.destory){if(e.j_<=0)return void e.rs(null);ClockManager.setTimeout(e.xd,this,1e3),e.skipBtn.visible=!0,e.skipBtn.label=fvg.GVf("mine53",e.j_),e.j_--}},t.prototype.show=function(){var e=this;alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR),e.wt()},t.prototype.rs=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.backImg&&egret.Tween.removeTweens(t.backImg),t.player_1&&egret.Tween.removeTweens(t.player_1),t.player_2&&egret.Tween.removeTweens(t.player_2),t.hpProg_1&&egret.Tween.removeTweens(t.hpProg_1),t.hpProg_2&&egret.Tween.removeTweens(t.hpProg_2),t.resultImg_1&&egret.Tween.removeTweens(t.resultImg_1),t.resultImg_2&&egret.Tween.removeTweens(t.resultImg_2),GObj.$d(t.headIcon_1),t.headIcon_1=null,GObj.$d(t.headIcon_2),t.headIcon_2=null,GObj.$d(t.resultImg_1),t.resultImg_1=null,GObj.$d(t.resultImg_2),t.resultImg_2=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.capTxt_1),t.capTxt_1=null,GObj.$d(t.capTxt_2),t.capTxt_2=null,GObj.$d(t.hpProg_1),t.hpProg_1=null,GObj.$d(t.hpProg_2),t.hpProg_2=null,GObj.$d(t.player_1),t.player_1=null,GObj.$d(t.player_2),t.player_2=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.skipBtn),t.skipBtn=null,GObj.$d(t.beautyName_1),t.beautyName_1=null,GObj.$d(t.beautyName_2),t.beautyName_2=null,t.vr&&(t.vr.stop(),GObj.$d(t.vr)),t.vr=null,t.wy=null,t.er=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(MineBeautyBattleFrame.prototype,"MineBeautyBattleFrame");var MineBeautyDescPopUi=function(e){function t(){return e.call(this,"MineBeautyDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.EB,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(MineBeautyDescPopUi.prototype,"MineBeautyDescPopUi");var MineBeautyFightPopUi=function(e){function t(){var t=e.call(this,"MineBeautyFightPopUi")||this;return t.owi=!1,t.skinName=RRUU.$s("MineBeautyFightPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine28"),e.noDefTxt.text=e.noHelpTxt.text=fvg.GVf("rank10"),e.rateTxt.text=fvg.GVf("mine8",int(App.XQS.beauty_income_rate/10)),e.fightBtn.label=fvg.GVf("mine30"),e.capLab.text=fvg.GVf("public060","--")},t.prototype.initEvent=function(){var e=this;e.fightBtn.addEventListener(eui.tep,e.uv,e),vkG.$a(UtJ.IP,e.ry,e)},t.prototype.removeEvent=function(){var e=this;e.fightBtn.removeEventListener(eui.tep,e.uv,e),vkG.$r(HUtJ.HEARTBEAT,e._c,e),vkG.$r(UtJ.IP,e.ry,e),vkG.$r(UtJ.ZQ,e.ug,e)},t.prototype.initData=function(){this.f_()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.il=e[0],n.il&&ziI.BR("cs_mine_one_node",n.il.id),n.f_())},t.prototype.f_=function(){var e=this;e.CSo&&e.il&&(e.oa=App.XQS.mineBeautyNodeDic[e.il.id],e.oa&&(e.areaNameTxt.text=fvg.GVf("mine76",fvg.GVf("mine65_"+App.XQS.getAIdByNId(e.oa.id))),e.rateTxt.x=e.areaNameTxt.x+e.areaNameTxt.width+3),e.title=fvg.GVf("mine65_"+App.XQS.getAIdByNId(e.oa.id)),e.rateTxt.visible=App.XQS.hasBeautyIncomeRate(e.oa),e.az(),e.fx(),e.bw())},t.prototype.az=function(){var e=this;if(e.wd=1,App.XQS.hasBeautyDefPlayer(e.oa)){var t=App.JS.getRetinueInfoByType(32);if(!t)return;for(var n=e.oa.def,i=n.dsl,r=0;r<i.length;r++){var a=i[r],o=XCA.AQS.UFA(33,a,1);this["holdNameTxt"+r].text=fvg.GVf("mine68",fvg.GVf("martialart_name_"+n.fid),n.name),this["holdHeadIcon"+r].icon=kLM.ZA(o.tid),this["holdMartTxt"+r].text=fvg.GVf("mine71",o.name),this["hideWeaponLab"+r].text=fvg.GVf("mine73",""==n.dsel[r]?fvg.GVf("public030"):n.dsel[r]),this["holdCapTxt"+r].text=fvg.GVf("mine72",n.dcl[r])}switch(i.length){case 0:e.noDefImg.visible=e.noDefTxt.visible=!0,e.noHelpImg.visible=e.noHelpTxt.visible=!0,e.noDefTxt.text=e.noHelpTxt.text=fvg.GVf("rank10"),e.holdCapTxt0.text=e.holdCapTxt1.text="",e.holdNameTxt0.text=e.holdNameTxt1.text="",e.holdMartTxt0.text=e.holdMartTxt1.text="",e.hideWeaponLab0.text=e.hideWeaponLab1.text="";break;case 1:e.noDefImg.visible=e.noDefTxt.visible=!1,e.noHelpImg.visible=e.noHelpTxt.visible=!0,e.holdMartTxt0.visible=!0,e.holdMartTxt1.visible=!1,e.holdNameTxt1.text="",e.hideWeaponLab1.text="",e.holdCapTxt1.text="",e.holdHeadIcon1.icon=null;break;case 2:e.noDefImg.visible=e.noDefTxt.visible=!1,e.noHelpImg.visible=e.noHelpTxt.visible=!1,e.holdMartTxt0.visible=!0,e.holdMartTxt1.visible=!0}for(var s=(fvg.GVf("martialart_name_"+n.fid),n.dcl),p=0,r=0;r<s.length;r++)p+=s[r];e.capLab.text=fvg.GVf("mine62",p),e.noDefImg.visible=e.noDefTxt.visible=!1,n.uid==App.KF.uid&&(e.wd=2)}else e.holdNameTxt0.text=e.holdNameTxt1.text="",e.holdCapTxt0.text=e.holdCapTxt1.text="",e.holdMartTxt0.text=e.holdMartTxt1.text="",e.hideWeaponLab0.text=e.hideWeaponLab1.text="",e.holdHeadIcon0.icon=null,e.holdHeadIcon1.icon=null,e.noDefImg.visible=e.noHelpImg.visible=!0,e.capLab.text=fvg.GVf("mine62","--"),e.noDefTxt.text=e.noHelpTxt.text=fvg.GVf("rank10"),e.noDefTxt.visible=e.noHelpTxt.visible=!0;e.fightBtn.label=1==e.wd?fvg.GVf("mine30"):fvg.GVf("mine35")},t.prototype.zt=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t},t.prototype.fx=function(){var e=this;App.XQS.hasBeautyDefPlayer(e.oa)?(e.timeBackImg.visible=e.timeTxt.visible=!0,e.yo=(e.oa.time||0)+5,e.wu=e.oa.safe||0,e.se=e.yo-App.NN.serverSecond,e.se>0&&vkG.$a(HUtJ.HEARTBEAT,e._c,e),e._c()):(e.timeBackImg.visible=e.timeTxt.visible=e.shieldImg.visible=!1,vkG.$r(HUtJ.HEARTBEAT,e._c,e))},t.prototype._c=function(){var e=this;e.se=e.yo-App.NN.serverSecond,e.se<=0&&(e.se=0,vkG.$r(HUtJ.HEARTBEAT,e._c,e)),e.timeTxt.text=fvg.GVf("public023",kpd.formatDateBySec5(e.se)),e.se=e.wu-App.NN.serverSecond,e.shieldImg.visible=e.se>0,e.se>0&&(e.timeTxt.text=fvg.GVf("mine59",kpd.formatDateBySec5(e.se)))},t.prototype.bw=function(){var e=this;if(e.oa&&e.oa.award){var t,n=App.XQS.getBeautyRewardByInfo(e.oa),i=1;for(var r in n)t=this["incomeBtn_"+i],t&&n[r]>0?(t.icon=kLM.PO(parseInt(r)),t.label=fvg.GVf("mine15",n[r]),i++):(t.icon=null,t.label="");for(;3>=i;i++)t=this["incomeBtn_"+i],t&&(t.icon=null,t.label="")}},t.prototype.ry=function(e){var t=this;t.il&&t.il.id==e&&t.f_()},t.prototype.uv=function(e){var t=this;if(t.il&&t.oa){if(!App.XQS.mine_beauty_processing)return void App.TT.show(fvg.GVf("mine55_11"));if(2==t.wd)Alert.WK(fvg.GVf("mine79"),void 0,void 0,t.tr,this,[t.oa.id]);else{if(t.xv())return void MessageTipManager.instance.show(fvg.GVf("mine78"));var n=t.oa.cd-App.NN.serverSecond;if(n>0)return void MessageTipManager.instance.show(fvg.GVf("mine55_13"));if(App.XQS.hasBeautyDefPlayer(t.oa)){if(t.wu-App.NN.serverSecond>0&&!t.owi)return void App.TT.show(fvg.GVf("mine80"));var i=t.oa.def.fid;if(i==App.XB.info.fid)return void App.TT.show(fvg.GVf("mine55_2"))}if(App.XQS.mineBeautyMainInfo.atkcount<=0)return void t.ii();var r=(App.XQS.myBeautyMineInfo,GObj.$c(MineBeautySelectedPopUi));r.loU(t.owi,t.oa.id),r.show()}}},t.prototype.xv=function(){var e=[],t=App.JS.getRetinueInfoByType(32),n=App.XQS.myBeautyMineInfo;if(t&&t.stempDict){var i;for(var r in t.stempDict)if(i=t.stempDict[r]){var a=t.sgradeDict[r]||0;a>0&&e.push(i)}return n.dsl.length>=e.length}},t.prototype.dl=function(){this.owi=!0,this.uv(null)},t.prototype.tr=function(e){MineMsgProxy.TZ(e)},t.prototype.ii=function(){var e=this;if(App.XQS.mineBeautyMainInfo.buycount<=0)return void App.TT.show(fvg.GVf("mine39"));var t=App.XQS.getBeautyBuyCountPoint(),n=fvg.GVf("303",t,App.XQS.mineBeautyMainInfo.buycount,App.XQS.max_beauty_buy_count);Alert.WK(n,void 0,void 0,e.lo,this,[t])},t.prototype.lo=function(e){var t=this;return App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):(vkG.$a(UtJ.ZQ,t.ug,t),void MineMsgProxy.UQ())},t.prototype.ug=function(){var e=this;App.XQS.mineBeautyMainInfo.atkcount>0&&e.oa&&(vkG.$r(UtJ.ZQ,e.ug,e),App.XQS.my_mine_count>=App.XQS.max_hold_count,MineMsgProxy.EH(e.oa.id,[]))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.areaNameTxt),t.areaNameTxt=null,GObj.$d(t.incomeBtn_1),t.incomeBtn_1=null,GObj.$d(t.incomeBtn_2),t.incomeBtn_2=null,GObj.$d(t.incomeBtn_3),t.incomeBtn_3=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.timeBackImg),t.timeBackImg=null,GObj.$d(t.fightBtn),t.fightBtn=null,GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.holdNameTxt0),t.holdNameTxt0=null,GObj.$d(t.holdCapTxt0),t.holdCapTxt0=null,GObj.$d(t.holdMartTxt0),t.holdMartTxt0=null,GObj.$d(t.hideWeaponLab0),t.hideWeaponLab0=null,GObj.$d(t.holdNameTxt1),t.holdNameTxt1=null,GObj.$d(t.holdCapTxt1),t.holdCapTxt1=null,GObj.$d(t.holdMartTxt1),t.holdMartTxt1=null,GObj.$d(t.hideWeaponLab1),t.hideWeaponLab1=null,GObj.$d(t.holdHeadIcon0),t.holdHeadIcon0=null,GObj.$d(t.holdHeadIcon1),t.holdHeadIcon1=null,GObj.$d(t.noHelpImg),t.noHelpImg=null,GObj.$d(t.noDefImg),t.noDefImg=null,GObj.$d(t.noDefTxt),t.noDefTxt=null,GObj.$d(t.noHelpTxt),t.noHelpTxt=null,GObj.$d(t.shieldImg),t.shieldImg=null,GObj.$d(t.rateTxt),t.rateTxt=null,GObj.$d(t.capLab),t.capLab=null,t.il=null,t.oa=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineBeautyFightPopUi.prototype,"MineBeautyFightPopUi");var MineBeautyLogItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MineBeautyLogItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.zw,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.zw,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.lz=e.data,e.msgTxt.text=e.lz)},t.prototype.zw=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,t.lz=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MineBeautyLogItem.prototype,"MineBeautyLogItem");var MineBeautyLogPopUi=function(e){function t(){var t=e.call(this,"MineBeautyLogPopUi")||this;return t.skinName=RRUU.$s("MineBeautyLogPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine66"),e.titleTxt_2.text=fvg.GVf("mine24"),e.itemData_1=GObj.$c(eui.ArrayCollection),e.itemGroup_1.dataProvider=e.itemData_1,e.itemGroup_1.itemRenderer=MineBeautyLogItem,e.itemData_2=GObj.$c(eui.ArrayCollection),e.itemGroup_2.dataProvider=e.itemData_2,e.itemGroup_2.itemRenderer=MineBeautyLogItem,e.title=fvg.GVf("harry39")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.X_,e.oy,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.X_,e.oy,e)},t.prototype.initData=function(){MineMsgProxy.ZJ(1),this.oy()},t.prototype.oy=function(){var e=this,t=App.XQS.logBeautyInfoDic||{},n=(t.my||[]).reverse(),i=(t.share||[]).reverse();e.itemData_1.source.length=0,e.itemData_2.source.length=0;var r,a=Math.max(n.length,i.length);for(r=0;a>r;r++)i[r]&&e.itemData_1.source.push(i[r]),n[r]&&e.itemData_2.source.push(n[r]);e.itemData_1.refresh(),e.itemData_2.refresh()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2,t.scroller_1&&(t.scroller_1.stopAnimation(),t.scroller_1.viewport=null,GObj.$d(t.scroller_1)),t.scroller_1=null,t.scroller_2&&(t.scroller_2.stopAnimation(),t.scroller_2.viewport=null,GObj.$d(t.scroller_2)),t.scroller_2=null,t.itemGroup_1&&(t.itemGroup_1.dataProvider=null,GObj.$d(t.itemGroup_1)),t.itemGroup_1=null,t.itemGroup_2&&(t.itemGroup_2.dataProvider=null,GObj.$d(t.itemGroup_2)),t.itemGroup_2=null,t.itemData_1=null,t.itemData_2=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineBeautyLogPopUi.prototype,"MineBeautyLogPopUi");var MineBeautyRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MineBeautyRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.selected=!0,e.boxBtn.$autoSelected=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._c,e),e.boxBtn.addEventListener(eui.tep,e.wt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._c,e),e.boxBtn.removeEventListener(eui.tep,e.wt,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.iz=e.data,e.iz?(e.martTxt.text=fvg.GVf("martialart_name_"+e.iz.fid),e.belongTxt.text=toChars(e.iz.score)):(e.martTxt.text="--",e.belongTxt.text=toChars(0)),e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.visible=!1):(e.rankImg.source="",e.rankTxt.text=toChars(e.itemIndex+1),e.rankTxt.visible=!0))},t.prototype.wt=function(e){var t=GObj.$c(BoxPopUi);t.showDetail(123,1,this.itemIndex+1)},t.prototype._c=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.martTxt),t.martTxt=null,GObj.$d(t.belongTxt),t.belongTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.rankImg),t.rankImg=null,t.iz=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MineBeautyRankItem.prototype,"MineBeautyRankItem");var MineBeautyRankPopUi=function(e){function t(){var t=e.call(this,"MineBeautyRankPopUi")||this;return t.io=4,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("mine74",App.XQS.endBeautyTime/3600),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=MineBeautyRankItem,e.rankingLab.text=fvg.GVf("harry32"),e.sectsLab.text=fvg.GVf("harry33"),e.integralLab.text=fvg.GVf("harry34"),e.rewardLab.text=fvg.GVf("harry35"),e.title=fvg.GVf("harry38")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.zh,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.zh,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.NN);(!e||GApp.timer-e.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.NN),this.zh(e)},t.prototype.zh=function(e){var t=this;if(!e||e.type==FDG.NN){var n,i=e?Math.max(e.list.length,t.io):t.io;t.itemData.source.length=0;for(var r=e?e.list||[]:[],a=0;i>a;a++)n=r[a],t.itemData.source.push(n);t.itemData.refresh(),t.myRankTxt.text=fvg.GVf("rank1",fvg.GVf("martialart_name_"+App.KF.fid)),t.myBelongTxt.text=fvg.GVf("martialart100",e?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myBelongTxt),t.myBelongTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.integralLab),t.integralLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineBeautyRankPopUi.prototype,"MineBeautyRankPopUi");var MineBeautySelectedPopUi=function(e){function t(){var t=e.call(this,"MineBeautySelectedPopUi")||this;return t.du=[],t.nk=!1,t.skinName=RRUU.$s("MineBeautySelectedPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;App.XQS.selectedBeautyNum=0,e.datas=GObj.$c(eui.ArrayCollection),e.beautyList.dataProvider=e.datas,e.beautyList.itemRenderer=MineBrautyItemView,e.hasSelectedLab.textFlow=LgRe.OQ(fvg.GVf("mine63",0,2)),e.title=fvg.GVf("mine82"),e.sureBtn.label=fvg.GVf("7")},t.prototype.initData=function(){var e=this,t=App.JS.getRetinueInfoByType(32),n=App.XQS.myBeautyMineInfo;if(t&&t.stempDict){var i;for(var r in t.stempDict)if(i=t.stempDict[r]){var a=t.sgradeDict[r]||0;a>0&&n.dsl.indexOf(parseInt(r))<0&&e.datas.source.push(i)}e.datas.refresh()}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.nk=e[0],n.hp=e[1])},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.vg,e),vkG.$a(UtJ.FB,e.ml,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.vg,e),vkG.$r(UtJ.FB,e.ml,e)},t.prototype.ml=function(e,t){var n=this;t?n.du.push(e):n.du.indexOf(e)>=0&&n.du.splice(n.du.indexOf(e),1),n.hasSelectedLab.textFlow=LgRe.OQ(fvg.GVf("mine63",n.du.length,2))},t.prototype.vg=function(){var e=this;return e.du.length<=0?void MessageTipManager.instance.show(fvg.GVf("mine77")):(e.nk?MineMsgProxy.EH(e.hp,e.du,1):MineMsgProxy.EH(e.hp,e.du),void e.gk())},t.prototype.gk=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.hasSelectedLab),t.hasSelectedLab=null,GObj.$d(t.scroller),t.scroller=null,GObj.$d(t.beautyList),t.beautyList=null,GObj.$d(t.closeBtn),t.closeBtn=null,t.datas=null,e.prototype.dispose.call(this)
},t}(BasePopUi);__reflect(MineBeautySelectedPopUi.prototype,"MineBeautySelectedPopUi");var MineBeautyView=function(e){function t(){var t=e.call(this,"MineBeautyView")||this;return t.skinName=RRUU.$s("MineBeautyView"),ziI.BR("cs_mine_main_grid"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noNameTxt.text=fvg.GVf("rank10"),e.areaImgs=[],e.bt=RES.getResAsync("mine_beauty_node_json",e.vx,e);e.anBtns=[];for(var t,n=1;9>=n;n++)t=this["btn_"+n],t&&(t.addEventListener(eui.tep,e.ht,e),e.anBtns.push(t))},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.aboutBtn.addEventListener(eui.tep,t.rg,t),t.mymineBtn.addEventListener(eui.tep,t.lu,t),t.rankBtn.addEventListener(eui.tep,t.iy,t),t.logBtn.addEventListener(eui.tep,t.kp,t),t.back_img.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.lp,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.ng,t),vkG.$a(UtJ.ZQ,t.dn,t),vkG.$a(UtJ.LY,t.fe,t)},t.prototype.removeEvent=function(){var e=this;if(e.aboutBtn.removeEventListener(eui.tep,e.rg,e),e.mymineBtn.removeEventListener(eui.tep,e.lu,e),e.rankBtn.removeEventListener(eui.tep,e.iy,e),e.logBtn.removeEventListener(eui.tep,e.kp,e),e.back_img.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.lp,e),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.ng,e),vkG.$r(UtJ.ZQ,e.dn,e),vkG.$r(UtJ.LY,e.fe,e),vkG.$r(HUtJ.HEARTBEAT,e.fz,e),e.anBtns)for(var t=0;t<e.anBtns.length;t++)e.anBtns[t].removeEventListener(eui.tep,e.ht,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.vc(),t.ct(),t.fe()},t.prototype.vx=function(e){var t=this;t.bt=e;for(var n,i=1;9>=i;i++)n=this["area_img_"+i],n&&(t.areaImgs.push(n),n.visible=!1);var r;for(var a in t.bt)r=t.bt[a],n=GObj.$c(eui.Image),n.touchEnabled=!1,n.x=r.x||0,n.y=r.y||0},t.prototype.vc=function(){var e=this;e.timeTxt.text="",e.timebgImg.visible=!1,e.kv=0;var t=App.NN.date,n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds(),i=App.XQS.startBeautyTime,r=App.XQS.endBeautyTime;e.uc=2,n>=i&&r>n?(e.kv=r-n,e.uc=1):n>=r?e.kv=86400-n+i:e.kv=i-n,e.kv=e.kv+5,e.kv>0&&(vkG.$a(HUtJ.HEARTBEAT,e.fz,e),e.fz())},t.prototype.fz=function(){var e=this;2==e.uc&&(e.timebgImg.visible=!0,e.timeTxt.text=fvg.GVf("mine75",kpd.formatDateBySec5(e.kv))),1==e.uc&&(e.timeLab.text=fvg.GVf("mine67",kpd.formatDateBySec5(e.kv))),e.kv<=0&&(e.timeTxt.text="",e.timeLab.text="",e.timebgImg.visible=!1,vkG.$r(HUtJ.HEARTBEAT,e.fz,e),e.vc(),2==e.uc&&ziI.BR("cs_mine_main_grid")),e.kv--},t.prototype.dn=function(){this.ct()},t.prototype.fe=function(){var e=this;e.mymineBtn.icon=UsU.EG()?StaticData.GHj:null,e.mymineBtn.label=""},t.prototype.ct=function(){var e=this;e.wd=App.XQS.mineBeautyMainInfo;var t=e.wd.p;t&&void 0!=t.name&&App.XQS.mine_beauty_processing?(e.noNameTxt.visible=!1,e.headIcon.icon=kLM.JU(t.head,t.heads),e.frameImg.source=kLM.ZQ(t.usehf),e.nameTxt.text=fvg.GVf("mine68",fvg.GVf("martialart_name_"+t.fid),t.name),e.capTxt.text=fvg.GVf("public018",t.cap||0),e.beautyCountTxt.text=fvg.GVf("mine64",t.bn||0),e.contNumLab.text=fvg.GVf("mine70",t.occupy||0)):(e.noNameTxt.visible=!0,e.headIcon.icon=null,e.nameTxt.text=fvg.GVf("public020","--"),e.capTxt.text=fvg.GVf("public018","--"),e.beautyCountTxt.text=fvg.GVf("mine64","--"),e.contNumLab.text=fvg.GVf("mine70","--"),e.frameImg.source=kLM.ZQ(1)),e.hk()},t.prototype.hk=function(){var e=this.wd.node;if(e)for(var t=e.length,n=void 0,i=void 0,r=0;t>r;r++)n=e[r],i=n.fid},t.prototype.lp=function(e){for(var t,n=this,i=e.stageX,r=e.stageY,a=0;a<n.areaImgs.length;a++)if(t=n.areaImgs[a],t.hitTestPoint(i,r,!0)){n.currImg!=t&&(n.currImg&&(n.currImg.visible=!1),n.currImg=t),n.currImg.visible=!0;break}},t.prototype.ng=function(e){var t=this;if(t.currImg){var n=e.stageX,i=e.stageY;if(t.currImg.hitTestPoint(n,i,!0)){var r=t.areaImgs.indexOf(t.currImg);t.ij(r+1)}t.currImg.visible=!1,t.currImg=null}},t.prototype.ht=function(e){var t=this,n=e.target,i=t.anBtns.indexOf(n);i>=0&&t.ij(i+1)},t.prototype.ij=function(e){var t=this,n=t.bt?t.bt[e]:null;return n?2==t.uc?void App.TT.show(fvg.GVf("mine55_11")):void App.VS.popup(10031,MineBeautyAreaPopUi,null,n):void App.TT.show(fvg.GVf("public057"))},t.prototype.rg=function(e){App.VS.popup(10031,MineBeautyDescPopUi)},t.prototype.lu=function(e){App.VS.popup(10031,MyBeautyMinePopUi)},t.prototype.iy=function(e){App.VS.popup(10031,MineBeautyRankPopUi)},t.prototype.kp=function(e){App.VS.popup(10031,MineBeautyLogPopUi)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.beautyCountTxt),t.beautyCountTxt=null,GObj.$d(t.contNumLab),t.contNumLab=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.noNameTxt),t.noNameTxt=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.logBtn),t.logBtn=null,GObj.$d(t.mymineBtn),t.mymineBtn=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.timebgImg),t.timebgImg=null,t.anBtns)for(;t.anBtns.length>0;)GObj.$d(t.anBtns.pop());if(t.anBtns=null,t.areaImgs)for(;t.areaImgs.length>0;)GObj.$d(t.areaImgs.pop());t.areaImgs=null,GObj.$d(t.back_img),t.back_img=null,t.bt=null,t.wd=null,t.currImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MineBeautyView.prototype,"MineBeautyView");var MineBrautyItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MineBrautyItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.ininData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.selectedBox.addEventListener(egret.Event.CHANGE,e.nu,e),e.addEventListener(eui.RFS,e.yv,e)},t.prototype.nu=function(){var e=this,t=gLw.IQ(e.data.tid);if(e.selectedBox.selected){if(App.XQS.selectedBeautyNum+1>2)return e.selectedBox.selected=!1,void MessageTipManager.instance.show(fvg.GVf("mine69"));App.XQS.selectedBeautyNum=App.XQS.selectedBeautyNum+1,vkG.$d(UtJ.FB,t,!0)}else App.XQS.selectedBeautyNum=App.XQS.selectedBeautyNum-1,vkG.$d(UtJ.FB,t,!1)},t.prototype.dataChanged=function(){var e=this;if(e.CSo||e.data){var t=e.data,n=App.JS.getSkinGrade(t.tid),i=parseInt(t.cost),r=XCA.FR(i);e.item.icon=kLM.ZA(t.tid),e.quaImg.source=aKF.LU(r.qua),e.nameLab.text=t.name;var a=XCA.YV(t.attrid);if(a){var o=a.p1*n;e.capLab.text=fvg.GVf("mine84",App.XQS.getBeautyAndHwCap(t.tid)+o)}}},t.prototype.removeEvent=function(){var e=this;e.selectedBox.removeEventListener(egret.Event.CHANGE,e.nu,e),e.removeEventListener(eui.RFS,e.yv,e)},t.prototype.yv=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.item),t.item=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.capLab),t.capLab=null,GObj.$d(t.selectedBox),t.selectedBox=null,GObj.$d(t.quaImg),t.quaImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MineBrautyItemView.prototype,"MineBrautyItemView");var MineContendView=function(e){function t(){var t=e.call(this,"MineContendView")||this;return t.skinName=RRUU.$s("MineContendView"),ziI.BR("cross_mine_main_grid"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noNameTxt.text=fvg.GVf("rank10"),e.titleTxt.text=fvg.GVf("mine3"),e.areaImgs=[],e.yd={};for(var t,n=1;9>=n;n++)t=this["area_img_"+n],t&&(e.areaImgs.push(t),t.visible=!1);e.anBtns=[];for(var i,r=1;9>=r;r++)i=this["anBtn_"+r],i&&(i.addEventListener(eui.tep,e.ek,e),e.anBtns.push(i))},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.aboutBtn.addEventListener(eui.tep,t.fh,t),t.back_img.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.fc,t),App.YX.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.eu,t),t.mymineBtn.addEventListener(eui.tep,t.vu,t),t.rankBtn.addEventListener(eui.tep,t.ws,t),t.logBtn.addEventListener(eui.tep,t.zv,t),vkG.$a(UtJ.VS,t.px,t),vkG.$a(UtJ.VOB,t.jz,t)},t.prototype.removeEvent=function(){var e=this;if(e.aboutBtn.removeEventListener(eui.tep,e.fh,e),e.back_img.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.fc,e),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.eu,e),e.mymineBtn.removeEventListener(eui.tep,e.vu,e),e.rankBtn.removeEventListener(eui.tep,e.ws,e),e.logBtn.removeEventListener(eui.tep,e.zv,e),vkG.$r(UtJ.VS,e.px,e),vkG.$r(UtJ.VOB,e.jz,e),vkG.$r(HUtJ.HEARTBEAT,e.lx,e),e.anBtns)for(var t=0;t<e.anBtns.length;t++)e.anBtns[t].removeEventListener(eui.tep,e.ek,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.tu=RES.getResAsync("mine_node_json",t.jr,t),t.nn(),t.nv(),t.jz()},t.prototype.jr=function(e){var t=this;t.tu=e;var n,i;for(var r in t.tu)i=t.tu[r],n=GObj.$c(eui.Image),n.touchEnabled=!1,n.x=i.x||0,n.y=i.y||0,t.yd[r]=n;t.nv()},t.prototype.nn=function(){var e=this;e.timeTxt.text="",e.timebgImg.visible=!1,e.pp=0;var t=App.NN.date,n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds(),i=App.XQS.startTime,r=App.XQS.endTime;e.di=2,n>=i&&r>n?(e.pp=r-n,e.di=1):n>=r?e.pp=86400-n+i:e.pp=i-n,e.pp=e.pp+5,e.pp>0&&(vkG.$a(HUtJ.HEARTBEAT,e.lx,e),e.lx())},t.prototype.lx=function(){var e=this;2==e.di&&(e.timeTxt.text=fvg.GVf("mine57",kpd.formatDateBySec5(e.pp)),e.timebgImg.visible=!0),e.pp<=0&&(e.timeTxt.text="",e.timebgImg.visible=!1,vkG.$r(HUtJ.HEARTBEAT,e.lx,e),e.nn(),2==e.di&&ziI.BR("cross_mine_main_grid")),e.pp--},t.prototype.px=function(){this.nv()},t.prototype.jz=function(){var e=this;e.mymineBtn.icon=UsU.AO()?StaticData.GHj:null,e.mymineBtn.label=fvg.GVf("112",e.el.occupy,App.XQS.max_hold_count),e.mymineBtn.labelDisplay.textColor=e.el.occupy<App.XQS.max_hold_count?Color.KA:Color.TX},t.prototype.nv=function(){var e=this;e.el=App.XQS.mineMainInfo;var t;e.el.fid>0?(t=fvg.GVf("martialart_name_"+e.el.fid),e.fnameTxt.text=fvg.GVf("mine4_1",t,App.XQS.master_rate/10)):e.fnameTxt.text=fvg.GVf("mine4_2",App.XQS.master_rate/10);var n=e.el.p;n&&void 0!=n.name?(t=fvg.GVf("martialart_name_"+n.fid),e.noNameTxt.visible=!1,e.headIcon.icon=kLM.JU(n.head,n.heads),e.frameImg.source=kLM.ZQ(n.usehf),e.nameTxt.text=fvg.GVf("public020",n.name),e.capTxt.text=fvg.GVf("public018",n.cap||0),e.martialTxt.text=fvg.GVf("mine5",t),e.contTxt.text=fvg.GVf("mine6",n.score||0)):(e.noNameTxt.visible=!0,e.frameImg.source=kLM.ZQ(1),e.headIcon.icon=null,e.nameTxt.text=fvg.GVf("public020","--"),e.capTxt.text=fvg.GVf("public018","--"),e.martialTxt.text=fvg.GVf("mine5","--"),e.contTxt.text=fvg.GVf("mine6","--")),e.db()},t.prototype.db=function(){var e=this;if(!(Object.keys(e.yd).length<=0)){var t,n;for(n in e.yd)t=e.yd[n],t.parent&&t.parent.removeChild(t);var i=e.el.node;if(i)for(var r=i.length,a=void 0,o=void 0,s=void 0,p=0;r>p;p++)a=i[p],s=a.fid,s>0&&(o=a.id,t=e.yd[o],t.source="mine_json.mine_min_mart_"+s+"_png",!t.parent&&e.addChild(t))}},t.prototype.fc=function(e){for(var t,n=this,i=e.stageX,r=e.stageY,a=0;a<n.areaImgs.length;a++)if(t=n.areaImgs[a],t.hitTestPoint(i,r,!0)){n.currImg!=t&&(n.currImg&&(n.currImg.visible=!1),n.currImg=t),n.currImg.visible=!0;break}},t.prototype.eu=function(e){var t=this;if(t.currImg){var n=e.stageX,i=e.stageY;if(t.currImg.hitTestPoint(n,i,!0)){var r=t.areaImgs.indexOf(t.currImg);t.ij(r+1)}t.currImg.visible=!1,t.currImg=null}},t.prototype.ek=function(e){var t=this,n=e.target,i=t.anBtns.indexOf(n);i>=0&&t.ij(i+1)},t.prototype.ij=function(e){var t=this,n=t.tu?t.tu[e]:null;return n?2==t.di?void App.TT.show(fvg.GVf("mine55_11")):void App.VS.popup(10029,MineAreaPopUi,null,n):void App.TT.show(fvg.GVf("public057"))},t.prototype.fh=function(e){App.VS.popup(10029,MineDescPopUi)},t.prototype.vu=function(e){App.VS.popup(10029,MyMinePopUi)},t.prototype.ws=function(e){App.VS.popup(10029,MineRankPopUi)},t.prototype.zv=function(e){App.VS.popup(10029,MineLogPopUi)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.martialTxt),t.martialTxt=null,GObj.$d(t.contTxt),t.contTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.fnameTxt),t.fnameTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.noNameTxt),t.noNameTxt=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.logBtn),t.logBtn=null,GObj.$d(t.mymineBtn),t.mymineBtn=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.timebgImg),t.timebgImg=null,GObj.$d(t.back_img),t.back_img=null,GObj.$d(t.frameImg),t.frameImg=null,t.areaImgs)for(;t.areaImgs.length>0;)GObj.$d(t.areaImgs.pop());if(t.areaImgs=null,t.yd)for(var n in t.yd)GObj.$d(t.yd[n]),delete t.yd[n];if(t.yd=null,t.anBtns)for(;t.anBtns.length>0;)GObj.$d(t.anBtns.pop());t.anBtns=null,t.tu=null,t.el=null,t.currImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MineContendView.prototype,"MineContendView");var MineDescPopUi=function(e){function t(){return e.call(this,"MineDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.RA,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(MineDescPopUi.prototype,"MineDescPopUi");var MineFightPopUi=function(e){function t(){var t=e.call(this,"MineFightPopUi")||this;return t.ui=!1,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine28"),e.titleTxt_2.text=fvg.GVf("mine29"),e.noDefTxt.text=e.noHelpTxt.text=fvg.GVf("rank10"),e.rateTxt.textFlow=LgRe.OQ(fvg.GVf("mine8",int(App.XQS.income_rate/10))),e.fightBtn.label=fvg.GVf("mine30")},t.prototype.initEvent=function(){var e=this;e.fightBtn.addEventListener(eui.tep,e.up,e),e.helpBtn.addEventListener(eui.tep,e.ke,e),vkG.$a(UtJ.DI,e.pu,e)},t.prototype.removeEvent=function(){var e=this;e.fightBtn.removeEventListener(eui.tep,e.up,e),e.helpBtn.removeEventListener(eui.tep,e.ke,e),vkG.$r(HUtJ.HEARTBEAT,e.vj,e),vkG.$r(UtJ.DI,e.pu,e),vkG.$r(UtJ.VS,e.gj,e)},t.prototype.initData=function(){this.tc()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ga=e[0],n.ga&&ziI.BR("cross_mine_one_node",n.ga.id),n.tc())},t.prototype.tc=function(){var e=this;e.CSo&&e.ga&&(e.bn=App.XQS.mineNodeDic[e.ga.id],e.bn&&(e.title=fvg.GVf("mine00"+App.XQS.getAIdByNId(e.bn.id)),e.areaNameTxt.text=fvg.GVf("mine10_"+App.XQS.getAIdByNId(e.bn.id)),e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("mine9_"+(e.bn.type||1)))),e.rateTxt.visible=App.XQS.hasIncomeRate(e.bn),e.fz(),e.kj(),e.yd(),e.pg())},t.prototype.fz=function(){var e=this;if(e.uq=1,App.XQS.hasDefPlayer(e.bn)){var t=e.bn.def,n=fvg.GVf("martialart_name_"+t.fid);e.holdNameTxt.text=t.name,e.holdCapTxt.text=fvg.GVf("public018",t.cap||0),e.holdMartTxt.text=fvg.GVf("mine5",n),e.holdHeadIcon.icon=kLM.JU(t.head,t.heads,1),e.noDefImg.visible=e.noDefTxt.visible=!1,t.uid==App.KF.uid&&(e.uq=2)}else e.holdNameTxt.text="",e.holdCapTxt.text="",e.holdMartTxt.text="",e.holdHeadIcon.icon=null,e.noDefImg.visible=e.noDefTxt.visible=!0;e.fightBtn.label=1==e.uq?fvg.GVf("mine30"):fvg.GVf("mine35")},t.prototype.kj=function(){var e=this;if(e.md=1,App.XQS.hasHelpPlayer(e.bn)){var t=e.bn.help,n=fvg.GVf("martialart_name_"+t.fid);e.helpNameTxt.text=t.name,e.helpCapTxt.text=fvg.GVf("public018",t.cap||0),e.helpMartTxt.text=fvg.GVf("mine5",n),e.helpHeadIcon.icon=kLM.JU(t.head,t.heads),e.noHelpImg.visible=e.noHelpTxt.visible=!1,t.uid==App.KF.uid?e.md=2:2==e.uq&&(e.md=4)}else e.helpNameTxt.text="",e.helpCapTxt.text="",e.helpMartTxt.text="",e.helpHeadIcon.icon=null,e.noHelpImg.visible=e.noHelpTxt.visible=!0,2==e.uq&&(e.md=3);switch(e.md){case 1:e.helpBtn.label=fvg.GVf("mine31");break;case 2:e.helpBtn.label=fvg.GVf("mine32");break;case 3:e.helpBtn.label=fvg.GVf("mine36");break;case 4:e.helpBtn.label=fvg.GVf("mine37")}},t.prototype.yd=function(){var e=this;App.XQS.hasDefPlayer(e.bn)?(e.timeBackImg.visible=e.timeTxt.visible=!0,e.sw=(e.bn.time||0)+5,e.v_=e.bn.safe||0,e.wp=e.sw-App.NN.serverSecond,e.wp>0&&vkG.$a(HUtJ.HEARTBEAT,e.vj,e),e.vj()):(e.timeBackImg.visible=e.timeTxt.visible=e.shieldImg.visible=!1,vkG.$r(HUtJ.HEARTBEAT,e.vj,e))},t.prototype.vj=function(){var e=this;e.wp=e.sw-App.NN.serverSecond,e.wp<=0&&(e.wp=0,vkG.$r(HUtJ.HEARTBEAT,e.vj,e)),e.timeTxt.text=fvg.GVf("public023",kpd.formatDateBySec5(e.wp)),e.wp=e.v_-App.NN.serverSecond,e.shieldImg.visible=e.wp>0,e.wp>0&&(e.timeTxt.text=fvg.GVf("mine59",kpd.formatDateBySec5(e.wp)))},t.prototype.pg=function(){var e=this;if(e.bn&&e.bn.award){var t,n=App.XQS.getRewardByInfo(e.bn),i=1;for(var r in n)t=this["incomeBtn_"+i],t&&n[r]>0?(t.icon=kLM.PO(parseInt(r)),t.label=fvg.GVf("mine15",n[r]),i++):(t.icon=null,t.label="");for(;3>=i;i++)t=this["incomeBtn_"+i],t&&(t.icon=null,t.label="")}},t.prototype.pu=function(e){var t=this;t.ga&&t.ga.id==e&&t.tc()},t.prototype.up=function(e){var t=this;if(t.ga&&t.bn){if(!App.XQS.mine_processing)return void App.TT.show(fvg.GVf("mine55_11"));if(2==t.uq)Alert.WK(fvg.GVf("mine38"),void 0,void 0,t.lg,this,[t.bn.id]);else{var n=t.bn.cd-App.NN.serverSecond;if(n>0)return void MessageTipManager.instance.show(fvg.GVf("mine55_13"));if(App.XQS.hasDefPlayer(t.bn)){if(t.v_-App.NN.serverSecond>0&&!t.ui){var i=App.FK.hsx(StaticData.TID_GOODS_32);if(0>=i)return void App.TT.show(fvg.GVf("mine55_1"));if(i>0)return void Alert.WK(fvg.GVf("mine55_12"),void 0,void 0,t.af,t)}var r=t.bn.def.fid;if(r==App.XB.info.fid)return void App.TT.show(fvg.GVf("mine55_2"))}if(App.XQS.mineMainInfo.atkcount<=0)return void t._yw();if(App.XQS.my_mine_count>=App.XQS.max_hold_count)return void App.VS.popup(10031,GiveupMinePopUi,null,t.bn);t.ui?MineMsgProxy.KW(t.bn.id,1):MineMsgProxy.KW(t.bn.id)}}},t.prototype.af=function(){this.ui=!0,this.up(null)},t.prototype.lg=function(e){MineMsgProxy.CP(1,e)},t.prototype.ke=function(e){var t=this;if(t.ga&&t.bn)return App.XQS.mine_processing?void(1==t.md?t.zg():2==t.md?t.db():3==t.md?t.fh():4==t.md&&t.gk()):void App.TT.show(fvg.GVf("mine55_11"))},t.prototype.zg=function(){var e=this,t=e.bn.hcd||0;if(t-App.NN.serverSecond>0)return void App.TT.show(fvg.GVf("mine55_6"));var n=App.XQS.help_vip_grade;if(App.XT.vipGrade<n)return void App.TT.show(fvg.GVf("sb5",n));if(App.XQS.mineMainInfo.hcount>0)return void App.TT.show(fvg.GVf("mine55_7"));if(!App.XQS.hasDefPlayer(e.bn))return void App.TT.show(fvg.GVf("mine55_10"));if(App.XQS.hasHelpPlayer(e.bn))return void App.TT.show(fvg.GVf("mine55_8"));var i=e.bn.def.fid;return i!=App.XB.info.fid?void App.TT.show(fvg.GVf("mine55_9")):void MineMsgProxy.CP(2,e.bn.id)},t.prototype.db=function(){var e=this;Alert.WK(fvg.GVf("mine43"),void 0,void 0,e.yx,this,[e.bn.id])},t.prototype.yx=function(e){MineMsgProxy.CP(3,e)},t.prototype.fh=function(){var e=this,t=GApp.timer;if(App.XQS.preSendTime>0&&t-App.XQS.preSendTime<6e4)return void App.TT.show(fvg.GVf("mine44"));App.XQS.preSendTime=GApp.timer;var n=e.areaNameTxt.text,i=e.nameTxt.text,r=fvg.GVf("mine45",n,i);ChatMsgProxy.AU(3,r),App.TT.show(fvg.GVf("mine46"))},t.prototype.gk=function(){var e=this,t=App.XQS.goaway_point;Alert.WK(fvg.GVf("mine47",t),void 0,void 0,e.xe,this,[t,e.bn.id])},t.prototype.xe=function(e,t){return e>App.KF.point?void _JDW.TR(StaticData.TID_POINT_ID):void MineMsgProxy.QI(t)},t.prototype._yw=function(){var e=this;if(App.XQS.mineMainInfo.buycount<=0)return void App.TT.show(fvg.GVf("mine39"));var t=App.XQS.getBuyCountPoint(),n=fvg.GVf("303",t,App.XQS.mineMainInfo.buycount,App.XQS.max_buy_count);Alert.WK(n,void 0,void 0,e.pl,this,[t])},t.prototype.pl=function(e){var t=this;return App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):(vkG.$a(UtJ.VS,t.gj,t),void MineMsgProxy.MV())},t.prototype.gj=function(){var e=this;if(App.XQS.mineMainInfo.atkcount>0&&e.bn){if(vkG.$r(UtJ.VS,e.gj,e),App.XQS.my_mine_count>=App.XQS.max_hold_count)return void App.VS.popup(10031,GiveupMinePopUi,null,e.bn);MineMsgProxy.KW(e.bn.id)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.areaNameTxt),t.areaNameTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.incomeBtn_1),t.incomeBtn_1=null,GObj.$d(t.incomeBtn_2),t.incomeBtn_2=null,GObj.$d(t.incomeBtn_3),t.incomeBtn_3=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.timeBackImg),t.timeBackImg=null,GObj.$d(t.fightBtn),t.fightBtn=null,GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2=null,GObj.$d(t.holdNameTxt),t.holdNameTxt=null,GObj.$d(t.holdCapTxt),t.holdCapTxt=null,GObj.$d(t.holdMartTxt),t.holdMartTxt=null,GObj.$d(t.holdHeadIcon),t.holdHeadIcon=null,GObj.$d(t.helpNameTxt),t.helpNameTxt=null,GObj.$d(t.helpCapTxt),t.helpCapTxt=null,GObj.$d(t.helpMartTxt),t.helpMartTxt=null,GObj.$d(t.helpHeadIcon),t.helpHeadIcon=null,GObj.$d(t.noHelpImg),t.noHelpImg=null,GObj.$d(t.helpBtn),t.helpBtn=null,GObj.$d(t.noDefImg),t.noDefImg=null,GObj.$d(t.noDefTxt),t.noDefTxt=null,GObj.$d(t.noHelpTxt),t.noHelpTxt=null,GObj.$d(t.shieldImg),t.shieldImg=null,GObj.$d(t.rateTxt),t.rateTxt=null,t.ga=null,t.bn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineFightPopUi.prototype,"MineFightPopUi");var MineIconItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MineIconItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.bn,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.bn,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.gt=e.data,e.gt?(e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("mine9_"+e.gt.type)),e.headIcon.icon=kLM.AD(e.gt.type)):(e.nameTxt.text="",e.headIcon.icon=null))},t.prototype.bn=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.headIcon),t.headIcon=null,t.gt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MineIconItem.prototype,"MineIconItem");var MineLogItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MineLogItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.y_,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.y_,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.lk=e.data,e.msgTxt.text=e.lk)},t.prototype.y_=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,t.lk=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MineLogItem.prototype,"MineLogItem");var MineLogPopUi=function(e){function t(){var t=e.call(this,"MineLogPopUi")||this;return t.skinName=RRUU.$s("MineLogPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt_1.text=fvg.GVf("mine23"),e.titleTxt_2.text=fvg.GVf("mine24"),e.itemData_1=GObj.$c(eui.ArrayCollection),e.itemGroup_1.dataProvider=e.itemData_1,e.itemGroup_1.itemRenderer=MineLogItem,e.itemData_2=GObj.$c(eui.ArrayCollection),e.itemGroup_2.dataProvider=e.itemData_2,e.itemGroup_2.itemRenderer=MineLogItem,e.title=fvg.GVf("harry39")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.HNT,e.pb,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.HNT,e.pb,e)},t.prototype.initData=function(){MineMsgProxy.CP(4),this.pb()},t.prototype.pb=function(){var e=this,t=App.XQS.logInfoDic||{},n=(t.my||[]).reverse(),i=(t.share||[]).reverse();e.itemData_1.source.length=0,e.itemData_2.source.length=0;var r,a=Math.max(n.length,i.length);for(r=0;a>r;r++)i[r]&&e.itemData_1.source.push(i[r]),n[r]&&e.itemData_2.source.push(n[r]);e.itemData_1.refresh(),e.itemData_2.refresh()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2,t.scroller_1&&(t.scroller_1.stopAnimation(),t.scroller_1.viewport=null,GObj.$d(t.scroller_1)),t.scroller_1=null,t.scroller_2&&(t.scroller_2.stopAnimation(),t.scroller_2.viewport=null,GObj.$d(t.scroller_2)),t.scroller_2=null,t.itemGroup_1&&(t.itemGroup_1.dataProvider=null,GObj.$d(t.itemGroup_1)),t.itemGroup_1=null,t.itemGroup_2&&(t.itemGroup_2.dataProvider=null,GObj.$d(t.itemGroup_2)),t.itemGroup_2=null,t.itemData_1=null,t.itemData_2=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineLogPopUi.prototype,"MineLogPopUi");var MineRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MineRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.selected=!0,e.boxBtn.$autoSelected=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ts,e),e.boxBtn.addEventListener(eui.tep,e.ov,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ts,e),e.boxBtn.removeEventListener(eui.tep,e.ov,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.iq=e.data,e.rankTxt.text=toChars(e.itemIndex+1),e.iq?(e.nameTxt.text=e.iq.name,e.martTxt.text=fvg.GVf("martialart_name_"+e.iq.fid),e.belongTxt.text=toChars(e.iq.score)):(e.nameTxt.text=fvg.GVf("rank10"),e.martTxt.text="--",e.belongTxt.text=toChars(0)))},t.prototype.ov=function(e){var t=GObj.$c(BoxPopUi);t.showDetail(59,1,this.itemIndex+1)},t.prototype.ts=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.martTxt),t.martTxt=null,GObj.$d(t.belongTxt),t.belongTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,t.iq=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MineRankItem.prototype,"MineRankItem");var MineRankPopUi=function(e){function t(){var t=e.call(this,"MineRankPopUi")||this;return t.hy=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("mine54"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=MineRankItem,e.rankingLab.text=fvg.GVf("harry32"),e.sectsLab.text=fvg.GVf("harry33"),e.contributionLab.text=fvg.GVf("harry37"),e.rewardLab.text=fvg.GVf("harry35"),e.title=fvg.GVf("harry38")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.vv,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.vv,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.SU);(!e||GApp.timer-e.rtime>=3e5)&&ArenaMsgProxy.SW(FDG.SU),this.vv(e)},t.prototype.vv=function(e){var t=this;if(!e||e.type==FDG.SU){var n,i=e?Math.max(e.list.length,t.hy):t.hy;t.itemData.source.length=0;for(var r=e?e.list||[]:[],a=0;i>a;a++)n=r[a],t.itemData.source.push(n);t.itemData.refresh(),t.myRankTxt.text=fvg.GVf("rank0",e&&e.order?e.order:i+"+"),t.myBelongTxt.text=fvg.GVf("mine22",e?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myBelongTxt),t.myBelongTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.rankingLab),t.rankingLab=null,GObj.$d(t.sectsLab),t.sectsLab=null,GObj.$d(t.contributionLab),t.contributionLab=null,GObj.$d(t.rewardLab),t.rewardLab=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MineRankPopUi.prototype,"MineRankPopUi");var MyBeautyMineItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MyBeautyMineItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sq,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.nh=e.data,e.nh?(e.addImg.visible=!1,e.headIcon.visible=!0,e.headIcon.icon=kLM.AD(e.nh.type)):(e.addImg.visible=!0,e.headIcon.visible=!1))
},t.prototype.sq=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.addImg),t.addImg=null,GObj.$d(t.headIcon),t.headIcon=null,t.nh=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MyBeautyMineItem.prototype,"MyBeautyMineItem");var MyBeautyMinePopUi=function(e){function t(){var t=e.call(this,"MyBeautyMinePopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,ziI.BR("cs_mine_my_node"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nodeData=GObj.$c(eui.ArrayCollection),e.nodeList.dataProvider=e.nodeData,e.nodeList.itemRenderer=MyBeautyMineItem,e.title=fvg.GVf("harry40")},t.prototype.initEvent=function(){var e=this;e.nodeList.addEventListener(egret.Event.CHANGE,e.wg,e),e.rightBtn.addEventListener(eui.tep,e.lk,e),e.leftBtn.addEventListener(eui.tep,e.lk,e),vkG.$a(UtJ.YNK,e.ia,e)},t.prototype.removeEvent=function(){var e=this;e.nodeList.removeEventListener(egret.Event.CHANGE,e.wg,e),e.rightBtn.removeEventListener(eui.tep,e.lk,e),e.leftBtn.removeEventListener(eui.tep,e.lk,e),vkG.$r(UtJ.YNK,e.ia,e)},t.prototype.initData=function(){var e=this;e.zz(),e.nodeList.selectedIndex=e.vy=0,e.wg(null)},t.prototype.zz=function(){var e=this;ClockManager.setTimeout(e.kse,this,100);var t=App.XQS.myBeautyMineInfo.my||[],n=t.length,i=[];t.length<4&&(n=3);for(var r=0;n>r;r++)i.push(t[r]);e.nodeData.replaceAll(i),e.wg(null)},t.prototype.kse=function(){var e=this;if(!e.destory){if(e.hl=e.scroller.viewport.contentWidth-e.scroller.width,e.hl>0){var t=108*e.nodeList.selectedIndex+5;t=t<e.scroller.width?0:t,t=Math.min(t,e.hl),e.scroller.viewport.scrollH=t}e.bl(null)}},t.prototype.lk=function(e){var t=this;if(!t._e){t._e=!0;var n=e.currentTarget;switch(n){case t.leftBtn:t.pr=-10;break;case t.rightBtn:t.pr=10}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.rh,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.rh,t),App.HA.registeEnterFrame(t.hs,t)}},t.prototype.rh=function(e){var t=this;t._e&&(t._e=!1,hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.rh,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.rh,t),App.HA.unRegisteEnterFrame(t.hs,t))},t.prototype.hs=function(){var e=this;e._e&&e.lg(e.scroller.viewport.scrollH+e.pr)},t.prototype.lg=function(e){var t=this;e>=t.hl&&(e=t.hl),0>=e&&(e=0),t.scroller.viewport.scrollH!=e&&(t.scroller.viewport.scrollH=e,t.bl(null))},t.prototype.bl=function(e){var t=this,n=t.scroller.viewport.scrollH;n>0?t.leftBtn.selected=!0:(t.leftBtn.selected=!1,t.leftBtn.icon=null),n<t.hl?t.rightBtn.selected=!0:(t.rightBtn.selected=!1,t.rightBtn.icon=null)},t.prototype.wg=function(e){var t=this;t.uh=t.nodeList.selectedItem,t.vy=t.nodeList.selectedIndex,t.bc(t.uh)},t.prototype.bc=function(e){var t=this;t.gi||(t.gi=GObj.$c(FightedBeautyMineView),t.gi.x=30,t.gi.y=205,t.tempGroup.addChildAt(t.gi,0)),t.gi.visible=!0,t.gi.nodeInfo=e,t.qp&&(t.qp.visible=!1)},t.prototype.ia=function(){this.zz()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gi),t.gi=null,GObj.$d(t.qp),t.qp=null,t.nodeList&&(t.nodeList.dataProvider=null,GObj.$d(t.nodeList)),GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.tempGroup),t.tempGroup=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.scroller),t.scroller=null,t.uh=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MyBeautyMinePopUi.prototype,"MyBeautyMinePopUi");var MyMineItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("MyMineItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fc,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fc,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.ly=e.data,e.ly?(e.addImg.visible=!1,e.headIcon.visible=!0,e.headIcon.icon=kLM.AD(e.ly.type)):(e.addImg.visible=!0,e.headIcon.visible=!1))},t.prototype.fc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.addImg),t.addImg=null,GObj.$d(t.headIcon),t.headIcon=null,t.ly=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MyMineItem.prototype,"MyMineItem");var MyMinePopUi=function(e){function t(){var t=e.call(this,"MyMinePopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,ziI.MF("cross_mine_my_node"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("mine81"),e.la=0,e.nodeData=GObj.$c(eui.ArrayCollection),e.nodeList.dataProvider=e.nodeData,e.nodeList.itemRenderer=MyMineItem,e.noHelpTxt.text=fvg.GVf("mine52")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.nodeList.addEventListener(egret.Event.CHANGE,t.dn,t),t.helpHeadIcon.addEventListener(eui.tep,t.rk,t),vkG.$a(UtJ.WL,t.ui,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.nodeList.removeEventListener(egret.Event.CHANGE,t.dn,t),t.helpHeadIcon.removeEventListener(eui.tep,t.rk,t),vkG.$r(UtJ.WL,t.ui,t)},t.prototype.initData=function(){this.zw()},t.prototype.zw=function(){var e=this,t=App.XQS.myMineInfo.my||[],n=App.XQS.max_hold_count;e.nodeData.source.length=0;for(var i=0;n>i;i++)e.nodeData.source.push(t[i]);e.nodeData.refresh();var r=(App.XQS.myMineInfo.help||[])[0];e.helpHeadIcon.icon=r?kLM.AD(r.type):null,e.noHelpTxt.visible=!r,e.la>=0?(e.nodeList.selectedIndex=e.la,e.dn(null)):r?e.rk(null):(e.nodeList.selectedIndex=0,e.dn(null))},t.prototype.dn=function(e){var t=this;t.la=t.nodeList.selectedIndex,t.helpSelImg.visible=!1,t.uk=t.nodeList.selectedItem,t.uk?t.hq(t.uk):(t.ds||(t.ds=GObj.$c(BuildingMineView),t.ds.x=32,t.ds.y=57,t.buildingGroup.addChild(t.ds)),t.ds.visible=!0,t.be&&(t.be.visible=!1))},t.prototype.hq=function(e){var t=this;t.be||(t.be=GObj.$c(FightedMineView),t.be.x=32,t.be.y=57,t.buildingGroup.addChild(t.be)),t.be.visible=!0,t.be.nodeInfo=e,t.ds&&(t.ds.visible=!1)},t.prototype.rk=function(e){var t=this,n=(App.XQS.myMineInfo.help||[])[0];n&&(t.nodeList.selectedIndex=t.la=-1,t.helpSelImg.visible=!0,t.hq(n))},t.prototype.ui=function(){this.zw()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.be),t.be=null,GObj.$d(t.ds),t.ds=null,GObj.$d(t.buildingGroup),t.buildingGroup=null,GObj.$d(t.noHelpTxt),t.noHelpTxt=null,GObj.$d(t.helpHeadIcon),t.helpHeadIcon=null,t.nodeList&&(t.nodeList.dataProvider=null,GObj.$d(t.nodeList)),t.nodeList=null,t.nodeData=null,t.uk=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(MyMinePopUi.prototype,"MyMinePopUi");var ForeMatchViewItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("ForeMatchViewItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wg,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(1==e.data.state&&0!=e.data.headId?e.headIcon.icon=kLM.CD(e.data.headId,1):(e.waitIcon.visible=!0,e.displayBg.visible=!1))},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wg,e)},t.prototype.wg=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.displayBg),t.displayBg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.waitIcon),t.waitIcon=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ForeMatchViewItem.prototype,"ForeMatchViewItem");var MatchViewItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MatchViewItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.nameLab.text="",this.numLab.text=fvg.GVf("multiplayer10",9999)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.il,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.headImg.source="multiplayer_json.match_header_"+e.data.headId+"_png")},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.il,e)},t.prototype.il=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headImg),t.headImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.numLab),t.numLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MatchViewItem.prototype,"MatchViewItem");var MultiplayerAwardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("MultiplayerAwardItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gestLab.text=fvg.GVf("multiplayer6",10,"2000+"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRendererSkinName=RRUU.$s("MultiplayerAwardItemSkin")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rm,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.datas.source.splice(0,e.datas.source.length);for(var t=XCA.DG(11,e.itemIndex+1),n=Nkz.PI(t),i=0;i<n.length;i++)e.datas.source[i]=n[i];e.datas.refresh()}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rm,e)},t.prototype.rm=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gestLab),t.gestLab=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(MultiplayerAwardItem.prototype,"MultiplayerAwardItem");var MultiplayerAwardView=function(e){function t(){var t=e.call(this,"MultiplayerAwardView")||this,n=RRUU.$s("MultiplayerAwardViewSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ladderLab.text=fvg.GVf("multiplayer8",2800),e.gestLab.text=fvg.GVf("multiplayer7",10),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=MultiplayerAwardItem;for(var t=0;8>t;t++)e.datas.source[t]=t+1},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.ba,e)},t.prototype.initData=function(){},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.ba,e)},t.prototype.ba=function(){this.dispose()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.ladderLab),t.ladderLab=null,GObj.$d(t.gestLab),t.gestLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MultiplayerAwardView.prototype,"MultiplayerAwardView");var MultiplayerForeMatchView=function(e){function t(){var t=e.call(this,"MultiplayerForeMatchView")||this;return t.skinName=RRUU.$s("MultiplayerForeMatchView"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.mi=[],e.matchLab.text=fvg.GVf("multiplayer12"),e.numLab.text=fvg.GVf("public022",2,6),e.descLab.text=fvg.GVf("multiplayer14"),e.timeLab.text="9",e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=ForeMatchViewItem;for(var t=0;6>t;t++){var n=GObj.$c(Object);t%3==0?n.headId=0:t%3==1?n.headId=1:n.headId=2,t%2==0?n.state=0:n.state=1,e.mi.push(n)}for(var t=0;t<e.mi.length;t++)e.datas.source[t]=e.mi[t]},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.HD,e.ig,e),e.closeBtn.addEventListener(eui.tep,e.pm,e)},t.prototype.initData=function(){},t.prototype.ig=function(){},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.pm=function(e){this.dispose();var t=GObj.$c(MultipplayerMatchView);t.show()},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.HD,e.ig,e),e.closeBtn.removeEventListener(eui.tep,e.pm,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.mi=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.matchLab),t.matchLab=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MultiplayerForeMatchView.prototype,"MultiplayerForeMatchView");var MultiplayerManyPeopleView=function(e){function t(){var t=e.call(this,"MultiplayerManyPeopleView")||this;return t.skinName=RRUU.$s("MultiplayerManyPeopleView"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.timeLab.text=fvg.GVf("multiplayer1"),e.gestLab.text=fvg.GVf("multiplayer2",10),e.ladderLab.text="2800",e.honorLab.text=fvg.GVf("public022",888,8888),e.laveLab.text=fvg.GVf("multiplayer5","00:00:00",1,3,10),Nvm.instance.registeEnterFrame2(e.jb,e)},t.prototype.initEvent=function(){var e=this;e.awardBtn.addEventListener(eui.tep,e.kj,e),e.showBtn.addEventListener(eui.tep,e.nw,e),e.kingBtn.addEventListener(eui.tep,e.xj,e),e.matchBtn.addEventListener(eui.tep,e.hw,e)},t.prototype.initData=function(){},t.prototype.kj=function(e){var t=GObj.$c(MultiplayerAwardView);t.show()},t.prototype.nw=function(e){},t.prototype.xj=function(e){var t=GObj.$c(MultipplayerKingView);t.show()},t.prototype.hw=function(e){var t=GObj.$c(MultiplayerForeMatchView);t.show()},t.prototype.jb=function(){this.matchBtn.rotateImg.rotation++},t.prototype.removeEvent=function(){var e=this;e.awardBtn.removeEventListener(eui.tep,e.kj,e),e.showBtn.removeEventListener(eui.tep,e.nw,e),e.kingBtn.removeEventListener(eui.tep,e.xj,e),e.matchBtn.removeEventListener(eui.tep,e.hw,e)},t.prototype.dispose=function(){var e=this;Nvm.instance.unRegisteEnterFrame2(e.jb,e),GObj.$d(e.map_title),e.map_title=null,GObj.$d(e.timeLab),e.timeLab=null,GObj.$d(e.awardBtn),e.awardBtn=null,GObj.$d(e.showBtn),e.showBtn=null,GObj.$d(e.kingBtn),e.kingBtn=null,GObj.$d(e.matchBtn),e.matchBtn=null,GObj.$d(e.gestLab),e.gestLab=null,GObj.$d(e.ladderLab),e.ladderLab=null,GObj.$d(e.honorLab),e.honorLab=null,GObj.$d(e.laveLab),e.laveLab=null},t}(BaseUI);__reflect(MultiplayerManyPeopleView.prototype,"MultiplayerManyPeopleView");var MultipplayerFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n.horizontalCenter=1,n.verticalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.hr=GObj.$c(kQr),e.hr.cwA(e.many_peopleBtn),e.hr.cwA(e.tournamentBtn),e.hr.cwA(e.frostBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.hr&&t.hr.addEventListener(egret.Event.CHANGE,t.pw,t)},t.prototype.initData=function(){e.prototype.initData.call(this),this.hr.selectedIndex=0},t.prototype.pw=function(e){var t=this;t.NwP&&(t.NwP.visible=!1),t.NwP=null;var n=t.hr.LuO;switch(n){case t.many_peopleBtn:t.yl||(t.yl=GObj.$c(MultiplayerManyPeopleView),t.yl.x=13,t.yl.y=94,t.addChildAt(t.yl,2)),t.NwP=t.yl;break;case t.tournamentBtn:break;case t.frostBtn:}t.NwP&&(t.NwP.visible=!0)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.hr&&t.hr.removeEventListener(egret.Event.CHANGE,t.pw,t)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.hr),t.hr=null,GObj.$d(t.many_peopleBtn),t.many_peopleBtn=null,GObj.$d(t.tournamentBtn),t.tournamentBtn=null,GObj.$d(t.frostBtn),t.frostBtn=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(MultipplayerFrame.prototype,"MultipplayerFrame");var MultipplayerKingView=function(e){function t(){var t=e.call(this,"MultipplayerKingView")||this;return t.skinName=RRUU.$s("MultipplayerKingView"),t.horizontalCenter=0,t.verticalCenter=-20,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.nameLab.text="",e.fightLab.text=fvg.GVf("multiplayer7",10),e.ladderLab.text=fvg.GVf("multiplayer8",2800),e.worshipBtn.label=fvg.GVf("multiplayer9")},t.prototype.initEvent=function(){},t.prototype.initData=function(){var e=this;e.worshipBtn.addEventListener(eui.tep,e.io,e),e.closeBtn.addEventListener(eui.tep,e.gh,e)},t.prototype.removeEvent=function(){var e=this;e.worshipBtn.removeEventListener(eui.tep,e.io,e),e.closeBtn.removeEventListener(eui.tep,e.gh,e)},t.prototype.io=function(e){},t.prototype.gh=function(e){this.dispose()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.fightLab),t.fightLab=null,GObj.$d(t.ladderLab),t.ladderLab=null,GObj.$d(t.worshipBtn),t.worshipBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MultipplayerKingView.prototype,"MultipplayerKingView");var MultipplayerMatchView=function(e){function t(){var t=e.call(this,"MultipplayerMatchView")||this;return t.skinName=RRUU.$s("MultipplayerMatchView"),t.horizontalCenter=0,t.verticalCenter=-60,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.al=[],e.tipLab.text=fvg.GVf("multiplayer11"),e.zi=3,e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=MatchViewItem;for(var t=0;6>t;t++){var n=GObj.$c(Object);t%2==0?n.headId=1:n.headId=2,e.al.push(n)}for(var t=0;t<e.al.length;t++)e.datas.source[t]=e.al[t]},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.HD,e.jx,e)},t.prototype.initData=function(){},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.HD,e.jx,e)},t.prototype.jx=function(){var e=this;e.zi--,0==e.zi&&e.dispose()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.numImg),t.numImg=null,GObj.$d(t.tipLab),t.tipLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(MultipplayerMatchView.prototype,"MultipplayerMatchView");var NewbieFrame=function(e){function t(){var t=e.call(this,"NewbieFrame")||this;return t.goodsArr=[],t.er=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.removeChild(e.stepThreeGroup)},t.prototype.initEvent=function(){var e=this;e.saveWorld.addEventListener(eui.tep,e.zr,e),e.skipBtn.addEventListener(eui.tep,e.is,e)},t.prototype.initData=function(){this.vu()},t.prototype.vu=function(){var e=this;e.storyImg.source="newbie_stroy_1",e.storyImg.alpha=0,egret.Tween.get(e.storyImg).to({alpha:1},1e3).wait(2e3).to({alpha:0},600).call(e.nf,e)},t.prototype.nf=function(){var e=this;e.storyImg.source="newbie_stroy_2",e.storyImg.alpha=0,egret.Tween.get(e.storyImg).to({alpha:1},1e3).wait(2e3).to({alpha:0},600).call(e.is,e)},t.prototype.av=function(){var e=this;e.storyImg.source="newbie_stroy_3",egret.Tween.get(e.storyImg).to({alpha:1},1e3).wait(2e3).to({alpha:0},600).call(e.is,e)},t.prototype.is=function(){var e=this;e.removeChild(e.stepOneGroup),egret.Tween.removeTweens(e.storyImg),e.af()},t.prototype.af=function(){var e=this;e.addChild(e.stepThreeGroup),e.yo();var t=XCA.CG(IDU.JX);if(t){for(var n=Nkz.PI(t),i=0,r=n.length;r>i;i++){var a=GObj.$c(GoodsItemView);a.data=n[i],e.goodsArr.push(a),e.rewardGroup.addChild(a)}vkG.$a(HUtJ.HEARTBEAT,e.we,e)}},t.prototype.we=function(){var e=this;e.destory||(e.er--,e.yo(),e.er<0&&e.zr())},t.prototype.zr=function(){App.NG.reportCreate(),ziI.newbieReward(),SceneManager.instance.enter(StaticData.NEWBIE_MAP_ID,!1),GObj.$d(this)},t.prototype.show=function(){FrameBgLayer.instance.show(),alvJ.instance.addToLayer(this,alvJ.YN)},t.prototype.yo=function(){},t.prototype.removeEvent=function(){var e=this;e.saveWorld.removeEventListener(eui.tep,e.zr,e),e.skipBtn.removeEventListener(eui.tep,e.is,e),vkG.$r(HUtJ.HEARTBEAT,e.we,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.storyImg),t.storyImg=null,GObj.$d(t.stepThreeGroup),t.stepThreeGroup=null,GObj.$d(t.saveWorld),t.saveWorld=null;for(var n=0,i=t.goodsArr.length;i>n;n++)GObj.$d(t.goodsArr[n]),t.goodsArr[n]=null;t.goodsArr=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,RES.destroyRes(t.id),FrameBgLayer.instance.hide(),t.parent&&t.parent.removeChild(t),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(NewbieFrame.prototype,"NewbieFrame");var iWw=function(e){function t(){var n=e.call(this)||this;return singleton(t._instance),t._instance=n,n.initView(),n.initEvent(),n}return __extends(t,e),Object.defineProperty(t,"instance",{get:function(){return this._instance||GObj.$c(t)},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.touchEnabled=e.touchChildren=!0,e._maskShape=GObj.$c(egret.Shape),e._maskShape.touchEnabled=!1,e._drawTexture=GObj.$c(egret.RenderTexture),e._drawTarget=GObj.$c(egret.Bitmap),e._drawTarget.touchEnabled=!0,e._arrowView=GObj.$c(NoviceArrowView),e._bounds=GObj.$c(egret.Rectangle),e._clipBounds=GObj.$c(egret.Rectangle),e._posObj=GObj.$c(egret.Point)},t.prototype.initEvent=function(){var e=this;e._arrowView&&e._arrowView.addEventListener(egret.Event.CLOSE,e.__arrowViewCloseHandler,e)},t.prototype.__arrowViewCloseHandler=function(e){this.clear()},t.prototype.showMask=function(e){void 0===e&&(e=.6);var t=this;t.parent||alvJ.instance.addToLayer(this,alvJ.WL),t._maskAlpha=e,t.__resizeHandler(null),App.YX.stage.addEventListener(egret.Event.RESIZE,t.__resizeHandler,t),t.addChildAt(t._maskShape,0),egret.Tween.removeTweens(t),egret.Tween.get(t).wait(8e3).call(t.hideMask,t)},t.prototype.hideMask=function(){var e=this;egret.Tween.removeTweens(e),e._maskShape.parent&&(App.YX.stage.removeEventListener(egret.Event.RESIZE,e.__resizeHandler,e),e.removeChild(e._maskShape))},t.prototype.__resizeHandler=function(e){var t=this;t._maskShape.graphics.clear(),t._maskShape.graphics.beginFill(0,t._maskAlpha),t._maskShape.graphics.drawRect(-50,-50,hCs.stageWidth+100,hCs.stageHeight+100),t._maskShape.graphics.endFill()},t.prototype.MtK=function(e,t,n){var i=this;return i.clear(),e&&e.Fuu?(i.parent||alvJ.instance.addToLayer(this,alvJ.RX),i._arrowData=e,i._arrowView.arrowData=i._arrowData,void(t&&(i._eventTarget=n||i._arrowData.Fuu,egret.Tween.get(i._drawTarget).wait(300).call(i.drawFollowTarget,i)))):void i.dispose()},t.prototype.drawFollowTarget=function(){var e=this;e._arrowData&&e._arrowData.Fuu&&e._arrowData.Fuu.parent&&(e._arrowData.Fuu.getTransformedBounds(e._arrowData.Fuu.parent,e._bounds),e._clipBounds.x=e._clipBounds.y=-5,e._clipBounds.width=e._bounds.width+5,e._clipBounds.height=e._bounds.height+5,e._drawTexture.drawToTexture(e._arrowData.Fuu,e._clipBounds),e._drawTarget.texture=e._drawTexture,e.updatePosition(),e._drawTarget.addEventListener(eui.tep,e._drawEventHandler,e),e.addChild(e._drawTarget),Nvm.instance.registeEnterFrame2(e.updatePosition,e))},t.prototype.updatePosition=function(){var e=this;e._arrowData&&e._arrowData.Fuu&&e._arrowData.Fuu.parent&&(e._arrowData.Fuu.parent.localToGlobal(e._arrowData.Fuu.x,e._arrowData.Fuu.y,e._posObj),e.parent.globalToLocal(e._posObj.x,e._posObj.y,e._posObj),e._drawTarget.x=e._posObj.x-5,e._drawTarget.y=e._posObj.y-5)},t.prototype.clearFollowTarget=function(){var e=this;egret.Tween.removeTweens(e._drawTarget),e._drawTarget.parent&&(e._drawTarget.texture=null,e.removeChild(e._drawTarget)),e._drawTarget.removeEventListener(eui.tep,e._drawEventHandler,e),Nvm.instance.unRegisteEnterFrame2(e.updatePosition,e)},t.prototype._drawEventHandler=function(e){var t=this;t._eventTarget&&t._eventTarget.dispatchEvent(e)},t.prototype.clear=function(){var e=this;e._eventTarget=null,e.clearFollowTarget(),e._arrowView.clear(),e._arrowData&&e._arrowData.clear(),e._arrowData=null},t.prototype.dispose=function(){var e=this;e.hideMask(),e.clear(),e.parent&&e.parent.removeChild(e)},t}(egret.DisplayObjectContainer);__reflect(iWw.prototype,"iWw");var NoviceArrowView=function(e){function t(t){var n=e.call(this,"NoviceArrowView")||this;n.ou=t;var i=RRUU.$s("NoviceArrowViewSkin");return n.skinName=i,n.touchEnabled=n.touchChildren=!1,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.mv=GObj.$c(egret.Point),e.a_=GObj.$c(egret.Rectangle),e.qd=GObj.$c(MeanEffect),e.qd.x=16,e.qd.y=12,e.qd.verticalAlign=egret.VerticalAlign.MIDDLE,e.qd.horizontalAlign=egret.HorizontalAlign.CENTER,e.qd.start(gYq.RR),e.addChild(e.qd)},t.prototype.initData=function(){var e=this;e.ou&&(e.arrowData=e.ou)},t.prototype.initEvent=function(){var e=this;e.once(egret.Event.ADDED_TO_STAGE,e.vu,e),App.YX.stage.addEventListener(egret.Event.RESIZE,e.rv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.Event.ADDED_TO_STAGE,e.vu,e),App.YX.stage.removeEventListener(egret.Event.RESIZE,e.rv,e)},Object.defineProperty(t.prototype,"arrowData",{set:function(e){var t=this;t.clear(),t.ou=e,t.ou&&(t.initEvent(),t.kk(),t.msgTxt.text=t.ou.txt,t.ou.Fuu&&t.ou.Fuu.addEventListener(eui.tep,t.rm,this,!1,99),t.ou.parentC?t.ou.parentC.addChild(t):t.parent&&t.parent.removeChild(t),t.lx(),t.ou.undefinedkr&&Nvm.instance.registeEnterFrame2(t.rv,t))},enumerable:!0,configurable:!0}),t.prototype.kk=function(){var e=this;if(!e.ou.txt)return void(e.txtGroup.visible=!1);e.txtGroup.visible=!0;var t=e.ou.txtDir;switch(t){case 1:e.txtGroup.x=-95,e.txtGroup.y=-150,e.arrowImg.x=66,e.arrowImg.y=122,e.arrowImg.scaleY=-1,e.arrowImg.rotation=0;break;case 2:e.txtGroup.x=-95,e.txtGroup.y=10,e.arrowImg.x=66,e.arrowImg.y=22,e.arrowImg.scaleY=1,e.arrowImg.rotation=0;break;case 3:e.txtGroup.x=-300,e.txtGroup.y=-72,e.arrowImg.x=214,e.arrowImg.y=50,e.arrowImg.scaleY=1,e.arrowImg.rotation=90;break;case 4:e.txtGroup.x=90,e.txtGroup.y=-72,e.arrowImg.x=-25,e.arrowImg.y=91,e.arrowImg.scaleY=1,e.arrowImg.rotation=-90}},t.prototype.vu=function(e){var t=this;t.ou&&(egret.Tween.removeTweens(t),t.ou.waitTime&&egret.Tween.get(t).wait(1e3*t.ou.waitTime).call(t.rm,t))},t.prototype.rv=function(e){this.lx()},t.prototype.rm=function(e){var t=this;if(t.ou){var n=t.ou.Fuu,i=t.ou.callBack,r=t.ou.thisObj,a=t.ou.autoClick;t.clear(),i&&i.call(r),t.dispatchEventWith(egret.TouchEvent.CLOSE),!e&&n&&a&&n.dispatchEvent(new egret.TouchEvent(eui.tep))}},t.prototype.lx=function(){var e=this;e.ou&&(e.mv.x=e.mv.y=0,e.a_.x=e.a_.y=e.a_.width=e.a_.height=0,e.parent&&e.ou.Fuu&&e.ou.Fuu.parent&&(e.ou.transparent?(e.ou.Fuu.getTransformedBounds(e.ou.Fuu.parent,e.a_),e.ou.Fuu.parent.localToGlobal(int(e.a_.x),int(e.a_.y),e.mv),e.parent.globalToLocal(e.mv.x,e.mv.y,e.mv),e.mv.x+=e.a_.width/2,e.mv.y+=e.a_.height/2):e.ou.Fuu.localToGlobal(0,0,e.mv)),e.x=e.mv.x+e.ou.offsetX,e.y=e.mv.y+e.ou.offsetY)},t.prototype.clear=function(){var e=this;egret.Tween.removeTweens(e),Nvm.instance.unRegisteEnterFrame2(e.rv,e),e.ou&&(e.ou.Fuu&&e.ou.Fuu.removeEventListener(eui.tep,e.rm,e),e.ou.clear()),e.removeEvent(),e.ou=null,e.parent&&e.parent.removeChild(e),e.msgTxt&&(e.msgTxt.text="")},t.prototype.dispose=function(){var t=this;t.clear(),GObj.$d(t.txtGroup),t.txtGroup=null,GObj.$d(t.msgTxt),t.msgTxt=null,GObj.$d(t.qd),t.qd=null,t.mv=null,t.a_=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(NoviceArrowView.prototype,"NoviceArrowView");var BattleEquipDescPopUi=function(e){function t(){return e.call(this,"BattleEquipDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.RB,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(BattleEquipDescPopUi.prototype,"BattleEquipDescPopUi");var BattleEquipDetalFrame=function(e){function t(t){var n=e.call(this,"SpiritEquipDetailFrame")||this;return n.skinName=RRUU.$s("SpiritEquipDetailFrame"),n.verticalCenter=0,n.horizontalCenter=0,n.sq=t,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.basisLab.text=fvg.GVf("role3"),e.intensifyLab.text=fvg.GVf("role4"),e.basis_1Lab.text="",e.basis_2Lab.text="",e.intensify_1Lab.text="",e.nameLab.text="",e.gradeLab.text=""},t.prototype.pe=function(){var e=this;if(e.CSo){var t=GObj.$c(nlwj),n=XCA.AQS.UFA(65,e.sq,1);if(n&&(t.tid=parseInt(n.cost),t)){var i=XCA.FR(t.tid);App._B.battleCapDict[e.sq]||0;e.equipItem.data=t,e.nameLab.text=i.name,e.nameLab.textColor=aKF.DU(i.qua);var r=App._B.battleEquipInfo[""+e.sq];e.gradeLab.text=fvg.GVf("spirit20",e.wm?r+1:r),e.getEquipAttr(e.basis_1Lab,e.basis_2Lab,n,App._B.battleEquipInfo[""+e.sq]),e.intensifyLab.text="",e.intensify_1Lab.text=""}}},t.prototype.initEvent=function(){},t.prototype.initData=function(){this.pe()},t.prototype.removeEvent=function(){},t.prototype.ac=function(e){this.dispose()},t.prototype.show=function(e){var t=this;t.wm=e,t.pe(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.getEquipAttr=function(e,t,n,i){var r=this;if(n){var a=r.wm?i+1:i,o=XCA.YV(n.attrid+a);
if(r.fightTxt.text=fvg.GVf("public018",o.p1),o){e.text="",t.text="";var s=[],p=xxf.UK;for(var l in p)if(o[l]){var c="";s.length>0&&(c+="\n"),c+=p[l]+"  +"+o[l],s.push(c)}p=xxf.IM;for(var l in p)if(o[l]){var c="";s.length>0&&(c+="\n"),c+=p[l]+"  +"+o[l]/10+"%",s.push(c)}for(var u=0;u<s.length&&s[u];u++)e.text+=s[u]}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.equipItem),t.equipItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.basisLab),t.basisLab=null,GObj.$d(t.basis_1Lab),t.basis_1Lab=null,GObj.$d(t.basis_2Lab),t.basis_2Lab=null,GObj.$d(t.intensifyLab),t.intensifyLab=null,GObj.$d(t.intensify_1Lab),t.intensify_1Lab=null,GObj.$d(t.fightTxt),t.fightTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.removeChildren(),GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.zq),t.zq=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BattleEquipDetalFrame.prototype,"BattleEquipDetalFrame");var BattleEquipItem=function(e){function t(t){var n=e.call(this,"BattleEquipItem")||this;n._selected=!1,n.sa=0,n._sonType=t;var i=RRUU.$s("BattleEquipItemSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),t.prototype.initView=function(){},t.prototype.initData=function(){this.mh()},t.prototype.mh=function(){var e=this,t=App._B.battleEquipInfo[""+e._sonType]||0;if(t){if(e._typeIcon.source=null,e.da=XCA.AQS.UFA(65,e._sonType,1),!e.da)return;e._itemIcon.upgradeId=e.da.tid,e.rl?e._gradeTxt.text=fvg.GVf("official32",e.cs?t+1:t):e._gradeTxt.text="",e.icon=e.nr&&UsU.HTB(e._sonType)?StaticData.GHj:null}else e._itemIcon.upgradeId=0,e._gradeTxt.text="",e._typeIcon.source="core_json.quality_1_png"},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.WF,e.vx,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.WF,e.vx,e)},t.prototype.vx=function(){},t.prototype.ln=function(){var e=this;e.isShowUpgradeEff=!0,e.checkUpgrade()},Object.defineProperty(t.prototype,"isShowUpgradeEff",{get:function(){return this._isShowUpgradeEff},set:function(e){this._isShowUpgradeEff=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._selectedBack.visible=t._selected},enumerable:!0,configurable:!0}),t.prototype.checkUpgrade=function(){},Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"equipType",{get:function(){return this._sonType},set:function(e){var t=this;t._sonType=e,t.mh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowRedPoint",{get:function(){return this.nr},set:function(e){this.nr=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNext",{get:function(){return this.cs},set:function(e){this.cs=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowAttr",{get:function(){return this.he},set:function(e){var t=this;t.he=e,t.he?t._itemIcon.addEventListener(eui.tep,t.zp,t):t._itemIcon.removeEventListener(eui.tep,t.zp,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowGrade",{get:function(){return this.rl},set:function(e){this.rl=e},enumerable:!0,configurable:!0}),t.prototype.zp=function(){var e=this,t=GObj.$c(BattleEquipDetalFrame,e._sonType);t.show(e.isNext)},t.prototype.jy=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e._selectedBack),e._selectedBack=null,GObj.$d(e._sonType),e._sonType=null,GObj.$d(e._itemIcon),e._itemIcon=null,GObj.$d(e._typeIcon),e._typeIcon=null,GObj.$d(e._gradeTxt),e._gradeTxt=null,GObj.$d(e.iconDisplay),e.iconDisplay=null,e.weS&&(e.weS.stop(),e.weS.removeEventListener(egret.Event.COMPLETE,e.jy,e)),GObj.$d(e.weS),e.weS=null},t}(BaseUI);__reflect(BattleEquipItem.prototype,"BattleEquipItem",["ISelectedButton","egret.IEventDispatcher"]);var BattleEquipmentView=function(e){function t(){var t=e.call(this,"BattleEquipmentView")||this;return t.skinName=RRUU.$s("BattleEquipmentView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wearBtn.label=fvg.GVf("appell1"),e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=0,e.addChild(e.fightView),e.yw||(e.yw=GObj.$c(FigureView)),e.yw.x=260,e.yw.y=450,e.addChildAt(e.yw,1)},t.prototype.initData=function(){var e=this;e.yt(),e.ec(),e.fv={},e.ps={},e.jv()},t.prototype.initEvent=function(){var e=this;e.wearBtn.addEventListener(eui.tep,e.pm,e),e.masterBtn.addEventListener(eui.tep,e.pd,e),e.upgradeBtn.addEventListener(eui.tep,e.he,e),vkG.$a(UtJ.FA,e.ec,e),vkG.$a(UtJ.WF,e.ls,e)},t.prototype.removeEvent=function(){var e=this;e.wearBtn.removeEventListener(eui.tep,e.pm,e),e.masterBtn.removeEventListener(eui.tep,e.pd,e),e.upgradeBtn.removeEventListener(eui.tep,e.he,e),vkG.$r(UtJ.FA,e.ec,e),vkG.$r(UtJ.WF,e.ls,e)},t.prototype.ec=function(){var e=this;e.yw&&FigureHelps.NW(e.yw,{b:App.KF.b,w:App.KF.w,c:App.KF.c,s:App.KF.sex||1})},t.prototype.ls=function(){var e=this;e.jv(),e.my()},t.prototype.my=function(){for(var e=this,t=0;t<e.itemArray.length;t++){var n=e.itemArray[t];n.equipType=t+1}},t.prototype.jv=function(){var e=this;e.wearBtn.icon=UsU.MOE()?StaticData.GHj:null,e.upgradeBtn.icon=UsU.ZM()?StaticData.GHj:null,e.ro();var t=App._B.battleEquipInfo.cap;e.fightView.fightNum=t,e.masterBtn.label=fvg.GVf("skill020",App._B.battleMaster)},t.prototype.yt=function(){var e=this;e.itemArray=[];for(var t,n=0;4>n;n++)t=GObj.$c(BattleEquipItem,n+1),t.isShowGrade=!0,t.equipType=n+1,t.isShowAttr=!0,t.isShowRedPoint=!1,e.itemArray.push(t),e.equipGroup.addChild(t)},t.prototype.he=function(){App.VS.popup(10081,BattleEquipUpgradePopUi)},t.prototype.pd=function(){App.VS.popup(10081,StoreMasterPopUi,null,StoreItemView.KI)},t.prototype.ro=function(){var e,t,n,i=this;i.ps={};for(var r=1;4>=r;++r)if(e=parseInt(App._B.battleEquipInfo[""+r]),e>0){if(t=XCA.AQS.UFA(65,r,2),!t)continue;n=i.vl(t.attrid,e)}n&&(i.md(n),i.descLab.text=fvg.GVf("official26",i.nd))},t.prototype.md=function(e){var t=this,n=[],i=xxf.UK,r="";for(var a in i)e[a]&&(n.length>0&&(r+="\n"),r+=i[a]+"  +"+e[a],n.push(r));i=xxf.IM;for(var a in i)e[a]&&(n.length>0&&(r+="\n"),"bpp"==a&&(t.nd=e[a]/10),r+=i[a]+"  +"+e[a]/10+"%",n.push(r));for(var o=r.split("\n"),s=0;8>s;s++)this["attrLab"+(s+1)].text=o[s]||""},t.prototype.vl=function(e,t){var n=this,i=XCA.YV(e+t);for(var r in i)n.ps[r]?n.ps[r]+=i[r]:n.ps[r]=i[r];return n.ps},t.prototype.pm=function(){if(this.fm())return void MessageTipManager.instance.show(fvg.GVf("official33"));var e=App._B.getCurrCanWearEquipSontype();if(!e||e.length<=0)return void MessageTipManager.instance.show(fvg.GVf("official28"));for(var t=e.length,n=0;t>n;n++)OfficialMsgProxy.BI(e[n],3,1)},t.prototype.fm=function(){for(var e=0;4>e;e++)if(!App._B.battleEquipInfo[""+(e+1)])return!1;return!0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.wearBtn),t.wearBtn=null,GObj.$d(t.attrLab1),t.attrLab1=null,GObj.$d(t.attrLab2),t.attrLab2=null,GObj.$d(t.attrLab3),t.attrLab3=null,GObj.$d(t.attrLab4),t.attrLab4=null,GObj.$d(t.attrLab5),t.attrLab5=null,GObj.$d(t.attrLab6),t.attrLab6=null,GObj.$d(t.attrLab7),t.attrLab7=null,GObj.$d(t.attrLab8),t.attrLab8=null,GObj.$d(t.masterBtn),t.masterBtn=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.yw),t.yw=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BattleEquipmentView.prototype,"BattleEquipmentView");var BattleEquipUpgradePopUi=function(e){function t(){var t=e.call(this,"BattleEquipUpgradePopUi")||this;return t.itemArray=[],t.skinName=RRUU.$s("BattleEquipUpgradePopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upgradebtn.label=fvg.GVf("beauty01"),e.title=fvg.GVf("official38"),e.equipGroup=GObj.$c(kQr),e.smaicon1.goodsTid=StaticData.TID_GOODS_44},t.prototype.initData=function(){var e=this;e.uh(),e.jc(),e.equipGroup.selectedIndex=0},t.prototype.uh=function(){var e=this;e.nm={};for(var t,n=0;4>n;n++)t=GObj.$c(BattleEquipItem,n+1),t.isShowGrade=!0,t.isShowAttr=!1,t.isShowRedPoint=!0,t.equipType=n+1,e.itemGroup.addChild(t),e.itemArray.push(t),e.equipGroup.cwA(t);e.fightView=GObj.$c(FightView),e.fightView.x=106,e.fightView.y=51,e.addChild(e.fightView),e.br=GObj.$c(BattleEquipItem),e.br.x=0,e.br.y=0,e.br.isNext=!1,e.br.isShowAttr=!0,e.br.isShowGrade=!0,e.br.isShowRedPoint=!1,e.currItemGroup.addChildAt(e.br,3),e.ww=GObj.$c(BattleEquipItem),e.ww.x=91,e.ww.y=0,e.ww.isNext=!0,e.ww.isShowAttr=!0,e.ww.isShowGrade=!0,e.ww.isShowRedPoint=!1,e.nextItemGroup.addChildAt(e.ww,3),e.fe=fvg.GVf("official30").split(",")},t.prototype.ig=function(){var e,t=this,n=App._B.battleEquipInfo[""+t.qz]||0;if(n>0){if(t.noEquipLab.text="",t.currItemGroup.x=100,t.nextItemGroup.visible=!0,e=XCA.AQS.UFA(65,t.qz,2),!e)return;t.el=e.maxgrade,t.currAttrLab.text=t.ay(n),t.arrowImg.visible=!0,n+1>e.maxgrade?t.nextAttrLab.text=fvg.GVf("skill006"):t.nextAttrLab.text=t.ay(n+1),n>=e.maxgrade&&(t.nextItemGroup.visible=!1,t.currItemGroup.x=204,t.proGress.value=100,t.proTxt.text="MAX")}else t.currItemGroup.x=204,t.nextItemGroup.visible=!1,t.noEquipLab.text=fvg.GVf("official29"),t.currAttrLab.text="",t.nextAttrLab.text="",t.arrowImg.visible=!1},t.prototype.ay=function(e){var t,n,i=XCA.AQS.UFA(65,this.qz,2),r="",a=XCA.YV(i.attrid);if(a){for(t in xxf.UK)n=App.JP.getBattleEquipAttr(a[t],e)||0,n>0&&(n=0==e?0:n,r+=fvg.GVf("skill004",xxf.UK[t],n)+"\n");for(t in xxf.IM)n=App.JP.getBattleEquipAttr(a[t],e)||0,n&&(r+=fvg.GVf("skill004",xxf.IM[t],(n/10).toFixed(1)+"%")+"\n")}return r},t.prototype.jc=function(){var e=this;if(e.qz){var t;e.needEisLab.text=App.FK.hsx(StaticData.TID_GOODS_44)+"",t=App._B.battleEquipInfo[""+e.qz]>0?XCA.AQS.UFA(65,e.qz,2):XCA.AQS.UFA(65,e.qz,1);var n,i=(t.p5.split(","),parseInt(App._B.battleEquipInfo[""+e.qz])||0);n=0>=i?0:App._B.battleEquipInfo["gp_"+e.qz]-App.JP.getBattleEquipUpgradeConsume(i);var r=App.JP.getBattleEquipUpgradeConsume(i+1)-App.JP.getBattleEquipUpgradeConsume(i);e.proGress.value=100*(n/r||0),e.proTxt.text=fvg.GVf("public022",n||0,r||0);var a=App._B.battleCapDict[e.qz]||0;e.br.equipType=e.equipGroup.selectedIndex+1,e.ww.equipType=e.equipGroup.selectedIndex+1,e.qz=e.equipGroup.selectedIndex+1,e.itemArray[e.equipGroup.selectedIndex].equipType=e.equipGroup.selectedIndex+1,e.fightView.fightNum=a,e.upgradebtn.icon=UsU.ZM()?StaticData.GHj:null}},t.prototype.initEvent=function(){var e=this;e.upgradebtn.addEventListener(eui.tep,e.cj,e),e.equipGroup.addEventListener(egret.Event.CHANGE,e.ui,e),vkG.$a(UtJ.WF,e.yu,e)},t.prototype.removeEvent=function(){var e=this;e.upgradebtn.removeEventListener(eui.tep,e.cj,e),e.equipGroup.removeEventListener(egret.Event.CHANGE,e.ui,e),vkG.$r(UtJ.WF,e.yu,e)},t.prototype.ui=function(){var e=this,t=e.equipGroup.selectedIndex;e.partLab.text=e.fe[t];var n=e.equipGroup.LuO;n&&(e.br.equipType=e.equipGroup.selectedIndex+1,e.ww.equipType=e.equipGroup.selectedIndex+1,e.qz=e.equipGroup.selectedIndex+1),e.jc(),e.ig()},t.prototype.yu=function(){var e=this;e.jc(),e.ig()},t.prototype.cj=function(){var e=this;return App._B.battleEquipInfo[""+e.qz]?App._B.battleEquipInfo[""+e.qz]>=e.el?void MessageTipManager.instance.show(fvg.GVf("official34")):void(App._B.getCurrEquipCanUpgrade(e.qz,App._B.battleEquipInfo[""+e.qz])?OfficialMsgProxy.BI(e.qz,3):_JDW.TR(StaticData.TID_GOODS_44)):void MessageTipManager.instance.show(fvg.GVf("official27"))},t.prototype.ji=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.proTxt),t.proTxt=null,GObj.$d(t.partLab),t.partLab=null,GObj.$d(t.br),t.br=null,GObj.$d(t.ww),t.ww=null,GObj.$d(t.itemList),t.itemList=null,GObj.$d(t.proGress),t.proGress=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.upgradebtn),t.upgradebtn=null,GObj.$d(t.needEisLab),t.needEisLab=null,GObj.$d(t.noEquipLab),t.noEquipLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.currGradeLab),t.currGradeLab=null,GObj.$d(t.nextGradeLab),t.nextGradeLab=null,GObj.$d(t.currItemGroup),t.currItemGroup=null,GObj.$d(t.nextItemGroup),t.nextItemGroup=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.smaicon1),t.smaicon1=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BattleEquipUpgradePopUi.prototype,"BattleEquipUpgradePopUi");var OfficialHelpPopUi=function(e){function t(){return e.call(this,"OfficialHelpPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.VF,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(OfficialHelpPopUi.prototype,"OfficialHelpPopUi");var OfficialPowerPopUI=function(e){function t(){var t=e.call(this,"OfficialPowerPopUI")||this;return t.skinName=RRUU.$s("OfficialPowerPopUI"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("official9"),e.currResultTxt.text=fvg.GVf("official18");var t=App._B.offiInfo[1]||0;if(t>0){var n=App._B.getGenerationByGrade(t-1);LgRe.UQ(e.currGradeTxt,fvg.GVf("official17",n));var i=App._B.damageRate/10*2,r=App._B.minDiff*i;LgRe.UQ(e.powerTxt,fvg.GVf("official19",n,i,r))}else e.currGradeTxt.text=fvg.GVf("official21"),e.powerTxt.text=fvg.GVf("official20")},t.prototype.initData=function(){},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.cx=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.powerTxt),t.powerTxt=null,GObj.$d(t.currGradeTxt),t.currGradeTxt=null,GObj.$d(t.currResultTxt),t.currResultTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(OfficialPowerPopUI.prototype,"OfficialPowerPopUI");var OfficialRankAwardFrame=function(e){function t(){var t=e.call(this,"OfficialRankAwardFrame")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rankData=GObj.$c(eui.ArrayCollection),e.rankGroup.dataProvider=e.rankData,e.rankGroup.itemRenderer=OfficialRankAwardItem,e.myRankTxt.text=fvg.GVf("rank0",fvg.GVf("public042")),e.myDemageTxt.text=fvg.GVf("official15",0)},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.gy,e),vkG.$a(UtJ.TT,e.qe,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.gy,e),vkG.$r(UtJ.TT,e.qe,e)},t.prototype.initData=function(){var e=this;if(e.CSo&&e._j){for(var t,n=0;10>n;n++)t={},t.index=n,e.rankData.source.push(t);e.rv=App.PV.getData(e._j);var i=0;i=3e5,!e.rv||GApp.timer-e.rv.rtime>=i?ArenaMsgProxy.SW(e._j):e.ar()}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n._j=e[0],n.initData())},t.prototype.qe=function(e){var t=this;e&&e.type==t._j&&(t.rv=e,t.ar())},t.prototype.ar=function(){for(var e,t=this,n=t.rankData.source.length,i=t.rv.list,r=0;n>r;r++)e=t.rankData.source[r],e.rankinfo=r<i.length?i[r]:null;t.rankData.replaceAll(t.rankData.source),t.myRankTxt.text=fvg.GVf("rank0",t.rv.order||fvg.GVf("public042")),t.myDemageTxt.text=fvg.GVf("official15",t.rv.score||0)},t.prototype.gy=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myDemageTxt),t.myDemageTxt=null,GObj.$d(t.closeBtn),t.closeBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup)),t.rankGroup=null,t.rankData=null,t.rv=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(OfficialRankAwardFrame.prototype,"OfficialRankAwardFrame");var OfficialRankAwardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("OfficialRankAwardItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.it,e),e.rewardBtn.addEventListener(eui.tep,e.wj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.it,e),e.rewardBtn.removeEventListener(eui.tep,e.wj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.rankData=e.data.rankinfo,e.rankingTxt.text=""+(e.itemIndex+1),e.rankData?(e.nameTxt.text=e.rankData.name,e.damageTxt.text=toChars(e.rankData.score)):(e.nameTxt.text=fvg.GVf("rank10"),e.damageTxt.text="0"))},t.prototype.wj=function(e){var t=this,n=GObj.$c(BoxPopUi);n.showDetail(82,1,t.itemIndex+1,t.itemIndex+1)},t.prototype.it=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankingTxt),t.rankingTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.damageTxt),t.damageTxt=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,t.rankData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(OfficialRankAwardItem.prototype,"OfficialRankAwardItem");var OfficialRankFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.of=GObj.$c(OfficialRankItemView,0),t.of.x=148,t.of.y=86,t.addChildAt(t.of,1),t.g_=GObj.$c(OfficialRankItemView,1),t.g_.x=300,t.g_.y=190,t.addChildAt(t.g_,1),t.wk=GObj.$c(OfficialRankItemView,2),t.wk.x=0,t.wk.y=190,t.addChildAt(t.wk,1),t.rankData=GObj.$c(eui.ArrayCollection),t.rankGroup.dataProvider=t.rankData,t.rankGroup.itemRenderer=OfficialRankItem,t.li=FDG.JD},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n,i=4;10>=i;i++)n={},n.index=i,t.rankData.source.push(n);t.ha=App.PV.getData(t.li);var r=0;r=3e5,!t.ha||GApp.timer-t.ha.rtime>=r?ArenaMsgProxy.SW(t.li):t.eu()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.rankBtn.addEventListener(eui.tep,t.um,t),t.lastWeekRankBtn.addEventListener(eui.tep,t.im,t),vkG.$a(UtJ.TT,t.p_,t)},t.prototype.removeEvent=function(){var e=this;e.rankBtn.removeEventListener(eui.tep,e.um,e),e.lastWeekRankBtn.removeEventListener(eui.tep,e.im,e),vkG.$r(UtJ.TT,e.p_,e)},t.prototype.p_=function(e){var t=this;e&&e.type==t.li&&(t.ha=e,t.eu())},t.prototype.eu=function(){for(var e,t=this,n=t.rankData.source.length,i=t.ha.list,r=0;n>r;r++)e=t.rankData.source[r],e.rankinfo=i[r+3]?i[r+3]:null;t.rankData.replaceAll(t.rankData.source)},t.prototype.um=function(){App.VS.popup(KqZ.QN,OfficialRankAwardFrame,FDG.JD)},t.prototype.im=function(){App.VS.popup(KqZ.QN,OfficialRankAwardFrame,FDG.RL)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup)),t.rankGroup=null,GObj.$d(t.of),t.of=null,GObj.$d(t.g_),t.g_=null,GObj.$d(t.wk),t.wk=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.lastWeekRankBtn),t.lastWeekRankBtn=null,GObj.$d(t.rankData),t.rankData=null,GObj.$d(t.ha),t.ha=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(OfficialRankFrame.prototype,"OfficialRankFrame");var OfficialRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("OfficialRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.valueDesc.text=fvg.GVf("official23")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.nz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data)if(e.rankData=e.data.rankinfo,e.rankingTxt.text=""+(e.itemIndex+1+3),e.rankData){e.nameLab.text=e.rankData.name,e.valueTxt.text=toChars(e.rankData.score);var t=e.rankData.fgrade||1,n=e.rankData.fid||1,i=XCA.AQS.UFA(21,1,t);if(i){var r=Nkz.LI(i.p5);e.descLab.text=fvg.GVf("martialart_appell_"+n,t)+r[n||1],e.descLab.textColor=aKF.DU(gLw.GM(i.tid))}}else e.nameLab.text=fvg.GVf("rank10"),e.valueTxt.text="0",e.descLab.text="--",e.descLab.textColor=Color.XB},t.prototype.nz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankingTxt),t.rankingTxt=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.valueTxt),t.valueTxt=null,t.rankData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(OfficialRankItem.prototype,"OfficialRankItem");var OfficialRankItemView=function(e){function t(t){var n=e.call(this,"OfficialRankItemView")||this;n.oi=t;var i=RRUU.$s("OfficialRankItemViewSkin");return n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e._appellImg=GObj.$c(ImageIcon),e._appellImg.y=13,e._appellImg.x=50,e.addChild(e._appellImg)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.jn,e)},t.prototype.initData=function(){var e=this;e._appellImg.source=kLM.EF(StaticData.OFFICIAL_APPELL_LIST[e.oi]),e.jn()},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.jn,e)},t.prototype.jn=function(){var e,t,n=this,i=1,r=0;if(App.PV.getData(FDG.JD)&&(t=App.PV.getData(FDG.JD).list[n.oi]),t){r=t.cap||0,i=t.fgrade||1,e=t.fid||1,n.vw&&n.vw.parent&&n.vw.parent.removeChild(n.vw),n.gv||(n.gv=GObj.$c(FigureView),n.gv.x=90,n.gv.y=290),n.addChildAt(n.gv,0),FigureHelps.NW(n.gv,{b:t.b,w:t.w,c:t.c,s:t.sex||1});var a=t.stg;n.uo&&n.uo.parent&&n.removeChild(n.uo),a>0&&(n.uo&&n.uo.parent?(n.removeChild(n.uo),n.ah(a)):n.ah(a),n.uo.play(),n.addChildAt(n.uo,n.numChildren)),n.nameLab.text=t.name,LgRe.UQ(n.cpLab,fvg.GVf("official13",t.score));var o=XCA.AQS.UFA(21,1,i);if(o){var s=Nkz.LI(o.p5);n.descLab.text=fvg.GVf("martialart_appell_"+e,i)+s[e||1],n.descLab.textColor=aKF.DU(gLw.GM(o.tid))}}else n.gv&&n.gv.parent&&n.gv.parent.removeChild(n.gv),n.vw||(n.vw=GObj.$c(MovieEffect),n.vw.touchEnabled=n.vw.touchChildren=!1,n.vw.play(gYq.BU),n.vw.x=90,n.vw.y=290),n.addChildAt(n.vw,0)},t.prototype.ah=function(e){var t=this;e>0&&(t.uo=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((e+1)/4))),t.uo.x=-70,t.uo.y=-30,t.uo.touchEnabled=!1,t.uo.touchChildren=!1,t.uo.addEventListener(egret.Event.COMPLETE,t.ui,t)},t.prototype.ui=function(e){var t=this;t.uo&&t.uo.parent&&t.removeChild(t.uo)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.cpLab),t.cpLab=null,GObj.$d(t._appellImg),t._appellImg=null,GObj.$d(t.vw),t.vw=null,GObj.$d(t.gv),t.gv=null,GObj.$d(t.uo),t.uo=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(OfficialRankItemView.prototype,"OfficialRankItemView");var OfficialSalaryPopUi=function(e){function t(){var t=e.call(this,"OfficialSalaryPopUi")||this;return t.k_=0,t.skinName=RRUU.$s("OfficialSalaryPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.confirmBtn.label=fvg.GVf("official7"),e.title=fvg.GVf("official3"),e.getSalaryDesTxt.text=fvg.GVf("official24");var t=OfficialManager.instance.getPreviewAwards();t&&(e.rewardData.source=t,e.rewardData.refresh(),1==e.rewardData.source.length?e.scroller.x=144:2==e.rewardData.source.length?e.scroller.x=104:3==e.rewardData.source.length?e.scroller.x=64:4==e.rewardData.source.length&&(e.scroller.x=24))},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.nv,e),vkG.$a(UtJ.HX,e.sq,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.nv,e),vkG.$r(UtJ.HX,e.sq,e)},t.prototype.initData=function(){this.sq()},t.prototype.sq=function(){var e=this;e.k_=App._B.offiInfo.isUse,e.getedImg.visible=e.k_&&1==e.k_,e.confirmBtn.visible=!e.getedImg.visible,e.confirmBtn.icon=UsU.HR()?StaticData.GHj:null},t.prototype.nv=function(){var e=this;return e.k_&&1==e.k_?void MessageTipManager.instance.show(fvg.GVf("official8")):void OfficialMsgProxy.UW()},t.prototype.lt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.getSalaryDesTxt),t.getSalaryDesTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(OfficialSalaryPopUi.prototype,"OfficialSalaryPopUi");var OfficialSealView=function(e){function t(){var t=e.call(this,"OfficialSealView")||this;return t.skinName=RRUU.$s("OfficialSealView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upgradeBtn.label=fvg.GVf("specia001"),e.valueDescTxt.text=fvg.GVf("official25"),e.consumptionTxt.text=fvg.GVf("country_35"),e.fightView=GObj.$c(FightView),e.fightView.x=118,e.fightView.y=1,e.addChild(e.fightView),e.gradeView=GObj.$c(NumberView),e.gradeView.x=120,e.gradeView.y=376,e.addChild(e.gradeView),e.smaicon1.goodsTid=StaticData.TID_GOODS_30},t.prototype.initData=function(){var e=this;e.bf=!1,e.fh()},t.prototype.initEvent=function(){var e=this;e.helpBtn.addEventListener(eui.tep,e.lg,e),e.officialPowerBtn.addEventListener(eui.tep,e.tb,e),e.salaryBtn.addEventListener(eui.tep,e.yp,e),e.upgradeBtn.addEventListener(eui.tep,e.vk,e),vkG.$a(UtJ.HX,e.fh,e)},t.prototype.removeEvent=function(){var e=this;e.helpBtn.removeEventListener(eui.tep,e.lg,e),e.officialPowerBtn.removeEventListener(eui.tep,e.tb,e),e.salaryBtn.removeEventListener(eui.tep,e.yp,e),e.upgradeBtn.removeEventListener(eui.tep,e.vk,e),vkG.$r(UtJ.HX,e.fh,e)},t.prototype.vk=function(){if(App._B.offiInfo.otav){var e=App._B.offiInfo.otav,t=App._B.offiInfo[1]||0,n=XCA.AQS.UFA(47,1,t+1);if(!n)return void MessageTipManager.instance.show(fvg.GVf("official12"));e>=n.needgp?OfficialMsgProxy.NL():_JDW.TR(StaticData.TID_GOODS_30)}else _JDW.TR(StaticData.TID_GOODS_30)},t.prototype.yp=function(){var e=App._B.offiInfo[1]||0;return 0>=e?void MessageTipManager.instance.show(fvg.GVf("official11")):void App.VS.popup(10080,OfficialSalaryPopUi)},t.prototype.tb=function(){App.VS.popup(10080,OfficialPowerPopUI)},t.prototype.lg=function(){App.VS.popup(10080,OfficialHelpPopUi)},t.prototype.fh=function(){var e=this,t=App._B.offiInfo[1]||0,n=App._B.offiInfo.cap||0;return e.salaryBtn.icon=UsU.HR()?StaticData.GHj:null,e.fightView.fightNum=n,e.bf&&App.KB.showEffect(gYq.UQ),e.bf=!0,e.me=t,e.sq=XCA.AQS.UFA(47,1,t),e.sq?(e.kyl=XCA.AQS.UFA(47,1,e.me+1),e.kyl?void e.ms():void e.uu()):void e.jw()},t.prototype.mk=function(){var e=this,t=e.sq.attrid+(e.me||1);if(e.attackTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t,0==e.me)),e.me>=e.sq.maxgrade)return void(e.nextAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t,!1,!0)));t=e.sq.attrid+e.me,e.attackTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t));var n=e.kyl.attrid+e.me+1;e.nextAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(n))},t.prototype.ms=function(){var e=this,t=App._B.offiInfo.otav||0,n=e.sq.p1||0,i=e.kyl.needgp||0;e.dayUseTxt.text=n.toString(),e.progressTxt.text=t+"/"+i,e.progressBar.value=Math.max(0,int(t/i*100)),e.upgradeBtn.icon=t>=i?StaticData.GHj:null,e.fn()},t.prototype.jw=function(){var e=this,t=XCA.AQS.UFA(47,1,1);if(t){var n=App._B.offiInfo.otav||0;e.attackTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t.attrid+1,!0,!1)),e.nextAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(t.attrid+1)),e.dayUseTxt.text="0";var i=t.needgp||0;e.progressTxt.text=n+"/"+i,e.progressBar.value=Math.max(0,int(n/i*100)),e.upgradeBtn.icon=n>=i?StaticData.GHj:null}},t.prototype.uu=function(){var e=this,t=App._B.offiInfo.otav||0,n=e.sq.p1||0,i="Max";e.dayUseTxt.text=n.toString(),e.progressTxt.text=t+"/"+i,e.progressBar.value=100,e.upgradeBtn.icon=null,e.fn()
},t.prototype.fn=function(){var e=this;e.salaryBtn.icon=UsU.HR()?StaticData.GHj:null,e.officialSealImg.source="official_json.grade_b_"+e.me+"_png",e.gradeNameImg.source="official_json.grade_s_"+e.me+"_png",e.officialSealImg.visible=!0,e.gradeNameImg.visible=!0,e.gradeBgImg.visible=!0,e.jieImg.visible=!0,e.pointOneImg.visible=!0,e.pointTwoImg.visible=!0,e.generationImg.visible=!0,e.me>0&&e.me<10?(e.gradeBgImg.source="official_json.grade_bg_1_png",e.jieImg.source="official_json.grade_jie_1_png",e.pointOneImg.source="official_json.grade_point_1_png",e.pointTwoImg.source="official_json.grade_point_1_png",e.generationImg.source="official_json.grade_title_1_png",hFO.instance.getNumberView(bRC.BN,e.me.toString(),-4,e.gradeView),e.gradeView.x=120):e.me>9&&e.me<19?(e.gradeBgImg.source="official_json.grade_bg_2_png",e.jieImg.source="official_json.grade_jie_2_png",e.pointOneImg.source="official_json.grade_point_2_png",e.pointTwoImg.source="official_json.grade_point_2_png",e.generationImg.source="official_json.grade_title_2_png",hFO.instance.getNumberView(bRC.XE,e.me.toString(),-4,e.gradeView),e.gradeView.x=80):e.me>18&&e.me<28?(e.gradeBgImg.source="official_json.grade_bg_3_png",e.jieImg.source="official_json.grade_jie_3_png",e.pointOneImg.source="official_json.grade_point_3_png",e.pointTwoImg.source="official_json.grade_point_3_png",e.generationImg.source="official_json.grade_title_3_png",hFO.instance.getNumberView(bRC.XD,e.me.toString(),-4,e.gradeView),e.gradeView.x=80):e.me>27&&e.me<37&&(e.gradeBgImg.source="official_json.grade_bg_4_png",e.jieImg.source="official_json.grade_jie_4_png",e.pointOneImg.source="official_json.grade_point_4_png",e.pointTwoImg.source="official_json.grade_point_4_png",e.generationImg.source="official_json.grade_title_4_png",hFO.instance.getNumberView(bRC.WV,e.me.toString(),-4,e.gradeView),e.gradeView.x=80),e.mk()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.helpBtn),t.helpBtn=null,GObj.$d(t.officialSealImg),t.officialSealImg=null,GObj.$d(t.dayUseTxt),t.dayUseTxt=null,GObj.$d(t.officialPowerBtn),t.officialPowerBtn=null,GObj.$d(t.salaryBtn),t.salaryBtn=null,GObj.$d(t.attackTxt),t.attackTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.progressTxt),t.progressTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.sq),t.sq=null,GObj.$d(t.kyl),t.kyl=null,GObj.$d(t.jieImg),t.jieImg=null,GObj.$d(t.pointOneImg),t.pointOneImg=null,GObj.$d(t.gradeNameImg),t.gradeNameImg=null,GObj.$d(t.pointTwoImg),t.pointTwoImg=null,GObj.$d(t.generationImg),t.generationImg=null,GObj.$d(t.gradeBgImg),t.gradeBgImg=null,GObj.$d(t.gradeView),t.gradeView=null,GObj.$d(t.valueDescTxt),t.valueDescTxt=null,GObj.$d(t.consumptionTxt),t.consumptionTxt=null,GObj.$d(t.smaicon1),t.smaicon1=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(OfficialSealView.prototype,"OfficialSealView");var OfflineRevenuePopUi=function(e){function t(){var t=e.call(this,"OfflineRevenuePopUi")||this;return t.ua=12e4,t.skinName=RRUU.$s("OfflineRevenuePopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("offline001"),e.offlineLab.text=fvg.GVf("offline004"),e.openTxt_1.text=fvg.GVf("offline14"),e.openTxt_2.text=fvg.GVf("offline14"),e.receiveBtn.label=fvg.GVf("offline005"),e.platinumTxt.text=fvg.GVf("offline15"),e.diamondTxt.text=fvg.GVf("offline16"),e.exp_1Lab.text=fvg.GVf("3"),e.gold_1Lab.text=fvg.GVf("465"),e.prac_1Lab.text=fvg.GVf("466"),e.boxLab.text=fvg.GVf("467"),e.equip_1Lab.text=fvg.GVf("smelting1"),e.smaicon.goodsTid=StaticData.TID_POINT_ID,e.useLab.textFlow=LgRe.OQ(fvg.GVf("raid5")),e.raidBtn.label=fvg.GVf("raid9"),e.goBtn.label=fvg.GVf("103"),e._itemArr=[],0==App.KF.offlineStatic&&(App.KF.offlineStatic=1),(1==App.KF.offlineStatic||e.timeStatic()&&2==App.KF.offlineStatic)&&NXr.IJ(0),e.offlinebtnGroup.visible=!1,e.raidBtnGroup.visible=!1},t.prototype.initData=function(){var e=this;e.by(),fNs.instance.execute(hXS.PH,hXS.RZ,e.receiveBtn)},t.prototype.initEvent=function(){var e=this;e.platinumBtn.addEventListener(eui.tep,e.__platinumBtnBtnClickHandler,e),e.diamondBtn.addEventListener(eui.tep,e.__diamondBtnBtnClickHandler,e),e.receiveBtn.addEventListener(eui.tep,e.uz,e),vkG.$a(UtJ.NB,e.by,e),vkG.$a(UtJ.IQ,e.zq,e),e.raidBtn.addEventListener(eui.tep,e.tf,e),e.goBtn.addEventListener(eui.tep,e.sa,e),vkG.$a(UtJ.AO,e.iu,e),vkG.$a(UtJ.IN,e.iu,e),vkG.$a(HUtJ.HEARTBEAT,e.__heartbeatHandler,e),vkG.$a(UtJ.YJ,e.va,e)},t.prototype.removeEvent=function(){var e=this;e.platinumBtn.removeEventListener(eui.tep,e.__platinumBtnBtnClickHandler,e),e.diamondBtn.removeEventListener(eui.tep,e.__diamondBtnBtnClickHandler,e),e.receiveBtn.removeEventListener(eui.tep,e.uz,e),e.raidBtn.removeEventListener(eui.tep,e.tf,e),e.goBtn.removeEventListener(eui.tep,e.sa,e),vkG.$r(UtJ.NB,e.by,e),vkG.$r(UtJ.IQ,e.zq,e),vkG.$r(UtJ.AO,e.iu,e),vkG.$r(UtJ.IN,e.iu,e),vkG.$r(HUtJ.HEARTBEAT,e.__heartbeatHandler,e),vkG.$r(UtJ.YJ,e.va,e),vkG.$r(UtJ.YJ,e.va,e)},t.prototype.va=function(){var e=this;e.platGroup.visible=!IoG.EZ(),e.diaGroup.visible=!IoG.EZ(),e.goBtn.visible=!IoG.EZ(),e.raidBtnGroup.visible=e.raidBtnGroup.visible&&!IoG.EZ()},t.prototype.nv=function(){var e=this;e.qq=App.XT.vipInfo.vipGrade;var t=App.BM.count,n=(50*Math.pow(2,t)).toString();parseInt(n)>1600&&(n="1600"),e.numLab.text=n,parseInt(n)>App.KF.point?e.numLab.textColor=Color.KA:e.numLab.textColor=Color.XB;var i=(XCA.CG(IDU.VO),XCA.CG(IDU.PO)),r=0,a=parseInt(i);r=a-App.BM.count;var o;if(e.qq>0){var s=App.XT.getPrivilegeByVipGradeAndType(e.qq,19);a+=s,r=a-App.BM.count}o=0==r?Color.KA:Color.TX,e.addLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("raid6",o,r,a))},t.prototype.timeStatic=function(){var e=this;return e.lo=App.NN.serverTime,e.lo-App.KF.offlineTime>=e.ua},t.prototype.tf=function(e){var t=this;fNs.instance.execute(hXS.PH,hXS.YL,t.frameGroup.returnBtn);var n=parseInt(t.numLab.text);if(App.KF.point<n){var i=fvg.GVf("offline17");return void Alert.WK(i,null,null,t.ox,t)}var r=XCA.CG(IDU.PO),a=0,o=parseInt(r),s=App.XT.getPrivilegeByVipGradeAndType(t.qq,19);o+=s,a=o-App.BM.count,0>=a&&MessageTipManager.instance.show(fvg.GVf("raid8")),RaidMsgProxy.GN(2)},t.prototype.ox=function(){var e=this;e.destory||GObj.$d(e),App.VS.open(10089)},t.prototype.sa=function(e){GObj.$d(this),App.VS.open(10088)},t.prototype.iu=function(){this.by()},t.prototype.zq=function(){this.by()},t.prototype.__platinumBtnBtnClickHandler=function(e){App.VS.open(10125),GObj.$d(this)},t.prototype.__diamondBtnBtnClickHandler=function(e){App.VS.open(10125,{tabType:2}),GObj.$d(this)},t.prototype.uz=function(e){NXr.IJ(1),App.KF.offlineStatic=2,fNs.instance.execute(hXS.PH,hXS.YL,this.frameGroup.returnBtn)},t.prototype.by=function(){var e=this;if(e.nr=App.BG.OffLineVo,e.CSo&&e.nr){1==App.KF.offlineStatic?(e.offlinebtnGroup.visible=!0,e.raidBtnGroup.visible=!1):(e.offlinebtnGroup.visible=!1,e.raidBtnGroup.visible=!0,e.nv()),e.qq=App.XT.vipInfo.vipGrade;var t=e.nr.ig||0;e.convertLab.visible=0!=t?!0:!1,e.convertLab.text=fvg.GVf("offline13",t),e.timeLbl.text=fvg.GVf("public096",e.nr.t1,e.nr.t2),App.DE.supremeCardVO.isWeek?(e.platinumBtn.bgImg.source="offline_json.offline_diamond_png",e.openTxt_1.visible=!1):(e.platinumBtn.bgImg.source="offline_json.offline_diamond_grey_png",e.openTxt_1.visible=!0),App.DE.supremeCardVO.isMonth?(e.diamondBtn.bgImg.source="offline_json.offline_platinum_png",e.openTxt_2.visible=!1):(e.diamondBtn.bgImg.source="offline_json.offline_platinum_grey_png",e.openTxt_2.visible=!0),e.qj(),e.va()}},t.prototype.qj=function(){var e=this;e._itemArr=[];for(var t,n=e.nr.gp||0,i=e.nr.gold||0,r=e.nr.box||0,a=e.nr.cul||0,o=e.nr.ic||0,s="100101401,"+i+"|100301401,"+n+"|111701401,"+a+"|500103566,"+r+"|200303300,"+o,p=Nkz.PI(s),l=p.length,c=0;l>c;c++)t=GObj.$c(GoodsItemView),t.data=p[c],t.x=50+83*c,t.y=345,e.addChild(t),e._itemArr.push(t)},t.prototype.__heartbeatHandler=function(){},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.PH,hXS.NW),t.removeEvent(),GObj.$d(t.offlineLab),t.offlineLab=null,GObj.$d(t._itemArr),t._itemArr=null,GObj.$d(t.exp_1Lab),t.exp_1Lab=null,GObj.$d(t.gold_1Lab),t.gold_1Lab=null,GObj.$d(t.prac_1Lab),t.prac_1Lab=null,GObj.$d(t.boxLab),t.boxLab=null,GObj.$d(t.equip_1Lab),t.equip_1Lab=null,GObj.$d(t.convertLab),t.convertLab=null,GObj.$d(t.platinumTxt),t.platinumTxt=null,GObj.$d(t.diamondTxt),t.diamondTxt=null,GObj.$d(t.timeLbl),t.timeLbl=null,GObj.$d(t.diaGroup),t.diaGroup=null,GObj.$d(t.platGroup),t.platGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(OfflineRevenuePopUi.prototype,"OfflineRevenuePopUi");var OneYuanBuyPopui=function(e){function t(){var t=e.call(this,"OneYuanBuyPopui")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardArr=[],e.descLabel.text=fvg.GVf("oneyuan01")},t.prototype.initData=function(){var e=this;e.af=App.MG.oneYuanBuy,e.af&&(e.ob(),e.zo())},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.pb,e),e.buyBtn.addEventListener(eui.tep,e.bz,e),vkG.$a(UtJ.AW,e.zo,e),vkG.$a(UtJ.PP,e.zo,e),vkG.$a(UtJ.LG,e.zo,e),vkG.$a(UtJ.MO,e.zo,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.pb,e),e.buyBtn.removeEventListener(eui.tep,e.bz,e),vkG.$r(UtJ.AW,e.zo,e),vkG.$r(UtJ.PP,e.zo,e),vkG.$r(UtJ.LG,e.zo,e),vkG.$r(UtJ.MO,e.zo,e)},t.prototype.ob=function(){var e=this;if(e.af.bagList&&e.af.bagList.length)for(var t,n,i=e.af.bagList[0],r=i.rewardList,a=r.length,o=0;a>o;o++)n=GObj.$c(nlwj),n.tid=r[o].tempId,n.count=r[o].count,t=GObj.$c(GoodsItemView),t.data=n,e.itemGroup.addChild(t),e.rewardArr.push(t)},t.prototype.bz=function(e){var t=this;if(t.af){if(!t.af.isExist)return void msgTip(fvg.GVf("public035"));var n=t.af.bagList[0];if(0===n.status){var i=n.conditionList[0].value;NXr.BP({total_fee:100*i,subject:4,param3:n.id})}else{if(2==n.status)return void msgTip(fvg.GVf("oneyuan02"));FunnyMsgProxy.LR(n.id)}}},t.prototype.zu=function(){var e=this,t=e.af.bagList[0];2==t.status?(e.getImg.visible=!0,e.buyBtn.visible=!1,e.buyBtn.label=fvg.GVf("oneyuan04")):1==t.status?(e.getImg.visible=!1,e.buyBtn.label=fvg.GVf("104")):(e.getImg.visible=!1,e.buyBtn.label=fvg.GVf("oneyuan05")),e.getImg&&(e.descLabel.visible=!e.getImg.visible)},t.prototype.zo=function(){var e=this;e.zu(),e.qg()},t.prototype.qg=function(){this.buyBtn.icon=UsU.LD()?StaticData.GHj:null},t.prototype.zx=function(){GObj.$d(this)},t.prototype.pb=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.descLabel),t.descLabel=null,GObj.$d(t.rewardArr),t.rewardArr=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(OneYuanBuyPopui.prototype,"OneYuanBuyPopui");var DiscountBagItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("DiscountBagItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ml,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ml,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.yf=e.data,e.discImg.source="packs_json.packs_disc_"+e.yf.discount+"_png",e.yf.haveGet>=e.yf.needGet?(e.condTxt.text="",e.yf.selected?e.stateImg.source="packs_json.packs_disc_sel_png":e.stateImg.source=null):(e.condTxt.text=fvg.GVf("funny7",e.yf.needGet),e.stateImg.source="packs_json.packs_disc_unsel_png"))},t.prototype.ml=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.discImg),t.discImg=null,GObj.$d(t.condTxt),t.condTxt=null,GObj.$d(t.stateImg),t.stateImg=null,t.yf=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(DiscountBagItem.prototype,"DiscountBagItem");var DiscountBagView=function(e){function t(){var t=e.call(this,"DiscountBagView")||this,n=RRUU.$s("DiscountBagViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buyBtn.label=fvg.GVf("shop6"),e.originalPriceLab.text=fvg.GVf("funny45"),e.presentPriceLab.text=fvg.GVf("funny46"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.ik,e),vkG.$a(UtJ.PP,e.mv,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.ik,e),vkG.$r(UtJ.PP,e.mv,e),vkG.$r(UtJ.HD,e.yk,e)},t.prototype.initData=function(){var e=this;e.ok_h=e.fv},t.prototype.mv=function(e){var t=this;t.gm&&(t.updateDiscount(!1),t.updateHaveGet())},t.prototype.ik=function(e){var t=this;if(t.ok_h&&t.gm){var n=parseInt(t.currPriceTxt.text)||0;return App.KF.point<n?void MessageTipManager.instance.show(fvg.GVf("public017")):t.gm.haveGet>=t.gm.totalGet?void MessageTipManager.instance.show(fvg.GVf("34")):void FunnyMsgProxy.LR(t.gm.id)}},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.fv},set:function(e){var t=this;t.fv=e,t.refreshView()},enumerable:!0,configurable:!0}),t.prototype.refreshView=function(){var e=this;e.CSo&&e.fv&&(e.gm=e.fv.bagList[0],e.gm&&(e.contentView.icon=kLM.AE(e.fv.type),e.nameTxt.text=e.fv.describe,e.updateReward(),e.updateDiscount(!0),e.updateHaveGet(),e.updateLastTime()))},t.prototype.updateReward=function(){var e=this;e.rewardData.source.splice(0,e.rewardData.source.length);for(var t,n=e.gm.rewardList,i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tempId,t.count=n[i].count,e.rewardData.source.push(t);e.rewardData.refresh()},t.prototype.updateDiscount=function(e){var t=this;if(!t.discData||e){t.discData?t.discData.source.splice(0,t.discData.length):(t.discData=GObj.$c(eui.ArrayCollection),t.discGroup.dataProvider=t.discData,t.discGroup.itemRenderer=DiscountBagItem),t.discData.source.push(null);for(var n=t.fv.bagList.length,i=void 0,r=void 0,a=void 0,o=0;n>o;o++)i=t.fv.bagList[o],i&&i.conditionList[0]&&(r=i.conditionList[0],a={},a.discount=r.value,a.needGet=r.p1,t.discData.source.push(a));n=t.discData.length;var s=(t.discGroup.width-60*n)/(n-1),p=t.discGroup.layout;p.gap=s}for(var l,c,u=t.discData.length,o=0;u>o;o++)c=t.discData.source[o],c&&(c.selected=!1,c.haveGet=t.gm.haveGet,c.haveGet>=c.needGet&&(l=c));l&&(l.selected=!0),t.discData.refresh(),t.updateProgBar(l)},t.prototype.updateProgBar=function(e){var t=this,n=int(100/(t.discData.length-1));if(e){var i=t.discData.source.indexOf(e);if(i+1>=t.discData.length)return void(t.progBar.value=100);var r=t.discData.source[i+1],a=(e.haveGet-e.needGet)/(r.needGet-e.needGet)*n;t.progBar.value=int(i*n+a)}else e=t.discData.source[1],t.progBar.value=int(e.haveGet/e.needGet*n)},t.prototype.updateHaveGet=function(){var e=this;e.haveGetTxt.textFlow=LgRe.OQ(fvg.GVf("funny5",e.gm.haveGet,e.gm.totalGet)),e.vipGetTxt.textFlow=LgRe.OQ(fvg.GVf("funny6",e.gm.haveFinish,e.gm.totalFinish));for(var t,n,i=e.fv.bagList.length,r=0;i>r;r++)t=e.fv.bagList[r],t&&t.conditionList[0]&&e.gm.haveGet>=t.conditionList[0].p1&&(n=t.conditionList[0]);n?(e.prePriceTxt.text=toChars(n.p2),e.currPriceTxt.text=toChars(n.p3)):(n=e.gm.conditionList[0],e.prePriceTxt.text=toChars(n.p2),e.currPriceTxt.text=toChars(n.p2))},t.prototype.updateLastTime=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.yk,e):vkG.$r(UtJ.HD,e.yk,e),e.yk()},t.prototype.yk=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("packs4",kpd.YW(t)),e.timeTxt.textColor=Color.SQ):(vkG.$r(UtJ.HD,e.yk,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.fv=null,t.gm=null,t.rewardData=null,t.discData=null,GObj.$d(t.contentView),t.contentView=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.haveGetTxt),t.haveGetTxt=null,GObj.$d(t.vipGetTxt),t.vipGetTxt=null,GObj.$d(t.prePriceTxt),t.prePriceTxt=null,GObj.$d(t.currPriceTxt),t.currPriceTxt=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.originalPriceLab),t.originalPriceLab=null,GObj.$d(t.presentPriceLab),t.presentPriceLab=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.discGroup&&(t.discGroup.dataProvider=null,GObj.$d(t.discGroup)),t.discGroup=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(DiscountBagView.prototype,"DiscountBagView");var PacksBagItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PacksBagItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("shop6"),e.originalPriceLab.text=fvg.GVf("funny45"),e.presentPriceLab.text=fvg.GVf("funny46"),e.rewardData=GObj.$c(eui.ArrayCollection),e.dataGroup.itemRenderer=GoodsItemRenderer,e.dataGroup.dataProvider=e.rewardData},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ad,e),e.getBtn.addEventListener(eui.tep,e.wg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ad,e),e.getBtn.removeEventListener(eui.tep,e.wg,e),vkG.$r(UtJ.HD,e.eg,e)},t.prototype.wg=function(e){var t=this;if(t.ec&&t.dj){var n=parseInt(t.currPriceTxt.text)||0;return App.KF.point<n?void MessageTipManager.instance.show(fvg.GVf("public017")):t.dj.haveGet>=t.dj.totalGet?void MessageTipManager.instance.show(fvg.GVf("34")):void FunnyMsgProxy.LR(t.dj.id)}},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.ec=e.data,0!=e.ec.bagList.length)){e.dj=e.ec.bagList[0],e.titleTxt.text=e.ec.describe;var t=e.dj.conditionList[0];t&&(e.prePriceTxt.text=toChars(t.p1),e.currPriceTxt.text=toChars(t.p2),e.discImg.visible=t.p3>0,t.p3>0&&(e.discImg.source="packs_json.packs_disc_"+t.p3+"_png")),10004==e.ec.type?e.descTxt.text=fvg.GVf("packs2",e.dj.haveFinish):10005==e.ec.type&&(e.descTxt.text=fvg.GVf("packs3",e.dj.haveFinish));var n=e.dj.totalGet-e.dj.haveGet>0?Color.TX:Color.KA;e.haveGetTxt.textFlow=LgRe.OQ(fvg.GVf("packs9",n,e.dj.totalGet-e.dj.haveGet,e.dj.totalGet)),e.updateReward(),e.updateLastTime()}},t.prototype.updateReward=function(){var e=this;e.rewardData.source.splice(0,e.rewardData.source.length);for(var t,n=e.dj.rewardList,i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tempId,t.count=n[i].count,e.rewardData.source.push(t);e.rewardData.refresh()},t.prototype.updateLastTime=function(){var e=this,t=e.ec.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.eg,e):vkG.$r(UtJ.HD,e.eg,e),e.eg()},t.prototype.eg=function(){var e=this,t=e.ec.showEnd-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("packs4",kpd.YW(t)),e.timeTxt.textColor=Color.SQ):(vkG.$r(UtJ.HD,e.eg,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.ad=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup)),t.dataGroup=null,t.rewardData=null,t.dj=null,t.ec=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.prePriceTxt),t.prePriceTxt=null,GObj.$d(t.currPriceTxt),t.currPriceTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.haveGetTxt),t.haveGetTxt=null,GObj.$d(t.discImg),t.discImg=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.originalPriceLab),t.originalPriceLab=null,GObj.$d(t.presentPriceLab),t.presentPriceLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PacksBagItem.prototype,"PacksBagItem");var PacksBagView=function(e){function t(){var t=e.call(this,"PacksBagView")||this,n=RRUU.$s("PacksBagViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bagDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.itemRenderer=PacksBagItem,e.itemGroup.dataProvider=e.bagDatas},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.bi,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.bi,e)},t.prototype.initData=function(){var e=this;e.ok_h=e.rx},t.prototype.bi=function(e){this.refreshView(!1)},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.rx},set:function(e){var t=this;t.rx=e,t.refreshView(!0)},enumerable:!0,configurable:!0}),t.prototype.refreshView=function(e){var t=this;t.CSo&&t.rx&&(t.contentView.icon=kLM.AE(t.rx),t.updateBagItem(e))},t.prototype.updateBagItem=function(e){var t,n=this;switch(n.rx){case 10004:t=App.MG.timeGiftList;break;case 10005:t=App.MG.limitGiftList}t||(t=[]);for(var i,r=t.length,a=[],o=0;r>o;o++)i=t[o],i.isExist&&a.push(t[o]);n.bagDatas.replaceAll(a),e&&(n.scroller.stopAnimation(),n.bagDatas.refresh())},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.bagDatas=null,t.rx=null,GObj.$d(t.contentView),t.contentView=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PacksBagView.prototype,"PacksBagView");var PacksFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.wz=-1,n.skinName=RRUU.$s(t),ziI.PC(),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.itemRenderer=PacksTopBtn,e.itemGroup.dataProvider=e.itemDatas},t.prototype.initData=function(){e.prototype.initData.call(this),this.dh(),FunnyMsgProxy._P([10004,10005])},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.itemGroup.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.__selectedHandler,t),vkG.$a(UtJ.AW,t.an,t),vkG.$a(UtJ.CR,t.an,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.itemGroup.removeEventListener(eui.ItemTapEvent.ITEM_TAP,t.__selectedHandler,t),vkG.$r(UtJ.AW,t.an,t),vkG.$r(UtJ.CR,t.an,t)},t.prototype.dh=function(){var e=this;e.itemDatas.source.splice(0,e.itemDatas.source.length),App.MG.hasTimeGift&&e.itemDatas.source.push(10004),App.MG.hasLimitGift&&e.itemDatas.source.push(10005);for(var t,n=App.MG.packstList.length,i=0;n>i;i++)t=App.MG.packstList[i],t.isExist&&e.itemDatas.source.push(t);e.itemDatas.length>0?(e.itemGroup.selectedIndex=0,e.__selectedHandler(null)):App.VS.close(KqZ.YP)},t.prototype.an=function(){this.dh()},t.prototype.__selectedHandler=function(e){var t=this,n=t.itemGroup.selectedItem;n&&(t.ob&&(t.ob.visible=!1),t.ob=null,"number"==typeof n?(t.iq||(t.iq=GObj.$c(PacksBagView),t.iq.x=25,t.iq.y=62,t.addChild(t.iq)),t.iq.ok_h=n,t.ob=t.iq):App.MG.isDiscount(n.type)?(t.ku||(t.ku=GObj.$c(DiscountBagView),t.ku.x=24,t.ku.y=62,t.addChild(t.ku)),t.ku.ok_h=n,t.ob=t.ku):App.MG.isStage(n.type)?(t.tt||(t.tt=GObj.$c(StageBagView),t.tt.x=24,t.tt.y=62,t.addChild(t.tt)),t.tt.ok_h=n,t.ob=t.tt):App.MG.isVipGrade(n.type)&&(t.vk||(t.vk=GObj.$c(SvipGradeView),t.vk.x=25,t.vk.y=62,t.addChild(t.vk)),t.vk.ok_h=n,t.ob=t.vk),t.ob&&(t.ob.visible=!0),t.ny())},t.prototype.ny=function(){var e=this.itemGroup;if(e){var t=e.$children;for(var n in t){var i=t[n];i.dispatchEvent(new egret.Event(egret.Event.CHANGE))}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iq),t.iq=null,GObj.$d(t.ku),t.ku=null,GObj.$d(t.tt),t.tt=null,GObj.$d(t.vk),t.vk=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,t.ob=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(PacksFrame.prototype,"PacksFrame");var PacksTopBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PacksTopBtnSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.redPoint.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.uye,e),e.addEventListener(eui.tep,e.ou,e),e.addEventListener(egret.Event.CHANGE,e.ou,e),vkG.$a(UtJ.PP,e.bp,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.uye,e),e.removeEventListener(eui.tep,e.ou,e),e.removeEventListener(egret.Event.CHANGE,e.ou,e),vkG.$r(UtJ.PP,e.bp,e)},t.prototype.ou=function(){this.once(egret.Event.ENTER_FRAME,this.dataChanged,this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){this.sm()},t.prototype.bp=function(e){this.sm()},t.prototype.sm=function(){var e=this;if(e.CSo&&e.data){e.te=e.data,"number"==typeof e.te?(e.db=kLM.OQ(e.te),e.qs=kLM.HT(e.te)):(e.db=kLM.OQ(e.te.type),e.qs=kLM.HT(e.te.type),e.redPoint.visible=e.te.hasReceiveBag);var t=e.currentState;"upAndSelected"===t||"downAndSelected"===t?e.ot=e.db:"up"===t||"down"===t?e.ot=e.qs:e.ot=e.qs,e.seleletDisplay.source="",e.seleletDisplay.source=e.ot}},t.prototype.uye=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.seleletDisplay),t.seleletDisplay=null,GObj.$d(t.redPoint),t.redPoint=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PacksTopBtn.prototype,"PacksTopBtn");var StageBagBoxPopUi=function(e){function t(){var t=e.call(this,"GoalBoxFrame")||this,n=RRUU.$s("StageBagBoxPopUiSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goodsData=GObj.$c(eui.ArrayCollection),e.goodsGroup.dataProvider=e.goodsData,e.goodsGroup.itemRenderer=GoodsItemRenderer,e.descLab.text=fvg.GVf("funny48"),e.title=fvg.GVf("107")},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;if(e.CSo&&e.pb){for(var t,n=0;n<e.pb.length;n++)t=GObj.$c(nlwj),t.tid=e.pb[n].tempId,t.count=e.pb[n].count,e.goodsData.source.push(t);e.goodsData.refresh()}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.pb=e[0],n.initData())},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,t.goodsGroup&&(t.goodsGroup.dataProvider=null,GObj.$d(t.goodsGroup)),t.goodsGroup=null,t.goodsData=null,t.pb=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(StageBagBoxPopUi.prototype,"StageBagBoxPopUi");var StageBagItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("StageBagItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wc,e),e.boxBtn.addEventListener(eui.tep,e.hi,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wc,e),e.boxBtn.removeEventListener(eui.tep,e.hi,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.rv=e.data,e.rv.haveGet>=e.rv.needGet?(e.boxBtn.backImg.source="core_json.award_box_png",e.needGetTxt.text="",e.arrowImg.visible=!1,e.receivedImg.visible=!0):(e.boxBtn.backImg.source="core_json.award_box_grey_png",e.needGetTxt.text=e.rv.needGet,e.arrowImg.visible=!0,e.receivedImg.visible=!1))},t.prototype.wc=function(e){this.dispose()},t.prototype.hi=function(e){var t=this;t.rv&&t.rv.bagData&&App.VS.popup(KqZ.YP,StageBagBoxPopUi,null,t.rv.bagData.rewardList)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.needGetTxt),t.needGetTxt=null,GObj.$d(t.receivedImg),t.receivedImg=null,GObj.$d(t.arrowImg),t.arrowImg=null,t.rv=null,t.data=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StageBagItem.prototype,"StageBagItem");var StageBagView=function(e){function t(){var t=e.call(this,"StageBagView")||this,n=RRUU.$s("StageBagViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.hu=GObj.$c(nlwj),e.buyOneBtn.label=fvg.GVf("funny9",1),e.buyMultiBtn.label=fvg.GVf("funny9",20),e.fightView=GObj.$c(FightView),e.fightView.x=103,e.fightView.y=350,e.addChild(e.fightView)
},t.prototype.initEvent=function(){var e=this;e.buyOneBtn.addEventListener(eui.tep,e.hh,e),e.buyMultiBtn.addEventListener(eui.tep,e.zv,e),vkG.$a(UtJ.PP,e.nh,e)},t.prototype.removeEvent=function(){var e=this;e.buyOneBtn.removeEventListener(eui.tep,e.hh,e),e.buyMultiBtn.removeEventListener(eui.tep,e.zv,e),vkG.$r(UtJ.PP,e.nh,e),vkG.$r(UtJ.HD,e.fo,e)},t.prototype.initData=function(){var e=this;e.ok_h=e.ltl},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.ltl},set:function(e){var t=this;t.ltl=e,t.ku()},enumerable:!0,configurable:!0}),t.prototype.ku=function(){var e=this;if(e.CSo&&e.ltl&&(e.wc=e.ltl.bagList[0],e.wc)){var t=e.wc.conditionList[0];if(t){e.onePriceTxt.text=toChars(t.p1),e.multiPriceTxt.text=toChars(20*(t.p1||0));var n=XCA.FR(t.p3||0);e.descTxt.text=fvg.GVf("funny8",t.p2,n?n.name:"")}e.updateBigReward(),e.updateStageReward(!0),e.updateLastTime()}},t.prototype.updateBigReward=function(){var e=this,t=e.ltl.bagList[e.ltl.bagList.length-1],n=t.rewardList;e.hu.tid=0,e.hu.count=0;for(var i=0;i<n.length;i++)e.hu.tid=n[i].tempId,e.hu.count=n[i].count;var r=e.hu.TSF;if(r){var a;if(10012==e.ltl.type){e.zu&&(e.zu.stop(),e.zu.visible=!1),e.descImg.source="packs_json.packs_stage_t1_png",a=XCA.AQS.UFA(24,r.p1,1),e.fightView.fightNum=a?a.maxcap:0,e.nameIcon.icon=a?kLM.SB(gLw.getIconIdByTid(a.tid)):"",e.lp||(e.lp=GObj.$c(FigureView),e.lp.x=240,e.lp.y=285,e.addChildAt(e.lp,1));var o=App.KF.sex||2,s=GConfig.AVATAR_DEFAULT;a&&usable(a.p5)&&(s=a.p5),FigureHelps.NW(e.lp,{b:s,s:o},!1),e.lp.visible=!0}else e.lp&&(e.lp.visible=!1),e.descImg.source="packs_json.packs_stage_t2_png",a=XCA.AQS.UFA(2,r.p1,1),e.fightView.fightNum=a.maxcap||0,e.nameIcon.icon=a?kLM.RU(gLw.getIconIdByTid(a.tid)):"",e.zu||(e.zu=App.KB.getUIEffect(gYq.YF),e.zu.horizontalAlign=egret.HorizontalAlign.CENTER,e.zu.verticalAlign=egret.VerticalAlign.MIDDLE,e.zu.x=240,e.zu.y=190,e.addChildAt(e.zu,1)),e.zu.play(),e.zu.visible=!0}},t.prototype.updateStageReward=function(e){void 0===e&&(e=!1);var t=this;if(!t.stageData||e){t.stageData?t.stageData.source.length=0:(t.stageData=GObj.$c(eui.ArrayCollection),t.stageGroup.dataProvider=t.stageData,t.stageGroup.itemRenderer=StageBagItem),t.stageData.source.length=0;for(var n=t.ltl.bagList.length,i=void 0,r=void 0,a=void 0,o=0;n>o;o++)i=t.ltl.bagList[o],i&&i.conditionList[0]&&(r=i.conditionList[0],a={},a.needGet=r.value,a.bagData=i,t.stageData.source.push(a));n=t.stageData.length;var s=(t.stageGroup.width-71*n)/(n-1),p=t.stageGroup.layout;p.gap=s}for(var l,c,u=t.stageData.length,o=0;u>o;o++)c=t.stageData.source[o],c&&(c.haveGet=t.wc.haveGet,c.haveGet>=c.needGet&&(l=c));t.stageData.refresh(),t.haveGetTxt.text=fvg.GVf("public022",t.wc.haveGet,t.wc.totalGet),t.updateProgBar(l)},t.prototype.updateProgBar=function(e){var t=this,n=int(100/(t.stageData.length-1));if(e){var i=t.stageData.source.indexOf(e);if(i+1>=t.stageData.length)return void(t.progBar.value=100);var r=t.stageData.source[i+1],a=(e.haveGet-e.needGet)/(r.needGet-e.needGet)*n;t.progBar.value=int(i*n+a)}else e=t.stageData.source[1],t.progBar.value=int(e.haveGet/e.needGet*n)},t.prototype.updateLastTime=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.fo,e):vkG.$r(UtJ.HD,e.fo,e),e.fo()},t.prototype.fo=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(vkG.$r(UtJ.HD,e.fo,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.nh=function(e){var t=this;t.ltl&&t.wc&&t.updateStageReward()},t.prototype.hh=function(e){var t=this;if(t.ok_h&&t.wc){var n=parseInt(t.onePriceTxt.text)||0;return App.KF.point<n?void MessageTipManager.instance.show(fvg.GVf("public017")):t.wc.haveGet>=t.wc.totalGet?void MessageTipManager.instance.show(fvg.GVf("packs11")):void FunnyMsgProxy.LR(t.wc.id,1)}},t.prototype.zv=function(e){var t=this;if(t.ok_h&&t.wc){var n=parseInt(t.multiPriceTxt.text)||0;return App.KF.point<n?void MessageTipManager.instance.show(fvg.GVf("public017")):t.wc.haveGet>=t.wc.totalGet?void MessageTipManager.instance.show(fvg.GVf("packs11")):void FunnyMsgProxy.LR(t.wc.id,20)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.buyOneBtn),t.buyOneBtn=null,GObj.$d(t.buyMultiBtn),t.buyMultiBtn=null,GObj.$d(t.onePriceTxt),t.onePriceTxt=null,GObj.$d(t.multiPriceTxt),t.multiPriceTxt=null,GObj.$d(t.haveGetTxt),t.haveGetTxt=null,GObj.$d(t.nameIcon),t.nameIcon=null,GObj.$d(t.lp),t.lp=null,GObj.$d(t.zu),t.zu=null,GObj.$d(t.fightView),t.fightView=null,t.stageGroup&&(t.stageGroup.dataProvider=null,GObj.$d(t.stageGroup)),t.stageGroup=null,t.ltl=null,t.wc=null,t.hu=null,t.stageData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(StageBagView.prototype,"StageBagView");var SvipGradeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SvipGradeItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buyBtn.label=fvg.GVf("shop6"),e.titleTxt.text=fvg.GVf("packs6"),e.descLab.text=fvg.GVf("packs7"),e.openLab.text=fvg.GVf("packs8"),e.ng=[],e.vipGradeView=GObj.$c(NumberView),e.vipGradeView.x=268,e.vipGradeView.y=26,e.addChild(e.vipGradeView),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rh,e),e.buyBtn.addEventListener(eui.tep,e.xc,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rh,e),e.buyBtn.removeEventListener(eui.tep,e.xc,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.fw=e.data;var t=e.fw.conditionList?e.fw.conditionList[0]:null;t&&(e.ql=t.p1,e.er=t.p2,e.discImg.source="packs_json.packs_disc_"+t.p3+"_png",e.priceTxt.text=toChars(e.er),e.lastTxt.text=fvg.GVf("packs1",e.fw.haveGet,e.fw.totalGet),e.lastTxt.visible=e.fw.totalGet>1),hFO.instance.getNumberView(bRC.MI,toChars(e.ql),-4,e.vipGradeView),e.openLab.x=e.vipGradeView.x+e.vipGradeView.width,e.buyBtn.visible=2!=e.fw.status,e.buyedImg.visible=!e.buyBtn.visible,e.updateReward()}},t.prototype.updateReward=function(){var e=this;e.rewardData.source.splice(0,e.rewardData.source.length);for(var t,n=e.fw.rewardList,i=0;i<n.length;i++)e.ng[i]||(e.ng[i]=GObj.$c(nlwj)),t=e.ng[i],t.tid=n[i].tempId,t.count=n[i].count,e.rewardData.source.push(t);e.rewardData.refresh()},t.prototype.xc=function(e){var t=this;if(t.fw&&!(t.er<=0))return App.XT.vipGrade<t.ql?void App.TT.show(fvg.GVf("sb5",t.ql)):App.KF.point<t.er?void _JDW.TR(StaticData.TID_POINT_ID):t.fw.haveGet>=t.fw.totalGet?void MessageTipManager.instance.show(fvg.GVf("34")):void FunnyMsgProxy.LR(t.fw.id)},t.prototype.rh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.discImg),t.discImg=null,GObj.$d(t.openLab),t.openLab=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.lastTxt),t.lastTxt=null,GObj.$d(t.goldImg),t.goldImg=null,GObj.$d(t.buyedImg),t.buyedImg=null,GObj.$d(t.vipGradeView),t.vipGradeView=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.descLab),t.descLab=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.fw=null,t.ng=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SvipGradeItem.prototype,"SvipGradeItem");var SvipGradeView=function(e){function t(){var t=e.call(this,"SvipGradeView")||this;return t.skinName=RRUU.$s("SvipGradeViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipupBtn.label=fvg.GVf("packs5"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=SvipGradeItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.jc,e),e.vipupBtn.addEventListener(eui.tep,e.hr,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.jc,e),vkG.$r(UtJ.HD,e.qd,e),e.vipupBtn.removeEventListener(eui.tep,e.hr,e)},t.prototype.initData=function(){var e=this;e.ok_h=e.kz},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.kz},set:function(e){var t=this;t.kz=e,t._v()},enumerable:!0,configurable:!0}),t.prototype._v=function(){var e=this;e.CSo&&e.kz&&(e.vipupBtn.visible=App.XT.vipGrade<MaxLevel.SVIP_MAX_LEVEL,e.contentView.icon=kLM.AE(e.kz.type),e.qx(),e.updateLastTime())},t.prototype.qx=function(){for(var e=this,t=[],n=e.kz.bagList,i=0;i<n.length;i++)t.push(n[i]);e.itemData.replaceAll(t)},t.prototype.updateLastTime=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.qd,e):vkG.$r(UtJ.HD,e.qd,e),e.qd()},t.prototype.qd=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(vkG.$r(UtJ.HD,e.qd,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.jc=function(e){var t=this;t.kz&&e&&e.indexOf(t.kz.id)>=0&&t.qx()},t.prototype.hr=function(e){App.VS.open(10088)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.vipupBtn),t.vipupBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.kz=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SvipGradeView.prototype,"SvipGradeView");var PetItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PetItemView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ye,e),vkG.$a(UtJ.JA,e.lh,e),vkG.$a(UtJ.DV,e.bc,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ye,e),vkG.$r(UtJ.JA,e.lh,e),vkG.$r(UtJ.DV,e.bc,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.vk=e.data,e.xt())},t.prototype.xt=function(){var e=this;if(e.vk){var t=App.JO.getPetUse(),n=gLw.IQ(e.vk.tid);e.useImg.visible=t==n;var i=App.JO.getPetStarByType(n);e.maskImg.visible=0>=i,e.gradeImg.visible=e.starImg.visible=e.gradeLab.visible=i>0,e.gradeLab.text=n>100?i+"":"",e.starImg.visible=n>100&&i>0,e.iconView.icon=kLM.EIQ(gLw.getIconIdByTid(e.vk.tid)),e.quaImg.source="core_json.quality_"+e.vk.qua+"_png",e.stepLab.text=i>0&&100>=n?fvg.GVf("pet06",n):"",e.bc()}},t.prototype.lh=function(){this.xt()},t.prototype.bc=function(){var e=this;if(e.vk){var t=gLw.IQ(e.vk.tid),n=App.JO.getPetStarByType(t);if(t>100&&n<e.vk.maxgrade){var i=parseInt(e.vk.cost),r=App.FK.hsx(i);e.redImg.visible=r>0}else e.redImg.visible=!1}},t.prototype.ye=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.useImg),t.useImg=null,GObj.$d(t.gradeImg),t.gradeImg=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.stepLab),t.stepLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PetItemView.prototype,"PetItemView");var PetView=function(e){function t(){var t=e.call(this,"PetView")||this;return t.b_=!1,t.pt=!1,t.skinName=RRUU.$s("PetView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.skinData=GObj.$c(eui.ArrayCollection),e.skinList.dataProvider=e.skinData,e.skinList.itemRenderer=PetItemView,e.titleLab.text=fvg.GVf("pet01"),e.qy=GObj.$c(GeneralStarView),e.qy.maxStar=10,e.qy.open_star_key=kLM.NZ(),e.qy.close_star_key=kLM.ZH(),e.qy.star_width=23,e.qy.gap=10,e.qy.x=86,e.qy.y=600,e.addChild(e.qy),e.rl=GObj.$c(FigureView),e.rl.x=250,e.rl.y=300,e.addChildAt(e.rl,3)},t.prototype.initData=function(){var e=this;e.kx(),e.skinList.selectedIndex=0,e.vkk()},t.prototype.initEvent=function(){var e=this;e.skinList.addEventListener(egret.TouchEvent.CHANGE,e.vkk,e),e.upstarBtn.addEventListener(eui.tep,e.ar,e),e.showBtn.addEventListener(eui.tep,e.qs,e),e.useBtn.addEventListener(eui.tep,e.zf,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.gx,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xz,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.sw,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.nd,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e._m,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.oo,e),vkG.$a(UtJ.DV,e.xb,e),vkG.$a(UtJ.JA,e.rw,e)},t.prototype.removeEvent=function(){var e=this;e.skinList.removeEventListener(egret.TouchEvent.CHANGE,e.vkk,e),e.upstarBtn.removeEventListener(eui.tep,e.ar,e),e.showBtn.removeEventListener(eui.tep,e.qs,e),e.useBtn.removeEventListener(eui.tep,e.zf,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.gx,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xz,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.sw,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.nd,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e._m,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.oo,e),vkG.$r(UtJ.DV,e.xb,e),vkG.$r(UtJ.JA,e.rw,e)},t.prototype.kx=function(){var e=this;e.skinData.source.length=0;var t,n,i=[],r=XCA.AQS.oVs(88);for(var a in r){var o=r[a][1],s=parseInt(a);100>s||(t=App.JO.getPetStarByType(s),n=App.FK.hsx(o.cost),o.hide>=0&&0>=t&&0>=n||i.push(o))}e.skinData.replaceAll(i)},t.prototype.vkk=function(){var e=this;e.vr=e.skinList.selectedItem,e.gl()},t.prototype.rw=function(){this.gl()},t.prototype.gl=function(){var e=this;if(e.vr){var t=XCA.YV(e.vr.attrid);e.ht=gLw.IQ(e.vr.tid);var n=App.JO.getPetStarByType(e.ht);e.upstarBtn.label=0>=n?fvg.GVf("public012"):fvg.GVf("public098"),e.fightView.fightNum=App.JO.getPetStarCap(e.ht)||t.p1;var i=FigureHelps.TS(88,e.ht,1);FigureHelps.NW(e.rl,i.part,!1),e.nameLab.text=e.vr.name;var r=App.JO.getPetUse();e.useBtn.visible=0>=n||r==e.ht?!1:!0,e.qy.visible=e.ht<100||0>=n?!1:!0,e.qy.currStar=n,e.validateNow(),e.showBtn.visible=n>0;var a=gLw.GM(e.vr.tid);e.nameBg.source="core_json.name_bg_"+e.vr.qua+"_png",e.quaBg.source=e.ht<=100?"immortall_json.immortall_ben_png":"immortall_json.immortall_"+a+"_png",e.nameIcon.icon=kLM.EIQ("n_"+e.ht),e.ht<=100?(e.upgradeGroup.visible=!1,e.descLab.visible=!0,0>=n?(e.descLab.text=fvg.GVf("pet04",e.ht),e.descLab.textColor=Color.KA):(e.descLab.text=fvg.GVf("public009"),e.descLab.textColor=Color.SQ)):(e.descLab.visible=!1,e.upgradeGroup.visible=n>=e.vr.maxgrade?!1:!0),e.eg(),e.xb()}},t.prototype.eg=function(){var e=this;if(e.vr){var t=App.JO.getPetStarByType(e.ht),n=e.vr.attrid;0>=t?(e.currAttrLab.text=fvg.GVf("public010"),e.currAttrLab.textColor=Color.KA):(e.currAttrLab.textColor=Color.SE,e.currAttrLab.textFlow=LgRe.OQ(LRJ.KG(n,void 0,void 0,void 0,t))),t>=e.vr.maxgrade?e.nextAttrLab.text=fvg.GVf("public100"):e.nextAttrLab.textFlow=LgRe.OQ(LRJ.KG(n,void 0,void 0,void 0,t+1))}},t.prototype.xb=function(){var e=this;if(e.vr){var t=parseInt(e.vr.cost),n=GObj.$c(nlwj);n.tid=t,e.costItem.data=n;var i=App.FK.hsx(t);e.costItem.bottomText=fvg.GVf("public022",i,1),e.costItem.bottomColor=i>0?Color.TX:Color.KA,e.upstarBtn.icon=i>0?StaticData.GHj:null}},t.prototype.ar=function(){var e=this;if(e.vr){var t=App.JO.getPetStarByType(e.ht);if(t>=e.vr.maxgrade)return msgTip(fvg.GVf("public100"));var n=parseInt(e.vr.cost),i=App.FK.hsx(n);return 0>=i?void _JDW.TR(n):void SkillMsgProxy.LR(e.ht)}},t.prototype.qs=function(){var e=this;if(e.vr){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));var t=App.FQ.horn||0,n=App.XT.vipInfo.vipGrade||0;if(0>=t&&2>n)return void _JDW.TR(StaticData.TID_HORN_ID);var i=App.FQ.islt+(6>n?App.FQ.send_cd:10);return App.FQ.islt&&i>App.NN.serverSecond?void(6>n?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11"))):void Alert.WK(fvg.GVf("chat12",e.vr.name),void 0,void 0,e.vq,e)}},t.prototype.vq=function(){var e=this,t=GObj.$c(ChatItemData);t.mt=88,t.st=e.ht,t.gr=App.JO.getPetStarByType(e.ht),t.cap=App.JO.getPetStarCap(e.ht)||0,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))},t.prototype.zf=function(){var e=this,t=App.JO.getPetUse();return t==e.ht?msgTip(fvg.GVf("pet02")):void SkillMsgProxy.MU(e.ht)},t.prototype.gx=function(){var e=this;if(e.b_){var t=e.scroller;if(t.viewport.scrollH<=0)return e.b_=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.xz=function(e){this.b_=!0},t.prototype.sw=function(e){this.b_=!1},t.prototype.nd=function(){var e=this;if(e.pt){var t=e.scroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.pt=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype._m=function(e){this.pt=!0},t.prototype.oo=function(e){this.pt=!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.costItem),t.costItem=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.qy),t.qy=null,GObj.$d(t.rl),t.rl=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,GObj.$d(t.needLab),t.needLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.nameBg),t.nameBg=null,GObj.$d(t.quaBg),t.quaBg=null,GObj.$d(t.nameIcon),t.nameIcon=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.skinList&&(t.skinList.dataProvider=null,GObj.$d(t.skinList)),t.skinList=null,t.skinData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(PetView.prototype,"PetView");var PreviewItemRender=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("PreviewItemRenderSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.od,e),vkG.$a(UtJ.PCK,e.ph,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.od,e),vkG.$r(UtJ.PCK,e.ph,e)},t.prototype.ph=function(){var e=this;if(e.data){var t=e.data.grade||0,n=1==App.KF.openDict[t];e.getedImg.visible=n,e.redPointImg.visible=!n,t>App.KF.chapter&&(e.redPointImg.visible=!1)}},t.prototype.od=function(e){GObj.$d(this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.iconView.icon=kLM.UR(e.data.rurl),e.previewTit.text=fvg.GVf("task3",e.data.grade);var t=App.KF.chapter>=e.data.grade;e.getedImg.visible=App.KF.openDict[e.data.grade],t?(e.redPointImg.visible=!0,e.lockbg.visible=!1,e.lockImg.visible=!1):(e.redPointImg.visible=!1,e.lockbg.visible=!0,e.lockImg.visible=!0),e.selectImg.visible=1==e.data.sel,e.ph()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.previewTit),t.previewTit=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.selectImg),t.selectImg=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.lockbg),t.lockbg=null,GObj.$d(t.lockImg),t.lockImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PreviewItemRender.prototype,"PreviewItemRender");var PreviewView=function(e){function t(){var t=e.call(this,"PreviewView")||this;return t.wi={},t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.data=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.data,e.itemList.itemRenderer=PreviewItemRender,e.goodsData=GObj.$c(eui.ArrayCollection),e.items.dataProvider=e.goodsData,e.items.itemRenderer=GoodsItemRenderer,e.receiveBtn.label=fvg.GVf("bankitem004")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n;if(n){var i={},r=void 0;t.qy=0,t.data.source.length=0;var a=[],o=void 0,s=9999999;for(r in n)i=n[r],i.grade=r,i.sel=!1,a.push(i),t.qy=Math.max(t.qy,parseInt(r)),App.KF.openDict[r]||s>parseInt(r)&&(s=parseInt(r),o=i);if(o)t.updateItems(o);else{var p=App.KF.chapter+1;if(p>=t.qy)t.updateItems(n[t.qy]);else{for(var l=p;l<t.qy;l++)if(n[l]){o=n[l];break}t.updateItems(o)}}for(var c=0,u=a;c<u.length;c++){var d=u[c];t.data.source.push(d)}t.data.refresh()}t._f()},t.prototype._f=function(){var e=this;e.itemList.selectedIndex=e.nextIndex;var t=e.itemList.selectedItem;e.updateItems(t)},Object.defineProperty(t.prototype,"nextIndex",{get:function(){var e,t=App.KF.openDict||{},n=0;for(var i in e){if(!t[i])break;n++}return n},enumerable:!0,configurable:!0}),t.prototype.__clickShowGoods=function(e){e.item&&e.item.goods&&this.updateItems(e.item)},t.prototype["in"]=function(){var e=this;if(e.uj){var t=e.uj.grade||0;PreviewMsgProxy.PP(t)}},t.prototype.gyc=function(){var e=this;if(e.uj){var t=e.uj.grade||0;App.KF.openDict[t]?(e.getImg.visible=!0,e.receiveBtn.visible=!1):t>App.KF.chapter?(e.receiveBtn.visible=!1,e.getImg.visible=!1):(e.getImg.visible=!1,e.receiveBtn.icon=StaticData.GHj,e.receiveBtn.visible=!0),e.sw()&&(e._f(),ObjectUtil.oto(App.KF.openDict,e.wi))}},t.prototype.sw=function(){for(var e in App.KF.openDict)if(!this.wi[e])return!0;return!1},t.prototype.updateItems=function(e){var t=this;if(t.uj!=e&&e){t.rewardTitleImg.icon=kLM.UR(e.title),t.iconImg.icon=kLM.UR(e.rurl);var n=e.goods;e.grade||0;t.goodsData.source.length=0;var i;for(var r in n)i=GObj.$c(nlwj),i.tid=parseInt(r),i.count=n[r],t.goodsData.source.push(i);t.uj&&(t.uj.sel=!1,t.data.source.length&&t.data.itemUpdated(t.uj)),e.sel=!0,t.data.itemUpdated(e),t.goodsData.refresh(),t.uj=e,t.gyc()}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.itemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.__clickShowGoods,t),t.receiveBtn.addEventListener(eui.tep,t["in"],t),vkG.$a(UtJ.PCK,t.gyc,t)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__clickShowGoods,e),e.receiveBtn.removeEventListener(eui.tep,e["in"],e),vkG.$r(UtJ.PCK,e.gyc,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.items&&(t.items.dataProvider=null,GObj.$d(t.items)),t.items=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.rewardTitleImg),t.rewardTitleImg=null,GObj.$d(t.iconImg),t.iconImg=null,t.uj=null,t.qy=null,t.data=null,t.goodsData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(PreviewView.prototype,"PreviewView");var PrivilegeRewardItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("PrivilegeRewardItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.cq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.cq,e)},t.prototype.cq=function(e){GObj.$d(this)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.itemView.data=t}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PrivilegeRewardItem.prototype,"PrivilegeRewardItem");var AttentionPopUi=function(e){function t(){var t=e.call(this,"AttentionPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.attentionBtn.label=fvg.GVf("share3"),e.receiveBtn.label=fvg.GVf("share4"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.vx,e),e.attentionBtn.addEventListener(eui.tep,e.ep,e),e.receiveBtn.addEventListener(eui.tep,e.bt,e),vkG.$a(UtJ.XO,e.lf,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.vx,e),e.attentionBtn.removeEventListener(eui.tep,e.ep,e),e.receiveBtn.removeEventListener(eui.tep,e.bt,e),vkG.$r(UtJ.XO,e.lf,e)},t.prototype.initData=function(){var e=this,t=XCA.RE(pba.MR),n=Nkz.PI(t);e.rewardData.source.splice(0,e.rewardData.source.length);for(var i=0;i<n.length;i++)e.rewardData.source.push(n[i]);e.rewardData.refresh();var r=App.NG.getIsFocus();e.attentionBtn.visible=!r,e.receiveBtn.visible=r&&0==(2&App.VX.rewardState)},t.prototype.ep=function(e){App.NG.showFocus()},t.prototype.bt=function(e){return 0!=(2&App.VX.rewardState)?void MessageTipManager.instance.show(fvg.GVf("platform1")):void NXr.ON(pba.EZ)},t.prototype.lf=function(){0!=(2&App.VX.rewardState)&&(this.vx(),Alert.WK(fvg.GVf("platform2")))},t.prototype.vx=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.attentionBtn),t.attentionBtn=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(AttentionPopUi.prototype,"AttentionPopUi");var BindPhoneFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.qz=-1,e.ix=0,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem,e.descTxt_1.text=fvg.GVf("platform25"),e.descTxt_2.text=fvg.GVf("platform26")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getBtn.addEventListener(eui.tep,t.ml,t),t.bindBtn.addEventListener(eui.tep,t.hn,t),vkG.$a(UtJ.XO,t.ym,t),vkG.$a(UtJ.JT,t.ym,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.getBtn.removeEventListener(eui.tep,t.ml,t),t.bindBtn.removeEventListener(eui.tep,t.hn,t),vkG.$r(UtJ.XO,t.ym,t),vkG.$r(UtJ.JT,t.ym,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.RE(pba.MZS),i=Nkz.PI(n);t.rewardData.source.splice(0,t.rewardData.source.length);for(var r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),t.ym()},t.prototype.ry=function(){var e=this,t=1024&App.VX.rewardState;e.getedImg.visible=t>0,e.bindBtn.visible=e.getBtn.visible=!e.getedImg.visible;var n=App.VX.bindPhoneStatus;n>=0?1==n?(e.ix=2,e.getBtn.visible=!e.getedImg.visible,e.bindBtn.visible=!1,e.getBtn.icon=StaticData.GHj):(e.ix=1,e.getBtn.visible=!1,e.bindBtn.visible=!0):(e.ix=0,e.bindBtn.visible=e.getBtn.visible=e.getedImg.visible=!1)},t.prototype.ml=function(e){2==this.ix&&NXr.ON(pba.YO)},t.prototype.hn=function(e){var t=this;if(1==t.ix){var n={};n.open_id=App.BG.openId,n.game_key=StaticData.GAME_KEY,n.autoRedirect=!0,doExtraAction("bindPhone",n,t.zn)}},t.prototype.zn=function(e){if(e){var t=e.code;if(0==t)App.VX.extraData&&App.VX.extraData.bindPhone&&(App.VX.extraData.bindPhone.status=1,vkG.$d(UtJ.JT));else{var n=e.showMessage||e.message||fvg.GVf("platform24");Alert.WK(n,void 0,Alert.EX)}}},t.prototype.ym=function(){var e=this,t=1024&App.VX.rewardState;t>0&&-1!=e.qz&&e.qz!=t&&Alert.WK(fvg.GVf("platform2"),void 0,Alert.EX),e.qz=t,e.ry()},t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.bindBtn),t.bindBtn=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.getedImg),t.getedImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this))},t}(BaseFrame);__reflect(BindPhoneFrame.prototype,"BindPhoneFrame");var CollectionPackPopUi=function(e){function t(){var t=e.call(this,"CollectionPackPopUi")||this;
return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.collectionBtn.label=fvg.GVf("104"),e.collectionBtn.icon=StaticData.GHj,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var e=this;e.collectionBtn.addEventListener(eui.tep,e.tu,e),e.closeBtn.addEventListener(eui.tep,e.mq,e),vkG.$a(UtJ.XO,e.is,e)},t.prototype.removeEvent=function(){var e=this;e.collectionBtn.removeEventListener(eui.tep,e.tu,e),e.closeBtn.removeEventListener(eui.tep,e.mq,e),vkG.$r(UtJ.XO,e.is,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.RE(pba.TJ),i=Nkz.PI(n);t.rewardData.source.splice(0,t.rewardData.source.length);for(var r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),1==(8&App.VX.rewardState)&&(t.collectionBtn.visible=!1)},t.prototype.tu=function(e){return App.NG.isWxCollectionScene()?0!=(1&App.VX.rewardState)?void msgTip(fvg.GVf("platform1")):(console.log(App.NG.channel+"--"),void NXr.ON(pba.RH)):void msgTip(fvg.GVf("privilege66"))},t.prototype.is=function(){0!=(8&App.VX.rewardState)&&(this.collectionBtn.visible=!1,Alert.WK(fvg.GVf("platform2")))},t.prototype.mq=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.collectionBtn),t.collectionBtn=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),GObj.$d(t.closeBtn),t.closeBtn=null,t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(CollectionPackPopUi.prototype,"CollectionPackPopUi");var CollectionPopUi=function(e){function t(){var t=e.call(this,"CollectionPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.collectionBtn.label=fvg.GVf("privilege36"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var e=this;e.collectionBtn.addEventListener(eui.tep,e.tl,e),vkG.$a(UtJ.XO,e.xm,e)},t.prototype.removeEvent=function(){var e=this;e.collectionBtn.removeEventListener(eui.tep,e.tl,e),vkG.$r(UtJ.XO,e.xm,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.RE(pba.GY),i=Nkz.PI(n);t.rewardData.source.splice(0,t.rewardData.source.length);for(var r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),1==(1&App.VX.rewardState)&&(t.collectionBtn.visible=!1)},t.prototype.tl=function(e){var t=this;App.NG.collection(t._j,t)},t.prototype._j=function(e){return e&&0==e.retCode?0!=(1&App.VX.rewardState)?void msgTip(fvg.GVf("platform1")):(console.log(App.NG.channel+"--"),void NXr.ON(pba.LA)):void Alert.WK(fvg.GVf("privilege37"),null,Alert.EX)},t.prototype.xm=function(){0!=(1&App.VX.rewardState)&&(this.collectionBtn.visible=!1,Alert.WK(fvg.GVf("platform2")))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.collectionBtn),t.collectionBtn=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(CollectionPopUi.prototype,"CollectionPopUi");var WindowPackPopUi=function(e){function t(){var t=e.call(this,"WindowPackPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.collectionBtn.label=fvg.GVf("104"),e.collectionBtn.icon=StaticData.GHj,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var e=this;e.collectionBtn.addEventListener(eui.tep,e.ku,e),e.closeBtn.addEventListener(eui.tep,e.ba,e),vkG.$a(UtJ.XO,e.zu,e)},t.prototype.removeEvent=function(){var e=this;e.collectionBtn.removeEventListener(eui.tep,e.ku,e),e.closeBtn.removeEventListener(eui.tep,e.ba,e),vkG.$r(UtJ.XO,e.zu,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.RE(pba.IO),i=Nkz.PI(n);t.rewardData.source.splice(0,t.rewardData.source.length);for(var r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),1==(16&App.VX.rewardState)&&(t.collectionBtn.visible=!1)},t.prototype.ku=function(e){return App.NG.isWxFloatScene()?0!=(16&App.VX.rewardState)?void msgTip(fvg.GVf("platform1")):(console.log(App.NG.channel+"--"),void NXr.ON(pba.ED)):void msgTip(fvg.GVf("privilege67"))},t.prototype.zu=function(){0!=(16&App.VX.rewardState)&&(this.collectionBtn.visible=!1,Alert.WK(fvg.GVf("platform2")))},t.prototype.ba=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.collectionBtn),t.collectionBtn=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),GObj.$d(t.closeBtn),t.closeBtn=null,t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(WindowPackPopUi.prototype,"WindowPackPopUi");var InviteFrame=function(e){function t(){var t=e.call(this,"InviteFrame")||this,n=RRUU.$s("InviteFrameSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.rewardData_1=GObj.$c(eui.ArrayCollection),e.rewardGroup_1.dataProvider=e.rewardData_1,e.rewardGroup_1.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.me,e),e.inviteBtn.addEventListener(eui.tep,e._t,e),vkG.$a(UtJ.OYZ,e.xr,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.me,e),e.inviteBtn.removeEventListener(eui.tep,e._t,e),vkG.$r(UtJ.OYZ,e.xr,e)},t.prototype.initData=function(){for(var e=this,t=XCA.RE(pba.TJ),n=Nkz.PI(t),i=0;i<n.length;i++)e.rewardData_1.source.push(n[i]);e.rewardData_1.refresh()},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype._t=function(e){NXr.UJ(2)},t.prototype.xr=function(e){if(e){var t=e.skey,n={open_id:App.BG.openId,game_key:StaticData.GAME_KEY,url:decodeURIComponent(LoginManager.instance.shareURL)+"?shareKey="+t};doExtraAction("share",n,function(e){if(e)if(0==e.code);else{var t=e.showMessage||e.message;Alert.WK(t,void 0,Alert.EX)}})}},t.prototype.me=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.inviteBtn),t.inviteBtn=null,t.rewardGroup_1&&(t.rewardGroup_1.dataProvider=null,GObj.$d(t.rewardGroup_1)),t.rewardGroup_1=null,t.rewardData_1=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(InviteFrame.prototype,"InviteFrame");var NewPlayerRewardFrame=function(e){function t(){var t=e.call(this,"NewPlayerRewardFrame")||this,n=RRUU.$s("NewPlayerRewardFrameSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.receiveBtn.label=fvg.GVf("funny4")},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.it,e),vkG.$a(UtJ.XO,e.gt,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.it,e),vkG.$r(UtJ.XO,e.gt,e)},t.prototype.initData=function(){this.hb()},t.prototype.show=function(e){var t=this;t.nj=e,t.hb(),App.VS.addTopUI(t),App.FT.addToLayer(this,alvJ.WL,alvJ.LR)},t.prototype.hb=function(){var e=this;if(e.CSo&&e.nj){var t;e.nj==pba.ED?(t=XCA.RE(pba.SF),e.zt=16,e.descImg.source="privilege_json.privilege_back_26_png"):e.nj==pba.MH&&(t=XCA.RE(pba.BI),e.zt=32,e.descImg.source="privilege_json.privilege_back_27_png");var n=Nkz.PI(t);e.rewardData.source.splice(0,e.rewardData.source.length);for(var i=0;i<n.length;i++)e.rewardData.source.push(n[i]);e.rewardData.refresh()}},t.prototype.it=function(e){var t=this;if(t.nj)return 0!=(App.VX.rewardState&t.zt)?(MessageTipManager.instance.show(fvg.GVf("platform1")),void t.dispose()):void(t.nj==pba.ED?NXr.ON(pba.ED):t.nj==pba.MH&&NXr.ON(pba.MH))},t.prototype.gt=function(){var e=this;0!=(App.VX.rewardState&e.zt)&&(e.dispose(),Alert.WK(fvg.GVf("platform2")))},t.prototype.dispose=function(){var t=this;App.VS.removeTopUI(t),t.removeEvent(),GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.descImg),t.descImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,vkG.$d(UtJ.NJ),e.prototype.dispose.call(this)},t}(BaseUI);__reflect(NewPlayerRewardFrame.prototype,"NewPlayerRewardFrame");var OurRealNameFrame=function(e){function t(){var t=e.call(this,"OurRealNameFrame")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("realname01"),e.sendBtn.label=fvg.GVf("realname02"),e.cardTxt.prompt=fvg.GVf("realname03"),e.nameTxt.prompt=fvg.GVf("realname04"),e.cardLab.text=fvg.GVf("realname05"),e.nameLab.text=fvg.GVf("realname06")},t.prototype.initEvent=function(){var e=this;e.sendBtn.addEventListener(eui.tep,e.nx,e)},t.prototype.removeEvent=function(){var e=this;e.sendBtn.removeEventListener(eui.tep,e.nx,e)},t.prototype.initData=function(){},t.prototype.nx=function(){var e=this;if(App.JA.indulgeVO.isWrite)return void msgTip(fvg.GVf("realname07"));var t=e.cardTxt.text,n=e.nameTxt.text,i=App.JA.checkCertiCode(t);return i?(msgTip(fvg.GVf("realname09")),void App.BX.PpQ(82,null,null,null,t,n)):void msgTip(fvg.GVf("realname08"))},t.prototype.dispose=function(){IndulgeTimeBtn.openReal=!1,this.removeEvent(),e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(OurRealNameFrame.prototype,"OurRealNameFrame");var QQGameFuliFrame=function(e){function t(){var t=e.call(this,"QQGameFuliFrame")||this;return t.skinName=RRUU.$s("QQGameFuliFrameSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.ji=-1,e.getBtn.label=fvg.GVf("platform27"),e.gotoBtn.label=fvg.GVf("platform28"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.tc,e),e.gotoBtn.addEventListener(eui.tep,e.h_,e),e.getBtn.addEventListener(eui.tep,e.an,e),vkG.$a(UtJ.XO,e.jz,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.tc,e),e.gotoBtn.removeEventListener(eui.tep,e.h_,e),e.getBtn.removeEventListener(eui.tep,e.an,e),vkG.$r(UtJ.XO,e.jz,e)},t.prototype.initData=function(){var e=this,t=XCA.RE(pba.IE),n=Nkz.PI(t);e.rewardData.source.splice(0,e.rewardData.source.length);for(var i=0;i<n.length;i++)e.rewardData.source.push(n[i]);e.rewardData.refresh(),e.jz()},t.prototype.jz=function(){var e=this,t=2048&App.VX.rewardState;t>0&&-1!=e.ji&&e.ji!=t&&Alert.WK(fvg.GVf("platform2"),void 0,Alert.EX),e.ji=t,e.getBtn.visible=0==t,e.getBtn.icon=e.getBtn.visible?StaticData.GHj:null,e.getedImg.visible=!e.getBtn.visible},t.prototype.an=function(e){var t=2048&App.VX.rewardState;0==t&&NXr.ON(pba.UB)},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.WL)},t.prototype.h_=function(e){doExtraAction("qqEgameFuLi",{open_id:App.BG.openId},null),this.tc(null)},t.prototype.tc=function(e){this.dispose()},t.prototype.dispose=function(){var n=this;n.destory||(n.removeEvent(),t.JH=null,GObj.$d(n.closeBtn),n.closeBtn=null,GObj.$d(n.getBtn),n.getBtn=null,GObj.$d(n.getedImg),n.getedImg=null,GObj.$d(n.gotoBtn),n.gotoBtn=null,n.rewardGroup&&(n.rewardGroup.dataProvider=null,GObj.$d(n.rewardGroup)),n.rewardGroup=null,n.rewardData=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(QQGameFuliFrame.prototype,"QQGameFuliFrame");var QQLiveFuliFrame=function(e){function t(){var t=e.call(this,"QQLiveFuliFrame")||this;return t.skinName=RRUU.$s("QQLiveFuliFrameSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.rq,e),e.gotoBtn.addEventListener(eui.tep,e.ch,e),e.gotoBtn1.addEventListener(eui.tep,e.ch,e),e.gotoBtn2.addEventListener(eui.tep,e.ch,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.rq,e),e.gotoBtn.removeEventListener(eui.tep,e.ch,e),e.gotoBtn1.removeEventListener(eui.tep,e.ch,e),e.gotoBtn2.removeEventListener(eui.tep,e.ch,e)},t.prototype.initData=function(){},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.YN)},t.prototype.ch=function(e){doExtraAction("qqLiveFuLi",{open_id:App.BG.openId},null)},t.prototype.rq=function(e){this.dispose()},t.prototype.dispose=function(){var n=this;n.destory||(n.removeEvent(),t.QG=null,GObj.$d(n.closeBtn),n.closeBtn=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(QQLiveFuliFrame.prototype,"QQLiveFuliFrame");var RealNamePopUi=function(e){function t(){var t=e.call(this,"RealNamePopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.va=-1,e.ex=0,e.verticalCenter=0,e.horizontalCenter=0,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem,e.title=fvg.GVf("privilege35")},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.gu,e),vkG.$a(UtJ.XO,e.pm,e),vkG.$a(UtJ.TH,e.pm,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.gu,e),vkG.$r(UtJ.XO,e.pm,e),vkG.$r(UtJ.TH,e.pm,e)},t.prototype.initData=function(){var e=this,t=XCA.RE(pba.XZ),n=Nkz.PI(t);e.rewardData.source.splice(0,e.rewardData.source.length);for(var i=0;i<n.length;i++)e.rewardData.source.push(n[i]);e.rewardData.refresh(),e.pm()},t.prototype.az=function(){var e=this,t=NumberUtil.IB(App.VX.rewardState,Math.log(512)/Math.LN2);e.getedImg.visible=t>0,e.getBtn.visible=!e.getedImg.visible;var n=-1;if(App.VX.ourRealNameStatus,App.NG.isOpenAuthen()){var i=App.NG.authenState().status;2===i?n=0:(0===i||1===i)&&(n=1)}else n=-1;n>=0?1==n?(e.ex=2,e.getBtn.label=fvg.GVf("funny4")):(e.ex=1,e.getBtn.label=fvg.GVf("platform21")):(e.ex=0,e.getBtn.visible=e.getedImg.visible=!1),e.getBtn.icon=e.getBtn.visible&&2==e.ex?StaticData.GHj:null},t.prototype.gu=function(e){var t=this;1==t.ex?App.NG.showAuthen(t.bv):2==t.ex?NXr.ON(pba.TL):Alert.WK(fvg.GVf("platform22"),void 0,Alert.EX)},t.prototype.bv=function(){App.NG.isWriteRealName()?vkG.$d(UtJ.TH):Alert.WK(fvg.GVf("platform23"),void 0,Alert.EX)},t.prototype.pm=function(){var e=this,t=512&App.VX.rewardState;t>0&&-1!=e.va&&e.va!=t&&Alert.WK(fvg.GVf("platform2"),void 0,Alert.EX),e.va=t,e.az()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getedImg),t.getedImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RealNamePopUi.prototype,"RealNamePopUi");var SharePopUi=function(e){function t(){var t=e.call(this,"SharePopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.rewardData_1=GObj.$c(eui.ArrayCollection),e.rewardGroup_1.dataProvider=e.rewardData_1,e.rewardGroup_1.itemRenderer=PrivilegeRewardItem,e.shareBtn.label=fvg.GVf("wbshare3")},t.prototype.initEvent=function(){var e=this;e.shareBtn.addEventListener(eui.tep,e.du,e),vkG.$a(UtJ.XO,e.np,e)},t.prototype.removeEvent=function(){var e=this;e.shareBtn.removeEventListener(eui.tep,e.du,e),vkG.$r(UtJ.XO,e.np,e)},t.prototype.initData=function(){var e=this,t=XCA.RE(pba.NB),n=Nkz.PI(t);e.rewardData_1.source.splice(0,e.rewardData_1.source.length);for(var i=0;i<n.length;i++)e.rewardData_1.source.push(n[i]);e.rewardData_1.refresh()},t.prototype.du=function(e){var t=this;return App.NG.isWXminiChannel()?void Alert.WK(fvg.GVf("share6"),null,Alert.EX,t.nu,t):void t.nu()},t.prototype.nu=function(){var e=this;App.NG.shareMessage(e.c_,e)},t.prototype.c_=function(e){return e&&0==e.retCode?(vkG.$d(UtJ.FS),0!=(4&App.VX.rewardState)?void Alert.WK(fvg.GVf("share2")):void NXr.ON(pba.JA)):void Alert.WK(fvg.GVf("share1"),null,Alert.EX)},t.prototype.np=function(){var e=this;e.destory||0!=(4&App.VX.rewardState)&&(e.dispose(),Alert.WK(fvg.GVf("platform8")))},t.prototype.wm=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.shareBtn),t.shareBtn=null,t.rewardGroup_1&&(t.rewardGroup_1.dataProvider=null,GObj.$d(t.rewardGroup_1)),t.rewardGroup_1=null,t.rewardData_1=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SharePopUi.prototype,"SharePopUi");var SubscribePopUi=function(e){function t(){var t=e.call(this,"SubscribePopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.rewardData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.rewardData,e.itemGroup.itemRenderer=GoodsItemRenderer,e.rcvBtn.label=fvg.GVf("104"),e.subscribeBtn.label=fvg.GVf("privilege59")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.RE(pba.IE),i=Nkz.PI(n);t.rewardData.source.splice(0,t.rewardData.source.length);for(var r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),t.yc()},t.prototype.yc=function(){var e=this;0!=(4096&App.VX.rewardState)?(e.rcvBtn.visible=!1,e.getImg.visible=!0):(e.rcvBtn.visible=!0,e.getImg.visible=!1),App.NG.isSubscribe()?(e.subscribeBtn.visible=!1,e.rcvBtn.icon=StaticData.GHj):(e.subscribeBtn.visible=!0,e.rcvBtn.icon="")},t.prototype.initEvent=function(){var e=this;e.rcvBtn.addEventListener(eui.tep,e.jb,e),e.subscribeBtn.addEventListener(eui.tep,e.qe,e),e.closeBtn.addEventListener(eui.tep,e.hh,e),vkG.$a(UtJ.XO,e.iv,e)},t.prototype.removeEvent=function(){var e=this;e.rcvBtn.removeEventListener(eui.tep,e.jb,e),e.subscribeBtn.removeEventListener(eui.tep,e.qe,e),e.closeBtn.removeEventListener(eui.tep,e.hh,e),vkG.$r(UtJ.XO,e.iv,e)},t.prototype.jb=function(e){return App.NG.isSubscribe()?void NXr.ON(pba.BS):void msgTip(fvg.GVf("privilege61"))},t.prototype.qe=function(e){return 0!=(4096&App.VX.rewardState)?void this.uy():App.NG.isSubscribe()?void msgTip(fvg.GVf("privilege63")):void App.NG.subscribe(function(e){e&&0===e.retCode?(NXr.OI(!0),this.yc()):msgTip(e&&2===e.retCode?fvg.GVf("privilege64"):fvg.GVf("privilege60"))})},t.prototype.uy=function(){var e=this;App.NG.openSetting(function(t){t&&0===t.retCode?(NXr.OI(!0),e.yc()):msgTip(t&&2===t.retCode?fvg.GVf("privilege64"):fvg.GVf("privilege60"))},e)},t.prototype.iv=function(){var e=this;e.destory||(e.yc(),0!=(4096&App.VX.rewardState)&&Alert.WK(fvg.GVf("platform8")))},t.prototype.hh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.rcvBtn&&GObj.$d(t.rcvBtn),t.rcvBtn=null,GObj.$d(t.subscribeBtn),t.subscribeBtn=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SubscribePopUi.prototype,"SubscribePopUi");var TxMiniClientFrame=function(e){function t(){var t=e.call(this,"TxMiniClientFrame")||this;return t.skinName=RRUU.$s("TxMiniClientFrameSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.vn=e.cq=-1,e.receiveBtn.label=fvg.GVf("evChg03"),e.rewardData_1=GObj.$c(eui.ArrayCollection),e.rewardGroup_1.dataProvider=e.rewardData_1,e.rewardGroup_1.itemRenderer=PrivilegeRewardItem,e.rewardData_2=GObj.$c(eui.ArrayCollection),e.rewardGroup_2.dataProvider=e.rewardData_2,e.rewardGroup_2.itemRenderer=PrivilegeRewardItem,e.descTxt_2.text=fvg.GVf("platform12"),e.descTxt_3.text=fvg.GVf("platform14")},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.rx,e),e.downBtn.addEventListener(eui.tep,e.zo,e),e.receiveBtn.addEventListener(eui.tep,e.jz,e),vkG.$a(UtJ.XO,e.zl,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.rx,e),e.downBtn.removeEventListener(eui.tep,e.zo,e),e.receiveBtn.removeEventListener(eui.tep,e.jz,e),vkG.$r(UtJ.XO,e.zl,e)},t.prototype.initData=function(){var e=this,t=XCA.RE(pba.MV),n=Nkz.PI(t);e.rewardData_1.source.length=0;for(var i=0;i<n.length;i++)e.rewardData_1.source.push(n[i]);e.rewardData_1.refresh(),t=XCA.RE(pba.ND),n=Nkz.PI(t),e.rewardData_2.source.length=0;for(var r=0;r<n.length;r++)e.rewardData_2.source.push(n[r]);e.rewardData_2.refresh(),e.kg(),e.pk()},t.prototype.kg=function(){var e=this;e.getImg_1.visible=0!=(64&App.VX.rewardState),e.downBtn.icon=null,e.yw=0;var t=App.VX.txClientStatus,n=App.VX.txClientInstalled;0==t?n?(e.yw=2,e.downBtn.label=fvg.GVf("platform16"),e.descTxt_1.text=fvg.GVf("platform17")):(e.yw=1,e.downBtn.label=fvg.GVf("platform13"),e.descTxt_1.text=fvg.GVf("platform11")):1!=t||e.getImg_1.visible||(e.yw=3,e.downBtn.label=fvg.GVf("evChg03"),e.downBtn.icon=StaticData.GHj,e.descTxt_1.text=fvg.GVf("platform17")),e.descTxt_1.visible=!e.getImg_1.visible,e.downBtn.visible=!!e.yw},t.prototype.pk=function(){var e=this;1!=App.VX.txClientStatus?(e.getImg_2.visible=e.receiveBtn.visible=!1,e.descTxt_3.visible=!0):(e.descTxt_3.visible=!1,e.getImg_2.visible=0!=(128&App.VX.rewardState),e.receiveBtn.visible=!e.getImg_2.visible,e.receiveBtn.icon=e.receiveBtn.visible?StaticData.GHj:null)},t.prototype.show=function(){var e=this;App.VS.addTopUI(e),App.FT.addToLayer(this,alvJ.WL)},t.prototype.zo=function(e){var t=this;3==t.yw?0==(64&App.VX.rewardState)&&(-1==t.vn&&(t.vn=64&App.VX.rewardState),NXr.ON(pba.UP)):doExtraAction("wanbaQzGameApp",{open_id:App.BG.openId},null)},t.prototype.jz=function(e){var t=this;return 1!=App.VX.txClientStatus?void App.TT.show(fvg.GVf("platform15")):0!=(128&App.VX.rewardState)?void App.TT.show(fvg.GVf("platform1")):(-1==t.cq&&(t.cq=128&App.VX.rewardState),void NXr.ON(pba.HC))},t.prototype.zl=function(){var e=this;-1!=e.vn&&(64&App.VX.rewardState)!=e.vn&&(Alert.WK(fvg.GVf("platform2")),e.vn=64&App.VX.rewardState),e.kg(),-1!=e.cq&&(128&App.VX.rewardState)!=e.cq&&(Alert.WK(fvg.GVf("platform2")),e.cq=128&App.VX.rewardState),e.pk()},t.prototype.rx=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;App.VS.removeTopUI(t),t.destory||(t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.downBtn),t.downBtn=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.descTxt_3),t.descTxt_3=null,GObj.$d(t.getImg_1),t.getImg_1=null,GObj.$d(t.getImg_2),t.getImg_2=null,t.rewardGroup_1&&(t.rewardGroup_1.dataProvider=null,GObj.$d(t.rewardGroup_1)),t.rewardGroup_1=null,t.rewardGroup_2&&(t.rewardGroup_2.dataProvider=null,GObj.$d(t.rewardGroup_2)),t.rewardGroup_2=null,t.rewardData_1=null,t.rewardData_2=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(TxMiniClientFrame.prototype,"TxMiniClientFrame");var TxPetCandyFrame=function(e){function t(){var t=e.call(this,"TxPetCandyFrame")||this;return t.skinName=RRUU.$s("TxPetCandyFrameSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=TxPetCandyItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.az,e),vkG.$a(UtJ.PQI,e.nk,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.az,e),vkG.$r(UtJ.PQI,e.nk,e)},t.prototype.initData=function(){this.nk()},t.prototype.nk=function(){var e=App.QA.getTaskListByType(5),t=[];for(var n in e)e[n]&&e[n].taskTemplate&&t.push(e[n]);t.sort(App.QA.taskCompareFun),this.rewardData.replaceAll(t)},t.prototype.show=function(){var e=this;App.VS.addTopUI(e),App.FT.addToLayer(this,alvJ.WL)},t.prototype.az=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;App.VS.removeTopUI(t),t.destory||(t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this))},t}(BaseUI);__reflect(TxPetCandyFrame.prototype,"TxPetCandyFrame");var TxPetCandyItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TxPetCandyItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getedImg.visible=!1,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.le,e),e.receiveBtn.addEventListener(eui.tep,e.wy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.le,e),e.receiveBtn.removeEventListener(eui.tep,e.wy,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ci=e.data;var t=e.ci.taskTemplate;e.titleTxt.text=t.title,e.proTxt.text=fvg.GVf("112",e.ci.pro,t.maxValue),e.proTxt.textColor=e.ci.pro>=t.maxValue?Color.TX:Color.KA,e.proTxt.x=e.titleTxt.x+e.titleTxt.width,e.getedImg.visible=!!e.ci.isComp,e.receiveBtn.visible=!e.getedImg.visible,e.ci.pro>=t.maxValue?(e.receiveBtn.label=fvg.GVf("104"),e.receiveBtn.icon=StaticData.GHj):(e.receiveBtn.label=fvg.GVf("103"),e.receiveBtn.icon=null);var n=XCA.RE(t.p3),i=Nkz.PI(n);e.rewardData.source.length=0;for(var r=0;r<i.length;r++)e.rewardData.source.push(i[r]);e.rewardData.refresh()}},t.prototype.wy=function(e){var t=this;if(t.ci&&t.ci.taskTemplate){var n=t.ci.taskTemplate;t.ci.pro>=n.maxValue?TaskMsgProxy.EJ(t.ci.tid):TaskHelp.VO(n.type,n.tar||1,n.taskType,n.vid)}},t.prototype.le=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.proTxt),t.proTxt=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.ci=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TxPetCandyItem.prototype,"TxPetCandyItem");var PurgatoryApplyItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryApplyItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.np=function(){var e=this;GObj.$d(e.nameTxt),e.nameTxt=null,GObj.$d(e.fightTxt),e.fightTxt=null,GObj.$d(e.confirmBtn),e.confirmBtn=null,GObj.$d(e.cancelBtn),e.cancelBtn=null,e.na=null},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.ee,e),e.cancelBtn.addEventListener(eui.tep,e._b,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.xp,e)},t.prototype.mw=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.ee,e),e.cancelBtn.removeEventListener(eui.tep,e._b,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.xp,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.na=e.data.teamInfo,e.nameTxt.text=Nkz.MJ(e.na.name,8),e.fightTxt.text=e.na.cap+"")},t.prototype.ee=function(e){var t=this;2==t.data.frameType&&PurgatoryMsgProxy.FW(13,App.KF.uid,void 0,{op:1,p1:t.na.uid})},t.prototype._b=function(e){var t=this;2==t.data.frameType&&PurgatoryMsgProxy.FW(13,App.KF.uid,void 0,{op:2,p1:t.na.uid})},t.prototype.xp=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.mw(),t.np(),e.prototype.dispose.call(this)
},t}(BaseItemRenderer);__reflect(PurgatoryApplyItem.prototype,"PurgatoryApplyItem");var PurgatoryApplyPopUi=function(e){function t(){var t=e.call(this,"PurgatoryApplyPopUi")||this;return t.skinName=RRUU.$s("PurgatoryApplyPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ul=e[0],n.mk())},t.prototype.initView=function(){var e=this;e.lab1.text=fvg.GVf("purgatory59"),e.lab2.text=fvg.GVf("purgatory60"),e.lab3.text=fvg.GVf("purgatory61"),e.lab4.text=fvg.GVf("purgatory62"),e._data=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e._data,e.itemList.itemRenderer=PurgatoryApplyItem,e.refusedBtn.label=fvg.GVf("purgatory46")},t.prototype.wb=function(){var e=this;GObj.$d(e.refusedBtn),e.refusedBtn=null,GObj.$d(e.lab1),e.lab1=null,GObj.$d(e.lab2),e.lab2=null,GObj.$d(e.lab3),e.lab3=null,GObj.$d(e.lab4),e.lab4=null,e.itemList&&(e.itemList.dataProvider=null,GObj.$d(e.itemList),e.itemList=null),e._data=null},t.prototype.initEvent=function(){var e=this;e.refusedBtn.addEventListener(eui.tep,e.ee,e),vkG.$a(UtJ.GT,e._d,e),vkG.$a(UtJ.EJ,e.hg,e)},t.prototype.removeEvent=function(){var e=this;e.refusedBtn.removeEventListener(eui.tep,e.ee,e),vkG.$r(UtJ.GT,e._d,e),vkG.$r(UtJ.EJ,e.hg,e)},t.prototype.initData=function(){this.mk()},t.prototype._d=function(e){var t=this;1!=t.ul&&t.mk()},t.prototype.hg=function(e){var t=this;2!=t.ul&&t.mk()},t.prototype.mk=function(){var e=this;if(e.CSo){e.frameGroup.title=1==e.ul?fvg.GVf("purgatory63"):fvg.GVf("purgatory64");var t=1==e.ul?App.HP.applyList:App.HP.beInvitedList;e.invateGeoup.visible=1==e.ul?!1:!0,e.applyGroup.visible=1==e.ul?!0:!1;var n=t.length;e._data.source=[];for(var i=0;n>i;i++){var r={};r.frameType=e.ul+1,r.teamInfo=t[i],e._data.source.push(r)}e._data.refresh()}},t.prototype.ee=function(e){1==this.ul?PurgatoryMsgProxy.FW(13,App.KF.uid,void 0,{op:3}):PurgatoryMsgProxy.FW(6,App.KF.uid,void 0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.wb(),e.prototype.dispose.call(this)},t}(PopUI);__reflect(PurgatoryApplyPopUi.prototype,"PurgatoryApplyPopUi");var PurgatoryBtnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryBtnItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.my=function(){var e=this;GObj.$d(e.iconView),e.iconView=null},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.s_,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.s_,e)},t.prototype.initData=function(){var e=this;e.dataChanged(),e.invalidateState()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=(App.HP.fightCountInfo.maxPassDiff||0)<e.itemIndex?"n_"+(e.itemIndex+1):e.itemIndex+1;e.iconView.icon=kLM.YL(t)}},t.prototype.s_=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.my(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryBtnItem.prototype,"PurgatoryBtnItem");var PurgatoryInvitationPopUi=function(e){function t(){var t=e.call(this,"PurgatoryInvitationPopUi")||this;return t.skinName=RRUU.$s("PurgatoryInvitationPopUi"),t.verticalCenter=0,t.horizontalCenter=0,PurgatoryMsgProxy.FW(5,App.KF.uid),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._data=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e._data,e.itemList.itemRenderer=PurgatoryTeamItem,e.familyBtn.label=fvg.GVf("purgatory20"),e.descTxt.text=fvg.GVf("purgatory57"),e.frameGroup.title=fvg.GVf("purgatory70")},t.prototype.sr=function(){var e=this;GObj.$d(e.familyBtn),e.familyBtn=null,GObj.$d(e.descTxt),e.descTxt=null,e.itemList&&(e.itemList.dataProvider=null,GObj.$d(e.itemList),e.itemList=null),e._data=null},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.initEvent=function(){var e=this;e.familyBtn.addEventListener(eui.tep,e.pl,e),vkG.$a(UtJ.YH,e.nd,e)},t.prototype.removeEvent=function(){var e=this;e.familyBtn.removeEventListener(eui.tep,e.pl,e),vkG.$r(UtJ.YH,e.nd,e)},t.prototype.initData=function(){this.ra()},t.prototype.nd=function(e){this.ra()},t.prototype.ra=function(){var e=this;if(e.CSo){e._data.source=[];var t=App.HP.canInviteList.length;e.descTxt.visible=0>=t;for(var n=0;t>n;n++){var i={};i.playInfo=App.HP.canInviteList[n],i.frameType=2,e._data.source.push(i)}e._data.refresh()}},t.prototype.pl=function(){var e=this;return App.XW.familyInfo.id?App.HP.isSendChat?msgTip(fvg.GVf("purgatory23")):void Alert.WK(fvg.GVf("purgatory21"),void 0,void 0,e.wk,e):msgTip(fvg.GVf("purgatory69"))},t.prototype.wk=function(){App.HP.isSendChat=1,PurgatoryMsgProxy.FW(11,App.KF.uid)},t.prototype.dy=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.sr(),e.prototype.dispose.call(this)},t}(PopUI);__reflect(PurgatoryInvitationPopUi.prototype,"PurgatoryInvitationPopUi");var PurgatoryInvitedItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryInvitedItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.np=function(){var e=this;GObj.$d(e.nameTxt),e.nameTxt=null,GObj.$d(e.fightTxt),e.fightTxt=null,GObj.$d(e.teamNumTxt),e.teamNumTxt=null,GObj.$d(e.confirmBtn),e.confirmBtn=null,GObj.$d(e.cancelBtn),e.cancelBtn=null,e.vc=null},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.dd,e),e.cancelBtn.addEventListener(eui.tep,e.xs,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.eh,e)},t.prototype.ea=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.dd,e),e.cancelBtn.removeEventListener(eui.tep,e.xs,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.eh,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.vc=e.data.teamInfo,e.nameTxt.text=Nkz.MJ(e.vc.name,8),e.fightTxt.text=e.vc.cap+"",e.teamNumTxt.text=e.vc.num+"/3")},t.prototype.dd=function(e){PurgatoryMsgProxy.FW(2,App.KF.uid,2,this.vc.teamId)},t.prototype.xs=function(e){PurgatoryMsgProxy.FW(6,App.KF.uid,void 0,this.vc.teamId)},t.prototype.eh=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.ea(),t.np(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryInvitedItem.prototype,"PurgatoryInvitedItem");var PurgatoryInvitedPop=function(e){function t(){var t=e.call(this,"PurgatoryInvitedPop")||this;return t.skinName=RRUU.$s("PurgatoryInvitedPop"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.tb=e[0],n.jd())},t.prototype.initView=function(){var e=this;e.lab1.text=fvg.GVf("purgatory59"),e.lab2.text=fvg.GVf("purgatory60"),e.lab3.text=fvg.GVf("purgatory61"),e.lab4.text=fvg.GVf("purgatory62"),e._data=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e._data,e.itemList.itemRenderer=PurgatoryInvitedItem,e.refusedBtn.label=fvg.GVf("purgatory46")},t.prototype.pr=function(){var e=this;GObj.$d(e.refusedBtn),e.refusedBtn=null,GObj.$d(e.lab1),e.lab1=null,GObj.$d(e.lab2),e.lab2=null,GObj.$d(e.lab3),e.lab3=null,GObj.$d(e.lab4),e.lab4=null,e.itemList&&(e.itemList.dataProvider=null,GObj.$d(e.itemList),e.itemList=null),e._data=null},t.prototype.initEvent=function(){var e=this;e.refusedBtn.addEventListener(eui.tep,e.di,e),vkG.$a(UtJ.GT,e.sc,e),vkG.$a(UtJ.EJ,e.aq,e)},t.prototype.removeEvent=function(){var e=this;e.refusedBtn.removeEventListener(eui.tep,e.di,e),vkG.$r(UtJ.GT,e.sc,e),vkG.$r(UtJ.EJ,e.aq,e)},t.prototype.initData=function(){this.jd()},t.prototype.sc=function(e){var t=this;1!=t.tb&&t.jd()},t.prototype.aq=function(e){var t=this;2!=t.tb&&t.jd()},t.prototype.jd=function(){var e=this;if(e.CSo){e.frameGroup.title=fvg.GVf("purgatory64");var t=App.HP.beInvitedList,n=t.length;e._data.source=[];for(var i=0;n>i;i++){var r={};r.teamInfo=t[i],e._data.source.push(r)}e._data.refresh()}},t.prototype.di=function(e){PurgatoryMsgProxy.FW(6,App.KF.uid,void 0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.pr(),e.prototype.dispose.call(this)},t}(PopUI);__reflect(PurgatoryInvitedPop.prototype,"PurgatoryInvitedPop");var PurgatoryNoTeamItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryNoTeamItem"),t}return __extends(t,e),t.prototype.initView=function(){this.applyBtn.label=fvg.GVf("purgatory10")},t.prototype.nj=function(){var e=this;GObj.$d(e.nameTxt),e.nameTxt=null,GObj.$d(e.fightTxt),e.fightTxt=null,GObj.$d(e.teamNumTxt),e.teamNumTxt=null,GObj.$d(e.applyBtn),e.applyBtn=null,e.cd=null},t.prototype.initEvent=function(){var e=this;e.applyBtn.addEventListener(eui.tep,e._g,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.ad,e)},t.prototype.pdu=function(){var e=this;e.applyBtn.removeEventListener(eui.tep,e._g,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.ad,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.cd=e.data.teamInfo,e.nameTxt.text=Nkz.MJ(e.cd.name,8),e.fightTxt.text=e.cd.cap+"",e.teamNumTxt.text=e.cd.num+"/3")},t.prototype._g=function(e){PurgatoryMsgProxy.FW(2,App.KF.uid,1,this.cd.teamId)},t.prototype.ad=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.pdu(),t.nj(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryNoTeamItem.prototype,"PurgatoryNoTeamItem");var PurgatoryPlayerItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryPlayerItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.rl=function(){var e=this;GObj.$d(e.headIcon),e.headIcon=null,GObj.$d(e.frameImg),e.frameImg=null,GObj.$d(e.nameTxt),e.nameTxt=null,GObj.$d(e.fightTxt),e.fightTxt=null,GObj.$d(e.invitationBtn),e.invitationBtn=null,GObj.$d(e.getOutBtn),e.getOutBtn=null,GObj.$d(e.playerIcon),e.playerIcon=null,GObj.$d(e.captainImg),e.captainImg=null},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.sq,e),e.invitationBtn.addEventListener(eui.tep,e.qo,e),e.getOutBtn.addEventListener(eui.tep,e.xb,e)},t.prototype.fy=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.sq,e),e.invitationBtn.removeEventListener(eui.tep,e.qo,e),e.getOutBtn.removeEventListener(eui.tep,e.xb,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ee=e.data.teamInfo,e.ee?(e.frameImg.source=kLM.ZQ(e.ee.usehf),e.headIcon.source=kLM.JU(e.ee.sex,e.ee.heads,1),e.nameTxt.text=e.ee.name,e.fightTxt.text=fvg.GVf("public018",e.ee.cap),e.invitationBtn.visible=!1,e.getOutBtn.visible=!e.ee.captain&&App.HP.captain?!0:!1,e.captainImg.visible=!!e.ee.captain,App.HP.captain&&e.ee.uid!=App.KF.uid&&e.ee.familyid==(App.XW.familyInfo.id||-1)?e.playerIcon.visible=!0:e.playerIcon.visible=!1):(e.headIcon.source="",e.frameImg.source=kLM.ZQ(0),e.nameTxt.text="",e.fightTxt.text="",e.invitationBtn.visible=!0,e.getOutBtn.visible=!1,e.playerIcon.visible=!1,e.captainImg.visible=!1,e.invitationBtn.label=fvg.GVf("purgatory3")))},t.prototype.qo=function(e){App.VS.popup(10145,PurgatoryInvitationPopUi)},t.prototype.xb=function(e){var t=this;return t.ee.uid!=App.KF.uid?void Alert.WK(fvg.GVf("purgatory41",t.ee.name),void 0,void 0,t.ts,t):void 0},t.prototype.ts=function(){PurgatoryMsgProxy.FW(4,App.KF.uid,this.ee.uid)},t.prototype.sq=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.fy(),t.rl(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryPlayerItem.prototype,"PurgatoryPlayerItem");var PurgatoryShopFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){this.na=[]},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YM,e.dg,e),vkG.$a(UtJ.AQ,e.ex,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YM,e.dg,e),vkG.$r(UtJ.AQ,e.ex,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this._n()},t.prototype.my=function(){var e=this,t=App.HP.getShopAllGoods(),n=Object.keys(t||{}).length;e.jc(n);for(var i in t){var r=e.cx(parseInt(i)-1);r.data=t[i],e.itemGroup.addChild(r)}},t.prototype.ex=function(){var e=this;e.CSo&&!e.destory&&e.my()},t.prototype._n=function(){var e=this;e.my(),e.dg()},t.prototype.dg=function(){},t.prototype.cx=function(e){var t=this;if(!t.na[e]){var n=GObj.$c(PurgatoryShopRowItem);t.na.push(n)}return t.na[e]},t.prototype.jc=function(e){var t=this,n=0;e<t.na.length&&(n=t.na.length-e);for(var i=0;n>i;i++){t.itemGroup.removeChildAt(t.na.length-(i+1));var r=t.na[t.na.length-(i+1)];GObj.$d(r),r=null}},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.currencyTxt),t.currencyTxt=null,GObj.$d(t.groups),t.groups=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.na){for(var n=0;n<t.na.length;n++)GObj.$d(t.na[n]),t.na[n]=null;t.na=null}t.lw=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(PurgatoryShopFrame.prototype,"PurgatoryShopFrame");var PurgatoryShopItem=function(e){function t(){var t=e.call(this)||this;return t.width=195,t.height=290,t.skinName=RRUU.$s("PurgatoryShopItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buyBtn.label=fvg.GVf("shop6"),e.titleTxt.text=fvg.GVf("exchange13")},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.rz,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.rz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.hs=e.data,e.zt())},t.prototype.zt=function(){var e,t=this;e=GObj.$c(nlwj),e.tid=t.hs.itemid,e.count=t.hs.count,t.itemView.data=e,t.nameTxt.text=e.name,t.nameTxt.textColor=aKF.DU(e.quality),t.priceTxt.text=toChars(t.hs.price);var n=App.XW.familyInfo.g||0,i=t.hs.needminfairy||0;i>n?(t.lvTxt.visible=!0,t.buyBtn.visible=!1,t.lvTxt.text=fvg.GVf("legacyq18",i)):(t.lvTxt.visible=!1,t.buyBtn.visible=!0,t.lvTxt.text=QycO.OK)},t.prototype.rz=function(){var e=this,t=e.hs.price,n=App.BG.charmNum;if(t>n)return void App.TT.show(fvg.GVf("purgatory43"));var i=GObj.$c(nlwj);i.tid=e.hs.itemid;var r=fvg.GVf("purgatory42",t,i.name);Alert.WK(r,null,null,e.tx,this,[t])},t.prototype.tx=function(e){ShopMsgProxy.LR(this.hs.tid,1)},t.prototype.sz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.labelImg),t.labelImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.limitTxt),t.limitTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.moneyImg),t.moneyImg=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.group),t.group=null,GObj.$d(t.lvTxt),t.lvTxt=null,t.hs=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryShopItem.prototype,"PurgatoryShopItem");var PurgatoryShopRowItem=function(e){function t(){var t=e.call(this)||this;return t.ui=3,t.skinName=RRUU.$s("PurgatoryShopRowItem"),t}return __extends(t,e),t.prototype.initView=function(){this.di=[]},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&e.km()},t.prototype.km=function(){var e=this,t=Object.keys(e.data||{}).length;e.gc(t);for(var n in e.data){var i=e.t_(parseInt(n));i.data=e.data[n],i.x=201*parseInt(n)+32}},t.prototype.t_=function(e){var t=this;if(!t.di[e]){var n=GObj.$c(PurgatoryShopItem);t.di.push(n),t.addChild(n)}return t.di[e]},t.prototype.gc=function(e){var t=this,n=0;e<t.di.length&&(n=t.di.length-e);for(var i=0;n>i;i++){var r=t.di[t.di.length-(i+1)];r&&r.parent&&r.parent.removeChild(r)}},t.prototype.qh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),t.itemData=null,t.gk=null,t.di){for(var n=0;n<t.di.length;n++)GObj.$d(t.di[n]),t.di[n]=null;t.di=null}e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryShopRowItem.prototype,"PurgatoryShopRowItem");var PurgatoryTeamItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PurgatoryTeamItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.invitationBtn.label=fvg.GVf("purgatory3"),e.hasInvitedImg.visible=!1},t.prototype.ns=function(){var e=this;GObj.$d(e.headIcon),e.headIcon=null,GObj.$d(e.frameImg),e.frameImg=null,GObj.$d(e.nameTxt),e.nameTxt=null,GObj.$d(e.fightTxt),e.fightTxt=null,GObj.$d(e.operationBtn),e.operationBtn=null,GObj.$d(e.invitationBtn),e.invitationBtn=null,GObj.$d(e.hasInvitedImg),e.hasInvitedImg=null,GObj.$d(e.turnLab),e.turnLab=null,e.lo=null},t.prototype.initEvent=function(){var e=this;e.invitationBtn.addEventListener(eui.tep,e.iz,e),e.operationBtn.addEventListener(eui.tep,e.hu,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.gt,e)},t.prototype.ax=function(){var e=this;e.invitationBtn.removeEventListener(eui.tep,e.iz,e),e.operationBtn.removeEventListener(eui.tep,e.hu,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.gt,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.lo=e.data.playInfo,e.operationBtn.label=fvg.GVf("purgatory1"),e.lo?(e.frameImg.source=kLM.ZQ(e.lo.usehf),e.headIcon.source=kLM.JU(e.lo.sex,e.lo.heads,1),e.nameTxt.text=e.lo.name,e.fightTxt.text=fvg.GVf("public018",e.lo.cap),e.turnLab.text=App.JP.getTurnupName(e.lo.rgrade||0),e.invitationBtn.visible=!1,e.operationBtn.visible=!0,App.HP.captain?App.KF.uid==e.lo.uid?e.operationBtn.label=fvg.GVf("purgatory2"):e.operationBtn.label=fvg.GVf("purgatory1"):e.operationBtn.visible=!e.lo.captain):(e.headIcon.source=kLM.CD(1,1),e.frameImg.source=kLM.ZQ(1),e.nameTxt.text=fvg.GVf("purgatory16"),e.fightTxt.text=fvg.GVf("public018",0),e.invitationBtn.visible=!0,e.operationBtn.visible=!1))},t.prototype.iz=function(e){App.VS.popup(10145,PurgatoryInvitationPopUi)},t.prototype.hu=function(e){var t=this;if(1==t.data.frameType){if(t.lo.uid!=App.KF.uid)return void Alert.WK(fvg.GVf("purgatory41",t.lo.name),void 0,void 0,t.pz,t);PurgatoryMsgProxy.FW(3,App.KF.uid)}else{var n=App.HP.invateTimeDict[t.lo.uid]||0;if(n+30>App.NN.serverSecond)return void msgTip(fvg.GVf("purgatory23"));App.HP.invateTimeDict[t.lo.uid]=App.NN.serverSecond,t.hasInvitedImg.visible=!0,t.operationBtn.visible=!1,PurgatoryMsgProxy.FW(10,App.KF.uid,t.lo.uid)}},t.prototype.pz=function(){PurgatoryMsgProxy.FW(4,App.KF.uid,this.lo.uid)},t.prototype.gt=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.ax(),t.ns(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PurgatoryTeamItem.prototype,"PurgatoryTeamItem");var PurgatoryTeamTips=function(e){function t(){var t=e.call(this,"PurgatoryTeamTips")||this;return t.skinName=RRUU.$s("PurgatoryTeamTips"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.refuseBtn.label=fvg.GVf("purgatory74"),e.acceptBtn.label=fvg.GVf("purgatory75")},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.refuseBtn.addEventListener(eui.tep,e.ma,e),e.acceptBtn.addEventListener(eui.tep,e.yq,e),vkG.$a(UtJ.GT,e.om,e)},t.prototype.removeEvent=function(){var e=this;e.refuseBtn.removeEventListener(eui.tep,e.ma,e),e.acceptBtn.removeEventListener(eui.tep,e.yq,e),vkG.$r(UtJ.GT,e.om,e)},t.prototype.om=function(){var e=this;e.jd={};var t=App.HP.beInvitedList,n={};n.teamInfo=t[0],e.jd=n.teamInfo,e.jd?e.fm():GObj.$d(e)},t.prototype.fm=function(){var e=this,t=fvg.GVf("purgatory"+e.jd.mapId);e.descLab.textFlow=LgRe.OQ(fvg.GVf("purgatory73",e.jd.name,t))},t.prototype.ma=function(e){PurgatoryMsgProxy.FW(6,App.KF.uid,void 0,this.jd.teamId)},t.prototype.yq=function(){return App.UY.isCanSwitc()?(PurgatoryMsgProxy.FW(2,App.KF.uid,2,this.jd.teamId),void App.VS.open(10145)):void msgTip(fvg.GVf("35"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.refuseBtn),t.refuseBtn=null,GObj.$d(t.acceptBtn),t.acceptBtn=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(PurgatoryTeamTips.prototype,"PurgatoryTeamTips");var PurgatoryView=function(e){function t(){var t=e.call(this,"PurgatoryView")||this;return t.vi=!1,t.wr=!1,t.skinName=RRUU.$s("PurgatoryView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.startBtn.label=fvg.GVf("purgatory9"),e.lab1.text=fvg.GVf("purgatory59"),e.lab2.text=fvg.GVf("purgatory60"),e.lab3.text=fvg.GVf("purgatory61"),e.lab4.text=fvg.GVf("purgatory62"),e._data=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e._data,e.itemList.itemRenderer=PurgatoryBtnItem,e._teamdata=GObj.$c(eui.ArrayCollection),e._noteamdata=GObj.$c(eui.ArrayCollection),e.noteamItemList.dataProvider=e._noteamdata,e.noteamItemList.itemRenderer=PurgatoryNoTeamItem,e.teamItemList.dataProvider=e._teamdata,e.teamItemList.itemRenderer=PurgatoryPlayerItem,App.HP.isScene=!1,e.yg=!1},t.prototype.xr=function(){var e=this;GObj.$d(e.leftBtn),e.leftBtn=null,GObj.$d(e.rightBtn),e.rightBtn=null,GObj.$d(e.fightCtTxt),e.fightCtTxt=null,GObj.$d(e.helpCtTxt),e.helpCtTxt=null,GObj.$d(e.timFightTxt),e.timFightTxt=null,GObj.$d(e.familyShTxt),e.familyShTxt=null,GObj.$d(e.teamTitleGroup),e.teamTitleGroup=null,GObj.$d(e.creatRmBtn),e.creatRmBtn=null,GObj.$d(e.startBtn),e.startBtn=null,GObj.$d(e.invitationBtn),e.invitationBtn=null,GObj.$d(e.goodsItem1),e.goodsItem1=null,GObj.$d(e.goodsItem2),e.goodsItem2=null,GObj.$d(e.goodsItem3),e.goodsItem3=null,GObj.$d(e.goodsItem4),e.goodsItem4=null,GObj.$d(e.noteamImg),e.noteamImg=null,GObj.$d(e.shopBtn),e.shopBtn=null,GObj.$d(e.addBtn),e.addBtn=null,GObj.$d(e.scroller1),e.scroller1=null,GObj.$d(e.scroller2),e.scroller2=null,GObj.$d(e.lab1),e.lab1=null,GObj.$d(e.lab2),e.lab2=null,GObj.$d(e.lab3),e.lab3=null,GObj.$d(e.lab4),e.lab4=null,GObj.$d(e.helpBtn),e.helpBtn=null,e.itemList&&(e.itemList.dataProvider=null,GObj.$d(e.itemList),e.itemList=null),e._data=null,e.teamItemList&&(e.teamItemList.dataProvider=null,GObj.$d(e.teamItemList),e.teamItemList=null),e.scroller&&(e.scroller.stopAnimation(),e.scroller.viewport=null,GObj.$d(e.scroller)),e.scroller=null,e._teamdata=null},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGING,e.mh,e),e.itemList.addEventListener(egret.TouchEvent.CHANGE,e.pe,e),e.creatRmBtn.addEventListener(eui.tep,e.tc,e),e.invitationBtn.addEventListener(eui.tep,e.zq,e),e.startBtn.addEventListener(eui.tep,e.gz,e),e.shopBtn.addEventListener(eui.tep,e.io,e),e.addBtn.addEventListener(eui.tep,e.po,e),e.helpBtn.addEventListener(eui.tep,e.tu,e),vkG.$a(UtJ.UNQ,e.zh,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.kn,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xi,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.bv,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.gn,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xj,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.ck,e),vkG.$a(UtJ.OL,e.mu,e),vkG.$a(UtJ.GT,e.br,e),vkG.$a(UtJ.EJ,e.br,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGING,e.mh,e),e.itemList.removeEventListener(egret.TouchEvent.CHANGE,e.pe,e),e.creatRmBtn.removeEventListener(eui.tep,e.tc,e),e.invitationBtn.removeEventListener(eui.tep,e.zq,e),e.startBtn.removeEventListener(eui.tep,e.gz,e),e.shopBtn.removeEventListener(eui.tep,e.io,e),e.addBtn.removeEventListener(eui.tep,e.po,e),e.helpBtn.removeEventListener(eui.tep,e.tu,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.kn,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xi,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.bv,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.gn,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xj,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.ck,e),vkG.$r(UtJ.UNQ,e.zh,e),vkG.$r(UtJ.OL,e.mu,e),vkG.$r(UtJ.GT,e.br,e),vkG.$r(UtJ.EJ,e.br,e)},t.prototype.initData=function(){var e=this;e.zt(),e.wu(),e.itemList.selectedIndex=0,e.pe(null),e.br(null)},t.prototype.zt=function(){for(var e=this,t=App.HP.totalMap,n=0;t>n;n++){var i={};i.index=n,i.fightVal=1e3,e._data.source.push(i)}e._data.refresh()},t.prototype.wu=function(){var e=this;e.mu(null),e.invitationBtn.visible=!0,App.HP.status&&!App.HP.captain&&(e.invitationBtn.visible=!1)},t.prototype.dataUpdated=function(){PurgatoryMsgProxy.FW(7,App.KF.uid,110)},t.prototype.kx=function(){var e=this;if(e.CSo){e.scroller1.visible=!1,e.scroller2.visible=!1,e._teamdata.source=[],e._noteamdata.source=[];var t,n=0;if(App.HP.status){n=App.HP.playerList.length;for(var i=0;n>i||3>i;i++)t={},t.teamInfo=App.HP.playerList[i]||null,e._teamdata.source.push(t);e._teamdata.source.sort(e.fe),e.timFightTxt.textFlow=LgRe.OQ(fvg.GVf("purgatory4",App.HP.totalCap)),e.familyShTxt.textFlow=LgRe.OQ(fvg.GVf("purgatory5",App.HP.buff/10)),e.scroller2.visible=!0,e.noteamImg.visible=!1,e.teamTitleGroup.visible=!1,e.creatRmBtn.label=fvg.GVf("purgatory50");for(var r=App.MB.getPurgtoryBossList.sort(e.rf).length,a=0,i=0;r>i;i++){var o=App.MB.getPurgtoryBossList[i];if(o.TSF.mapid==App.HP.mapId){a=i;break}}e.itemList.selectedIndex=a,e.pe(null)}else{var s=App.HP.getNoteamInfoListByMapId(e.ri.TSF.mapid);n=s.length;for(var i=0;n>i;i++)t={},t.frameType=1,t.teamInfo=s[i],e._noteamdata.source.push(t);e.scroller1.visible=!0,e.teamTitleGroup.visible=!0,e.noteamImg.visible=0>=n,e.creatRmBtn.label=fvg.GVf("purgatory8"),e.timFightTxt.text="",e.familyShTxt.text=""}e._noteamdata.refresh(),e._teamdata.refresh(),e.invitationBtn.invitationImg.source=App.HP.status?"purgatory_json.purgatory_invitationBtn_png":"purgatory_json.purgatory_beinvitationBtn_png"}},t.prototype.fe=function(e,t){var n=e.teamInfo?e.teamInfo.captain||0:-1,i=t.teamInfo?t.teamInfo.captain||0:-1;return n>i?-1:0},t.prototype.po=function(e){var t=this,n=ConfigManager.instance.getDataByName(IDU.XU),i=App.HP.fightCountInfo.buyCount||0;if(App.HP.fightCountInfo.buyCount<=0)return void MessageTipManager.instance.show(fvg.GVf("304"));var r=App.HP.fightCountInfo.bigAwardCount||0;if(r>=n[0])return void MessageTipManager.instance.show(fvg.GVf("purgatory47"));if(i){var a=0;a=n[0]-r>i?i:n[0]-r,Alert.WK(fvg.GVf("purgatory66",n[2],Color.TX,a,n[0]),null,null,t.cs,t)}},t.prototype.cs=function(){var e=ConfigManager.instance.getDataByName(IDU.XU);return App.KF.point<e[2]?void MessageTipManager.instance.show(fvg.GVf("public017")):void PurgatoryMsgProxy.UG()},t.prototype.he=function(){var e=this;if(e.CSo){for(var t=XCA.DG(279,e.itemList.selectedIndex+1),n=Nkz.PI(t),i=n.length,r=0;i>r&&3>r;r++)this["goodsItem"+(r+1)].data=n[r];var a=XCA.DG(280,e.itemList.selectedIndex+1),o=Nkz.PI(a);o&&o.length>0&&(e.goodsItem4.data=o[0])}},t.prototype.rf=function(e,t){return e.tid>e.tid?1:0},t.prototype.pe=function(e){var t=this;t.yg=!1,t.ri=App.MB.getPurgtoryBossList.sort(t.rf)[t.itemList.selectedIndex],App.HP.status||t.kx(),t.he()},t.prototype.tc=function(e){var t=this;return App.HP.status?void Alert.WK(fvg.GVf("purgatory68"),void 0,void 0,t.sn,t):App.HP.fightCountInfo.bigAwardCount<=0&&App.HP.fightCountInfo.helpCount<=0?MessageTipManager.instance.show(fvg.GVf("purgatory40")):void(t.ri&&t.ri.TSF&&PurgatoryMsgProxy.FW(1,App.KF.uid,110,t.ri.TSF.mapid))},t.prototype.sn=function(){PurgatoryMsgProxy.FW(3,App.KF.uid)},t.prototype.zq=function(e){if(App.HP.status){var t=App.HP.applyList;if(t&&t.length>0)return PurgatoryMsgProxy.FW(12,App.KF.uid),void App.VS.popup(10145,PurgatoryApplyPopUi,null,1);msgTip(fvg.GVf("purgatory72"))}else{var t=App.HP.beInvitedList;if(t&&t.length>0)return void App.VS.popup(10145,PurgatoryInvitedPop,null,2);msgTip(fvg.GVf("purgatory71"))}},t.prototype.gz=function(e){var t=this;if(App.UY.isCanSwitc()){if(App.HP.status&&!App.HP.captain)return MessageTipManager.instance.show(fvg.GVf("purgatory48"));if(App.HP.status){if(App.HP.playerList.length<3)return void Alert.WK(fvg.GVf("purgatory51"),void 0,void 0,t.rt,t);t.rt()}else t.rt()}},t.prototype.rt=function(){var e=this;return App.HP.fightCountInfo.bigAwardCount<=0&&App.HP.fightCountInfo.helpCount<=0?MessageTipManager.instance.show(fvg.GVf("purgatory40")):void(e.ri&&e.ri.TSF&&(App.HP.isScene=!0,App.VS.closeAll(),App.VS.enterMapOpenUI(e.ri.TSF.mapid,10145,void 0,!1),App.UY.enter(e.ri.TSF.mapid)))
},t.prototype.io=function(e){rRcz.KM()},t.prototype.zh=function(e){var t=this;t.yg=!0,t.kx()},t.prototype.mu=function(e){var t=this,n=ConfigManager.instance.getDataByName(IDU.XU),i=(App.HP.fightCountInfo.bigAwardCount||0)>0?Color.TX:Color.KA;t.fightCtTxt.textFlow=LgRe.OQ(fvg.GVf("purgatory6",i,App.HP.fightCountInfo.bigAwardCount||0,n[0]));var r=(App.HP.fightCountInfo.helpCount||0)>0?Color.TX:Color.KA;t.helpCtTxt.textFlow=LgRe.OQ(fvg.GVf("purgatory7",r,App.HP.fightCountInfo.helpCount||0,n[3]))},t.prototype.mh=function(e){var t=this;if(App.HP.status)return e.preventDefault(),msgTip(fvg.GVf("purgatory53"));if((App.HP.fightCountInfo.maxPassDiff||0)<t.itemList.selectedIndex){e.preventDefault();var n=App.OZ.getDataByName(IDU.BH);return msgTip(fvg.GVf("purgatory45",n[t.itemList.selectedIndex-1]||""))}},t.prototype.br=function(e){this.invitationBtn.icon=UsU.MZ()||UsU.EF()?StaticData.GHj:null},t.prototype.kn=function(){if(this.vi){var e=this.scroller;if(e.viewport.scrollH<=0)return this.vi=!1,void(this.leftBtn.visible=!1);e.viewport.scrollH-=10,e.viewport.scrollH<=e.viewport.contentWidth&&(this.rightBtn.visible=!0)}},t.prototype.xi=function(e){this.vi=!0},t.prototype.bv=function(e){this.vi=!1},t.prototype.gn=function(){var e=this;if(e.wr){var t=e.scroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.wr=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.xj=function(e){this.wr=!0},t.prototype.ck=function(e){this.wr=!1},t.prototype.tu=function(){App.VS.popup(10145,GeneralAboutPopUi,null,AboutType._X)},t.prototype.dispose=function(){var t=this;App.HP.isScene||(App.HP.isScene=!1,PurgatoryMsgProxy.FW(8,App.KF.uid,110)),t.removeEvent(),t.xr(),e.prototype.dispose.call(this)},t}(BaseView);__reflect(PurgatoryView.prototype,"PurgatoryView");var PvpBoxItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PvpBoxItem"),t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.nt();var t=e.data||0;e.numLab.text=fvg.GVf("crossarena12",t)}},t.prototype.cj=function(e){var t=this,n=App.CG.pvpVo.successCount||0,i=t.itemIndex+1,r=t.data||0,a=GObj.$c(BoxPopUi);a.showDetail(302,n,r,i)},t.prototype.nt=function(){var e=this,t=App.CG.pvpVo;if(t){var n=e.data||0,i=t.successCount||0,r=e.itemIndex||0,a=!!(t.boxStatus&1<<r);e.getedImg.visible=a,e.boxBtn.touchChildren=e.boxBtn.touchEnabled=!a,!a&&i>=n?e.boxBtn.icon=StaticData.GHj:e.boxBtn.icon=null}},t.prototype.initEvent=function(){var e=this;e.boxBtn.addEventListener(eui.tep,e.cj,e),e.addEventListener(eui.RFS,e.pk,e),vkG.$a(UtJ.XYJ,e.nt,e)},t.prototype.removeEvent=function(){var e=this;e.boxBtn.removeEventListener(eui.tep,e.cj,e),e.removeEventListener(eui.RFS,e.pk,e),vkG.$r(UtJ.XYJ,e.nt,e)},t.prototype.pk=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(PvpBoxItem.prototype,"PvpBoxItem");var PvpReportItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PvpReportItem"),t}return __extends(t,e),t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;1==t.r?LgRe.UQ(e.reportLab,fvg.GVf("pvp2",t.name)):LgRe.UQ(e.reportLab,fvg.GVf("pvp3",t.name))}},t.prototype.initEvent=function(){this.addEventListener(eui.RFS,this.ig,this)},t.prototype.removeEvent=function(){this.removeEventListener(eui.RFS,this.ig,this)},t.prototype.ig=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(PvpReportItem.prototype,"PvpReportItem");var PvpReportPopUi=function(e){function t(){var t=e.call(this,"PvpReportPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.title=fvg.GVf("martialart107"),t.reportDatas=GObj.$c(eui.ArrayCollection),t.itemGroup.dataProvider=t.reportDatas,t.itemGroup.itemRenderer=PvpReportItem},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=App.CG.pvpVo;if(n){var i=n.history;if(i){t.reportDatas.source.length=0;for(var r=i.length,a=0;r>a;a++)t.reportDatas.source.push(i[a]);t.reportDatas.refresh()}}},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PvpReportPopUi.prototype,"PvpReportPopUi");var PvpRoleItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PvpRoleItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoodsItemRenderer,e.doBtn.label=fvg.GVf("37")},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.itemData.source.length=0;for(var n=XCA.DG(301,t.diff+1),i=Nkz.PI(n),r=i.length,a=0;r>a;a++)e.itemData.source.push(i[a]);e.itemData.refresh(),e.headIcon.source=kLM.JU(1,t.heads,1),e.frameImg.source=kLM.ZQ(t.hf),e.nameLab.text=t.name,e.capLab.text=fvg.GVf("public018",NumberUtil.FF(t.cap)),e.diffImg.source="pvp_json.pvp_diff"+t.diff+"_png",0===e.itemIndex&&fNs.instance.execute(hXS.F_,hXS.RZ,e.doBtn)}},t.prototype.initEvent=function(){var e=this;e.doBtn.addEventListener(eui.tep,e.hp,e),e.addEventListener(eui.RFS,e.bf,e)},t.prototype.removeEvent=function(){var e=this;e.doBtn.removeEventListener(eui.tep,e.hp,e),e.removeEventListener(eui.RFS,e.bf,e)},t.prototype.hp=function(e){if(App.UY.isCanSwitc()){var t=this.data;if(t){var n=App.CG.pvpVo;if(n){if(n.count<=0)return void App.CG.buyCount();PvpMsgProxy.BP(t.userId),App.VS.closeAll()}}}},t.prototype.bf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.itemGroup),e.itemGroup=null,e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(PvpRoleItem.prototype,"PvpRoleItem");var PvpView=function(e){function t(){var t=e.call(this,"PvpView")||this;return t.xt=5,t.pe=10,t.jl=20,t.kd=10,t.ff=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxDatas=GObj.$c(eui.ArrayCollection),e.boxGroup.dataProvider=e.boxDatas,e.boxGroup.itemRenderer=PvpBoxItem,e.roleDatas=GObj.$c(eui.ArrayCollection),e.roleGroup.dataProvider=e.roleDatas,e.roleGroup.itemRenderer=PvpRoleItem,e.refreshBtn.label=fvg.GVf("pvp1")},t.prototype.initData=function(){var e=this;e.boxDatas.source.length=0;var t=XCA.CG(IDU.AJ);if(usable(t)){var n=t.split(StringConst.SF);n&&n.length>=3&&(e.xt=parseInt(n[0]),e.pe=parseInt(n[1]),e.jl=parseInt(n[2]))}var t=XCA.CG(IDU.SP);if(usable(t)){var i=t.split(StringConst.SF);if(i){var r=i.length;if(r>0){e.kd=parseInt(i[r-1]);for(var a=0;r>a;a++)e.boxDatas.source.push(i[a])}}}e.boxDatas.refresh(),e.ct()},t.prototype.ct=function(){var e=this,t=App.CG.pvpVo;if(t&&(e.roleDatas.source.length=0,t.cinfo)){for(var n=t.cinfo.length,i=n-1;i>=0;i--){var r=t.cinfo[i];r.diff=i,e.roleDatas.source.push(r)}e.roleDatas.refresh();var a=Color.XK;(!t.count||t.count<0)&&(a=Color.AY),LgRe.UQ(e.numLab,fvg.GVf("teamcopy32",a,fvg.GVf("public022",t.count,e.xt)));var o=t.successCount||0;e.countPro.value=o/e.kd*100,e.countProTxt.text=fvg.GVf("public022",o||0,e.kd),e.uk=t.nextRecTime,e.refreshLab.visible=!(t.count>=e.xt),t.count>=e.xt?(e.refreshLab.visible=!1,e.numLab.y=544,e.addBtn.y=538):(e.refreshLab.visible=!0,e.numLab.y=529,e.addBtn.y=523),e.gi()}},t.prototype._g=function(e){var t=this,n=GApp.timer;return n<t.ff?void msgTip(fvg.GVf("pvp4")):(t.ff=n+5e3,void PvpMsgProxy.AG())},t.prototype.gi=function(){var e=this,t=App.CG.pvpVo;if(!(t.count>=e.xt)){var n=App.NN.serverSecond;!e.uk||n>=e.uk||(e.refreshLab.text=fvg.GVf("martialart28",kpd.HE(e.uk-n)))}},t.prototype.eoz=function(e){App.CG.buyCount()},t.prototype.tp=function(e){App.VS.popup(10143,PvpReportPopUi)},t.prototype.initEvent=function(){var e=this;e.refreshBtn.addEventListener(eui.tep,e._g,e),e.addBtn.addEventListener(eui.tep,e.eoz,e),e.reportBtn.addEventListener(eui.tep,e.tp,e),vkG.$a(UtJ.XYJ,e.ct,e),vkG.$a(HUtJ.HEARTBEAT,e.gi,e)},t.prototype.removeEvent=function(){var e=this;e.refreshBtn.removeEventListener(eui.tep,e._g,e),e.addBtn.removeEventListener(eui.tep,e.eoz,e),e.reportBtn.removeEventListener(eui.tep,e.tp,e),vkG.$r(UtJ.XYJ,e.ct,e),vkG.$r(HUtJ.HEARTBEAT,e.gi,e)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.F_,hXS.YL),t.removeEvent(),t.roleGroup&&(t.roleGroup.dataProvider=null,GObj.$d(t.roleGroup)),t.boxGroup&&(t.boxGroup.dataProvider=null,GObj.$d(t.boxGroup)),e.prototype.dispose.call(this)},t}(BaseView);__reflect(PvpView.prototype,"PvpView");var QzoneCoverFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vd=-1,e.descTxt.text=fvg.GVf("platform19"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.receiveBtn.addEventListener(eui.tep,t.lk,t),vkG.$a(UtJ.XO,t.bz,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.receiveBtn.removeEventListener(eui.tep,t.lk,t),vkG.$r(UtJ.XO,t.bz,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n=XCA.RE(pba.XK),i=Nkz.PI(n),r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),t.bz()},t.prototype.bz=function(){var e=this,t=256&App.VX.rewardState;if(-1!=e.vd&&t!=e.vd&&Alert.WK(fvg.GVf("wanbagift1"),void 0,Alert.EX),e.vd=t,e.getedImg.visible=t>0,e.receiveBtn.visible=!e.getedImg.visible,!e.getedImg.visible){var n=App.VX.wanbaCoverStatus;1==n?(e.receiveBtn.label=fvg.GVf("evChg03"),e.receiveBtn.icon=StaticData.GHj):(e.receiveBtn.label=fvg.GVf("platform20"),e.receiveBtn.icon=null)}},t.prototype.lk=function(e){this.receiveBtn.icon?NXr.ON(pba.YT):doExtraAction("wanbaCover",{open_id:App.BG.openId,cover_id:130746},null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.getedImg),t.getedImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(QzoneCoverFrame.prototype,"QzoneCoverFrame");var RaidPopUi=function(e){function t(){var t=e.call(this,"RaidPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;RaidMsgProxy.GN(1),e.frameGroup.title=fvg.GVf("raid1"),e.timeLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("raid2",60)),e.descLab.text=fvg.GVf("raid3"),e.addLab.text="("+fvg.GVf("raid6"),e.raidBtn.label=fvg.GVf("raid9"),e.goBtn.label=fvg.GVf("103"),e.openTxt_1.text=fvg.GVf("offline14"),e.openTxt_2.text=fvg.GVf("offline14"),e.platinumTxt.text=fvg.GVf("offline15"),e.diamondTxt.text=fvg.GVf("offline16"),e.smaicon.goodsTid=StaticData.TID_POINT_ID,e.exp_1Lab.text=fvg.GVf("3"),e.gold_1Lab.text=fvg.GVf("465"),e.prac_1Lab.text=fvg.GVf("466")},t.prototype.initEvent=function(){var e=this;e.raidBtn.addEventListener(eui.tep,e.wx,e),e.goBtn.addEventListener(eui.tep,e.ey,e),vkG.$a(UtJ.HA,e.pc,e),vkG.$a(UtJ.AO,e.yp,e),vkG.$a(UtJ.NB,e.ou,e),vkG.$a(UtJ.IN,e.yp,e),e.platinumBtn.addEventListener(eui.tep,e.__platinumBtnBtnClickHandler,e),e.diamondBtn.addEventListener(eui.tep,e.__diamondBtnBtnClickHandler,e)},t.prototype.initData=function(){var e=this;e.ou(),e.yv()},t.prototype.yv=function(){var e=this;e.i_=App.XT.vipInfo.vipGrade;var t=App.BM.count,n=(50*Math.pow(2,t)).toString();parseInt(n)>1600&&(n="1600"),e.numLab.text=n,parseInt(n)>App.KF.point?e.numLab.textColor=Color.KA:e.numLab.textColor=Color.XB;var i=XCA.CG(IDU.VO);e.timeLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("raid2",i)),e.tub();var r=XCA.CG(IDU.PO),a=0,o=parseInt(r);a=o-App.BM.count;var s;if(e.i_>0){var p=App.XT.getPrivilegeByVipGradeAndType(e.i_,19);o+=p,a=o-App.BM.count}s=0==a?Color.KA:Color.TX,e.useLab.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("raid5",s,a,o)),App.DE.supremeCardVO.isWeek?(e.platinumBtn.bgImg.source="offline_json.offline_diamond_png",e.openTxt_1.visible=!1):(e.platinumBtn.bgImg.source="offline_json.offline_diamond_grey_png",e.openTxt_1.visible=!0),App.DE.supremeCardVO.isMonth?(e.diamondBtn.bgImg.source="offline_json.offline_platinum_png",e.openTxt_2.visible=!1):(e.diamondBtn.bgImg.source="offline_json.offline_platinum_grey_png",e.openTxt_2.visible=!0)},t.prototype.ou=function(){if(App.DE.supremeCardVO.isWeek){App.XT.getPrivilegeByVipGradeAndType(101,7),App.XT.getPrivilegeByVipGradeAndType(101,10),App.XT.getPrivilegeByVipGradeAndType(101,13)}if(App.DE.supremeCardVO.isMonth){App.XT.getPrivilegeByVipGradeAndType(102,7),App.XT.getPrivilegeByVipGradeAndType(102,10),App.XT.getPrivilegeByVipGradeAndType(102,13)}},t.prototype.removeEvent=function(){var e=this;e.raidBtn.removeEventListener(eui.tep,e.wx,e),e.goBtn.removeEventListener(eui.tep,e.ey,e),vkG.$r(UtJ.IN,e.yp,e),vkG.$r(UtJ.HA,e.pc,e),vkG.$r(UtJ.AO,e.yp,e),vkG.$r(UtJ.NB,e.ou,e),e.platinumBtn.removeEventListener(eui.tep,e.__platinumBtnBtnClickHandler,e),e.diamondBtn.removeEventListener(eui.tep,e.__diamondBtnBtnClickHandler,e)},t.prototype.__platinumBtnBtnClickHandler=function(e){App.VS.open(10125),GObj.$d(this)},t.prototype.__diamondBtnBtnClickHandler=function(e){App.VS.open(10125,{tabType:2}),GObj.$d(this)},t.prototype.vo=function(e){GObj.$d(this)},t.prototype.wx=function(e){var t=this,n=parseInt(t.numLab.text);if(App.KF.point<n){var i=fvg.GVf("wealthDish03");return void Alert.WK(i,null,null,t.hc,t)}var r=XCA.CG(IDU.PO),a=0,o=parseInt(r),s=App.XT.getPrivilegeByVipGradeAndType(t.i_,19);o+=s,a=o-App.BM.count,0>=a&&MessageTipManager.instance.show(fvg.GVf("raid8")),RaidMsgProxy.GN(2)},t.prototype.hc=function(){var e=this;e.destory||GObj.$d(e),App.VS.open(10089)},t.prototype.ey=function(e){GObj.$d(this),App.VS.open(10088)},t.prototype.pc=function(){var e=this;e.i_=App.XT.vipInfo.vipGrade,e.i_>=MaxLevel.SVIP_MAX_LEVEL&&(e.i_=MaxLevel.SVIP_MAX_LEVEL)},t.prototype.yp=function(){this.yv()},t.prototype.tub=function(){for(var e,t=App.BM.exp||0,n=App.BM.gold||0,i=App.BM.cul||0,r="100301401,"+t+"|100101401,"+n+"|111701401,"+i,a=Nkz.PI(r),o=a.length,s=0;o>s;s++)e=GObj.$c(GoodsItemView),e.data=a[s],e.x=83*s,this.goodsGroup.addChild(e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.exp_1Lab),t.exp_1Lab=null,GObj.$d(t.gold_1Lab),t.gold_1Lab=null,GObj.$d(t.prac_1Lab),t.prac_1Lab=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.raidBtn),t.raidBtn=null,GObj.$d(t.useLab),t.useLab=null,GObj.$d(t.addLab),t.addLab=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.smaicon),t.smaicon=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RaidPopUi.prototype,"RaidPopUi");var RankBtnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RankBtnItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){this.dw()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.kf,e),e.addEventListener(eui.tep,e.wp,e),e.addEventListener(egret.Event.CHANGE,e.wp,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.kf,e),e.removeEventListener(eui.tep,e.wp,e),e.removeEventListener(egret.Event.CHANGE,e.wp,e)},t.prototype.wp=function(){this.once(egret.Event.ENTER_FRAME,this.dw,this)},t.prototype.dw=function(){var e=this;if(e.CSo&&e.data){e.ue=kLM.DUE(e.data.num,"sel"),e.vx=kLM.DUE(e.data.num,"unsel");var t=e.currentState;"upAndSelected"===t||"downAndSelected"===t?e.kg=e.ue:"up"===t||"down"===t?e.kg=e.vx:e.kg=e.vx,e.seleletDisplay.source="",e.seleletDisplay.source=e.kg}},t.prototype.kf=function(e){GObj.$d(this)},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RankBtnItem.prototype,"RankBtnItem");var RankFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.mf=QycO.OK,n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.uy={},e.datas=GObj.$c(eui.ArrayCollection),e.descLab.text=fvg.GVf("rank9"),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=RankItemRenderer,e.fo=GObj.$c(FigureView),e.fo.x=280,e.fo.y=370,e.fo.scaleX=.8,e.fo.scaleY=.8,e.avatarGroup.addChildAt(e.fo,0),e.svipGrade=GObj.$c(SvipNumView),e.nameGroup.addChild(e.svipGrade),e.appellIcon=GObj.$c(ImageIcon),e.appellIcon.horizontalCenter=89,e.appellIcon.y=70,e.avatarGroup.addChildAt(e.appellIcon,1),e.btnDatas=GObj.$c(eui.ArrayCollection),e.btnList.dataProvider=e.btnDatas,e.btnList.itemRenderer=RankBtnItem;for(var t,n=1;11>=n;n++)t={},t.num=n,e.btnDatas.source.push(t);e.btnDatas.refresh()},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.btnList.selectedIndex=App.PV.selectBtn,App.PV.selectBtn=0,t.gn()},t.prototype.gm=function(e){var t=this;e.type==t.mf&&(t.oq=e,t.wy())},t.prototype.wy=function(){var e=this;if(e.oq){if(e.myRankLab.text=fvg.GVf("rank0",e.oq.order?e.oq.order:"20+"),e.myValueLab.text=fvg.GVf("rank_"+e.mf,e.oq.score),e.oq.type==FDG.RV&&(!e.oq.order||e.oq.order>StaticData.ARENA_MAX_RANK)&&(e.myRankLab.text=fvg.GVf("rank0",fvg.GVf("public042"))),e.oq.list.length<=0||1!=e.oq.list[0].rank)e.nameLab.text=QycO.OK,e.prestigeLab.text=QycO.OK,e.gradeLab.text=QycO.OK,e.capLab.text=QycO.OK,e.svipGrade.visible=!1,e.appellIcon.source=null,e.nullLab.visible=!0,e.winCount.visible=!1,e.nullLab.text=fvg.GVf("rank10"),e.oq.type==FDG.UM&&(App.KF.fid?e.myRankLab.text=fvg.GVf("rank1",fvg.GVf("martialart_name_"+App.KF.fid)):e.myRankLab.text=fvg.GVf("rank1",fvg.GVf("rank11")),e.myValueLab.text=fvg.GVf("rank_"+e.mf,App.BG.playerAttrsInfo.cap)),e.fo.parent&&e.fo.parent.removeChild(e.fo);else{e.xe&&(e.xe.visible=!1),e.nullLab.visible=!1;var t=e.oq.list[0];if(e.nameLab.text=t.name,e.gradeLab.text=fvg.GVf("public013",t.grade),t.type==FDG.JV||t.type==FDG.VI||t.type==FDG.HX||t.type==FDG.FE||t.type==FDG.BA||t.type==FDG.NO||t.type==FDG.VY||t.type==FDG.JD?e.capLab.text=fvg.GVf("public018",t.score):e.capLab.text=fvg.GVf("public018",t.cap),t.type==FDG.UM){e.capLab.y=254,e.gradeLab.y=278,e.gradeLab.text=fvg.GVf("public047",t.bact);var n=StaticData.MARTIALT_APPELL[t.fid+"_109"];e.oq.list.length;e.appellIcon.source=kLM.EF(n),e.myRankLab.text=fvg.GVf("rank1",fvg.GVf("martialart_name_"+(App.KF.fid||1))),e.myValueLab.text=fvg.GVf("rank_"+e.mf,App.BG.playerAttrsInfo.cap)}else t.type==FDG.IR?(e.gradeLab.text=fvg.GVf("public108",t.score),e.capLab.y=278,e.gradeLab.y=254):(e.gradeLab.text=fvg.GVf("public013",t.grade),e.capLab.y=278,e.gradeLab.y=254);var i=t.fgrade||1,r=t.fid||1,a=XCA.AQS.UFA(21,1,i);if(a){var o=Nkz.LI(a.p5);e.prestigeLab.text=fvg.GVf("martialart_appell_"+r,i)+o[t.fid||1],e.prestigeLab.textColor=aKF.DU(gLw.GM(a.tid))}t.vip>0?(e.svipGrade.svipNum=t.vip,e.svipGrade.visible=!0):e.svipGrade.visible=!1,FigureHelps.NW(e.fo,{b:t.b,w:t.w,c:t.c,s:StaticData.SEX_BOY}),e.fo.parent||e.avatarGroup.addChildAt(e.fo,0);var s=t.stg;e.xe&&e.xe.parent&&e.removeChild(e.xe),s>0&&(e.xe&&e.xe.parent?(e.removeChild(e.xe),e.sx_(s)):e.sx_(s),e.xe.play(),e.addChildAt(e.xe,e.numChildren))}e.datas.source.splice(0,e.datas.source.length);var p=e.oq.list,l=p.length;if(p)for(var c=1;l>c;c++)e.datas.source[c-1]=p[c];if(e.oq.type==FDG.UM&&4>l){var u=4-l;u=4==u?3:u;for(var d=0;u>d;d++){var g={};g.rank=l+d+1,g.type=FDG.UM,e.datas.source.push(g)}}if(e.oq.type==FDG.RV&&l<StaticData.ARENA_RANK_NUMBER){var v={};if(p)for(var h=0;l>h;h++)v[p[h].rank]=p[h];for(var g=void 0,m=2;m<=StaticData.ARENA_RANK_NUMBER;m++)g=v[m],g||(g={},g.rank=m,g.type=FDG.RV),e.datas.source[m-2]=g}if((e.oq.type==FDG.FE||e.oq.type==FDG.BA||e.oq.type==FDG.NO||e.oq.type==FDG.VY||e.oq.type==FDG.JD)&&l<StaticData.SUPEREQUIP_RANK){var f=p.length,g=void 0,v={};if(p)for(var y=0;f>y;y++)v[p[y].rank]=p[y];for(var b=2;b<=StaticData.SUPEREQUIP_RANK;b++)g=v[b],g||(g={},g.rank=b,g.type=FDG.RV),e.datas.source[b-2]=g}e.datas.refresh()}},t.prototype.sx_=function(e){var t=this;e>0&&(t.xe&&(GObj.$d(t.xe),t.xe=null),t.xe=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((e+1)/4))),t.xe.x=120,t.xe.y=30,t.xe.touchEnabled=!1,t.xe.touchChildren=!1,t.xe.addEventListener(egret.Event.COMPLETE,t.lh,t)},t.prototype.lh=function(e){var t=this;t.xe&&t.xe.parent&&t.removeChild(t.xe)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.vsBtn.addEventListener(eui.tep,t.fm,t),t.btnList.addEventListener(eui.ItemTapEvent.ITEM_TAP,t.gn,t),vkG.$a(UtJ.TT,t.gm,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.vsBtn.removeEventListener(eui.tep,t.fm,t),t.btnList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,t.gn,t),vkG.$r(UtJ.TT,t.gm,t)},t.prototype.gn=function(){var e=this,t=e.btnList.selectedIndex;switch((0>t||t>e.btnDatas.length)&&(t=0),e.descLab.visible=!0,t){case 0:e.mf=FDG.AE,e.appellIcon.source=kLM.EF(StaticData.APPELL_GRADE);break;case 1:e.mf=FDG.G_,e.appellIcon.source=kLM.EF(StaticData.APPELL_CAP);break;case 2:e.mf=FDG.JV,e.appellIcon.source=kLM.EF(StaticData.APPELL_KUNGFU);break;case 3:e.mf=FDG.VI,e.appellIcon.source=kLM.EF(StaticData.APPELL_PK);break;case 4:e.mf=FDG.UM;break;case 5:e.appellIcon.source=kLM.EF(StaticData.APPELL_ARENA),e.descLab.visible=!1,e.mf=FDG.RV;break;case 6:e.appellIcon.source=kLM.EF(StaticData.TOWN_MAGIC_1),e.mf=FDG.IR;break;case 7:e.appellIcon.source=kLM.EF(StaticData.APPELL_FASHION),e.mf=FDG.FE;break;case 8:e.appellIcon.source=kLM.EF(StaticData.APPELL_BEAUTY),e.mf=FDG.BA;break;case 9:e.appellIcon.source=kLM.EF(StaticData.APPELL_HERO),e.mf=FDG.NO;break;case 10:e.appellIcon.source=kLM.EF(StaticData.APPELL_RUNE),e.mf=FDG.VY;break;case 11:e.appellIcon.source=kLM.EF(StaticData.APPELL_OFFICIAL),e.mf=FDG.JD}e.oq=App.PV.getData(e.mf),e.uy[e.mf]||(e.uy[e.mf]=!0,RankMsgProxy.IU(e.mf)),e.wy(),e.ad()},t.prototype.ad=function(){var e=this.btnList;if(e){var t=e.$children;for(var n in t){var i=t[n];i.dispatchEvent(new egret.Event(egret.Event.CHANGE))}}},t.prototype.fm=function(){var e=GObj.$c(RankVsPopUi);e.show()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.appellIcon),t.appellIcon=null,GObj.$d(t.prestigeLab),t.prestigeLab=null,GObj.$d(t.svipGrade),t.svipGrade=null,GObj.$d(t.fo),t.fo=null,GObj.$d(t.winCount),t.winCount=null,GObj.$d(t.nameGroup),t.nameGroup=null,GObj.$d(t.avatarGroup),t.avatarGroup=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.vsBtn),t.vsBtn=null,GObj.$d(t.xe),t.xe=null,t.datas=null,App.PV.selectBtn=0,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(RankFrame.prototype,"RankFrame");var RankItemRenderer=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RankItemRendererSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.selected=!1,e.touchEnabled=!1,e.headImg=GObj.$c(ImageIcon),e.headImg.verticalCenter=0,e.headImg.horizontalCenter=-100,e.headImg.width=e.headImg.height=68,e.addChildAt(e.headImg,1),e.svipGrade=GObj.$c(SvipNumView),e.nameGroup.addChildAt(e.svipGrade,1),e.nullLab.text=fvg.GVf("rank10")},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.by,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.by,e)},t.prototype.by=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.diaLvView&&(GObj.$d(e.diaLvView),e.diaLvView=null),e.data){var t=e.data,n=!0;t.name||(n=!1),e.headImg.visible=n,e.gradeLab.visible=n,e.nameLab.visible=n,e.gradeLab.visible=n,e.capLab.visible=n,e.svipGrade.visible=n,e.frameImg.visible=n,e.nullLab.visible=!n,e.winCount.visible=n,t.type!=FDG.UM&&t.type!=FDG.RV&&(e.nullLab.visible=!1),3==t.rank||2==t.rank?(e.rankImg.visible=!0,e.rankLab.visible=!1,e.rankImg.source=kLM.TE(t.rank)):(e.rankImg.visible=!1,e.rankLab.visible=!0,e.rankLab.text=toChars(t.rank));t.usehf?t.usehf:1;if(n){t.fid||1;if(e.headImg.source=kLM.JU(parseInt(t.head),t.heads,1),e.frameImg.source=kLM.ZQ(t.usehf?t.usehf:1),e.nameLab.text=t.name,e.gradeLab.text=fvg.GVf("public013",t.grade),t.type==FDG.JV||t.type==FDG.VI||t.type==FDG.HX||t.type==FDG.FE||t.type==FDG.BA||t.type==FDG.VY||t.type==FDG.NO||t.type==FDG.JD?e.capLab.text=fvg.GVf("public018",t.score):e.capLab.text=fvg.GVf("public018",t.cap),t.type==FDG.UM){e.gradeLab.text=null,e.gradeLab.text=fvg.GVf("public047",t.bact);StaticData.MARTIALT_APPELL[t.fid+"_109"]}else t.type==FDG.IR?e.gradeLab.text=fvg.GVf("public108",t.score):e.gradeLab.text=fvg.GVf("public013",t.grade);t.vip>0?(e.svipGrade.svipNum=t.vip,e.svipGrade.visible=!0):e.svipGrade.visible=!1,e.winCount.visible=t.ho>0,e.winCount.label=toChars(t.ho||0)}}},t.prototype.changeNameGroup=function(e,t,n){},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.headImg),e.headImg=null,GObj.$d(e.rankLab),e.rankLab=null,GObj.$d(e.rankImg),e.rankImg=null,GObj.$d(e.nameLab),e.nameLab=null,GObj.$d(e.gradeLab),e.gradeLab=null,GObj.$d(e.capLab),e.capLab=null,GObj.$d(e.svipGrade),e.svipGrade=null,GObj.$d(e.nullLab),e.nullLab=null,GObj.$d(e.appellImg),e.appellImg=null,GObj.$d(e.winCount),e.winCount=null,GObj.$d(e.frameImg),e.frameImg=null,GObj.$d(e.diaLvView),e.diaLvView=null,GObj.$d(e.nameGroup),e.nameGroup=null,e.parent&&e.parent.removeChild(e)},t}(BaseItemRenderer);__reflect(RankItemRenderer.prototype,"RankItemRenderer");var RankVsItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RankVsItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.typeImg.source="rank_json.rank_vs_img_"+e.data.type+"_png",e.typeTxt.text=fvg.GVf("rank_"+e.data.type+"_2"),e.nameTxt.text=e.data.firstInfo?e.data.firstInfo.name:"";var t=e.data.firstInfo?e.data.firstInfo.score:0;e.proTxt.text=fvg.GVf("beauty17",e.data.myInfo,t),e.proBar.value=Math.min(int(e.data.myInfo/t*100),100)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.as,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.as,e)},t.prototype.as=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.typeTxt),t.typeTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proTxt),t.proTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RankVsItem.prototype,"RankVsItem");var RankVsPopUi=function(e){function t(){var t=e.call(this,"RankVsPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,ziI.MF("rankvs"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bc={},e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=RankVsItem,e.v_||(e.v_=GObj.$c(FigureView)),e.v_.x=250,e.v_.y=330,e.v_.scaleX=.8,e.v_.scaleY=.8,e.avatarGroup.addChild(e.v_),e.nameTxt.text=App.KF.name;var t=App.KF.fid,n=App.KF.fgrade,i=XCA.AQS.UFA(21,1,n);if(i){var r=fvg.GVf("martialart_appell_"+t,n);e.prestigeTxt.textColor=aKF.DU(gLw.GM(i.tid));var a=Nkz.LI(i.p5);0==t?e.prestigeTxt.text=fvg.GVf("martialart52"):e.prestigeTxt.text=r+a[t]}e.gradeTxt.text=fvg.GVf("public013",App.KF.grade),e.cpTxt.text=fvg.GVf("public018",App.BG.playerAttrsInfo.cap),e.frameGroup.title=fvg.GVf("rank14")},t.prototype.initData=function(){var e=this;e.of(),e.za(),e._g()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.FA,e.of,e),vkG.$a(UtJ.ZX,e.za,e),vkG.$a(UtJ.TT,e.bq,e)},t.prototype.removeEvent=function(){var e=this;
vkG.$r(UtJ.FA,e.of,e),vkG.$r(UtJ.FA,e.of,e),vkG.$r(UtJ.ZX,e.za,e),vkG.$r(UtJ.TT,e.bq,e)},t.prototype.bq=function(e){e&&this._g()},t.prototype._g=function(){var e=App.PV.rankVsArr;this.datas.source.splice(0,this.datas.source.length);var t;for(var n in e)"superequip"!==n&&(t={},t.type=n,t.myInfo=e[n].myscore,t.firstInfo=e[n],this.datas.source.push(t));this.datas.refresh()},t.prototype.ee=function(e){GObj.$d(this)},t.prototype.of=function(){var e=this;if(e.v_){var t=App.KF.sex||1;FigureHelps.NW(e.v_,{b:App.KF.b,w:App.KF.w,c:App.KF.c,s:t});var n=App.KF.stg;e.kh&&e.kh.parent&&e.removeChild(e.kh),n>0&&(e.kh&&e.kh.parent?(e.removeChild(e.kh),e.zj()):e.zj(),e.kh.play(),e.addChildAt(e.kh,e.numChildren))}},t.prototype.zj=function(){var e=this,t=App.KF.stg;t>0&&(e.kh=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((t+1)/4))),e.kh.horizontalCenter=0,e.kh.y=0,e.kh.touchEnabled=!1,e.kh.touchChildren=!1,e.kh.addEventListener(egret.Event.COMPLETE,e.ss,e)},t.prototype.ss=function(e){var t=this;t.kh&&t.kh.parent&&t.removeChild(t.kh)},t.prototype.za=function(){this._g()},t.prototype.bd=function(){var e=0,t=XCA.AQS.UFA(25,1,App.XV.runegrade);if(t){var n=t.attrid,i=XCA.YV(n);e=i.p1}for(var r=App.FK.LHp(6),a=r.length,o=0,s=0;a>s;s++)o+=App.XV.getAttCP(r[s],r[s].p3);return o+=e},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.avatarGroup),t.avatarGroup=null,GObj.$d(t.prestigeTxt),t.prestigeTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RankVsPopUi.prototype,"RankVsPopUi");var RebateBtnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RebateBtnItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.iconDisplay.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ni,e),vkG.$a(UtJ.PP,e.g_,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ni,e),vkG.$r(UtJ.PP,e.g_,e)},t.prototype.g_=function(e){var t=this;t.ji&&e&&e.indexOf(t.ji.id)>=0&&t.dataChanged()},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ji=e.data,e.labelDisplay.text=e.ji.describe,e.iconDisplay.visible=e.ji.hasReceiveBag?!0:!1)},t.prototype.ni=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.labelDisplay),t.labelDisplay=null,GObj.$d(t.iconDisplay),t.iconDisplay=null,t.ji=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RebateBtnItem.prototype,"RebateBtnItem");var RebateFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.btnData=GObj.$c(eui.ArrayCollection),e.btnList.dataProvider=e.btnData,e.btnList.itemRenderer=RebateBtnItem,e.re=GObj.$c(RebateView),e.re.x=25,e.re.y=64,e.addChild(e.re)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n=App.MG.rebateList,i=n.length,r=0;i>r;r++)n[r].isExist&&t.btnData.source.push(n[r]);t.btnData.source.sort(App.MG.compareFunBySort),t.btnData.refresh(),t.btnList.selectedIndex=0,t.zg()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.btnList.addEventListener(egret.Event.CHANGE,t.bo,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.btnList.removeEventListener(egret.Event.CHANGE,t.bo,t)},t.prototype.bo=function(e){this.zg()},t.prototype.zg=function(){var e=this,t=e.btnList.selectedItem;e.re.ok_h=t},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.re),t.re=null,t.btnList&&(t.btnList.dataProvider=null,GObj.$d(t.btnList)),t.btnList=null,t.btnData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(RebateFrame.prototype,"RebateFrame");var RebateItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RebateItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ae=[],e.datas=GObj.$c(eui.ArrayCollection),e.dataGroup.dataProvider=e.datas,e.dataGroup.itemRenderer=GoodsItemRenderer,e.receiveBtn.label=fvg.GVf("104"),e.goBtn.label=fvg.GVf("funny3"),e.titleTxt.text="",e.progTxt.text=""},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.ml=e.data,e.titleTxt.text=fvg.GVf("funny33",e.ml.totalFinish,App.MG.keepRebate),e.progTxt.text=fvg.GVf("112",e.ml.haveFinish,e.ml.totalFinish),e.progTxt.textColor=e.ml.haveFinish>=e.ml.totalFinish?Color.SQ:Color.KA,e.progTxt.x=e.titleTxt.x+e.titleTxt.width,e.updateReward(),e.kx())},t.prototype.updateReward=function(){var e=this;e.datas.source.splice(0,e.datas.source.length);for(var t,n=e.ml.rewardList,i=0;i<n.length;i++)!e.ae[i]&&(e.ae[i]=GObj.$c(nlwj)),t=e.ae[i],t.tid=n[i].tempId,t.count=n[i].count,e.datas.source.push(t);e.datas.refresh()},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.gn,e),e.goBtn.addEventListener(eui.tep,e.ty,e),e.addEventListener(eui.RFS,e.fw,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.gn,e),e.goBtn.removeEventListener(eui.tep,e.ty,e),e.removeEventListener(eui.RFS,e.fw,e)},t.prototype.gn=function(e){var t=this;if(t.ml)return 0==t.ml.status?void App.TT.show(fvg.GVf("firstcharge004")):void FunnyMsgProxy.LR(t.ml.id)},t.prototype.ty=function(){this.ml&&App.VS.open(10089)},t.prototype.fw=function(e){GObj.$d(this)},t.prototype.kx=function(){var e=this;e.receiveBtn.visible=!1,e.goBtn.visible=!0,e.receiveBtn.icon=null,e.gotImg.visible=!1;var t=e.ml.status;switch(t){case 0:e.gotImg.visible=!1,e.receiveBtn.icon=null;break;case 1:e.receiveBtn.visible=!0,e.goBtn.visible=!1,e.receiveBtn.icon=StaticData.GHj;break;case 2:e.goBtn.visible=!1,e.gotImg.visible=!0}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.gotImg),t.gotImg=null,GObj.$d(t.goBtn),t.goBtn=null,t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup)),t.dataGroup=null,t.datas=null,t.ml=null,t.ae=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RebateItem.prototype,"RebateItem");var RebateView=function(e){function t(){var t=e.call(this,"RebateView")||this;return t.skinName=RRUU.$s("RebateViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sp=GObj.$c(nlwj),e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=RebateItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.dl,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.dl,e),vkG.$r(UtJ.HD,e.wy,e)},t.prototype.initData=function(){},t.prototype.dl=function(e){var t=this;t.uz&&e&&e.indexOf(t.uz.id)>=0&&t.refreshView(!1)},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.uz},set:function(e){var t=this;t.uz=e,t.refreshView(!0)},enumerable:!0,configurable:!0}),t.prototype.refreshView=function(e){var t=this;t.CSo&&t.uz&&(t.updateLastTime(),t.updateBagItem(e),App.MG.keepRebate=t.uz.p1,t.payTxt.text=fvg.GVf("funny34",t.uz.p2))},t.prototype.updateLastTime=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?vkG.$a(UtJ.HD,e.wy,e):vkG.$r(UtJ.HD,e.wy,e),e.wy()},t.prototype.wy=function(){var e=this,t=e.ok_h.showEnd-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(vkG.$r(UtJ.HD,e.wy,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.updateBagItem=function(e){for(var t=this,n=t.uz.bagList,i=n.length,r=[],a=0;i>a;a++)r.push(n[a]);t.itemDatas.replaceAll(r),e&&(t.itemScroller.stopAnimation(),t.itemDatas.refresh());for(var o,a=0;i>a;a++)(!o||o.sort<n[a].sort)&&(o=n[a]);if(o){var s=o.rewardList[0];s&&(t.sp.tid=s.tempId,t.sp.count=s.count,t.goodView.data=t.sp,t.nameTxt.text=t.sp.TSF?t.sp.TSF.name:"",t.nameTxt.textColor=aKF.DU(t.sp.quality))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.goodView),t.goodView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.payTxt),t.payTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,t.uz=null,t.sp=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RebateView.prototype,"RebateView");var RechargeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RechargeItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.NG.getChargePointStr(),n=t.split(QycO.PK),i=n.length;e.zb={},e.on=[];for(var r=0;i>r;r++){var a=n[r].split(QycO.XP);a&&a.length>=2&&(e.on.push(a[0]),e.zb[a[0]]=a[1])}},t.prototype.initEvent=function(){var e=this;e.itemBtn.addEventListener(eui.tep,e.gr,e),e.addEventListener(eui.RFS,e.es,e),vkG.$a(UtJ.MO,e.by,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.on[e.data-1];e.itemBtn.buygoldBg.source="recharge_json.buygoldImg_"+t+"_png",e.itemBtn.buygold_title.source="recharge_json.buygold_"+t+"_png",e.by()}},t.prototype.by=function(){var e=this;if(e.data){var t=e.on[e.data-1];if(t){e.itemBtn.descTxt_1.text=fvg.GVf("recharge001",10*t);var n=App.BG.rechargeCount;if(n&&n[t]){var i=parseInt(toChars(e.zb[t]));i?e.itemBtn.descTxt_2.text=fvg.GVf("recharge002",i):e.itemBtn.descTxt_2.text=QycO.OK}else e.itemBtn.descTxt_2.text=fvg.GVf("recharge002",4*t*10)}}},t.prototype.removeEvent=function(){var e=this;e.itemBtn.removeEventListener(eui.tep,e.gr,e),e.removeEventListener(eui.RFS,e.es,e),vkG.$r(UtJ.MO,e.by,e)},t.prototype.gr=function(e){var t=this,n=t.on[t.data-1],i=0,r=App.BG.rechargeCount;i=r&&r[n]?t.zb[n]:4*n*10;var a;a=i>0?fvg.GVf("recharge006",10*n,i):fvg.GVf("recharge008",10*n),Alert.WK(a,null,null,t.st,t)},t.prototype.st=function(){var e=this,t=e.on[e.data-1];NXr.BP({total_fee:100*t,subject:1})},t.prototype.es=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemBtn),t.itemBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RechargeItem.prototype,"RechargeItem");var RechargeView=function(e){function t(){var t=e.call(this,"RechargeView")||this;return t.skinName=RRUU.$s("RechargeView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.NG.getCardPointStr();e.zr=t?t.split(","):["28","188"],e.xw=parseInt(XCA.CG(IDU.DE))||0,e.vipGradeView=GObj.$c(NumberView),e.vipGradeView.x=70,e.vipGradeView.y=35,e.needGoldView=GObj.$c(NumberView),e.needGoldView.x=190,e.needGoldView.y=20,e.levelupView=GObj.$c(NumberView),e.levelupView.x=369,e.levelupView.y=20,e.datas=GObj.$c(eui.ArrayCollection),e.buygoldList.dataProvider=e.datas,e.buygoldList.itemRenderer=RechargeItem,e.addChild(e.vipGradeView),e.addChild(e.needGoldView),e.addChild(e.levelupView),e.privilegeBtn.label=fvg.GVf("family66")},t.prototype.initData=function(){for(var e=this,t=App.NG.getChargePointStr(),n=t.split(QycO.PK),i=n.length,r=1;i>=r;r++)e.datas.source.push(r);e.datas.refresh(),e.bc(),e.xb()},t.prototype.initEvent=function(){var e=this;e.privilegeBtn.addEventListener(eui.tep,e.jm,e),e.first_chargeBtn.addEventListener(eui.tep,e.nq,e),e.platinumBtn.addEventListener(eui.tep,e.il,e),e.pointBtn.addEventListener(eui.tep,e.ez,e),vkG.$a(UtJ.HA,e.bc,e),vkG.$a(UtJ.NB,e.xb,e)},t.prototype.removeEvent=function(){var e=this;e.privilegeBtn.removeEventListener(eui.tep,e.jm,e),e.first_chargeBtn.removeEventListener(eui.tep,e.nq,e),e.platinumBtn.removeEventListener(eui.tep,e.il,e),e.pointBtn.removeEventListener(eui.tep,e.ez,e),vkG.$r(UtJ.HA,e.bc,e),vkG.$r(UtJ.NB,e.xb,e)},t.prototype.jm=function(e){App.VS.open(10088)},t.prototype.nq=function(e){var t=this;if(App.MG.getFirstChargeState())return void MessageTipManager.instance.show(fvg.GVf("recharge14"));var n=fvg.GVf("recharge003",t.xw);Alert.WK(n,null,null,t.cr,t)},t.prototype.cr=function(){var e=App.MG.firstCharge.bagList[0].id;NXr.BP({total_fee:100*this.xw,subject:4,param3:e})},t.prototype.il=function(e){var t=this;if(!App.DE.supremeCardVO.isWeek){var n=parseInt(t.zr[0]),i=fvg.GVf("recharge004",n);Alert.WK(i,null,null,t["do"],this,[n])}},t.prototype["do"]=function(e){NXr.BP({total_fee:100*e,subject:5,param3:1})},t.prototype.ez=function(e){var t=this;if(!App.DE.supremeCardVO.isMonth){var n=parseInt(t.zr[1]),i=fvg.GVf("recharge005",n);Alert.WK(i,null,null,t.io,this,[n])}},t.prototype.io=function(e){NXr.BP({total_fee:100*e,subject:5,param3:2})},t.prototype.bc=function(){var e,t,n=this,i=App.XT.vipInfo.vipGrade,r=MaxLevel.SVIP_MAX_LEVEL_2;n.descImg.visible=n.descImg_1.visible=n.descImg_2.visible=n.needGoldView.visible=n.levelupView.visible=!(i>=r);var a=App.VX.wbShare?10:1;if(i>=r)i=r,e=XCA.AQS.UFA(20,1,i),n.gpProgBar.value=100,n.maxImg.visible=!0,n.gpTxt.text=fvg.GVf("public022",parseInt(e.cost)*a,parseInt(e.cost)*a);else{e=XCA.AQS.UFA(20,1,i),t=XCA.AQS.UFA(20,1,i+1);var o=parseInt(t.cost),s=App.XT.vipInfo.vipGp;n.gpProgBar.value=Math.min(int(s/o*100),100),n.gpTxt.text=fvg.GVf("public022",s*a,o*a),hFO.instance.getNumberView(bRC.TE,(parseInt(t.cost)-App.XT.vipInfo.vipGp).toString(),-2,n.needGoldView),hFO.instance.getNumberView(bRC.TE,(i+1).toString(),-4,n.levelupView),n.descImg.x=n.needGoldView.x+n.needGoldView.width+3,n.descImg_2.x=n.descImg.x+n.descImg.width,n.levelupView.x=n.descImg_2.x+n.descImg_2.width}hFO.instance.getNumberView(bRC.TE,i.toString(),-9,n.vipGradeView),n.vipGradeView.horizontalCenter=-190,n.first_chargeBtn.haveImg.visible=App.MG.getFirstChargeState()},t.prototype.xb=function(){var e=this;e.platinumBtn.haveImg.visible=App.DE.supremeCardVO.isWeek,App.NG.isWXminiChannel()?e.platinumBtn.bgImg.source="recharge_json.rechargeBg_3_wx_png":e.platinumBtn.bgImg.source="recharge_json.rechargeBg_3_png",e.pointBtn.haveImg.visible=App.DE.supremeCardVO.isMonth},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.buygoldScroller&&(t.buygoldScroller.stopAnimation(),t.buygoldScroller.viewport=null,GObj.$d(t.buygoldScroller)),t.buygoldScroller=null,t.buygoldList&&(t.buygoldList.dataProvider=null,GObj.$d(t.buygoldList)),t.buygoldList=null,t.datas=null,t.zr=null,GObj.$d(t.privilegeBtn),t.privilegeBtn=null,GObj.$d(t.first_chargeBtn),t.first_chargeBtn=null,GObj.$d(t.platinumBtn),t.platinumBtn=null,GObj.$d(t.pointBtn),t.pointBtn=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.descImg_1),t.descImg_1=null,GObj.$d(t.descImg_2),t.descImg_2=null,GObj.$d(t.gpProgBar),t.gpProgBar=null,GObj.$d(t.gpTxt),t.gpTxt=null,GObj.$d(t.vipGradeView),t.vipGradeView=null,GObj.$d(t.needGoldView),t.needGoldView=null,GObj.$d(t.levelupView),t.levelupView=null,GObj.$d(t.maxImg),t.maxImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RechargeView.prototype,"RechargeView");var SupremePopUi=function(e){function t(){var t=e.call(this,"SupremePopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.rg=e[0],n._x=e[1],n.updateView())},t.prototype.updateView=function(){var e=this;e.CSo&&e.rg&&(e.descTxt.text=e.rg,e.title=fvg.GVf("vip9",e._x))},t}(BasePopUi);__reflect(SupremePopUi.prototype,"SupremePopUi");var SvipView=function(e){function t(){var t=e.call(this,"SvipView")||this;return t.skinName=RRUU.$s("SvipView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wb={atk:fvg.GVf("vip5"),def:fvg.GVf("vip6"),hp:fvg.GVf("vip7")},e.gotoRechargeBtn.label=fvg.GVf("evChg01"),e.hl=[0,0,0,0,0,0,12007006001,0,12008006001,0,12009006001,0,12011006001,0,12012006001,0,0,12002006001,0,12015006001,0,0,0,0,0],e.receiveBtn.label=fvg.GVf(104),e.shareBtn.label=fvg.GVf("wbshare1"),e.vipGradeView=GObj.$c(NumberView),e.vipGradeView.y=40,e.privilegeView=GObj.$c(NumberView),e.privilegeView.x=70,e.privilegeView.y=-8,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.ao=GObj.$c(FigureView),e.ao.x=360,e.ao.y=380,e.addChildAt(e.ao,1),e.kw=App.KB.getUIEffect(e._v),e.kw.horizontalCenter=0,e.kw.verticalCenter=-30,e.addChildAt(e.kw,1),e.fightView=GObj.$c(FightView),e.fightView.x=110,e.fightView.y=475,e.addChild(e.fightView),e.needGoldView=GObj.$c(NumberView),e.needGoldView.x=203,e.needGoldView.y=20,e.levelupView=GObj.$c(NumberView),e.levelupView.x=369,e.levelupView.y=20,e.svipChapterGroup.addChildAt(e.needGoldView,1),e.svipChapterGroup.addChildAt(e.levelupView,4),e.addChild(e.vipGradeView),e.packGroup.addChildAt(e.privilegeView,1),e.supremeNum=GObj.$c(NumberView),e.supremeNum.x=45,e.supremeNum.y=4,e.supremeBtn.supremeGroup.addChild(e.supremeNum)},t.prototype.initData=function(){this.uv()},t.prototype.initEvent=function(){var e=this;e.nextGradeBtn.addEventListener(eui.tep,e.sg,e),e.supremeBtn.addEventListener(eui.tep,e.db,e),e.preGradeBtn.addEventListener(eui.tep,e.zm,e),e.receiveBtn.addEventListener(eui.tep,e.mc,e),e.gotoRechargeBtn.addEventListener(eui.tep,e.rh,e),e.shareBtn.addEventListener(eui.tep,e.kq,e),vkG.$a(UtJ.HA,e.tj,e)},t.prototype.removeEvent=function(){var e=this;e.nextGradeBtn.removeEventListener(eui.tep,e.sg,e),e.supremeBtn.removeEventListener(eui.tep,e.db,e),e.preGradeBtn.removeEventListener(eui.tep,e.zm,e),e.receiveBtn.removeEventListener(eui.tep,e.mc,e),e.gotoRechargeBtn.removeEventListener(eui.tep,e.rh,e),e.shareBtn.removeEventListener(eui.tep,e.kq,e),vkG.$r(UtJ.HA,e.tj,e)},t.prototype.td=function(){var e=this,t=StaticData.SVIP_INFO[e.vt];if(t){var n=t.avatar,i=t.fight;if(e._v=t.effect,e.fightView.fightNum=i||0,e.vipImg.visible=!1,e.ao.visible=!1,e.kw.visible=!1,n){FigureHelps.NW(e.ao,n,!1);var r=Object.keys(n)[0];"b"===r?(e.ao.x=260,e.ao.y=470):"c"===r?(e.ao.x=260,e.ao.y=600):(e.ao.x=360,e.ao.y=380),e.ao.visible=!0}else e._v?(e.kw=App.KB.getUIEffect(e._v),e.kw.horizontalCenter=0,e.kw.verticalCenter=-30,e.addChild(e.kw),e.kw.visible=!0):(e.vipImg.visible=!0,e.vipImg.source=kLM.PD(e.vt));e.titleImg.source=kLM.WC(e.vt)}},t.prototype.uv=function(){var e=this;e.x_=App.XT.vipInfo.vipGrade;App.XT.vipInfo.vipGp||0,App.VX.wbShare?10:1;hFO.instance.getNumberView(bRC.TE,e.x_.toString(),-9,e.vipGradeView),e.vipGradeView.horizontalCenter=-184},t.prototype.db=function(e){var t=this;App.VS.popup(10088,SupremePopUi,null,t.yc||"",t.vt)},t.prototype.sg=function(e){var t=this;if(t.x_<StaticData.VIP_15_LV){if(t.vt>=MaxLevel.SVIP_MAX_GRADE)return}else if(t.vt>=MaxLevel.SVIP_MAX_LEVEL_2)return;t.vt++,t.pc(),t.vik(),t.td()},t.prototype.zm=function(e){var t=this;t.vt<=0||(t.vt--,t.pc(),t.vik(),t.td())},t.prototype.mc=function(e){NXr.QV(this.vt)},t.prototype.tj=function(){var e=this;e.vt=e.mm(),e.uv(),e.pc(),e.vik(),e.td();var t,n,i=App.XT.vipInfo.vipGrade,r=MaxLevel.SVIP_MAX_LEVEL_2;e.gotoRechargeBtn.visible=e.vipGpBar.visible=e.vipGpTxt.visible=!(i>=r);var a=App.VX.wbShare?10:1;if(i>=r)i=r,t=XCA.AQS.UFA(20,1,i),e.vipGpBar.value=100,e.vipGpTxt.text=fvg.GVf("public022",parseInt(t.cost)*a,parseInt(t.cost)*a),e.maxImg.visible=!0;else{t=XCA.AQS.UFA(20,1,i),n=XCA.AQS.UFA(20,1,i+1);var o=parseInt(n.cost),s=App.XT.vipInfo.vipGp;e.vipGpBar.value=Math.min(int(s/o*100),100),e.vipGpTxt.text=fvg.GVf("public022",s*a,o*a),hFO.instance.getNumberView(bRC.TE,(parseInt(n.cost)-App.XT.vipInfo.vipGp).toString(),-2,e.needGoldView),hFO.instance.getNumberView(bRC.TE,(i+1).toString(),-4,e.levelupView)}hFO.instance.getNumberView(bRC.TE,i.toString(),-9,e.vipGradeView),e.vipGradeView.horizontalCenter=-184},t.prototype.pc=function(){var e=this;e.x_=App.XT.vipInfo.vipGrade;var t,n,i,r;r=e.x_<StaticData.VIP_15_LV?MaxLevel.SVIP_MAX_LEVEL:MaxLevel.SVIP_MAX_LEVEL_2,e.x_>=r||(e.vt>e.x_&&e.vt<=r?(t=XCA.AQS.UFA(20,1,e.vt),t&&(n=parseInt(t.cost),i=App.XT.vipInfo.vipGp)):e.vt<=e.x_&&(t=XCA.AQS.UFA(20,1,e.x_+1),t&&(n=parseInt(t.cost),i=App.XT.vipInfo.vipGp))),hFO.instance.getNumberView(bRC.ES,e.vt.toString(),-4,e.privilegeView),e.privilegeImg.x=e.privilegeView.x+e.privilegeView.width+3;var a=XCA.AQS.UFA(20,1,e.vt);if(a){var o=Nkz.PI(a.p6);e.rewardData.source.splice(0,e.rewardData.source.length);for(var s=0;s<o.length;s++)e.rewardData.source.push(o[s]);if(e.rewardData.refresh(),e.pr=0,0==e.vt)e.yc=fvg.GVf("vip3");else{var p=e.bl(a.attrid||0);p+=p.length>0?"\n"+e._g():e._g(),e.yc=p}}hFO.instance.getNumberView(bRC.LZ,e.vt.toString(),-4,e.supremeNum)},t.prototype.vik=function(){var e=this,t=App.XT.vipInfo.rewardState;e.receiveBtn.visible=e.receivedImg.visible=e.shareBtn.visible=!1,e.vt<=e.x_?(t&1<<e.vt)>0?(e.receivedImg.visible=!0,e.svipChapterGroup.visible=!1):App.VX.wbShare?App.XT.vipInfo.vipGp>0?(e.receiveBtn.visible=!0,e.receiveBtn.icon=StaticData.GHj):e.shareBtn.visible=!0:(e.receiveBtn.visible=!0,e.receiveBtn.icon=StaticData.GHj,e.svipChapterGroup.visible=!1):e.svipChapterGroup.visible=!0},t.prototype.bl=function(e){var t=this,n="",i=XCA.YV(e),r=[];if(i){var a=xxf.UK;for(var o in a)i[o]&&(t.pr++,r.push(t.pr+". "+(t.wb[o]||a[o])+i[o]/10+"%"));a=xxf.IM;for(var o in a)i[o]&&(t.pr++,r.push(t.pr+". "+fvg.GVf("skill004",a[o],i[o]/10+"%")));r.length>0&&(n=r.join("\n"))}return i||(t.yu=0),t.yu=r.length,n},t.prototype._g=function(){var e,t=this,n="",i=[],r=App.XT.getPrivilegeByVipGrade(t.vt);for(var a in r)e=App.XT.getPrivilegeDescByType(parseInt(a),parseInt(r[a])),e.length>0&&(t.pr++,e=t.pr+". "+e,i.push(e));return i.length>0&&(n=i.join("\n")),t.lig=i.length,n},t.prototype.rh=function(e){App.VS.open(10089)},t.prototype.kq=function(e){rRcz.OM()},t.prototype.dataUpdated=function(){this.tj()},t.prototype.mm=function(){var e=this;if(e.tabType>0)return e.tabType;var t=App.XT.vipInfo.vipGrade;App.EO.vipIndex>0&&(t=App.XT.vipIndex);for(var n=App.XT.vipInfo.rewardState,i=0;i<MaxLevel.SVIP_MAX_GRADE;i++)if(0==(n&1<<i)){t=i;break}return t},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gotoRechargeBtn),t.gotoRechargeBtn=null,GObj.$d(t.vipGpBar),t.vipGpBar=null,GObj.$d(t.vipGpTxt),t.vipGpTxt=null,GObj.$d(t.privilegeImg),t.privilegeImg=null,GObj.$d(t.nextGradeBtn),t.nextGradeBtn=null,GObj.$d(t.preGradeBtn),t.preGradeBtn=null,GObj.$d(t.item_0),t.item_0=null,GObj.$d(t.item_1),t.item_1=null,GObj.$d(t.item_2),t.item_2=null,t.scrollBar&&(t.scrollBar.stopAnimation(),t.scrollBar.viewport=null,GObj.$d(t.scrollBar)),t.scrollBar=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.ao),t.ao=null,GObj.$d(t.descImg_1),t.descImg_1=null,GObj.$d(t.descImg_2),t.descImg_2=null,GObj.$d(t.descImg_3),t.descImg_3=null,GObj.$d(t.needGoldView),t.needGoldView=null,GObj.$d(t.levelupView),t.levelupView=null,GObj.$d(t.supremeBtn),t.supremeBtn=null,GObj.$d(t.packGroup),t.packGroup=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,App.XT.vipIndex=0,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SvipView.prototype,"SvipView");var VipActiveEffect=function(e){function t(t){var n=e.call(this,"VipActiveEffect")||this;return n.horizontalCenter=0,n.top=100,n.width=373,n.height=136,n.vipType=t[0],n.vipNum=t[1],n.skinComplete=!0,n.init(),n}return __extends(t,e),t.LS=function(e,n){var i=GObj.$c(t,[e,n]);App.FT.addToLayer(i,alvJ.YN,alvJ.SF)},t.prototype.initView=function(){var e=this;e.mc=GObj.$c(MovieEffect),e.mc.x=210,e.mc.y=155,e.addChild(e.mc),e.vipNumView=GObj.$c(NumberView),e.vipNumView.horizontalCenter=0,e.vipNumView.verticalCenter=-30,e.addChild(e.vipNumView)},t.prototype.initEvent=function(){var e=this;e.mc.once(egret.Event.COMPLETE,e.__playEffectComplete,e)},t.prototype.initData=function(){var e=this;hFO.instance.getNumberView(bRC.CA,e.vipNum.toString(),-2,e.vipNumView),e.vipNumView.scaleX=4,e.vipNumView.scaleY=4,e.vipNumView.alpha=0;var t;1===e.vipType?t="ui_vipup":2===e.vipType&&(t="ui_s_vipup"),e.mc.play(t,100,1),egret.Tween.get(e.vipNumView).wait(400).to({scaleX:1,scaleY:1,alpha:1},300,egret.Ease.backOut)},t.prototype.removeEvent=function(){},t.prototype.__playEffectComplete=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.vipNumView),t.vipNumView=null,GObj.$d(t.mc),t.mc=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(VipActiveEffect.prototype,"VipActiveEffect");var VipView=function(e){function t(){var t=e.call(this,"VipView")||this;return t.skinName=RRUU.$s("VipView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.mp={atk:fvg.GVf("vip5"),def:fvg.GVf("vip6"),hp:fvg.GVf("vip7")},e.gotoRechargeBtn.label=fvg.GVf("public008"),e.dr=[0,0,0,0,0,0,12007006001,0,12008006001,0,12009006001,0,12011006001,0,12012006001,0,0,12002006001,0,12015006001,0,0,0,0,0],e.receiveBtn.label=fvg.GVf(104),e.shareBtn.label=fvg.GVf("wbshare1"),e.vipGradeView=GObj.$c(NumberView),e.vipGradeView.y=40,e.privilegeView=GObj.$c(NumberView),e.privilegeView.x=230,e.privilegeView.y=115,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.lj=GObj.$c(FigureView),e.lj.x=360,e.lj.y=380,e.addChildAt(e.lj,1),e.nb=App.KB.getUIEffect(e.yo),e.nb.horizontalCenter=0,e.nb.verticalCenter=0,e.addChildAt(e.nb,2),e.priceNum=GObj.$c(NumberView),e.priceNum.x=60,e.priceNum.y=3,e.priceGroup.addChild(e.priceNum),e.needGoldView=GObj.$c(NumberView),e.needGoldView.x=190,e.needGoldView.y=20,e.levelupView=GObj.$c(NumberView),e.levelupView.x=369,e.levelupView.y=20,e.vipChapterGroup.addChildAt(e.needGoldView,1),e.vipChapterGroup.addChildAt(e.levelupView,4),e.addChild(e.vipGradeView),e.addChild(e.privilegeView)},t.prototype.initData=function(){var e=this;fNs.instance.execute(hXS.HD,hXS.RZ,e.gotoRechargeBtn),e.wa(),e.pg=e.oh(),e.uw(),e.cd(),e.qi(),e.gpg()},t.prototype.initEvent=function(){var e=this;e.nextGradeBtn.addEventListener(eui.tep,e.dy,e),e.preGradeBtn.addEventListener(eui.tep,e.ly,e),e.receiveBtn.addEventListener(eui.tep,e.di,e),e.gotoRechargeBtn.addEventListener(eui.tep,e.nv,e),e.shareBtn.addEventListener(eui.tep,e.ek,e),vkG.$a(UtJ.IK,e.qi,e)},t.prototype.removeEvent=function(){var e=this;e.nextGradeBtn.removeEventListener(eui.tep,e.dy,e),e.preGradeBtn.removeEventListener(eui.tep,e.ly,e),e.receiveBtn.removeEventListener(eui.tep,e.di,e),e.gotoRechargeBtn.removeEventListener(eui.tep,e.nv,e),e.shareBtn.removeEventListener(eui.tep,e.ek,e),vkG.$r(UtJ.IK,e.qi,e)},t.prototype.cd=function(){var e=this,t=StaticData.VIP_INFO[e.pg];if(t){var n=t.avatar,i=t.fight;e.yo=t.effect;var r=i||0;if(hFO.instance.getNumberView(bRC.UA,r.toString(),-8,e.priceNum),e.vipImg.visible=!1,e.lj.visible=!1,e.nb.visible=!1,n){FigureHelps.NW(e.lj,n,!1);var a=Object.keys(n)[0];"b"===a?(e.lj.x=260,e.lj.y=470):"c"===a?(e.lj.x=260,e.lj.y=600):(e.lj.x=360,e.lj.y=380),e.lj.visible=!0}else e.yo?(e.nb=App.KB.getUIEffect(e.yo),e.nb.horizontalCenter=0,e.nb.verticalCenter=0,e.addChild(e.nb),e.nb.visible=!0):(e.vipImg.visible=!0,e.vipImg.source=kLM.XK(e.pg));e.titleImg.source=kLM.OB(e.pg)}},t.prototype.wa=function(){var e=this;e.b_=App.EO.vipInfo.vipGrade;App.EO.vipInfo.vipGp||0,App.VX.wbShare?10:1;hFO.instance.getNumberView(bRC.TE,e.b_.toString(),0,e.vipGradeView),e.vipGradeView.horizontalCenter=-184},t.prototype.dy=function(e){var t=this;if(t.b_<StaticData.VIP_15_LV){if(t.pg>=MaxLevel.VIP_MAX_GRADE)return}else if(t.pg>=MaxLevel.SVIP_MAX_LEVEL_2)return;t.pg++,t.uw(),t.gpg(),t.cd()},t.prototype.ly=function(e){var t=this;t.pg<=1||(t.pg--,t.uw(),t.gpg(),t.cd())},t.prototype.di=function(e){var t=this;NXr.PJ(t.pg),t.qi()},t.prototype.qi=function(){var e=this;e.pg=e.oh();var t=App.EO.vipInfo.vipGrade,n=MaxLevel.VIP_MAX_GRADE;e.gotoRechargeBtn.visible=e.vipGpBar.visible=e.vipGpTxt.visible=!(t>=n),e.rechargeImg.visible=t>=n?!0:!1;for(var i=App.VX.wbShare?10:1,r=[],a=XCA.CG(IDU.LU).split(QycO.XP),o=a.length,s=0;o>s;s++){var p=a[s];r.push(p)
}if(e.kv=r,n>t){var l=e.kv[t-1],c=App.KF.chapter;e.vipGpBar.value=Math.min(int(c/l*100),100),e.vipGpTxt.text=fvg.GVf("public022",c*i,l*i),e.gotoRechargeBtn.icon=c>=l?StaticData.GHj:null}var u=e.kv[Math.max(e.pg-2,0)];hFO.instance.getNumberView(bRC.TE,u.toString(),-2,e.needGoldView),hFO.instance.getNumberView(bRC.TE,e.pg.toString(),-4,e.levelupView),hFO.instance.getNumberView(bRC.TE,t.toString(),-9,e.vipGradeView),e.vipGradeView.horizontalCenter=-184,e.wa(),e.uw(),e.gpg(),e.cd()},t.prototype.uw=function(){var e=this;e.b_=App.EO.vipInfo.vipGrade;var t,n,i,r;r=e.b_<StaticData.VIP_15_LV?MaxLevel.SVIP_MAX_LEVEL:MaxLevel.SVIP_MAX_LEVEL_2,e.b_>=r||(e.pg>e.b_&&e.pg<=r?(t=XCA.AQS.UFA(83,1,e.pg),t&&(n=parseInt(t.cost),i=App.EO.vipInfo.vipGp)):e.pg<=e.b_&&(t=XCA.AQS.UFA(83,1,e.b_+1),t&&(n=parseInt(t.cost),i=App.EO.vipInfo.vipGp))),hFO.instance.getNumberView(bRC.ES,e.pg.toString(),-4,e.privilegeView),e.privilegeImg.x=e.privilegeView.x+e.privilegeView.width+9;var a=XCA.AQS.UFA(83,1,e.pg);if(a){var o=Nkz.PI(a.p6);e.rewardData.source.splice(0,e.rewardData.source.length);for(var s=0;s<o.length;s++)e.rewardData.source.push(o[s]);e.rewardData.refresh(),e.hz=0}},t.prototype.gpg=function(){var e=this,t=App.EO.vipInfo.rewardState;e.receiveBtn.visible=e.receivedImg.visible=e.shareBtn.visible=!1;var n=e.kv[Math.max(e.pg-2,0)];hFO.instance.getNumberView(bRC.TE,n.toString(),-2,e.needGoldView),hFO.instance.getNumberView(bRC.TE,e.pg.toString(),-4,e.levelupView),e.pg<=e.b_?(t&1<<e.pg-1)>0?(e.receivedImg.visible=!0,e.vipChapterGroup.visible=!1):App.VX.wbShare?App.EO.vipInfo.vipGp>0?(e.receiveBtn.visible=!0,e.receiveBtn.icon=StaticData.GHj):e.shareBtn.visible=!0:(e.receiveBtn.visible=!0,e.receiveBtn.icon=StaticData.GHj,e.vipChapterGroup.visible=!1):e.vipChapterGroup.visible=!0},t.prototype.rz=function(e){var t=this,n="",i=XCA.YV(e);if(i){var r=[],a=xxf.UK;for(var o in a)i[o]&&(t.hz++,r.push(t.hz+". "+(t.mp[o]||a[o])+i[o]/10+"%"));a=xxf.IM;for(var o in a)i[o]&&(t.hz++,r.push(t.hz+". "+fvg.GVf("skill004",a[o],i[o]/10+"%")));r.length>0&&(n=r.join("\n"))}return n},t.prototype.nv=function(e){var t=this;fNs.instance.execute(hXS.HD,hXS.YL),App.KF.chapter<t.kv[t.b_-1]?MessageTipManager.instance.show(fvg.GVf("vip11")):(NXr.MX(t.b_+1),MessageTipManager.instance.show(fvg.GVf("vip10")),VipActiveEffect.LS(1,App.EO.vipInfo.vipGrade+1))},t.prototype.ek=function(e){rRcz.OM()},t.prototype.oh=function(){var e=App.EO.vipInfo.vipGrade;App.EO.vipIndex>0&&(e=App.EO.vipIndex);for(var t=App.EO.vipInfo.rewardState,n=0;n<MaxLevel.VIP_MAX_GRADE;n++)if(0==(t&1<<n)){e=n+1;break}return e},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.HD,hXS.NW),t.removeEvent(),GObj.$d(t.lj),t.lj=null,GObj.$d(t.vipGpBar),t.vipGpBar=null,GObj.$d(t.vipGpTxt),t.vipGpTxt=null,GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.privilegeImg),t.privilegeImg=null,GObj.$d(t.nextGradeBtn),t.nextGradeBtn=null,GObj.$d(t.preGradeBtn),t.preGradeBtn=null,GObj.$d(t.item_0),t.item_0=null,GObj.$d(t.item_1),t.item_1=null,GObj.$d(t.item_2),t.item_2=null,GObj.$d(t.priceNum),t.priceNum=null,t.scrollBar&&(t.scrollBar.stopAnimation(),t.scrollBar.viewport=null,GObj.$d(t.scrollBar)),t.scrollBar=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.descImg_1),t.descImg_1=null,GObj.$d(t.descImg_2),t.descImg_2=null,GObj.$d(t.descImg_3),t.descImg_3=null,GObj.$d(t.vipChapterGroup),t.vipChapterGroup=null,GObj.$d(t.needGoldView),t.needGoldView=null,GObj.$d(t.levelupView),t.levelupView=null,GObj.$d(t.rechargeImg),t.rechargeImg=null,GObj.$d(t.priceNum),t.priceNum=null,GObj.$d(t.vipGradeView),t.vipGradeView=null,GObj.$d(t.privilegeView),t.privilegeView=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,App.EO.vipIndex=0,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(VipView.prototype,"VipView");var DirectCrashItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("DirectCrashItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ss,e),e.addEventListener(eui.tep,e.ec,e),e.submitBtn.addEventListener(eui.tep,e.rt,e),vkG.$a(UtJ.HBA,e.sh,e),vkG.$a(UtJ.PP,e.sh,e),vkG.$a(UtJ.HX_,e.sh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ss,e),e.removeEventListener(eui.tep,e.ec,e),e.submitBtn.removeEventListener(eui.tep,e.rt,e),vkG.$r(UtJ.HBA,e.sh,e),vkG.$r(UtJ.PP,e.sh,e),vkG.$r(UtJ.HX_,e.sh,e)},t.prototype.sh=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.conditionList[0].value;e.bgImg.source="directcrash_json.directcrash_item_"+t+"_png",e.tp()}},t.prototype.tp=function(){var e=this;e.submitBtn.icon="",e.rcvImg.visible=!1;var t=e.data;if(t){var n,i,r=e.data.conditionList[0].value;28===r?(n=!!App.RK.redEnvelopesInfo.ewc,i=App.DE.supremeCardVO.isWeek?2:0):(n=!!App.RK.redEnvelopesInfo["el_"+t.id],i=t.status),2==i?n?(e.rcvImg.visible=!0,e.submitBtn.visible=!1):(e.submitBtn.label=fvg.GVf("red_envelopes23"),e.submitBtn.icon=StaticData.GHj):1==i?(e.submitBtn.label=fvg.GVf("104"),e.submitBtn.icon=StaticData.GHj):e.submitBtn.label=fvg.GVf("shop6")}},t.prototype.rt=function(e){var t=this.data;NXr.IS(t),e.stopPropagation()},t.prototype.ec=function(e){var t=GObj.$c(BoxPopUi,"BoxTwoPopUi"),n=[],i=this.data,r=i.rewardList,a=i.conditionList[0].value;if(28!==a){for(var o=0,s=r.length;s>o;o++){var p=GObj.$c(nlwj),l=r[o];p.tid=l.tempId,p.count=l.count,n.push(p)}t.showDetail(998,a,0,0===i.status,i,!1,n)}},t.prototype.ss=function(e){GObj.$d(this)},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(DirectCrashItem.prototype,"DirectCrashItem");var DirectCrashPopUi=function(e){function t(){var t=e.call(this,"DirectCrashPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.dataGroup.dataProvider=e.datas,e.dataGroup.itemRenderer=DirectCrashItem,e.explainBtn.label=fvg.GVf("togethergift3")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.bp(),t.updateLastTime()},t.prototype.bp=function(){var e=this;if(e.ek=App.MG.getDirectCrashFunny(),e.datas.source.length=0,e.ek){var t=e.ek.bagList;if(t){for(var n=0,i=t.length;i>n;n++){var r=t[n];e.datas.source.push(r)}e.datas.refresh()}}},t.prototype.initEvent=function(){var e=this;e.returnBtn.addEventListener(eui.tep,e.zz,e),e.explainBtn.addEventListener(eui.tep,e.hg,e),vkG.$r(UtJ.AW,e.bp,e)},t.prototype.removeEvent=function(){var e=this;e.returnBtn.removeEventListener(eui.tep,e.zz,e),e.explainBtn.removeEventListener(eui.tep,e.hg,e),vkG.$r(UtJ.AW,e.bp,e),vkG.$r(HUtJ.HEARTBEAT,e.gw,e)},t.prototype.zz=function(){GObj.$d(this)},t.prototype.hg=function(){App.VS.popup(null,DirectCrashDescPopUi)},t.prototype.updateLastTime=function(){var e=this,t=e.ek.endTime-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.gw,e):vkG.$r(HUtJ.HEARTBEAT,e.gw,e),e.gw()},t.prototype.gw=function(){var e=this,t=e.ek.endTime-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(vkG.$r(HUtJ.HEARTBEAT,e.gw,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.returnBtn),t.returnBtn=null,GObj.$d(t.dataGroup),t.dataGroup=null,GObj.$d(t.datas),t.datas=null,GObj.$d(t.explainBtn),t.explainBtn=null,GObj.$d(t.timeTxt),t.timeTxt=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(DirectCrashPopUi.prototype,"DirectCrashPopUi");var OneYuanGiftPackagePopUi=function(e){function t(){var t=e.call(this,"OneYuanGiftPackagePopUi")||this;return t.skinName=RRUU.$s("OneYuanGiftPackagePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.goBtn.label=fvg.GVf("red_envelopes49"),e.receiveBtn.label=fvg.GVf("104"),e.rewardData=GObj.$c(eui.ArrayCollection),e.dataGroup.itemRenderer=GoodsItemRenderer,e.dataGroup.dataProvider=e.rewardData,e.ve=GObj.$c(FigureView),e.ve.x=200,e.ve.y=200,e.addChildAt(e.ve,1)},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.eu,e),e.goBtn.addEventListener(eui.tep,e.eb,e),e.purchaseBtn.addEventListener(eui.tep,e.rt,e),e.receiveBtn.addEventListener(eui.tep,e.sr,e),vkG.$a(UtJ.PP,e.ld,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.eu,e),e.goBtn.removeEventListener(eui.tep,e.eb,e),e.purchaseBtn.removeEventListener(eui.tep,e.rt,e),e.receiveBtn.removeEventListener(eui.tep,e.sr,e),vkG.$r(UtJ.PP,e.ld,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.na=e[0],n.ld())},t.prototype.ld=function(){var e=this;e.goBtn.label=1==e.na?fvg.GVf("red_envelopes33"):fvg.GVf("red_envelopes49"),e.rewardData.source.length=0,e.my=e.zp();for(var t,n=e.my.rewardList,i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tempId,t.count=n[i].count,e.rewardData.source.push(t);e.rewardData.refresh(),e.goBtn.visible=rRcz.SS(115,!1)||rRcz.SS(118,!1),e.countPro.value=App.RK.getReceiveCount/7*100,e.countProLab.text=fvg.GVf("public022",App.RK.getReceiveCount,7),e.purchaseBtn.label=e.jp(e.my.status);var r=0!==e.my.status?0:1,a=0!==e.my.status?Color.KA:Color.TX;e.descLab.textFlow=LgRe.OQ(fvg.GVf("red_envelopes35",a,r)),e.purchaseBtn.visible=0==e.my.status,e.receiveBtn.visible=1==e.my.status,e.receiveBtn.icon=1==e.my.status?StaticData.GHj:"",e.haveReceivedImg.visible=2==e.my.status;var o=XCA.CG(IDU.JC),s=o.split(QycO.PK),p=s[kpd.FZ()-1].split(QycO.XP);e.showAvatar(parseInt(p[0]),parseInt(p[1]),parseInt(p[2]))},t.prototype.showAvatar=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i=this,r=FigureHelps.TS(e,t,n);if(r.part){var a=r.part,o=r.offset;a&&(i.ve.x=280+o.x,i.ve.y=400+o.y,FigureHelps.NW(i.ve,a,!1))}},t.prototype.zp=function(){for(var e,t,n=App.MG.oneYuanInfo.bagList.length,i=0;n>i;i++)if(t=App.MG.oneYuanInfo.bagList[i].sort,kpd.FZ()==t)return e=App.MG.oneYuanInfo.bagList[i];return e},t.prototype.jp=function(e){switch(e){case 0:return fvg.GVf("red_envelopes34");case 1:return fvg.GVf("104")}},t.prototype.eb=function(){var e=this,t=1==e.na?1:2;App.VS.popup(null,RedEnvelopesPopUi,void 0,t),GObj.$d(e)},t.prototype.sr=function(){var e=this.my;FunnyMsgProxy.LR(e.id)},t.prototype.rt=function(){var e=this.my.id;NXr.BP({total_fee:100,subject:4,param3:e})},t.prototype.eu=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.purchaseBtn),t.purchaseBtn=null,GObj.$d(t.countPro),t.countPro=null,GObj.$d(t.countProLab),t.countProLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.haveReceivedImg),t.haveReceivedImg=null,GObj.$d(t.ve),t.ve=null,t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup)),t.dataGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(OneYuanGiftPackagePopUi.prototype,"OneYuanGiftPackagePopUi");var RedEnvelopesCashView=function(e){function t(){var t=e.call(this,"RedEnvelopesCashView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){this.extractBtn.label=fvg.GVf("red_envelopes46")},t.prototype.initData=function(){this.sj()},t.prototype.initEvent=function(){var e=this;e.extractBtn.addEventListener(eui.tep,e.oe,e),vkG.$a(UtJ.AW,e.sj,e),vkG.$a(UtJ.HBA,e.sj,e)},t.prototype.removeEvent=function(){var e=this;e.extractBtn.removeEventListener(eui.tep,e.oe,e),vkG.$r(UtJ.AW,e.sj,e),vkG.$r(UtJ.HBA,e.sj,e)},t.prototype.sj=function(){var e=this;e.yi=App.MG.oneYuanInfo,e.yi&&e.jg()},t.prototype.jg=function(){var e=this;e.mr=!App.RK._redEnvelopesInfo.xjhbc,e.mj=!App.RK._redEnvelopesInfo.xjhbm,e.extractBtn.label=e.mr&&e.mj?fvg.GVf("red_envelopes46"):e.mr&&!e.mj?fvg.GVf("red_envelopes47"):"",e.extractBtn.visible=e.mr,e.descLab.text=fvg.GVf("red_envelopes48"),e.descLab.visible=!e.mr},t.prototype.oe=function(){var e=this;return e.yi&&e.yi.isExist?e.mr&&!e.mj?(NXr.XB(2,3),void App.TT.show(fvg.GVf("red_envelopes44"))):(vkG.$d(UtJ.JE),void App.VS.popup(null,OneYuanGiftPackagePopUi,void 0,2)):void App.TT.show(fvg.GVf("public035"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.extractBtn),t.extractBtn=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RedEnvelopesCashView.prototype,"RedEnvelopesCashView");var RedEnvelopesExplainPopUi=function(e){function t(){var t=e.call(this,"RedEnvelopesExplainPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("public089"),e.determineBtn.label=fvg.GVf("7")},t.prototype.initData=function(){var e=this;LoaderManager.instance.load(PATH.OS+"desc.json",e.cr,e)},t.prototype.initEvent=function(){var e=this;e.determineBtn.addEventListener(eui.tep,e.wi,e)},t.prototype.removeEvent=function(){var e=this;e.determineBtn.removeEventListener(eui.tep,e.wi,e)},t.prototype.cr=function(e){var t=this;e&&e.data&&(t.kr=e.data,e.dispose()),t.qn()},t.prototype.qn=function(){var e=this;if(e.vj){var t=kpd.getOpenServerZeroClock(),n=6912e5,i=e.vj==AboutType.HI?kpd.BR(Math.floor((t+n)/1e3),!0,!0):"";LgRe.UQ(e.descLab,e.kd(e.kr[e.vj],i))}},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&(n.vj=e[0],n.initData())},t.prototype.kd=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=e;if(!i)return i;var r=t.length;if(0>=r)return i;for(var a=0;r>a;++a)i=i.replace(/\{\}/i,t[a]);return i},t.prototype.wi=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.determineBtn),t.determineBtn=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RedEnvelopesExplainPopUi.prototype,"RedEnvelopesExplainPopUi");var RedEnvelopesExtractsView=function(e){function t(){var t=e.call(this,"RedEnvelopesExtractsView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){this.goBtn.label=fvg.GVf("red_envelopes12")},t.prototype.initData=function(){this.po()},t.prototype.initEvent=function(){var e=this;e.extractBtn.addEventListener(eui.tep,e.yu,e),e.goBtn.addEventListener(eui.tep,e.ll,e),vkG.$a(UtJ.HBA,e.po,e),vkG.$a(UtJ.PP,e.po,e)},t.prototype.removeEvent=function(){var e=this;e.extractBtn.removeEventListener(eui.tep,e.yu,e),e.goBtn.removeEventListener(eui.tep,e.ll,e),vkG.$r(UtJ.HBA,e.po,e),vkG.$r(UtJ.PP,e.po,e)},t.prototype.po=function(){var e=this;e.countPro.value=App.RK._redEnvelopesInfo.bgtp/7*100,e.countProLab.text=fvg.GVf("public022",App.RK._redEnvelopesInfo.bgtp,7),e.dayLab.text=fvg.GVf("red_envelopes36",App.RK._redEnvelopesInfo.bgtp),e.descLab.textFlow=LgRe.OQ(fvg.GVf("red_envelopes01",(.01*App.RK._redEnvelopesInfo.gtm).toFixed(2)));var t=App.RK._redEnvelopesInfo.negm<=0?"0":(.01*App.RK._redEnvelopesInfo.negm).toFixed(2);e.extractBtn.label=fvg.GVf("red_envelopes11",t),e.redImg.visible=UsU.GO()},t.prototype.yu=function(){return App.RK._redEnvelopesInfo.negm?(NXr.XB(2,2),void App.TT.show(fvg.GVf("red_envelopes44"))):void App.TT.show(fvg.GVf("red_envelopes39"))},t.prototype.ll=function(){return App.MG.oneYuanInfo&&App.MG.oneYuanInfo.isExist?(vkG.$d(UtJ.JE),void App.VS.popup(null,OneYuanGiftPackagePopUi,void 0,1)):void App.TT.show(fvg.GVf("public035"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.extractBtn),t.extractBtn=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.dayLab),t.dayLab=null,GObj.$d(t.countPro),t.countPro=null,GObj.$d(t.countProLab),t.countProLab=null,GObj.$d(t.redImg),t.redImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RedEnvelopesExtractsView.prototype,"RedEnvelopesExtractsView");var RedEnvelopesItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RedEnvelopesItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.vp,e),e.addEventListener(eui.tep,e.am,e),vkG.$a(UtJ.HBA,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.vp,e),e.removeEventListener(eui.tep,e.am,e),vkG.$r(UtJ.HBA,e.dataChanged,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&"number"==typeof e.data&&(e.fa=e.data+1,e.yz=!!(App.RK._redEnvelopesInfo.sb&1<<e.data),e.redImg.visible=!1,e.tipsImg.visible=7==e.fa||3==e.fa||1==e.fa,e.tipsImg.source=3==e.fa||1==e.fa?"redenvelopes_json.red_envelopes_img_7_png":"redenvelopes_json.red_envelopes_img_8_png",e.maskImg.visible=kpd.FZ()>e.fa,e.img2.visible=e.fa==kpd.FZ()?e.yz?!0:!1:kpd.FZ()>e.fa,e.img2.source=e.yz?"redenvelopes_json.red_envelopes_receive_png":"redenvelopes_json.red_envelopes_be_overdue_png",e.desc1Lab.text=fvg.GVf("red_envelopes14",e.fa),e.fa!=kpd.FZ()||e.yz||(e.desc1Lab.textFlow=LgRe.OQ(fvg.GVf("red_envelopes30")),e.redImg.visible=!0))},t.prototype.am=function(){var e=this;e.fa!=kpd.FZ()||e.yz||App.VS.popup(null,RedEnvelopesTips)},t.prototype.vp=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.img2),t.img2=null,GObj.$d(t.tipsImg),t.tipsImg=null,GObj.$d(t.desc1Lab),t.desc1Lab=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.maskImg),t.maskImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RedEnvelopesItem.prototype,"RedEnvelopesItem");var RedEnvelopesPopUi=function(e){function t(){var t=e.call(this,"RedEnvelopesPopUi")||this;return t.skinName=RRUU.$s("RedEnvelopesPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.explainLab.textFlow=LgRe.OQ(fvg.GVf("red_envelopes02")),this.ro=GObj.$c(kQr),this.ro.cwA(this.togbtn1),this.ro.cwA(this.togbtn2),this.ro.cwA(this.togbtn3),this.ro.cwA(this.togbtn4),this.zx(),this.pz()},t.prototype.initData=function(){var e=this;e.pr(),e.hx()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.yr=e[0],n.ro.selectedIndex=n.yr)},t.prototype.zx=function(){var e=this,t=!1,n=!1,i=!1;rRcz.SS(114,!1)||(e.togbtn1&&e.togbtn1.parent&&e.togbtn1.parent.removeChild(e.togbtn1),t=!0),rRcz.SS(115,!1)||(e.togbtn2&&e.togbtn2.parent&&e.togbtn2.parent.removeChild(e.togbtn2),n=!0),rRcz.SS(118,!1)||(e.togbtn3&&e.togbtn3.parent&&e.togbtn3.parent.removeChild(e.togbtn3),i=!0),rRcz.SS(116,!1)||e.togbtn4&&e.togbtn4.parent&&e.togbtn4.parent.removeChild(e.togbtn4);var r=t?n?i?3:2:1:0;e.ro.selectedIndex=r,e.vu()},t.prototype.pz=function(){var e=this;if(rRcz.SS(116,!1)){var t=App.MG.returnToCash;t&&t.isExist||e.togbtn4.parent.removeChild(e.togbtn4)}},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.ph,e),e.ro.addEventListener(egret.Event.CHANGE,e.vu,e),e.explainLab.addEventListener(eui.tep,e.fj,e),vkG.$a(UtJ.HBA,e.pr,e),vkG.$a(UtJ.PP,e.pr,e),vkG.$a(HUtJ.HEARTBEAT,e.hx,e),vkG.$a(UtJ.AW,e.pz,e),vkG.$a(UtJ.KSQ,e.zx,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.ph,e),e.ro.removeEventListener(egret.Event.CHANGE,e.vu,e),e.explainLab.removeEventListener(eui.tep,e.fj,e),vkG.$r(UtJ.HBA,e.pr,e),vkG.$r(UtJ.PP,e.pr,e),vkG.$r(HUtJ.HEARTBEAT,e.hx,e),vkG.$r(UtJ.AW,e.pz,e),vkG.$r(UtJ.KSQ,e.zx,e)},t.prototype.vu=function(){var e=this;e.NwP&&(e.NwP.visible=!1),e.NwP=null;var t=e.ro.LuO;switch(e.explainLab.visible=!0,e.timeLab.visible=!0,e.bgImg.source="redenvelopes_json.red_envelopes_bg_png",t){case e.togbtn1:e.mq=AboutType.BQX,e.jz||(e.jz=GObj.$c(RedEnvelopesSignInView),e.jz.x=28,e.jz.y=270,e.addChild(e.jz)),e.NwP=e.jz;break;case e.togbtn2:e.mq=AboutType.HI,e.wx||(e.wx=GObj.$c(RedEnvelopesExtractsView),e.wx.x=28,e.wx.y=270,e.addChild(e.wx)),e.NwP=e.wx;break;case e.togbtn3:e.timeLab.visible=!1,e.mq=AboutType.GW,e.bgImg.source="redenvelopes_json.red_envelopes_bg_1_png",e["do"]||(e["do"]=GObj.$c(RedEnvelopesCashView),e["do"].x=28,e["do"].y=270,e.addChild(e["do"])),e.NwP=e["do"];break;case e.togbtn4:e.explainLab.visible=!1,e.timeLab.visible=!1,e.sv||(e.sv=GObj.$c(RedEnvelopesReturnToCashView),e.sv.x=28,e.sv.y=270,e.addChild(e.sv)),e.NwP=e.sv}e.NwP&&(e.NwP.visible=!0)},t.prototype.fj=function(){App.VS.popup(null,RedEnvelopesExplainPopUi,void 0,this.mq)},t.prototype.pr=function(){var e=this;e.togbtn1.icon=UsU.WV()?StaticData.GHj:"",e.togbtn2.icon=UsU.GO()?StaticData.GHj:""},t.prototype.hx=function(){var e=this,t=kpd.getOpenServerZeroClock(),n=6912e5,i=Math.floor((t+n)/1e3)-App.NN.serverSecond;i>0?(e.timeLab.text=fvg.GVf("public023",kpd.YW(i)),e.timeLab.textColor=Color.SE):(e.timeLab.text=fvg.GVf("s4"),e.timeLab.textColor=Color.KA,vkG.$r(HUtJ.HEARTBEAT,e.hx,e))},t.prototype.ph=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.ro),t.ro=null,GObj.$d(t.togbtn1),t.togbtn1=null,GObj.$d(t.togbtn2),t.togbtn2=null,GObj.$d(t.jz),t.jz=null,GObj.$d(t.wx),t.wx=null,GObj.$d(t.explainLab),t.explainLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.togbtn4),t.togbtn4=null,GObj.$d(t.togbtn3),t.togbtn3=null,GObj.$d(t.sv),t.sv=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t["do"]),t["do"]=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(RedEnvelopesPopUi.prototype,"RedEnvelopesPopUi");var RedEnvelopesReturnToCashView=function(e){function t(){var t=e.call(this,"RedEnvelopesReturnToCashView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.fl()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.AW,e.fl,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.AW,e.fl,e)},t.prototype.fl=function(){var e=this;e.hz=App.MG.returnToCash,e.hz&&e.ow()},t.prototype.ow=function(){var e=this;e.descLab.text=e.hz.p4},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RedEnvelopesReturnToCashView.prototype,"RedEnvelopesReturnToCashView");var RedEnvelopesSignInView=function(e){function t(){var t=e.call(this,"RedEnvelopesSignInView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.data1=GObj.$c(eui.ArrayCollection),e.list1.dataProvider=e.data1,e.list1.itemRenderer=RedEnvelopesItem,e.data2=GObj.$c(eui.ArrayCollection),e.list2.dataProvider=e.data2,e.list2.itemRenderer=RedEnvelopesItem},t.prototype.initData=function(){var e=this;e.sb(),e.yk()},t.prototype.initEvent=function(){var e=this;e.extractBtn.addEventListener(eui.tep,e.ux,e),vkG.$a(UtJ.HBA,e.yk,e)},t.prototype.removeEvent=function(){var e=this;e.extractBtn.removeEventListener(eui.tep,e.ux,e),vkG.$r(UtJ.HBA,e.yk,e)},t.prototype.sb=function(){var e=this;e.data1.source.length=0,e.data2.source.length=0;for(var t=0;2>=t;t++)e.data1.source.push(t);e.data1.refresh();for(var n=3;6>=n;n++)e.data2.source.push(n);e.data2.refresh()},t.prototype.yk=function(){var e=this;e.descLab.textFlow=LgRe.OQ(fvg.GVf("red_envelopes40",(.01*App.RK._redEnvelopesInfo.tm).toFixed(2)));var t=App.RK._redEnvelopesInfo.nesm<=0?"0":(.01*App.RK._redEnvelopesInfo.nesm).toFixed(2),n="0.03"==t?fvg.GVf("red_envelopes13"):fvg.GVf("red_envelopes50",t);e.extractBtn.label=n},t.prototype.ux=function(){return App.KF.chapter<=10?void App.TT.show(fvg.GVf("red_envelopes45")):App.RK._redEnvelopesInfo.nesm?(NXr.XB(2,1),void App.TT.show(fvg.GVf("red_envelopes44"))):void App.TT.show(fvg.GVf("red_envelopes39"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.extractBtn),t.extractBtn=null,GObj.$d(t.descLab),t.descLab=null,t.list1&&(t.list1.dataProvider=null,GObj.$d(t.list1)),t.list1=null,t.list2&&(t.list2.dataProvider=null,GObj.$d(t.list2)),t.list2=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RedEnvelopesSignInView.prototype,"RedEnvelopesSignInView");var RedEnvelopesTips=function(e){function t(){var t=e.call(this,"RedEnvelopesTips")||this;return t.bx=0,t.skinName=RRUU.$s("RedEnvelopesTips"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._c=GObj.$c(MovieEffect),e._c.touchEnabled=e._c.touchChildren=!1,e._c.x=162,e._c.y=334,e.addChild(e._c)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e&&e.length>0&&(this.bx=int(e[0]))},t.prototype.initData=function(){this.gt()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.hx,e),e.closeBtn.addEventListener(eui.tep,e.qg,e),vkG.$a(UtJ.HBA,e.gt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.hx,e),e.closeBtn.removeEventListener(eui.tep,e.qg,e),vkG.$r(UtJ.HBA,e.gt,e)},t.prototype.gt=function(){var e=this,t=(.01*App.RK._redEnvelopesInfo["m_"+kpd.FZ()]).toFixed(2),n=!!(App.RK._redEnvelopesInfo.sb&1<<kpd.FZ()-1);e.bgImg.visible=n,e.descLab.textFlow=n?LgRe.OQ(fvg.GVf("red_envelopes15")):LgRe.OQ(fvg.GVf("red_envelopes31")),e.moneyLab.text=t,e.desc3Lab.text=fvg.GVf("red_envelopes42"),e.desc4Lab.text=fvg.GVf("red_envelopes32"),e.moneyLab.visible=e.desc3Lab.visible=e.desc4Lab.visible=n},t.prototype.hx=function(){NXr.XB(1),this._c.play("ui_red_packet"),App.PD.playEffect(SoundIds.KH)},t.prototype.qg=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.bx&&App.VS.popup(null,RedEnvelopesPopUi),GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.moneyLab),t.moneyLab=null,GObj.$d(t.desc3Lab),t.desc3Lab=null,GObj.$d(t.desc4Lab),t.desc4Lab=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t._c),t._c=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(RedEnvelopesTips.prototype,"RedEnvelopesTips");var ChangeNamesPopUi=function(e){function t(){var t=e.call(this,"ChangeNamesPopUi")||this;return t.rn=10,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.newNameText.textDisplay.prompt=fvg.GVf("pleaseInputName")},t.prototype.initEvent=function(){var e=this;e.renameBtn.addEventListener(eui.tep,e.ek,e),e.randomBtn.addEventListener(eui.tep,e.tv,e),e.newNameText.addEventListener(egret.TouchEvent.FOCUS_IN,e.hv,e),vkG.$a(UtJ.HF,e.eo,e),vkG.$a(HUtJ.HEARTBEAT,e.tt,e)},t.prototype.removeEvent=function(){var e=this;e.renameBtn.removeEventListener(eui.tep,e.ek,e),e.randomBtn.removeEventListener(eui.tep,e.tv,e),e.newNameText.removeEventListener(egret.TouchEvent.FOCUS_IN,e.hv,e),vkG.$r(UtJ.HF,e.eo,e),vkG.$r(HUtJ.HEARTBEAT,e.tt,e)},t.prototype.show=function(){FrameBgLayer.instance.show(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.SF)},t.CC=function(){App.VS.popup(null,KqZ.PR)},t.prototype.tt=function(){var e=this;e.rn--,e.renameBtn.label=fvg.GVf("fightingwin001",e.rn),e.rn<=0&&(vkG.$r(HUtJ.HEARTBEAT,e.tt,e),e.renameBtn.label=fvg.GVf("7"),e.ek(null))
},t.prototype.initData=function(){this.tv()},t.prototype.hv=function(){var e=this;e.renameBtn.label=fvg.GVf("7"),vkG.$r(HUtJ.HEARTBEAT,e.tt,e)},t.prototype.ek=function(e){var t=this,n=t.newNameText.text.trim();if(0==n.length)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.NG),null,Alert.EX,null,t);var i=/[^\u4e00-\u9fa50-9a-zA-Z_]/g;if(i.test(n))return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.IM),null,Alert.EX,null,t);var r=Nkz.XT(n);if(4>r)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.CC),null,Alert.EX,null,t);if(r>12)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.DK),null,Alert.EX,null,t);var a=1;t.renameBtn.touchEnabled=!1,ziI.YR(a,n)},t.prototype.eo=function(e){var t=this;e?(App.KF.name=t.fm,GObj.$d(t)):t.renameBtn&&(t.renameBtn.touchEnabled=!0)},t.prototype.tv=function(){var e=this;e.newNameText.text=LoadingManager.instance.getNickNameBySex(1),e.fm=e.newNameText.text},t.prototype.dispose=function(){var t=this;FrameBgLayer.instance.hide(),App.KF.newbie=!0,ziI.newbie(),App.UY.enterChapter(),PlayerManager.instance.noviceProgress(ProgressType.HW),RES.destroyRes("NickNameGroup"),t.removeEvent(),GObj.$d(t.randomBtn),t.randomBtn=null,GObj.$d(t.renameBtn),t.renameBtn=null,GObj.$d(t.newNameText),t.newNameText=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ChangeNamesPopUi.prototype,"ChangeNamesPopUi");var GameSetPopUi=function(e){function t(){var t=e.call(this,"GameSetPopUi")||this;return t.skinName=RRUU.$s("GameSetPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("gameset1"),e.ja=GObj.$c(kQr),e.ja.cwA(e.setNameBtn),e.ja.cwA(e.setImageBtn),e.setNameBtn.label=fvg.GVf("rename116"),e.setImageBtn.label=fvg.GVf("rename117")},t.prototype.initData=function(){e.prototype.initData.call(this),this.ja.selectedIndex=0},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.ja.addEventListener(egret.Event.CHANGE,t.hs,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.ja.removeEventListener(egret.Event.CHANGE,t.hs,t)},t.prototype.hs=function(e){var t=this,n=t.ja.LuO;switch(t.um&&(t.um.visible=!1),t.um=null,n){case t.setNameBtn:t.uv||(t.uv=GObj.$c(ReNameView),t.addChildAt(t.uv,2),t.uv.y=70),t.um=t.uv;break;case t.setImageBtn:t.xw||(t.xw=GObj.$c(HeadImageView),t.addChildAt(t.xw,2),t.xw.y=40),t.um=t.xw}t.um&&(t.um.visible=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.setNameBtn),t.setNameBtn=null,GObj.$d(t.setImageBtn),t.setImageBtn=null,GObj.$d(t.ja),t.ja=null,GObj.$d(t.xw),t.xw=null,GObj.$d(t.uv),t.uv=null,t.um=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GameSetPopUi.prototype,"GameSetPopUi");var HeadImageItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("HeadImageItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.eb,e),vkG.$a(UtJ.EGW,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.eb,e),vkG.$r(UtJ.EGW,e.dataChanged,e)},t.prototype.eb=function(){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=App.KF.sex||1,n=gLw.IQ(e.data[1].tid),i=!0,r=!1,a=e.data,o=a[1].cost;e.gi=App.FK.hsx(o);var s=gLw.DM(e.data[1].tid);60==s?(e.iconImg.source=kLM.JU(t,n,1),e.select_2.visible=!1,i=App.KF.head[n]?!1:!0,r=App.KF.currentHead==n?!0:!1,e.maskImg.visible=i,e.lockImg.visible=i,e.usingImg.visible=r,e.redPointImg.visible=e.gi>0&&i):(e.iconImg.source=kLM.ZQ(n),e.select_1.visible=!1,i=App.KF.frame[n]?!1:!0,r=App.KF.currentFrame==n?!0:!1,e.maskImg.visible=i,e.lockImg.visible=i,e.usingImg.visible=r,e.redPointImg.visible=e.gi>0&&i)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.select_1),t.select_1=null,GObj.$d(t.select_2),t.select_2=null,GObj.$d(t.usingImg),t.usingImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(HeadImageItem.prototype,"HeadImageItem");var HeadImageView=function(e){function t(){var t=e.call(this,"HeadImageView")||this;return t.type1=0,t.type2=0,t.bl=0,t.hc=!0,t.zj=!0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sureBtn.label=fvg.GVf("rename118"),e.headDescTxt.text=fvg.GVf("rename114"),e.setFrameTxt.text=fvg.GVf("rename115"),e.datas=GObj.$c(eui.ArrayCollection),e.list1.dataProvider=e.datas,e.list1.itemRenderer=HeadImageItem,e.datass=GObj.$c(eui.ArrayCollection),e.list2.dataProvider=e.datass,e.list2.itemRenderer=HeadImageItem,e.channel_1.text=QycO.OK,e.channel_2.text=QycO.OK},t.prototype.initData=function(){e.prototype.initData.call(this),this.rk()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.v_,e),e.list1.addEventListener(eui.ItemTapEvent.CHANGE,e.__list1selectedChangeHandler,e),e.list2.addEventListener(eui.ItemTapEvent.CHANGE,e.__list2selectedChangeHandler,e),vkG.$a(UtJ.EGW,e.rk,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.v_,e),e.list1.removeEventListener(eui.ItemTapEvent.CHANGE,e.__list1selectedChangeHandler,e),e.list2.removeEventListener(eui.ItemTapEvent.CHANGE,e.__list2selectedChangeHandler,e),vkG.$r(UtJ.EGW,e.rk,e)},t.prototype.rn=function(){var e=this,t=XCA.AQS.oVs(60),n=XCA.AQS.oVs(61);if(e.datas.source.length=0,e.datass.source.length=0,t&&n){for(var i in t)e.datas.source.push(t[i]);for(var r in n)e.datass.source.push(n[r])}},t.prototype.rk=function(){var e=this,t=App.KF.sex||1,n=App.KF.currentHead,i=App.KF.currentFrame;e.img1.source=kLM.JU(t,n,1),e.img2.source=kLM.ZQ(i),e.list1.selectedIndex=n-1,e.list2.selectedIndex=i-1,e.rn(),e.__list1selectedChangeHandler(null),e.__list2selectedChangeHandler(null)},t.prototype.__list1selectedChangeHandler=function(e){var t=this,n=t.list1.selectedItem;if(n){var i=App.KF.sex||1,r=gLw.IQ(n[1].tid),a=!1;for(var o in App.KF.head)r==parseInt(o)&&(a=!0);if(t.hc=a,a)t.channel_1.textFlow=LgRe.OQ(fvg.GVf("rename119",n[1].name,Color.SQ,fvg.GVf("rename121"))),t.type1=r;else{var s=fvg.GVf("rename119",n[1].name,Color.KA,t.ub(n[1].p1,n[1].p2));t.channel_1.textFlow=LgRe.OQ(s);var p=t.ub(n[1].p1,n[1].p2);MessageTipManager.instance.show(p)}t.img1.source=kLM.JU(i,r,1)}},t.prototype.__list2selectedChangeHandler=function(e){var t=this,n=t.list2.selectedItem;if(n){var i=(App.KF.sex||1,gLw.IQ(n[1].tid)),r=!1;for(var a in App.KF.frame)i==parseInt(a)&&(r=!0);if(t.zj=r,r)t.channel_2.textFlow=LgRe.OQ(fvg.GVf("rename120",n[1].name,Color.SQ,fvg.GVf("rename121"))),t.type2=i;else{var o=fvg.GVf("rename120",n[1].name,Color.KA,t.ub(n[1].p1,n[1].p2));t.channel_2.textFlow=LgRe.OQ(o);var s=t.ub(n[1].p1,n[1].p2);MessageTipManager.instance.show(s)}t.img2.source=kLM.ZQ(i)}},t.prototype.ub=function(e,t){if(e){return fvg.GVf("rename13"+e,t)}},t.prototype.v_=function(e){var t=this;(t.type1!=App.KF.currentHead||t.type2!=App.KF.currentFrame)&&(ziI.YK(t.type1),ziI.JJ(t.type2),MessageTipManager.instance.show(fvg.GVf("rename122")))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.img1),t.img1=null,GObj.$d(t.img2),t.img2=null,GObj.$d(t.channel_1),t.channel_1=null,GObj.$d(t.channel_2),t.channel_2=null,GObj.$d(t.headDescTxt),t.headDescTxt=null,GObj.$d(t.setFrameTxt),t.setFrameTxt=null,t.itemScroller1&&(t.itemScroller1.stopAnimation(),t.itemScroller1.viewport=null,GObj.$d(t.itemScroller1)),t.itemScroller1=null,t.list1&&(t.list1.dataProvider=null,GObj.$d(t.list1),t.list1=null),t.itemScroller2&&(t.itemScroller2.stopAnimation(),t.itemScroller2.viewport=null,GObj.$d(t.itemScroller2)),t.itemScroller2=null,t.list2&&(t.list2.dataProvider=null,GObj.$d(t.list2),t.list2=null),t.datas=null,t.datass=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HeadImageView.prototype,"HeadImageView");var ReNameView=function(e){function t(){var t=e.call(this,"ReNameView")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.maleCheckBtn.selected=!0,e.maleLabel.text=fvg.GVf("male"),e.femaleLabel.text=fvg.GVf("female"),e.newNameText.textDisplay.prompt=App.BG.jkU.name,e.confirmBtn.label=fvg.GVf("confirm"),e.choiceDescTxt.text=fvg.GVf("rename112"),e.setNameTxt.text=fvg.GVf("rename113"),e.hideTitle.text=fvg.GVf("hideSet01"),e.effectLabel.text=fvg.GVf("hideSet02"),e.autoLabel.text=fvg.GVf("hideSet03")},t.prototype.initData=function(){var e=this;e.xg=App.FK.hsx(StaticData.TID_RENAME_CARD);var t=XCA.CG(IDU.YM).split(QycO.XP);2==t.length&&(e.gx=parseInt(t[1])||0),e.xg>0?e.renameCarQty.text="x"+e.xg:(e.renameIcon.source="game_json.gold_png",e.renameCarQty.text="x"+e.gx);var n=App.KF.sex;1==n?(e.maleCheckBtn.selected=!0,e.femaleCheckBtn.selected=!1):(e.maleCheckBtn.selected=!1,e.femaleCheckBtn.selected=!0),e.maleCheckBtn.touchEnabled=!1,e.autoCheckBtn.selected=StaticData.AUTO_FAKE_SKILL,e.effectCheckBtn.selected=StaticData.HIDE_OTHER_EFFECT,fNs.instance.execute(hXS.EMB,hXS.RZ,e.autoCheckBtn)},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.zi,e),vkG.$a(UtJ.HF,e.fb,e),e.effectCheckBtn.addEventListener(egret.TouchEvent.CHANGE,e.zt,e),e.autoCheckBtn.addEventListener(egret.TouchEvent.CHANGE,e.sa,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.zi,e),vkG.$r(UtJ.HF,e.fb,e),e.effectCheckBtn.removeEventListener(egret.TouchEvent.CHANGE,e.zt,e),e.autoCheckBtn.removeEventListener(egret.TouchEvent.CHANGE,e.sa,e)},t.prototype.rg=function(e){},t.prototype.zi=function(e){var t=this;if(t.to=App.KF.point,t.xg<=0&&t.to<t.gx)return void(IoG.EZ()?msgTip(fvg.GVf("moneyType2")):Alert.WK(fvg.GVf("wealthDish03"),null,null,t.cm,t));var n=t.newNameText.text.trim();if(0==n.length)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.NG),null,Alert.EX,null,t);var i=/[^\u4e00-\u9fa50-9a-zA-Z_]/g;if(i.test(n))return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.IM),null,Alert.EX,null,t);var r=Nkz.XT(n);if(4>r)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.CC),null,Alert.EX,null,t);if(r>12)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.DK),null,Alert.EX,null,t);var a=1,o=t.maleCheckBtn.selected;o||(a=2),t.confirmBtn.touchEnabled=!1,ziI.YR(a,n)},t.prototype.cm=function(){vkG.$d(UtJ.JE),App.VS.open(10089)},t.prototype.fb=function(e){var t=this;e?Alert.WK(fvg.GVf("rename2"),null,Alert.EX):t.confirmBtn&&(t.confirmBtn.touchEnabled=!0)},t.prototype.zt=function(e){StaticData.HIDE_OTHER_EFFECT=this.effectCheckBtn.selected,NXr.MR(SetKey.KN,StaticData.HIDE_OTHER_EFFECT)},t.prototype.sa=function(e){StaticData.AUTO_FAKE_SKILL=this.autoCheckBtn.selected,NXr.MR(SetKey.HI,StaticData.AUTO_FAKE_SKILL)},t.prototype.rn=function(e){var t=this;t.maleCheckBtn.selected?t.femaleCheckBtn.selected=!1:t.femaleCheckBtn.selected=!0},t.prototype.qo=function(e){var t=this;t.femaleCheckBtn.selected?t.maleCheckBtn.selected=!1:t.maleCheckBtn.selected=!0},t.prototype.mj=function(e){var t=this;Alert.WK(fvg.GVf("449"),void 0,void 0,t.kk,t)},t.prototype.kk=function(){gameSwitchUser(PlayerManager.instance.openId)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backgroundImg),t.backgroundImg=null,GObj.$d(t.renameIcon),t.renameIcon=null,GObj.$d(t.maleLabel),t.maleLabel=null,GObj.$d(t.femaleLabel),t.femaleLabel=null,GObj.$d(t.maleCheckBtn),t.maleCheckBtn=null,GObj.$d(t.femaleCheckBtn),t.femaleCheckBtn=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.renameCarQty),t.renameCarQty=null,GObj.$d(t.newNameText),t.newNameText=null,GObj.$d(t.choiceDescTxt),t.choiceDescTxt=null,GObj.$d(t.setNameTxt),t.setNameTxt=null,e.prototype.dispose.call(this)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t}(BaseUI);__reflect(ReNameView.prototype,"ReNameView");var AppellItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("AppellItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noActiveTxt.text=fvg.GVf("public010"),e.switchBtn.$autoSelected=!1,e.costDescTxt.text=fvg.GVf("renown5"),e.descTxt.text=fvg.GVf("renown6"),e.maxTxt.text=fvg.GVf("public014"),e.levelVieww=GObj.$c(NumberView),e.levelVieww.x=50,e.levelVieww.y=1,e.upGroup.addChild(e.levelVieww)},t.prototype.initEvent=function(){var e=this;e.switchBtn.addEventListener(eui.tep,e.vj,e),e.withBtn.addEventListener(eui.tep,e.cw,e),e.addEventListener(eui.RFS,e.cv,e),e.upBtn.addEventListener(eui.tep,e.il,e),vkG.$a(UtJ.OC,e.gr,e),vkG.$a(UtJ.ZB,e.fg,e),vkG.$a(UtJ.DV,e.cu,e)},t.prototype.removeEvent=function(){var e=this;e.switchBtn.removeEventListener(eui.tep,e.vj,e),e.withBtn.removeEventListener(eui.tep,e.cw,e),e.removeEventListener(eui.RFS,e.cv,e),e.upBtn.removeEventListener(eui.tep,e.il,e),vkG.$r(UtJ.OC,e.gr,e),vkG.$r(UtJ.ZB,e.fg,e),vkG.$r(UtJ.DV,e.cu,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.be=e.data,e.avatarIcon.icon=kLM.EF(e.be.tid),e.xi(),e.switchBtn.selected=!e.be.showOrHide,e.jf=!!e.be.canup,e.upGroup.visible=e.jf,e.descTxt.visible=!e.jf,e.sr(),e.vj(null),e.fg(),e.cu())},t.prototype.sr=function(){var e=this;if(e.iz=1==(e.be.isact||0),e.activateImg1.source=e.iz?"renown_json.appell_bg_1_png":"renown_json.appell_bg_3_png",e.activateImg2.source=e.iz?"renown_json.appell_bg_2_png":"renown_json.appell_bg_4_png",e.noActiveTxt.visible=!e.iz,e.iz)if(e.be.indate){var t=kpd.formatDateBySec(e.be.date,!1);e.expiredTxt.text=fvg.GVf("appell4",t)}else e.expiredTxt.text=fvg.GVf("appell4",fvg.GVf("appell3"));var n=e.be.grade||0;hFO.instance.getNumberView(bRC.EZ,toChars(n),-4,e.levelVieww),e.maxTxt.visible=e.be.grade==MaxLevel.APPELL_MAX_LEVEL,e.upBtn.visible=!e.maxTxt.visible,e.upBtn.label=n?fvg.GVf("specia001"):fvg.GVf("public012"),e.costDescTxt.visible=!e.maxTxt.visible,e.costTxt.visible=!e.maxTxt.visible,e.descImg.x=3+e.levelVieww.width+e.levelVieww.x,e.be.show&&(e.activeConTxt.textFlow=LgRe.OQ(fvg.GVf("appell6",Color.TX,e.be.desc+fvg.GVf("112",e.be.value||0,e.be.p2||0))))},t.prototype.cu=function(){var e=this;if(e.be&&(e.switchBtn.icon=e.upBtn.icon=null,e.jf)){var t=App.FK.hsx(e.be.canup);e.costTxt.text=e.be.name+fvg.GVf("112",t,1),e.costTxt.textColor=t>0?Color.TX:Color.KA,e.switchBtn.icon=e.upBtn.icon=t>0?StaticData.GHj:null}},t.prototype.il=function(e){var t=this,n=(t.be.grade||0,App.FK.hsx(t.be.canup));if(0>=n)return void App.TT.show(fvg.GVf("renown8"));var i=App.FK.getGoodsListByTIDAndBagType(1,t.be.canup),r=0;i.length>0&&(r=i[0].id),GoodsMsgProxy.TI(r,1)},t.prototype.gr=function(e){var t=this;t.be&&e&&e.indexOf(t.be.tid)>=0&&(t.sr(),t.xi(),t.fg())},t.prototype.fg=function(){var e=this;e.withGroup.visible=App.KF.apid==e.be.tid,e.withBtn.visible=e.expiredTxt.visible=e.iz,App.KF.apid==e.be.tid?(e.withBtn.label=fvg.GVf("appell2"),e.withBtn.bgImg.source="core_json.btn_2_png"):(e.withBtn.label=fvg.GVf("appell1"),e.withBtn.bgImg.source="core_json.btn_1_png")},t.prototype.xi=function(){var e,t=this;e=t.be.canup>0?t.be.grade||1:t.be.grade||0;var n=t.be.attrid+e,i=XCA.YV(n);t.attrNameTxt_1.text="",t.attrNameTxt_2.text="",t.attrNameTxt_3.text="",t.attrNameTxt_4.text="",t.attrNameTxt_5.text="",t.attrNameTxt_6.text="";var r,a,o=1;if(i){for(r in xxf.UK)i[r]&&this["attrNameTxt_"+o]&&(t.be.blsuit?(a=App.FX.getSuitAttrAddition(t.be.blsuit,1)||0,a=int(i[r]*(1+a/100))):a=i[r],this["attrNameTxt_"+o].textFlow=LgRe.OQ(fvg.GVf("441",xxf.UK[r],a)),o++);t.be.blsuit&&(this["attrNameTxt_"+o].text=App.FX.getSuitAttrAddition(t.be.blsuit),o++);for(r in xxf.IM)i[r]&&this["attrNameTxt_"+o]&&(this["attrNameTxt_"+o].textFlow=LgRe.OQ(fvg.GVf("441",xxf.IM[r],(i[r]/10).toFixed(1)+"%")),o++)}t.activeConTxt.textFlow=LgRe.OQ(fvg.GVf("appell6",Color.TX,t.be.desc));var s;s=t.be.blsuit?App.FX.getSuitAttrAddition(t.be.blsuit,1)||0:0,t.cpTxt.text=fvg.GVf("public018",i?int(i.p1*(1+s/100)):0)},t.prototype.vj=function(e){var t=this;e&&(t.switchBtn.selected=!t.switchBtn.selected),egret.Tween.removeTweens(t),t.switchBtn.selected?(e?egret.Tween.get(t).to({height:111},100):t.height=111,t.contentGroup.visible=!1,t.be.showOrHide=!1):(e?egret.Tween.get(t).to({height:249},100):t.height=249,t.contentGroup.visible=!0,t.be.showOrHide=!0)},t.prototype.sd=function(e){var t=this;t.jt&&t.jt.parent&&t.removeChild(t.jt)},t.prototype.cw=function(e){var t=this;t.iz&&t.be&&(App.KF.apid==t.be.tid?AppellMsgProxy.OR(2,t.be.tid):(AppellMsgProxy.OR(1,t.be.tid),t.updateWear()))},t.prototype.updateWear=function(){var e=this;e.jt||(e.jt=App.KB.getUIEffect(gYq.FS,100,1),e.jt.addEventListener(egret.Event.COMPLETE,e.sd,e),e.jt.x=45,e.jt.y=-15),e.jt.play(1),e.addChild(e.jt)},t.prototype.cv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.withGroup),t.withGroup=null,GObj.$d(t.attrNameTxt_1),t.attrNameTxt_1=null,GObj.$d(t.attrNameTxt_2),t.attrNameTxt_2=null,GObj.$d(t.attrNameTxt_3),t.attrNameTxt_3=null,GObj.$d(t.attrNameTxt_4),t.attrNameTxt_4=null,GObj.$d(t.attrNameTxt_5),t.attrNameTxt_5=null,GObj.$d(t.attrNameTxt_6),t.attrNameTxt_6=null,GObj.$d(t.activeConTxt),t.activeConTxt=null,GObj.$d(t.contentGroup),t.contentGroup=null,GObj.$d(t.expiredTxt),t.expiredTxt=null,GObj.$d(t.avatarIcon),t.avatarIcon=null,GObj.$d(t.noActiveTxt),t.noActiveTxt=null,GObj.$d(t.withBtn),t.withBtn=null,GObj.$d(t.switchBtn),t.switchBtn=null,GObj.$d(t.activateImg1),t.activateImg1=null,GObj.$d(t.activateImg2),t.activateImg2=null,t.be=null,t.jt&&(t.jt.stop(),t.jt.removeEventListener(egret.Event.COMPLETE,t.sd,t)),GObj.$d(t.jt),t.jt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.upGroup),t.upGroup=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.costDescTxt),t.costDescTxt=null,GObj.$d(t.costTxt),t.costTxt=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.levelVieww),t.levelVieww=null,GObj.$d(t.descImg),t.descImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AppellItem.prototype,"AppellItem");var AppellView=function(e){function t(){var t=e.call(this,"AppellView")||this,n=RRUU.$s("AppellViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=AppellItem,e.kf=GObj.$c(kQr),e.kf.cwA(e.rankBtn),e.kf.cwA(e.achievementBtn),e.kf.cwA(e.specialBtn),e.kf.cwA(e.martialartBtn),e.fightView=GObj.$c(FightView),e.fightView.x=98,e.fightView.y=-1,e.addChild(e.fightView),e.descLab.text=fvg.GVf("appell5"),e.kf.selectedIndex=e.yr=0},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.OC,e.kr,e),e.kf.addEventListener(egret.Event.CHANGE,e.np,e),vkG.$a(UtJ.DV,e.gm,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.OC,e.kr,e),e.kf.removeEventListener(egret.Event.CHANGE,e.np,e),vkG.$r(UtJ.DV,e.gm,e)},t.prototype.initData=function(){var e,t=this,n=XCA.allTemplateData.appelltemp;t.cx=[];for(var i in n)e=int(parseInt(i)/1e5)-1,t.cx[e]||(t.cx[e]=[]),n[i].isopen&&(n[i].showOrHide=!1,t.cx[e].push(n[i]));t.swc(),t.kr(null),t.gm()},t.prototype.swc=function(){var e=this;e.itemData.source=[];for(var t,n,i,r=e.cx[e.yr],a=r.length,o=App.KF.fid||1,s=0;a>s;s++)t=r[s],t&&(n=AppellTemplate.GH(t.tid),i=AppellTemplate.ZT(t.tid),4==n&&4>=i?i==o&&e.itemData.source.push(t):e.itemData.source.push(t));e.itemData.source.sort(e.al),e.itemData.refresh()},t.prototype.al=function(e,t){var n=e.isact||0,i=t.isact||0,r=e.sort*(n?1:-1),a=t.sort*(i?1:-1);return r>a?-1:1},t.prototype.np=function(e){var t=this;t.yr=t.kf.selectedIndex,t.swc()},t.prototype.kr=function(e){var t=this,n=App.AI.totalCap||0;t.fightView.fightNum=n;for(var i,r={},a=0;4>a;a++){var o=0;i=t.cx[a];for(var s=0;s<i.length;s++)1==i[s].isact&&o++;r[a]=o}t.rankBtn.label=fvg.GVf("appell7",r[0],t.cx[0].length),t.achievementBtn.label=fvg.GVf("appell8",r[1],t.cx[1].length),t.specialBtn.label=fvg.GVf("appell9",r[2],t.cx[2].length),t.martialartBtn.label=fvg.GVf("appell10",r[3],t.cx[3].length)},t.prototype.gm=function(){this.specialBtn.icon=UsU.OT()?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fightView),t.fightView=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(AppellView.prototype,"AppellView");var PrestigeItem=function(e){function t(){var t=e.call(this,"PrestigeItem")||this,n=RRUU.$s("PrestigeItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){if(e._i=e.data,e.qz=e.itemIndex+1,e._i.p5){var t=App.XB.info.fid||0,n=Nkz.LI(e._i.p5);e.nameLab.text=n[t]}e.nameLab.textColor=aKF.DU(Math.ceil(e.qz/7)+1),e.nd(),e.px(),e.oh()}},t.prototype.nd=function(){var e=this;if(e._i){var t=XCA.YV(e._i.attrid);if(t){var n=void 0,i=1;for(n in xxf.UK)t[n]&&this["attrTxt"+i]&&(this["attrTxt"+i].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[n],t[n])),i++);for(n in xxf.IM)t[n]&&this["attrTxt"+i]&&(this["attrTxt"+i].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[n],t[n]/10+"%")),i++)}}},t.prototype.px=function(){var e=this;if(e._i){var t=App.XB.info.fgrade||1,n=t<e.qz;e.gradeLab.textColor=n?Color.KA:Color.TX,e.gradeLab.text=fvg.GVf("renown4",e.qz),e.currGroup.visible=t==e.qz,e.lockImg.visible=n,e.gradeLab.visible=n}},t.prototype.oh=function(){var e=this,t=App.XB.info.fid||1;e.bgIcon.source=PATH.IS+t+"_"+int((e.itemIndex+7)/7)+".png"},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hs,e),vkG.$a(UtJ.XW,e.px,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hs,e),vkG.$r(UtJ.XW,e.px,e)},t.prototype.hs=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currGroup),t.currGroup=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.attrTxt1),t.attrTxt1=null,GObj.$d(t.attrTxt2),t.attrTxt2=null,t._i=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PrestigeItem.prototype,"PrestigeItem");var PrestigeView=function(e){function t(){var t=e.call(this,"PrestigeView")||this;t.le=(App.XB.info.fgrade||1)-1;var n=RRUU.$s("PrestigeViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.op=[],e.qx=[],e.ws=GObj.$c(PrestigeItem),e.ws.x=10,e.ws.y=88,e.addChild(e.ws),e.datas=GObj.$c(eui.ArrayCollection),e.privilegeView=GObj.$c(NumberView),e.privilegeView.horizontalCenter=30,e.privilegeView.y=416,e.addChild(e.privilegeView),e.fightView=GObj.$c(FightView),e.fightView.x=98,e.fightView.y=-1,e.addChild(e.fightView),e.receiveBtn.label=fvg.GVf("104"),e.maxTxt.text=fvg.GVf("skill006"),e.salarydatas=GObj.$c(eui.ArrayCollection),e.salaryGroup.dataProvider=e.salarydatas,e.salaryGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.ff,e),e.receiveBtn.addEventListener(eui.tep,e.ai,e),e.leftBtn.addEventListener(eui.tep,e.np,e),e.rightBtn.addEventListener(eui.tep,e.xv,e),vkG.$a(UtJ.XW,e.vr,e),vkG.$a(UtJ.YL,e.ba,e),vkG.$a(UtJ.AL,e.bx,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.ff,e),e.receiveBtn.removeEventListener(eui.tep,e.ai,e),e.leftBtn.removeEventListener(eui.tep,e.np,e),e.rightBtn.removeEventListener(eui.tep,e.xv,e),vkG.$r(UtJ.XW,e.vr,e),vkG.$r(UtJ.YL,e.ba,e),vkG.$r(UtJ.AL,e.bx,e)},t.prototype.initData=function(){var e=this,t=XCA.AQS.oVs(21);if(t){e.pe=t[1];for(var n in e.pe)e.datas.source.push(e.pe[n]);e.datas.source.sort(e.zb),e.datas.refresh(),e.gb(),e.vr(),e.ba()}},t.prototype.zb=function(e,t){return e.tid<t.tid?-1:1},t.prototype.bv=function(){egret.Tween.removeTweens(this);(App.XB.info.fgrade||1)-1},t.prototype.vr=function(){var e=this;egret.Tween.get(e).wait(100).call(e.bv,e),e.io=App.XB.info.fgrade||1,e.nw!=e.io&&(e.ab(),e.bx()),e.nw=e.io,hFO.instance.getNumberView(bRC.EZ,toChars(e.io),-4,e.privilegeView),e.privilegeView.x=130+(32-e.privilegeView.width)/2;var t=XCA.DG(31,e.io);if(usable(t)){e.salarydatas.source.splice(0,e.salarydatas.source.length);for(var n=Nkz.PI(t),i=0;i<n.length;i++)e.salarydatas.source[i]=n[i];e.salarydatas.refresh()}var r,a,o=0;r=e.datas.source[e.io-1],r&&(a=XCA.YV(r.attrid),o=a?a.p1||0:0),e.fightView.fightNum=o},t.prototype.ab=function(){var e=this;e.op.splice(0,e.op.length),e.qx.splice(0,e.qx.length);var t=e.io+1,n=XCA.AQS.UFA(21,1,t);if(n)for(var i,r=(n.p6||"").split("|"),a=0;a<r.length;a++)i=r[a].split(","),e.op.push(parseInt(i[0])),e.qx.push(parseInt(i[1]))},t.prototype.bx=function(){var e=this;e.up(),e.am(),e.wj(),e.ey()},t.prototype.up=function(){var e=this;if(e.op.length<1)return e.condGroup_1.visible=!1,void(e.uh=!0);e.condGroup_1.visible=!0,e.uh=!1;var t=e.qx[0],n=App.XB.info.v1;e.uh=n>=t,e.condition_1_txt.text=e.zl(e.op[0],t),e.condition_1_txt.textColor=e.uh?Color.TX:Color.KA,e.condition_1_img.source=kLM.MN(e.uh),e.condition_1_prog_txt.text=n+"/"+t,e.condition_1_prog.targetValue=Math.min(int(n/t*100),100)},t.prototype.am=function(){var e=this;if(e.op.length<2)return e.condGroup_2.visible=!1,void(e.dh=!0);e.condGroup_2.visible=!0,e.dh=!1;var t=e.qx[1],n=App.XB.info.v2;e.dh=n>=t,e.condition_2_txt.text=e.zl(e.op[1],t),e.condition_2_txt.textColor=e.dh?Color.TX:Color.KA,e.condition_2_img.source=kLM.MN(e.dh),e.condition_2_prog_txt.text=n+"/"+t,e.condition_2_prog.targetValue=Math.min(int(n/t*100),100)},t.prototype.wj=function(){var e=this;if(e.op.length<3)return e.condGroup_3.visible=!1,void(e.wa=!0);e.condGroup_3.visible=!0,e.wa=!1;var t=e.qx[2],n=App.XB.info.v3;e.wa=n>=t,e.condition_3_txt.text=e.zl(e.op[2],t),e.condition_3_txt.textColor=e.wa?Color.TX:Color.KA,e.condition_3_img.source=kLM.MN(e.wa),e.condition_3_prog_txt.text=n+"/"+t,e.condition_3_prog.targetValue=Math.min(int(n/t*100),100)},t.prototype.ey=function(){var e=this;e.maxTxt.visible=e.io>=MaxLevel.PRESTIGE_MAX_LEVELA,e.getBtn.visible=!e.maxTxt.visible,e.io<MaxLevel.PRESTIGE_MAX_LEVELA&&e.uh&&e.dh&&e.wa?(e.getBtn.label=fvg.GVf("martialart23"),e.getBtn.icon=StaticData.GHj):(e.getBtn.label=fvg.GVf("103"),e.getBtn.icon=null)},t.prototype.ba=function(){var e=this;App.XB.dayfeat?(e.getedImg.visible=!0,e.receiveBtn.visible=!1,e.receiveBtn.icon=null):(e.receiveBtn.visible=!0,e.getedImg.visible=!1,e.receiveBtn.icon=StaticData.GHj)},t.prototype.np=function(){var e=this;e.le--,e.gb()},t.prototype.xv=function(){var e=this;e.le++,e.gb()},t.prototype.gb=function(){var e=this,t=e.le;e.ws.data=e.datas.source[t],e.ws.itemIndex=t,e.ws.dataChanged(),e.leftBtn.visible=e.le>0?!0:!1;var n=e.datas.source.length-1;e.rightBtn.visible=e.le<n?!0:!1},t.prototype.zl=function(e,t){return fvg.GVf("turnupc"+e,t)},t.prototype.ai=function(e){var t=this;App.JA.checkIncome(t.vk,t)},t.prototype.vk=function(){AjJ.OK()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.ff=function(e){var t=this;if(t.io>=MaxLevel.PRESTIGE_MAX_LEVELA)return void MessageTipManager.instance.show(fvg.GVf("skill006"));if(0!=t.op.length){if(!t.uh)return void rRcz.KJ(t.op[0]);if(!t.dh)return void rRcz.KJ(t.op[1]);if(!t.wa)return void rRcz.KJ(t.op[2]);AjJ.WN(),t.xv(),App.KB.showEffect(gYq.UQ)}},t.prototype.dispose=function(){var t=this;egret.Tween.removeTweens(t),t.removeEvent(),GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.getBtn),t.getBtn=null,t.salaryGroup&&(t.salaryGroup.dataProvider=null,GObj.$d(t.salaryGroup)),t.salaryGroup=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.condition_1_txt),t.condition_1_txt=null,GObj.$d(t.condition_2_txt),t.condition_2_txt=null,GObj.$d(t.condition_3_txt),t.condition_3_txt=null,GObj.$d(t.condition_1_prog),t.condition_1_prog=null,GObj.$d(t.condition_2_prog),t.condition_2_prog=null,GObj.$d(t.condition_3_prog),t.condition_3_prog=null,GObj.$d(t.condition_1_prog_txt),t.condition_1_prog_txt=null,GObj.$d(t.condition_2_prog_txt),t.condition_2_prog_txt=null,GObj.$d(t.condition_3_prog_txt),t.condition_3_prog_txt=null,GObj.$d(t.condGroup_1),t.condGroup_1=null,GObj.$d(t.condGroup_2),t.condGroup_2=null,GObj.$d(t.condGroup_3),t.condGroup_3=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,t.pe=null,t.op=null,t.qx=null,e.prototype.dispose.call(this)
},t}(BaseView);__reflect(PrestigeView.prototype,"PrestigeView");var OnlinePacksItem=function(e){function t(){var t=e.call(this)||this;return t.ah=0,t.skinName=RRUU.$s("OnlinePacksItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("onlinepacks001"),e.timeLab.text=fvg.GVf("rewardhall8","00:00:00"),e.dataCollection=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.dataCollection,e.item.itemRenderer=GoodsItemRenderer,e.wx=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.o_=e.data.index+1,e.onlineTxt.text=fvg.GVf("onlinepacks002",e.data.info/60),e.dataCollection.source.length=0;var t=11;1==e.data.selectedIndex&&(t=534,e.onlineTxt.text=fvg.GVf("onlinepacks004",e.data.info/60));for(var n=XCA.DG(t,e.o_),i=Nkz.PI(n),r=0;r<i.length;r++)e.dataCollection.source[r]=i[r];e.dataCollection.refresh(),e.__updateState(),e.yz=!1,vkG.$r(HUtJ.HEARTBEAT,e.sx,e),e.sx()}},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.ln,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.aq,e),vkG.$a(UtJ.DL,e.__updateState,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.ln,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.aq,e),vkG.$r(UtJ.DL,e.__updateState,e),vkG.$r(HUtJ.HEARTBEAT,e.sx,e)},t.prototype.aq=function(e){this.dispose()},t.prototype.ln=function(e){var t=this,n=App.CC.onlinetime;return n<t.data.info?void MessageTipManager.instance.show(fvg.GVf("onlinepacks003")):void App.JA.checkIncome(t.vj,t)},t.prototype.vj=function(){var e=this;0==e.data.selectedIndex?RewardHallMsgProxy.VV(e.o_):App.XT.vipGrade>=1?RewardHallMsgProxy.IB(e.o_):MessageTipManager.instance.show(fvg.GVf("onlinepacks005"))},t.prototype.__updateState=function(){var e=this,t=App.CC.onlineaward,n=!0;1==e.data.selectedIndex&&(t=App.CC.svipaward,n=App.XT.vipGrade>=1);var i=t;e.wx=0==(i&1<<e.o_-1)&&App.CC.onlinetime>=e.data.info,e.wx&&n?e.receiveBtn.icon=StaticData.GHj:e.receiveBtn.icon=null;var r=(i&1<<e.o_-1)>0;e.receiveBtn.visible=!r,e.receiveImg.visible=r},t.prototype.sx=function(){var e=this,t=App.CC.onlinetime;1==e.data.selectedIndex&&(t=App.CC.sviptime);var n=t,i=Math.max(0,e.data.info-n);i-=e.ah;var r=kpd.HE(i>=0?i:0);e.timeLab.text=fvg.GVf("rewardhall8",r),e.timeLab.textColor=i>0?Color.KA:Color.SQ,i>0&&!e.yz?(e.yz=!0,vkG.$a(HUtJ.HEARTBEAT,e.sx,e)):0>=i&&e.yz&&(e.yz=!1,vkG.$r(HUtJ.HEARTBEAT,e.sx,e)),e.ah++},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.onlineTxt),t.onlineTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receiveImg),t.receiveImg=null,t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.dataCollection=null,GObj.$d(t.timeLab),t.timeLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(OnlinePacksItem.prototype,"OnlinePacksItem");var OnlinePacksView=function(e){function t(){var t=e.call(this,"OnlinePacksView")||this,n=RRUU.$s("OnlinePacksViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.t_=GObj.$c(kQr),e.t_.cwA(e.toggleOnlineBtn),e.t_.cwA(e.toggleSvipBtn);var t=GObj.$c(egret.HtmlTextParser);e.timeLab.textFlow=t.parser(fvg.GVf("rewardhall6")),e.descLab.text=fvg.GVf("public012"),e.descLab_2.textFlow=t.parser(fvg.GVf("rewardhall4"));var n=App.DE.supremeCardVO.isMonth;n?e.activatedLab.text=fvg.GVf("public009"):e.activationBtn.label=fvg.GVf("rewardhall5"),e.activationBtn.visible=!n,e.activatedLab.visible=n,e.datas=GObj.$c(eui.ArrayCollection),e.online_packsList.dataProvider=e.datas,e.online_packsList.itemRenderer=OnlinePacksItem,e.dl=1},t.prototype.initData=function(){var e=this;e.t_.selectedIndex=0,e.ai()},t.prototype.km=function(){var e=this;e.datas.source.length=0;var t=IDU.OI;1==e.t_.selectedIndex&&(t=IDU.QY);for(var n=XCA.CG(t),i=n.split(","),r=0;r<i.length;r++)e.datas.source.push({info:parseInt(i[r]),index:r,selectedIndex:e.t_.selectedIndex});e.datas.source.sort(e.nh),e.datas.refresh(),e.toggleSvipBtn.icon=UsU.DO()?StaticData.GHj:null,e.toggleOnlineBtn.icon=UsU.JA()?StaticData.GHj:null},t.prototype.initEvent=function(){var e=this;e.t_.addEventListener(egret.Event.CHANGE,e.sj,e),e.activationBtn.addEventListener(eui.tep,e.rc,e),vkG.$a(UtJ.DL,e.km,e),vkG.$a(UtJ.KRG,e.km,e),vkG.$a(UtJ.YJ,e.ai,e)},t.prototype.removeEvent=function(){var e=this;e.t_.removeEventListener(egret.Event.CHANGE,e.sj,e),e.activationBtn.removeEventListener(eui.tep,e.rc,e),vkG.$r(UtJ.DL,e.km,e),vkG.$r(UtJ.KRG,e.km,e),vkG.$r(UtJ.YJ,e.ai,e)},t.prototype.ai=function(){var e=this;e.group.visible=!IoG.EZ(),e.togGroup.visible=!IoG.EZ()},t.prototype.nh=function(e,t){var n=App.CC.onlineaward,i=IDU.OI;1==e.selectedIndex&&(n=App.CC.svipaward,i=IDU.QY);var r=n,a=XCA.CG(i).split(QycO.XP),o=a.indexOf(""+e.info)+1,s=a.indexOf(""+t.info)+1,p=(r&1<<o-1)>0,l=(r&1<<s-1)>0;return p&&!l?1:p||l?!p&&l?-1:p&&l?e.info>t.info?1:-2:1:e.info>t.info?1:-1},t.prototype.sj=function(e){var t=this,n=t.t_.LuO;switch(n){case t.toggleOnlineBtn:t.dl=1;break;case t.toggleSvipBtn:t.dl=2}t.km(),t.pw()},t.prototype.pw=function(){1==this.dl},t.prototype.rc=function(e){t.HR=!0,App.VS.open(10125,{tabType:2})},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.online_packsScroller&&(t.online_packsScroller.stopAnimation(),t.online_packsScroller.viewport=null,GObj.$d(t.online_packsScroller)),t.online_packsScroller=null,t.online_packsList&&(t.online_packsList.dataProvider=null,GObj.$d(t.online_packsList)),t.online_packsList=null,t.datas=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.activatedLab),t.activatedLab=null,GObj.$d(t.group),t.group=null,GObj.$d(t.togGroup),t.togGroup=null,e.prototype.dispose.call(this)},t.HR=!1,t}(BaseUI);__reflect(OnlinePacksView.prototype,"OnlinePacksView");var RewardHallActivationCodeView=function(e){function t(){var t=e.call(this,"RewardHallActivationCodeView")||this;return t.skinName=RRUU.$s("RewardHallActivationCodeView"),t}return __extends(t,e),t.prototype.initView=function(){this.submitBtn.label=fvg.GVf("rewardhall001")},t.prototype.initData=function(){var e=App.HD.bulletinInfo.utime;!e||GApp.timer-e>3e5?ziI.MS():this.fd()},t.prototype.initEvent=function(){var e=this;e.submitBtn.addEventListener(eui.tep,e.su,e),vkG.$a(UtJ.LD,e.fd,e)},t.prototype.removeEvent=function(){var e=this;e.submitBtn.removeEventListener(eui.tep,e.su,e),vkG.$r(UtJ.LD,e.fd,e)},t.prototype.fd=function(){var e=this;e.titleTxt.text=App.HD.bulletinInfo.t,e.contentTxt.text=App.HD.bulletinInfo.c},t.prototype.su=function(e){var t=this;return usable(t.redemption_codeTxt.text)?void ActivityMsgProxy.GY(t.redemption_codeTxt.text):void App.TT.show(fvg.GVf(95))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.bulletinScroller&&(t.bulletinScroller.stopAnimation(),t.bulletinScroller.viewport=null,GObj.$d(t.bulletinScroller)),t.bulletinScroller=null,GObj.$d(t.submitBtn),t.submitBtn=null,GObj.$d(t.redemption_codeTxt),t.redemption_codeTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.contentTxt),t.contentTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RewardHallActivationCodeView.prototype,"RewardHallActivationCodeView");var RewardHallCheckInItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RewardHallCheckInItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.jc=e.data;var t=XCA.DG(10,e.jc),n=Nkz.PI(t);n.length>0&&(e.itemView.data=n[0]),e.mm=e.ha=!1,e.checkInImg.visible=e.maskImg.visible=e.jc<=App.CC.signCount,e.checkInImg.visible||(e.mm=!App.CC.todaySign&&App.CC.signCount+1==e.jc,e.ha=App.CC.todaySign&&e.jc>App.CC.signCount&&e.jc<=App.CC.signCount+App.CC.resignCount),e.selectedImg.visible=e.redPointImg.visible=e.mm,e.checkImg.visible=e.ha,e.treasureImg.source=e.data%5==0?"rewardhall_json.reward_hall_treasure_png":null}},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.iv,e),e.addEventListener(eui.tep,e.hi,e),vkG.$a(UtJ.JP,e.nt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.iv,e),e.removeEventListener(eui.tep,e.hi,e),vkG.$r(UtJ.JP,e.nt,e)},t.prototype.nt=function(){this.dataChanged()},t.prototype.hi=function(e){var t=this;if(t.mm)App.JA.checkIncome(t.tn,t);else if(t.ha){var n=App.FK.hsx(StaticData.TID_GOODS_3);n>0?RewardHallMsgProxy.IQ(2):MessageTipManager.instance.show(fvg.GVf("rewardhall002"))}else t.itemView.data&&App.FK.showGoodsDetails(t.itemView.data,!1)},t.prototype.tn=function(){RewardHallMsgProxy.IQ(1)},t.prototype.iv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.checkImg),t.checkImg=null,GObj.$d(t.treasureImg),t.treasureImg=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.checkInImg),t.checkInImg=null,GObj.$d(t.maskImg),t.maskImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RewardHallCheckInItem.prototype,"RewardHallCheckInItem");var RewardHallCheckInView=function(e){function t(){var t=e.call(this,"RewardHallCheckInView")||this,n=RRUU.$s("RewardHallCheckInViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descLab.text=fvg.GVf("public012"),e.descLab_3.text=fvg.GVf("rewardhal31"),e.descLab_2.textFlow=LgRe.OQ(fvg.GVf("rewardhall4"));var t=App.DE.supremeCardVO.isMonth;t?e.activatedLab.text=fvg.GVf("public009"):e.activationBtn.label=fvg.GVf("rewardhall5"),e.activationBtn.visible=!t,e.activatedLab.visible=t,e.datas=GObj.$c(eui.ArrayCollection),e.check_inList.dataProvider=e.datas,e.check_inList.itemRenderer=RewardHallCheckInItem},t.prototype.initData=function(){for(var e=this,t=0;20>t;t++)e.datas.source.push(t+1);e.datas.refresh(),e.vr(),e.sa()},t.prototype.initEvent=function(){var e=this;e.activationBtn.addEventListener(eui.tep,e.nq,e),vkG.$a(UtJ.JP,e.oz,e),vkG.$a(UtJ.YJ,e.sa,e)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.nq,e),vkG.$r(UtJ.JP,e.oz,e),vkG.$r(UtJ.YJ,e.sa,e)},t.prototype.oz=function(){this.vr()},t.prototype.sa=function(){this.group.visible=!IoG.EZ()},t.prototype.vr=function(){var e=App.FK.hsx(StaticData.TID_GOODS_3);this.numLab.text=e+""},t.prototype.nq=function(e){t.VN=!0,App.VS.open(10125,{tabType:2})},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.check_inScroller&&(t.check_inScroller.stopAnimation(),t.check_inScroller.viewport=null,GObj.$d(t.check_inScroller)),t.check_inScroller=null,t.check_inList&&(t.check_inList.dataProvider=null,GObj.$d(t.check_inList)),t.check_inList=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.activatedLab),t.activatedLab=null,GObj.$d(t.descLab_3),t.descLab_3=null,GObj.$d(t.group),t.group=null,e.prototype.dispose.call(this)},t.VN=!1,t}(BaseUI);__reflect(RewardHallCheckInView.prototype,"RewardHallCheckInView");var RewardHallLoginItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RewardHallLoginItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("onlinepacks001"),e.dataCollection=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.dataCollection,e.item.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.daysImg.source="rewardhall_json.reward_hall_day_"+e.data+"_png",e.dataCollection.source.splice(0,e.dataCollection.source.length);for(var t=XCA.DG(14,e.data),n=Nkz.PI(t),i=0;i<n.length;i++)e.dataCollection.source[i]=n[i];e.dataCollection.refresh(),e.bn()}},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.wj,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.uo,e),vkG.$a(UtJ.KUB,e.bn,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.wj,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.uo,e),vkG.$r(UtJ.KUB,e.bn,e)},t.prototype.uo=function(e){this.dispose()},t.prototype.wj=function(e){var t=this;return t.data>App.CC.logindays?void MessageTipManager.instance.show(fvg.GVf("rewardhall1")):void App.JA.checkIncome(t.nk,t)},t.prototype.nk=function(){RewardHallMsgProxy.JF(this.data)},t.prototype.bn=function(){var e=this,t=App.CC.loginaward;e.ef=0==(t&1<<e.data-1)&&e.data<=App.CC.logindays,e.ef?e.receiveBtn.icon=StaticData.GHj:e.receiveBtn.icon=null;var n=(t&1<<e.data-1)>0;e.receiveBtn.visible=!n,e.receiveImg.visible=n},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.daysImg),t.daysImg=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receiveImg),t.receiveImg=null,t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.dataCollection=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RewardHallLoginItem.prototype,"RewardHallLoginItem");var RewardHallLoginView=function(e){function t(){var t=e.call(this,"RewardHallLoginView")||this,n=RRUU.$s("RewardHallLoginViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=GObj.$c(egret.HtmlTextParser);e.timeLab.textFlow=t.parser(fvg.GVf("rewardhall3",App.CC.logindays,7)),e.descLab.text=fvg.GVf("public012"),e.descLab_2.textFlow=t.parser(fvg.GVf("rewardhall4"));var n=App.DE.supremeCardVO.isMonth;n?e.activatedLab.text=fvg.GVf("public009"):e.activationBtn.label=fvg.GVf("rewardhall5"),e.activationBtn.visible=!n,e.activatedLab.visible=n,e.datas=GObj.$c(eui.ArrayCollection),e.loginList.dataProvider=e.datas,e.loginList.itemRenderer=RewardHallLoginItem},t.prototype.initData=function(){var e=this;e.eb(),e.xg()},t.prototype.eb=function(){var e=this;e.datas.source.length=0;for(var t=1;7>=t;t++)e.datas.source.push(t);e.datas.source.sort(e.ix),e.datas.refresh()},t.prototype.initEvent=function(){var e=this;e.activationBtn.addEventListener(eui.tep,e.jd,e),vkG.$a(UtJ.KUB,e.eb,e),vkG.$a(UtJ.YJ,e.xg,e)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.jd,e),vkG.$r(UtJ.KUB,e.eb,e),vkG.$r(UtJ.YJ,e.xg,e)},t.prototype.xg=function(){this.group.visible=!IoG.EZ()},t.prototype.ix=function(e,t){var n=App.CC.loginaward,i=(n&1<<e-1)>0,r=(n&1<<t-1)>0;return i&&!r?1:i||r?!i&&r?-1:i&&r?e>t?1:-1:1:e>t?1:-1},t.prototype.jd=function(e){t.IN=!0,App.VS.open(10125,{tabType:2})},t.prototype.wx=function(){var e=this;if(e.loginScroller){for(var t=App.CC.logindays,n=App.CC.loginaward,i=0;t>i&&0!=(n&1<<i);i++);var r=110*i,a=e.loginScroller.viewport.contentHeight-e.loginScroller.height;e.loginScroller.viewport.scrollV=r>a?a:r}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.loginScroller&&(t.loginScroller.stopAnimation(),t.loginScroller.viewport=null,GObj.$d(t.loginScroller)),t.loginScroller=null,t.loginList&&(t.loginList.dataProvider=null,GObj.$d(t.loginList)),t.loginList=null,t.datas=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.activatedLab),t.activatedLab=null,GObj.$d(t.group),t.group=null,e.prototype.dispose.call(this)},t.IN=!1,t}(BaseUI);__reflect(RewardHallLoginView.prototype,"RewardHallLoginView");var RewardHallWeeklyCardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RewardHallWeeklyCardItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("104"),e.descLab.text=QycO.OK,e.itemData=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.itemData,e.item.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.itemData.source.splice(0,e.itemData.source.length);for(var t=XCA.DG(72,e.data),n=Nkz.PI(t),i=0;i<n.length;i++)e.itemData.source[i]=n[i];e.itemData.refresh(),e.titleImg.source="rewardhall_json.reward_weekly_"+e.data+"_png";var r=App.CC.isWeeklyCard;if(r){var a=App.CC.weekDay;if(a==e.data){var o=App.CC.receive;o?(e.receiveBtn.visible=!1,e.receiveImg.visible=!0):(e.receiveBtn.visible=!0,e.receiveImg.visible=!1,e.receiveBtn.icon=StaticData.GHj),e.descLab.text=QycO.OK}a>e.data&&(e.receiveBtn.visible=!1,e.receiveImg.visible=!0,e.descLab.text=QycO.OK),a<e.data&&(e.receiveBtn.visible=!1,e.receiveImg.visible=!1,e.descLab.text=fvg.GVf("rewardhal30",Nkz.QT(e.data)))}else 1==e.data?e.descLab.text=fvg.GVf("rewardhal28"):e.descLab.text=fvg.GVf("rewardhal29",Nkz.QT(e.data)),e.receiveBtn.visible=r,e.receiveImg.visible=r}},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.rd,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.ky,e),vkG.$a(UtJ.RA,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.rd,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.ky,e),vkG.$r(UtJ.RA,e.dataChanged,e)},t.prototype.rd=function(e){var t=App.CC.receive,n=App.CC.weekDay;t||n!=this.data||RewardHallMsgProxy.RL()},t.prototype.ky=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.titleImg),t.titleImg=null,GObj.$d(t.receiveImg),t.receiveImg=null,t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RewardHallWeeklyCardItem.prototype,"RewardHallWeeklyCardItem");var RewardHallWeeklyCardView=function(e){function t(){var t=e.call(this,"RewardHallWeeklyCardView")||this;return t.skinName=RRUU.$s("RewardHallWeeklyCardView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.week_packsList.dataProvider=e.datas,e.week_packsList.itemRenderer=RewardHallWeeklyCardItem,e.dataChanged()},t.prototype.initData=function(){for(var e=1;7>=e;e++)this.datas.source.push(e)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.RA,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.RA,e.dataChanged,e)},t.prototype.dataChanged=function(){var e=this,t=App.CC.isWeeklyCard,n=7-App.CC.weekDay;t?e.descLab.textFlow=LgRe.OQ(fvg.GVf("rewardhal19",n)):e.descLab.textFlow=LgRe.OQ(fvg.GVf("rewardhal20",28))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descLab),t.descLab=null,t.weekly_card_packsScroller&&(t.weekly_card_packsScroller.stopAnimation(),t.weekly_card_packsScroller.viewport=null,GObj.$d(t.weekly_card_packsScroller)),t.weekly_card_packsScroller=null,t.week_packsList&&(t.week_packsList.dataProvider=null,GObj.$d(t.week_packsList),t.week_packsList=null),t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RewardHallWeeklyCardView.prototype,"RewardHallWeeklyCardView");var SvipPacksItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("OnlinePacksItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("onlinepacks001"),e.timeLab.text=fvg.GVf("rewardhall8","00:00:00"),e.dataCollection=GObj.$c(eui.ArrayCollection),e.item.dataProvider=e.dataCollection,e.item.itemRenderer=GoodsItemRenderer,e.vt=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.go=e.data.index+1,e.onlineTxt.text=fvg.GVf("onlinepacks002",e.data.info/60),e.dataCollection.source.length=0;for(var t=XCA.DG(11,e.go),n=Nkz.PI(t),i=0;i<n.length;i++)e.dataCollection.source[i]=n[i];e.dataCollection.refresh(),e.__updateState(),e.gk=!1,vkG.$r(HUtJ.HEARTBEAT,e.sk,e),e.sk()}},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.vz,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.hu,e),vkG.$a(UtJ.KRG,e.__updateState,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.vz,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.hu,e),vkG.$r(UtJ.KRG,e.__updateState,e),vkG.$r(HUtJ.HEARTBEAT,e.sk,e)},t.prototype.hu=function(e){this.dispose()},t.prototype.vz=function(e){var t=this,n=App.CC.onlinetime+App.NN.onlineTime;return n<t.data.info?void MessageTipManager.instance.show(fvg.GVf("onlinepacks003")):void App.JA.checkIncome(t.eg,t)},t.prototype.eg=function(){RewardHallMsgProxy.VV(this.go)},t.prototype.__updateState=function(){var e=this,t=App.CC.onlineaward;e.vt=0==(t&1<<e.go-1)&&App.CC.onlinetime+App.NN.onlineTime>=e.data.info,e.vt?e.receiveBtn.icon=StaticData.GHj:e.receiveBtn.icon=null;var n=(t&1<<e.go-1)>0;e.receiveBtn.visible=!n,e.receiveImg.visible=n},t.prototype.sk=function(){var e=this,t=App.CC.onlinetime+App.NN.onlineTime,n=Math.max(0,e.data.info-t),i=kpd.HE(n);e.timeLab.text=fvg.GVf("rewardhall8",i),n>0&&!e.gk?(e.gk=!0,vkG.$a(HUtJ.HEARTBEAT,e.sk,e)):0>=n&&e.gk&&(e.gk=!1,vkG.$r(HUtJ.HEARTBEAT,e.sk,e))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.onlineTxt),t.onlineTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receiveImg),t.receiveImg=null,t.item&&(t.item.dataProvider=null,GObj.$d(t.item)),t.item=null,t.dataCollection=null,GObj.$d(t.timeLab),t.timeLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SvipPacksItem.prototype,"SvipPacksItem");var SvipPacksView=function(e){function t(){var t=e.call(this,"SvipPacksView")||this,n=RRUU.$s("SvipPacksViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=GObj.$c(egret.HtmlTextParser);e.timeLab.textFlow=t.parser(fvg.GVf("rewardhall6")),e.descLab.text=fvg.GVf("public012"),e.descLab_2.textFlow=t.parser(fvg.GVf("rewardhall4"));var n=App.DE.supremeCardVO.isMonth;n?e.activatedLab.text=fvg.GVf("public009"):e.activationBtn.label=fvg.GVf("rewardhall5"),e.activationBtn.visible=!n,e.activatedLab.visible=n,e.datas=GObj.$c(eui.ArrayCollection),e.svip_packsList.dataProvider=e.datas,e.svip_packsList.itemRenderer=SvipPacksItem},t.prototype.initData=function(){this.pm()},t.prototype.pm=function(){var e=this;e.datas.source.length=0;for(var t=XCA.CG(IDU.OI),n=t.split(","),i=0;i<n.length;i++)e.datas.source.push({info:parseInt(n[i]),index:i});e.datas.source.sort(e.yb),e.datas.refresh()},t.prototype.initEvent=function(){var e=this;e.activationBtn.addEventListener(eui.tep,e.dz,e),vkG.$a(UtJ.DL,e.pm,e)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.dz,e),vkG.$r(UtJ.DL,e.pm,e)},t.prototype.yb=function(e,t){var n=App.CC.onlineaward,i=XCA.CG(IDU.OI).split(QycO.XP),r=i.indexOf(""+e.info)+1,a=i.indexOf(""+t.info)+1,o=(n&1<<r-1)>0,s=(n&1<<a-1)>0;return o&&!s?1:o||s?!o&&s?-1:o&&s?e.info>t.info?1:-2:1:e.info>t.info?1:-1},t.prototype.dz=function(e){OnlinePacksView.HR=!0,App.VS.open(10125,{tabType:2})},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.svip_packsScroller&&(t.svip_packsScroller.stopAnimation(),t.svip_packsScroller.viewport=null,GObj.$d(t.svip_packsScroller)),t.svip_packsScroller=null,t.svip_packsList&&(t.svip_packsList.dataProvider=null,GObj.$d(t.svip_packsList)),t.svip_packsList=null,t.datas=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.activatedLab),t.activatedLab=null,e.prototype.dispose.call(this)},t.QI=!1,t}(BaseUI);__reflect(SvipPacksView.prototype,"SvipPacksView");var DevelopEquipAttRandomItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("DevelopEquipAttRandomItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){e.prototype.initData.call(this),this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sg,e)},t.prototype.sg=function(e){this.dispose()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t,n=(XCA.YV(parseInt(e.data[1])),e.ct(parseInt(e.data[1]),!1,!1,parseInt(e.data[0])));parseInt(e.data[2])>0?(t=XCA.EN(parseInt(e.data[2])),e.attrLab.textFlow=LgRe.OQ(fvg.GVf("store060",n))):e.attrLab.textFlow=LgRe.OQ(fvg.GVf("store061",n)),e.iconImg.visible=t&&t.p1>0}},t.prototype.ct=function(e,t,n,i,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0),void 0===r&&(r=1);var a=XCA.YV(e);if(!a)return null;var o=xxf.UK,s="",p=0;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=o[l]+" +0":n?s+=fvg.GVf("skill006"):(p=a[l],isNaN(i)||(p=Math.round(p+p*i)),s+=o[l]+" +"+Math.round(p*r)));o=xxf.IM;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=o[l]+" +0%":n?s+=fvg.GVf("skill006"):(p=a[l],i>0&&(p=Math.round(p*i)),s+=o[l]+" +"+p/10*r+"%"));return s},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.iconImg),t.iconImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(DevelopEquipAttRandomItem.prototype,"DevelopEquipAttRandomItem");var DevelopEquipPreviewPopUi=function(e){function t(t){var n=e.call(this,"DevelopEquipPreviewPopUi")||this;return n._r=2,n.skinName=RRUU.$s(n.id),n.verticalCenter=0,n.horizontalCenter=0,n._r=t,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.basisLab.text=fvg.GVf("role3"),e.intensifyLab.text=fvg.GVf("role4"),e.gemLab.text=fvg.GVf("role5"),e.risingLab.text=fvg.GVf("role6"),e.equipLab.text=fvg.GVf("role18"),e.randomTitleLab.text=fvg.GVf("role26"),e.basis_1Lab.text="",e.basis_2Lab.text="",e.intensify_1Lab.text="",e.equip_1Lab.text="",e.nameLab.text="",e.gradeLab.text="";for(var t=1;5>t;t++){this["gemLab_"+t].text=fvg.GVf("role7"),this["gemLab_"+t].textColor=Color.KA,this["gemImg_"+t].visible=!1;for(var n=1;3>n;n++)this["descLab_"+t+"_"+n].text=""}e.randomAttrGroup.visible=!1,e.mb=[1,2,2,2,1,2,1,1],e.gq=XCA.AQS.UFA(4,1,1),e.zy=GObj.$c(DevelopEquipSuiteView),e.fightView=GObj.$c(FightView),e.fightView.x=85,e.fightView.y=25,e.addChild(e.fightView),e.gradeNumber=GObj.$c(NumberView),e.gradeNumber.horizontalCenter=180,e.gradeNumber.y=12,e.addChild(e.gradeNumber),e.equipItem.showNumTxt=!1},t.prototype.bk=function(){var e=this;if(e.CSo){var t;if(e.vw)t=e.vw;else{var n=GxD.instance.Fkl(e._r,e.ef);t=n.length>0?n[0]:null}if(t){var i=t.TSF;e.equipItem.data=t,e.nameLab.text=i.name,e.nameLab.textColor=aKF.DU(i.qua),e.qualityBg.texture=aKF.QQ(i.qua),e.fightView.fightNum=i.p2;var r=void 0;i.step>0?(e.gradeLab.text=App.JP.getTurnupName(i.step),r=parseInt(App.JP.getTurnupName(i.step)),e.gradeImg.source="game_json.game_zhuan_png"):(e.gradeLab.text=fvg.GVf("public013",i.needgrade),r=i.needgrade,e.gradeImg.source="game_json.game_ji_png"),hFO.instance.getNumberView(bRC.QK,r.toString(),-4,e.gradeNumber),e.randomData=GObj.$c(eui.ArrayCollection),e.randomList.dataProvider=e.randomData,e.randomList.itemRenderer=DevelopEquipAttRandomItem,e.getEquipAttr(e.basis_1Lab,e.basis_2Lab,i),e.rm(),e.bh(),e.jc(),e.bwe(t),i.suiteid&&(e.zy.currGoods=t,e.itemGroup.addChild(e.zy))}}},t.prototype.bwe=function(e){var t=this;if(e&&e.p6&&!(e.p6.length<=0)){var n=Nkz.EW(toChars(e.p6));n.sort(LRJ.DV),n&&0!=n.length?(t.randomAttrGroup.visible=!0,t.randomData.replaceAll(n),t.randomList.height=26*n.length,t.randomAttrGroup.height=t.randomList.y+t.randomList.height):(t.randomAttrGroup.visible=!1,t.randomAttrGroup.height=0)}},t.prototype.initEvent=function(){},t.prototype.initData=function(){this.bk()},t.prototype.removeEvent=function(){},t.prototype.lj=function(e){this.dispose()},t.prototype.show=function(e,t){var n=this;n.ef=e,n.vw=t,n.bk(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.getEquipAttr=function(e,t,n){if(n&&n.p1){var i=XCA.YV(n.p1);if(i){e.text="",t.text="";var r=[],a=xxf.UK;for(var o in a)if(i[o]){var s="";r.length>0&&(s+="\n"),s+=a[o]+"  +"+i[o],r.push(s)}a=xxf.IM;for(var o in a)if(i[o]){var s="";r.length>0&&(s+="\n"),s+=a[o]+"  +"+i[o]/10+"%",r.push(s)}for(var p=0;p<r.length&&r[p];p++)3>p?e.text+=r[p]:t.text+=r[p]
}}},t.prototype.rm=function(){var e=this,t=e.ef%1e3-1;e.fh=App.HG.intensifyInfo[e.ef]||0;var n=e.gq.attrid+1e6*e.mb[t];e.intensify_1Lab.text="";var i=XCA.YV(n);if(i){var r=1==e.mb[t]?"atk":"hp";e.intensify_1Lab.text=xxf.UK[r],e.fh>0?e.intensify_1Lab.text+="  +"+App.JP.getIntensifyAttr(i[r],e.fh):e.intensify_1Lab.text+="  +0"}},t.prototype.bh=function(){var e=this;if(e.CSo)for(var t,n=int(e.ef%1e3),i=App.FK.LHp(5),r=0;r<i.length;r++)t=i[r],t.p1>0&&int(t.p1/10)==n&&e.dp(t)},t.prototype.dp=function(e){var t=this;if(e&&t.CSo){var n=e.p1%10;e&&(this["gemLab_"+n].text=e.TSF.name,this["gemLab_"+n].textColor=aKF.DU(e.quality),this["gemImg_"+n].visible=!0,this["gemImg_"+n].icon=kLM.RF(n,e.goodsGrade));var i,r=XCA.YV(e.TSF.p1),a=1;if(r){for(i in xxf.UK)r[i]&&this["descLab_"+n+"_"+a]&&(this["descLab_"+n+"_"+a].text=xxf.UK[i]+"  +"+r[i],a++);for(i in xxf.IM)r[i]&&this["descLab_"+n+"_"+a]&&(this["descLab_"+n+"_"+a].text=xxf.IM[i]+"  +"+(r[i]/10).toFixed(1)+"%",a++)}}},t.prototype.jc=function(){var e=this;switch(e.equipLab.text=fvg.GVf("public030"),e.equipItem.data.subType){case 1:var t,n,i="",r=App.FX.awakenInfo[99]||0,a=XCA.AQS.UFA(81,99,r);if(a&&(n=XCA.YV(a.attrid+r)))for(t in xxf.IM)n[t]&&"equip1imprate"==t&&(i=(n[t]/10).toFixed(0));var o=XCA.AQS.oVs(82);for(var s in App.FX.fateInfo)if(!isNaN(parseInt(s))&&(a=o[s][1],a&&!a.p2&&(n=XCA.YV(a.attrid))))for(t in xxf.IM)n[t]&&"equip1imprate"==t&&(i+=(n[t]/10).toFixed(0));e.equipLab.text=fvg.GVf("public092",i?i:0);break;case 7:var p=App.XB.info.fgrade,l=XCA.AQS.oVs(21);if(!l)return;var c=l[1][p];if(!c)return void(e.equipLab.text=fvg.GVf("public090",0));var u=XCA.YV(c.attrid);u?e.equipLab.text=fvg.GVf("public090",u.equip7imprate/10):e.equipLab.text=fvg.GVf("public090",0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.equipItem),t.equipItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.basisLab),t.basisLab=null,GObj.$d(t.basis_1Lab),t.basis_1Lab=null,GObj.$d(t.basis_2Lab),t.basis_2Lab=null,GObj.$d(t.intensifyLab),t.intensifyLab=null,GObj.$d(t.intensify_1Lab),t.intensify_1Lab=null,GObj.$d(t.gemLab),t.gemLab=null,GObj.$d(t.gemLab_1),t.gemLab_1=null,GObj.$d(t.gemLab_2),t.gemLab_2=null,GObj.$d(t.gemLab_3),t.gemLab_3=null,GObj.$d(t.gemLab_4),t.gemLab_4=null,GObj.$d(t.descLab_1_1),t.descLab_1_1=null,GObj.$d(t.descLab_2_1),t.descLab_2_1=null,GObj.$d(t.descLab_3_1),t.descLab_3_1=null,GObj.$d(t.descLab_4_1),t.descLab_4_1=null,GObj.$d(t.descLab_1_2),t.descLab_1_2=null,GObj.$d(t.descLab_2_2),t.descLab_2_2=null,GObj.$d(t.descLab_3_2),t.descLab_3_2=null,GObj.$d(t.descLab_4_2),t.descLab_4_2=null,GObj.$d(t.gemImg_1),t.gemImg_1=null,GObj.$d(t.gemImg_2),t.gemImg_2=null,GObj.$d(t.gemImg_3),t.gemImg_3=null,GObj.$d(t.gemImg_4),t.gemImg_4=null,GObj.$d(t.risingLab),t.risingLab=null,GObj.$d(t.equipLab),t.equipLab=null,GObj.$d(t.equip_1Lab),t.equip_1Lab=null,GObj.$d(t.zy),t.zy=null,GObj.$d(t.randomTitleLab),t.randomTitleLab=null,GObj.$d(t.randomData),t.randomData=null,GObj.$d(t.gradeImg),t.gradeImg=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.removeChildren(),GObj.$d(t.itemGroup)),t.itemGroup=null,t.randomList&&(t.randomList.dataProvider=null,GObj.$d(t.randomList),t.randomList=null),t.vw=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(DevelopEquipPreviewPopUi.prototype,"DevelopEquipPreviewPopUi");var DevelopEquipSuiteView=function(e){function t(){var t=e.call(this,"DevelopEquipSuiteView")||this,n=RRUU.$s("DevelopEquipSuiteViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.titleTxt.text=fvg.GVf("store029")},t.prototype.initData=function(){this.im()},Object.defineProperty(t.prototype,"currGoods",{get:function(){return this.ah},set:function(e){var t=this;t.ah=e,t.im()},enumerable:!0,configurable:!0}),t.prototype.im=function(){var e=this;if(e.CSo&&e.ah){e.he=e.ah.TSF.suiteid,e["if"]();var t=XCA.QT(e.he);if(t){for(var n=void 0,i=1;8>=i;i++)n=XCA.FR(t["item"+i]),n&&(this["itemTxt_"+i].text=n.name,this["itemTxt_"+i].textColor=e.on.indexOf(n.tid)>=0?Color.TX:Color.XB);var r=e.fb[e.he]||0;e.updateSuiteTxt(2,r,t.p2,e.attrTxt_1,"store030"),e.updateSuiteTxt(5,r,t.p5,e.attrTxt_2,"store031")}}},t.prototype["if"]=function(){var e=this;e.fb={},e.on=[];for(var t,n=App.FK.LHp(2),i=0;i<n.length;i++)t=n[i].TSF.suiteid,e.on.push(n[i].tid),t&&(!(e.fb[t]>=0)&&(e.fb[t]=0),e.fb[t]++)},t.prototype.updateSuiteTxt=function(e,t,n,i,r){var a=XCA.YV(n);if(a){var o=void 0,s=void 0,p="";for(o in xxf.UK)s=a[o]||0,s>0&&(p+=fvg.GVf("skill004",xxf.UK[o],s)+"		");for(o in xxf.IM)s=a[o]||0,s&&(p+=fvg.GVf("skill004",xxf.IM[o],(s/10).toFixed(1)+"%")+"		");i.text=fvg.GVf(r,p),i.textColor=t>=e?Color.TX:Color.XB}},t.prototype.dispose=function(){var t=this;GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.itemTxt_1),t.itemTxt_1=null,GObj.$d(t.itemTxt_2),t.itemTxt_2=null,GObj.$d(t.itemTxt_3),t.itemTxt_3=null,GObj.$d(t.itemTxt_4),t.itemTxt_4=null,GObj.$d(t.itemTxt_5),t.itemTxt_5=null,GObj.$d(t.itemTxt_6),t.itemTxt_6=null,GObj.$d(t.itemTxt_7),t.itemTxt_7=null,GObj.$d(t.itemTxt_8),t.itemTxt_8=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,t.on=null,t.ah=null,t.fb=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(DevelopEquipSuiteView.prototype,"DevelopEquipSuiteView");var EightDoorsItem=function(e){function t(){var t=e.call(this,"EightDoorsItem")||this;t.jp=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,2],[0,-1],[0,3]],t.yu=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,2],[1,1],[0,3]];var n=RRUU.$s("EightDoorsItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.selectedBack.visible=!1,e.isgrade=!0},t.prototype.wx=function(){var e=this;e.gradeLab.visible=e.isgrade;e.ds>0?(e.doorImg.visible=!1,e.gradeLab.visible=e.isgrade,e.xd&&e.xd.parent?(e.removeChild(e.xd),e.ua()):e.ua(),e.xd.play(),e.addChildAt(e.xd,2)):(e.doorImg.visible=!0,e.gradeLab.visible=!1,e.doorImg.source="eightdoors_json.eight_doors_img_"+e.cj+"_png",e.doorImg.touchEnabled=!0,e.xd&&e.xd.parent&&e.removeChild(e.xd)),e.gradeLab.text=fvg.GVf("426",e.ds)},t.prototype.ua=function(){var e=this,t=0,n=-50;e.xd=App.KB.getUIEffect(gYq["EIGHT_DOORS_IMG_"+e.cj]),e.jp[e.cj]&&(t=e.jp[e.cj][0],n=e.jp[e.cj][1]),e.xd.x=(e.width>>1)+t,e.xd.y=(e.height-11>>1)+n,e.xd.addEventListener(egret.Event.COMPLETE,e.cz,e),e.xd.verticalAlign=egret.VerticalAlign.MIDDLE,e.xd.horizontalAlign=egret.HorizontalAlign.CENTER,e.xd.touchEnabled=!0},t.prototype.cz=function(e){var t=this;t.xd&&t.xd.parent&&t.removeChild(t.xd)},Object.defineProperty(t.prototype,"selected",{get:function(){return this.xu},set:function(e){var t=this;t.xu=e,t.selectedBack.visible=t.xu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eightDoorsType",{get:function(){return this.cj},set:function(e){this.cj=e},enumerable:!0,configurable:!0}),t.prototype.setEightDoorsTypeAndGrade=function(e,t){var n=this;n.cj=e,n.ds=t,n.wx()},Object.defineProperty(t.prototype,"setName",{set:function(e){var t=this;t.nameLbl.text=e,""==e?t.textBgImg.visible=!1:t.textBgImg.visible=!0},enumerable:!0,configurable:!0}),t.prototype.checkNeedCount=function(e,t){var n=App.JP.getEightDoorsNeedCount(e);this.redPointImg.visible=t>=n&&e<MaxLevel.EIGHT_DOORS_MAX_LEVEL},t.prototype.dispose=function(){var t=this;t.xd&&(t.xd.removeEventListener(egret.Event.COMPLETE,t.cz,t),t.xd.stop(),GObj.$d(t.xd),t.xd=null),GObj.$d(t.selectedBack),t.selectedBack=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(EightDoorsItem.prototype,"EightDoorsItem",["ISelectedButton","egret.IEventDispatcher"]);var EightDoorsPopUi=function(e){function t(){var t=e.call(this,"EightDoorsPopUi")||this;return t.wnu=0,t.up=0,t.gx=0,t.skinName=RRUU.$s("EightDoorsPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("role19"),e.bv=XCA.AQS.UFA(9,0,1),e.es=parseInt(e.bv.cost),e.doTitleLbl.text=fvg.GVf("spirit9"),e.upgradeBtn.label=fvg.GVf("422"),e.qh={},e.fp=GObj.$c(kQr);for(var t,n=Iwrv.YJ,i=0;i<n.length;i++)t=GObj.$c(EightDoorsItem),e.qh[n[i]%1e3]=t,e.fp.cwA(t),e.itemGroup.addChild(t);e.fightView=GObj.$c(FightView),e.fightView.x=117,e.fightView.y=46,e.addChild(e.fightView),e.xo=GObj.$c(EightDoorsItem),e.xo.horizontalCenter=2,e.xo.y=200,e.addChild(e.xo),e.xo.isgrade=!1,e.smaicon.goodsTid=StaticData.TID_GOODS_5},t.prototype.initData=function(){var e,t=this,n=0;for(var i in t.qh)e=t.qh[i],e.setEightDoorsTypeAndGrade(parseInt(i),App.BG.eightDoorsInfo[i]||0),e.setName=fvg.GVf("role1"+n),n++;t.fp.selectedIndex=0,fNs.instance.execute(hXS.VF,hXS.RZ,t.upgradeBtn)},t.prototype.initEvent=function(){var e=this;e.fp.addEventListener(egret.Event.CHANGE,e.ph,e),e.upgradeBtn.addEventListener(eui.tep,e.zj,e),vkG.$a(UtJ.RV,e.vu,e),vkG.$a(UtJ.DV,e.dd,e)},t.prototype.removeEvent=function(){var e=this;e.fp.removeEventListener(egret.Event.CHANGE,e.ph,e),e.upgradeBtn.removeEventListener(eui.tep,e.zj,e),vkG.$r(UtJ.RV,e.vu,e),vkG.$r(UtJ.DV,e.dd,e)},t.prototype.ph=function(e){var t=this,n=t.fp.LuO;n&&(t.ie=n.eightDoorsType,t.ge())},t.prototype.ge=function(){var e=this;e.wnu=App.BG.eightDoorsInfo[e.ie]||0,e.ie==e.gx&&e.wnu!=e.up&&(App.KB.showEffect(gYq.UQ),e.updateAdvanced()),e.gx=e.ie,e.up=e.wnu,e.xo.setEightDoorsTypeAndGrade(e.ie,e.wnu),e.wnu>=MaxLevel.EIGHT_DOORS_MAX_LEVEL?(e.currStageTxt.text=fvg.GVf("specia002",Nkz.QT(e.wnu)),e.nextStageTxt.text=fvg.GVf("specia002",fvg.GVf("public081")),e.currNameTxt.text=fvg.GVf("role1"+(e.ie-1)),e.nextNameTxt.text=fvg.GVf("role1"+(e.ie-1))):(0==e.wnu?(e.currStageTxt.text=fvg.GVf("public010"),e.upgradeBtn.label=fvg.GVf("public012")):(e.currStageTxt.text=fvg.GVf("specia002",Nkz.QT(e.wnu)),e.upgradeBtn.label=fvg.GVf("422")),e.nextStageTxt.text=fvg.GVf("specia002",Nkz.QT(e.wnu+1)),e.currNameTxt.text=fvg.GVf("role1"+(e.ie-1)),e.nextNameTxt.text=fvg.GVf("role1"+(e.ie-1))),e.ov(),e.gv(),e.lp(),e.fightView.fightNum=App.BG.eightDoorsCap},t.prototype.ov=function(){var e,t=this,n=t.bv.attrid+1e6*t.ie,i=XCA.YV(n),r=1;if(i){for(e in xxf.UK)i[e]&&this["currAttrTxt_"+r]&&(this["currAttrTxt_"+r].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[e],0==t.wnu?0:App.JP.getEightDoorsAttr(i[e],t.wnu))),r++);for(e in xxf.IM)i[e]&&this["currAttrTxt_"+r]&&(this["currAttrTxt_"+r].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[e],0==t.wnu?"0%":(App.JP.getEightDoorsAttr(i[e],t.wnu)/10).toFixed(1)+"%")),r++)}},t.prototype.gv=function(){var e=this;if(e.wnu>=MaxLevel.EIGHT_DOORS_MAX_LEVEL)return e.nextAttrTxt_1.text="",e.nextAttrTxt_2.text=fvg.GVf("public080"),void(e.nextAttrTxt_3.text="");var t,n=e.bv.attrid+1e6*e.ie,i=XCA.YV(n),r=1;if(i){for(t in xxf.UK)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text="+"+App.JP.getEightDoorsAttr(i[t],e.wnu+1),r++);for(t in xxf.IM)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text="+"+(App.JP.getEightDoorsAttr(i[t],e.wnu+1)/10).toFixed(1)+"%",r++)}},t.prototype.lp=function(){var e=this;e.vk=App.JP.getEightDoorsNeedCount(e.wnu);var t=App.FK.hsx(e.es);e.needTxt.text=t+"/"+e.vk,e.needTxt.textColor=t>=e.vk?Color.TX:Color.KA,e.upgradeBtn.icon=t>=e.vk&&e.wnu<MaxLevel.EIGHT_DOORS_MAX_LEVEL?StaticData.GHj:null;var n;for(var i in e.qh)n=e.qh[i],n.checkNeedCount(App.BG.eightDoorsInfo[i]||0,t)},t.prototype.zj=function(e){var t=this;if(fNs.instance.execute(hXS.VF,hXS.YL),t.wnu>=MaxLevel.EIGHT_DOORS_MAX_LEVEL)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var n=App.FK.hsx(t.es);return n<t.vk?void _JDW.TR(t.es,t.vk-n):void NXr.SI(t.ie)},t.prototype.vu=function(e){var t=this;if(e){for(var n,i=0;i<e.length;i++)n=t.qh[e[i]],n.setEightDoorsTypeAndGrade(e[i],App.BG.eightDoorsInfo[e[i]]||0);t.ge()}},t.prototype.dd=function(e){this.lp()},t.prototype.updateAdvanced=function(){var e=this;e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.nu,e)),e.ie>=0&&e.ie<=4?(e.weS.x=10,e.weS.y=65+115*(e.ie-1)-2*(e.ie-2)):(e.weS.x=350,e.weS.y=65+115*(e.ie-5)-5*(e.ie-7)),e.weS.play(1),e.addChild(e.weS)},t.prototype.nu=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.currNameTxt),t.currNameTxt=null,GObj.$d(t.nextNameTxt),t.nextNameTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.linkBtn),t.linkBtn=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.currAttrTxt_3),t.currAttrTxt_3=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,GObj.$d(t.nextAttrTxt_2),t.nextAttrTxt_2=null,GObj.$d(t.nextAttrTxt_3),t.nextAttrTxt_3=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.xo),t.xo=null,GObj.$d(t.fp),t.fp=null,GObj.$d(t.smaicon),t.smaicon=null;for(var n=0;8>n;n++)GObj.$d(this["doorLab_"+(n+1)]),this["doorLab_"+(n+1)]=null;if(t.qh)for(var i in t.qh)GObj.$d(t.qh[i]),delete t.qh[i];t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.nu,t),GObj.$d(t.weS),t.weS=null),t.qh=null,t.bv=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(EightDoorsPopUi.prototype,"EightDoorsPopUi",["eui.UIComponent","egret.DisplayObject"]);var FourPopUi=function(e){function t(){var t=e.call(this,"FourPopUi")||this;return t.skinName=RRUU.$s("FourPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("recharge15"),e.consumpTxt.text=fvg.GVf("country_34"),e.gw=[];var t;e.ef=GObj.$c(kQr);for(var n=0;4>n;n++)t=GObj.$c(SpecialEquipItem,n+1),e.gw.push(t),e.ef.cwA(t),e.equipGroup.addChild(t);e.zm=GObj.$c(SpecialEquipItem,1),e.zm.x=205,e.zm.y=200,e.ef.selectedIndex=0,e.upgradeBtn.label=fvg.GVf("specia001"),e.addChild(e.zm),e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=45,e.addChild(e.fightView)},t.prototype.initEvent=function(){var e=this;e.ef.addEventListener(egret.Event.CHANGE,e.xt,e),e.upgradeBtn.addEventListener(eui.tep,e.bz,e),vkG.$a(UtJ.NM,e.dg,e),vkG.$a(UtJ.DV,e.zi,e)},t.prototype.removeEvent=function(){var e=this;e.ef.removeEventListener(egret.Event.CHANGE,e.xt,e),e.upgradeBtn.removeEventListener(eui.tep,e.bz,e),vkG.$r(UtJ.NM,e.dg,e),vkG.$r(UtJ.DV,e.zi,e)},t.prototype.bz=function(e){var t=this;if(t.fe>=MaxLevel.SPECIAL_EQUIP_MAX_LEVEL)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var n=App.FK.hsx(t.ge);return n<t.sx?void _JDW.TR(t.ge,t.sx-n):(NXr._K(t.ab),void t.updateAdvanced())},t.prototype.updateAdvanced=function(){var e=this;e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.si,e),e.weS.x=180,e.weS.y=165),e.weS.play(1),App.KB.showEffect(gYq.UQ),e.addChild(e.weS)},t.prototype.si=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.initData=function(){var e=this;e.ab=1,e.ut()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.ut=function(){var e=this;if(e.CSo&&void 0!=e.ab){e.zm.specialEquipType=e.ab,e.gv=XCA.AQS.UFA(8,e.ab,1),e.fe=App.BG.speciaEquipInfo[e.ab]||0,e.currLv.textColor=Color.SE,e.currLv.textFlow=LgRe.OQ(fvg.GVf("fixsoul16",e.gv.name,e.fe)),e.upgradeBtn.label=fvg.GVf("specia001"),0==e.fe&&(e.currLv.text=fvg.GVf("public010"),e.currLv.textColor=Color.KA,e.upgradeBtn.label=fvg.GVf("public012")),e.hf(),e.sf(),e.oz(),e.updateFightView();for(var t=0;t<e.gw.length;t++)e.gw[t].updateNeedCount()}},t.prototype.hf=function(){var e,t=this,n=XCA.YV(t.gv.attrid),i="";if(n){for(e in xxf.UK)n[e]&&(i+=fvg.GVf("skill004",xxf.UK[e],0==t.fe?0:App.JP.getSpecialEquipAttr(n[e],t.fe)),i+="\n");for(e in xxf.IM)n[e]&&(i+=fvg.GVf("skill004",xxf.IM[e],0==t.fe?0:(App.JP.getSpecialEquipAttr(n[e],t.fe)/10).toFixed(1)+"%"),i+="\n");n=XCA.YV(t.gv.p2);for(e in xxf.IM)n[e]&&(i+=fvg.GVf("skill004",xxf.IM[e],0==t.fe?0:(App.JP.getSpecialAttr(n[e],t.fe)/10).toFixed(1)+"%"),i+="\n")}t.currAttr.textFlow=LgRe.OQ(i)},t.prototype.dg=function(e){var t=this;t.ut(),t.zi(null)},t.prototype.zi=function(e){var t=this;t.oz();for(var n=0;n<t.gw.length;n++)t.gw[n].updateNeedCount()},t.prototype.sf=function(){var e=this;if(e.fe>=MaxLevel.SPECIAL_EQUIP_MAX_LEVEL)return void(e.nextAttr.text=fvg.GVf("fixsoul17"));var t,n=e.fe+1,i=XCA.YV(e.gv.attrid),r="";if(i){for(t in xxf.UK)i[t]&&(r+=fvg.GVf("skill004",xxf.UK[t],App.JP.getSpecialEquipAttr(i[t],n)),r+="\n");for(t in xxf.IM)i[t]&&(r+=fvg.GVf("skill004",xxf.IM[t],(App.JP.getSpecialEquipAttr(i[t],n)/10).toFixed(1)+"%"),r+="\n");i=XCA.YV(e.gv.p2);for(t in xxf.IM)i[t]&&(r+=fvg.GVf("skill004",xxf.IM[t],(App.JP.getSpecialAttr(i[t],n)/10).toFixed(1)+"%"),r+="\n")}e.nextAttr.textFlow=LgRe.OQ(r)},t.prototype.oz=function(){var e=this;if(e.CSo&&e.gv){e.ge=parseInt(e.gv.cost),e.sx=App.JP.getSpecialEquipNeedCount(e.fe);var t=App.FK.hsx(e.ge);e.needTxt.text=t+"/"+e.sx,e.needTxt.textColor=t>=e.sx?Color.TX:Color.KA,e.smaicon1.goodsTid=kLM.Z_C(e.ab),e.upgradeBtn.icon=t>=e.sx&&e.fe<MaxLevel.SPECIAL_EQUIP_MAX_LEVEL?StaticData.GHj:null}},t.prototype.xt=function(e){var t=this,n=t.ef.LuO;n&&(t.ab=n.specialEquipType,t.ut())},t.prototype.updateFightView=function(){for(var e=this,t=0,n=null,i=1;4>=i;i++){n=XCA.AQS.UFA(8,i,1),this["nameText"+(i-1)].text=n.name;var r=App.BG.speciaEquipInfo[i]||0,a=XCA.YV(n.attrid);t+=App.JP.getSpecialEquipAttr(a.p1,r)}e.fightView.fightNum=t},t.prototype.zd=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.ef),t.ef=null,GObj.$d(t.zm),t.zm=null,GObj.$d(t.currAttr),t.currAttr=null,GObj.$d(t.nextAttr),t.nextAttr=null,GObj.$d(t.currLv),t.currLv=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.nameText0),t.nameText0=null,GObj.$d(t.nameText1),t.nameText1=null,GObj.$d(t.nameText2),t.nameText2=null,GObj.$d(t.nameText3),t.nameText3=null,GObj.$d(t.smaicon1),t.smaicon1=null,t.gv=null,t.gw)for(var n=0;n<t.gw.length;n++)GObj.$d(t.gw[n]),t.gw[n]=null;t.gw=null,t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.si,t)),GObj.$d(t.weS),t.weS=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(FourPopUi.prototype,"FourPopUi");var PlayerAttributItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("PlayerAttributItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.un,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.un,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.nameTxt.text=e.data.attrName,e.valueTxt.x=e.nameTxt.x+e.nameTxt.width,e.valueTxt.text=e.data.attrValue,e.valueTxt.textColor=e.data.textColor)},t.prototype.un=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.valueTxt),t.valueTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PlayerAttributItem.prototype,"PlayerAttributItem");var PlayerAttributPopUi=function(e){function t(){var t=e.call(this,"PlayerAttributPopUi")||this;return t.skinName=RRUU.$s("PlayerAttributPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.attrDatas=GObj.$c(eui.ArrayCollection),e.title=fvg.GVf("role25"),e.attrDataGroup.dataProvider=e.attrDatas,e.attrDataGroup.itemRenderer=PlayerAttributItem},t.prototype.initData=function(){var e,t,n=this,i=["hprev","redef","interval","lfh","feretime","it"],r=App.BG.playerAttrsInfo,a=["atk","def","hp","crdamrate","recr","dodge","lefh","ratk","inres","hit","redef"],o=xxf.UK;for(e in o)-1!==a.indexOf(e)&&(t=GObj.$c(Object),t.attrName=o[e]+":",e==toChars("feretime")?t.attrValue=(r[e]/1e3).toString():t.attrValue=r[e].toString(),t.textColor=i.indexOf(e)>=0?3855103:Color.TX,n.attrDatas.source.push(t));o=xxf.IM;for(e in o)-1!==a.indexOf(e)&&(t=GObj.$c(Object),t.attrName=o[e]+":",t.attrValue=GMath.toFixed(.1*r[e],1)+"%",t.textColor=3855103,n.attrDatas.source.push(t));n.attrDatas.refresh()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.bq=function(e){this.dispose()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.attrScroller&&(t.attrScroller.stopAnimation(),t.attrScroller.viewport=null,GObj.$d(t.attrScroller)),t.attrScroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,t.attrDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(PlayerAttributPopUi.prototype,"PlayerAttributPopUi");var RoleBtnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RoleBtnItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.itemBtn.addEventListener(eui.tep,e.ln,e),e.addEventListener(eui.RFS,e.qu,e),vkG.$a(UtJ.DV,e.ti,e),vkG.$a(UtJ.IN,e.fs,e),vkG.$a(UtJ.NM,e.ty,e),vkG.$a(UtJ.RV,e.lk,e),vkG.$a(UtJ.IZC,e.rx,e)},t.prototype.removeEvent=function(){var e=this;e.itemBtn.removeEventListener(eui.tep,e.ln,e),e.removeEventListener(eui.RFS,e.qu,e),vkG.$r(UtJ.DV,e.ti,e),vkG.$r(UtJ.IN,e.fs,e),vkG.$r(UtJ.NM,e.ty,e),vkG.$r(UtJ.RV,e.lk,e),vkG.$r(UtJ.IZC,e.rx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.itemBtn.baseImg.source="role_json."+e.data+"_btn_png",e.ti(),e.data==RoleBtnType.OP?fNs.instance.execute(hXS.GE,hXS.FW,e.itemBtn):e.data==RoleBtnType.LS&&fNs.instance.execute(hXS.GE,hXS.IL,e.itemBtn))},t.prototype.ti=function(){var e=this;switch(e.data){case RoleBtnType.QJ:e.itemBtn.icon=UsU.PZ()||UsU.QE()?StaticData.GHj:null;break;case RoleBtnType.LS:e.itemBtn.icon=UsU.GN()?StaticData.GHj:null;break;case RoleBtnType.OP:e.itemBtn.icon=UsU.VU()?StaticData.GHj:null;break;case RoleBtnType.IL:e.itemBtn.icon=UsU.WF()?StaticData.GHj:null;break;case RoleBtnType.XB:e.itemBtn.icon=UsU.CX()?StaticData.GHj:null;break;case RoleBtnType.LU:e.itemBtn.icon=UsU.UXR()?StaticData.GHj:null;break;case RoleBtnType.XV:e.itemBtn.icon=UsU.ZT()?StaticData.GHj:null;break;case RoleBtnType.ZX:e.itemBtn.icon=UsU.DH()?StaticData.GHj:null;break;case RoleBtnType.TV:e.itemBtn.icon=UsU.BL(aKF.MM)||UsU.JK()||UsU.CNM()?StaticData.GHj:null;break;case RoleBtnType.VH:e.itemBtn.icon=UsU.HN()?StaticData.GHj:null;break;case RoleBtnType.LT:e.itemBtn.icon=UsU.GC()?StaticData.GHj:null;break;case RoleBtnType.PM:e.itemBtn.icon=UsU.SY()?StaticData.GHj:null;break;case RoleBtnType.OB:e.itemBtn.icon=UsU.XLO()?StaticData.GHj:null}},t.prototype.fs=function(){var e=this;e.data==RoleBtnType.OP&&(e.itemBtn.icon=UsU.VU()?StaticData.GHj:null)},t.prototype.ty=function(e){var t=this;t.data==RoleBtnType.ZX&&t.ti()},t.prototype.lk=function(e){var t=this;t.data==RoleBtnType.LS&&t.ti()},t.prototype.rx=function(e){var t=this;t.data==RoleBtnType.OP&&t.ti()},t.prototype.ln=function(e){var t=this;switch(t.data){case RoleBtnType.QJ:App.VS.open(10122);break;case RoleBtnType.LS:rRcz.IV();break;case RoleBtnType.OP:rRcz.XG();break;case RoleBtnType.IL:rRcz.LR();break;case RoleBtnType.XV:rRcz.FC();break;case RoleBtnType.XB:rRcz.openKnight();break;case RoleBtnType.LU:App.VS.open(KqZ._A);break;case RoleBtnType.ZX:rRcz.BG();break;case RoleBtnType.TV:rRcz.BV();break;case RoleBtnType.VH:rRcz.UG();break;case RoleBtnType.LT:rRcz.GM();break;case RoleBtnType.PM:rRcz.SI();break;case RoleBtnType.OB:rRcz.VJ();break;case RoleBtnType.OE:t.itemBtn.icon=UsU.EN()?StaticData.GHj:null}},t.prototype.qu=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemBtn),t.itemBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RoleBtnItem.prototype,"RoleBtnItem");var RoleEquipItem=function(e){function t(t){var n=e.call(this,"RoleEquipItem")||this,i=RRUU.$s("RoleEquipItemSkin");return n.skinName=i,n.xx=t,n}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.cz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.cz,e)},t.prototype.xh=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.cz=function(e){var t=this;if(!t.vj)return void MessageTipManager.instance.show(fvg.GVf("role24"));var n=GObj.$c(DevelopEquipPreviewPopUi,2);n.show(t.xx)},Object.defineProperty(t.prototype,"data",{get:function(){return this.vj},set:function(e){var t=this;t.vj=e,t.vj?(t.equipItem.data=t.vj,t.equipItem.showNumTxt=!1,t.hp()):(t.equipItem.data=null,t.xi());var n=App.FK.searchMoreEquip(t.xx);t.redPointImg.source=n?StaticData.GHj:"",n&&(t.currtid=n.tid),t._isShowUpgradeEff=n?!0:!1},enumerable:!0,configurable:!0}),t.prototype.hp=function(){var e=this;if(e.imageIcon.visible=!1,Iwrv.YJ.indexOf(e.xx)>=0){var t=e.vj.TSF;t.step>0,e.pretid=e.vj.tid,e.currtid&&e.pretid==e.currtid&&e.updateEquip()}},t.prototype.xi=function(){var e=this;e.levelTxt.text="",e.imageIcon.visible=!0,Iwrv.YJ.indexOf(e.xx)>=0&&(e.imageIcon.source="frame_json.equip_"+e.xx+"_png")},Object.defineProperty(t.prototype,"gNlK",{set:function(e){var t=this;t.equipItem&&(t.equipItem.gNlK=e)},enumerable:!0,configurable:!0}),t.prototype.updateEquip=function(){var e=this;e._isShowUpgradeEff&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.xh,e),e.weS.x=-36,e.weS.y=-40),e.weS.play(1),e.addChild(e.weS))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.imageIcon),t.imageIcon=null,GObj.$d(t.levelTxt),t.levelTxt=null,GObj.$d(t.equipItem),t.equipItem=null,t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.xh,t)),GObj.$d(t.weS),t.weS=null,t.vj=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RoleEquipItem.prototype,"RoleEquipItem");var RoleEquipmentView=function(e){function t(){var t=e.call(this,"RoleEquipmentView")||this;return t.jq=[RoleBtnType.PM,RoleBtnType.ZX,RoleBtnType.LS,RoleBtnType.OP],t.skinName=RRUU.$s("RoleEquipmentView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneKeyIntensifyBtn.label=fvg.GVf("role1"),e.op=0,e.fightView=GObj.$c(FightView),e.fightView.x=98,e.fightView.y=-1,e.addChildAt(e.fightView,2),e.yk={};for(var t,n=Iwrv.YJ,i=0;i<n.length;i++)t=GObj.$c(RoleEquipItem,n[i]),t.data=null,e.yk[n[i]]=t,e.equipGroup.addChild(t);e.rr||(e.rr=GObj.$c(FigureView)),rRcz.SS(82,!1)&&(e.addChild(e.saintSuitBtn),e.saintSuitBtn.visible=!0),e.rr.x=260,e.rr.y=410,e.addChildAt(e.rr,1),e.mx(),e.btnData=GObj.$c(eui.ArrayCollection),e.topBtnData=GObj.$c(eui.ArrayCollection,e.jq),e.btnGroud.dataProvider=e.btnData,e.btnGroud.itemRenderer=RoleBtnItem;for(var r=e.jq.length,i=0;r>i;i++)e.btnData.source.push(e.jq[i]);e.btnData.refresh(),rRcz.SS(82,!1)&&(e.saintSuitBtn.icon=UsU.ZD()?StaticData.GHj:null)
},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.iq(),t.fw(),t.vo(),t.zs(),t.ud(),fNs.instance.execute(hXS.GE,hXS.RZ,t.oneKeyIntensifyBtn),fNs.instance.execute(hXS.GE,hXS.JCK,t.cloakBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.saintSuitBtn.addEventListener(eui.tep,t.qw,t),t.oneKeyIntensifyBtn.addEventListener(eui.tep,t.ii,t),t.lockAttrBtn.addEventListener(eui.tep,t.fp,t),t.cloakBtn.addEventListener(eui.tep,t.ac,t),t.fashionBtn.addEventListener(eui.tep,t.pt,t),t.treasureBtn.addEventListener(eui.tep,t.mk,t),t.styleBtn.addEventListener(eui.tep,t.hv,t),vkG.$a(UtJ.OK,t.iq,t),vkG.$a(UtJ.FA,t.vo,t),vkG.$a(UtJ.VO,t.qe,t),vkG.$a(UtJ.TS,t.jr,t),vkG.$a(UtJ.DV,t.zs,t),vkG.$a(UtJ._A,t.kb,t),vkG.$a(UtJ.SU,t.kb,t),vkG.$a(UtJ.RF,t.zg,t),vkG.$a(UtJ.ZYV,t.zg,t),vkG.$a(UtJ.ED,t.jx,t),vkG.$a(UtJ.AJ,t.jx,t),vkG.$a(UtJ.AW,t.ud,t),vkG.$a(UtJ.EGW,t.jxq,t),vkG.$a(UtJ.DV,t.jxq,t),vkG.$a(UtJ.OC,t.jxq,t)},t.prototype.removeEvent=function(){var e=this;e.oneKeyIntensifyBtn.removeEventListener(eui.tep,e.ii,e),e.lockAttrBtn.removeEventListener(eui.tep,e.fp,e),e.cloakBtn.removeEventListener(eui.tep,e.ac,e),e.fashionBtn.removeEventListener(eui.tep,e.pt,e),e.treasureBtn.removeEventListener(eui.tep,e.mk,e),e.styleBtn.removeEventListener(eui.tep,e.hv,e),vkG.$r(UtJ.OK,e.iq,e),vkG.$r(UtJ.FA,e.vo,e),vkG.$r(UtJ.VO,e.qe,e),vkG.$r(UtJ.TS,e.jr,e),vkG.$r(UtJ.DV,e.zs,e),vkG.$r(UtJ._A,e.kb,e),vkG.$r(UtJ.SU,e.kb,e),vkG.$r(UtJ.RF,e.zg,e),vkG.$r(UtJ.ZYV,e.zg,e),vkG.$r(UtJ.ED,e.jx,e),vkG.$r(UtJ.AJ,e.jx,e),vkG.$r(UtJ.AW,e.ud,e),vkG.$r(UtJ.EGW,e.jxq,e),vkG.$r(UtJ.DV,e.jxq,e),vkG.$r(UtJ.OC,e.jxq,e)},t.prototype.mx=function(){},t.prototype.ud=function(){},t.prototype.kf=function(){App.VS.open(10149)},t.prototype.qw=function(e){var t=App.BG.turnupInfo.grade;return t<StaticData.SPIRIT_CH?void App.TT.show(fvg.GVf("taiyi13",App.JP.getTurnupGrade(StaticData.SPIRIT_CH))):void vkG.$d(UtJ.NR,1)},t.prototype.zs=function(){var e=this;e.jr(),e.kb(),e.zg(),e.jxq()},t.prototype.vo=function(){var e=this;if(e.rr){var t=App.KF.sex||1;FigureHelps.NW(e.rr,{b:App.KF.b,w:App.KF.w,c:App.KF.c,s:t});var n=App.KF.stg;e.xl&&e.xl.parent&&e.removeChild(e.xl),n>0&&(e.xl&&e.xl.parent?(e.removeChild(e.xl),e.ci()):e.ci(),e.xl.play(),e.addChildAt(e.xl,e.numChildren))}},t.prototype.ci=function(){var e=this,t=App.KF.stg;t>0&&(e.xl=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((t+1)/4))),e.xl.x=85,e.xl.y=100,e.xl.touchEnabled=!1,e.xl.touchChildren=!1,e.xl.addEventListener(egret.Event.COMPLETE,e.sa,e)},t.prototype.sa=function(e){var t=this;t.xl&&t.xl.parent&&t.removeChild(t.xl)},t.prototype.fw=function(){for(var e,t=this,n=Iwrv.YJ,i=0;i<n.length;i++)e=GxD.instance.Fkl(2,n[i]),e.length>0&&(t.yk[n[i]].data=e[0]);t.oneKeyIntensifyBtn.icon=UsU.ZL()?StaticData.GHj:null},t.prototype.iq=function(){var e=App.BG.playerAttrsInfo.cap;this.fightView.fightNum=e},t.prototype.ac=function(){App.VS.open(10007)},t.prototype.pt=function(){App.VS.open(10002)},t.prototype.mk=function(){App.VS.open(10004)},t.prototype.hv=function(){App.VS.open(10010)},t.prototype.kb=function(){this.treasureBtn.icon=UsU.XJ()?StaticData.GHj:""},t.prototype.zg=function(){var e=this;e.cloakBtn.icon=UsU.GC()?StaticData.GHj:"",e.cloakBtn.sprintImg.visible=4==App.AT.currDay},t.prototype.jx=function(){rRcz.SS(82,!1)&&(this.saintSuitBtn.icon=UsU.ZD()?StaticData.GHj:null)},t.prototype.fp=function(e){App.VS.popup(10009,PlayerAttributPopUi)},t.prototype.qe=function(){this.fw()},t.prototype.ii=function(e){var t=this;fNs.instance.execute(hXS.GE,hXS.YL);var n=GApp.timer;if(!(n-t.op<500)){t.op=n;for(var i,r=Iwrv.YJ,a=[],o=0;o<r.length;o++)i=App.FK.searchMoreEquip(r[o]),i&&a.push({fb:i.btype,tb:2,id:i.id});a.length>0?GoodsMsgProxy.TR(a):MessageTipManager.instance.show(fvg.GVf("role9"))}},t.prototype.x_=function(){rRcz.SS(77,!1)&&rRcz.UG()},t.prototype.jr=function(){this.fashionBtn.icon=UsU.WF()?StaticData.GHj:null},t.prototype.nk=function(){App.VS.open(10149)},t.prototype.jxq=function(){this.styleBtn.icon=UsU.QS()||UsU.OT()?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;if(fNs.instance.execute(hXS.GE,hXS.NW),t.removeEvent(),GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.oneKeyIntensifyBtn),t.oneKeyIntensifyBtn=null,GObj.$d(t.rr),t.rr=null,GObj.$d(t.equipGroup),t.equipGroup=null,t.yk)for(var n in t.yk)GObj.$d(t.yk[n]),t.yk[n]=null,delete t.yk[n];GObj.$d(t.xl),t.xl=null,t.topBtnData=null,t.yk=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RoleEquipmentView.prototype,"RoleEquipmentView");var RoleEquipSuitView=function(e){function t(){var t=e.call(this,"RoleEquipSuitView")||this;return t.width=494,t.height=728,t.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){e.prototype.initData.call(this),this.xn(0)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.NR,e.xn,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.NR,e.xn,e)},t.prototype.xn=function(e){void 0===e&&(e=0);var t=this;t.yl&&(t.yl.visible=!1),t.yl=null,0==e?(t.dw||(t.dw=GObj.$c(RoleEquipmentView),t.addChild(t.dw)),t.yl=t.dw):1==e&&(t.ee||(t.ee=GObj.$c(SaintSuitView),t.addChild(t.ee)),t.yl=t.ee),t.yl&&(t.yl.visible=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.dw),t.dw=null,GObj.$d(t.ee),t.ee=null,t.yl=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RoleEquipSuitView.prototype,"RoleEquipSuitView");var SaintSuitView=function(e){function t(){var t=e.call(this,"SaintSuitView")||this;return t.skinName=RRUU.$s("SaintSuitView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.lo=0,e.fightView=GObj.$c(FightView),e.fightView.x=98,e.fightView.y=-1,e.addChild(e.fightView),e.qk={};for(var t,n=Iwrv.QL,i=0;i<n.length;i++)t=GObj.$c(SpiritEquipItem,n[i]),t.data=null,e.qk[n[i]]=t,e.equipGroup.addChild(t);e.a_||(e.a_=GObj.$c(FigureView)),e.a_.x=260,e.a_.y=410,e.addChildAt(e.a_,1),SpiritMsgProxy.BL(),e.composeBtn.icon=UsU.VX()?StaticData.GHj:null},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.mo(),t.tr(),t.lv(),t.yd(),t.nj()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.roleEquipmentBtn.addEventListener(eui.tep,t.uy,t),t.composeBtn.addEventListener(eui.tep,t.kw,t),t.intensifyBtn.addEventListener(eui.tep,t.en,t),vkG.$a(UtJ.FA,t.tr,t),vkG.$a(UtJ.XH,t.lv,t),vkG.$a(UtJ.ED,t.nj,t),vkG.$a(UtJ.AJ,t.w_,t),vkG.$a(UtJ.FP,t.yd,t)},t.prototype.removeEvent=function(){var e=this;e.roleEquipmentBtn.removeEventListener(eui.tep,e.uy,e),e.composeBtn.removeEventListener(eui.tep,e.kw,e),e.intensifyBtn.removeEventListener(eui.tep,e.en,e),vkG.$r(UtJ.FA,e.tr,e),vkG.$r(UtJ.XH,e.lv,e),vkG.$r(UtJ.ED,e.nj,e),vkG.$r(UtJ.AJ,e.w_,e),vkG.$r(UtJ.FP,e.yd,e)},t.prototype.uy=function(e){vkG.$d(UtJ.NR,0)},t.prototype.mo=function(){for(var e,t,n=Iwrv.QL,i=0;i<n.length;i++)e=GxD.instance.Fkl(8,n[i]),e.length>0&&(this.qk[n[i]].data=e[0],t=XCA.YV(e[0].TSF.p3))},t.prototype.kw=function(){App.VS.popup(10009,SpiritCompositePopUi)},t.prototype.en=function(){App.VS.popup(10009,SpiritIntensifyPopUi)},t.prototype.nj=function(){var e=this;e.intensifyBtn.icon=UsU.KM()?StaticData.GHj:null,e.lv(),e.yd()},t.prototype.w_=function(){var e=this;e.mo(),e.composeBtn.icon=UsU.VX()?StaticData.GHj:null,e.yd()},t.prototype.qo=function(e){App.VS.popup(10009,PlayerAttributPopUi)},t.prototype.yd=function(){var e=this,t=App.BG.playerAttrsInfo;e.attrTxt1.text=fvg.GVf("spirit17")+"+"+GMath.toFixed(.1*t.exr,1)+"%",e.attrTxt2.text=fvg.GVf("spirit16")+"+"+GMath.toFixed(.1*t.exn,1)+"%",e.attrTxt3.textFlow=LgRe.OQ(fvg.GVf("spirit21"))},t.prototype.tr=function(){var e=this;if(e.a_){var t=App.KF.sex||1;FigureHelps.NW(e.a_,{b:App.KF.b,w:App.KF.w,c:App.KF.c,s:t});var n=App.KF.stg;e.yl&&e.yl.parent&&e.removeChild(e.yl),n>0&&(e.yl&&e.yl.parent?(e.removeChild(e.yl),e.cg()):e.cg(),e.yl.play(),e.addChildAt(e.yl,e.numChildren))}},t.prototype.cg=function(){var e=this,t=App.KF.stg;t>0&&(e.yl=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((t+1)/4))),e.yl.x=85,e.yl.y=100,e.yl.touchEnabled=!1,e.yl.touchChildren=!1,e.yl.addEventListener(egret.Event.COMPLETE,e.da,e)},t.prototype.da=function(e){var t=this;t.yl&&t.yl.parent&&t.removeChild(t.yl)},t.prototype.lv=function(){var e=this,t=App.RM.spiritAllCap+App.RM.spiritIntendifyCap;e.fightView.fightNum=t,e.yd()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.qk),t.qk=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.a_),t.a_=null,GObj.$d(t.composeBtn),t.composeBtn=null,GObj.$d(t.yl),t.yl=null,GObj.$d(t.attrTxt1),t.attrTxt1=null,GObj.$d(t.attrTxt2),t.attrTxt2=null,GObj.$d(t.attrTxt3),t.attrTxt3=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SaintSuitView.prototype,"SaintSuitView");var SpecialEquipItem=function(e){function t(t){var n=e.call(this,"SpecialEquipItem")||this;n.qw=t;var i=RRUU.$s("SpecialEquipItemSkin");return n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.NM,e.hq,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.NM,e.hq,e)},t.prototype.initData=function(){this.ai()},t.prototype.hq=function(e){var t=this;e&&e.indexOf(t.qw)>=0&&t.ai()},t.prototype.ai=function(){var e=this;e.ho=App.BG.speciaEquipInfo[e.qw]||0,e.wb=XCA.AQS.UFA(8,e.qw,1),e.ho>0?(e.imageIcon.visible=!1,e.gi&&e.gi.parent?(e.removeChild(e.gi),e.rv()):e.rv(),e.gi.play(),e.addChildAt(e.gi,2),e.qualityBack.source=aKF.LU(aKF.JN)):(e.gi&&e.gi.parent&&(e.gi.stop(),e.removeChild(e.gi)),e.imageIcon.visible=!0,e.imageIcon.source="four_json.specialEquip_item"+e.qw+"_png",e.qualityBack.source=aKF.LU(aKF.MM)),0==e.ho?e.lvLab.visible=!1:(e.lvLab.text=fvg.GVf("426",e.ho),e.lvLab.visible=!0)},t.prototype.rv=function(){var e=this;e.gi=App.KB.getUIEffect("role_special_"+e.qw),e.gi.x=15,e.gi.y=15,e.gi.touchEnabled=!1,e.gi.touchChildren=!1},t.prototype.updateNeedCount=function(){var e=this;e.redPointImg.visible=UsU.UV(e.qw)},Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._selectedBack.visible=t._selected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specialEquipType",{get:function(){return this.qw},set:function(e){var t=this;t.qw=e,t.ai()},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.imageIcon),t.imageIcon=null,GObj.$d(t.qualityBack),t.qualityBack=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t._selectedBack),t._selectedBack=null,t.wb=null,t.gi&&(t.gi.stop(),GObj.$d(t.gi)),e.prototype.dispose.call(this)},t.WV=1,t.TK=2,t.BO=3,t.EN=4,t}(BaseUI);__reflect(SpecialEquipItem.prototype,"SpecialEquipItem",["ISelectedButton","egret.IEventDispatcher"]);var TendonsImage=function(e){function t(t){var n=e.call(this)||this;return n.gi=t,n.xu(),n}return __extends(t,e),t.prototype.xu=function(){var e=this;e.ui=GObj.$c(egret.Sprite),e.addChild(e.ui),e.tx=[];for(var n=0;9>n;n++)e.tx.push(GObj.$c(eui.Image)),e.ui.addChild(e.tx[n]);t.VM||(t.VM=[],t.VM[0]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[1]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[2]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[3]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[4]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[5]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[6]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)],t.VM[7]=[new egret.Point(38,-205),new egret.Point(38,-145),new egret.Point(65,-115),new egret.Point(7,-120),new egret.Point(28,-74),new egret.Point(56,-38),new egret.Point(34,-8),new egret.Point(-19,20),new egret.Point(107,20)])},t.prototype.initPosition=function(e,n){var i=this;i.fo=e,n?(i.hp=t.EQ[i.fo],i.x=210,i.y=415,i.alpha=0==i.fo?1:.3):(i.kg=0==i.fo?1:-1,Nvm.instance.registeEnterFrame(i.ino,i))},t.prototype.ino=function(){var e=this;e.hp+=5,e.ui.alpha+=.05*e.kg,e.hp%90==0&&(0==e.fo?(e.alpha=1,e.ui.alpha=1):(e.alpha=.3,e.ui.alpha=0),Nvm.instance.unRegisteEnterFrame(e.ino,e))},t.prototype.initBall=function(e,n){var i=this;n<MaxLevel.TENDONS_MAX_LEVEL?(i.gv=t.VM[e],i.oo=n%9):(i.gv=t.VM[t.VM.length-1],i.oo=9);var r=i.gv[0];i.ui.graphics.clear(),i.ui.graphics.moveTo(r.x+8,r.y+8),i.ui.graphics.lineStyle(2,15858941);for(var a=0,o=0;o<i.gv.length;o++)r=i.gv[o],i.tx[o].x=r.x,i.tx[o].y=r.y,o<i.oo?(a=o,i.ui.graphics.lineTo(r.x+8,r.y+8),i.tx[o].source="rolepop_json.tendons_point_on_png"):(i.ui.graphics.lineStyle(2,4210752),i.ui.graphics.lineTo(r.x+8,r.y+8),i.tx[o].source="rolepop_json.tendons_point_off_png");i.ui.graphics.lineStyle(2,15858941),r=i.gv[a],i.ui.graphics.moveTo(r.x+8,r.y+8)},t.prototype.updateBall=function(e){var t=this;t.oo=e%9,t.oo=0==t.oo?9:t.oo;var n=t.gv[t.oo-1];t.ui.graphics.lineTo(n.x+8,n.y+8),t.tx[t.oo-1].source="rolepop_json.tendons_point_on_png"},t.prototype.qa=function(e){var t=GObj.$c(egret.Point);return t.x=210+120*Math.cos(e),t.y=370+40*Math.sin(e),t},t.EQ=[90,0,270,180],t}(egret.DisplayObjectContainer);__reflect(TendonsImage.prototype,"TendonsImage");var TendonsOtherAttrPopUi=function(e){function t(){var t=e.call(this,"TendonsOtherAttrPopUi")||this;return t.skinName=RRUU.$s("TendonsOtherAttrPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("role23");var t=SkillManager.instance.tendonsGrade,n=XCA.AQS.UFA(3,1,1);if(n){var i=Math.max(int(t/72),1),r=int(t/9%8);e.currStageTxt.text=fvg.GVf("skill022",Nkz.QT(i)),t>=72*i?(e.currActiveTxt.text="("+fvg.GVf("public009")+")",e.currActiveTxt.textColor=65322):(e.currActiveTxt.text=fvg.GVf("112",r,8),e.currActiveTxt.textColor=16711680),e.currActiveTxt.x=e.currStageTxt.x+e.currStageTxt.textWidth,e.pc(n.p1+i),t>=72&&(i+=1,e.nextStageTxt.text=fvg.GVf("skill023",Nkz.QT(i)),t>=72*i?(e.nextActiveTxt.text="("+fvg.GVf("public009")+")",e.nextActiveTxt.textColor=65322):(e.nextActiveTxt.text=fvg.GVf("112",r,8),e.nextActiveTxt.textColor=16711680),e.nextActiveTxt.x=e.nextStageTxt.x+e.nextStageTxt.textWidth,e.ip(n.p1+i))}},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.pc=function(e){var t=XCA.YV(e);t||(t=XCA.YV(e+1));var n,i=1;if(t){for(n in xxf.UK)t[n]&&this["currAttrTxt_"+i]&&(this["currAttrTxt_"+i].text=fvg.GVf("skill004",xxf.UK[n],t[n]),i++);for(n in xxf.IM)t[n]&&this["currAttrTxt_"+i]&&(this["currAttrTxt_"+i].text=fvg.GVf("skill004",xxf.IM[n],(t[n]/10).toFixed(1)+"%"),i++)}},t.prototype.ip=function(e){var t,n=this,i=XCA.YV(e),r=1;if(i){for(t in xxf.UK)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text=fvg.GVf("skill004",xxf.UK[t],i[t]),r++);for(t in xxf.IM)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text=fvg.GVf("skill004",xxf.IM[t],(i[t]/10).toFixed(1)+"%"),r++)}else n.nextStageTxt.text="",n.nextActiveTxt.text="",n.nextAttrTxt_1.text="",n.nextAttrTxt_2.text=""},t.prototype.tp=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.currActiveTxt),t.currActiveTxt=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TendonsOtherAttrPopUi.prototype,"TendonsOtherAttrPopUi");var TendonsPopUi=function(e){function t(){var t=e.call(this,"TendonsPopUi")||this;return t.h_=0,t.skinName=RRUU.$s("TendonsPopUi"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("role21"),e.doTitleLbl.text=fvg.GVf("role22"),e.upgradeBtn.label=fvg.GVf("skill011"),e.otherBtn.label=fvg.GVf("skill021"),e.smaicon.goodsTid=StaticData.TID_GOLD_ID,e.wg=fvg.GVf("skill012").split(","),e.ft=e.wg.length,e.kk=[55,110,160,204,249,296,350,410],e.st=[[0,208],[10,129],[53,53],[128,15],[214,15],[297,53],[342,129],[353,208]],e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=45,e.addChild(e.fightView),e.fl=[];for(var t,n=0;4>n;n++)t=GObj.$c(TendonsImage,n),e.addChild(t),e.fl.push(t);e.upgradeBtn.icon=UsU.VU()?StaticData.GHj:null},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.ym,e),e.otherBtn.addEventListener(eui.tep,e.df,e),vkG.$a(UtJ.IZC,e.so,e),vkG.$a(UtJ.IN,e.ts,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.ym,e),e.otherBtn.removeEventListener(eui.tep,e.df,e),vkG.$r(UtJ.IZC,e.so,e),vkG.$r(UtJ.IN,e.ts,e)},t.prototype.initData=function(){var e=this;e.ou=XCA.AQS.UFA(3,1,1),e.eh=SkillManager.instance.tendonsGrade,e.du=int(e.eh/9%8),e.rr=int(e.du%4),e.ug(!0),e.tv(),fNs.instance.execute(hXS.DY,hXS.RZ,e.upgradeBtn)},t.prototype.ug=function(e){var t=this;t.pe=!1,egret.Tween.removeTweens(t);var n=t.eh<MaxLevel.TENDONS_MAX_LEVEL?t.rr:t.fl.length-1;e=t.eh<MaxLevel.TENDONS_MAX_LEVEL?e:!0;for(var i=0,r=n;i<t.fl.length;i++)t.fl[r].initPosition(i,e),r++,r>=t.fl.length&&(r=0);t.fl[n].initBall(t.du,t.eh),t.addChild(t.fl[n])},t.prototype.tv=function(){var e=this;e.zr(),e.ek(),e.ts(null),e.fightView.fightNum=App.JO.tendonsCap},t.prototype.zr=function(){var e=this,t=int(e.eh/72),n=e.eh<MaxLevel.TENDONS_MAX_LEVEL?e.du:e.ft-1;if(e.h_!=n||0==n){e.h_=n;var i;e.tendonsItemGroup.removeChildren();for(var r=0;r<e.ft;r++)e.sf=GObj.$c(TendonsViewItem),e.sf.x=e.st[r][0],e.sf.y=e.st[r][1],i=r<e.du?t+1:t,i>0?e.sf.Text=fvg.GVf("skill020",e.wg[r]+i):e.sf.Text=e.wg[r],e.sf.TextColor=n>=r?14532388:15858941,e.sf.IsStatic=n>=r?1:0,e.tendonsItemGroup.addChild(e.sf)}},t.prototype.ek=function(){var e=this;if(e.ou){var t=XCA.YV(e.ou.attrid);if(!t)return;var n=1,i=void 0;if(t){for(i in xxf.UK)t[i]&&this["attrTxt_"+n]&&(this["attrTxt_"+n].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[i],e.eh?App.JP.getTendonsAttr(t[i],e.eh):0)),n++);for(i in xxf.IM)t[i]&&this["attrTxt_"+n]&&(this["attrTxt_"+n].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[i],e.eh?App.JP.getTendonsAttr(t[i],e.eh):0)),n++)}}},t.prototype.so=function(e){var t=this;1==e?(t.eh=App.JO.tendonsGrade,t.du=int(t.eh/9%8),t.fl[t.rr].updateBall(t.eh),t.tv(),t.eh%9==0&&(t.pe=!0,t.rr=int(t.du%4),egret.Tween.get(t).wait(200).call(t.ug,this,[!1])),App.KB.showEffect(gYq.UQ)):t.initData()},t.prototype.ym=function(e){var t=this;if(!t.pe){if(t.eh>=MaxLevel.TENDONS_MAX_LEVEL)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var n=App.JP.getTendonsNeedGold(t.eh),i=App.KF.gold;i>=n?SkillMsgProxy.DX(1):_JDW.TR(StaticData.TID_GOLD_ID,n-i)}},t.prototype.ts=function(e){var t=this;if(t.ou&&t.eh<MaxLevel.TENDONS_MAX_LEVEL){t.ef=parseInt(t.ou.cost);var n=App.JP.getTendonsNeedGold(t.eh);t.needTxt.text=n.toString(),App.KF.gold>=n?(t.needTxt.textColor=Color.XB,t.upgradeBtn.icon=StaticData.GHj):(t.needTxt.textColor=Color.KA,t.upgradeBtn.icon=null)}else t.needTxt.text="MAX",t.needTxt.textColor=Color.XB,t.upgradeBtn.icon=null},t.prototype.df=function(e){App.VS.popup(10009,TendonsOtherAttrPopUi)},t.prototype.dispose=function(){var t=this;if(fNs.instance.execute(hXS.DY,hXS.YL),t.removeEvent(),GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.nameTxt_0),t.nameTxt_0=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.nameTxt_3),t.nameTxt_3=null,GObj.$d(t.nameTxt_4),t.nameTxt_4=null,GObj.$d(t.nameTxt_5),t.nameTxt_5=null,GObj.$d(t.nameTxt_6),t.nameTxt_6=null,GObj.$d(t.nameTxt_7),t.nameTxt_7=null,GObj.$d(t.otherBtn),t.otherBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.smaicon),t.smaicon=null,t.fl)for(var n=0;n<t.fl.length;n++)GObj.$d(t.fl[n]);t.fl=null,t.kk=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TendonsPopUi.prototype,"TendonsPopUi");var TendonsViewItem=function(e){function t(){var t=e.call(this,"TendonsViewItem")||this;return t.su=0,t.skinName=RRUU.$s("TendonsViewItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){e.prototype.initView.call(this)},t.prototype.initData=function(){e.prototype.initData.call(this),this.ms()},t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.ms=function(){var e=this;e.CSo&&e.uk()&&(e.nameLbl.text=e.dp,e.nameLbl.textColor=e.yz,e.iconImg.source="rolepop_json.role_ball_"+e.su+"_png")},t.prototype.uk=function(){var e=this;return e.dp&&e.yz?!0:!1},Object.defineProperty(t.prototype,"Text",{set:function(e){var t=this;t.dp=e,t.ms()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"TextColor",{set:function(e){var t=this;t.yz=e,t.ms()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"IsStatic",{set:function(e){var t=this;t.su=e,t.ms()},enumerable:!0,configurable:!0}),t.prototype.removeEvent=function(){},t}(BaseUI);__reflect(TendonsViewItem.prototype,"TendonsViewItem");var TurnupView=function(e){function t(){var t=e.call(this,"TurnupView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.curLab.text=fvg.GVf("beast03"),t.dq=-1,t.kw=GObj.$c(egret.HtmlTextParser),t.db=[],t.wm=[],t.fightView=GObj.$c(FightView),t.fightView.x=120,t.fightView.y=-1,t.addChild(t.fightView),t.rewardData=GObj.$c(eui.ArrayCollection),t.rewardGroup.dataProvider=t.rewardData,t.rewardGroup.itemRenderer=GoodsItemRenderer,t.xd={};for(var n,i=XCA.CG(IDU.VF).split(QycO.PK),r=0;r<i.length;r++)n=i[r].split(QycO.XP),t.xd[n[0]]=n[1]},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.turnupBtn.addEventListener(eui.tep,t.jq,t),vkG.$a(UtJ.IYL,t.pj,t),vkG.$a(UtJ.IN,t.__pointChangeHandler1,t),vkG.$a(UtJ.QU,t.__pointChangeHandler1,t),vkG.$a(UtJ.JV,t.__pointChangeHandler1,t)},t.prototype.removeEvent=function(){var e=this;e.turnupBtn.removeEventListener(eui.tep,e.jq,e),vkG.$r(UtJ.IYL,e.pj,e),vkG.$r(UtJ.IN,e.__pointChangeHandler1,e),vkG.$r(UtJ.QU,e.__pointChangeHandler1,e),vkG.$r(UtJ.JV,e.__pointChangeHandler1,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),fNs.instance.execute(hXS.CP,hXS.RZ,t.turnupBtn),t.rs(),t.__pointChangeHandler1()},t.prototype.pj=function(){var e=this;e.rs(),e.__pointChangeHandler1()},t.prototype.__pointChangeHandler1=function(){App.KF.gold,App.KF.obgp,App.ME.grade||0,XCA.AQS.UFA(34,1,1)},t.prototype.rs=function(){var e=this;e.CSo&&(e.pl=App.BG.turnupInfo.grade,e.nextLab.text=fvg.GVf("superequipCasting23",e.pl+1),e.pl!=e.dq&&-1!=e.dq&&App.KB.showEffect(gYq.UQ),e.dq=e.pl,e.ut=XCA.AQS.UFA(7,1,e.pl),e.gn=XCA.AQS.UFA(7,1,e.pl+1),e.ut?e.currTurnupGradeTxt.textFlow=e.kw.parser(fvg.GVf("turnup002",e.ut.name)):e.currTurnupGradeTxt.textFlow=e.kw.parser(fvg.GVf("turnup002",fvg.GVf("turnup007"))),e.om(),e.cl(),e.bj(),e.wi(),e.el(),e.ww(),e.br(),e.wj(),e.jc(),e.maxTxt.visible=e.pl>=MaxLevel.TURNUP_MAX_LEVEL,e.fightView.fightNum=App.BG.turnupInfo.cap,e.pl>=MaxLevel.TURNUP_MAX_LEVEL-1?(e.condGroup_1.visible=!1,e.condGroup_2.visible=!1,e.condGroup_3.visible=!1,e.condGroup_4.visible=!1,e.rewardGroup.visible=!1,e.turnupBtn.visible=!1,e.mImg.visible=!0):e.pl>=MaxLevel.PEAK_EQUIP_BEGIN_STEP?(e.currTurnupGradeTxt.visible=!1,e.currTurnupGradeBgImg.visible=!1):(e.currTurnupGradeTxt.visible=!0,e.currTurnupGradeBgImg.visible=!0))},t.prototype.om=function(){var e,t=this,n=t.gn?t.gn.p5:t.ut.p5,i=n.split("|");t.db.splice(0,t.db.length),t.wm.splice(0,t.wm.length);for(var r=0;r<i.length;r++)e=i[r].split(","),t.db.push(parseInt(e[0])),t.wm.push(parseInt(e[1]))},t.prototype.cl=function(){var e=this,t=0;t=e.ut?e.ut.attrid:e.gn.attrid;var n,i=XCA.YV(t),r=1;if(i){for(n in xxf.UK)i[n]&&this["currAttrTxt_"+r]&&(this["currAttrTxt_"+r].text=fvg.GVf("skill004",xxf.UK[n],0==e.pl?0:i[n]),r++);for(n in xxf.IM)i[n]&&this["currAttrTxt_"+r]&&(this["currAttrTxt_"+r].text=fvg.GVf("skill004",xxf.IM[n],0==e.pl?0:(i[n]/10).toFixed(1)+"%"),r++)}},t.prototype.bj=function(){var e=this;if(!e.gn)return e.nextAttrTxt_1.text=fvg.GVf("public014"),e.nextAttrTxt_2.text=fvg.GVf("public014"),void(e.nextAttrTxt_3.text=fvg.GVf("public014"));var t,n=e.gn.attrid,i=XCA.YV(n),r=1;if(i){for(t in xxf.UK)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text=fvg.GVf("skill004",xxf.UK[t],i[t]),r++);for(t in xxf.IM)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].text=fvg.GVf("skill004",xxf.IM[t],(i[t]/10).toFixed(1)+"%"),r++)}},t.prototype.wi=function(){var e=this;if(e.db.length<1||!e.gn)return e.condGroup_1.visible=!1,void(e.pf=!0);e.condGroup_1.visible=!0,e.pf=!1;var t=e.wm[0],n=App.BG.turnupInfo.cond_prog_1;e.pf=n>=t,e.condition_1_txt.text=e.tt(e.db[0],t),e.condition_1_txt.textColor=e.pf?Color.SQ:Color.KA,e.condition_1_img.source=kLM.MN(e.pf),e.condition_1_prog_txt.text=n+"/"+t,e.condition_1_prog.value=Math.min(int(n/t*100),100)},t.prototype.el=function(){var e=this;if(e.db.length<2||!e.gn)return e.condGroup_2.visible=!1,void(e.tj=!0);e.condGroup_2.visible=!0,e.tj=!1;var t=e.wm[1],n=App.BG.turnupInfo.cond_prog_2;e.tj=n>=t,e.condition_2_txt.text=e.tt(e.db[1],t),e.condition_2_txt.textColor=e.tj?Color.SQ:Color.KA,e.condition_2_img.source=kLM.MN(e.tj),e.condition_2_prog_txt.text=n+"/"+t,e.condition_2_prog.value=Math.min(int(n/t*100),100)},t.prototype.ww=function(){var e=this;if(e.db.length<3||!e.gn)return e.condGroup_3.visible=!1,void(e.lq=!0);e.condGroup_3.visible=!0,e.lq=!1;var t=e.wm[2],n=App.BG.turnupInfo.cond_prog_3;e.lq=n>=t,e.condition_3_txt.text=e.tt(e.db[2],t),e.condition_3_txt.textColor=e.lq?Color.SQ:Color.KA,e.condition_3_img.source=kLM.MN(e.lq),e.condition_3_prog_txt.text=n+"/"+t,e.condition_3_prog.value=Math.min(int(n/t*100),100)},t.prototype.br=function(){var e=this;if(e.db.length<4||!e.gn)return e.condGroup_4.visible=!1,void(e.zo=!0);e.condGroup_4.visible=!0,e.zo=!1;var t=e.wm[3],n=App.BG.turnupInfo.cond_prog_4;e.zo=n>=t,e.condition_4_txt.text=e.tt(e.db[3],t),e.condition_4_txt.textColor=e.zo?Color.SQ:Color.KA,e.condition_4_img.source=kLM.MN(e.zo),e.condition_4_prog_txt.text=n+"/"+t,e.condition_4_prog.value=Math.min(int(n/t*100),100)},t.prototype.wj=function(){var e=this,t=e.gn?e.gn.p6:e.ut.p6,n=Nkz.PI(t);if(0!=n.length){e.rewardData.source.splice(0,e.rewardData.source.length);for(var i=0;i<n.length;i++)e.rewardData.source.push(n[i]);e.rewardData.refresh();
e.lk()}},t.prototype.lk=function(){for(var e=this,t=e.pl+1;t<MaxLevel.TURNUP_MAX_LEVEL;t++)if(e.xd[t])return t;return 0},t.prototype.tt=function(e,t){return fvg.GVf("turnupc"+e,t)},t.prototype.jc=function(){var e=this;return e.pl>=MaxLevel.TURNUP_MAX_LEVEL-1?(e.turnupBtn.label=fvg.GVf("turnup001"),void(e.turnupBtn.icon=null)):void(e.pf&&e.tj&&e.lq&&e.zo?(e.turnupBtn.label=fvg.GVf("turnup001"),e.turnupBtn.icon=StaticData.GHj):(e.turnupBtn.label=fvg.GVf("103"),e.turnupBtn.icon=null))},t.prototype.jq=function(e){var t=this;return fNs.instance.execute(hXS.CP,hXS.YL),t.pl>=MaxLevel.TURNUP_MAX_LEVEL?void MessageTipManager.instance.show(fvg.GVf("skill006")):t.pf?t.tj?t.lq?t.zo?void NXr.GD():void rRcz.KJ(t.db[3]):void rRcz.KJ(t.db[2]):void rRcz.KJ(t.db[1]):void rRcz.KJ(t.db[0])},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.CP,hXS.NW),t.removeEvent(),GObj.$d(t.turnupBtn),t.turnupBtn=null,GObj.$d(t.condition_1_txt),t.condition_1_txt=null,GObj.$d(t.condition_2_txt),t.condition_2_txt=null,GObj.$d(t.condition_3_txt),t.condition_3_txt=null,GObj.$d(t.condition_4_txt),t.condition_4_txt=null,GObj.$d(t.condition_1_prog),t.condition_1_prog=null,GObj.$d(t.condition_2_prog),t.condition_2_prog=null,GObj.$d(t.condition_3_prog),t.condition_3_prog=null,GObj.$d(t.condition_4_prog),t.condition_4_prog=null,GObj.$d(t.condition_1_prog_txt),t.condition_1_prog_txt=null,GObj.$d(t.condition_2_prog_txt),t.condition_2_prog_txt=null,GObj.$d(t.condition_3_prog_txt),t.condition_3_prog_txt=null,GObj.$d(t.condition_4_prog_txt),t.condition_4_prog_txt=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.currAttrTxt_3),t.currAttrTxt_3=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,GObj.$d(t.nextAttrTxt_2),t.nextAttrTxt_2=null,GObj.$d(t.nextAttrTxt_3),t.nextAttrTxt_3=null,GObj.$d(t.currTurnupGradeTxt),t.currTurnupGradeTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.condGroup_1),t.condGroup_1=null,GObj.$d(t.condGroup_2),t.condGroup_2=null,GObj.$d(t.condGroup_3),t.condGroup_3=null,GObj.$d(t.condGroup_4),t.condGroup_4=null,GObj.$d(t.maxImg),t.maxImg=null,GObj.$d(t.mImg),t.mImg=null,GObj.$d(t.mxImg),t.mxImg=null,GObj.$d(t.curLab),t.curLab=null,GObj.$d(t.typeImg),t.typeImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,t.xd=null,t.db=null,t.wm=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(TurnupView.prototype,"TurnupView");var BulletinPopUi=function(e){function t(){var t=e.call(this,"BulletinPopUi")||this,n=RRUU.$s("BulletinPopUiSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0},t.prototype.initData=function(){App.HD.bulletinInfo.f=!1;var e=App.HD.bulletinInfo.utime;!e||GApp.timer-e>3e5?ziI.MS():this.jr()},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e["in"],e),vkG.$a(UtJ.LD,e.jr,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e["in"],e),vkG.$r(UtJ.LD,e.jr,e)},t.prototype.jr=function(){var e=this;e.titleTxt.text=App.HD.bulletinInfo.t,e.contentTxt.text=App.HD.bulletinInfo.c},t.prototype["in"]=function(e){this.dispose()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.contentTxt),t.contentTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BulletinPopUi.prototype,"BulletinPopUi");var BuyPopUi=function(e){function t(){var t=e.call(this,"BuyPopUi")||this;return t.skinName=RRUU.$s("BuyPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("explore16"),e.buyBtn.label=fvg.GVf("shop6"),e.itemView.showNumTxt=!1},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.ex,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,e.ty,e),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,e.ty,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.ex,e),e.minBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),e.maxBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),e.addBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),e.removeBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dr,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.ty,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.ty,e)},t.prototype.initData=function(){this.tj()},t.prototype.tj=function(){var e=this;if(e.CSo&&e.qk){var t=GObj.$c(nlwj);t.tid=e.qk.itemid,t.count=e.qk.count,e.itemView.data=t,t.count>1?e.itemView.showNumTxt=!0:e.itemView.showNumTxt=!1,e.nameTxt.text=t.TSF.name,e.nameTxt.textColor=aKF.DU(t.quality),e.gradeTxt.text=fvg.GVf("public013",t.TSF.needgrade),e.moneyIcon.source=kLM.XD(e.qk.moneytype),e.qk.isLimit?(e.limitTxt.text=fvg.GVf("shop10",e.qk.canBuyCount,e.qk.limitCount),e.hl=e.qk.canBuyCount||1,e.limitTxt.textColor=e.qk.canBuyCount>0?Color.XB:Color.KA):(e.limitTxt.text="",e.hl=999),e.se=1,e.al()}},t.prototype.al=function(){var e=this;e.se>=e.hl&&(e.se=e.hl),e.se<=0&&(e.se=1),e.buyNumTxt.text=e.se.toString()+"/"+e.hl,e.priceTxt.text=(e.se*e.qk.price).toString();var t=App.IQ.getMoneyByMoneyType(e.qk.moneytype);e.se*e.qk.price>t?e.priceTxt.textColor=Color.KA:e.priceTxt.textColor=Color.XB,e.moneyIcon.x=e.priceTxt.x+e.priceTxt.textWidth+3},t.prototype.showDetail=function(e){var t=this;t.qk=e,t.tj(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dr=function(e){var t=this;if(!t.er){t.er=!0,t.jq=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.ci=10;break;case t.minBtn:t.ci=-10;break;case t.addBtn:t.ci=1;break;case t.removeBtn:t.ci=-1}Nvm.instance.registeEnterFrame(t.bg,t)}},t.prototype.ty=function(e){var t=this;t.er&&(t.er=!1,t.jq<10&&(t.se+=t.ci,t.al()),Nvm.instance.unRegisteEnterFrame(t.bg,t))},t.prototype.bg=function(){var e=this;e.er&&(e.jq++,e.jq%10==0&&(e.se+=e.ci,e.al()))},t.prototype.ex=function(e){var t=this;if(t.qk.canBuyCount<=0)return MessageTipManager.instance.show(fvg.GVf("shop9")),void t.dispose();var n=t.se*t.qk.price,i=App.IQ.getMoneyByMoneyType(t.qk.moneytype);return n>i?(IoG.EZ()&&App.IQ.getTidByMoneyType(t.qk.moneytype)==StaticData.TID_POINT_ID?MessageTipManager.instance.show(fvg.GVf("moneyType2")):_JDW.TR(App.IQ.getTidByMoneyType(t.qk.moneytype)),void GObj.$d(t)):void App.JA.checkIncome(t.ud,t)},t.prototype.ud=function(){var e=this;ShopMsgProxy.LR(e.qk.tid,e.se),GObj.$d(e)},t.prototype.sd=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.limitTxt),t.limitTxt=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.moneyIcon),t.moneyIcon=null,GObj.$d(t.buyNumTxt),t.buyNumTxt=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.addBtn),t.addBtn=null,t.qk=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BuyPopUi.prototype,"BuyPopUi");var FunnyBuyFrame=function(e){function t(){var t=e.call(this,"FunnyBuyFrame")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.buyBtn.label=fvg.GVf("shop6")},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.gu,e),e.buyBtn.addEventListener(eui.tep,e.tw,e),e.sizeSelector.addEventListener(egret.Event.CHANGE,e.iy,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.gu,e),e.buyBtn.removeEventListener(eui.tep,e.tw,e),e.sizeSelector.removeEventListener(egret.Event.CHANGE,e.iy,e)},t.prototype.initData=function(){this.lz()},t.prototype.lz=function(){var e=this;e.CSo&&e.xf&&(e.itemView.data=e.xf,e.nameTxt.text=e.xf.TSF.name,e.nameTxt.textColor=aKF.DU(e.xf.quality),e.gradeTxt.text=fvg.GVf("public013",e.xf.TSF.needgrade),e.moneyIcon.source=kLM.PO(e.uf.tid),e.sizeSelector.maxCount=int(e.fc.totalGet-e.fc.haveGet),e.limitTxt.text=fvg.GVf("shop22",e.sizeSelector.maxCount),e.limitTxt.textColor=e.sizeSelector.maxCount>0?Color.XB:Color.KA,e.sizeSelector.minCount=1,e.sizeSelector.selectedCount=1,e.sd())},t.prototype.sd=function(){var e=this;e.fc&&(e.tv=e.fc.conditionList?e.fc.conditionList[0]:null,e.tv&&e.tv.p4>0?e.descTxt.text=fvg.GVf("shop23_"+e.tv.p4+"_"+e.tv.p3):e.descTxt.text="")},t.prototype.iy=function(e){var t=this;if(t.uf){var n=t.sizeSelector.selectedCount,i=n*t.uf.count;t.priceTxt.text=toChars(i);var r=App.IQ.getMoneyByTid(t.uf.tid);i>r?t.priceTxt.textColor=Color.KA:t.priceTxt.textColor=Color.XB,t.moneyIcon.x=t.priceTxt.x+t.priceTxt.textWidth+3}},t.prototype.show=function(e,t,n){var i=this;i.xf=e,i.uf=t,i.fc=n,i.lz(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.tw=function(e){var t=this;if(t.fc){if(t.fc.haveGet>=t.fc.totalGet)return App.TT.show(fvg.GVf("shop9")),void GObj.$d(t);var n=t.sizeSelector.selectedCount;if(n>t.fc.totalGet-t.fc.haveGet)return App.TT.show(fvg.GVf("shop9")),void GObj.$d(t);if(t.at()){var i=n*t.uf.count,r=App.IQ.getMoneyByTid(t.uf.tid);return i>r?void _JDW.TR(t.uf.tid):void App.JA.checkIncome(t.nu,t)}}},t.prototype.nu=function(){var e=this;FunnyMsgProxy.LR(e.fc.id,e.sizeSelector.selectedCount),GObj.$d(e)},t.prototype.at=function(){var e=this;if(!e.tv||!e.tv.p4)return!0;switch(e.tv.p4){case 1:if((App.HB.crossArenaVo.history||0)<e.tv.p3)return App.TT.show(fvg.GVf("shop24")),!1}return!0},t.prototype.gu=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.limitTxt),t.limitTxt=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.moneyIcon),t.moneyIcon=null,GObj.$d(t.sizeSelector),t.sizeSelector=null,t.xf=null,t.uf=null,t.fc=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FunnyBuyFrame.prototype,"FunnyBuyFrame");var ShopItemRenderer=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ShopItemRenderer"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.buyBtn.label=fvg.GVf("shop6"),e._e=GObj.$c(nlwj)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.lu,e),e.buyBtn.addEventListener(eui.tep,e.te,e),vkG.$a(UtJ.VO,e.li,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.lu,e),e.buyBtn.removeEventListener(eui.tep,e.te,e),vkG.$r(UtJ.VO,e.li,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.lj=e.data,e._e.tid=e.lj.itemid,e._e.count=e.lj.count;var t=e._e.TSF;e.itemView.data=e._e,e.nameTxt.text=t.name,e.nameTxt.textColor=aKF.DU(t.qua);var n;if(n=e.lj.dmbc?1:e.lj.smbc?2:e.lj.wmbc?3:4,e.lj.isLimit?(e.limitLab.text=fvg.GVf("shop3"+n,e.lj.canBuyCount,e.lj.limitCount),e.limitLab.textColor=e.lj.canBuyCount>0?Color.XB:Color.KA):e.limitLab.text="",2==e.lj.type||5==e.lj.type||6==e.lj.type||7==e.lj.type||11==e.lj.type||12==e.lj.type||12==e.lj.type?(e.fpriceGrp.visible=!1,e.fpriceLine.visible=!1):(e.fpriceTlt.text=fvg.GVf("shop14"),e.fpriceTxt.text=toChars(e.lj.fprice),e.fmoneyIcon.source=kLM.MAR(e.lj.moneytype),e.fpriceLine.source="shop_json.shop_fpriceLine_png",e.fpriceGrp.visible=!0,e.fpriceLine.visible=!0),e.lj.isDiscount?(e.labelImg.source="shop_json.shop_label_2_png",e.labelTxt.text=fvg.GVf("shop7",int(e.lj.discount/10))):e.lj.isLimit?(e.labelImg.source="shop_json.shop_label_1_png",e.labelTxt.text=QycO.OK):e.lj.ishot?(e.labelImg.source="shop_json.shop_label_3_png",e.labelTxt.text=QycO.OK):(e.labelImg.source=null,e.labelTxt.text=QycO.OK),e.priceTlt.text=fvg.GVf("shop15"),e.priceTxt.text=toChars(e.lj.price),e.moneyIcon.source=kLM.XD(e.lj.moneytype),4==e.lj.type){var i=App.IQ.blackGoodsDic[e.lj.tid]>0;e.boughtImg.visible=i,e.buyBtn.visible=!i,e.needgradeTxt.text=""}else if(11==e.lj.type){e.redPointImg.visible=!1,e.boughtImg.visible=!1;var r=e.lj.fgrade||0;if(r>0&&App.XW.familyInfo.g<r)e.buyBtn.visible=!1,e.needgradeTxt.text=fvg.GVf("family53",r);else{var a=e.lj.fpoint||0;a>0&&App.XW.getPlayerActive()<a?(e.buyBtn.visible=!1,e.needgradeTxt.text=fvg.GVf("family54",a)):(e.buyBtn.visible=!0,e.needgradeTxt.text="")}}else if(12==e.lj.type){e.redPointImg.visible=!1;var i=App.IQ.mysteriousGoodsDic[e.lj.tid]>0;e.boughtImg.visible=i,e.buyBtn.visible=!i,e.needgradeTxt.text=""}else if(13==e.lj.type){e.redPointImg.visible=!1,e.boughtImg.visible=!1;var r=e.lj.nminvip||0,o=e.lj.nminprestige||0,s=e.lj.nminfvip||0;r>0&&App.XT.vipGrade<r?(e.buyBtn.visible=!1,e.needgradeTxt.text=fvg.GVf("shop13",r)):o>0&&App.XB.info.fgrade<o?(e.buyBtn.visible=!1,e.needgradeTxt.text=fvg.GVf("shop26",o)):s>0&&App.EO.vipInfo.vipGrade<s?(e.buyBtn.visible=!1,e.needgradeTxt.text=fvg.GVf("shop26",s)):(e.buyBtn.visible=!0,e.needgradeTxt.text="")}else{e.redPointImg.visible=!1,e.boughtImg.visible=!1;var r=e.lj.nminvip||0;r>0&&App.XT.vipInfo.vipGrade<r?(e.buyBtn.visible=!1,e.needgradeTxt.text=fvg.GVf("shop13",r)):(e.buyBtn.visible=!0,e.needgradeTxt.text="")}e.li(),0==e.itemIndex&&e.parent&&fNs.instance.execute(hXS.PS,hXS.YL,e.buyBtn)}},t.prototype.te=function(e){var t=this;if(4==t.lj.type||12==t.lj.type){var n=fvg.GVf("shop11",t.lj.price,t.kf());Alert.WK(n,null,Alert.EX|Alert.HE,t.sn,t)}else{var i=GObj.$c(BuyPopUi);i.showDetail(t.lj)}},t.prototype.kf=function(){var e=this.lj.moneytype;return 1==e?fvg.GVf(1):2==e?fvg.GVf(2):3==e?fvg.GVf(32):4==e?fvg.GVf(443):void 0},t.prototype.sn=function(){var e=this;if(e.lj){var t=e.lj.price,n=App.IQ.getMoneyByMoneyType(e.lj.moneytype);if(t>n)return void MessageTipManager.instance.show(fvg.GVf("moneyType"+e.lj.moneytype));4==e.lj.type?ShopMsgProxy.NR(e.lj.tid,1):ShopMsgProxy.JU(e.lj.tid,1)}},t.prototype.li=function(){var e=this;if(4==e.lj.type)e.redPointImg.visible=e.buyBtn.visible&&App.FK.compareWearEquip(e._e);else if(5==e.lj.type){var t=App.IQ.getMoneyByMoneyType(4)>=e.lj.price;e.redPointImg.visible=App.FK.compareWearEquip(e._e)&&t}},t.prototype.lu=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.labelTxt),t.labelTxt=null,GObj.$d(t.labelImg),t.labelImg=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.limitLab),t.limitLab=null,GObj.$d(t.moneyIcon),t.moneyIcon=null,GObj.$d(t.boughtImg),t.boughtImg=null,GObj.$d(t.needgradeTxt),t.needgradeTxt=null,GObj.$d(t.fpriceTlt),t.fpriceTlt=null,GObj.$d(t.priceTlt),t.priceTlt=null,t.lj=null,t._e=null,t.be&&(t.be.length=0,t.be=null),e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ShopItemRenderer.prototype,"ShopItemRenderer");var ShopView=function(e){function t(){var t=e.call(this,"ShopView")||this;return t.kc=0,t.lu=0,t["do"]=3,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.refreshBtn.label=fvg.GVf("shop4"),e.refreshDescLab.text=fvg.GVf("shop5"),e.descTxt.text=fvg.GVf("family56"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=ShopItemRenderer},t.prototype.initData=function(){e.prototype.initData.call(this);var t=App.IQ.getBlackShopGoods(),n=App.IQ.getMysteriousShopGoods();(!t||t.length<=0)&&ShopMsgProxy.LY(!1),(!n||n.length<=0)&&ShopMsgProxy.ZY(!0)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.refreshBtn.addEventListener(eui.tep,t.dl,t),vkG.$a(UtJ.XW,t.rl,t),vkG.$a(UtJ.LL,t.jn,t),vkG.$a(UtJ.QP,t.jn,t),vkG.$a(UtJ.DV,t.tf,t),vkG.$a(UtJ.XQ,t.tf,t),vkG.$a(UtJ.UO,t.jn,t)},t.prototype.removeEvent=function(){var e=this;e.refreshBtn.removeEventListener(eui.tep,e.dl,e),vkG.$r(UtJ.XW,e.rl,e),vkG.$r(UtJ.LL,e.jn,e),vkG.$r(UtJ.QP,e.jn,e),vkG.$r(UtJ.DV,e.tf,e),vkG.$r(UtJ.XQ,e.tf,e),vkG.$r(UtJ.UO,e.jn,e)},t.prototype.jn=function(){var e=this;e.lb(),e.xd()},t.prototype.rl=function(){var e=this;if(2==e.aw||3==e.aw||4==e.aw);else{App.IQ.getMoneyTypeByType(e.aw)}},t.prototype.tf=function(e){var t=this;(5==t.aw||6==t.aw||7==t.aw||10==t.aw)&&t.rl()},t.prototype.dataUpdated=function(){this.lb()},t.prototype.lb=function(){var e=this;if(e.viewData){e.itemScroller&&e.itemScroller.stopAnimation(),e.aw=e.tabType,e.countDownGroup.visible=4==e.aw||12==e.aw,e.itemScroller.height=4==e.aw||12==e.aw?502:561;var t;4==e.aw?(t=App.IQ.getBlackShopGoods(),e.descTxt.visible=!1):5==e.aw?(t=App.IQ.getEquipShopGoods(),e.descTxt.visible=!1):12==e.aw?(t=App.IQ.getMysteriousShopGoods(),e.descTxt.visible=!1):(t=App.IQ.getShopGoodsListByShopType(e.aw),e.descTxt.visible=!0,3==e.aw&&(e.descTxt.visible=!1));var n=[];if(e.datas.source.splice(0,e.datas.source.length),t)for(var i=t.length,r=0;i>r;r++)n[r]=t[r];e.datas.replaceAll(n),e.xd()}},t.prototype.xd=function(){var e=this;e.iconImg.goodsTid=StaticData.TID_POINT_ID,e.lu=App.JP.getShopRefreshGold(App.IQ.blackRefreshCount,e.aw),e.refreshGoldLab.text=e.lu.toString()},t.prototype.dl=function(e){var t=this;if(4==t.aw){if(App.KF.point<t.lu)return void(IoG.EZ()?MessageTipManager.instance.show(fvg.GVf("moneyType2")):_JDW.TR(StaticData.TID_POINT_ID));ShopMsgProxy.LY(!0)}else{if(App.KF.point<t.lu)return void(IoG.EZ()?MessageTipManager.instance.show(fvg.GVf("moneyType2")):_JDW.TR(StaticData.TID_POINT_ID));ShopMsgProxy.ZY(!1)}},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.PS,hXS.NW),t.removeEvent(),GObj.$d(t.badgeTxt),t.badgeTxt=null,GObj.$d(t.otherImg),t.otherImg=null,GObj.$d(t.refreshGoldLab),t.refreshGoldLab=null,GObj.$d(t.refreshDescLab),t.refreshDescLab=null,GObj.$d(t.refreshBtn),t.refreshBtn=null,GObj.$d(t.countDownGroup),t.countDownGroup=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.descTxt),t.descTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ShopView.prototype,"ShopView");var InternalItem=function(e){function t(){var t=e.call(this)||this;t.df=!1;var n=RRUU.$s("InternalItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.eq,e),e.addEventListener(eui.RFS,e.uo,e),vkG.$a(UtJ.AVM,e.be,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.eq,e),e.removeEventListener(eui.RFS,e.uo,e),vkG.$r(UtJ.AVM,e.be,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.be=function(e){var t=this;e&&e.indexOf(t.ob)>=0&&t.dc(),t.ke()},t.prototype.eq=function(e){var t=this;t.data&&App.VS.popup(10003,SkillDetailsPopUi,null,t._x)},t.prototype.dataChanged=function(){this.dc()},t.prototype.dc=function(){var e=this;if(e.CSo){if(e.data){e._x=e.data,e.ob=gLw.IQ(e._x.tid);var t=SkillManager.instance.getPasSkillInfoBySonType(e.ob.toString());e.je=t?t.grade:0,e.blackImg.visible=0==e.je,e.gradeLab.text=e.je+"";var n=e._x.qua;e.bgImg.source="immortall_json.immortall_qua_"+n+"_png",e.nameTxt.text=e._x.name+(e.je>0?"+"+e.je:""),e.iconView.icon=gLw.QY(e._x.tid);GxD.instance.hsx(parseInt(e._x.cost));if(t){var i=t.gp,r=App.JP.getPasSkillNeedCount(e.je);e.je>=MaxLevel.PAS_MAX_LEVEL?(e.progTxt.text=fvg.GVf("public080"),e.progBar.value=100):(e.progTxt.text=i+"/"+r,e.progBar.value=int(Math.min(100,i/r*100)))}else{var r=App.JP.getPasSkillNeedCount(e.je);e.je<=0&&(e.progTxt.text="0/"+r,e.progBar.value=int(Math.min(100,0/r*100)))}e.ke()}else e.nameTxt.text="",e.progBar.value=0,e.progTxt.text="",e.redPointImg.visible=!1;0!=e.itemIndex||e.df||(e.df=!0,fNs.instance.execute(hXS.MI,hXS.RZ,e))}},t.prototype.ke=function(){var e=this,t=App.JP.getPasSkillNeedCount(e.je),n=GxD.instance.hsx(parseInt(e._x.cost)),i=SkillManager.instance.getPasSkillInfoBySonType(e.ob.toString()),r=i?i.gp:0;e.je>=MaxLevel.PAS_MAX_LEVEL?e.redPointImg.visible=!1:e.redPointImg.visible=n+r>=t},t.prototype.uo=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.blackImg),t.blackImg=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.bgImg),t.bgImg=null,t._x=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(InternalItem.prototype,"InternalItem");var InternalItemListView=function(e){function t(){var t=e.call(this,"InternalItemListView")||this,n=RRUU.$s("InternalItemListViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=InternalItem,e.lz=-1,e.fightView=GObj.$c(FightView),e.fightView.x=116,e.fightView.y=-6,e.addChild(e.fightView),e.getPetBtn.label=fvg.GVf("skill007"),e.getPetBtn.visible=!1,e.qj=GObj.$c(FigureView),e.qj.x=250,e.qj.y=300,e.addChildAt(e.qj,3),e.tabBtn1.label=fvg.GVf("skill116"),e.tabBtn2.label=fvg.GVf("skill117"),e.tabBtn3.label=fvg.GVf("skill118"),e.tabBtn4.label=fvg.GVf("skill119"),e.ym=GObj.$c(kQr),e.ym.cwA(e.tabBtn1),e.ym.cwA(e.tabBtn2),e.ym.cwA(e.tabBtn3),e.ym.cwA(e.tabBtn4),e.lb=App.KB.getUIEffect(gYq.AD),e.directBtn.groupDisplay.addChild(e.lb)},t.prototype.initEvent=function(){var e=this;e.getPetBtn.addEventListener(eui.tep,e.wuq,e),e.ym.addEventListener(egret.Event.CHANGE,e.xs,e),e.leftBtn.addEventListener(eui.tep,e.ti,e),e.rightBtn.addEventListener(eui.tep,e.tx,e),e.directBtn.addEventListener(eui.tep,e.qc,e),vkG.$a(UtJ.AVM,e.wu,e),vkG.$a(UtJ.OD,e.ru,e),vkG.$a(UtJ.DV,e.dy,e),vkG.$a(UtJ.YJ,e.ta,e),vkG.$a(UtJ.PP,e.ta,e)},t.prototype.removeEvent=function(){var e=this;e.getPetBtn.removeEventListener(eui.tep,e.wuq,e),e.ym.removeEventListener(egret.Event.CHANGE,e.xs,e),e.leftBtn.removeEventListener(eui.tep,e.ti,e),e.rightBtn.removeEventListener(eui.tep,e.tx,e),e.directBtn.removeEventListener(eui.tep,e.qc,e),vkG.$r(UtJ.AVM,e.wu,e),vkG.$r(UtJ.OD,e.ru,e),vkG.$r(UtJ.DV,e.dy,e),vkG.$r(UtJ.YJ,e.ta,e),vkG.$r(UtJ.PP,e.ta,e)},t.prototype.initData=function(){var e=this;e.ym.selectedIndex=0,e.wu(null),e.ru(),e.ta()},t.prototype.xs=function(){this.vf()},t.prototype.vf=function(){this.qi()},t.prototype.ta=function(){var e=this;if(App.MG.directVo&&App.MG.directVo.getBagDataBySort(2)){var t=App.MG.directVo.getBagDataBySort(2);IoG.EZ()?e.directBtn.visible=!1:2!=t.status?e.directBtn.visible=!0:e.directBtn.visible=!1,e.directBtn.icon=1==t.status?StaticData.GHj:""}},t.prototype.qi=function(){var e=this;e.datas.source.length=0;var t=App.JO.getTempByQua(e.getCurrType);e.datas.replaceAll(t)},Object.defineProperty(t.prototype,"getCurrType",{get:function(){var e=this.ym.selectedIndex;return e+3},enumerable:!0,configurable:!0}),t.prototype.gn=function(e){var t=this,n=App.JO.realmGrade||0,i=XCA.AQS.UFA(22,1,e);if(i){var r="n_"+e;t.nameIcon.icon=kLM.EIQ(r),t.gradeIcon.icon=kLM.QL(e);var a=gLw.GM(i.tid);t.quaImg.source="core_json.name_bg_"+a+"_png",t.leftBtn.visible=e>1?!0:!1,t.rightBtn.visible=e>=i.maxgrade?!1:!0;var o=FigureHelps.TS(22,1,e);FigureHelps.NW(t.qj,o.part,!1),t.realmNameTxt.text=i.name;var s=n>=e;t.realmProg.visible=s,t.realmGpTxt.visible=s,t.protitle.visible=s,t.hasImg.source=s?"":"immortall_json.immortall_no_png";var p=XCA.YV(i.attrid);t.fightView.fightNum=App.JO.pasCap||(p?p.p1:0)}},t.prototype.wu=function(e){},t.prototype.ru=function(){var e=this,t=App.JO.realmGrade||0,n=XCA.AQS.UFA(22,1,0==t?1:t);1>=t?e.oy=1:e.oy=t,e.gn(e.oy),e.realmNameTxt.text=n.name,e.ed(n);var i=XCA.AQS.UFA(22,1,t+1);if(i){var r=0==t?0:n.needgp;i.needgp-(r||0),(App.JO.realmGp||0)-(r||0);e.realmProg.grade=t,e.realmProg.targetValue=int(App.JO.realmGp/i.needgp*100),e.realmGpTxt.text=fvg.GVf("public022",App.JO.realmGp||0,i.needgp)}else e.realmGpTxt.text="MAX",e.realmProg.targetValue=100;t=0==t?1:t,e.dy()},t.prototype.ed=function(e){var t=this,n=e.attrid,i=XCA.YV(n),r="";if(i){var a=void 0;for(a in xxf.UK)i[a]&&(r+=fvg.GVf("skill004",xxf.UK[a],i[a])+"\n");for(a in xxf.IM)i[a]&&(r+=fvg.GVf("skill004",xxf.IM[a],(i[a]/10).toFixed(1)+"%")+"\n");t.realmAttrTxt.textFlow=LgRe.OQ(r)}else t.realmAttrTxt.text=fvg.GVf("public030")},t.prototype.iw=function(e,t){var n=e[1],i=t[1];return gLw.GM(n.tid)<gLw.GM(i.tid)?-1:gLw.GM(n.tid)>gLw.GM(i.tid)?1:gLw.IQ(n.tid)<gLw.IQ(i.tid)?-1:1},t.prototype.wuq=function(){App.VS.open(10130)},t.prototype.dataUpdated=function(){vkG.$d(UtJ.EHD,!1)},t.prototype.ti=function(){var e=this;e.oy--,e.gn(e.oy)},t.prototype.tx=function(){var e=this;e.oy++,e.gn(e.oy)},t.prototype.qc=function(){App.VS.open(10155)},t.prototype.dy=function(){var e=this;e.tabBtn1.icon=UsU.MM(3)?StaticData.GHj:null,e.tabBtn2.icon=UsU.MM(4)?StaticData.GHj:null,e.tabBtn3.icon=UsU.MM(5)?StaticData.GHj:null,e.tabBtn4.icon=UsU.MM(6)?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.MI,hXS.NW),t.removeEvent(),GObj.$d(t.realmNameTxt),t.realmNameTxt=null,GObj.$d(t.realmAttrTxt),t.realmAttrTxt=null,GObj.$d(t.realmGpTxt),t.realmGpTxt=null,GObj.$d(t.realmProg),t.realmProg=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.qj),t.qj=null,GObj.$d(t.getPetBtn),t.getPetBtn=null,GObj.$d(t.hasImg),t.hasImg=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.jieImg),t.jieImg=null,GObj.$d(t.gradeIcon),t.gradeIcon=null,GObj.$d(t.nameIcon),t.nameIcon=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.directBtn),t.directBtn=null,GObj.$d(t.lb),t.lb=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(InternalItemListView.prototype,"InternalItemListView");var RuneBonusAttrItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RuneBonusAttrItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.pz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.pz,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo)if(e.data)if(e.data.count>1){e.numTxt.text=e.data.count,e.bonusTxt.text=e.yb(e.data.attrid);var t=1;t=int(e.data.count/2)+2,e.bonusTxt.textColor=aKF.DU(t),e.numBgImg.source="rune_json.rune_baptize_img_"+t+"_png"}else e.numTxt.text="",e.bonusTxt.text="",e.numBgImg.source=null;else e.numTxt.text="",e.bonusTxt.text="",e.numBgImg.source=null},t.prototype.yb=function(e){var t=this,n=XCA.YV(e),i="";if(n){var r=void 0,a=void 0,o=App.XV.getAttrAddValue(t.data.count);for(r in xxf.UK)if(a=n[r]||0,a>0&&t.bonusTxt)return i=fvg.GVf("skill004",xxf.UK[r],o+"%");for(r in xxf.IM)if(a=n[r]||0,a&&t.bonusTxt)return i=fvg.GVf("skill004",xxf.IM[r],o+"%")}return i},t.prototype.pz=function(){GObj.$d(this)
},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.numBgImg),t.numBgImg=null,GObj.$d(t.bonusTxt),t.bonusTxt=null,GObj.$d(t.numTxt),t.numTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RuneBonusAttrItem.prototype,"RuneBonusAttrItem");var RuneMaterialItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RuneMaterialItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.selected=!1,e.touchEnabled=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.__clickBagItemHandler,e),e.addEventListener(eui.RFS,e.yd,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.__clickBagItemHandler,e),e.removeEventListener(eui.RFS,e.yd,e)},t.prototype.__clickBagItemHandler=function(e){var t=this;t.data&&App.FK.showGoodsDetails(t.itemView.data,!1)},t.prototype.dataChanged=function(){var e=this;e.CSo&&!e.destory&&(e.data?e.itemView.data=e.data:e.itemView.data=null)},t.prototype.yd=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RuneMaterialItem.prototype,"RuneMaterialItem");var RuneOrdinaryItem=function(e){function t(){var t=e.call(this,"RuneOrdinaryItem")||this;return t.pt=!1,t.skinName=RRUU.$s("RuneOrdinaryItem"),t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!0},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._o,e),e.addEventListener(eui.tep,e.zr,e),vkG.$a(UtJ.DV,e.pe,e)},t.prototype.initData=function(){this.sr()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._o,e),e.removeEventListener(eui.tep,e.zr,e),vkG.$r(UtJ.DV,e.pe,e)},t.prototype._o=function(){GObj.$d(this)},Object.defineProperty(t.prototype,"sontype",{get:function(){return this.ji},set:function(e){var t=this;t.ji=e,t.sr()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSurmount",{get:function(){return this.pt},set:function(e){var t=this;t.pt=e,t.ov()},enumerable:!0,configurable:!0}),t.prototype.pe=function(e){e&&e.length>0&&this.sr()},t.prototype.zr=function(e){var t=e.currentTarget,n=t.goodsInfo;n?App.VS.popup(10013,RunesInfoPopUi,null,t.sontype):(RunesBagPopUi.LU=2,App.VS.popup(10013,RunesBagPopUi,null,t.sontype))},t.prototype.sr=function(){var e=this;if(e.CSo&&e.sontype){e.vb=null;for(var t,n=App.FK.LHp(6),i=n.length,r=0;i>r;r++)t=n[r],t.sonType==e.sontype&&(e.vb=t);e.addImg.source=null,e.vb?e.addImg.source=kLM._D(QNV.PA(e.vb.tid)):e.addImg.source="core_json.core_add_png",e.ov()}},t.prototype.ov=function(){var e=this;e.pt?e.redPointImg.visible=UsU.MG(e.vb):e.vb?e.redPointImg.visible=UsU.TE(e.vb):e.redPointImg.visible=UsU.RP(e.sontype)},Object.defineProperty(t.prototype,"goodsInfo",{get:function(){return this.vb},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.addImg),t.addImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(RuneOrdinaryItem.prototype,"RuneOrdinaryItem");var RuneProficientPopUi=function(e){function t(){var t=e.call(this,"RuneProficientPopUi")||this;return t.cj=0,t.za=0,t.bq=1,t.skinName=RRUU.$s("RuneProficientPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xu=new Array,e.title=fvg.GVf("skill056"),e.nk();var t,n=App.XV.runegrade,i=XCA.AQS.UFA(25,1,1),r=XCA.AQS.UFA(25,1,n),a=XCA.AQS.UFA(25,1,n+1);if(t=void 0==r?i:r,e.za=n>0?r.p1:i.p1,a&&(e.bq=a.p1),t){if(t.p2==aKF.KY&&(e.za=t.p1),1==e.za){var o=fvg.GVf("skill0"+t.p2);e.currStageTxt.text=fvg.GVf("skill089")+fvg.GVf("skill075",o)}else t.p2==aKF.KY&&e.za>1?e.currStageTxt.text=fvg.GVf("skill089")+fvg.GVf("skill106",e.za):e.currStageTxt.text=fvg.GVf("skill089")+fvg.GVf("skill076",e.za);var s=1==e.za?e.hz(e.za):e.ov(e.za,r.p2);if(n>0?(e.currActiveTxt.text="("+fvg.GVf("public009")+")",e.currActiveTxt.textColor=65322):(e.currActiveTxt.text=fvg.GVf("112",s,10),e.currActiveTxt.textColor=16711680),e.currActiveTxt.x=e.currStageTxt.x+e.currStageTxt.textWidth,e.ru(t.attrid),n>0){if(e.infoGroup.visible=!0,a){if(1==e.bq){var o=fvg.GVf("skill0"+a.p2);e.nextStageTxt.text=fvg.GVf("skill090")+fvg.GVf("skill075",o)}else a.p2==aKF.KY&&e.bq>1?e.nextStageTxt.text=fvg.GVf("skill090")+fvg.GVf("skill106",e.bq):e.nextStageTxt.text=fvg.GVf("skill090")+fvg.GVf("skill076",e.bq);var p=1==e.bq?e.hz(a.p2):e.ov(e.bq,a.p2);p>=10?(e.nextActiveTxt.text="("+fvg.GVf("public009")+")",e.nextActiveTxt.textColor=65322):(e.nextActiveTxt.text=fvg.GVf("112",p,10),e.nextActiveTxt.textColor=16711680),e.nextActiveTxt.x=e.nextStageTxt.x+e.nextStageTxt.textWidth,e.pn(a.attrid)}}else e.infoGroup.visible=!0}},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DV,e.nk,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DV,e.nk,e)},t.prototype.nk=function(){var e=this;e.xu.splice(0,e.xu.length);for(var t=App.FK.LHp(6),n=t.length,i=0;n>i;i++)e.xu.push(t[i])},t.prototype.hz=function(e){for(var t=this,n=0,i=t.xu.length,r=e,a=0;i>a;a++)t.xu[a].quality>=r&&n++;return n},t.prototype.ov=function(e,t){for(var n=this,i=0,r=n.xu.length,a=0;r>a;a++)if(n.xu[a].quality>=t){if(t<aKF.KY&&n.xu[a].quality==aKF.KY){i++;continue}n.xu[a].p3>=e&&i++}return i},t.prototype.ru=function(e){var t=XCA.YV(e);t||(t=XCA.YV(e+1));var n,i=1;if(t){for(n in xxf.UK)t[n]&&this["currAttrTxt_"+i]&&(this["currAttrTxt_"+i].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[n],t[n])),i++);for(n in xxf.IM)t[n]&&this["currAttrTxt_"+i]&&(this["currAttrTxt_"+i].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[n],(t[n]/10).toFixed(1)+"%")),i++)}},t.prototype.pn=function(e){var t,n=this,i=XCA.YV(e),r=1;if(i){for(t in xxf.UK)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[t],i[t])),r++);for(t in xxf.IM)i[t]&&this["nextAttrTxt_"+r]&&(this["nextAttrTxt_"+r].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[t],(i[t]/10).toFixed(1)+"%")),r++)}else n.nextStageTxt.text="",n.nextActiveTxt.text="",n.nextAttrTxt_1.text="",n.nextAttrTxt_2.text=""},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.wo=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.currActiveTxt),t.currActiveTxt=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.currAttrTxt_3),t.currAttrTxt_3=null,GObj.$d(t.currAttrTxt_4),t.currAttrTxt_4=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,GObj.$d(t.nextAttrTxt_2),t.nextAttrTxt_2=null,GObj.$d(t.nextAttrTxt_3),t.nextAttrTxt_3=null,GObj.$d(t.nextAttrTxt_4),t.nextAttrTxt_4=null,GObj.$d(t.infoGroup),t.infoGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RuneProficientPopUi.prototype,"RuneProficientPopUi");var RuneResolvePopUi=function(e){function t(){var t=e.call(this,"RuneResolvePopUi")||this;return t.skinName=RRUU.$s("RuneResolvePopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.title=fvg.GVf("skill053"),t.analysisBtn.label=fvg.GVf("smelting13"),t.titleTxt.text=fvg.GVf("smelting17"),t.descTxt.text=fvg.GVf("smelting32"),t.allTxt.text=fvg.GVf("smelting33"),t.datas=GObj.$c(eui.ArrayCollection),t.itemList.dataProvider=t.datas,t.itemList.itemRenderer=RunesResolveItem,t.materialData=GObj.$c(eui.ArrayCollection),t.materialGroup.dataProvider=t.materialData,t.materialGroup.itemRenderer=RuneMaterialItem,t.text1.text=fvg.GVf("smelting25"),t.text2.text=fvg.GVf("smelting26"),t.text3.text=fvg.GVf("smelting27"),t.text4.text=fvg.GVf("smelting28"),t.text5.text=fvg.GVf("smelting29"),t.smaicon.goodsTid=StaticData.TID_GOLD_ID,t.jl()},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.itemList.selectedIndex=0,t.nt()},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.nt,e),e.itemList.addEventListener(egret.Event.CHANGING,e.dj,e),e.analysisBtn.addEventListener(eui.tep,e.va,e),e.selectBtn1.addEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn2.addEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn3.addEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn4.addEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn5.addEventListener(egret.TouchEvent.CHANGE,e.na,e),e.allBtn.addEventListener(egret.TouchEvent.CHANGE,e.rv,e),vkG.$a(UtJ.VP,e.nt,e),vkG.$a(UtJ.XY_,e.tm,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.nt,e),e.itemList.removeEventListener(egret.Event.CHANGING,e.dj,e),e.analysisBtn.removeEventListener(eui.tep,e.va,e),e.selectBtn1.removeEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn2.removeEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn3.removeEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn4.removeEventListener(egret.TouchEvent.CHANGE,e.na,e),e.selectBtn5.removeEventListener(egret.TouchEvent.CHANGE,e.na,e),e.allBtn.removeEventListener(egret.TouchEvent.CHANGE,e.rv,e),vkG.$r(UtJ.VP,e.nt,e),vkG.$r(UtJ.XY_,e.tm,e)},t.prototype.va=function(){var e=this;if(App.XV.selectedRunesList.length<=0)return void App.TT.show(fvg.GVf("smelting30"));if(App.KF.gold<parseInt(e.needMoneyTxt.text))return void _JDW.TR(StaticData.TID_GOLD_ID);var t;t=[];for(var n=!1,i=0;i<App.XV.selectedRunesList.length;i++)t.push(App.XV.selectedRunesList[i].id),App.XV.selectedRunesList[i].quality>4&&(n=!0);n?Alert.WK(fvg.GVf("smelting31"),null,null,e._l,this,[t],null):(GoodsMsgProxy.NT(t),App.XV.selectedRunesList.length=0)},t.prototype._l=function(e){GoodsMsgProxy.NT(e),App.XV.selectedRunesList.length=0},t.prototype.tm=function(){var e=this;e.jl(),e.kr()},t.prototype.yo=function(e,t){return e&&t?(e.sort||0)>(t.sort||0)?-1:1:e?-1:t?1:0},t.prototype.dj=function(e){this.itemList.selectedItem||e.preventDefault()},t.prototype.rv=function(){var e=this;e.fm(e.allBtn.selected,6),e.datas.replaceAll(e.datas.source),e.nt()},t.prototype.na=function(e){var t=this;switch(e.currentTarget){case t.selectBtn1:t.fm(t.selectBtn1.selected,2);break;case t.selectBtn2:t.fm(t.selectBtn2.selected,3);break;case t.selectBtn3:t.fm(t.selectBtn3.selected,4);break;case t.selectBtn4:t.fm(t.selectBtn4.selected,5);break;case t.selectBtn5:t.fm(t.selectBtn5.selected,6)}t.datas.replaceAll(t.datas.source),t.nt()},t.prototype.fm=function(e,t){for(var n=this,i=0;i<n.datas.length;i++)if(t==n.datas.getItemAt(i).quality)if(e){for(var r=!1,a=0;a<App.XV.selectedRunesList.length;a++)n.datas.getItemAt(i).id==App.XV.selectedRunesList[a].id&&(r=!0);r||App.XV.addSelectedRune(n.datas.getItemAt(i))}else for(var a=0;a<App.XV.selectedRunesList.length;a++)n.datas.getItemAt(i).id==App.XV.selectedRunesList[a].id&&App.XV.selectedRunesList.splice(a,1)},t.prototype.tje=function(){App.XV.selectedRunesList.length=0},t.prototype.nt=function(){this.kr()},t.prototype.kr=function(){var e=this;if(App.XV.selectedRunesList.length>0){var t=GObj.$c(nlwj),n=[],i=XCA.FR(StaticData.RUNE_DEBRIS_ID);t.tid=i.tid,t.count=App.XV.countSelectedRuneDebris(),n.push(t),e.materialData.replaceAll(n),e.needMoneyTxt.text=5e4*t.count+"",5e4*t.count>App.BG.jkU.gold?e.needMoneyTxt.textColor=Color.KA:e.needMoneyTxt.textColor=15858941}else e.materialData.replaceAll([]),e.needMoneyTxt.text="0",e.needMoneyTxt.textColor=15858941},t.prototype.jl=function(){var e=this,t=App.XV.allRedRunesList||[];e.emptyImg.visible=t.length<=0,e.datas.replaceAll(t),e.datas.refresh()},t.prototype.od=function(){var e=this;if(egret.Tween.removeTweens(e),e.itemScroller){var t=e.itemScroller.viewport.scrollV,n=e.itemScroller.viewport.contentHeight-e.itemScroller.height;n>0&&t>n&&(e.itemScroller.viewport.scrollV=n)}},t.prototype.ap=function(e){GObj.$d(this)},t.prototype.ii=function(e,t){return e.quality>t.quality?1:e.quality==t.quality?e.subType>t.subType?-1:e.subType==t.subType?e.p1>t.p1?1:-1:1:-1},t.prototype.dispose=function(){var t=this;t.tje(),t.removeEvent(),GObj.$d(t.smaicon),t.smaicon=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas&&(GObj.$d(t.datas),t.datas=null),GObj.$d(t.materialData),t.materialData=null,GObj.$d(t.emptyImg),t.emptyImg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RuneResolvePopUi.prototype,"RuneResolvePopUi");var RunesBagItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RunesBagItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.isInsertImg.visible=!1,e.touchEnabled=!1,e.itemView.showNumTxt=!1},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo)if(e.data){e.selectedBack.visible=!0,e.itemView.data=e.data;var t=e.data.TSF.name,n=aKF.DU(e.data.quality);e.nameTxt.text=t,e.nameTxt.textColor=n,1==e.data.p4?e.lockImg.visible=!0:e.lockImg.visible=!1,6==e.data.btype?e.isInsertImg.visible=!0:e.isInsertImg.visible=!1;var i=UsU.J_(e.data);e.redPointImg.visible=i}else e.selectedBack.visible=!1,e.isInsertImg.visible=!1,e.itemView.data=null,e.nameTxt.text="",e.lockImg.visible=!1,e.redPointImg.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yy,e)},t.prototype.yy=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.selectedBack),t.selectedBack=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.isInsertImg),t.isInsertImg=null,GObj.$d(t.lockImg),t.lockImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RunesBagItem.prototype,"RunesBagItem");var RunesBagPopUi=function(e){function t(){var t=e.call(this,"RunesBagPopUi")||this;return t.zc=0,t.re=0,t.jo=!1,t.skinName=RRUU.$s("RunesBagPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("skill052"),e.ux=!1,e.starGroup=GObj.$c(eui.Group),e.starGroup.x=82,e.starGroup.y=26,e.infoGroup.addChild(e.starGroup),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=RunesBagItem,e.bf=0,e.starArr=[],e.ig=!1,e.dl=new Array,e.upstarBtn.label=fvg.GVf("store042"),e.intensifyBtn.label=fvg.GVf("store001"),e.descTxt.text=fvg.GVf("skill070"),e.noAttrTxt.text=fvg.GVf("skill092"),1==t.LU?e.mosaicBtn.label=fvg.GVf("role8"):e.mosaicBtn.label=fvg.GVf("store011"),e._s=GObj.$c(nlwj),e.txtArr=[];for(var n=1;14>=n;n++)e.txtArr.push(this["currAttrTxt_"+n]);e.bonusDatas=GObj.$c(eui.ArrayCollection),e.bonusGroup.dataProvider=e.bonusDatas,e.bonusGroup.itemRenderer=RuneBonusAttrItem},t.prototype.initEvent=function(){var e=this;e.mosaicBtn.addEventListener(eui.tep,e.pm,e),e.upstarBtn.addEventListener(eui.tep,e.ww,e),e.intensifyBtn.addEventListener(eui.tep,e.zu,e),e.lockBtn.addEventListener(eui.tep,e.ae,e),e.itemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.yf,e),e.explainBtn.addEventListener(eui.tep,e.ud,e),vkG.$a(UtJ.DV,e.ox,e),vkG.$a(UtJ.OI,e.ef,e)},t.prototype.initData=function(){var e=this;e.itemList.selectedIndex=0,e.ox(),e.yf()},t.prototype.removeEvent=function(){var e=this;e.mosaicBtn.removeEventListener(eui.tep,e.pm,e),e.upstarBtn.removeEventListener(eui.tep,e.ww,e),e.intensifyBtn.removeEventListener(eui.tep,e.zu,e),e.lockBtn.removeEventListener(eui.tep,e.ae,e),e.itemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.yf,e),e.explainBtn.removeEventListener(eui.tep,e.ud,e),vkG.$r(UtJ.DV,e.ox,e),vkG.$r(UtJ.OI,e.ef,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.zf=e[0],n.ox())},t.prototype.ox=function(){var e=this;if(1!=t.LU&&2!=t.LU||e.CSo&&e.zf){var n=App.XV.allRunesList,i=n.length;e.dl.splice(0,e.dl.length);var r=GObj.$c(nlwj),a=App.FK.LHp(6),o=a.length;e.zc=o;var s=[],p=[];if(0==t.LU)for(var l=0;o>l;l++)s.push(a[l]);s.sort(e.rk);for(var l=0;i>l;l++)r=n[l],1==t.LU||2==t.LU?r.sonType==e.zf&&p.push(r):p.push(r);p.sort(e.rk);var c=(s.length,p.length);e.dl=s;for(var l=0;c>l;l++)e.dl.push(p[l]);e.lz(),e.bf=e.itemList.selectedIndex,e.ta()}},t.prototype.ef=function(){for(var e=this,t=e._s.quality>=aKF.JN?!0:!1,n=e._s.p5.length,i=(App.XV.getOpenAppendAttrs(n),e._s.quality>=aKF.KY?MaxLevel.RUNE_GRADE:e._s.p3),r=App.XV.isGetAppendAttr(i),a=e._s.p5,o=[],s=0;r>s;s++)a[s]&&o.push(a[s]);var p=App.XV.searchDuplicateNumber(o),l=0;e.bonusDatas.source.length=0;for(var s=0;s<p.length;s++)p[s].count>1&&(e.bonusDatas.source.push(p[s]),l++);e.bonusDatas.refresh();var c;e._s.quality>=aKF.KY?c=10:(c=e._s.p1%10,e._s.p1>0&&0==c&&(c=10)),e.jo=t&&e._s.p3>=App.XV.getGrade(e._s)&&c>=e.starArr.length?!0:!1,t&&l>0?(e.bonusGroup.visible=!0,e.noAttrTxt.visible=!1):(e.bonusGroup.visible=!1,e.noAttrTxt.visible=!0)},t.prototype.rk=function(e,t){return e.quality>t.quality?-1:e.quality==t.quality?e.subType>t.subType?1:e.subType==t.subType?e.p1>t.p1?-1:1:-1:1},t.prototype.lz=function(){for(var e=this,t=StaticData.RUNE_BAG_SIZE+e.zc,n=e.dl.length,i=[],r=0;t>r;r++)n>r?i.push(e.dl[r]):i.push(null);e.datas.replaceAll(i),e.wt||e.datas.refresh(),e.wt=!0,e.ig&&App.KB.showEffect(gYq.UQ),e.ig=!1},t.prototype.ta=function(){var e=this,t=e.datas.length;if(t>0&&(e._s=e.datas.source[e.bf]),e._s&&e._s.id>0){e.infoGroup.visible=!0,e.descTxt.visible=!1,e.goodItem.data=e._s,e.goodItem.showNumTxt=!1;var n=e._s.TSF.name,i=XCA.FR(e._s.tid);e.sr=i.p1+e._s.p3;var r=aKF.DU(e._s.quality);e.nameTxt.text=n,e.nameTxt.textColor=r,e.gradeTxt.visible=!0,e._s.quality>=aKF.KY&&(e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("skill104",e._s.TSF.name,e._s.p3,MaxLevel.RUNE_SURMOUNT_LEVEL)),e.gradeTxt.visible=!1),e.cpTxt.text=fvg.GVf("teamcopy15",App.XV.getAttCP(e._s,e._s.p3)),e.gradeTxt.text=fvg.GVf("skill066",e._s.p3,App.XV.getGrade(e._s)),e.kl(e._s);var a=1==e._s.p4;e.ux=a,e.ux?(e.lockImg.visible=!0,e.lockBtn.label=fvg.GVf("skill067")):(e.lockImg.visible=!1,e.lockBtn.label=fvg.GVf("skill068"));for(var o=0;14>o;o++)e.txtArr[o].text="";e.ef(),e.mosaicBtn.icon=UsU.J_(e._s)?StaticData.GHj:null,e.qp()}else e.infoGroup.visible=!1,e.descTxt.visible=!0},t.prototype.yf=function(){var e=this;e.itemList.selectedIndex>e.dl.length?e.bf=-1:e.bf=e.itemList.selectedIndex,e.datas.source[e.bf]?(e._s=e.datas.source[e.bf],e.ta()):(e.infoGroup.visible=!1,e.descTxt.visible=!0)},t.prototype.kl=function(e){var t=this,n=e.TSF;if(t.starArr.length>0){for(var i=0;i<t.starArr.length;i++)t.starArr[i].parent&&t.starArr[i].parent.removeChild(t.starArr[i]);t.starArr.splice(0,t.starArr.length)}if(t.starArr.length<=0)for(var r=t._s.quality>=aKF.KY?MaxLevel.RUNE_STAR:n.p4,i=0;r>i;i++)t.starArr[i]=GObj.$c(eui.Image),t.starArr[i].x=27*i,t.starGroup.addChild(t.starArr[i]);var a=Math.ceil(e.p1/2);a=0>=a?1:a;var o=e.p1%10;e.p1>0&&0==o&&(o=10),t._s.quality>=aKF.KY&&(o=10,a=5);for(var i=0;i<t.starArr.length;i++)o>i?t.starArr[i].source=kLM.getBigStarPathByType(a):t.starArr[i].source=kLM.ZH()},t.prototype.qp=function(){var e=this;if(e.re=0,e.im(e.sr,Color.SE,1),e._s.quality>=aKF.KY){var t=e._s.p6.length;if(t>=1)for(var n=void 0,i=0;t>i;i++)n=e._s.p6[i]+e._s.p3,e.im(n,Color.HE,1)}e.ph()},t.prototype.im=function(e,t,n){var i=this,r=XCA.YV(e);if(r){var a=void 0,o=void 0,s=void 0;for(a in xxf.UK)o=r[a]||0,o>0&&(i.txtArr[i.re]&&(i.txtArr[i.re].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[a],o)),2==n&&(s=App.XV.getExtraValue(e,o,i.bonusDatas.source),s>0&&(i.txtArr[i.re].text+="(+"+Math.ceil(s)+")")),i.txtArr[i.re].textColor=t),i.re++);for(a in xxf.IM)o=r[a]||0,o&&(i.txtArr[i.re]&&(i.txtArr[i.re].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[a],(o/10).toFixed(1)+"%")),2==n&&(s=App.XV.getExtraValue(e,o,i.bonusDatas.source),s>0&&(i.txtArr[i.re].text+="(+"+(s/10).toFixed(2)+"%)")),i.txtArr[i.re].textColor=t),i.re++)}},t.prototype.ph=function(){var e=this,t=e._s.p5,n=e._s.quality>=aKF.KY?MaxLevel.RUNE_GRADE:e._s.p3,i=App.XV.isGetAppendAttr(n),r=e._s.p5.length,a=App.XV.getOpenAppendAttrs(r);if(i>0)for(var o=0;i>o;o++)o<t[o]&&e.im(t[o],Color.TX,2);if(a.length>0)for(var o=i;o<a.length;o++)e.txtArr[e.re].text=fvg.GVf("skill079",a[o]),e.txtArr[e.re].textColor=Color.KA,e.re++},t.prototype.ew=function(e){GObj.$d(this)},t.prototype.pm=function(e){var t=this;return t._s&&6==t._s.btype?void MessageTipManager.instance.show(fvg.GVf("skill069")):(t.ig=!0,void RuneMsgProxy.TV(t._s.id))},t.prototype.ww=function(e){var t=this;return t._s.quality>=aKF.KY?void App.TT.show(fvg.GVf("skill077")):void App.VS.popup(10013,RunesUpstarPopUi,null,t._s)},t.prototype.zu=function(e){var t=this;return t._s.quality>=aKF.KY?void App.TT.show(fvg.GVf("skill078")):(App.XV.intensifyGoods=t._s,void App.VS.popup(10013,RunesIntensifyPopUi))},t.prototype.ae=function(e){var t=this._s.btype;this.ux?RuneMsgProxy.KW(t,this.ids):RuneMsgProxy.KT(t,this.ids)},Object.defineProperty(t.prototype,"ids",{get:function(){var e=[];return e.push(this._s.id),e},enumerable:!0,configurable:!0}),t.prototype.ud=function(){var e=GObj.$c(RunesDescPopUi);e.show()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.mosaicBtn),t.mosaicBtn=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.lockBtn),t.lockBtn=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.explainBtn),t.explainBtn=null,GObj.$d(t.noAttrTxt),t.noAttrTxt=null,t.bonusGroup&&(t.bonusGroup.dataProvider=null,GObj.$d(t.bonusGroup)),t.bonusGroup=null,t.bonusDatas=null,e.prototype.dispose.call(this)},t.LU=0,t}(BasePopUi);__reflect(RunesBagPopUi.prototype,"RunesBagPopUi");var RunesBaptizeItem=function(e){function t(){var t=e.call(this)||this;return t.gm=0,t.skinName=RRUU.$s("RunesBaptizeItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.up,e),e.lockBtn.addEventListener(eui.tep,e.lf,e),vkG.$a(UtJ.HE,e.of,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.up,e),e.lockBtn.removeEventListener(eui.tep,e.lf,e),vkG.$r(UtJ.HE,e.of,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.zr=e.data.front,e.dm=e.data.behind,e.attrTxt.textFlow=LgRe.OQ(e.tpd(e.data.attrid,1)),e.xo())},t.prototype.lf=function(e){var t=this;t.data&&(t.data.lock=!t.data.lock,t.xo(),vkG.$d(UtJ.OBC))},t.prototype.xo=function(){var e=this;switch(e.ashGroup.visible=!1,e.lockBtn.visible=!0,e.gm){case 0:e.descTxt.text=e.data.lock?fvg.GVf("skill097"):fvg.GVf("skill098"),e.descTxt.textColor=e.data.lock?Color.KA:Color.TX;break;case 1:e.ashGroup.visible=!0,e.lockBtn.visible=!1;var t=e.tpd(e.data.desc,2)||"";e.descTxt.text=e.data.lock?fvg.GVf("skill097"):t,e.descTxt.textColor=e.data.lock?Color.KA:Color.TX}e.lockBtn.label=e.data.lock?fvg.GVf("skill067"):fvg.GVf("skill068"),e.lockTxt.text=e.data.lock?fvg.GVf("skill067"):fvg.GVf("skill068"),e.lockImg.source=e.data.lock?"core_json.lock_png":null},t.prototype.tpd=function(e,t){var n=this,i=XCA.YV(e),r="";if(i){var a=void 0,o=void 0,s=0;for(a in xxf.UK)if(o=i[a]||0,o>0)return s=1==t?App.XV.getExtraValue(n.data.attrid,o,n.zr):2==t?App.XV.getExtraValue(n.data.desc,o,n.dm):0,r=fvg.GVf("skill004",xxf.UK[a],o+Math.ceil(s));for(a in xxf.IM)if(o=i[a]||0)return s=1==t?App.XV.getExtraValue(n.data.attrid,o,n.zr):2==t?App.XV.getExtraValue(n.data.desc,o,n.dm):0,r=fvg.GVf("skill004",xxf.IM[a],(o/10+s).toFixed(1)+"%")}return r},t.prototype.up=function(){GObj.$d(this)},t.prototype.of=function(e){var t=this;t.gm=e,t.xo()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.lockBtn),t.lockBtn=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.ashGroup),t.ashGroup=null,GObj.$d(t.lockTxt),t.lockTxt=null,t.zr=null,t.dm=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RunesBaptizeItem.prototype,"RunesBaptizeItem");var RunesBaptizePopUi=function(e){function t(){var t=e.call(this,"RunesBaptizePopUi")||this;return t.rz=0,t.gk=8,t.ky=0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("skill094"),e.saveBtn.label=fvg.GVf("skill095"),e.cancelBtn.label=fvg.GVf("6"),e.baptizeBtn.label=fvg.GVf("skill094"),e.costTxt.text=fvg.GVf("renown5"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=RunesBaptizeItem,e.starArr=[],e.starGroup=GObj.$c(eui.Group),e.starGroup.x=110,e.starGroup.y=94,e.addChild(e.starGroup),e.pa=!1,e.wwh=parseInt(XCA.CG(IDU.UZ)||"50"),e.ko=e.wwh,e.ap=[],e.rn=[],e.goodItem.showNumTxt=!1},t.prototype.initData=function(){var e=this;e.lw(),e.aw()},t.prototype.initEvent=function(){var e=this;e.baptizeBtn.addEventListener(eui.tep,e.yf,e),e.saveBtn.addEventListener(eui.tep,e.yz,e),e.cancelBtn.addEventListener(eui.tep,e.mj,e),vkG.$a(UtJ.DV,e.lx,e),vkG.$a(UtJ.OBC,e.wa,e),vkG.$a(UtJ.OI,e.zm,e)},t.prototype.removeEvent=function(){var e=this;e.baptizeBtn.removeEventListener(eui.tep,e.yf,e),e.cancelBtn.removeEventListener(eui.tep,e.mj,e),e.saveBtn.removeEventListener(eui.tep,e.yz,e),vkG.$r(UtJ.DV,e.lx,e),vkG.$r(UtJ.OBC,e.wa,e),vkG.$r(UtJ.OI,e.zm,e)},t.prototype.nm=function(e){GObj.$d(this)},t.prototype.yf=function(e){for(var t=this,n=0,i=0;i<t.ap.length;i++)t.ap[i]&&n++;if(n>=t.datas.source.length)return void App.TT.show(fvg.GVf("skill099"));if(t.ky<t.ko)return void _JDW.TR(StaticData.TID_RUNE_ID);var r=1==t.or.btype?1:2;RuneMsgProxy.XU(t.or.id,r,t.ap),t.pa=!0,vkG.$d(UtJ.HE,1),t.rb()},t.prototype.yz=function(e){var t=this;t.pa=!1,t.hf(),t.rb(),vkG.$d(UtJ.HE,0),RuneMsgProxy.QA(1)},t.prototype.mj=function(e){var t=this;t.pa=!1,t.hf(),t.rb(),vkG.$d(UtJ.HE,0),RuneMsgProxy.QA(2)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.or=e[0],n.lw(),n.aw())},t.prototype.lw=function(){var e=this;if(e.or&&e.CSo){var t=XCA.FR(e.or.tid),n=e.or.p3;e.rz=t.p1+n,e.goodItem.data=e.or,e.nameTxt.text=e.or.TSF.name,e.nameTxt.textColor=aKF.DU(e.or.quality),e.gradeTxt.text=fvg.GVf("skill066",n,App.XV.getGrade(e.or)),e.cpTxt.text=fvg.GVf("teamcopy15",App.XV.getAttCP(e.or,e.or.p3)),e.arrowImg.x=e.cpTxt.x+e.cpTxt.textWidth+20,e.clearCpTxt.x=e.arrowImg.x+15,e.gradeTxt.visible=!0,e.or.quality>=aKF.KY&&(e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("skill104",e.or.TSF.name,n,MaxLevel.RUNE_SURMOUNT_LEVEL)),e.gradeTxt.visible=!1);var i,r,a=e.or.p5;e.rn.length=0;for(var o=0;o<a.length;o++)r=a[o],i={},i.lock=!1,i.attrid=r,e.rn.push(i);e.xl(e.or),e.rb()}},t.prototype.lx=function(e){var t=this;e&&e.indexOf(t.or.id)>=0&&(t.hf(),t.rb()),t.aw()},t.prototype.aw=function(){var e=this;if(e.CSo){for(var t=0,n=0;n<e.ap.length;n++)e.ap[n]&&t++;if(e.ko=(t+1)*e.wwh,e.ky=App.FK.hsx(StaticData.TID_RUNE_ID),e.countTxt.text=fvg.GVf("beauty17",e.ky,e.ko),e.countTxt.textColor=e.ky>=e.ko?Color.XB:Color.KA,e.or){var i=App.XV.getAttCP(e.or,e.or.p3);e.cpTxt.text=fvg.GVf("teamcopy15",i),e.arrowImg.x=e.cpTxt.x+e.cpTxt.textWidth+20,e.clearCpTxt.x=e.arrowImg.x+15}}},t.prototype.wa=function(){var e=this;e.rb(),e.aw()},t.prototype.zm=function(){this.rb()},t.prototype.hf=function(){var e,t,n=this,i=n.or.p5;n.rn.length=0;for(var r=0;r<i.length;r++)t=i[r],e={},e.lock=n.ap[r],e.attrid=t,n.rn.push(e)},t.prototype.rb=function(){var e=this;e.datas.source.length=0,e.ap.length=0;for(var t,n=App.XV.attrArr,i=App.XV.searchDuplicateNumber(n),r=[],a=0;a<i.length;a++)i[a].count>1&&r.push(i[a]);
for(var o=e.or.p5,s=App.XV.searchDuplicateNumber(o),p=[],l=0;l<s.length;l++)s[l].count>1&&p.push(s[l]);for(var c=0;c<e.rn.length;c++)t=e.rn[c],c<n.length&&(t.desc=n[c]),t.front=p,t.behind=r,e.datas.source.push(t),e.ap.push(t.lock);e.datas.refresh(),e.infoGroup.visible=!e.pa,e.arrowImg.visible=e.pa,e.clearCpTxt.visible=e.pa;var u=App.XV.getAttCP(e.or,e.or.p3),d=App.XV.getClearTotalCp(e.or);e.clearCpTxt.text=toChars(d),e.clearCpTxt.textColor=u>d?Color.KA:Color.TX,e.saveBtn.visible=e.cancelBtn.visible=e.pa},t.prototype.xl=function(e){var t=this,n=e.TSF;if(t.starArr.length>0){for(var i=0;i<t.starArr.length;i++)t.starArr[i].parent&&t.starArr[i].parent.removeChild(t.starArr[i]);t.starArr.splice(0,t.starArr.length)}if(t.starArr.length<=0)for(var r=t.or.quality>=aKF.KY?MaxLevel.RUNE_STAR:n.p4,i=0;r>i;i++)t.starArr[i]=GObj.$c(eui.Image),t.starArr[i].x=20*i,t.starGroup.addChild(t.starArr[i]);var a=Math.ceil(e.p1/2);a=0>=a?1:a;var o=e.p1%10;e.p1>0&&0==o&&(o=10),t.or.quality>=aKF.KY&&(o=10,a=5);for(var i=0;i<t.starArr.length;i++)o>i?t.starArr[i].source=kLM.getBigStarPathByType(a):t.starArr[i].source=kLM.AQ()},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.saveBtn),t.saveBtn=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.baptizeBtn),t.baptizeBtn=null,GObj.$d(t.costTxt),t.costTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.infoGroup),t.infoGroup=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.arrowImg),t.arrowImg=null,GObj.$d(t.clearCpTxt),t.clearCpTxt=null,t.datas=null,t.starArr){for(var n=0;n<t.starArr.length;n++)t.starArr[n].parent&&t.starArr[n].parent.removeChild(t.starArr[n]);t.starArr.length=0}t.starArr=null,t.rn&&(t.rn.length=0),t.rn=null,t.ap&&(t.ap.length=0),t.ap=null,t.or=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RunesBaptizePopUi.prototype,"RunesBaptizePopUi");var RunesChooseItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RunesChooseItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.checkBtn.$autoSelected=!1,e.itemView.showNumTxt=!1},t.prototype.initData=function(){var e=this;e.nameTxt.touchEnabled=!1,e.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.itemView.data=e.data;var t=e.data.TSF.name,n=aKF.DU(e.data.quality);e.nameTxt.text=t,e.nameTxt.textColor=n,e.checkBtn.selected=App.XV.selectedGoods.indexOf(e.data)>=0}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wa,e),e.itemView.addEventListener(eui.tep,e.dv,e),e.checkBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dv,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wa,e),e.itemView.removeEventListener(eui.tep,e.dv,e),e.checkBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dv,e)},t.prototype.dv=function(e){var t=this,n=App.XV.selectedGoods.indexOf(t.data);if(n>=0)App.XV.selectedGoods.splice(n,1),t.checkBtn.selected=!1;else{if(10==App.XV.selectedGoods.length)return void App.TT.show(fvg.GVf("skill081"));App.XV.selectedGoods.push(t.data),t.checkBtn.selected=!0}vkG.$d(UtJ.WE,2)},t.prototype.wa=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.checkBtn),t.checkBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RunesChooseItem.prototype,"RunesChooseItem");var RunesChoosePopUi=function(e){function t(){var t=e.call(this,"RunesChoosePopUi")||this;return t.skinName=RRUU.$s("RunesChoosePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("skill113"),e.starArr=[],e.txtArr=[],e.starGroup=GObj.$c(eui.Group),e.starGroup.x=80,e.starGroup.y=25,e.infoGroup.addChild(e.starGroup),e.oz=GObj.$c(nlwj),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=RunesChooseItem,e.sureBtn.label=fvg.GVf("hangup001"),e.descTxt.text=fvg.GVf("skill065"),e.unselectedTxt.text=fvg.GVf("skill070"),e.countTxt.text=fvg.GVf("public022",0,10);for(var t=0;10>t;t++)e.starArr[t]=GObj.$c(eui.Image),e.starArr[t].x=27*t,e.starGroup.addChild(e.starArr[t]);for(var t=0;12>t;t++)this["currAttrTxt_"+(t+1)]&&e.txtArr.push(this["currAttrTxt_"+(t+1)]);e.goodItem.showNumTxt=!1},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.ae,e),e.sureBtn.addEventListener(eui.tep,e.sn,e),vkG.$a(UtJ.WE,e.tw,e)},t.prototype.initData=function(){this.ogo()},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.ae,e),e.sureBtn.removeEventListener(eui.tep,e.sn,e),vkG.$r(UtJ.WE,e.tw,e)},t.prototype.ogo=function(){for(var e=this,t=[],n=App.XV.allRunesList,i=n.length,r=0;i>r;r++)2==n[r].p4&&n[r].id!=App.XV.intensifyGoods.id&&n[r].quality<=aKF.PU&&t.push(n[r]);t.sort(e.vv),e.datas.replaceAll(t),e.fa||e.datas.refresh(),e.fa=!0},t.prototype.tw=function(e){2==e&&(this.countTxt.text=fvg.GVf("public022",App.XV.selectedGoods.length,10))},t.prototype.oa=function(){var e=this;if(e.oz){e.goodItem.data=e.oz;var t=e.oz.TSF.name,n=XCA.FR(e.oz.tid);e.xz=n.p1;var i=aKF.DU(e.oz.quality);e.nameTxt.text=t,e.nameTxt.textColor=i,e.cpTxt.text=fvg.GVf("teamcopy15",App.XV.getAttCP(e.oz,e.oz.p3)),e.countTxt.text=fvg.GVf("public022",App.XV.selectedGoods.length,10);for(var r=0;12>r;r++)e.txtArr[r].text="";e.gn(),e.qu(e.oz.p1),e.gradeTxt.text=fvg.GVf("skill066",e.oz.p3,App.XV.getGrade(e.oz))}},t.prototype.ae=function(){var e=this;e.oz=e.itemList.selectedItem,e.oz?(e.unselectedTxt.visible=!1,e.infoGroup.visible=!0,e.oa()):(e.infoGroup.visible=!1,e.unselectedTxt.visible=!0)},t.prototype.qu=function(e){var t=this,n=t.oz.TSF,i=Math.ceil(e/2);i=0>=i?1:i;for(var r=0;r<t.starArr.length;r++)r<n.p4?(t.starArr[r].visible=!0,e>r?t.starArr[r].source=kLM.getBigStarPathByType(i):t.starArr[r].source=kLM.ZH()):t.starArr[r].visible=!1},t.prototype.gn=function(){var e=this;e.ny=0,e.pi(e.xz,Color.XB),e.ek()},t.prototype.pi=function(e,t){var n=this,i=XCA.YV(e);if(i){var r=void 0,a=void 0;for(r in xxf.UK)a=i[r]||0,a>0&&(n.txtArr[n.ny]&&(n.txtArr[n.ny].text=fvg.GVf("skill004",xxf.UK[r],a),n.txtArr[n.ny].textColor=t),n.ny++);for(r in xxf.IM)a=i[r]||0,a&&(n.txtArr[n.ny]&&(n.txtArr[n.ny].text=fvg.GVf("skill004",xxf.IM[r],(a/10).toFixed(1)+"%"),n.txtArr[n.ny].textColor=t),n.ny++)}},t.prototype.ek=function(){var e=this,t=e.oz.p5,n=App.XV.isGetAppendAttr(e.oz.p3),i=e.oz.p5.length,r=App.XV.getOpenAppendAttrs(i);if(n>0)for(var a=0;n>a;a++)a<t[a]&&e.pi(t[a],Color.TX);if(r.length>0)for(var a=n;a<r.length;a++)e.ny<12&&(e.txtArr[e.ny].text=fvg.GVf("skill079",r[a]),e.txtArr[e.ny].textColor=Color.KA,e.ny++)},t.prototype.vv=function(e,t){return e.quality>t.quality?1:e.quality==t.quality?e.subType>t.subType?-1:e.subType==t.subType?e.p1>t.p1?1:-1:1:-1},t.prototype.sn=function(e){vkG.$d(UtJ.WE,3),GObj.$d(this)},t.prototype.wx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null;for(var n=0;12>n;n++)GObj.$d(t.txtArr[n]),t.txtArr[n]=null;GObj.$d(t.txtArr),t.txtArr=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.sureBtn),t.sureBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RunesChoosePopUi.prototype,"RunesChoosePopUi");var RunesDescPopUi=function(e){function t(){return e.call(this,"RunesDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.HC,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(RunesDescPopUi.prototype,"RunesDescPopUi");var RunesInfoPopUi=function(e){function t(){var t=e.call(this,"RunesInfoPopUi")||this;return t.ga=0,t.yp=0,t.rj=!1,t.skinName=RRUU.$s("RunesInfoPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("skill050"),e.replaceBtn.label=fvg.GVf("role8"),e.upstarBtn.label=fvg.GVf("store042"),e.intensifyBtn.label=fvg.GVf("store001"),e.expTxt.text=fvg.GVf("3"),e.noAttrTxt.text=fvg.GVf("skill092"),e.on=!1,e.datas=GObj.$c(eui.ArrayCollection),e.infoGroup.dataProvider=e.datas,e.infoGroup.itemRenderer=RuneBonusAttrItem,e.starGroup=GObj.$c(eui.Group),e.starGroup.x=134,e.starGroup.y=94,e.addChild(e.starGroup),e.av=GObj.$c(nlwj),e.txtArr=[];for(var t=1;14>=t;t++)e.txtArr.push(this["currAttrTxt_"+t]);e.goodItem.showNumTxt=!1},t.prototype.initEvent=function(){var e=this;e.replaceBtn.addEventListener(eui.tep,e.jx,e),e.upstarBtn.addEventListener(eui.tep,e.ai,e),e.intensifyBtn.addEventListener(eui.tep,e.lq,e),e.lockBtn.addEventListener(eui.tep,e.pc,e),e.explainBtn.addEventListener(eui.tep,e.os,e),vkG.$a(UtJ.DV,e.ip,e),vkG.$a(UtJ.OI,e.sv,e)},t.prototype.initData=function(){this.zr()},t.prototype.removeEvent=function(){var e=this;e.replaceBtn.removeEventListener(eui.tep,e.jx,e),e.upstarBtn.removeEventListener(eui.tep,e.ai,e),e.intensifyBtn.removeEventListener(eui.tep,e.lq,e),e.lockBtn.removeEventListener(eui.tep,e.pc,e),e.explainBtn.removeEventListener(eui.tep,e.os,e),vkG.$r(UtJ.DV,e.ip,e),vkG.$r(UtJ.OI,e.sv,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.iw=e[0],n.zr())},t.prototype.qa=function(){for(var e=this,t=0;14>t;t++)e.txtArr[t].text="";if(e.ga=0,e.xf(e.yp,Color.SE,1),e.av.quality>=aKF.KY){var n=e.av.p6.length;if(n>=1)for(var i=void 0,t=0;n>t;t++)i=e.av.p6[t]+e.av.p3,e.xf(i,Color.YO,1)}e.lk()},t.prototype.xf=function(e,t,n){var i=this,r=XCA.YV(e);if(r){var a=void 0,o=void 0,s=void 0;for(a in xxf.UK)o=r[a]||0,o>0&&(i.txtArr[i.ga]&&(i.txtArr[i.ga].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[a],o)),2==n&&(s=App.XV.getExtraValue(e,o,i.datas.source),s>0&&(i.txtArr[i.ga].text+="(+"+Math.ceil(s)+")")),i.txtArr[i.ga].textColor=t),i.ga++);for(a in xxf.IM)o=r[a]||0,o&&(i.txtArr[i.ga]&&(i.txtArr[i.ga].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[a],(o/10).toFixed(1)+"%")),2==n&&(s=App.XV.getExtraValue(e,o,i.datas.source),s>0&&(i.txtArr[i.ga].text+="(+"+(s/10).toFixed(2)+"%)")),i.txtArr[i.ga].textColor=t),i.ga++)}},t.prototype.lk=function(){var e=this,t=e.av.p5,n=e.av.quality>=aKF.KY?MaxLevel.RUNE_GRADE:e.av.p3,i=App.XV.isGetAppendAttr(n),r=e.av.p5.length,a=App.XV.getOpenAppendAttrs(r);if(i>0)for(var o=0;i>o;o++)o<t[o]&&e.xf(t[o],Color.SQ,2);if(a.length>0)for(var o=i;o<a.length;o++)e.txtArr[e.ga]&&(e.txtArr[e.ga].textFlow=LgRe.OQ(fvg.GVf("skill079",a[o])),e.txtArr[e.ga].textColor=Color.KA),e.ga++},t.prototype.kg=function(e){GObj.$d(this)},t.prototype.jx=function(e){RunesBagPopUi.LU=1,App.VS.popup(10013,RunesBagPopUi,null,this.av.sonType)},t.prototype.ai=function(e){var t=this;return t.av.quality>=aKF.KY?void App.TT.show(fvg.GVf("skill077")):void App.VS.popup(10013,RunesUpstarPopUi,null,t.av)},t.prototype.lq=function(e){var t=this;return t.av.quality>=aKF.KY?void App.TT.show(fvg.GVf("skill078")):(App.XV.intensifyGoods=t.av,void App.VS.popup(10013,RunesIntensifyPopUi))},t.prototype.pc=function(e){var t=this;t.on?RuneMsgProxy.KW(2,t.ids):RuneMsgProxy.KT(2,t.ids)},Object.defineProperty(t.prototype,"ids",{get:function(){var e=[];return e.push(this.av.id),e},enumerable:!0,configurable:!0}),t.prototype.ip=function(e){var t=this;e&&e.indexOf(t.av.id)>=0&&t.zr()},t.prototype.sv=function(){for(var e=this,t=e.av.quality>=aKF.JN?!0:!1,n=e.av.p5.length,i=(App.XV.getOpenAppendAttrs(n),e.av.quality>=aKF.KY?MaxLevel.RUNE_GRADE:e.av.p3),r=App.XV.isGetAppendAttr(i),a=e.av.p5,o=[],s=0;r>s;s++)a[s]&&o.push(a[s]);var p=App.XV.searchDuplicateNumber(o),l=0;e.datas.source.length=0;for(var s=0;s<p.length;s++)p[s].count>1&&(e.datas.source.push(p[s]),l++);e.datas.refresh();var c;e.av.quality>=aKF.KY?c=10:(c=e.av.p1%10,e.av.p1>0&&0==c&&(c=10)),e.rj=t&&e.av.p3>=App.XV.getGrade(e.av)&&c>=e.starArr.length?!0:!1,t&&l>0?(e.infoGroup.visible=!0,e.noAttrTxt.visible=!1):(e.infoGroup.visible=!1,e.noAttrTxt.visible=!0)},t.prototype.dw=function(e){var t=this,n=e.TSF,i=e.p1;if(!t.starArr){t.starArr=[];for(var r=t.av.quality>=aKF.KY?MaxLevel.RUNE_STAR:n.p4,a=0;r>a;a++)t.starArr[a]=GObj.$c(eui.Image),t.starArr[a].x=23*a,t.starGroup.addChild(t.starArr[a])}var o=Math.ceil(i/2);o=0>=o?1:o;for(var s,p=(n.p3||0,XCA.CG(IDU.YH)),l=p.split("|"),c=0,a=0;a<t.starArr.length;a++)s=l[a].split(","),s&&i==parseInt(s[0])&&(c=parseInt(s[1]));var u=i%10;i>0&&0==u&&(u=10),t.av.quality>=aKF.KY&&(u=10,o=5);for(var a=0;a<t.starArr.length;a++)u>a?t.starArr[a].source=kLM.getBigStarPathByType(o):t.starArr[a].source=kLM.ZH()},t.prototype.zr=function(){if(this.CSo&&this.iw){for(var e=App.FK.LHp(6),t=e.length,n=0;t>n;n++)if(e[n].sonType==this.iw){this.av=e[n];break}this.goodItem.data=this.av,this.nameTxt.text=this.av.TSF.name,this.nameTxt.textColor=aKF.DU(this.av.quality);var i,r,a=this.av.p3,o=this.av.p2,s=o;if(this.av.quality>=aKF.KY)i=App.JP.getRuneSurmountGP(a),r=MaxLevel.RUNE_SURMOUNT_LEVEL,this.proTxt.text=fvg.GVf("public022",o,i),this.proBar.value=Math.min(int(o/i*100),100),this.nameTxt.textFlow=LgRe.OQ(fvg.GVf("skill104",this.av.TSF.name,a,MaxLevel.RUNE_SURMOUNT_LEVEL)),this.gradeTxt.visible=!1,this.expTxt.text=fvg.GVf("skill009");else{if(this.expTxt.text=fvg.GVf("3"),i=App.XV.getTotalExp(this.av),r=App.XV.getGrade(this.av),a>1){var p=int(i/20);p>s&&(s=p)}r>a&&(this.proTxt.text=fvg.GVf("public022",s,i),this.proBar.value=Math.min(int(s/i*100),100)),this.gradeTxt.text=fvg.GVf("skill066",a,App.XV.getGrade(this.av))}a>=r&&(this.proTxt.text=s+"/MAX",this.proBar.value=100),this.cpTxt.text=fvg.GVf("teamcopy15",App.XV.getAttCP(this.av,this.av.p3));var l=1==this.av.p4;this.on=l,this.on?(this.lockImg.visible=!0,this.lockBtn.label=fvg.GVf("skill067")):(this.lockImg.visible=!1,this.lockBtn.label=fvg.GVf("skill068"));var c=XCA.FR(this.av.tid);this.yp=c.p1,this.replaceBtn.icon=UsU.TE(this.av)?StaticData.GHj:null,this.dw(this.av),this.sv(),this.qa()}},t.prototype.os=function(){var e=GObj.$c(RunesDescPopUi);e.show()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.replaceBtn),t.replaceBtn=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proTxt),t.proTxt=null,GObj.$d(t.lockImg),t.lockImg=null;for(var n=0;12>n;n++)GObj.$d(t.txtArr[n]),t.txtArr[n]=null;GObj.$d(t.txtArr),t.txtArr=null,GObj.$d(t.lockBtn),t.lockBtn=null,GObj.$d(t.explainBtn),t.explainBtn=null,GObj.$d(t.noAttrTxt),t.noAttrTxt=null,t.infoGroup&&(t.infoGroup.dataProvider=null,GObj.$d(t.infoGroup)),t.infoGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RunesInfoPopUi.prototype,"RunesInfoPopUi");var RunesIntensifyItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RunesIntensifyItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.uo,e),e.addEventListener(eui.tep,e.eo,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.uo,e),e.removeEventListener(eui.tep,e.eo,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.data?(e.addImg.visible=!1,e.goodItem.data=e.data):(e.addImg.visible=!0,e.goodItem.data=null))},t.prototype.uo=function(){GObj.$d(this)},t.prototype.eo=function(e){App.XV.currBtn=2,App.VS.popup(10013,RunesChoosePopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.addImg),t.addImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RunesIntensifyItem.prototype,"RunesIntensifyItem");var RunesIntensifyPopUi=function(e){function t(){var t=e.call(this,"RunesIntensifyPopUi")||this;return t.aj=0,t.av=0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;App.XV.selectedGoods=[],e.lt=GObj.$c(egret.HtmlTextParser),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=RunesIntensifyItem,e.addBtn.label=fvg.GVf("skill064"),e.intensifyBtn.label=fvg.GVf("store001"),e.expTxt.text=fvg.GVf("3"),e.starGroup=GObj.$c(eui.Group),e.starGroup.x=108,e.starGroup.y=90,e.nd,e.addChild(e.starGroup),e.maxTxt.text=fvg.GVf("skill078"),e.frameGroup.title=fvg.GVf("store001"),e.goodItem.showNumTxt=!1},t.prototype.initEvent=function(){var e=this;e.addBtn.addEventListener(eui.tep,e.gs,e),e.intensifyBtn.addEventListener(eui.tep,e.ki,e),vkG.$a(UtJ.WE,e.rf,e),vkG.$a(UtJ.DV,e.fl,e)},t.prototype.removeEvent=function(){var e=this;e.addBtn.removeEventListener(eui.tep,e.gs,e),e.intensifyBtn.removeEventListener(eui.tep,e.ki,e),vkG.$r(UtJ.WE,e.rf,e),vkG.$r(UtJ.DV,e.fl,e)},t.prototype.initData=function(){var e=this;e.sm=App.XV.intensifyGoods,e.zf()},t.prototype.zf=function(){var e=this;if(e.CSo&&e.sm){e.goodItem.data=e.sm,e.nameTxt.text=e.sm.TSF.name,e.nameTxt.textColor=aKF.DU(e.sm.quality);var t=e.sm.p3,n=e.sm.p2,i=App.XV.getTotalExp(e.sm);e.xr(e.sm);var r=App.XV.selectedGoods.length;if(r>0)e.proBar.skinName=RRUU.$e("ProgressBarSkin_1");else{var a=App.XV.getGrade(e.sm);e.aj=a;var o=n;if(t>1){var s=int(i/20);s>o&&(o=s)}a>t?(e.proTxt.text=fvg.GVf("public022",o,i),e.proBar.value=Math.min(int(o/i*100),100)):(e.proTxt.text=o+"/MAX",e.proBar.value=100),e.gradeTxt.textFlow=e.lt.parser(fvg.GVf("skill086",Color.XB,t,e.aj)),e.cpTxt.textFlow=e.lt.parser(fvg.GVf("skill087",Color.XB,App.XV.getAttCP(e.sm,e.sm.p3))),e.av=t,t>=a&&n>=i?(e.maxTxt.visible=!0,e.addBtn.visible=!1,e.intensifyBtn.visible=!1,e.itemList.visible=!1,e.oh([])):(e.maxTxt.visible=!1,e.addBtn.visible=!0,e.intensifyBtn.visible=!0,e.itemList.visible=!0,e.oh(App.XV.selectedGoods)),e.proBar.skinName=RRUU.$e("ProgressBarSkin_1")}e.d_=e.sm.p2,void 0!=e.nd&&e.d_!=e.nd&&App.KB.showEffect(gYq.UQ),e.nd=e.d_}},t.prototype.lr=function(){var e=this,t=App.XV.selectedGoods.length,n=e.ys(e.sm),i=e.uy(App.XV.selectedGoods),r=App.XV.getTotalExp(e.sm);if(t>0){e.proBar.skinName=RRUU.$e("ProgressBarSkin_1");var a=i;if(n>1){var o=int(r/20);o>a&&(a=o)}n<e.aj?(e.proTxt.text=fvg.GVf("public022",a,r),e.proBar.value=Math.min(int(i/r*100),100)):(e.proTxt.text=i+"/MAX",e.proBar.value=100),e.gradeTxt.textFlow=e.lt.parser(fvg.GVf("skill086",Color.TX,n,e.aj)),e.cpTxt.textFlow=e.lt.parser(fvg.GVf("skill087",Color.TX,App.XV.getAttCP(e.sm,n)))}else e.proBar.skinName=RRUU.$e("ProgressBarSkin_1")},t.prototype.uy=function(e){for(var t,n=e.length,i=this.sm.p2,r=0;n>r;r++)t=e[r],i+=t.p2+t.TSF.p2;return i},t.prototype.ys=function(e){for(var t=this,n=t.uy(App.XV.selectedGoods),i=0,r=e.p3,a=e.TSF,o=a.p5,s=0,p=0;r<t.aj&&(s=int(r/50),p=50*(1+s)*s/2+(r-50*s)*(1+s),i=int(o*Math.pow(p,1.1)),!(i>n));r++);return t.av=r,r},t.prototype.rf=function(e){var t=this;3==e&&(t.lr(),t.oh(App.XV.selectedGoods),t.zf())},t.prototype.oh=function(e){var t=this;t.datas.source.splice(0,t.datas.source.length);for(var n=e.length||0,i=0;10>i;i++)n>i?t.datas.source.push(e[i]):t.datas.source.push(null);t.datas.refresh()},t.prototype.xr=function(e){var t=this,n=e.TSF,i=e.p1;if(!t.starArr){t.starArr=[];for(var r=0;r<n.p4;r++)t.starArr[r]=GObj.$c(eui.Image),t.starArr[r].x=25*r,t.starGroup.addChild(t.starArr[r])}var a=Math.ceil(i/2);a=0>=a?1:a;var o=i%10;i>0&&0==o&&(o=10);for(var r=0;r<t.starArr.length;r++)o>r?t.starArr[r].source=kLM.getBigStarPathByType(a):t.starArr[r].source=kLM.ZH()},t.prototype.vh=function(e){GObj.$d(this)},t.prototype.kq=function(){for(var e,t=0,n=App.XV.allRunesList,i=n.length,r=[],a=0;i>a;a++)e=n[a],2==e.p4&&e.quality<this.sm.quality&&r.push(e);r.sort(App.XV.sortRuneArray);for(var o=r.length,s=0;o>s&&!(App.XV.selectedGoods.length>=10);s++)-1==App.XV.selectedGoods.indexOf(r[s])&&(App.XV.selectedGoods.push(r[s]),t++);return t},t.prototype.gs=function(e){var t=this;if(App.XV.selectedGoods.length>=10)return void App.TT.show(fvg.GVf("skill081"));var n=t.kq();0==n?MessageTipManager.instance.show(fvg.GVf("skill080")):(t.oh(App.XV.selectedGoods),vkG.$d(UtJ.WE,3))},t.prototype.ki=function(e){var t=this;if(0==App.XV.selectedGoods.length)return void MessageTipManager.instance.show(fvg.GVf("skill074"));if(t.aj==t.av){var n=fvg.GVf("skill083");return void Alert.WK(n,null,null,t.zw,t)}if(t.ri()){var n=fvg.GVf("skill088");return void Alert.WK(n,null,null,t.zw,t)}if(t.fd(t.sm)){var n=fvg.GVf("skill082");return void Alert.WK(n,null,null,t.zw,t)}t.zw()},t.prototype.zw=function(){var e=this,t=1==e.sm.btype?1:2,n=App.XV.getIds(App.XV.selectedGoods);RuneMsgProxy.CP(t,e.sm.id,n)},t.prototype.ri=function(){for(var e=App.XV.selectedGoods.length,t=App.XV.selectedGoods,n=0;e>n;n++)if(t[n].p1>t[n].quality)return!0;return!1},t.prototype.fd=function(e){var t=[];t=App.XV.selectedGoods;var n=t.length;if(e&&n>0)for(var i=0;n>i;i++)if(e.quality<t[i].quality)return!0;return!1},t.prototype.fl=function(e){var t=this;e&&e.indexOf(t.sm.id)>=0&&(App.XV.selectedGoods=[],t.zf())},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proTxt),t.proTxt=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RunesIntensifyPopUi.prototype,"RunesIntensifyPopUi");var RunesResolveItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RunesResolveItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wi=[],e.goodItem.showNumTxt=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._r,e),e.addEventListener(eui.tep,e.jy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._r,e),e.removeEventListener(eui.tep,e.jy,e)},t.prototype.intData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.yo=e.data,e.goodItem.data=e.yo;var t=e.yo.p1,n=Math.ceil(t/2);n=0>=n?1:n,e.starImg.source=kLM.getBigStarPathByType(n),e.starTxt.text=t.toString();var i=e.yo.TSF.name,r=aKF.DU(e.data.quality);if(e.nameTxt.text=i,e.nameTxt.textColor=r,e.levelTxt.text=fvg.GVf("public028",e.yo.p3),e.selectBtn.selected=!1,e.wi=App.XV.selectedRunesList,e.wi)for(var a=0;a<e.wi.length;a++)e.yo.id==e.wi[a].id&&(e.selectBtn.selected=!0)}},t.prototype.jy=function(e){var t=this;if(t.selectBtn.selected){for(var n=0;n<App.XV.selectedRunesList.length;n++)t.data.id==App.XV.selectedRunesList[n].id&&App.XV.selectedRunesList.splice(n,1);t.selectBtn.selected=!1}else App.XV.addSelectedRune(t.data),t.selectBtn.selected=!0;vkG.$d(UtJ.VP,t)},t.prototype._r=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.yo),t.yo=null,GObj.$d(t.starImg),t.starImg=null,GObj.$d(t.starTxt),t.starTxt=null,GObj.$d(t.selectBtn),t.selectBtn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RunesResolveItem.prototype,"RunesResolveItem");var RunesUpstarItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("RunesUpstarItemSkin");return t.skinName=n,t.touchEnabled=!0,t}return __extends(t,e),t.prototype.initView=function(){this.goodItem.showNumTxt=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sx,e),e.addEventListener(eui.tep,e.pq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sx,e),e.removeEventListener(eui.tep,e.pq,e)},t.prototype.intData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ka=e.data.goods,e.goodItem.data=e.ka;var t=e.ka.p1,n=Math.ceil(t/2);n=0>=n?1:n,e.starImg.source=kLM.getBigStarPathByType(n),e.starTxt.text=t.toString(),e.selectBtn.selected=e.data.selected}},t.prototype.pq=function(e){var t=this;return!t.data.selected&&App.XV.isFullStar?void App.TT.show(fvg.GVf("skill084")):(t.data.selected=!t.data.selected,App.XV.starGoods=t.data,t.selectBtn.selected=t.data.selected,void vkG.$d(UtJ.WE,1))},t.prototype.sx=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RunesUpstarItem.prototype,"RunesUpstarItem");var RunesUpstarPopUi=function(e){function t(){var t=e.call(this,"RunesUpstarPopUi")||this;return t.ls=0,t.gu=0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;App.XV.isFullStar=!1,e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=RunesUpstarItem,e.fi=[],e.upstarBtn.label=fvg.GVf("store042"),e.starGroup=GObj.$c(eui.Group),e.starGroup.x=105,e.starGroup.y=85,e.addChild(e.starGroup),e.maxTxt.text=fvg.GVf("skill077"),e.ra=XCA.CG(IDU.YH),e.cf=e.ra.split("|"),e.frameGroup.title=fvg.GVf("store042"),e.goodItem.showNumTxt=!1,e.un()},t.prototype.initEvent=function(){var e=this;e.upstarBtn.addEventListener(eui.tep,e.mn,e),vkG.$a(UtJ.DV,e.qe,e),vkG.$a(UtJ.WE,e.en,e)},t.prototype.removeEvent=function(){var e=this;e.upstarBtn.removeEventListener(eui.tep,e.mn,e),vkG.$r(UtJ.DV,e.qe,e),vkG.$r(UtJ.WE,e.en,e)},t.prototype.initData=function(){},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ko=e[0],n.un())},t.prototype.un=function(){var e=this;if(e.CSo&&e.ko){var t=e.ko.TSF;e.goodItem.data=e.ko,e.nameTxt.text=t.name,e.nameTxt.textColor=aKF.DU(e.ko.quality);var n=e.ko.p3;e.gradeTxt.text=fvg.GVf("skill066",n,App.XV.getGrade(e.ko)),e.cpTxt.text=fvg.GVf("teamcopy15",App.XV.getAttCP(e.ko,e.ko.p3)),e.ko.p1>=t.p4?(e.maxTxt.visible=!0,e.infoGroup.visible=!1,e.nextStarGroup.visible=!1,e.currGroup.x=170,e.currgradeTxt.x=140):(e.maxTxt.visible=!1,e.infoGroup.visible=!0,e.nextStarGroup.visible=!0,e.currGroup.x=110,e.currgradeTxt.x=30),e.gu=e.ko.p1,e.sv&&e.sv!=e.gu&&App.KB.showEffect(gYq.UQ),e.sv=e.gu,e.bn(e.ko),e.xa()}},t.prototype.qe=function(e){var t=this;e&&e.indexOf(t.ko.id)>=0&&t.un()},t.prototype.xa=function(){for(var e=this,t=App.XV.allRunesList,n=t.length,i=[],r=0;n>r;r++)2==t[r].p4&&e.ko.tid==t[r].tid&&e.ko.id!=t[r].id&&i.push({goods:t[r],selected:!1});e.datas.replaceAll(i),e.tg||e.datas.refresh(),e.tg=!0},t.prototype.en=function(e){1==e&&this.cjo()},t.prototype.cjo=function(){for(var e,t=this,n=[],i=t.ko.TSF.p4,r=t.datas.length,a=0;r>a;a++)t.datas.source[a].selected&&(e=t.datas.source[a].goods,n.push(e));var o=n.length;t.hy=o>0?t.dl(n):t.ko.p1;var s=t.hy>=i?i:t.hy;App.XV.isFullStar=t.hy>=i;var p=t.qx(s);t.nextStarTxt.text=s.toString(),t.nextStarTxt.textColor=t.ko.p1<s?Color.TX:Color.XB,t.nextgradeTxt.text=p.toString(),t.nextgradeTxt.textColor=t.qx(e.p1)<p?Color.TX:Color.XB;var l=Math.ceil(s/2);l=0>=l?1:l,t.nextImg.source=kLM.getBigStarPathByType(l)},t.prototype.dl=function(e){for(var t,n,i=e.length,r=this.ko.p1,a=0;i>a;a++)n=e[a],t=e[a].TSF,r+=n.p1-t.p3+1;return r},t.prototype.bn=function(e){var t=this,n=e.TSF;t.ls=n.p4;var i=e.p1;if(!t.starArr){t.starArr=[];for(var r=0;r<n.p4;r++)t.starArr[r]=GObj.$c(eui.Image),t.starArr[r].x=27*r,t.starGroup.addChild(t.starArr[r])}var a=Math.ceil(i/2);a=0>=a?1:a;var o=Math.ceil(i/2);o=0>=o?1:o,t.currImg.source=kLM.getBigStarPathByType(a),t.nextImg.source=kLM.getBigStarPathByType(o),t.currStarTxt.text=i.toString(),t.nextStarTxt.text=i.toString();var s=t.qx(i);t.currgradeTxt.text=fvg.GVf("skill071",s),t.nextgradeTxt.text=s.toString();for(var r=0;r<t.starArr.length;r++)i>r?t.starArr[r].source=kLM.getBigStarPathByType(a):t.starArr[r].source=kLM.ZH()},t.prototype.qx=function(e){for(var t,n=this,i=0,r=0;r<n.cf.length;r++)t=n.cf[r].split(","),t&&e==parseInt(t[0])&&(i=parseInt(t[1]));return i},t.prototype.ee=function(e){GObj.$d(this)
},t.prototype.mn=function(e){var t=this;if(0==t.datas.length)return void MessageTipManager.instance.show(fvg.GVf("skill072"));t.fi.length=0;for(var n=0;n<t.datas.length;n++)t.datas.source[n].selected&&t.fi.push(t.datas.source[n].goods.id);if(0==t.fi.length)return void MessageTipManager.instance.show(fvg.GVf("skill073"));if(t.ls<t.hy){var i=fvg.GVf("skill085");return void Alert.WK(i,null,null,t.lx,t)}t.lx()},t.prototype.lx=function(){var e=this,t=1==e.ko.btype?1:2;RuneMsgProxy.KK(t,e.ko.id,e.fi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.currgradeTxt),t.currgradeTxt=null,GObj.$d(t.nextgradeTxt),t.nextgradeTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RunesUpstarPopUi.prototype,"RunesUpstarPopUi");var RuneSurmountPopUi=function(e){function t(){var t=e.call(this,"RuneSurmountPopUi")||this;return t.ld=!1,t.lj=!1,t.skinName=RRUU.$s("RuneSurmountPopUi"),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("skill101"),e.txtArr=[],e.tt=GObj.$c(kQr),e.oy=GObj.$c(nlwj),e.expTitlelbl.text=fvg.GVf("public078");for(var t=1;10>=t;t++)this["wheelTxt_"+t].text=fvg.GVf("skill"+t),e.txtArr.push(this["wheelTxt_"+t]);for(var t=1;10>=t;t++)e.tt.cwA(this["wheelItem_"+t]);e.upgradeBtn.label=fvg.GVf("skill009"),e.oneKeyBtn.label=fvg.GVf("skill103"),e.descTxt.text=fvg.GVf("skill100"),e.maxTxt.text=fvg.GVf("skill105"),e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=35,e.addChild(e.fightView),e.currGoods.showNumTxt=!1},t.prototype.initData=function(){this.tt.selectedIndex=7},t.prototype.initEvent=function(){var e=this;e.tt.addEventListener(egret.Event.CHANGE,e.bu,e),e.upgradeBtn.addEventListener(eui.tep,e.vk,e),e.oneKeyBtn.addEventListener(eui.tep,e.qw,e),vkG.$a(UtJ.DV,e.ny,e)},t.prototype.removeEvent=function(){var e=this;e.tt.removeEventListener(egret.Event.CHANGE,e.bu,e),e.upgradeBtn.removeEventListener(eui.tep,e.vk,e),e.oneKeyBtn.removeEventListener(eui.tep,e.qw,e),vkG.$r(UtJ.DV,e.ny,e)},t.prototype.bu=function(e){var t=this,n=t.tt.LuO,i=n.runeItem,r=i.goodsInfo;if(t.oy=null,r)t.oy=r,t.currGoods.visible=!0,t.ny();else{t.surmountGroup.visible=!1,t.currGoods.visible=!1,t.descTxt.visible=!0,t.currGoods.data=null,t.currNameTxt.text="",t.expTxt.text="",t.expProg.visible=!1,t.expTitlelbl.visible=!1,t.upGroup.visible=!1,t.oneKeyGroup.x=200,t.oneKeyGroup.visible=!1,t.ug=App.FK.hsx(StaticData.TID_RUNE_ID),t.oz=App.JP.getRuneSurmountGP(0);var a=t.oz/10;t.haveTxt.text=fvg.GVf("beauty17",t.ug,a),t.haveTxt.textColor=t.ug>=a?Color.TX:Color.KA,t.fightView.fightNum=0}},t.prototype.wb=function(){var e=this;if(e.oy&&!(e.oy.tid<=0)){e.currGoods.data=e.oy,e.currNameTxt.text=e.oy.TSF.name,e.NameTxt.text=e.oy.TSF.name;var t;e.oy.quality?t=10:(t=e.oy.p1%10,e.oy.p1>0&&0==t&&(t=10));var n;e.oy.TSF.p6&&(n=GObj.$c(nlwj),n.tid=e.oy.TSF.p6);var i=n?n:e.oy,r=(App.XV.getGrade(e.oy),e.oy.p3>MaxLevel.RUNE_SURMOUNT_LEVEL?0:e.oy.p3);e.nextNameTxt.text=fvg.GVf("skill004",i.TSF.name,r+1),e.oz=App.JP.getRuneSurmountGP(r);var a=e.oy.p2?e.oy.p2:0;if(e.oy.quality>=aKF.KY&&(e.currNameTxt.text=fvg.GVf("skill004",e.oy.TSF.name,r),e.NameTxt.text=fvg.GVf("skill004",e.oy.TSF.name,r)),e.ld=e.oy.quality==aKF.PU&&e.oy.p3>=MaxLevel.RUNE_GRADE,e.ld?(e.surmountGroup.visible=!0,e.descTxt.visible=!1,e.currGroup.visible=!1,e.oneKeyGroup.visible=!0):(e.surmountGroup.visible=!1,e.currGroup.visible=!0,e.descTxt.visible=!0,e.oneKeyGroup.visible=!1),r<MaxLevel.RUNE_SURMOUNT_LEVEL?(e.expTxt.text=fvg.GVf("public022",a,e.oz),e.expProg.value=Math.min(int(a/e.oz*100),100),e.maxTxt.visible=!1):(e.expTxt.text=a+"/MAX",e.expProg.value=100,e.nextAttrTxt_1.text="",e.nextAttrTxt_2.text="",e.maxTxt.visible=!0,e.nextNameTxt.text=""),e.oy.quality<=aKF.PU){e.expTxt.text="",e.expProg.visible=!1,e.expTitlelbl.visible=!1,e.upGroup.visible=!1,e.oneKeyGroup.x=200,e.oneKeyBtn.label=fvg.GVf("skill009");var o=e.oz/10;e.haveTxt.text=fvg.GVf("beauty17",e.ug,o),e.haveTxt.textColor=e.ug>=o?Color.TX:Color.KA}else e.upGroup.visible=!0,e.oneKeyGroup.x=270,e.oneKeyBtn.label=fvg.GVf("skill103"),e.expProg.visible=!0,e.expTitlelbl.visible=!0,e.upGroup.visible=!0,e.oneKeyGroup.visible=!0,e.descTxt.visible=!1,e.surmountGroup.visible=!0,e.currGroup.visible=!1;if(e.currAttrTxt_1.text="",e.currAttrTxt_2.text="",e.nextAttrTxt_1.text="",e.nextAttrTxt_2.text="",e.currAttrTxt_1.text=LRJ.KG(e.oy.TSF.p1+e.oy.p3),e.currAttrTxt_2.y=e.currAttrTxt_1.y+e.currAttrTxt_1.height+3,e.oy.p3<MaxLevel.RUNE_SURMOUNT_LEVEL&&(e.nextAttrTxt_1.text=LRJ.KG(e.oy.TSF.p1+e.oy.p3+1)),e.oy.quality<=aKF.PU&&(e.nextAttrTxt_1.text=LRJ.KG(i.TSF.p1+1)),e.nextAttrTxt_2.y=e.nextAttrTxt_1.height?e.nextAttrTxt_1.y+e.nextAttrTxt_1.height+3:e.nextAttrTxt_1.y,e.oy.quality>aKF.PU){var s=e.oy.p6.length;if(s>0)for(var p=void 0,l=void 0,c=0;s>c;c++)p=e.oy.p6[c]+e.oy.p3,e.currAttrTxt_2.text+=LRJ.KG(p)+"\n",e.oy.p3+1<=MaxLevel.RUNE_SURMOUNT_LEVEL&&(l=e.oy.p6[c]+e.oy.p3+1,e.nextAttrTxt_2.text+=LRJ.KG(l)+"\n");e.nextAttrTxt_2.textColor=Color.SQ}else e.oy.sonType==Iwrv.TR||e.oy.sonType==Iwrv.WDL||e.oy.sonType==Iwrv.EE?(e.nextAttrTxt_2.text=fvg.GVf("skill107"),e.nextAttrTxt_2.text+="\n"+fvg.GVf("skill107")):e.nextAttrTxt_2.text=fvg.GVf("skill108"),e.nextAttrTxt_2.textColor=Color.SQ;var u=App.XV.getAttCP(e.oy,e.oy.p3);e.fightView.fightNum=u,e.upgradeBtn.icon=UsU.MG(e.oy)?StaticData.GHj:null,e.oneKeyBtn.icon=UsU.MG(e.oy)?StaticData.GHj:null}},t.prototype.ny=function(){var e=this;if(e.CSo&&e.oy&&!(e.oy.tid<=0)){e.ug=App.FK.hsx(StaticData.TID_RUNE_ID),e.needTxt.text=fvg.GVf("public022",e.ug,1),e.needTxt.textColor=e.ug>=1?Color.TX:Color.KA,e.haveTxt.text=e.ug+"",e.haveTxt.textColor=e.ug>=1?Color.TX:Color.KA;for(var t,n=App.FK.LHp(6),i=n.length,r=0;i>r;r++)t=n[r],t.sonType==e.oy.sonType&&(e.oy=t);if(e.wb(),!e.oy||e.oy.tid<=0){e.oz=App.JP.getRuneSurmountGP(0);var a=e.oz/10;e.haveTxt.text=fvg.GVf("beauty17",e.ug,a),e.haveTxt.textColor=e.ug>=a?Color.TX:Color.KA,e.fightView.fightNum=0}}},t.prototype.vk=function(e){var t=this,n=1==t.oy.btype?1:2;if(t.oy.quality<aKF.KY){if(t.oy.p3<MaxLevel.RUNE_GRADE)return void App.TT.show(fvg.GVf("skill096"));if(t.oz=App.JP.getRuneSurmountGP(0),t.ug<t.oz/10)return void _JDW.TR(StaticData.TID_RUNE_ID)}if(t.ug<1)return void _JDW.TR(StaticData.TID_RUNE_ID);if(t.oy.quality<aKF.KY)RuneMsgProxy.VW(t.oy.id,n);else{if(t.oy.p3>=MaxLevel.RUNE_SURMOUNT_LEVEL&&t.oy.quality>=aKF.KY)return void App.TT.show(fvg.GVf("skill105"));RuneMsgProxy.OX(1,t.oy.id,n)}},t.prototype.qw=function(e){var t=this,n=1==t.oy.btype?1:2;if(t.oy.quality<aKF.KY){if(t.oy.p3<MaxLevel.RUNE_GRADE)return void App.TT.show(fvg.GVf("skill096"));if(t.oz=App.JP.getRuneSurmountGP(0),t.ug<t.oz/10)return void _JDW.TR(StaticData.TID_RUNE_ID)}if(t.ug<1)return void _JDW.TR(StaticData.TID_RUNE_ID);if(t.oy.quality<aKF.KY)RuneMsgProxy.VW(t.oy.id,n);else{if(t.oy.p3>=MaxLevel.RUNE_SURMOUNT_LEVEL&&t.oy.quality>=aKF.KY)return void App.TT.show(fvg.GVf("skill105"));RuneMsgProxy.OX(2,t.oy.id,n)}},t.prototype.wh=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent();for(var n=0;10>n;n++)GObj.$d(t.txtArr[n]),t.txtArr[n]=null,GObj.$d(t.tt[n]),t.tt[n]=null;GObj.$d(t.txtArr),t.txtArr=null,GObj.$d(t.tt),t.tt=null,GObj.$d(t.currNameTxt),t.currNameTxt=null,GObj.$d(t.NameTxt),t.NameTxt=null,GObj.$d(t.nextNameTxt),t.nextNameTxt=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,GObj.$d(t.nextAttrTxt_2),t.nextAttrTxt_2=null,GObj.$d(t.expProg),t.expProg=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.currGoods),t.currGoods=null,GObj.$d(t.oy),t.oy=null,GObj.$d(t.currGroup),t.currGroup=null,GObj.$d(t.surmountGroup),t.surmountGroup=null,GObj.$d(t.expTitlelbl),t.expTitlelbl=null,GObj.$d(t.upGroup),t.upGroup=null,GObj.$d(t.oneKeyGroup),t.oneKeyGroup=null,GObj.$d(t.maxTxt),t.maxTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RuneSurmountPopUi.prototype,"RuneSurmountPopUi");var RuneSynthesisItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("RuneSynthesisItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.hi,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.goodItem.data=e.data;var t=e.data.TSF.name,n=aKF.DU(e.data.quality);e.nameTxt.text=t,e.nameTxt.textColor=n}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.hi,e)},t.prototype.hi=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(RuneSynthesisItem.prototype,"RuneSynthesisItem");var RuneSynthesisPopUi=function(e){function t(){var t=e.call(this,"RuneSynthesisPopUi")||this;return t.lv=0,t.jt=0,t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("skill051"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=RuneSynthesisItem,e.nz=[],e.oneBtn.label=fvg.GVf("skill057"),e.tenBtn.label=fvg.GVf("skill058"),e.advancedBtn.label=fvg.GVf("skill059"),e.superBtn.label=fvg.GVf("skill060"),e.smaicon1.goodsTid=StaticData.TID_RUNE_ID,e.smaicon2.goodsTid=StaticData.TID_RUNE_ID,e.smaicon3.goodsTid=StaticData.TID_GOODS_38,e.smaicon4.goodsTid=StaticData.TID_GOODS_38,e.vc||(e.vc=GObj.$c(MovieEffect),e.vc.touchEnabled=e.vc.touchChildren=!1,e.vc.x=237,e.vc.y=325),e.vc.play(gYq.JV),e.addChildAt(e.vc,2),e.lv=App.XT.vipInfo.vipGrade;var t=App.XV.getConsumptionCount();e.pd=t[0],e.lz=t[1],e.xz()},t.prototype.initEvent=function(){var e=this;e.oneBtn.addEventListener(eui.tep,e.yp,e),e.tenBtn.addEventListener(eui.tep,e.gz,e),e.advancedBtn.addEventListener(eui.tep,e.gm,e),e.superBtn.addEventListener(eui.tep,e.on,e),e.buyItemBtn.addEventListener(eui.tep,e.lq,e),vkG.$a(UtJ.FD,e.bi,e),vkG.$a(UtJ.UN,e.kk,e),vkG.$a(UtJ.DV,e.xz,e)},t.prototype.initData=function(){this.bi()},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e.yp,e),e.tenBtn.removeEventListener(eui.tep,e.gz,e),e.advancedBtn.removeEventListener(eui.tep,e.gm,e),e.superBtn.removeEventListener(eui.tep,e.on,e),e.buyItemBtn.removeEventListener(eui.tep,e.lq,e),vkG.$r(UtJ.FD,e.bi,e),vkG.$r(UtJ.UN,e.kk,e),vkG.$r(UtJ.DV,e.xz,e)},t.prototype.lq=function(){var e=App.IQ.getShopGoodsByTypeAndId(9,StaticData.TID_GOODS_38);if(e){var t=GObj.$c(BuyPopUi);t.showDetail(e)}},t.prototype.xz=function(){var e=this;e.al=App.FK.hsx(StaticData.TID_RUNE_ID),e.countTxt_1.text=fvg.GVf("public022",e.al,e.pd),e.countTxt_2.text=fvg.GVf("public022",e.al,10*e.pd),e.al<e.pd?(e.countTxt_1.textColor=Color.KA,e.countTxt_2.textColor=Color.KA,e.oneBtn.icon=null,e.tenBtn.icon=null):e.al>=e.pd&&e.al<10*e.pd?(e.countTxt_1.textColor=Color.TX,e.countTxt_2.textColor=Color.KA,e.oneBtn.icon=StaticData.GHj,e.tenBtn.icon=null):(e.countTxt_1.textColor=Color.TX,e.countTxt_2.textColor=Color.TX,e.oneBtn.icon=StaticData.GHj,e.tenBtn.icon=StaticData.GHj);var t=App.FK.hsx(StaticData.TID_GOODS_38);e.countTxt_3.text=fvg.GVf("public022",t,1),e.countTxt_4.text=fvg.GVf("public022",t,10),1>t?(e.countTxt_3.textColor=Color.KA,e.countTxt_4.textColor=Color.KA,e.advancedBtn.icon=null,e.superBtn.icon=null):10>t?(e.countTxt_3.textColor=Color.TX,e.countTxt_4.textColor=Color.KA,e.advancedBtn.icon=StaticData.GHj,e.superBtn.icon=null):(e.countTxt_3.textColor=Color.TX,e.countTxt_4.textColor=Color.TX,e.advancedBtn.icon=StaticData.GHj,e.superBtn.icon=StaticData.GHj)},t.prototype.vj=function(){GObj.$d(this)},t.prototype.yp=function(e){var t=this,n=GApp.timer;return n-t.jt<1500?void MessageTipManager.instance.show(fvg.GVf("store003")):(t.jt=n,void(t.al<t.pd?_JDW.TR(StaticData.TID_RUNE_ID):(RuneMsgProxy.HS(1,1),t.xc(),App.XV.clearSynthesisInfo())))},t.prototype.gz=function(e){var t=this,n=GApp.timer;return n-t.jt<1500?void MessageTipManager.instance.show(fvg.GVf("store003")):(t.jt=n,void(t.al<10*t.pd?_JDW.TR(StaticData.TID_RUNE_ID):(RuneMsgProxy.HS(1,10),t.xc(),App.XV.clearSynthesisInfo())))},t.prototype.gm=function(e){var t=this;if(IoG.EZ())return void msgTip(fvg.GVf("public101"));var n=GApp.timer;if(n-t.jt<1500)return void MessageTipManager.instance.show(fvg.GVf("store003"));t.jt=n;var i=App.FK.hsx(StaticData.TID_GOODS_38);if(i)t.le(1);else{if(!(App.KF.point<t.lz))return void Alert.WK(fvg.GVf("shop03",t.lz,1),null,null,t.le,this,[1]);var r=fvg.GVf("wealthDish03");Alert.WK(r,null,null,t.be,t)}},t.prototype.le=function(e){RuneMsgProxy.HS(2,e),this.xc(),App.XV.clearSynthesisInfo()},t.prototype.on=function(e){var t=this;if(IoG.EZ())return void msgTip(fvg.GVf("public101"));var n=GApp.timer;if(n-t.jt<1500)return void MessageTipManager.instance.show(fvg.GVf("store003"));t.jt=n;var i=App.FK.hsx(StaticData.TID_GOODS_38);if(10>i){var r=10-i;if(!(App.KF.point<t.lz*r))return void Alert.WK(fvg.GVf("shop03",t.lz*r,r),null,null,t.le,this,[10]);var a=fvg.GVf("wealthDish03");Alert.WK(a,null,null,t.be,t)}else RuneMsgProxy.HS(2,10),t.xc(),App.XV.clearSynthesisInfo()},t.prototype.be=function(){this.vj(),App.VS.open(10089)},t.prototype.bi=function(){this.descTxt_1.textFlow=LgRe.OQ(fvg.GVf("skill062",App.XV.runeCount)),this.descTxt_2.textFlow=LgRe.OQ(fvg.GVf("skill063",App.XV.pointCount))},t.prototype.kk=function(){this.nz=App.XV.synthesisGoodsList},t.prototype.xc=function(){var e=this;e.lo=App.KB.getUIEffect(gYq.SY,100,1),e.lo.x=35,e.lo.y=65,e.lo.play(1),e.addChild(e.lo),e.lo.addEventListener(egret.Event.COMPLETE,e.ii,e)},t.prototype.ii=function(e){var t=this;t.kk();var n=t.nz.length;if(t.lo&&t.lo.parent){if(t.lo.removeEventListener(egret.Event.COMPLETE,t.ii,t),t.removeChild(t.lo),10==n){t.datas.source.splice(0,t.datas.source.length);for(var i=0;n>i;i++)t.datas.source[i]=t.nz[i];if(t.datas.refresh(),t.itemGroup){var r=egret.Tween.get(t.itemGroup);r.to({visible:!0,alpha:1},100),r.wait(1500).to({alpha:0,visible:!1},400)}}if(1==n&&t.goodItem){t.goodItem.data=t.nz[0];var r=egret.Tween.get(t.goodItem);r.to({visible:!0,alpha:1},100),r.wait(1500).to({alpha:0,visible:!1},400)}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.advancedBtn),t.advancedBtn=null,GObj.$d(t.superBtn),t.superBtn=null,GObj.$d(t.countTxt_1),t.countTxt_1=null,GObj.$d(t.countTxt_2),t.countTxt_2=null,GObj.$d(t.countTxt_3),t.countTxt_3=null,GObj.$d(t.countTxt_4),t.countTxt_4=null,GObj.$d(t.vc),t.vc=null,egret.Tween.removeTweens(t.goodItem),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.buyItemBtn),t.buyItemBtn=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,GObj.$d(t.smaicon3),t.smaicon3=null,GObj.$d(t.smaicon4),t.smaicon4=null,egret.Tween.removeTweens(t.itemGroup),t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(RuneSynthesisPopUi.prototype,"RuneSynthesisPopUi");var RuneView=function(e){function t(){var t=e.call(this,"RuneView")||this;return t.skinName=RRUU.$s("RuneView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fightView=GObj.$c(FightView),e.fightView.x=125,e.fightView.y=1,e.addChild(e.fightView),e.txtArr=[],e.itemArr=[];for(var t=1;10>=t;t++)this["wheelTxt_"+t].text=fvg.GVf("skill"+t),e.txtArr.push(this["wheelTxt_"+t]);for(var t=1;10>=t;t++)e.itemArr.push(this["wheelItem_"+t]);e.synthesisBtn.label=fvg.GVf("skill051"),e.bagBtn.label=fvg.GVf("skill052"),e.resolveBtn.label=fvg.GVf("skill053"),e.surmountBtn.label=fvg.GVf("skill101")},t.prototype.initEvent=function(){var e=this;e.proficientBtn.addEventListener(eui.tep,e.ud,e),e.synthesisBtn.addEventListener(eui.tep,e.yn,e),e.bagBtn.addEventListener(eui.tep,e.wf,e),e.resolveBtn.addEventListener(eui.tep,e.nz,e),e.surmountBtn.addEventListener(eui.tep,e.ky,e),vkG.$a(UtJ.DV,e.aw,e)},t.prototype.initData=function(){this.yl()},t.prototype.removeEvent=function(){var e=this;e.proficientBtn.removeEventListener(eui.tep,e.ud,e),e.synthesisBtn.removeEventListener(eui.tep,e.yn,e),e.bagBtn.removeEventListener(eui.tep,e.wf,e),e.resolveBtn.removeEventListener(eui.tep,e.nz,e),e.surmountBtn.removeEventListener(eui.tep,e.ky,e),vkG.$r(UtJ.DV,e.aw,e)},t.prototype.yl=function(){var e=this;e.bagBtn.fullImg.visible=App.XV.allRunesList.length>=100;var t=e.qp();e.synthesisBtn.icon=UsU.VI()?StaticData.GHj:null,e.bagBtn.icon=UsU.BD()?StaticData.GHj:null,e.surmountBtn.icon=UsU.TZ()?StaticData.GHj:null,e.fightView.fightNum=t},t.prototype.aw=function(e){e&&e.length>0&&this.yl()},t.prototype.qp=function(){var e=0,t=XCA.AQS.UFA(25,1,App.XV.runegrade);if(t){var n=t.attrid,i=XCA.YV(n);e=i.p1}for(var r=App.FK.LHp(6),a=r.length,o=0,s=0;a>s;s++)o+=App.XV.getAttCP(r[s],r[s].p3);return o+=e},t.prototype.nz=function(e){App.VS.popup(10013,RuneResolvePopUi)},t.prototype.ud=function(e){App.VS.popup(10013,RuneProficientPopUi)},t.prototype.yn=function(e){App.VS.popup(10013,RuneSynthesisPopUi)},t.prototype.wf=function(e){RunesBagPopUi.LU=0,App.VS.popup(10013,RunesBagPopUi)},t.prototype.ky=function(e){App.VS.popup(10013,RuneSurmountPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent();for(var n=0;10>n;n++)GObj.$d(t.txtArr[n]),t.txtArr[n]=null;GObj.$d(t.txtArr),t.txtArr=null,GObj.$d(t.itemArr),t.itemArr=null,GObj.$d(t.proficientBtn),t.proficientBtn=null,GObj.$d(t.synthesisBtn),t.synthesisBtn=null,GObj.$d(t.bagBtn),t.bagBtn=null,GObj.$d(t.surmountBtn),t.surmountBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(RuneView.prototype,"RuneView");var SkillDetailsItemRenderer=function(e){function t(){var t=e.call(this)||this;t.skinComplete=!1;var n=RRUU.$s("SkillDetailsItemRendererSkin");return t.once(eui.UIEvent.COMPLETE,t.__skinCompleteHandler,t),t.skinName=n,t}return __extends(t,e),t.prototype.__skinCompleteHandler=function(e){var t=this;t.skinComplete=!0,t.initView(),t.initEvent()},t.prototype.initView=function(){var e=this;e.levelTxt.text="",e.attrTxt.text="",e.stateTxt.text=""},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ma,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ma,e)},t.prototype.ma=function(e){this.dispose()},t.prototype.dataChanged=function(){var e=this;if(e.skinComplete){var t=e.data.split(",");if(!(t.length<4)){var n=fvg.GVf("public007");e.levelTxt.text=fvg.GVf("skill001",n.split(",")[t[0]]);var i,r=XCA.YV(parseInt(t[2]));if(r){for(i in xxf.UK)r[i]&&(this.attrTxt.textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[i],r[i])));for(i in xxf.IM)r[i]&&(this.attrTxt.textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[i],(r[i]/10).toFixed(1)+"%")))}var a=parseInt(t[1]),o=parseInt(t[3]);o>=a?(e.stateTxt.text=fvg.GVf("public009"),e.stateTxt.textColor=65322):(e.stateTxt.text=fvg.GVf("public011",a),e.stateTxt.textColor=16711680)}}},t.prototype.dispose=function(){var e=this;e.removeEvent(),GObj.$d(e.levelTxt),e.levelTxt=null,GObj.$d(e.attrTxt),e.attrTxt=null,GObj.$d(e.stateTxt),e.stateTxt=null,e.parent&&e.parent.removeChild(e)},t}(eui.ItemRenderer);__reflect(SkillDetailsItemRenderer.prototype,"SkillDetailsItemRenderer");var SkillDetailsPopUi=function(e){function t(){var t=e.call(this,"SkillDetailsPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ve=-1,e.outputBtn.label=fvg.GVf("public008"),e.gotoButton.label=fvg.GVf("skill120"),e.attrDatas=GObj.$c(eui.ArrayCollection),e.attrDataGroup.dataProvider=e.attrDatas,e.attrDataGroup.itemRenderer=SkillDetailsItemRenderer},t.prototype.initEvent=function(){var e=this;e.levelupBtn.addEventListener(eui.tep,e.fz,e),e.outputBtn.addEventListener(eui.tep,e.wn,e),e.gotoButton.addEventListener(eui.tep,e.ad,e),vkG.$a(UtJ.AVM,e._a,e)},t.prototype.removeEvent=function(){var e=this;e.levelupBtn.removeEventListener(eui.tep,e.fz,e),e.outputBtn.removeEventListener(eui.tep,e.wn,e),e.gotoButton.removeEventListener(eui.tep,e.ad,e),vkG.$r(UtJ.AVM,e._a,e)},t.prototype.initData=function(){var e=this;e.dk(),fNs.instance.execute(hXS.MI,hXS.YL,e.levelupBtn)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.uh=e[0],n.dk())},t.prototype.dk=function(){var e=this;if(e.CSo&&e.uh){e.jo=gLw.IQ(e.uh.tid),e.er=SkillManager.instance.getPasSkillInfoBySonType(e.jo.toString()),e.er?(e.xf=e.er.grade,e.levelupBtn.label=fvg.GVf("treasure25")):(e.xf=0,e.levelupBtn.label=fvg.GVf("public012"));var t=gLw.GM(e.uh.tid);e.nameTxt.text=e.uh.name+(e.xf>0?"+"+e.xf:""),e.nameTxt.textColor=aKF.DU(t),e.iconView.icon=gLw.QY(e.uh.tid),e.qualityImg.source=aKF.LU(t),e.icon_1.source=gLw.QY(e.uh.tid),e.icon_2.source=gLw.QY(e.uh.tid),e.my(),e.mc(),e.nd(),e.ap()}},t.prototype.my=function(){var e=this;e.xt=App.JP.getPasSkillNeedCount(e.xf);var t=GxD.instance.hsx(parseInt(e.uh.cost));e.needTxt_2.text=fvg.GVf("beauty16",t),e.needTxt_2.textColor=t>0?Color.TX:Color.KA,e.ko=e.er?e.er.gp:0,e.xf>=MaxLevel.PAS_MAX_LEVEL?(e.progTxt.text="MAX",e.progBar.value=100,e.levelupBtn.icon=null,e.outputBtn.icon=null):(e.progTxt.text=e.ko+"/"+e.xt,e.progBar.value=Math.min(int(e.ko/e.xt*100),100),e.levelupBtn.icon=t+e.ko>=e.xt?StaticData.GHj:null,e.outputBtn.icon=t+e.ko>=e.xt?StaticData.GHj:null)},t.prototype.mc=function(){var e,t=this,n=t.xf,i=XCA.YV(t.uh.attrid),r=gLw.GM(t.uh.tid),a=1;if(i){for(e in xxf.UK)i[e]&&this["currAttrTxt_"+a]&&(this["currAttrTxt_"+a].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[e],App.JP.getSkillDetailsAttr(r,n,i[e]))),a++);for(e in xxf.IM)i[e]&&this["currAttrTxt_"+a]&&(this["currAttrTxt_"+a].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[e],(App.JP.getSkillDetailsAttr(r,n,i[e])/10).toFixed(1)+"%")),a++);t.currAttrTxt_3.text=fvg.GVf("skill039"," +"+(i.p2||0))}if(t.xf>=MaxLevel.PAS_MAX_LEVEL)return t.nextAttrTxt_1.textFlow=LgRe.OQ(fvg.GVf("skill006")),t.nextAttrTxt_2.textFlow=LgRe.OQ(fvg.GVf("skill006")),void(t.nextAttrTxt_3.textFlow=LgRe.OQ(fvg.GVf("skill006")));if(n=t.xf+1,i=XCA.YV(t.uh.attrid),a=1,i){for(e in xxf.UK)i[e]&&this["nextAttrTxt_"+a]&&(0==t.xf&&(this["currAttrTxt_"+a].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[e],0))),this["nextAttrTxt_"+a].textFlow=LgRe.OQ(fvg.GVf("skill005",xxf.UK[e],App.JP.getSkillDetailsAttr(r,n,i[e]))),a++);for(e in xxf.IM)i[e]&&this["nextAttrTxt_"+a]&&(0==t.xf&&(this["currAttrTxt_"+a].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[e],0))),this["nextAttrTxt_"+a].textFlow=LgRe.OQ(fvg.GVf("skill005",xxf.IM[e],(App.JP.getSkillDetailsAttr(r,n,i[e])/10).toFixed(1)+"%")),a++);0==t.xf&&(t.currAttrTxt_3.text=fvg.GVf("skill039"," +0")),t.nextAttrTxt_3.textFlow=LgRe.OQ(fvg.GVf("skill005",fvg.GVf("skill039",""),i.p2||0))}},t.prototype.nd=function(){var e=this,t=e.uh.p5.split("|");e.attrDatas.source.splice(0,e.attrDatas.source.length);for(var n=0;n<t.length;n++)e.attrDatas.source.push(n+","+t[n]+","+e.xf);e.attrDatas.refresh()},t.prototype.ap=function(){var e=this;-1!=e.ve&&e.xf!=e.ve&&(App.KB.showEffect(gYq.UQ),e.le||(e.le=App.KB.getUIEffect(gYq.FS,100,1),e.le.addEventListener(egret.Event.COMPLETE,e.ij,e),e.le.x=-12,e.le.y=-16),e.le.play(1),e.addChildAt(e.le,12)),e.ve=e.xf},t.prototype.ij=function(e){var t=this;t.le&&t.le.parent&&t.removeChild(t.le)},t.prototype.fz=function(e){var t=this;return fNs.instance.execute(hXS.MI,hXS.FW),t.xf>=MaxLevel.PAS_MAX_LEVEL?void MessageTipManager.instance.show(fvg.GVf("skill006")):void(parseInt(t.needTxt_2.text)>=1?SkillMsgProxy.SI(2,t.jo):_JDW.TR(StaticData.TID_GOODS_1,t.xt-t.ko))},t.prototype.wn=function(){var e=this;return e.xf>=MaxLevel.PAS_MAX_LEVEL?void MessageTipManager.instance.show(fvg.GVf("skill006")):void(parseInt(e.needTxt_2.text)>=1?SkillMsgProxy.SI(1,e.jo):_JDW.TR(StaticData.TID_GOODS_1,e.xt-e.ko))},t.prototype.ad=function(){rRcz.IX()?this.ob(null):msgTip(fvg.GVf("public076"))},t.prototype._a=function(e){var t=this;e&&e.indexOf(t.jo)>=0&&t.dk()},t.prototype.ob=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.currAttrTxt_1),t.currAttrTxt_1=null,GObj.$d(t.currAttrTxt_2),t.currAttrTxt_2=null,GObj.$d(t.currAttrTxt_3),t.currAttrTxt_3=null,GObj.$d(t.nextAttrTxt_1),t.nextAttrTxt_1=null,GObj.$d(t.nextAttrTxt_2),t.nextAttrTxt_2=null,GObj.$d(t.nextAttrTxt_3),t.nextAttrTxt_3=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.levelupBtn),t.levelupBtn=null,GObj.$d(t.outputBtn),t.outputBtn=null,t.le&&t.le.removeEventListener(egret.Event.COMPLETE,t.ij,t),GObj.$d(t.le),t.le=null,t.attrScroller&&(t.attrScroller.stopAnimation(),t.attrScroller.viewport=null,GObj.$d(t.attrScroller)),t.attrScroller=null,t.attrDataGroup&&(t.attrDataGroup.dataProvider=null,GObj.$d(t.attrDataGroup)),t.attrDataGroup=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,GObj.$d(t.oneKeyGroup),t.oneKeyGroup=null,GObj.$d(t.icon_1),t.icon_1=null,GObj.$d(t.icon_2),t.icon_2=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.qualityImg),t.qualityImg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SkillDetailsPopUi.prototype,"SkillDetailsPopUi");var SkillItemListView=function(e){function t(){var t=e.call(this,"SkillItemListView")||this;t.ji=0;var n=RRUU.$s("SkillItemListViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.jj=[],e.fightView=GObj.$c(FightView),e.fightView.x=125,e.fightView.y=1,e.addChild(e.fightView),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=SkillItemView,e.slotData=GObj.$c(eui.ArrayCollection),e.slotGroup.dataProvider=e.slotData,e.slotGroup.itemRenderer=SkillItemSlot,e.fc=GObj.$c(SkillItemView,!0),e.fc.y=20,e.fc.touchEnabled=e.fc.touchChildren=!1,e.replaceGroup.addChild(e.fc),e.replaceGroup.visible=!1,e.cancelBtn.label=fvg.GVf("6"),e.autoUpBtn.label=fvg.GVf("skill115"),e.autoBtn.label=fvg.GVf("skill046"),e.nameTxt.text=fvg.GVf("skill111"),egret.Tween.get(e.withImg).to({alpha:1,y:55},800),e.smaicon.goodsTid=StaticData.TID_GOODS_73},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.cf,e),e.cancelBtn.addEventListener(eui.tep,e.au,e),e.autoBtn.addEventListener(eui.tep,e.bz,e),e.autoUpBtn.addEventListener(eui.tep,e.ss,e),vkG.$a(UtJ.CJ,e.lj,e),vkG.$a(UtJ.A_,e.eh,e),vkG.$a(UtJ.EHD,e.ah,e),vkG.$a(UtJ.ND,e.zk,e),vkG.$a(UtJ.HA,e.zk,e),vkG.$a(UtJ.DC,e.ud,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.cf,e),e.cancelBtn.removeEventListener(eui.tep,e.au,e),e.autoBtn.removeEventListener(eui.tep,e.bz,e),e.autoUpBtn.removeEventListener(eui.tep,e.ss,e),vkG.$r(UtJ.CJ,e.lj,e),vkG.$r(UtJ.A_,e.eh,e),vkG.$r(UtJ.EHD,e.ah,e),vkG.$r(UtJ.ND,e.zk,e),vkG.$r(UtJ.HA,e.zk,e),vkG.$r(UtJ.DC,e.ud,e)
},t.prototype.initData=function(){var e=this;e.sp(),e.zk(),e.ud(),e.autoBtn.icon?fNs.instance.execute(hXS.MP,hXS.NW,e.autoBtn):fNs.instance.execute(hXS.MP,hXS.RZ,e.autoUpBtn)},t.prototype.ud=function(){this.pracLab.text=toChars(App.KF.cul||0)},t.prototype.sp=function(){var e=this;e.datas.source.splice(0,e.datas.source.length),e.fg=[];var t=XCA.AQS.oVs(1),n=-1;if(t){e.jj.length=0;for(var i in t)PlayerSKillAI.instance.isFakeBigSkill(parseInt(i))||e.jj.push(t[i][1]);e.jj.sort(e.rr);for(var r=void 0,a=e.jj.length,o=0;a>o;o++)r=e.jj[o],r.tid==e.ji&&(n=o),e.fg.push(r.tid),e.datas.source.push(r);for(var s=a%4==0?int(a/4)+1:int(a/4)+2,p=4*s,o=a;p>o;o++)e.datas.source.push(null)}e.datas.refresh(),e.xw(),n>=0&&e.setDefaultIndex(n),e.fj()},t.prototype.fj=function(){var e=this;e.autoBtn.icon=UsU.KB()?StaticData.GHj:null,e.autoUpBtn.icon=UsU.HP()?StaticData.GHj:null},t.prototype.setDefaultIndex=function(e){var t=this;0>e||e>=t.datas.source.length||(t.itemList.selectedIndex=e,t.cf(null))},t.prototype.xw=function(){var e=App.JO.actCap;this.fightView.fightNum=e},t.prototype.qq=function(){var e=this;e.slotData.source.splice(0,e.slotData.source.length);for(var t=App.JO.skillInalyInfo,n=0;n<t.length;n++)e.slotData.source.push(t[n]);e.slotData.refresh(),e.fj()},t.prototype.zk=function(){for(var e=this,t=App.JO.skillInalyInfo,n=App.JO.openGradeArr,i=App.JO.openVipArr,r=-1,a=0;a<t.length;a++)if(-1==t[a]){if(App.KF.grade>=parseInt(n[a])||App.XT.vipInfo.vipGrade>=parseInt(i[a]))continue;r=a;break}r>-1?e.descTxt.text=fvg.GVf("skill036",n[r],i[r]):e.descTxt.text="",e.qq()},t.prototype.rr=function(e,t){var n=this;return n.jc=App.JO.getActSkillInfoBySonType(gLw.IQ(e.tid).toString()),n.hd=App.JO.getActSkillInfoBySonType(gLw.IQ(t.tid).toString()),n.jc&&!n.hd?-1:!n.jc&&n.hd?1:e.sort>t.sort?-1:1},t.prototype.lj=function(e){var t=this;if(e&&e.length>0){t.xw();var n=void 0;t.fj();for(var i=0;i<e.length;i++)if(n=App.JO.getActSkillInfoBySonType(e[i].toString()),1==n.grade){t.sp();break}}},t.prototype.eh=function(e){this.qq(),App.KB.showEffect(gYq.UQ)},t.prototype.ah=function(e,t){var n=this;e?(n.scroller.visible=!1,n.replaceGroup.visible=!0,n.autoBtn.visible=!1,n.fc.data=t):(n.scroller.visible=!0,n.replaceGroup.visible=!1,n.autoBtn.visible=!0)},t.prototype.bz=function(e){var t=this;fNs.instance.execute(hXS.MP,hXS.RZ,t.autoUpBtn),t.autoBtn.icon?SkillMsgProxy.EH():MessageTipManager.instance.show(fvg.GVf("skill049"))},t.prototype.ss=function(e){fNs.instance.execute(hXS.MP,hXS.FW),this.autoUpBtn.icon?SkillMsgProxy.WH():MessageTipManager.instance.show(fvg.GVf("skill114"))},t.prototype.au=function(e){vkG.$d(UtJ.EHD,!1)},t.prototype.cf=function(e){var t=this,n=t.itemList.selectedItem;n&&(t.ji=n.tid),ClockManager.setTimeout(t.ym,this,50)},t.prototype.ym=function(){var e=this;if(e.scroller){e.scroller.viewport.validateNow(),egret.Tween.removeTweens(e.scroller.viewport);var t=egret.Tween.get(e.scroller.viewport),n=144*Math.floor(e.itemList.selectedIndex/4),i=e.scroller.viewport.contentHeight-e.scroller.height;n>i?t.to({scrollV:i},300):t.to({scrollV:n},300)}},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.MP,hXS.YL),t.removeEvent(),egret.Tween.removeTweens(t),egret.Tween.removeTweens(t.withImg),egret.Tween.removeTweens(t.scroller.viewport),t.jj&&(t.jj.length=0,t.jj=null),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.descTxt),t.descTxt=null,t.slotGroup&&(t.slotGroup.dataProvider=null,GObj.$d(t.slotGroup)),t.slotGroup=null,GObj.$d(t.cancelBtn),t.cancelBtn=null,GObj.$d(t.fc),t.fc=null,GObj.$d(t.replaceGroup),t.replaceGroup=null,GObj.$d(t.withImg),t.withImg=null,GObj.$d(t.smaicon),t.smaicon=null,t.datas=null,t.slotData=null,t.jc=null,t.hd=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SkillItemListView.prototype,"SkillItemListView");var SkillItemSlot=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SkillItemSlotSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wj=-1,e.lockImg.visible=!1,e.redPointImg.visible=!1,e.backImg.visible=!1,e.selectedImg.visible=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.EHD,e.tz,e),vkG.$a(UtJ.CJ,e.__infoUpdateHadnler,e),e.addEventListener(eui.tep,e.bf,e),e.addEventListener(eui.RFS,e.re,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.EHD,e.tz,e),vkG.$r(UtJ.CJ,e.__infoUpdateHadnler,e),e.removeEventListener(eui.tep,e.bf,e),e.removeEventListener(eui.RFS,e.re,e),e.vk&&e.vk.removeEventListener(egret.Event.COMPLETE,e.sf,e)},t.prototype.initData=function(){},t.prototype.__infoUpdateHadnler=function(e){var t=this;e&&e.indexOf(t.subType)>=0&&t.fc()},t.prototype.fc=function(){var e=this;e.vk||(e.vk=App.KB.getUIEffect(gYq.FS,140,1),e.vk.addEventListener(egret.Event.COMPLETE,e.sf,e),e.vk.x=-20,e.vk.y=-30),e.vk.play(1),e.addChild(e.vk)},t.prototype.sf=function(e){var t=this;t.vk&&t.vk.parent&&t.removeChild(t.vk)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.subType=e.data,-1==e.subType&&(App.KF.grade>=parseInt(App.JO.openGradeArr[e.itemIndex])||App.XT.vipInfo.vipGrade>=parseInt(App.JO.openVipArr[e.itemIndex]))&&(e.subType=0),e.open=e.subType>=0,e.lockImg.visible=-1==e.subType,e.backImg.visible=e.subType>0,e.subType>0&&(e.oTX=XCA.AQS.UFA(1,e.subType,1),e.actSkillInfo=SkillManager.instance.getActSkillInfoBySonType(e.subType.toString()),e.updateView()),e.cf())},t.prototype.updateView=function(){var e=this;if(e.oTX){var t=gLw.GM(e.oTX.tid);e.nameTxt.text=e.oTX.name,e.nameTxt.textColor=aKF.DU(t),e.skillIcon.icon=gLw.QY(e.oTX.tid),e.qualityBack.source=aKF.LU(t)}},t.prototype.tz=function(e,t){var n=this;n.selectedImg.visible=!1,e?n.open&&(n.selectedImg.visible=!0,n.replaceData=t,n.step=0,Nvm.instance.registeEnterFrame2(n.nh,n)):(n.replaceData=null,n.contentGroup.rotation=0,Nvm.instance.unRegisteEnterFrame2(n.nh,n))},t.prototype.nh=function(){var e=this;e.step++,e.step%3==0&&(0==e.contentGroup.rotation?e.contentGroup.rotation=2:e.contentGroup.rotation=0)},t.prototype.bf=function(e){var t=this;if(t.replaceData){if(!t.open)return;SkillMsgProxy.QX(t.itemIndex+1,gLw.IQ(t.replaceData.tid)),vkG.$d(UtJ.EHD,!1)}else t.oTX&&App.VS.popup(10012,SkillUpgradePopUi,null,t.oTX)},t.prototype.cf=function(){var e=this;e.subType>0&&e.wj!=e.subType&&-1!=e.wj&&e.fc(),e.wj=e.subType},t.prototype.re=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;Nvm.instance.unRegisteEnterFrame2(t.nh,t),t.removeEvent(),GObj.$d(t.vk),t.vk=null,GObj.$d(t.selectedImg),t.selectedImg=null,GObj.$d(t.qualityBack),t.qualityBack=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.skillIcon),t.skillIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.contentGroup),t.contentGroup=null,t.actSkillInfo=null,t.oTX=null,t.replaceData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SkillItemSlot.prototype,"SkillItemSlot");var SkillItemView=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this,i=RRUU.$s("SkillItemViewSkin");return n.xt=t,n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.useBtn.label=fvg.GVf("skill032"),e.infoBtn.label=fvg.GVf("public008"),e.thisSelected=!1},t.prototype.initEvent=function(){var e=this;e.infoBtn.addEventListener(eui.tep,e.wl,e),e.useBtn.addEventListener(eui.tep,e.rt,e),e.addEventListener(eui.RFS,e.sp,e),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.fq,e),vkG.$a(UtJ.CJ,e.__infoUpdateHadnler,e),vkG.$a(UtJ.A_,e.__skillInlayUpdateHandler,e),vkG.$a(UtJ.DC,e.pn,e)},t.prototype.removeEvent=function(){var e=this;e.infoBtn.removeEventListener(eui.tep,e.wl,e),e.useBtn.removeEventListener(eui.tep,e.rt,e),e.removeEventListener(eui.RFS,e.sp,e),e.removeEventListener(egret.Event.ADDED_TO_STAGE,e.fq,e),vkG.$r(UtJ.CJ,e.__infoUpdateHadnler,e),vkG.$r(UtJ.A_,e.__skillInlayUpdateHandler,e),vkG.$r(UtJ.DC,e.pn,e),e.je&&e.je.removeEventListener(egret.Event.COMPLETE,e.jf,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.__infoUpdateHadnler=function(e){var t=this;e&&e.indexOf(t.subType)>=0&&(t.dataChanged(),t.ni())},t.prototype.ni=function(){var e=this;e.je||(e.je=App.KB.getUIEffect(gYq.FS,140,1),e.je.addEventListener(egret.Event.COMPLETE,e.jf,e),e.je.x=0,e.je.y=-24),e.je.play(1),e.addChild(e.je)},t.prototype.jf=function(e){var t=this;t.je&&t.je.parent&&t.removeChild(t.je)},t.prototype.__skillInlayUpdateHandler=function(){var e=this;if(e.subType){var t=App.JO.skillInalyInfo.indexOf(e.subType)>=0;e.hasInlayImg.visible=t}},t.prototype.pn=function(){this.ps()},t.prototype.dataChanged=function(){var e=this;if(e.CSo){if(!e.data)return e.contentGroup.visible=!1,void(e.touchEnabled=e.touchChildren=!1);e.contentGroup.visible=!0,e.touchEnabled=e.touchChildren=!0,e.oTX=e.data,e.subType=gLw.IQ(e.oTX.tid);var t=gLw.GM(e.oTX.tid);e.skillIcon.icon=gLw.QY(e.oTX.tid),e.qualityBack.source=aKF.LU(t),e.descLab.text=e.oTX.desc,e.updateView(),e.ps(),e.__skillInlayUpdateHandler()}},t.prototype.updateView=function(){var e=this;e.actSkillInfo=SkillManager.instance.getActSkillInfoBySonType(e.subType.toString()),e.currGrade=e.actSkillInfo?e.actSkillInfo.grade:0,e.nameTxt.text=e.oTX.name,e.nameTxt.textColor=aKF.DU(gLw.GM(e.oTX.tid)),e.lvLab.text=fvg.GVf("public028",e.actSkillInfo?e.actSkillInfo.totalGrade:0),e.hp(e.currGrade>0)},t.prototype.invalidateState=function(){var t=this;e.prototype.invalidateState.call(this);var n=t.getCurrentState();"upAndSelected"==n?(t.thisSelected=!0,t.parent&&t.parent.addChild(t)):"up"==n&&(t.thisSelected=!1)},t.prototype.ps=function(){var e=this;if(e.currGrade<=0||e.currGrade>=MaxLevel.ACT_MAX_LEVEL||e.xt||e.currGrade>=App.JO.actSkillLimit)return void(e.redPointImg.visible=!1);if(e.ex=App.KF.cul,e.oTX){var t=gLw.GM(e.oTX.tid);e.ia=App.JP.getActSkillNeedCount(e.currGrade,t),e.redPointImg.visible=e.ex>=e.ia}},t.prototype.hp=function(e){var t=this;t.blackMaskImg.visible=!e,t.descLab.visible=!e,t.lvBgImg.visible=e,t.lvLab.visible=e},Object.defineProperty(t.prototype,"thisSelected",{set:function(e){var t=this;t._thisSelected=e,t.infoBtn.visible=t._thisSelected,t.useBtn.visible=t._thisSelected,t.hp(t.currGrade>0),t._thisSelected?t.extendImg.visible=!0:t.extendImg.visible=!1},enumerable:!0,configurable:!0}),t.prototype.wl=function(e){App.VS.popup(10012,SkillUpgradePopUi,null,this.oTX)},t.prototype.rt=function(e){var t=this;return t.actSkillInfo?App.JO.skillInalyInfo.indexOf(t.subType)>=0?void MessageTipManager.instance.show(fvg.GVf("skill038")):void vkG.$d(UtJ.EHD,!0,t.oTX):void MessageTipManager.instance.show(fvg.GVf("skill037"))},t.prototype.sp=function(e){this.dispose()},t.prototype.fq=function(e){var t=this,n=t.getCurrentState();"up"==n&&t.parent&&t.parent.addChildAt(this,0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.skillIcon),t.skillIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lvBgImg),t.lvBgImg=null,GObj.$d(t.lvLab),t.lvLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.hasInlayImg),t.hasInlayImg=null,GObj.$d(t.qualityBack),t.qualityBack=null,t.actSkillInfo=null,t.oTX=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SkillItemView.prototype,"SkillItemView");var SkillUpgradePopUi=function(e){function t(){var t=e.call(this,"SkillUpgradePopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.od=-1,e.horizontalCenter=0,e.y=220,e.upgradeBtn1.label=fvg.GVf("skill044"),e.upgradeBtn10.label=fvg.GVf("skill045"),e.descLab1.text=fvg.GVf("skill040"),e.descLab2.text=fvg.GVf("skill041"),e.descLab3.text=fvg.GVf("skill042"),e.fightView=GObj.$c(NumberView),e.fightView.x=290,e.fightView.y=185,e.addChild(e.fightView)},t.prototype.initEvent=function(){var e=this;e.upgradeBtn1.addEventListener(eui.tep,e.mr,e),e.upgradeBtn10.addEventListener(eui.tep,e._i,e),e.closeBtn.addEventListener(eui.tep,e.wv,e),vkG.$a(UtJ.CJ,e.lj,e),vkG.$a(UtJ.DC,e.yz,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn1.removeEventListener(eui.tep,e.mr,e),e.upgradeBtn10.removeEventListener(eui.tep,e._i,e),e.closeBtn.removeEventListener(eui.tep,e.wv,e),vkG.$r(UtJ.CJ,e.lj,e),vkG.$r(UtJ.DC,e.yz,e)},t.prototype.initData=function(){this.rq()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.va=e[0],n.rq())},t.prototype.rq=function(){var e=this;if(e.CSo&&e.va){e.ib=gLw.IQ(e.va.tid),e.rr=SkillManager.instance.getActSkillInfoBySonType(e.ib.toString()),e.gv=e.rr?e.rr.grade:0;var t=gLw.GM(e.va.tid);e.lvLab.text=fvg.GVf("public013",e.gv);var n=e.rr?e.rr.extGrade:App.JO.knightExtInfo[e.ib]||0;e.extlvLab.visible=n>0,e.extlvLab.text="("+fvg.GVf("426",n)+")",e.extlvLab.textColor=e.rr?Color.TX:Color.KA,e.extlvLab.x=e.lvLab.x+e.lvLab.textWidth+3,e.nameTxt.text=e.va.name,e.nameTxt.textColor=aKF.DU(t),e.iconView.upgradeId=e.va.tid,e.bigIconView.icon=kLM.RA(gLw.getIconIdByTid(e.va.tid));var i=App.BG.playerAttrsInfo.cdrate;if(e.va.crits?e.descTxt.text=e.va.crits:e.descTxt.text="",i>0){var r=(e.va.p4*i/1e3).toFixed(1);e.cdTxt.text=fvg.GVf("public029",e.va.p4+"(-"+r+")")}else e.cdTxt.text=fvg.GVf("public029",e.va.p4);e.rangeTxt.text=fvg.GVf("skill034",e.va.p5),e.subLab.textFlow=GObj.$c(egret.HtmlTextParser).parser(fvg.GVf("skill043",GMath.toFixed(.1*e.va.p1,1),App.JP.skillp2(e.va,e.gv?e.rr.totalGrade:1))),e.is(),e.br(),e.gx()}},t.prototype.is=function(){var e,t=this;e=t.gv>0?t.rr.totalGrade:t.gv||1;var n,i=XCA.YV(t.va.attrid),r="",a=0,o=0,s=gLw.GM(t.va.tid);if(i){for(n in xxf.UK)i[n]&&(r=fvg.GVf("skill004",xxf.UK[n],App.JP.getActSkillNeedAttr(i[n],e,s)),o+=App.JP.getActSkillNeedAttr(i.p1,e,s));for(n in xxf.IM)i[n]&&(r=fvg.GVf("skill004",xxf.IM[n],(App.JP.getActSkillNeedAttr(i[n],e,s)/10).toFixed(1)+"%"));t.attrTxt.textFlow=LgRe.OQ(r),a=o}hFO.instance.getNumberView(bRC.UA,a.toString(),-12,t.fightView)},t.prototype.yz=function(){this.br()},t.prototype.br=function(){var e=this;if(e.zw=App.KF.cul||0,e.pracLab.text=toChars(e.zw),e.gv<=0||e.gv>=MaxLevel.ACT_MAX_LEVEL)return e.pracLab1.text="0",e.pracLab10.text="0",e.upgradeBtn1.icon=null,void(e.upgradeBtn10.icon=null);var t=gLw.GM(e.va.tid);e.wd=App.JP.getActSkillNeedCount(e.gv,t),e.ea=e.wd;var n=10;n>=MaxLevel.ACT_MAX_LEVEL-e.gv&&(n=MaxLevel.ACT_MAX_LEVEL-e.gv-1);for(var i=1;n>i;i++){var r=e.gv+i;e.ea+=App.JP.getActSkillNeedCount(r,t)}e.pracLab1.text=toChars(e.wd),e.pracLab1.textColor=e.zw>=e.wd?Color.XB:Color.KA,e.pracLab10.text=toChars(e.ea),e.pracLab10.textColor=e.zw>=e.ea?Color.XB:Color.KA,e.zw>=e.ea?(e.upgradeBtn1.icon="bar_json.redPoint_png",e.upgradeBtn10.icon="bar_json.redPoint_png"):e.zw>=e.wd?(e.upgradeBtn1.icon="bar_json.redPoint_png",e.upgradeBtn10.icon=null):(e.upgradeBtn1.icon=null,e.upgradeBtn10.icon=null)},t.prototype.mr=function(e){var t=this;return t.gv<=0?void MessageTipManager.instance.show(fvg.GVf("skill047")):t.gv>=MaxLevel.ACT_MAX_LEVEL?void MessageTipManager.instance.show(fvg.GVf("skill006")):t.gv>=App.JO.actSkillLimit?void MessageTipManager.instance.show(fvg.GVf("skill048")):(t.zw=App.KF.cul||0,void(t.zw>=t.wd?SkillMsgProxy.PU(t.ib,1):t.va&&_JDW.TR(StaticData.TID_PRACTICE_ID,t.wd-t.zw)))},t.prototype._i=function(e){var t=this;if(t.gv<=0)return void MessageTipManager.instance.show(fvg.GVf("skill047"));if(t.gv>=MaxLevel.ACT_MAX_LEVEL)return void MessageTipManager.instance.show(fvg.GVf("skill006"));if(t.gv>=30+2*App.KF.grade)return void MessageTipManager.instance.show(fvg.GVf("skill048"));if(t.zw>=t.ea){var n=10,i=Math.min(MaxLevel.ACT_MAX_LEVEL,30+2*App.KF.grade);n>i-t.gv&&(n=i-t.gv),SkillMsgProxy.PU(t.ib,n)}else t.va&&_JDW.TR(StaticData.TID_PRACTICE_ID,t.ea-t.zw)},t.prototype.lj=function(e){var t=this;e&&e.indexOf(t.ib)>=0&&t.rq()},t.prototype.gx=function(){var e=this;-1!=e.od&&e.gv!=e.od&&(App.KB.showEffect(gYq.UQ),e.xf||(e.xf=App.KB.getUIEffect(gYq.FS,100,1),e.xf.addEventListener(egret.Event.COMPLETE,e.im,e),e.xf.x=194,e.xf.y=50),e.xf.play(1),e.addChild(e.xf)),e.od=e.gv},t.prototype.im=function(e){var t=this;t.xf&&t.xf.parent&&t.removeChild(t.xf)},t.prototype.wv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.cdTxt),t.cdTxt=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.upgradeBtn1),t.upgradeBtn1=null,GObj.$d(t.upgradeBtn10),t.upgradeBtn10=null,GObj.$d(t.bigIconView),t.bigIconView=null,GObj.$d(t.rangeTxt),t.rangeTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.lvLab),t.lvLab=null,GObj.$d(t.subLab),t.subLab=null,GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.descLab2),t.descLab2=null,GObj.$d(t.descLab3),t.descLab3=null,GObj.$d(t.pracLab),t.pracLab=null,GObj.$d(t.pracLab1),t.pracLab1=null,GObj.$d(t.pracLab10),t.pracLab10=null,GObj.$d(t.extlvLab),t.extlvLab=null,GObj.$d(t.closeBtn),t.closeBtn=null,t.va=null,t.rr=null,t.xf&&t.xf.removeEventListener(egret.Event.COMPLETE,t.im,t),GObj.$d(t.xf),t.xf=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SkillUpgradePopUi.prototype,"SkillUpgradePopUi");var SmeltingAnalysisView=function(e){function t(){var t=e.call(this,"SmeltingAnalysisView")||this;return t.positionList=[{x:40,y:325},{x:140,y:220},{x:270,y:220},{x:370,y:325}],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.newGoodsItem.showQuality=!1,e.newGoodsItem.showNumTxt=!1,e.cy=GObj.$c(nlwj),e.sizeSelector.minCount=1,e.analysisBtn.label=fvg.GVf("smelting13"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=SmeltingMergeItem;var t=[],n=e.positionList;e.nn=[];for(var i=0;i<MaxLevel.COMP_MATE_COUNT;i++){var r=n[i];e.nn[i]=GObj.$c(SmeltingMergeMatItem),e.nn[i].goodsItem.showQuality=!0,e.nn[i].x=r.x,e.nn[i].y=r.y,e.nn[i].itemIndex=i,t.push(e.nn),e.addChild(e.nn[i])}e.matItemList=t},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.mh,e),e.itemList.addEventListener(egret.Event.CHANGING,e.xq,e),e.analysisBtn.addEventListener(eui.tep,e.jz,e),e.sizeSelector.addEventListener(egret.Event.CHANGE,e.wy,e),vkG.$a(UtJ.DR,e.uki,e),vkG.$a(UtJ.DV,e.cf,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.mh,e),e.itemList.removeEventListener(egret.Event.CHANGING,e.xq,e),e.analysisBtn.removeEventListener(eui.tep,e.jz,e),e.sizeSelector.removeEventListener(egret.Event.CHANGE,e.wy,e),vkG.$r(UtJ.DR,e.uki,e),vkG.$r(UtJ.DV,e.cf,e)},t.prototype.initData=function(e){var t=this,n=App.FK.LHp(1).concat(App.FK.LHp(10));t.xw=[];for(var i=[],r=[],a=n.length,o=0;a>o;o++)n[o].TSF.resolve&&(-1==i.indexOf(n[o].tid)&&i.push(n[o].TSF.tid),-1==t.xw.indexOf(n[o].id)&&t.xw.push(n[o].id));a=Math.max(5*Math.ceil(i.length/5),10);for(var o=0;a>o;o++)r.push(App.PI.resolveDic[i[o]]);r.length&&r.sort(t.be),t.itemData.replaceAll(r);var s=t.me?r.indexOf(t.me):0;t.itemList.selectedIndex=s>=0?s:0,t.mh(!e&&GObj.$c(egret.Event)),egret.Tween.get(t).wait(100).call(t.ot,t)},t.prototype.ot=function(){var e=this;if(egret.Tween.removeTweens(e),e.scroller){var t=e.scroller.viewport.scrollV,n=e.scroller.viewport.contentHeight-e.scroller.height;n>0&&t>n&&(e.scroller.viewport.scrollV=n)}},t.prototype.xq=function(e){this.itemList.selectedItem||e.preventDefault()},t.prototype.mh=function(e){var t=this;t.me=t.itemList.selectedItem,t.oy(e)},t.prototype.oy=function(e){var t=this;if(t.me){t.cy.tid=t.me.nmat,t.cy.count=App.FK.hsx(t.cy.tid),t.newGoodsItem.data=t.cy,t.newGoodsNameLbl.text=t.cy.name,t.newGoodsNameLbl.textColor=aKF.DU(t.cy.TSF.qua);for(var n=0;n<MaxLevel.COMP_MATE_COUNT;n++)t.nn[n].itemIndex==n&&(t.nn[n].data=t.me);t.me.gold?t.smaicon.goodsTid=StaticData.TID_GOLD_ID:t.me.p&&(t.smaicon.goodsTid=StaticData.TID_POINT_ID),t.pl=t.cy.count,t.sizeSelector.maxCount=Math.min(t.pl,MaxLevel.MERGE_MAX_NUM),t.wy(null),e&&(t.sizeSelector.selectedCount=t.sizeSelector.maxCount)}else t.newGoodsNameLbl.text="",t.newGoodsItem.data=null,t.needMoneyTxt.text="0",t.sizeSelector.selectedCount=0,t.sizeSelector.maxCount=0},t.prototype.jz=function(e){var t=this;if(!t.me||t.pl<=0)return void App.TT.show(fvg.GVf("smelting18"));var n=t.sizeSelector.selectedCount;return 0>=n?void App.TT.show(fvg.GVf("smelting21")):n>t.pl?void App.TT.show(fvg.GVf("smelting22")):t.me.gold&&App.KF.gold<t.me.gold*n?void _JDW.TR(StaticData.TID_GOLD_ID):t.me.p&&App.KF.point<t.me.p*n?void _JDW.TR(StaticData.TID_POINT_ID):void GoodsMsgProxy.AK(t.me.id,n)},t.prototype.wy=function(e){var t=this;if(t.me){var n=t.sizeSelector.selectedCount;t.me.gold?(t.needMoneyTxt.text=toChars(t.me.gold*n),t.needMoneyTxt.textColor=App.KF.gold>=t.me.gold*n?Color.XB:Color.KA):t.me.p?(t.needMoneyTxt.text=toChars(t.me.p*n),t.needMoneyTxt.textColor=App.KF.point>=t.me.p*n?Color.XB:Color.KA):t.needMoneyTxt.text="0",t.me.selected=n;for(var i=0;i<MaxLevel.COMP_MATE_COUNT;i++)t.nn[i].itemIndex==i&&t.nn[i].updateView()}},t.prototype.uki=function(e){2==e&&App.TT.show(fvg.GVf("smelting19"))},t.prototype.cf=function(e){var t=this;if(e)for(var n=0;n<e.length;n++)t.xw.indexOf(e[n])>=0&&t.initData(!0)},t.prototype.be=function(e,t){return e&&t?(e.sort||0)>(t.sort||0)?-1:1:e?-1:t?1:0},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.smaicon),t.smaicon=null,GObj.$d(t.needMoneyTxt),t.needMoneyTxt=null,GObj.$d(t.newGoodsItem),t.newGoodsItem=null,GObj.$d(t.sizeSelector),t.sizeSelector=null,GObj.$d(t.analysisBtn),t.analysisBtn=null,t.itemData=null,t.me=null,t.cy=null,t.xw=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SmeltingAnalysisView.prototype,"SmeltingAnalysisView");var SmeltingEquipItem=function(e){function t(){var t=e.call(this,"SmeltingEquipItem")||this,n=RRUU.$s("SmeltingEquipItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},Object.defineProperty(t.prototype,"goodsInfo",{get:function(){return this.lp},set:function(e){var t=this;t.lp=e,t.gu()},enumerable:!0,configurable:!0}),t.prototype.gu=function(){var e=this;e.lp?(e.nameTxt.text=fvg.GVf("public013",e.lp.TSF.needgrade),e.nameTxt.textColor=aKF.DU(e.goodsInfo.TSF.qua)):e.nameTxt.text="",e.itemView.data=e.lp,e.addImg.visible=null==e.lp},t.prototype.playEffect=function(){var e=this;e.lp&&(e.eq||(e.eq=App.KB.getUIEffect(gYq.FS),e.eq=App.KB.getUIEffect(gYq.FS,100,1),e.eq.addEventListener(egret.Event.COMPLETE,e.be,e),e.eq.x=-36,e.eq.y=-40),e.eq.play(1),e.addChild(e.eq))},t.prototype.be=function(e){var t=this;t.eq&&t.eq.parent&&t.removeChild(t.eq)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.addImg),t.addImg=null,GObj.$d(t.nameTxt),t.nameTxt=null,t.lp=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SmeltingEquipItem.prototype,"SmeltingEquipItem");var SmeltingMergeItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SmeltingMergeItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.gsv=GObj.$c(nlwj)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.gqz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.gqz,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.ie=e.data,e.ie?(e.gsv.tid=e.ie.nmat,1==e.ie.mtype?e.gsv.count=App.PI.getCountByTemp(e.ie):2==e.ie.mtype&&(e.gsv.count=App.FK.hsx(e.gsv.tid)),e.goodsIcon.data=e.gsv,e.goodsIcon.bottomText=e.gsv.count>1?toChars(e.gsv.count):"",e.nameTxt.text=e.ie.name,e.redImg.visible=UsU.LX(e.ie)):(e.goodsIcon.data=null,e.goodsIcon.bottomText="",e.nameTxt.text="",e.redImg.visible=!1))},t.prototype.gqz=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsIcon),t.goodsIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.redImg),t.redImg=null,t.ie=null,t.gsv=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SmeltingMergeItem.prototype,"SmeltingMergeItem");var SmeltingMergeMatItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SmeltingMergeMatItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.wg=GObj.$c(nlwj),e.goodsItem.showQuality=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yb,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yb,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){this.updateView()},t.prototype.updateView=function(){var e=this;if(e.CSo&&e.data){e.te=e.data;var t=e.itemIndex+1;if(e.te["mat"+t]&&e.te["ct"+t])if(e.wg.tid=e.te["mat"+t],e.wg.count=e.te["ct"+t],e.goodsItem.data=e.wg,e.nameLbl.text=e.wg.name,e.nameLbl.textColor=aKF.DU(e.wg.TSF.qua),1==e.te.mtype){var n=App.FK.hsx(e.wg.tid);e.goodsItem.bottomText=fvg.GVf("public022",NumberUtil.YT(n),NumberUtil.YT(e.wg.count)),e.goodsItem.bottomColor=n>=e.wg.count?Color.TX:Color.KA}else 2==e.te.mtype&&(e.goodsItem.bottomText=NumberUtil.YT(e.wg.count*(e.te.selected||1)),e.goodsItem.bottomColor=Color.XB);else e.goodsItem.data=null,e.goodsItem.bottomText="",e.nameLbl.text=""}},t.prototype.yb=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,t.te=null,t.wg=null,t.nameLbl=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SmeltingMergeMatItem.prototype,"SmeltingMergeMatItem");var SmeltingMergeView=function(e){function t(){var t=e.call(this,"SmeltingMergeView")||this;return t.positionList=[{x:40,y:325},{x:140,y:220},{x:270,y:220},{x:370,y:325}],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleTxt.text=fvg.GVf("smelting14"),e.propsBtn.label=fvg.GVf("smelting01"),e.propsBtn1.label=fvg.GVf("smelting02"),e.mergeBtn.label=fvg.GVf("store012"),e.ho=GObj.$c(nlwj),e.sizeSelector.minCount=1,e.zq=GObj.$c(kQr),e.zq.cwA(e.propsBtn),e.zq.cwA(e.propsBtn1),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=SmeltingMergeItem;for(var t=[],n=e.positionList,i=0;i<MaxLevel.COMP_MATE_COUNT;i++){var r=n[i],a=GObj.$c(SmeltingMergeMatItem);a.goodsItem.showQuality=!0,a.x=r.x,a.y=r.y,a.itemIndex=i,t.push(a),e.addChild(a)}e.matItemList=t},t.prototype.initEvent=function(){var e=this;e.zq.addEventListener(egret.Event.CHANGE,e.nl,e),e.itemList.addEventListener(egret.Event.CHANGE,e.db,e),e.itemList.addEventListener(egret.Event.CHANGING,e.ns,e),e.mergeBtn.addEventListener(eui.tep,e.fh,e),e.sizeSelector.addEventListener(egret.Event.CHANGE,e.no,e),vkG.$a(UtJ.DR,e.hc,e),vkG.$a(UtJ.DV,e.ng,e)},t.prototype.removeEvent=function(){var e=this;e.zq.removeEventListener(egret.Event.CHANGE,e.nl,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.db,e),e.itemList.removeEventListener(egret.Event.CHANGING,e.ns,e),e.mergeBtn.removeEventListener(eui.tep,e.fh,e),e.sizeSelector.removeEventListener(egret.Event.CHANGE,e.no,e),vkG.$r(UtJ.DR,e.hc,e),vkG.$r(UtJ.DV,e.ng,e)},t.prototype.initData=function(){this.zq.selectedIndex=0},t.prototype.nl=function(e){var t=this;t.scroller&&t.scroller.stopAnimation();var n,i=t.zq.LuO;switch(i){case t.propsBtn:n=App.PI.getComposeByType(1);break;case t.propsBtn1:n=App.PI.getComposeByType(3)}var r=n.length;if(r>0){t.itemData.source.length=0;for(var a=0;r>a;a++)t.itemData.source.push(n[a]||null);t.itemData.source.sort(t.nj),t.itemData.refresh(),t.itemList.selectedIndex=0,t.db(e)}},t.prototype.ns=function(e){this.itemList.selectedItem||e.preventDefault()},t.prototype.db=function(e){var t=this,n=t.itemList.selectedItem;n&&(t.kx=n,t.dl(e))},t.prototype.dl=function(e){var t=this;if(t.kx){t.ho.tid=t.kx.nmat,t.ho.count=t.kx.nct,t.newGoodsItem.data=t.ho,t.newGoodsNameLbl.text=t.ho.name,t.newGoodsNameLbl.textColor=aKF.DU(t.ho.TSF.qua);for(var n=t.matItemList,i=0;i<MaxLevel.COMP_MATE_COUNT;i++)n[i].data=t.kx;t.kx.gold?t.smaicon.goodsTid=StaticData.TID_GOLD_ID:t.kx.p&&(t.smaicon.goodsTid=StaticData.TID_POINT_ID),t.pc=App.PI.getCountByTemp(t.kx),t.sizeSelector.maxCount=Math.min(t.pc||1,MaxLevel.MERGE_MAX_NUM),t.no(null),e&&(t.sizeSelector.selectedCount=t.sizeSelector.maxCount)
}},t.prototype.no=function(e){var t=this;if(t.kx){var n=t.sizeSelector.selectedCount;t.kx.gold?(t.needMoneyTxt.text=toChars(t.kx.gold*n),t.needMoneyTxt.textColor=App.KF.gold>=t.kx.gold*n?Color.XB:Color.KA):t.kx.p?(t.needMoneyTxt.text=toChars(t.kx.p*n),t.needMoneyTxt.textColor=App.KF.point>=t.kx.p*n?Color.XB:Color.KA):t.needMoneyTxt.text="0"}},t.prototype.fh=function(e){var t=this;if(t.kx){if(t.pc<=0)return void App.TT.show(fvg.GVf("smelting15"));var n=t.sizeSelector.selectedCount;return 0>=n?void App.TT.show(fvg.GVf("smelting23")):n>t.pc?void App.TT.show(fvg.GVf("smelting20")):t.kx.gold&&App.KF.gold<t.kx.gold*n?void _JDW.TR(StaticData.TID_GOLD_ID):t.kx.p&&App.KF.point<t.kx.p*n?void _JDW.TR(StaticData.TID_POINT_ID):void GoodsMsgProxy.AK(t.kx.id,n)}},t.prototype.hc=function(e){1==e&&App.TT.show(fvg.GVf("smelting16"))},t.prototype.ng=function(e){var t=this,n=t.itemList.selectedIndex;t.itemData.source.sort(t.nj),t.itemData.refresh(),t.itemList.selectedIndex=n,t.db(null)},t.prototype.nj=function(e,t){if(!e||!t)return e?-1:t?1:0;var n=App.PI.getCountByTemp(e),i=App.PI.getCountByTemp(t);return n>i?-1:i>n?1:(e.sort||0)>(t.sort||0)?-1:1},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.smaicon),t.smaicon=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.needMoneyTxt),t.needMoneyTxt=null,GObj.$d(t.propsBtn),t.propsBtn=null,GObj.$d(t.propsBtn1),t.propsBtn1=null,GObj.$d(t.mergeBtn),t.mergeBtn=null,GObj.$d(t.newGoodsItem),t.newGoodsItem=null,GObj.$d(t.zq),t.zq=null,GObj.$d(t.sizeSelector),t.sizeSelector=null,t.matItemList=null,t.itemData=null,t.kx=null,t.ho=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SmeltingMergeView.prototype,"SmeltingMergeView");var SmeltingPopUi=function(e){function t(){var t=e.call(this,"SmeltingPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.equipBtn.label=fvg.GVf("smelting24"),e.mergeBtn.label=fvg.GVf("store012"),e.analysisBtn.label=fvg.GVf("smelting13"),e.btnGroup=GObj.$c(kQr),e.btnGroup.cwA(e.equipBtn),e.btnGroup.cwA(e.mergeBtn),e.btnGroup.cwA(e.analysisBtn)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.btnGroup.addEventListener(egret.Event.CHANGE,t.te,t),vkG.$a(UtJ.KSQ,t.lm,t),vkG.$a(UtJ.DV,t.ro,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.btnGroup.removeEventListener(egret.Event.CHANGE,t.te,t),vkG.$r(UtJ.KSQ,t.lm,t),vkG.$r(UtJ.DV,t.ro,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.defaultSelected(),t.ro()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.selectedIndex=e[0],n.btnGroup&&(n.btnGroup.selectedIndex=n.selectedIndex))},t.prototype.defaultSelected=function(){var e=this;e.btnGroup.selectedIndex=e.selectedIndex,rRcz.SS(62,!1)?!e.mergeBtn.parent&&e.btnCon.addChildAt(e.mergeBtn,1):e.mergeBtn.parent&&e.mergeBtn.parent.removeChild(e.mergeBtn),rRcz.SS(63,!1)?!e.analysisBtn.parent&&e.btnCon.addChild(e.analysisBtn):e.analysisBtn.parent&&e.analysisBtn.parent.removeChild(e.analysisBtn)},t.prototype.te=function(e){var t=this,n=t.btnGroup.LuO,i=SmeltingView.YL;switch(t.NwP&&(t.NwP.visible=!1),t.NwP=null,n){case t.equipBtn:t.ty||(t.ty=GObj.$c(SmeltingView),t.ty.y=50,t.ty.horizontalCenter=0,t.addChild(t.ty)),i=SmeltingView.YL,t.ty.updateType(i),t.NwP=t.ty,t.frameGroup.title=fvg.GVf("smelting24");break;case t.mergeBtn:t.gd||(t.gd=GObj.$c(SmeltingMergeView),t.gd.y=55,t.gd.horizontalCenter=0,t.addChild(t.gd)),t.NwP=t.gd,t.frameGroup.title=fvg.GVf("store012");break;case t.analysisBtn:t.ay||(t.ay=GObj.$c(SmeltingAnalysisView),t.ay.x=12,t.ay.y=55,t.addChild(t.ay)),t.NwP=t.ay,t.frameGroup.title=fvg.GVf("smelting13")}t.NwP&&(t.NwP.visible=!0),fNs.instance.execute(hXS._K,hXS.RZ,t.btnGroup,t.ty)},t.prototype.lm=function(e){e&&(e.indexOf(62)>=0||e.indexOf(63)>=0)&&this.defaultSelected()},t.prototype.ro=function(){this.mergeBtn.icon=UsU.NL()?StaticData.GHj:""},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS._K,hXS.RZ),t.removeEvent(),GObj.$d(t.equipBtn),t.equipBtn=null,GObj.$d(t.btnGroup),t.btnGroup=null,GObj.$d(t.ty),t.ty=null,GObj.$d(t.gd),t.gd=null,GObj.$d(t.ay),t.ay=null,GObj.$d(t.btnCon),t.btnCon=null,t.NwP=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SmeltingPopUi.prototype,"SmeltingPopUi");var SmeltingView=function(e){function t(){var t=e.call(this,"SmeltingView")||this,n=RRUU.$s("SmeltingViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.smeltingBtn.label=fvg.GVf("smelting8"),e.ue=[];for(var n,i=0;i<t.BJ;i++)n=GObj.$c(SmeltingEquipItem),e.itemGroup.addChild(n),e.ue.push(n);e.ps=[],e.di={},e.di[t.YL]=[],e.di[t.ZW]=[]},t.prototype.initEvent=function(){var e=this;e.smeltingBtn.addEventListener(eui.tep,e["do"],e),vkG.$a(UtJ.DV,e.my,e)},t.prototype.removeEvent=function(){var e=this;e.smeltingBtn.removeEventListener(eui.tep,e["do"],e),vkG.$r(UtJ.DV,e.my,e)},t.prototype.initData=function(){var e=this;e.isSmelting=!1,e.di[t.YL].length=0,e.di[t.ZW].length=0;for(var n,i=App.FK.getCanSmeltingEquip(),r=0;r<i.length;r++)n=i[r].quality-1,(1<<n&t.YL)>0?e.di[t.YL].push(i[r]):e.di[t.ZW].push(i[r]);e.wn()},t.prototype.updateType=function(e){var n=this;e&&(n.je=e,n.wn(),n.je==t.YL?n.descTxt.text=fvg.GVf("smelting3"):n.descTxt.text=fvg.GVf("smelting11"),n.bgImg.source="smelting_json.smelting_bg_png")},t.prototype.my=function(e){var t=this;if(e&&0!=e.length&&t.isSmelting){for(var n=!1,i=0;i<t.ps.length;i++)if(e.indexOf(t.ps[i].id)>=0){n=!0;break}n&&egret.Tween.get(t).wait(400).call(t.cn,t)}},t.prototype.cn=function(){var e=this;egret.Tween.removeTweens(e),e.ch(),e.wn(),e.di[e.je].length>0?e.aa():(e.initData(),e.smeltingBtn.visible=!e.isSmelting,e.smeltingTxt.visible=e.isSmelting)},t.prototype.wn=function(){var e=this;if(e.je)for(var n=e.di[e.je],i=n.length,r=0;r<t.BJ;r++)i>r?e.ue[r].goodsInfo=n[r]:e.ue[r].goodsInfo=null},t.prototype.ch=function(){for(var e=0;e<t.BJ;e++)this.ue[e].playEffect()},t.prototype["do"]=function(e){var t=this;return 0==t.di[t.je].length?void MessageTipManager.instance.show(fvg.GVf("smelting7")):t.isSmelting?void MessageTipManager.instance.show(fvg.GVf("smelting4")):void t.ax()},t.prototype.ax=function(){var e=this;e.isSmelting=!0,e.smeltingBtn.visible=!e.isSmelting,e.smeltingTxt.visible=e.isSmelting,e.aa()},t.prototype.aa=function(){var e=this;e.ps.splice(0,e.ps.length);var n=e.di[e.je]||[],i=n.length>t.BJ?t.BJ:n.length;e.ps=n.splice(0,i);for(var r,a=[],o=e.ps.length,s=0;o>s;s++)r={},r[e.ps[s].id]=e.ps[s].count,a.push(r);o>0&&(e.je==t.YL?GoodsMsgProxy.JD(a):GoodsMsgProxy.YL(a))},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),egret.Tween.removeTweens(t),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.smeltingBtn),t.smeltingBtn=null,GObj.$d(t.smeltingTxt),t.smeltingTxt=null,t.ue)for(var n=0;n<t.ue.length;n++)GObj.$d(t.ue[n]);t.ue=null,GObj.$d(t.itemGroup),t.itemGroup=null,t.ps=null,t.di=null,e.prototype.dispose.call(this)},t.BJ=12,t.YL=63,t.ZW=64,t}(BaseUI);__reflect(SmeltingView.prototype,"SmeltingView");var SoaringDescPopUi=function(e){function t(){return e.call(this,"SoaringDescPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.OZ,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(SoaringDescPopUi.prototype,"SoaringDescPopUi");var SoaringFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.im=3e5,n.skinName=RRUU.$s(t),ziI.PC(),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.receiveBtn.label=fvg.GVf("104"),e.receiveBtn.visible=e.receivedImg.visible=!1,e.rewardList=GObj.$c(eui.ArrayCollection),e.rankList=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardList,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.rankGroup.dataProvider=e.rankList,e.rankGroup.itemRenderer=SoaringItemView,e.rankTxt.text=fvg.GVf("public061"),e.awardTxt.text=fvg.GVf("107")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.receiveBtn.addEventListener(eui.tep,t.iy,t),t.descBtn.addEventListener(eui.tep,t.wq,t),vkG.$a(UtJ.ZGT,t.bd,t),vkG.$a(UtJ.PP,t.hy,t),vkG.$a(UtJ.CR,t.td,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.receiveBtn.removeEventListener(eui.tep,t.iy,t),t.descBtn.removeEventListener(eui.tep,t.wq,t),vkG.$r(HUtJ.HEARTBEAT,t.cm,t),vkG.$r(UtJ.ZGT,t.bd,t),vkG.$r(UtJ.PP,t.hy,t),vkG.$r(UtJ.CR,t.td,t)},t.prototype.initData=function(){e.prototype.initData.call(this),this.td()},t.prototype.td=function(){var e=this;e.qu=e.ho(),e.qu?(e.te=App.PV.getGeneralRankByType(FDG.XX,e.qu.id),!e.te||GApp.timer-(e.te.rtime||0)>=e.im?(e.te&&(e.te.rtime=GApp.timer),RankMsgProxy.EI(FDG.XX)):e.jr(),e.el(),e.updateLastTime()):vkG.$r(UtJ.HD,e.cm,e)},t.prototype.bd=function(e){var t=this;e==FDG.XX&&t.qu&&(t.te=App.PV.getGeneralRankByType(FDG.XX,t.qu.id),t.jr())},t.prototype.hy=function(e){var t=this;t.qu&&e&&e.indexOf(t.qu.id)>=0&&t.el()},t.prototype.el=function(){var e=this;if(e.ga=null,e.qu){e.currTitleTxt.text=e.qu.describe,usable(e.qu.p4)?(e.nextTitleTxt.text='"'+e.qu.p4+'"',e.nextImg.visible=!0):(e.nextTitleTxt.text="",e.nextImg.visible=!1);for(var t=e.qu.bagList,n=t.length,i=0;n>i;i++)if(2!=t[i].status||i==n-1){e.ga=t[i];break}e.ga&&(e.targetTxt.text=fvg.GVf("public022",e.ga.haveFinish,e.ga.totalFinish),e.targetTxt.textColor=e.ga.haveFinish>=e.ga.totalFinish?Color.TX:Color.KA,e.canGetImg.x=e.targetTxt.x+e.targetTxt.textWidth+10,e.receiveBtn.icon=e.ga.haveFinish>=e.ga.totalFinish?StaticData.GHj:null,e.updateReward())}},t.prototype.updateReward=function(){var e=this;e.rewardList.source.length=0;for(var t,n=e.ga.rewardList,i=0;i<n.length;i++)t=GObj.$c(nlwj),t.tid=n[i].tempId,t.count=n[i].count,e.rewardList.source.push(t);e.rewardList.refresh(),e.receiveBtn.visible=2!=e.ga.status,e.receivedImg.visible=!e.receiveBtn.visible},t.prototype.jr=function(){var e=this;if(e.te){e.rankList.source.length=0;for(var t=e.te.rank.length,n=0;t>n;n++)e.rankList.source.push(e.te.rank[n]);e.rankList.refresh(),e.updateTxt.text=fvg.GVf("togethergift7",kpd.formatDateBySec(e.te.utime||0)),e.le()}},t.prototype.le=function(){var e=this;if(e.rankTxt_1.text=e.rankTxt_2.text="",e.nameTxt_1.text=e.nameTxt_2.text="",e.nameTxt_1.textColor=e.nameTxt_2.textColor=Color.SQ,e.useTxt_1.text=e.useTxt_2.text="",e.te){var t=e.te.myrank||0;if(1==t){e.rankTxt_1.text=fvg.GVf("38")+t,e.nameTxt_1.text=App.KF.name,e.nameTxt_1.textColor=Color.SE,e.useTxt_1.text=fvg.GVf("soaring1",e.te.myscore||0);var n=e.rankList.source[1];n&&(e.rankTxt_2.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_2.text=n.name||fvg.GVf("rank10"),e.useTxt_2.text=fvg.GVf("soaring1",n.score||0))}else if(t>1&&50>=t){e.rankTxt_2.text=fvg.GVf("38")+t,e.nameTxt_2.text=App.KF.name,e.nameTxt_2.textColor=Color.TX,e.useTxt_2.text=fvg.GVf("soaring1",e.te.myscore||0);var n=e.rankList.source[t-2];n&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_1.text=n.name,e.useTxt_1.text=fvg.GVf("soaring1",n.score||0))}else{e.rankTxt_2.text=fvg.GVf("38")+fvg.GVf("public042"),e.nameTxt_2.text=App.KF.name||fvg.GVf("rank10"),e.nameTxt_2.textColor=Color.YO,e.useTxt_2.text=fvg.GVf("soaring1",e.te.myscore||0);var n=e.rankList.source[e.rankList.length-1];n&&(e.rankTxt_1.text=fvg.GVf("38")+(n.rank||0),e.nameTxt_1.text=n.name||fvg.GVf("rank10"),e.useTxt_1.text=fvg.GVf("soaring1",n.score||0))}}},t.prototype.ho=function(){var e=App.MG.soaringGift,t=e.length;if(t>0)for(var n=void 0,i=0;t>i;i++)if(n=e[i],n.isExist)return n;return null},t.prototype.updateLastTime=function(){var e=this;if(e.qu){var t=e.qu.showEnd-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.cm,e):vkG.$r(HUtJ.HEARTBEAT,e.cm,e),e.cm()}},t.prototype.cm=function(){var e=this;if(!e.destory){e.te&&GApp.timer-(e.te.rtime||0)>=e.im&&(e.te.rtime=GApp.timer,RankMsgProxy.EI(FDG.XX));var t=e.qu.showEnd-App.NN.serverSecond;if(t>0){var n=e.qu.endTime-App.NN.serverSecond;n>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(n)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}else App.VS.close(KqZ.UQ)}},t.prototype.iy=function(e){var t=this;if(t.ga)return 2!=t.ga.status&&t.ga.haveFinish<t.ga.totalFinish?void MessageTipManager.instance.show(fvg.GVf("funny2")):void FunnyMsgProxy.LR(t.ga.id)},t.prototype.wq=function(e){App.VS.popup(KqZ.UQ,SoaringDescPopUi)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nextImg),t.nextImg=null,GObj.$d(t.targetTxt),t.targetTxt=null,GObj.$d(t.currTitleTxt),t.currTitleTxt=null,GObj.$d(t.rankTxt_1),t.rankTxt_1=null,GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.useTxt_1),t.useTxt_1=null,GObj.$d(t.rankTxt_2),t.rankTxt_2=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.useTxt_2),t.useTxt_2=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.nextTitleTxt),t.nextTitleTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receivedImg),t.receivedImg=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.updateTxt),t.updateTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.awardTxt),t.awardTxt=null,GObj.$d(t.canGetImg),t.canGetImg=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rankGroup&&(t.rankGroup.dataProvider=null,GObj.$d(t.rankGroup)),t.rankGroup=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rankList=null,t.rewardList=null,t.te=null,t.qu=null,t.ga=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(SoaringFrame.prototype,"SoaringFrame");var SoaringItemView=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SoaringItemViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.datas,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.xh=[]},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.oq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.oq,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.vu=e.data,e.nameTxt.text=e.vu.name||fvg.GVf("rank10"),e.useTxt.text=fvg.GVf("soaring1",e.vu.score||0),e.vu.rank<=3?(e.rankImg.source="core_json.core_rank_"+e.vu.rank+"_png",e.rankImg.visible=!0,e.rankTxt.visible=!1):(e.rankTxt.text=toChars(e.vu.rank),e.rankImg.visible=!1,e.rankTxt.visible=!0),e.datas.source.length=0;for(var t,n=e.vu.award||[],i=0;i<n.length;i++)i>=e.xh.length&&(e.xh[i]=GObj.$c(nlwj)),t=e.xh[i],t.tid=n[i].tid,t.count=n[i].count,e.datas.source.push(t);e.datas.refresh()}},t.prototype.oq=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.useTxt),t.useTxt=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup=null,t.datas=null,t.xh=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SoaringItemView.prototype,"SoaringItemView");var SocietyBossPopUi=function(e){function t(){var t=e.call(this,"SocietyBossPopUi")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.diffData=GObj.$c(eui.ArrayCollection),e.diffList.dataProvider=e.diffData,e.diffList.itemRenderer=TestSocietyDiffItem,e.headData=GObj.$c(eui.ArrayCollection),e.headList.dataProvider=e.headData,e.headList.itemRenderer=SocietyHeadItem,e.numberView=GObj.$c(NumberView),e.numberView.x=295,e.numberView.y=312,e.fightGroup.addChildAt(e.numberView,1),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardList.dataProvider=e.rewardData,e.rewardList.itemRenderer=GoodsItemRenderer,e.challengeBtn.label=fvg.GVf("213")},t.prototype.initEvent=function(){var e=this;e.diffList.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.__diffChangeHandler,e),e.headList.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.__headChangeHandler,e),e.challengeBtn.addEventListener(eui.tep,e.is,e),vkG.$a(UtJ.SF,e.zo,e)},t.prototype.removeEvent=function(){var e=this;e.diffList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__diffChangeHandler,e),e.headList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__headChangeHandler,e),e.challengeBtn.removeEventListener(eui.tep,e.is,e),vkG.$r(UtJ.SF,e.zo,e)},t.prototype.initData=function(){this.rw()},t.prototype.loU=function(e){var t=this;t.mc=e,t.rw()},t.prototype.rw=function(){var e=this;e.CSo&&e.mc&&(e.frameGroup.title=e.mc.name,e.wr=App.VP.getSocietyInfoById(e.mc.id),e.diffData.source.splice(0,e.diffData.source.length),e.diffData.source.push(e.mc),e.diffData.refresh(),e.diffList.selectedIndex=Math.min(e.wr.gr,MaxLevel.SOCIETY_MAX_DIFF-1),e.__diffChangeHandler(null),fNs.instance.execute(hXS.TU,hXS.RZ,e.challengeBtn))},t.prototype.zo=function(e){var t=this;t.wr=App.VP.getSocietyInfoById(t.mc.id),t.diffList.selectedIndex=Math.min(t.wr.gr,MaxLevel.SOCIETY_MAX_DIFF-1),t.__diffChangeHandler(null)},t.prototype.__diffChangeHandler=function(e){var t=this;t.pm=t.diffList.selectedIndex,t.hl()},t.prototype.hl=function(){var e=this,t=e.mc.boss;if(t){e.headData.source.splice(0,e.headData.source.length);for(var n=0;n<MaxLevel.SOCIETY_BOSS_NUM;n++)t[e.pm*MaxLevel.SOCIETY_BOSS_NUM+n]&&e.headData.source.push({site:e.mc,diff:e.pm});e.headData.refresh(),e.pm<e.wr.gr?e.headList.selectedIndex=e.headData.source.length-1:e.headList.selectedIndex=e.wr.or,e.__headChangeHandler(null)}},t.prototype.__headChangeHandler=function(e){var t=this;t.zz=t.headList.selectedIndex,t.hr()},t.prototype.hr=function(){var e=this,t=e.mc.boss[e.zz];if(t){var n=e.mc.boss[e.pm*MaxLevel.SOCIETY_BOSS_NUM+e.zz];e.nameTxt.text=n.name||t.name,e.bookTxt.text=n.book||t.book,e.descTxt.text=n.desc||t.desc,e.wf=n.mapid||t.mapid,e.bookTxt.x=e.nameTxt.x+e.nameTxt.width+3;var i=n.rank||t.rank;hFO.instance.getNumberView(bRC.UA,Nkz.RA(i),-8,e.numberView),e.rewardData.source.splice(0,e.rewardData.source.length);for(var r=n.reward||t.reward,a=Nkz.PI(r),o=0;o<a.length;o++)e.rewardData.source.push(a[o]);if(e.rewardData.refresh(),e.pm*MaxLevel.SOCIETY_BOSS_NUM+e.zz<e.wr.gr*MaxLevel.SOCIETY_BOSS_NUM+e.wr.or)e.receivedImg.visible=!0,e.challengeBtn.visible=!1,e.openLvTxt.visible=!1;else{e.receivedImg.visible=!1;var s=e.mc["lv"+(e.pm+1)]||1;e.challengeBtn.visible=App.KF.grade>=s,e.openLvTxt.visible=!e.challengeBtn.visible,e.openLvTxt.text=fvg.GVf("public048",s)}}},t.prototype.gl=function(e){return e>App.KF.point?void MessageTipManager.instance.show(fvg.GVf("public017")):void SocietyMsgProxy.OG(2,this.mc.id)},t.prototype.is=function(e){var t=this;if(t.pm*MaxLevel.SOCIETY_BOSS_NUM+t.zz==t.wr.gr*MaxLevel.SOCIETY_BOSS_NUM+t.wr.or&&t.wf&&App.UY.isCanSwitc()){var n=t.mc.id,i=t.wf;App.VP.curSocietyId=n,App.VP.curMapId=i,App.VP.curSocietyNum=t.headData.length-t.zz,App.VS.closeAll(),App.VS.enterMapOpenUI(i,10040,null,!1,"openRecommend"),App.UY.enter(i,!0,[n])}},t.prototype.dc=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.destory||(fNs.instance.execute(hXS.TU,hXS.YL),t.removeEvent(),GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.bookTxt),t.bookTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receivedImg),t.receivedImg=null,GObj.$d(t.numberView),t.numberView=null,GObj.$d(t.openLvTxt),t.openLvTxt=null,t.diffList&&(t.diffList.dataProvider=null,GObj.$d(t.diffList)),t.diffList=null,t.headList&&(t.headList.dataProvider=null,GObj.$d(t.headList)),t.headList=null,t.rewardList&&(t.rewardList.dataProvider=null,GObj.$d(t.rewardList)),t.rewardList=null,t.diffData=null,t.headData=null,t.rewardData=null,t.mc=null,t.wr=null,e.prototype.dispose.call(this))},t}(BasePopUi);__reflect(SocietyBossPopUi.prototype,"SocietyBossPopUi");var SocietyDiffItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SocietyDiffItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getedImg.visible=!1,e.lockImg.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.da,this,!1,99),e.addEventListener(eui.RFS,e.ai,e),vkG.$a(UtJ.SF,e.ch,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.da,this,!1),e.removeEventListener(eui.RFS,e.ai,e),vkG.$r(UtJ.SF,e.ch,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.bn=e.data;var t=e.itemIndex;e.star_1.visible=t>=0,e.star_2.visible=t>=1,e.star_3.visible=t>=2,e.star_4.visible=t>=3,e.star_5.visible=t>=4;var n=e.bn["d"+(t+1)],i=Nkz.PI(n);i.length>0&&(e.goodsItem.data=i[0]),e.ch(null)}},t.prototype.ch=function(e){var t=this;t.kd=App.VP.getSocietyInfoById(t.bn.id),t.lockImg.visible=t.kd.gr<t.itemIndex;for(var n=5*t.itemIndex,i=n+5,r=0,a=t.bn.boss,o=n;i>o;o++)a&&a[o]&&r++;t.kd.gr>t.itemIndex?(t.getedImg.visible=!0,t.progTxt.textFlow=LgRe.OQ(fvg.GVf("society8",r,r))):(t.getedImg.visible=!1,t.progTxt.textFlow=LgRe.OQ(fvg.GVf("society8",t.kd.or,r)))},t.prototype.da=function(e){var t=this;t.itemIndex>t.kd.gr&&(MessageTipManager.instance.show(fvg.GVf("society1")),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype.invalidateState=function(){var t=this;e.prototype.invalidateState.call(this);var n=t.getCurrentState();"up"==n||"down"==n?t.width=55:t.width=214},t.prototype.ai=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg1),t.backImg1=null,GObj.$d(t.backImg2),t.backImg2=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.star_1),t.star_1=null,GObj.$d(t.star_2),t.star_2=null,GObj.$d(t.star_3),t.star_3=null,GObj.$d(t.star_4),t.star_4=null,GObj.$d(t.star_5),t.star_5=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.itmeGroup),t.itmeGroup=null,t.bn=null,t.kd=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SocietyDiffItem.prototype,"SocietyDiffItem");var SocietyHeadItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SocietyHeadItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.killImg.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uy,this,!1,99),e.addEventListener(eui.RFS,e.nm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.uy,this,!1),e.removeEventListener(eui.RFS,e.nm,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.site.boss;if(e.cn=e.data.diff,e.gn=App.VP.getSocietyInfoById(e.data.site.id),e.tw=t[e.itemIndex],e.tw){var n=App.VP.getChallengeBossId(e.gn.id),i=e.cn*MaxLevel.SOCIETY_BOSS_NUM+e.itemIndex;e.ws=t[i]||{};var r=e.ws.head||e.tw.head;e.headIcon.icon=kLM.VJ(r),e.killImg.visible=n>i}}},t.prototype.uy=function(e){var t=this,n=App.VP.getChallengeBossId(t.gn.id),i=t.cn*MaxLevel.SOCIETY_BOSS_NUM+t.itemIndex;i>n&&(MessageTipManager.instance.show(fvg.GVf("society2")),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype.nm=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.killImg),t.killImg=null,GObj.$d(t.headIcon),t.headIcon=null,t.tw=null,t.ws=null,t.gn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SocietyHeadItem.prototype,"SocietyHeadItem");var SocietyRewardPopUi=function(e){function t(){var t=e.call(this,"SocietyRewardPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.verticalCenter=0,e.horizontalCenter=0,e.iu=(XCA.CG(IDU.VH)||"").split(","),e.ve=(XCA.CG(IDU.MS)||"").split(","),e.receiveBtn.label=fvg.GVf("104"),e.goodsData=GObj.$c(eui.ArrayCollection),e.goodsGroup.dataProvider=e.goodsData,e.goodsGroup.itemRenderer=GoodsItemRenderer,e.frameGroup.title=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;e.receiveBtn.addEventListener(eui.tep,e.vg,e),vkG.$a(UtJ.N_,e.mm,e)},t.prototype.removeEvent=function(){var e=this;e.receiveBtn.removeEventListener(eui.tep,e.vg,e),vkG.$r(UtJ.N_,e.mm,e)},t.prototype.initData=function(){this.mm()},t.prototype.show=function(){App.FT.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.vg=function(e){var t=this;App.VP.currStar>=t.jx?App.JA.checkIncome(t.su,t):MessageTipManager.instance.show(fvg.GVf("firstcharge004"))},t.prototype.su=function(){SocietyMsgProxy.TE()},t.prototype.mm=function(){var e=this;App.VP.rewardIndex>=e.ve.length?(e.jx=parseInt(e.ve[e.ve.length-1]),e.ip=e.iu[e.iu.length-1],e.receivedImg.visible=!0,e.receiveBtn.visible=!1,e.receiveBtn.icon=null):(e.jx=parseInt(e.ve[App.VP.rewardIndex]),e.ip=e.iu[App.VP.rewardIndex],e.receivedImg.visible=!1,e.receiveBtn.visible=!0,e.receiveBtn.icon=App.VP.currStar>=e.jx?StaticData.GHj:null);var t=App.VP.currStar>=e.jx?Color.TX:Color.KA;e.descLab.textFlow=LgRe.OQ(fvg.GVf("society7",t,App.VP.currStar,e.jx)),e.goodsData.source.splice(0,e.goodsData.source.length);for(var n=XCA.RE(e.ip),i=Nkz.PI(n),r=0;r<i.length;r++)e.goodsData.source.push(i[r]);e.goodsData.refresh()},t.prototype.zb=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receivedImg),t.receivedImg=null,GObj.$d(t.descLab),t.descLab=null,t.goodsGroup&&(t.goodsGroup.dataProvider=null,GObj.$d(t.goodsGroup)),t.goodsGroup=null,t.goodsData=null,t.iu=null,t.ve=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SocietyRewardPopUi.prototype,"SocietyRewardPopUi");var SocietySiteView=function(e){function t(){var t=e.call(this,"SocietySiteView")||this,n=RRUU.$s("SocietySiteViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.anchorOffsetX=25,e.anchorOffsetY=90,e.siteBtn.$autoSelected=!1,e.itemGroup=e.siteBtn.itemGroup,e.nameTxt=e.siteBtn.nameTxt,e.star_1=e.siteBtn.star_1,e.star_2=e.siteBtn.star_2,e.star_3=e.siteBtn.star_3,e.star_4=e.siteBtn.star_4,e.star_5=e.siteBtn.star_5,e.iconImg=e.siteBtn.iconImg,e.nextOpenImg=e.siteBtn.nextOpenImg,e.visible=!1},t.prototype.initEvent=function(){var e=this;e.siteBtn.addEventListener(eui.tep,e.xu,e)},t.prototype.removeEvent=function(){var e=this;e.siteBtn.removeEventListener(eui.tep,e.xu,e)},Object.defineProperty(t.prototype,"siteData",{get:function(){return this.tr},set:function(e){this.tr=e},enumerable:!0,configurable:!0}),t.prototype.updateView=function(){var e=this;if(e.CSo&&e.tr){e.visible=!0;var t=e.tr.id%3+1;if(e.x=e.tr.x,e.y=e.tr.y,e.isOpen=App.VP.getCurrentCopyId(e.tr.id),e.rp=App.VP.getSocietyInfoById(e.tr.id),e.isOpen){e.nameTxt.text=e.tr.name,e.nameTxt.textColor=Color.XB,e.iconImg.source="society_1_json.society1_icon_"+t+"_png";var n=App.VP.getClearedDiffById(e.tr.id);e.star_1.visible=n>=1,e.star_2.visible=n>=2,e.star_3.visible=n>=3,e.star_4.visible=n>=4,e.star_5.visible=n>=5,fNs.instance.execute(hXS.BB,hXS.RZ,e.siteBtn)}else e.nameTxt.text=e.tr.name,e.nameTxt.textColor=Color.KA,e.iconImg.source="society_1_json.society1_icon_e"+t+"_png";e.recommendImg&&(e.recommendImg.visible=!1,App.HA.unRegisteEnterFrame2(e.qe,e))}},t.prototype.updateRecommend=function(){var e=this;e.recommendImg||(e.recommendImg=GObj.$c(eui.Image),e.recommendImg.source="society_1_json.society1_bg_5_png",e.recommendImg.x=19,e.recommendImg.y=-33,e.addChild(e.recommendImg)),e.recommendImg.visible=!0,e.tb=1,App.HA.registeEnterFrame2(e.qe,e)},t.prototype.qe=function(){var e=this;e.recommendImg.y+=e.tb,e.recommendImg.y<-43&&(e.tb=1),e.recommendImg.y>-33&&(e.tb=-1)},t.prototype.updateNextOpen=function(e,t){var n=this;n.ne=e,n.ls=t},t.prototype.xu=function(e){var t=this;return t.ne&&t.ne==t.tr.id?void MessageTipManager.instance.show(fvg.GVf("society9",t.ls)):void App.VS.popup(10040,SocietyBossPopUi,null,t.tr)},t.prototype.dispose=function(){var t=this;t.removeEvent(),App.HA.unRegisteEnterFrame2(t.qe,t),t.tr=null,t.rp=null,t.itemGroup=null,t.nameTxt=null,t.star_1=null,t.star_2=null,t.star_3=null,t.star_4=null,t.star_5=null,t.iconImg=null,t.nextOpenImg=null,GObj.$d(t.siteBtn),t.siteBtn=null,GObj.$d(t.recommendImg),t.recommendImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SocietySiteView.prototype,"SocietySiteView");var SocietyView=function(e){function t(){var t=e.call(this,"SocietyView")||this;return t.skinName=RRUU.$s("SocietyView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;
e.ic={},e.dj=(XCA.CG(IDU.MS)||"").split(","),ziI.MF("SocietyFrame")},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.boxBtn.addEventListener(eui.tep,t.eb,t),t.hardBtn.addEventListener(eui.tep,t.wn,t),t.exploreBtn.addEventListener(eui.tep,t.aw,t),vkG.$a(UtJ.N_,t.zz,t),vkG.$a(UtJ.ND,t.jn,t),vkG.$a(UtJ.SF,t.rw,t),vkG.$a(UtJ.AW,t.jg,t)},t.prototype.removeEvent=function(){var e=this;e.boxBtn.removeEventListener(eui.tep,e.eb,e),e.hardBtn.removeEventListener(eui.tep,e.wn,e),e.exploreBtn.removeEventListener(eui.tep,e.aw,e),e.uv&&e.uv.removeEventListener(eui.tep,e.ye,e),vkG.$r(UtJ.N_,e.zz,e),vkG.$r(UtJ.ND,e.jn,e),vkG.$r(UtJ.SF,e.rw,e),vkG.$r(UtJ.AW,e.jg,e)},t.prototype.jg=function(){var e=this,t=App.MG.carnivalTeam2List;if(t){e.uv||(e.uv=GObj.$c(CarnivalTipItem),e.addChild(e.uv),e.uv.addEventListener(eui.tep,e.ye,e));var n=t.bagList[t.bagList.length-1];if(!n)return;var i=n.rewardList[0];if(!i)return;var r=GObj.$c(nlwj);r.tid=i.tempId,r.count=i.count,e.uv.setData(r,fvg.GVf("imm08"),null)}},t.prototype.ye=function(){App.VS.open(10153)},t.prototype.nh=function(e){var t=this,n=e.nodes;n.sort(App.VP.dataSort);for(var i,r=0;r<n.length;r++)e=n[r],i=GObj.$c(SocietySiteView),i.siteData=e,t.ic[e.id]=i,t.addChild(i);t.zz(),t.jn(),t.hardBtn.icon=App.VP.currStar>=StaticData.HARD_SOCIETY_STAR&&UsU.HW(RedPointType.AQ)?StaticData.GHj:null,t.exploreBtn.icon=null},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.jg(),RES.getResByUrl("node_pos_json",t.nh,t)},t.prototype.jn=function(){var e,t,n,i=this,r=0;i.fr=0;var a=!1;App.KF.grade;for(e in i.ic)if(n=i.ic[e],n.updateView(),t=n.siteData,a=App.VP.getCurrentCopyId(t.id,1))i.fr=parseInt(e),i.bw=t.name;else if(i.fr&&(r=parseInt(e)),i.fr&&r)break;i.fr>0&&(n=i.ic[i.fr],n.updateRecommend(),i.zb&&i.sr()),r>0&&(n=i.ic[r],n.updateNextOpen(r,i.bw))},t.prototype.openRecommend=function(){var e=this;e.zb=!0,e.fr>0&&e.sr()},t.prototype.sr=function(){var e=this;if(e.fr>0&&e.zb){e.zb=!1;var t=e.ic[e.fr];t&&t.siteData&&App.VS.popup(10040,SocietyBossPopUi,t.siteData)}},t.prototype.br=function(e){var t=Number.MAX_VALUE,n=App.VP.getChallengeBossId(e.id);if(!e.boss)return t;var i=e.boss[n];return i&&i.rank&&(t=i.rank),t},t.prototype.ik=function(e){var t=App.VP.getSocietyInfoById(e.id);if(t){var n=t.gr+1;return e["lv"+n]||0}return 0},t.prototype.rw=function(e){e&&0!=e.length&&this.jn()},t.prototype.zz=function(){var e=this,t=App.VP.currStar;if(App.VP.rewardIndex>=e.dj.length)e.starTxt.text=t+"/MAX",e.starTxt.textColor=Color.XB,e.boxBtn.icon=null;else{var n=parseInt(e.dj[App.VP.rewardIndex]);e.starTxt.text=fvg.GVf("public022",t,n),e.starTxt.textColor=t>=n?Color.TX:Color.KA,e.boxBtn.icon=t>=n?StaticData.GHj:null}},t.prototype.eb=function(e){App.VS.popup(10040,SocietyRewardPopUi)},t.prototype.wn=function(e){rRcz.UU()},t.prototype.aw=function(e){vkG.$d(UtJ.RB,2)},t.prototype.dispose=function(){var t=this;if(fNs.instance.execute(hXS.BB,hXS.YL),t.removeEvent(),GObj.$d(t.starTxt),t.starTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.hardBtn),t.hardBtn=null,GObj.$d(t.exploreBtn),t.exploreBtn=null,GObj.$d(t.uv),t.uv=null,t.dj=null,t.ic)for(var n in t.ic)GObj.$d(t.ic[n]),delete t.ic[n];t.ic=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SocietyView.prototype,"SocietyView");var SocietyViewItem=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.initView=function(){e.prototype.initView.call(this)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.li,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.li,e)},t.prototype.li=function(e){this._data&&App.VS.open(10153)},t.prototype.updateCount=function(){this.updateNumTxt()},t.prototype.dispose=function(){var t=this;t.destory||(t.removeEvent(),e.prototype.dispose.call(this))},t}(BaseItemView);__reflect(SocietyViewItem.prototype,"SocietyViewItem");var TestSocietyDiffItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TestSocietyDiffItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getedImg.visible=!1,e.lockImg.visible=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ek,this,!1,99),e.addEventListener(eui.RFS,e.kq,e),vkG.$a(UtJ.SF,e.jy,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ek,this,!1),e.removeEventListener(eui.RFS,e.kq,e),vkG.$r(UtJ.SF,e.jy,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.w_=e.data;var t=e.itemIndex;e.star_1.visible=t>=0,e.star_2.visible=t>=1,e.star_3.visible=t>=2,e.star_4.visible=t>=3,e.star_5.visible=t>=4;var n=e.w_["d"+(t+1)],i=Nkz.PI(n);i.length>0&&(e.goodsItem.data=i[0]),e.jy(null)}},t.prototype.jy=function(e){var t=this;t.vv=App.VP.getSocietyInfoById(t.w_.id),t.lockImg.visible=t.vv.gr<t.itemIndex;for(var n=5*t.itemIndex,i=n+5,r=0,a=t.w_.boss,o=n;i>o;o++)a&&a[o]&&r++;t.vv.gr>t.itemIndex?(t.getedImg.visible=!0,t.progTxt.textFlow=LgRe.OQ(fvg.GVf("society8",r,r))):(t.getedImg.visible=!1,t.progTxt.textFlow=LgRe.OQ(fvg.GVf("society8",t.vv.or,r)))},t.prototype.ek=function(e){var t=this;t.itemIndex>t.vv.gr&&(MessageTipManager.instance.show(fvg.GVf("society1")),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype.invalidateState=function(){var t=this;e.prototype.invalidateState.call(this);var n=t.getCurrentState();"up"==n||"down"==n?t.width=55:t.width=214},t.prototype.kq=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg1),t.backImg1=null,GObj.$d(t.backImg2),t.backImg2=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.star_1),t.star_1=null,GObj.$d(t.star_2),t.star_2=null,GObj.$d(t.star_3),t.star_3=null,GObj.$d(t.star_4),t.star_4=null,GObj.$d(t.star_5),t.star_5=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.itmeGroup),t.itmeGroup=null,t.w_=null,t.vv=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TestSocietyDiffItem.prototype,"TestSocietyDiffItem");var ThreeWorldFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.hp=0,n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oh=0,e.ki=GObj.$c(kQr),e.ki.frameid=e.id,e.ki.cwA(e.societyBtn)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ki.selectedIndex=e[0],n.yk(null))},t.prototype.initData=function(){e.prototype.initData.call(this),this.ki.selectedIndex=0},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.ki.addEventListener(egret.Event.CHANGE,t.yk,t),vkG.$a(UtJ.RB,t.iu,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.ki.removeEventListener(egret.Event.CHANGE,t.yk,t),vkG.$r(UtJ.RB,t.iu,t)},t.prototype.iu=function(e){void 0===e&&(e=0);var t=this;t.hp=e,t.ki.selectedIndex=0,t.yk(null)},t.prototype.yk=function(e){var t=this,n=t.ki.LuO;switch(t.oh=t.ki.selectedIndex,t.zu&&(t.zu.visible=!1),t.zu=null,n){case t.societyBtn:t.title="society_1_json.society_title_png",0==t.hp?(t.se||(t.se=GObj.$c(SocietyView),t.se.x=23,t.se.y=64,t.addChild(t.se)),t.zu=t.se):1==t.hp&&(t.pg||(t.pg=GObj.$c(ExploreView),t.pg.x=23,t.pg.y=64,t.addChild(t.pg)),t.zu=t.pg)}t.oh=t.ki.selectedIndex,t.zu&&(t.zu.visible=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.societyBtn),t.societyBtn=null,GObj.$d(t.ki),t.ki=null,GObj.$d(t.se),t.se=null,GObj.$d(t.pg),t.pg=null,t.zu=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(ThreeWorldFrame.prototype,"ThreeWorldFrame");var ThreeWorldView=function(e){function t(t){var n=e.call(this,"ThreeWorldView")||this;return n.re=1,n.skinName=RRUU.$s("ThreeWorldView"),n}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.ca()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.RB,e.pu,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.RB,e.pu,e)},t.prototype.dataUpdated=function(){var e=this;e.pu(e.tabType)},t.prototype.pu=function(e){void 0===e&&(e=1);var t=this;t.re=e,t.ca()},t.prototype.ca=function(){var e=this;e.pi&&(e.pi.visible=!1),e.pi=null,1==e.re?(e.ow||(e.ow=GObj.$c(SocietyView),e.addChild(e.ow)),e.pi=e.ow):2==e.re&&(e.an||(e.an=GObj.$c(ExploreView),e.addChild(e.an)),e.pi=e.an),e.pi&&(e.pi.visible=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ow),t.ow=null,GObj.$d(t.an),t.an=null,t.pi=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ThreeWorldView.prototype,"ThreeWorldView");var SpecialTipsBar=function(){function e(){singleton(e._instance),e._instance=this}return Object.defineProperty(e,"instance",{get:function(){return this._instance||GObj.$c(e)},enumerable:!0,configurable:!0}),e.prototype.setup=function(){var e=this;e._isSetup||(e._isSetup=!0,e.pauseCheck=!1,e._infoArr=[],e.initEvent(),e.initData())},e.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DV,e.__checkGoodsHandler,e),vkG.$a(UtJ.JD,e.checkBetterEquipped,e),vkG.$a(UtJ._SG,e.__alertFormHandler,e),vkG.$a(HUtJ.UPDATE_HOUR1,e.__hourUpdateHandler,e)},e.prototype.initData=function(){var e=this;e.checkBetterEquipped(),e.checkCanUseBox(),e.checkCanUseAppell()},e.prototype.showTips=function(e,t){void 0===t&&(t=!0);var n=this;if(e)if(n._currTips&&n._currTips.tipType==e.tipType)n._currTips.specialInfo=e,n._currTips.checkShow()||n.__tipDisposeHandler(null);else{if(t){var i=n.getIndexByType(e.tipType);i>=0&&n._infoArr.splice(i,1)}n._infoArr.push(e),n.showNext()}},e.prototype.showNext=function(){var e=this;if(!e._currTips&&0!=e._infoArr.length){var t=e._infoArr.shift();e._currTips=e.getTipByType(t.tipType),e._currTips&&(e._currTips.specialInfo=t,e._currTips.addEventListener(UtJ.ST,e.__tipDisposeHandler,e),e._currTips.checkShow()?e._currTips.show():e.__tipDisposeHandler(null))}},e.prototype.__tipDisposeHandler=function(e){var t=this;t._currTips.removeEventListener(UtJ.ST,t.__tipDisposeHandler,t),t._currTips=null,t.showNext()},e.prototype.getTipByType=function(e){var t;switch(e){case SpecialTipType.RW:case SpecialTipType.JX:case SpecialTipType.KW:case SpecialTipType.RR:case SpecialTipType.CY:case SpecialTipType.OX:case SpecialTipType.YN:case SpecialTipType.VT:t=BetterEquippedTip;break;case SpecialTipType.XG:t=CanUseBoxTip;break;case SpecialTipType.FB:t=BossReviveTip;break;case SpecialTipType.AL:t=CanUseAppellTip;break;case SpecialTipType._D:t=TurnupBossReviveTip;break;case SpecialTipType.FL:t=BossReviveTip}return t?GObj.$c(t):null},e.prototype.existType=function(e){return this.getIndexByType(e)>=0},e.prototype.getIndexByType=function(e){for(var t=this,n=-1,i=0;i<t._infoArr.length;i++)if(t._infoArr[i].tipType==e){n=i;break}return n},e.prototype.__checkGoodsHandler=function(e){var t=this;if(!t.pauseCheck&&e&&App.KF.newbie){for(var n,i,r=e.length,a=0;r>a;a++)n=App.FK.getnlwjByGoodsId(e[a]),n&&1==n.btype&&(i=n.TSF,i&&(n.canWear||t.compareEquip(n)));t.checkCanUseBox(),t.checkCanUseAppell(),t._currTips&&(t._currTips.checkShow()?t._currTips.updateView():t._currTips.dispose())}},e.prototype.compareEquip=function(e){var t=GxD.instance.Fkl(2,e.sonType);if(0==t.length||t[0].TSF.p2<e.TSF.p2){var n=GObj.$c(SpecialInfo);n.tipType="type_"+e.subType,n.data=e,this.showTips(n)}},e.prototype.checkBetterEquipped=function(){if(App.KF.newbie&&!(App.KF.chapter<StaticData.SPECIAL_TIP_CH)){for(var e,t,n=Iwrv.YJ,i=[],r=0;r<n.length;r++)e=App.FK.searchMoreEquip(n[r]),e&&(t=GObj.$c(SpecialInfo),t.tipType="type_"+e.subType,t.data=e,i.push(t));for(var r=0;r<i.length;r++)this.showTips(i[r])}},e.prototype.checkCanUseBox=function(){var e=this;if(App.KF.newbie&&!(e.existType(SpecialTipType.XG)||e._currTips&&e._currTips.tipType==SpecialTipType.XG))for(var t,n=App.FK.getGoodsListByTypes([Iwrv.GK],1),i=n.length,r=0;i>r;r++)if(t=n[r],CanUseBoxTip.NC(t)){var a=GObj.$c(SpecialInfo);a.tipType=SpecialTipType.XG,a.data=t,e.showTips(a);break}},e.prototype.checkCanUseAppell=function(){var e=this;if(App.KF.newbie&&!(App.KF.chapter<StaticData.SPECIAL_TIP_CH)&&!(e.existType(SpecialTipType.AL)||e._currTips&&e._currTips.tipType==SpecialTipType.AL))for(var t,n=App.FK.getGoodsListByTypes([Iwrv.GK],1),i=n.length,r=0;i>r;r++)if(t=n[r],CanUseAppellTip.JO(t)){var a=GObj.$c(SpecialInfo);a.tipType=SpecialTipType.AL,a.data=t,e.showTips(a);break}},e.prototype.__alertFormHandler=function(e){var t=this;if(e&&e.type&&!t.bossRevive){var n=GObj.$c(SpecialInfo);switch(e.type){case 4:n.tipType=SpecialTipType.FB,n.data=e.p1}n.tipType&&t.showTips(n)}},e.prototype.__hourUpdateHandler=function(){var e=this;if(!e.turnupBossRevive&&App.KF.chapter>=StaticData.TURNUP_BOSS_CH){var t=App.NN.date,n=t.getHours(),i=App.MB.turnupBossInfo.startTime;if(i.indexOf(n)>=0){ziI.MF("reborn_boss");var r=GObj.$c(SpecialInfo);r.tipType=SpecialTipType._D,e.showTips(r)}}},e}();__reflect(SpecialTipsBar.prototype,"SpecialTipsBar");var CanUseAppellTip=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.initView=function(){this.confirmBtn.label=fvg.GVf("specia001")},t.prototype.checkShow=function(){var e=this;if(e.specialInfo&&e.specialInfo.data){var n=e.specialInfo.data,i=App.FK.getnlwjByGoodsId(n.id);return t.JO(i)}return!1},t.prototype.execute=function(){var e=this;if(e.specialInfo&&e.specialInfo.data){var t=e.specialInfo.data,n=App.FK.getnlwjByGoodsId(t.id);if(n&&1==n.btype){var i=n.TSF,r=XCA.CS(i.p1);if(!r)return;if(r.grade>=MaxLevel.APPELL_MAX_LEVEL)return void App.TT.show(fvg.GVf("renown7"));var a=n.count;GoodsMsgProxy.TI(n.id,a);var o=(r.grade||0)+a;o>=MaxLevel.APPELL_MAX_LEVEL&&(o=MaxLevel.APPELL_MAX_LEVEL),App.TT.show(fvg.GVf("renown10",r.name,o))}}},t.JO=function(e){if(!e)return!1;var t=e.TSF,n=XCA.CS(t.p1);return!t||e.sonType!=Iwrv.TN||n.grade>=MaxLevel.APPELL_MAX_LEVEL?!1:!0},t}(BetterEquippedTip);__reflect(CanUseAppellTip.prototype,"CanUseAppellTip");var CanUseBoxTip=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.initView=function(){this.confirmBtn.label=fvg.GVf("418")},t.prototype.checkShow=function(){var e=this;if(e.specialInfo&&e.specialInfo.data){var n=e.specialInfo.data,i=App.FK.getnlwjByGoodsId(n.id);return t.NC(i)}return!1},t.prototype.execute=function(){var e=this;if(e.specialInfo&&e.specialInfo.data){var t=e.specialInfo.data,n=App.FK.getnlwjByGoodsId(t.id);if(n&&1==n.btype){var i=n.count,r=n.TSF.p2||0;r>0&&(i=App.FK.hsx(r),i=Math.min(n.count,i)),GoodsMsgProxy.TI(n.id,i)}}},t.NC=function(e){if(!e)return!1;var t=e.TSF;if(!t||e.sonType!=Iwrv.EZ)return!1;var n=t.p2||0,i=t.p3||0,r=t.p8||0;return n>0&&0==App.FK.hsx(n)?!1:i>0&&App.XT.vipInfo.vipGrade<i?!1:2!=r?!1:!0},t}(BetterEquippedTip);__reflect(CanUseBoxTip.prototype,"CanUseBoxTip");var TurnupBossReviveTip=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.updateView=function(){var e=this;if(e.CSo&&e.specialInfo){for(var t=App.MB.turnupBossList,n=0;n<t.length;n++)t[n].TSF.conval<=App.BG.turnupInfo.grade&&(e.lu=t[n]);e.lu&&(e.nameTxt.text=e.lu.TSF.name,e.iconView.icon=kLM.VJ(e.lu.TSF.icon))}},t.prototype.execute=function(){this.specialInfo&&rRcz.NG()},t.prototype.__checkBoxChangeHandler=function(e){SpecialTipsBar.instance.turnupBossRevive=this.checkBox.selected},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.lu=null},t}(BossReviveTip);__reflect(TurnupBossReviveTip.prototype,"TurnupBossReviveTip");var SpiritCompositePopUi=function(e){function t(){var t=e.call(this,"SpiritCompositePopUi")||this;return t.skinName=RRUU.$s("SpiritCompositePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.compBtn.label=fvg.GVf("spirit27"),e.title=fvg.GVf("spirit27"),e.composeUseTxt.text=fvg.GVf("spirit9"),e.fullGradeTxt.text=fvg.GVf("public014"),e.pq=fvg.GVf("store004").split(","),e.fightView=GObj.$c(FightView),e.fightView.x=118,e.fightView.y=42,e.addChild(e.fightView),e.yi=-1,e.ob=0,e.bb={},e.itemArray=[],e.equipGroup=GObj.$c(kQr);for(var t,n=Iwrv.QL,i=0;i<n.length;i++)t=GObj.$c(SpiritItemView,n[i]),t.setOpenFrame(!1),t.isShowUpgradeEff=!1,e.itemArray.push(t),e.equipGroup.cwA(t),e.itemGroup.addChild(t),e.bb[n[i]]=parseInt(App.RM.spiritComposeId[i]);e.ny(),e.ku=GObj.$c(nlwj),e.ov=GObj.$c(SpiritItemView),e.ov.setOpenFrame(!1),e.ov.x=110,e.ov.y=195,e.ov.isShowUpgradeEff=!1,e.we=GObj.$c(SpiritItemView),e.we.setOpenFrame(!1),e.we.x=290,e.we.y=195,e.we.isShowUpgradeEff=!1,e.addChild(e.ov),e.addChild(e.we),e.smaicon1.goodsTid=StaticData.TID_GOODS_21},t.prototype.initData=function(){var e=this;e.sd(),e.equipGroup.selectedIndex=0,e.uz()},t.prototype.initEvent=function(){var e=this;e.ov.addEventListener(eui.tep,e.oj,e),e.we.addEventListener(eui.tep,e.eu,e),e.compBtn.addEventListener(eui.tep,e.ks,e),e.equipGroup.addEventListener(egret.Event.CHANGE,e.xh,e),vkG.$a(UtJ.AJ,e.vr,e),vkG.$a(UtJ.XH,e.sd,e)},t.prototype.removeEvent=function(){var e=this;e.ov.removeEventListener(eui.tep,e.oj,e),e.we.removeEventListener(eui.tep,e.eu,e),e.compBtn.removeEventListener(eui.tep,e.ks,e),e.equipGroup.removeEventListener(egret.Event.CHANGE,e.xh,e),vkG.$r(UtJ.AJ,e.vr,e),vkG.$r(UtJ.XH,e.sd,e)},t.prototype.uz=function(){for(var e=Iwrv.QL.length,t=0;e>t;t++){var n=this.itemArray[t];n&&(n.icon=UsU.YA(n.equipType)?StaticData.GHj:null)}},t.prototype.sd=function(){var e=App.RM.spiritAllCap;this.fightView.fightNum=e},t.prototype.vr=function(){var e=this;e.ny(),e.sd(),e.xh(null),e.uz()},t.prototype.ny=function(){for(var e,t=Iwrv.QL,n=0;n<t.length;n++)if(e=App.FK.Fkl(8,t[n]),e.length>0){var i=this.itemArray[n];i.data=e[0]}},t.prototype.ks=function(){var e=this;if(!e.dj||!e.ku.TSF)return void App.TT.show(fvg.GVf("store026"));var t=App.FK.hsx(e.dj.mat2),n=e.dj.ct2;return n>t?void _JDW.TR(e.dj.mat2):void(e.dj&&SpiritMsgProxy.ZC(e.dj.id))},t.prototype.oj=function(){var e=this;if(e.ov.data){var t=GObj.$c(SpiritEquipDetailFrame,8);t.show(e.ov.equipType,e.ov.data)}},t.prototype.eu=function(){var e=this;if(e.we.data){var t=GObj.$c(SpiritEquipDetailFrame,8);t.show(e.we.equipType,e.we.data)}},t.prototype.cj=function(){var e=this;e.to={};for(var t,n=App.FK.LHp(8),i=0;i<n.length;i++)t=n[i].TSF.suiteid,t&&(!(e.to[t]>=0)&&(e.to[t]=0),e.to[t]++)},t.prototype.xh=function(e){var t=this,n=t.equipGroup.selectedIndex;t.selectedPartsTxt.text=t.pq[n];var i=t.equipGroup.LuO;i&&(t.ov.data=i.data,t.ov.equipType=i.equipType),t.dk=t.ov.equipType,t.uj(),2101===t.dk||2106===t.dk||2107===t.dk||2108===t.dk?t.smaicon1.goodsTid=StaticData.TID_GOODS_74:t.smaicon1.goodsTid=StaticData.TID_GOODS_21,t.compBtn.icon=UsU.YA(t.dk)?StaticData.GHj:null},t.prototype.uj=function(){var e=this;if(e.CSo&&e.dk){if(e.nr=App.FK.Fkl(8,e.dk)[0],e.ku.tid=0,e.dj=App.PI.getSpiritComposeByMat(e.nr?e.nr.tid:0)[0],e.dj)e.ku.tid=e.dj.nmat,e.ov.x=120,e.arrowImg.visible=!0,e.we.visible=!0,e.we.equipType=e.dk,e.we.data=e.ku,e.currGradeTxt.x=131,e.nextGradeTxt.x=271,e.nextAttrsTxt.x=258,e.currAttrsTxt.x=122,e.currAttrsTxt.visible=e.suitTitleTxt.visible=!0,e._a(!1);else if(e.nr)e.ov.x=205,e.arrowImg.visible=!1,e.we.visible=!1,e.currGradeTxt.x=190,e.nextGradeTxt.x=190,e.nextAttrsTxt.x=200,e.currAttrsTxt.x=192,e.currAttrsTxt.visible=!0,e._a(!0);else{e.ov.x=205,e.arrowImg.visible=!1,e.we.visible=!1,e.currGradeTxt.x=190,e.nextGradeTxt.x=190,e.nextAttrsTxt.x=187,e.currAttrsTxt.visible=e.suitTitleTxt.visible=!1,e._a(!1);var t=XCA.RW(e.bb[e.dk]);if(!t)return;e.dj=t,e.ku.tid=t.nmat||0,e.ov.equipType=e.dk,e.ov.data=e.ku}e.ts(),e.gc(),e.updateNeedCount(),e.nr&&(-1!=e.yi&&e.yi==e.dk&&e.ob!=e.nr.tid&&App.KB.showEffect(gYq.UQ),e.yi=e.dk,e.ob=e.nr.tid)}},t.prototype._a=function(e){var t=this;e?(t.useBgImg1.visible=!1,t.useBgImg2.visible=!1,t.needTxt_1.visible=!1,t.composeUseTxt.visible=!1,t.compBtn.visible=!1,t.smaicon1.visible=!1,t.fullGradeTxt.visible=!0):(t.useBgImg1.visible=!0,t.useBgImg2.visible=!0,t.needTxt_1.visible=!0,t.composeUseTxt.visible=!0,t.compBtn.visible=!0,t.smaicon1.visible=!0,t.fullGradeTxt.visible=!1)},t.prototype.ts=function(){var e=this;if(e.currAttrsTxt.text="",e.currGradeTxt.text="",e.nr){var t=e.nr.TSF.p1,n=XCA.YV(t);if(n){var i=void 0,r=void 0,a="";for(i in xxf.UK)r=n[i]||0,r>0&&(a+=fvg.GVf("skill004",xxf.UK[i],r)+"\n");for(i in xxf.IM)r=n[i]||0,r&&(a+=fvg.GVf("skill004",xxf.IM[i],(r/10).toFixed(1)+"%")+"\n");if(n=XCA.YV(e.nr.TSF.p3))for(i in xxf.IM)r=n[i]*(1+.1*(e.nr.TSF.step-1))||0,r&&(a+=fvg.GVf("skill004",xxf.IM[i],(r/10).toFixed(1)+"%")+"\n");e.currAttrsTxt.textFlow=LgRe.OQ(a)}e.nr.TSF.step?e.currGradeTxt.text=fvg.GVf("spirit19",e.nr.TSF.step):e.currGradeTxt.text=fvg.GVf("public013",e.nr.TSF.needgrade)}},t.prototype.gc=function(){var e=this;if(e.nextAttrsTxt.text="",e.nextGradeTxt.text="",e.dj){var t=e.nr?!0:!1;t?e.nextAttrsTxt.textAlign="center":e.nextAttrsTxt.textAlign="left";var n=XCA.FR(e.dj.nmat);if(n){var i=n.p1,r=XCA.YV(i);if(r){var a=void 0,o=void 0,s="";for(a in xxf.UK)o=r[a]||0,o>0&&(s+=t?fvg.GVf("skill004","",o)+"\n":fvg.GVf("skill004",xxf.UK[a],o)+"\n");for(a in xxf.IM)o=r[a]||0,o&&(s+=t?fvg.GVf("skill004","",(o/10).toFixed(1)+"%")+"\n":fvg.GVf("skill004",xxf.IM[a],(o/10).toFixed(1)+"%")+"\n");if(r=XCA.YV(n.p3))for(a in xxf.IM)o=r[a]*(1+.1*(n.step-1))||0,o&&(s+=t?fvg.GVf("skill004","",(o/10).toFixed(1)+"%")+"\n":fvg.GVf("skill004",xxf.IM[a],(o/10).toFixed(1)+"%")+"\n");e.nextAttrsTxt.textFlow=LgRe.OQ(s)}e.nextGradeTxt.text=fvg.GVf("spirit19",n.step)}}},t.prototype.updateNeedCount=function(){var e=this;if(!e.dj)return void(e.needTxt_1.text="0");var t=App.FK.hsx(e.dj.mat2),n=e.dj.ct2;e.needTxt_1.text=fvg.GVf("public022",t,n),e.needTxt_1.textColor=t>=n?Color.TX:Color.KA,n=0,t=0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.arrowImg),t.arrowImg=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.currGradeTxt),t.currGradeTxt=null,GObj.$d(t.nextGradeTxt),t.nextGradeTxt=null,GObj.$d(t.suitTitleTxt),t.suitTitleTxt=null,GObj.$d(t.noSuitTxt),t.noSuitTxt=null,GObj.$d(t.currAttrsTxt),t.currAttrsTxt=null,GObj.$d(t.nextAttrsTxt),t.nextAttrsTxt=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.compBtn),t.compBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.to),t.to=null,GObj.$d(t.nr),t.nr=null,GObj.$d(t.ku),t.ku=null,GObj.$d(t.dj),t.dj=null,GObj.$d(t.ov),t.ov=null,GObj.$d(t.we),t.we=null,GObj.$d(t.bb),t.bb=null,GObj.$d(t.useBgImg1),t.useBgImg1=null,GObj.$d(t.useBgImg2),t.useBgImg2=null,GObj.$d(t.selectedPartsTxt),t.selectedPartsTxt=null,GObj.$d(t.pq),t.pq=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SpiritCompositePopUi.prototype,"SpiritCompositePopUi");var SpiritEquipDetailFrame=function(e){function t(t){var n=e.call(this,"SpiritEquipDetailFrame")||this;return n.zy=8,n.skinName=RRUU.$s("SpiritEquipDetailFrame"),n.verticalCenter=0,n.horizontalCenter=0,n.zy=t,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.basisLab.text=fvg.GVf("role3"),e.intensifyLab.text=fvg.GVf("role4"),e.basis_1Lab.text="",e.basis_2Lab.text="",e.intensify_1Lab.text="",e.nameLab.text="",e.gradeLab.text="",e.ni=[1,2,2,2,1,2,1,1]},t.prototype.qd=function(){var e=this;if(e.CSo){var t;if(e.pm)t=e.pm;else{var n=GxD.instance.Fkl(e.zy,e.hh);t=n.length>0?n[0]:null}if(t){var i=t.TSF;e.equipItem.data=t,e.nameLab.text=i.name,e.nameLab.textColor=aKF.DU(i.qua),e.fightTxt.text=fvg.GVf("public018",i.p2),i.step>0?e.gradeLab.text=fvg.GVf("spirit20",i.step):e.gradeLab.text=fvg.GVf("public013",i.needgrade),e.getEquipAttr(e.basis_1Lab,e.basis_2Lab,i),e.nv?e.rb():(e.intensifyLab.text="",e.intensify_1Lab.text="")}}},t.prototype.initEvent=function(){},t.prototype.initData=function(){this.qd()},t.prototype.removeEvent=function(){},t.prototype.show=function(e,t,n){void 0===n&&(n=!0);var i=this;i.hh=e,i.pm=t,i.nv=n,i.qd(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.getEquipAttr=function(e,t,n){if(n&&n.p1){var i=XCA.YV(n.p1);if(i){e.text="",t.text="";var r=[],a=xxf.UK;for(var o in a)if(i[o]){var s="";r.length>0&&(s+="\n"),s+=a[o]+"  +"+i[o],r.push(s)}a=xxf.IM;for(var o in a)if(i[o]){var p="";r.length>0&&(p+="\n"),p+=a[o]+"  +"+i[o]/10+"%",r.push(p)}i=XCA.YV(n.p3);var l,c,u="";if(i){c=i[l]||0;for(l in xxf.IM)c=i[l]*(1+.1*(n.step-1))||0,c&&(r.length>0&&(u+="\n"),u+=fvg.GVf("skill004",xxf.IM[l],(c/10).toFixed(1)+"%")+"\n",r.push(u))}for(var d=0;d<r.length&&r[d];d++)e.text+=r[d]}}},t.prototype.rb=function(){var e=this,t=XCA.AQS.UFA(49,1,1),n=e.hh%1e3-101,i=t.attrid+1e4*e.ni[n],r=XCA.YV(i);if(r){var a=1==e.ni[n]?"atk":"hp",o=xxf.UK[a];e.km=App.RM.intensifyInfo[e.hh]||0,o+=e.km>0?" +"+App.JP.getIntensifyAttr(r[a],e.km):" +0",e.intensify_1Lab.textFlow=LgRe.OQ(o)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.equipItem),t.equipItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.basisLab),t.basisLab=null,GObj.$d(t.basis_1Lab),t.basis_1Lab=null,GObj.$d(t.basis_2Lab),t.basis_2Lab=null,GObj.$d(t.intensifyLab),t.intensifyLab=null,GObj.$d(t.intensify_1Lab),t.intensify_1Lab=null,GObj.$d(t.fightTxt),t.fightTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.removeChildren(),GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.pm),t.pm=null,GObj.$d(t.mx),t.mx=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SpiritEquipDetailFrame.prototype,"SpiritEquipDetailFrame");var SpiritEquipItem=function(e){function t(t){var n=e.call(this,"SpiritEquipItem")||this,i=RRUU.$s("SpiritEquipItemSkin");return n.skinName=i,n.xk=t,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.jiNum=GObj.$c(NumberView),e.jiNum.y=74,e.addChild(e.jiNum),e.jieNum=GObj.$c(NumberView),e.jieNum.y=74,e.addChild(e.jieNum)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.np,e),e.addEventListener(eui.tep,e.wn,e),vkG.$a(UtJ.AJ,e.mh,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.np,e),e.removeEventListener(eui.tep,e.wn,e),vkG.$r(UtJ.AJ,e.mh,e)},t.prototype.np=function(e){GObj.$d(this)},t.prototype.mh=function(){var e=this,t=App.FK.getSpiritEquipIwrv(e.xk),n=App.FK.Fkl(1,t);if(n&&n.length>0){var i=UsU.YA(e.xk);e.redPointImg.source=i?StaticData.GHj:null,i&&(e.currtid=n[0].tid),e._isShowUpgradeEff=i?!0:!1}},t.prototype.bg=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.wn=function(e){var t=this;if(!t.data)return void App.VS.popup(10009,SpiritCompositePopUi);var n=GObj.$c(SpiritEquipDetailFrame,8);n.show(t.xk)},Object.defineProperty(t.prototype,"data",{get:function(){return this.ja},set:function(e){var t=this;t.ja=e,t.ja?(t.equipItem.data=t.ja,t.nj()):(t.equipItem.data=null,t.ss()),t.mh()},enumerable:!0,configurable:!0}),t.prototype.nj=function(){var e=this;if(e.imageIcon.visible=!1,Iwrv.QL.indexOf(e.xk)>=0){var t=e.ja.TSF;t.step>0?(e.jiImg.visible=e.jiNum.visible=!1,e.jieImg.visible=e.jieNum.visible=!0,hFO.instance.getNumberView(bRC.QK,t.step.toString(),-4,e.jieNum),e.jieNum.x=(e.width-e.jieImg.width-e.jieNum.width)/2,e.jieImg.x=e.jieNum.x+e.jieNum.width):(e.jiImg.visible=e.jiNum.visible=!0,e.jieImg.visible=e.jieNum.visible=!1,hFO.instance.getNumberView(bRC.QK,t.needgrade.toString(),-4,e.jiNum),e.jiNum.x=(e.width-e.jiImg.width-e.jiNum.width)/2,e.jiImg.x=e.jiNum.x+e.jiNum.width),e.pretid=e.ja.tid,e.currtid&&e.pretid==e.currtid&&e.updateEquip()}},t.prototype.ss=function(){var e=this;e.levelTxt.text="",e.jiImg.visible=e.jiNum.visible=e.jieImg.visible=e.jieNum.visible=!1,e.imageIcon.visible=!0,Iwrv.QL.indexOf(e.xk)>=0?e.imageIcon.source="spirit_json.equip_"+e.xk+"_png":e.imageIcon.source=null},Object.defineProperty(t.prototype,"gNlK",{set:function(e){var t=this;t.equipItem&&(t.equipItem.gNlK=e)},enumerable:!0,configurable:!0}),t.prototype.updateEquip=function(){var e=this;e._isShowUpgradeEff&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.bg,e),e.weS.x=-36,e.weS.y=-40),e.weS.play(1),e.addChild(e.weS))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.imageIcon),t.imageIcon=null,GObj.$d(t.levelTxt),t.levelTxt=null,GObj.$d(t.equipItem),t.equipItem=null,GObj.$d(t.jiImg),t.jiImg=null,GObj.$d(t.jieImg),t.jieImg=null,GObj.$d(t.jiNum),t.jiNum=null,GObj.$d(t.jieNum),t.jieNum=null,t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.bg,t)),GObj.$d(t.weS),t.weS=null,t.ja=null,e.prototype.dispose.call(this)
},t}(BaseUI);__reflect(SpiritEquipItem.prototype,"SpiritEquipItem");var SpiritIntensifyPopUi=function(e){function t(){var t=e.call(this,"SpiritIntensifyPopUi")||this;return t.yh=!1,t.ae=-1,t.skinName=RRUU.$s("SpiritIntensifyPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("spirit28"),e.intensifyBtn.label=fvg.GVf("store001"),e.intensifyUseTxt.text=fvg.GVf("spirit10"),e.intensifyAutoBtn.label=fvg.GVf("store002"),e.tq=fvg.GVf("store004").split(","),e.masterBtn.icon="spirit_json.spirit_intensify_master_png",e.itemArray=[],e.equipGroup=GObj.$c(kQr);for(var t,n=Iwrv.QL,i=0;i<n.length;i++)t=GObj.$c(SpiritItemView,n[i]),t.setOpenFrame(!1),t.setShowGrade(!0),e.itemArray.push(t),e.equipGroup.cwA(t),e.itemGroup.addChild(t);e.qk(),e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=48,e.selectedPartsItem=GObj.$c(SpiritItemView),e.selectedPartsItem.setOpenFrame(!1),e.selectedPartsItem.setShowGrade(!1),e.selectedPartsItem.x=223,e.selectedPartsItem.y=200,e.selectedPartsItem.isShowUpgradeEff=!1,e.addChild(e.fightView),e.addChild(e.selectedPartsItem),e.smaicon2.goodsTid=StaticData.TID_GOODS_33,e.lx=[1,2,2,2,1,2,1,1],e.mw()},t.prototype.initData=function(){var e=this;e.ne(),e.equipGroup.selectedIndex=0,e.wv()},t.prototype.initEvent=function(){var e=this;e.intensifyBtn.addEventListener(eui.tep,e.ye,e),e.equipGroup.addEventListener(egret.Event.CHANGE,e.z_,e),e.selectedPartsItem.addEventListener(eui.tep,e.xj,e),e.intensifyAutoBtn.addEventListener(eui.tep,e.dm,e),e.masterBtn.addEventListener(eui.tep,e.oz,e),vkG.$a(UtJ.OU,e.tp,e),vkG.$a(UtJ.ED,e.hf,e),vkG.$a(UtJ.AJ,e.tj,e),vkG.$a(UtJ.DV,e.updateNeedCount,e)},t.prototype.removeEvent=function(){var e=this;e.intensifyBtn.removeEventListener(eui.tep,e.ye,e),e.equipGroup.removeEventListener(egret.Event.CHANGE,e.z_,e),e.selectedPartsItem.removeEventListener(eui.tep,e.xj,e),e.intensifyAutoBtn.removeEventListener(eui.tep,e.dm,e),e.masterBtn.removeEventListener(eui.tep,e.oz,e),vkG.$r(UtJ.OU,e.tp,e),vkG.$r(UtJ.ED,e.hf,e),vkG.$r(UtJ.AJ,e.tj,e),vkG.$r(UtJ.DV,e.updateNeedCount,e)},t.prototype.tp=function(){var e=this;e.ne(),e.wv()},t.prototype.tj=function(){this.qk()},t.prototype.ne=function(){var e=App.RM.spiritIntendifyCap;this.fightView.fightNum=e},t.prototype.wv=function(){this.masterBtn.label=fvg.GVf("store035_1",App.HG.spiritMaster)},t.prototype.oz=function(){App.VS.popup(10009,StoreMasterPopUi,null,StoreItemView.BX)},t.prototype.mw=function(){for(var e=Iwrv.QL.length,t=0;e>t;t++){var n=this.itemArray[t];n&&(n.icon=UsU.OI(n.equipType)&&n.data?StaticData.GHj:null)}},t.prototype.ye=function(){var e=this,t=GApp.timer;return t-e.dq<400?void MessageTipManager.instance.show(fvg.GVf("store003")):(e.dq=t,e.selectedPartsItem.data?e._p>=MaxLevel.SPIRIT_INTENIFY_MAX_LEVEL?void MessageTipManager.instance.show(fvg.GVf("beauty7")):void(e.yh?SpiritMsgProxy.HG(e.selectedPartsItem.equipType):_JDW.TR(e.ig)):void MessageTipManager.instance.show(fvg.GVf("spirit26")))},t.prototype.dm=function(){var e=this,t=GApp.timer;if(t-e.dq<400)return void MessageTipManager.instance.show(fvg.GVf("store003"));e.dq=t;var n=e.rf();return-2==n[0]?void _JDW.TR(StaticData.TID_GOODS_33):-3==n[0]?e.gf()?void MessageTipManager.instance.show(fvg.GVf("spirit25")):void MessageTipManager.instance.show(fvg.GVf("spirit26")):void SpiritMsgProxy.AM(n)},t.prototype.gf=function(){for(var e=0;e<Iwrv.QL.length;e++){var t=App.RM.intensifyInfo[Iwrv.QL[e]];if(t>MaxLevel.SPIRIT_INTENIFY_MAX_LEVEL)return!0}return!1},t.prototype.rf=function(){for(var e,t,n,i=this,r=[],a=[],o=App.FK.hsx(i.ae),s=-3,p=0;p<Iwrv.QL.length;p++)if(e=i.kh(a),!(0>=e||(t=App.RM.intensifyInfo[e],t>=MaxLevel.SPIRIT_INTENIFY_MAX_LEVEL||i.ae<=0))){if(n=App.JP.getNeedEisByGrade(t),!(o>=n)){s=-2;break}a.push(e),r.push(e),o-=n}return 0==r.length&&r.push(s),r},t.prototype.kh=function(e){for(var t,n=0,i=App.RM.intensifyInfo,r=MaxLevel.INTENSIFY_MAX_LEVEL+1,a=Iwrv.QL,o=a.length,s=0;o>s;s++)t=App.FK.Fkl(8,a[s]),t&&t.length>0&&e.indexOf(a[s])<0&&i[a[s]+""]<r&&(r=i[a[s]],n=a[s]);return n},t.prototype.hf=function(){var e=this;App.RM.intensifyInfo[e.selectedPartsItem.equipType]||1;e.oy=XCA.AQS.UFA(49,1,1),e.va(),e.mw()},t.prototype.qk=function(){for(var e,t=Iwrv.QL,n=0;n<t.length;n++)if(e=GxD.instance.Fkl(8,t[n]),e.length>0){var i=this.itemArray[n];i.data=e[0]}},t.prototype.z_=function(e){var t=this,n=t.equipGroup.selectedIndex;t.selectedPartsTxt.text=t.tq[n];var i=t.itemArray[n];i&&(t.selectedPartsItem.data=i.data,t.selectedPartsItem.equipType=i.equipType);App.RM.intensifyInfo[t.selectedPartsItem.equipType]||0;t.oy=XCA.AQS.UFA(49,1,1),t.va(),t.intensifyBtn.icon=UsU.OI(t.selectedPartsItem.equipType)&&t.selectedPartsItem.data?StaticData.GHj:null,t.intensifyAutoBtn.icon=UsU.KM()?StaticData.GHj:null},t.prototype.va=function(){var e=this;e.CSo&&(e._p=App.RM.intensifyInfo[e.selectedPartsItem.equipType]||0,e.selectedPartsItem.equipType==e.ii&&e._p!=e.wf&&App.KB.showEffect(gYq.UQ),e.ii=e.selectedPartsItem.equipType,e.wf=e._p,e.ne(),e.updateNeedCount(),e.uk(),e.lb())},t.prototype.updateNeedCount=function(){var e=this;if(!e.CSo||!e.oy)return void(e.needEisTxt1.text="--");e.yh=!1;var t=e.oy.cost.split(",");if(t&&(e.ae=parseInt(t[0]),!(e.ae<=0))){var n=App.FK.hsx(e.ae),i=App.JP.getNeedEisByGrade(e._p);n>=i&&(e.yh=!0),i>n?e.needEisTxt1.textColor=Color.KA:e.needEisTxt1.textColor=Color.TX,e.needEisTxt1.text=n+"/"+i,e.yh||(e.ig=e.ae)}},t.prototype.uk=function(){var e=this,t=XCA.AQS.UFA(49,1,1),n=e.selectedPartsItem.equipType%1e3-101,i=t.attrid+1e4*e.lx[n],r=XCA.YV(i);if(r){var a=1==e.lx[n]?"atk":"hp",o=xxf.UK[a];o+=e._p>0?" +"+App.JP.getIntensifyAttr(r[a],e._p):" +0",e.currAttrTxt.textFlow=LgRe.OQ(fvg.GVf("store039")+o)}},t.prototype.zy=function(e,t,n){var i,r=this;if(t){var a=e%2100;switch(a){case 1:case 5:case 8:i=1e4,r.ns=2;break;case 2:case 4:i=2e4,r.ns=3;break;case 3:case 6:case 7:i=3e4,r.ns=4}return t.attrid+i+n}},t.prototype.lb=function(){var e=this,t=(App.RM.intensifyInfo[e.selectedPartsItem.equipType],XCA.AQS.UFA(49,1,1));if(t){var n=e.selectedPartsItem.equipType%1e3-101,i=t.attrid+1e4*e.lx[n],r=XCA.YV(i),a="";if(r){var o=1==e.lx[n]?"atk":"hp";a=fvg.GVf("store040",xxf.UK[o]+" +"+App.JP.getIntensifyAttr(r[o],e._p+1))}else a=fvg.GVf("store009");e.nextAttrTxt.textFlow=LgRe.OQ(a)}},t.prototype.xj=function(e){var t=this;if(t.selectedPartsItem.data){var n=GObj.$c(SpiritEquipDetailFrame,8);n.show(t.selectedPartsItem.equipType)}},t.prototype.p_=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.selectedPartsTxt),t.selectedPartsTxt=null,GObj.$d(t.oy),t.oy=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.selectedPartsItem),t.selectedPartsItem=null,GObj.$d(t.itemBack),t.itemBack=null,GObj.$d(t.tq),t.tq=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.intensifyAutoBtn),t.intensifyAutoBtn=null,GObj.$d(t.needEisTxt1),t.needEisTxt1=null,GObj.$d(t.masterBtn),t.masterBtn=null,GObj.$d(t.smaicon2),t.smaicon2=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SpiritIntensifyPopUi.prototype,"SpiritIntensifyPopUi");var SpiritItemView=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"SpiritItemView")||this;n._e=!1,n.vn=!0,n._equipType=t;var i=RRUU.$s("SpiritItemViewSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.preTab="",e.preGrade=0,e._isShowUpgradeEff=!0,e.selected=!1,e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.ED,e.su,e),e.addEventListener(eui.tep,e.pq,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.ED,e.su,e),e.removeEventListener(eui.tep,e.pq,e)},t.prototype.initData=function(){var e=this;e.jo(),e.tu()},t.prototype.setOpenFrame=function(e){this.vn=e},t.prototype.pq=function(e){var t=this;if(t.data&&t.vn){var n=GObj.$c(SpiritEquipDetailFrame,8);n.show(t.equipType)}},t.prototype.su=function(){var e=this;e._e&&(e.tu(),e.checkUpgrade())},t.prototype.eg=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;t._data=e,t._itemView.data=t._data,t.wm()},enumerable:!0,configurable:!0}),t.prototype.jo=function(){var e=this;Iwrv.QL.indexOf(e._equipType)>=0?e._typeIcon.source="spirit_json.equip_"+e._equipType+"_png":e._typeIcon.source=null,e._currGrade=App.RM.intensifyInfo[e.equipType]||0,e.preGrade=e._currGrade},t.prototype.wm=function(){var e=this;e._data&&e._data.quality>=aKF.PU?(e._typeIcon.visible=!1,e._itemView.data=e._data):(e._typeIcon.visible=!0,e._itemView.data=null)},Object.defineProperty(t.prototype,"equipType",{get:function(){return this._equipType},set:function(e){var t=this;t._equipType=e,t.jo()},enumerable:!0,configurable:!0}),t.prototype.setShowGrade=function(e){var t=this;t.CSo&&(t._e=e,t._e?t._gradeTxt.visible=!0:t._gradeTxt.visible=!1)},t.prototype.tu=function(){var e=this;e._e?e._gradeTxt.visible=!0:e._gradeTxt.visible=!1,e._currGrade=0,e._currGrade=App.RM.intensifyInfo[e.equipType]||0,e._currGrade>0?e._gradeTxt.text="+"+e._currGrade:e._gradeTxt.text=""},t.prototype.checkUpgrade=function(){var e=this;e._isShowUpgradeEff&&(e._currGrade!=e.preGrade&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.eg,e),e.weS.x=-36,e.weS.y=-40),e.weS.play(1),e.addChild(e.weS)),e.preGrade=e._currGrade)},Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowUpgradeEff",{get:function(){return this._isShowUpgradeEff},set:function(e){this._isShowUpgradeEff=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._selectedBack.visible=t._selected},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._selectedBack),t._selectedBack=null,GObj.$d(t._redPoint),t._redPoint=null,GObj.$d(t._itemView),t._itemView=null,GObj.$d(t._typeIcon),t._typeIcon=null,GObj.$d(t._gradeTxt),t._gradeTxt=null,GObj.$d(t.iconDisplay),t.iconDisplay=null,t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.eg,t)),GObj.$d(t.weS),t.weS=null,t._data=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SpiritItemView.prototype,"SpiritItemView",["ISelectedButton","egret.IEventDispatcher"]);var SpiritBuyPopUi=function(e){function t(){var t=e.call(this,"SpiritBuyPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.itemRenderer=GoodsItemRenderer,e.itemGroup.dataProvider=e.datas,e.lh=GObj.$c(FigureView),e.lh.x=30,e.lh.y=500,e.addChildAt(e.lh,1),e.timeLab.visible=!1,e.descLabel.text=fvg.GVf("public125")},t.prototype.initData=function(){this.jj()},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.bi,e),e.closeBtn.addEventListener(eui.tep,e.tb,e),e.skillBtn.addEventListener(eui.tep,e.sb,e),vkG.$a(UtJ.AW,e.ul,e),vkG.$a(UtJ.PP,e.ul,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.bi,e),e.closeBtn.removeEventListener(eui.tep,e.tb,e),e.skillBtn.removeEventListener(eui.tep,e.sb,e),vkG.$r(UtJ.AW,e.ul,e),vkG.$r(UtJ.PP,e.ul,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},t.prototype.jj=function(){this.oc()},t.prototype.oc=function(){var e=this;if(e.CSo){e.datas.source.length=0;for(var t,n=e.ef.rewardList,i=n.length,r=0;i>r;r++)t=GObj.$c(nlwj),t.tid=n[r].tempId,t.count=n[r].count,e.datas.source.push(t);e.datas.refresh(),e.sk(),e.ne(),1==e.ef.status&&e.gu()}},t.prototype.gu=function(){var e=this;ClockManager.setTimeout(e.tb,this,500)},t.prototype.sb=function(){},t.prototype.bi=function(){},t.prototype.sk=function(){},t.prototype.eq=function(){var e=this;if(e.h_){var t=e.h_.endTime-App.NN.serverSecond;return 0>t?(e.timeLab.text=fvg.GVf("public035"),void(e.timeLab.textColor=Color.HE)):void(e.timeLab.text=fvg.GVf("cumure2",kpd.YW(t)))}},t.prototype.ne=function(){},t.prototype.ul=function(){this.oc()},t.prototype.tb=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.skillBtn),t.skillBtn=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.lh),t.lh=null,GObj.$d(t.descLabel),t.descLabel=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas&&(t.datas.removeAll(),GObj.$d(t.datas)),t.datas=null,t.ef=null,t.h_=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SpiritBuyPopUi.prototype,"SpiritBuyPopUi");var SpiritsEquipItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SpiritsEquipItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.touchEnabled=!1,e.qe=GObj.$c(nlwj)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.ub,e),vkG.$a(UtJ.DV,e.yj,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.ub,e),vkG.$r(UtJ.DV,e.yj,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=e.data;e.qe.tid=parseInt(t.cost),e.gn()}},t.prototype.gn=function(){var e=this,t=e.data;e.cv=gLw.IQ(t.tid);var n=0;e.qa=(e.cv%10||10)+2e3,n?(e._gradeTxt.text=fvg.GVf("465",n),e._typeIcon.source=null,e._itemView.data=e.qe):(e._itemView.data=null,e._gradeTxt.text="",e._typeIcon.source="frame_json.equip_"+e.qa+"_png"),e.yj()},t.prototype.yj=function(){},t.prototype.ub=function(e){App.VS.popup(null,SpiritEquipPopUi,null,this.data)},Object.defineProperty(t.prototype,"redPoint",{set:function(e){var t=this;e?t._redPoint.source=StaticData.GHj:t._redPoint.source=""},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._redPoint),t._redPoint=null,GObj.$d(t._itemView),t._itemView=null,GObj.$d(t._typeIcon),t._typeIcon=null,GObj.$d(t._gradeTxt),t._gradeTxt=null,GObj.$d(t.iconDisplay),t.iconDisplay=null,t.qe=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SpiritsEquipItem.prototype,"SpiritsEquipItem");var SpiritEquipPopUi=function(e){function t(){var t=e.call(this,"SpiritEquipPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bu=GObj.$c(nlwj),e.nextDesc.text=fvg.GVf("ssuit4"),e.maxGrade.text=fvg.GVf("ssuit22")},t.prototype.initData=function(){var e=this;e.CSo&&e.ty()},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.ms,e),e.upgradeBtn.addEventListener(eui.tep,e._y,e),e.goodsItem.addEventListener(eui.tep,e.tg,e),vkG.$a(UtJ.DV,e.g_,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.ms,e),e.upgradeBtn.removeEventListener(eui.tep,e._y,e),e.goodsItem.removeEventListener(eui.tep,e.tg,e),vkG.$r(UtJ.DV,e.g_,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;!e||e.length<=0||(n.yj=e[0],n.initData())},t.prototype.ty=function(){this.qg()},t.prototype.qg=function(){},t.prototype.tg=function(){},t.prototype.yt=function(){},t.prototype._y=function(e){},t.prototype.g_=function(){this.ty()},t.prototype.ms=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.curGroup),t.curGroup=null,GObj.$d(t.curAttr),t.curAttr=null,GObj.$d(t.curDesc),t.curDesc=null,GObj.$d(t.nextGroup),t.nextGroup=null,GObj.$d(t.nextAttr),t.nextAttr=null,GObj.$d(t.nextDesc),t.nextDesc=null,GObj.$d(t.arrow),t.arrow=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.costIcon),t.costIcon=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.upgradeGroup),t.upgradeGroup=null,GObj.$d(t.maxGrade),t.maxGrade=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SpiritEquipPopUi.prototype,"SpiritEquipPopUi");var SpiritEquipView=function(e){function t(){var t=e.call(this,"SpiritEquipView")||this;return t.tt=!1,t.bo=!1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.xx=157,e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=SpiritSuitItem,e.equipData=GObj.$c(eui.ArrayCollection),e.equipGroup.dataProvider=e.equipData,e.equipGroup.itemRenderer=SpiritEquipItem,e.wt=GObj.$c(FigureView),e.wt.x=250,e.wt.y=460,e.addChildAt(e.wt,1),e.reloadingBtn.label=fvg.GVf("role1")},t.prototype.initData=function(){this.bm()},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.eo,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.go,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.vk,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.jr,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.kt,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.f_,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.kh,e),e.reloadingBtn.addEventListener(eui.tep,e.ru,e),e.masterBtn.addEventListener(eui.tep,e.ts,e),e.attrBtn.addEventListener(eui.tep,e.jd,e),vkG.$a(UtJ.DV,e.qo,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.eo,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.go,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.vk,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.jr,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.kt,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.f_,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.kh,e),e.reloadingBtn.removeEventListener(eui.tep,e.ru,e),e.masterBtn.removeEventListener(eui.tep,e.ts,e),e.attrBtn.removeEventListener(eui.tep,e.jd,e),vkG.$r(UtJ.DV,e.qo,e)},t.prototype.bm=function(){},t.prototype.gq=function(){},t.prototype.__selectedChangeHandler=function(e){this.gq()},t.prototype.qe=function(){},t.prototype.jz=function(e){var t=this;if(t.wt&&(!t.gg||t.gg!=e)){t.gg=e,t.gg||(t.gg=GConfig.AVATAR_DEFAULT);var n=irK.PART_SOUL;t.wt.updatePart(t.gg,n)}},t.prototype.uh=function(){this.qe()},t.prototype.np=function(){this.gq()},t.prototype.qo=function(){},t.prototype.jd=function(){},t.prototype.ru=function(e){},t.prototype.ts=function(){App.VS.popup(null,SpiritTalentPopUi,null,this.io)},t.prototype.kh=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.go=function(e){this.bo=!0},t.prototype.vk=function(e){this.bo=!1},t.prototype.kt=function(e){this.tt=!0},t.prototype.f_=function(e){this.tt=!1},t.prototype.eo=function(){var e=this;if(e.bo){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.bo=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.jr=function(){var e=this;if(e.tt){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.tt=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),t.equipGroup&&(t.equipGroup.dataProvider=null,GObj.$d(t.equipGroup),t.equipGroup=null),GObj.$d(t.itemScroller),t.itemScroller=null,GObj.$d(t.itemList),t.itemList=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.reloadingBtn),t.reloadingBtn=null,GObj.$d(t.attrBtn),t.attrBtn=null,GObj.$d(t.masterBtn),t.masterBtn=null,GObj.$d(t.masterDesc),t.masterDesc=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.masGradeView),t.masGradeView=null,GObj.$d(t.wt),t.wt=null,GObj.$d(t.orderImg),t.orderImg=null,t.equipData.removeAll(),GObj.$d(t.equipData),t.equipData=null,t.datas.removeAll(),GObj.$d(t.datas),t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SpiritEquipView.prototype,"SpiritEquipView");var SpiritStarItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SpiritStarItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.immType=157},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ud,e),vkG.$a(UtJ.XY,e.bg,e),vkG.$a(UtJ.DV,e.bg,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ud,e),vkG.$r(UtJ.XY,e.bg,e),vkG.$r(UtJ.DV,e.bg,e)},t.prototype.bg=function(e){this.ep()},t.prototype.ud=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=0;t>0?(e.lockImg.visible=!1,e.starImg.visible=!0,e.couLab.visible=!0,e.coubg.visible=!0):(e.lockImg.visible=!0,e.starImg.visible=!1,e.couLab.visible=!1,e.coubg.visible=!1);var n=parseInt(e.data.cost),i=XCA.FR(n);gLw.IQ(e.data.tid);if(i){toChars(i.icon);e.qualityImg.source="core_json.quality_"+i.qua+"_png"}e.data.p3&&(e.quaIcon.source="core_json.core_qhs_png"),e.ep()}},Object.defineProperty(t.prototype,"immType",{get:function(){return this.ij},set:function(e){var t=this;t.ij=e,t.ep()},enumerable:!0,configurable:!0}),t.prototype.ep=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.item),t.item=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.qualityImg),t.qualityImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.usingImg),t.usingImg=null,GObj.$d(t.couLab),t.couLab=null,GObj.$d(t.coubg),t.coubg=null,GObj.$d(t.starImg),t.starImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SpiritStarItem.prototype,"SpiritStarItem");var SpiritStarView=function(e){function t(){var t=e.call(this,"SpiritStarView")||this;return t.ow=0,t.lu=!1,t.lf=!1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.pq=157,e.maxLab.text=fvg.GVf("spirit3"),e.attrdescLab1.text=fvg.GVf("spirit4"),e.attrdescLab2.text=fvg.GVf("spirit5"),e.attrMaxLab.text=fvg.GVf("public109"),e.datas=GObj.$c(eui.ArrayCollection),e.vh=GObj.$c(nlwj),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=SpiritStarItem,e.sh=GObj.$c(FigureView),e.sh.x=180,e.sh.y=550,e.addChildAt(e.sh,1),e.starArr=[];for(var t=0;10>t;t++)e.starArr[t]=GObj.$c(egret.Bitmap),e.starArr[t].x=32.4*t,e.starArr[t].y=3,e.starGroup.addChild(e.starArr[t])},t.prototype.initData=function(){this.ii()},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.upstarBtn.addEventListener(eui.tep,e.on,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.hr,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.lk,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.oz,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.wye,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dnr,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.lup,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.tg,e),e.skillDesBtn.addEventListener(eui.tep,e.nt,e),e.useBtn.addEventListener(eui.tep,e.om,e),vkG.$a(UtJ.XY,e.qu,e),vkG.$a(UtJ.SS,e.qu,e),vkG.$a(UtJ.DV,e.uf,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(eui.ItemTapEvent.CHANGE,e.__selectedChangeHandler,e),e.upstarBtn.removeEventListener(eui.tep,e.on,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.hr,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.lk,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.oz,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.wye,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.dnr,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.lup,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.tg,e),e.skillDesBtn.removeEventListener(eui.tep,e.nt,e),e.useBtn.removeEventListener(eui.tep,e.om,e),vkG.$r(UtJ.XY,e.qu,e),vkG.$r(UtJ.SS,e.qu,e),vkG.$r(UtJ.DV,e.uf,e)},t.prototype.ii=function(){},t.prototype.uv=function(){},t.prototype.uf=function(){var e=this;e.ow=App.FK.hsx(e.dk),e.costItem.text=fvg.GVf("public022",e.ow,1),e.costItem.textColor=e.ow>=1?Color.TX:Color.HE,e.ab()},t.prototype.py=function(e){},t.prototype.zm=function(e){var t=this;if(t.sh&&(!t.qb||t.qb!=e)){t.qb=e,t.qb||(t.qb=GConfig.AVATAR_DEFAULT);var n=irK.PART_SOUL;t.sh.updatePart(t.qb,n)}},t.prototype.__selectedChangeHandler=function(e){this.uv()},t.prototype.nt=function(e){},t.prototype.ai=function(e){for(var t=this,n=0;10>n;n++)t.starArr[n].texture=RES.getRes("game_json.big_star_off_png");var i=Math.ceil(e/10),r=e%10;e>0&&0==r&&(r=10);for(var a=0;r>a;a++)t.starArr[a].texture=RES.getRes("game_json.big_star_"+i+"_png")},t.prototype.om=function(){},t.prototype.on=function(e){},t.prototype.qu=function(e){var t=this;e==t.pq&&t.uv()},t.prototype.rq=function(){this.uv()},t.prototype.ab=function(){},t.prototype.tg=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?void(t.leftBtn.visible=!1):(t.leftBtn.visible=!0,n.viewport.scrollH+n.width>=n.viewport.contentWidth?void(t.rightBtn.visible=!1):void(t.rightBtn.visible=!0))},t.prototype.lk=function(e){this.lf=!0},t.prototype.oz=function(e){this.lf=!1},t.prototype.dnr=function(e){this.lu=!0},t.prototype.lup=function(e){this.lu=!1},t.prototype.hr=function(){var e=this;if(e.lf){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.lf=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.wye=function(){var e=this;if(e.lu){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.lu=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),t.starArr)for(var n=0;n<t.starArr.length;n++)GObj.$d(t.starArr[n]);GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.skillDesBtn),t.skillDesBtn=null,GObj.$d(t.starGroup),t.starGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.immName),t.immName=null,GObj.$d(t.nameQua),t.nameQua=null,GObj.$d(t.nextImg),t.nextImg=null,GObj.$d(t.attrdescLab1),t.attrdescLab1=null,GObj.$d(t.attrdescLab2),t.attrdescLab2=null,GObj.$d(t.attrLab),t.attrLab=null,GObj.$d(t.attrMaxLab),t.attrMaxLab=null,GObj.$d(t.sh),t.sh=null,GObj.$d(t.attrLabOne),t.attrLabOne=null,GObj.$d(t.pelletLimit),t.pelletLimit=null,GObj.$d(t.costIcon),t.costIcon=null,GObj.$d(t.costItem),t.costItem=null,GObj.$d(t.costDesc),t.costDesc=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.upGrop),t.upGrop=null,GObj.$d(t.datas),t.datas=null,GObj.$d(t.vh),t.vh=null,GObj.$d(t.condLab),t.condLab=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SpiritStarView.prototype,"SpiritStarView");
var SpiritSuitItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SpiritSuitItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DV,e.oy,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DV,e.oy,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.data&&e.CSo&&e.vt()},t.prototype.vt=function(){this.oy()},t.prototype.oy=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.bgMaskImg),t.bgMaskImg=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.nameImg),t.nameImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SpiritSuitItem.prototype,"SpiritSuitItem");var SpiritTalentPopUi=function(e){function t(t){var n=e.call(this,"SpiritTalentPopUi")||this;return n.type=t,n.skinName=RRUU.$s(n.id),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){this.activityTex.text=fvg.GVf("public010")},t.prototype.initData=function(){this.pt()},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.kc,e),e.confirmBtn.addEventListener(eui.tep,e._a,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.kc,e),e.confirmBtn.removeEventListener(eui.tep,e._a,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.sm=e[0],n.pt()},t.prototype.ee=function(){},t.prototype.pt=function(){var e=this;e.sm&&e.CSo&&(e.pr=gLw.IQ(e.sm.tid),e.ac=0,e._iconDisplay.source="",0==e.ac?(e.nextPhase.visible=!1,e.nextPhaseGroup.visible=!1,e.nextImg.visible=!1,e.confirmBtn.label=fvg.GVf("public012"),e.activityTex.visible=!0):(e.nextPhase.visible=!0,e.nextPhaseGroup.visible=!0,e.nextImg.visible=!0,e.confirmBtn.label=fvg.GVf("ssuit7"),e.activityTex.visible=!1),e.uv(),e.nu(),e.jl(),e.ac==e.sm.maxgrade&&(e.nextPhase.visible=!1,e.nextPhaseGroup.visible=!1,e.nextImg.visible=!1,e.confirmBtn.visible=!1,e.advLab.text=fvg.GVf("handbook_7")),e.nextImg.y=e.nextPhase.y,e.ee())},t.prototype.uv=function(){var e=this;e.abilityCount.text="",e.gradeDisplay.text=fvg.GVf("luckyEggs02",e.ac?e.ac:1,e.sm.name)},t.prototype.clv=function(){this.pt()},t.prototype._a=function(e){},t.prototype.nu=function(){},t.prototype.jl=function(){},t.prototype.kc=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.attrGroupScroller&&(t.attrGroupScroller.stopAnimation(),t.attrGroupScroller.viewport=null,GObj.$d(t.attrGroupScroller)),t.attrGroupScroller=null,GObj.$d(t._iconDisplay),t._iconDisplay=null,GObj.$d(t.gradeDisplay),t.gradeDisplay=null,GObj.$d(t.abilityCount),t.abilityCount=null,GObj.$d(t.cond),t.cond=null,GObj.$d(t.attrGroup),t.attrGroup=null,GObj.$d(t.currImg),t.currImg=null,GObj.$d(t.currentPhase),t.currentPhase=null,GObj.$d(t.currentPhaseGroup),t.currentPhaseGroup=null,GObj.$d(t.nextImg),t.nextImg=null,GObj.$d(t.nextPhase),t.nextPhase=null,GObj.$d(t.nextPhaseGroup),t.nextPhaseGroup=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.labelDisplay),t.labelDisplay=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,t.ej=null,t.sm=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SpiritTalentPopUi.prototype,"SpiritTalentPopUi");var SpiritUpgradeView=function(e){function t(){var t=e.call(this,"SpiritUpgradeView")||this;return t.mu=0,t.zs=0,t.ae=0,t.cy=0,t.lo=0,t.gz=[],t.pz=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.singUpBtn.label=fvg.GVf("spirits01"),e.autoUpBtn.label=fvg.GVf("spirits02"),e.activityBtn.label=fvg.GVf("public012"),e.skillData=GObj.$c(eui.ArrayCollection),e.skillGroup.dataProvider=e.skillData,e.skillGroup.itemRenderer=ImmortalSkillItem,e.jn=GObj.$c(FigureView),e.jn.x=180,e.jn.y=550,e.addChildAt(e.jn,1),e.fightView=GObj.$c(FightView),e.fightView.x=110,e.fightView.y=20,e.addChildAt(e.fightView,1),e.mt=89,e.skinTemps=[],e.ox=GObj.$c(MovieEffect),e.ox.touchEnabled=e.ox.touchChildren=!1,e.ox.x=210,e.ox.y=350,e.addChildAt(e.ox,15),e.kh=GObj.$c(nlwj)},t.prototype.initData=function(){this.rd()},t.prototype.initEvent=function(){var e=this;e.singUpBtn.addEventListener(eui.tep,e.jh,e),e.autoUpBtn.addEventListener(eui.tep,e.td,e),e.activityBtn.addEventListener(eui.tep,e.td,e),e.pillBtn.addEventListener(eui.tep,e.aoc,e),e.pctPillBtn.addEventListener(eui.tep,e.gl,e),e.attrBtn.addEventListener(eui.tep,e.xw,e),e.skillDesBtn.addEventListener(eui.tep,e.av,e),e.buyBtn.addEventListener(eui.tep,e._c,e),e.evolutionBtn.addEventListener(eui.tep,e.ej,e),vkG.$a(UtJ.XY,e.bw,e),vkG.$a(UtJ.SS,e.bw,e),vkG.$a(UtJ.DV,e.rn,e)},t.prototype.removeEvent=function(){var e=this;e.singUpBtn.removeEventListener(eui.tep,e.jh,e),e.autoUpBtn.removeEventListener(eui.tep,e.td,e),e.activityBtn.removeEventListener(eui.tep,e.td,e),e.pillBtn.removeEventListener(eui.tep,e.aoc,e),e.pctPillBtn.removeEventListener(eui.tep,e.gl,e),e.attrBtn.removeEventListener(eui.tep,e.xw,e),e.skillDesBtn.removeEventListener(eui.tep,e.av,e),e.buyBtn.removeEventListener(eui.tep,e._c,e),e.evolutionBtn.removeEventListener(eui.tep,e.ej,e),vkG.$r(UtJ.XY,e.bw,e),vkG.$r(UtJ.SS,e.bw,e),vkG.$r(UtJ.DV,e.rn,e)},t.prototype.rd=function(){var e=this;e.skillData.source=[];var t=XCA.AQS.oVs(158);for(var n in t)e.skillData.source.push(t[n]);e.skillData.refresh(),e.xm()},t.prototype.bw=function(){var e=this;0==e.zs&&(e.mu=e.hx.grade-e.cy),e.xm()},t.prototype.xm=function(){var e=this;if(e.hx=App.JS.getRetinueInfoByType(e.mt),e.hx&&(e.j_r=XCA.AQS.UFA(e.mt,1,1),e.j_r)){e.q_=parseInt(e.j_r.cost)||0,e.kh.tid=e.q_,e.costIcon.data=e.kh,e.cy=e.hx.grade||0;gLw.IQ(e.j_r.tid);e.pillBtn.label=fvg.GVf("public022",e.hx.snum||0,e.hx.maxPill);var t=e.hx.cap;e.fightView.fightNum=t||0,e.kw(),e.kp(),e.rn()}},t.prototype.rn=function(){this.lf()},t.prototype.lf=function(){var e=this;e.pz=App.FK.hsx(e.q_);var t=e.cy>0;e.buyGrop.visible=!t,e.upGrop.visible=t,e.countGrop.x=t?20:70;var n=t?1:e.yi();e.countLab.text=t?toChars(e.pz):fvg.GVf("public022",e.pz,n),e.countLab.textColor=e.pz>=n?Color.HQ:Color.HE},t.prototype.ej=function(){App.VS.popup(KqZ.CT,SpiritUpView)},t.prototype.kp=function(){var e=this,t=e.hx.openSkinTypes;e.zo=t.length,e.skinTemps.length=0;for(var n=0;n<t.length;n++)e.skinTemps.push(e.hx.stempDict[t[n]]);e.skinTemps.sort(gLw._X);var i=e.hx.use||-1,r=e.hx.stempDict[i];e.hp=-1;for(var n=0;n<e.skinTemps.length;n++)if(r&&e.skinTemps[n].tid==r.tid){e.hp=n;break}-1==e.hp&&(e.hp=Math.max(e.hp,0)),e.hl()},t.prototype.hl=function(){var e=this,t=e.skinTemps[e.hp];if(t){var n=e.hx.grade||0;e.immName.text=t.name,e.lvLab.text=fvg.GVf("imm26",n),e.mq(t.p5.split(QycO.PK)[2])}},t.prototype.mq=function(e){var t=this;if(t.jn&&(!t.jx||t.jx!=e)){t.jx=e,t.jx||(t.jx=GConfig.AVATAR_DEFAULT);var n=irK.PART_SOUL;t.jn.updatePart(t.jx,n)}},t.prototype.kw=function(){var e=this;e.culPro.slideDuration=500;var t=XCA.AQS.UFA(e.mt,1,1),n=0,i=0,r=0,a=e.hx.gp>0?e.hx.gp-i:0;e.cy<t.maxgrade?(e.xp=!1,n=0,n=e.cy>0?n-i:n,r=Math.min(100,int(a/n*100))):(e.xp=!0,e.culProLab.text="MAX",r=100),e.culPro.value=r,1==e.mu?(e.uh(),e.hx.grade<t.maxgrade&&(e.culProLab.text=fvg.GVf("public022",a,n))):e.mu>=2?e.vh():e.hx.grade<t.maxgrade&&(e.culProLab.text=fvg.GVf("public022",a,n)),e.ae=Math.ceil((n-a)/10)},t.prototype.uh=function(){var e=this;e.culPro&&(egret.Tween.removeTweens(e.culPro),e.culPro.value=0,egret.Tween.get(e.culPro).to({value:100},500).call(e.qv,e))},t.prototype.qv=function(){var e=this;e.culPro&&(egret.Tween.removeTweens(e.culPro),e.culPro.slideDuration=0,e.culPro.value=0)},t.prototype.vh=function(){var e=this;if(egret.Tween.removeTweens(e.culPro),e.zs==e.mu||!e.culPro)return void(e.zs=0);var t=e.cy;t||(t=1);var n=XCA.AQS.UFA(e.mt,1,1);if(0==e.zs){e.zs++;var i=e.hx.grade-e.mu+e.zs,r=0,a=0,o=e.hx.grade>0||e.hx.gp>0?e.hx.gp-a:0,s=0;return r=i>0?s-a:s,i>=n.maxgrade?e.culProLab.text="MAX":e.culProLab.text=fvg.GVf("public022",o,r),void egret.Tween.get(e.culPro).to({value:100},200).call(e.vh,e)}if(e.culPro.value=0,e.zs<e.mu-1){e.zs++;var i=e.hx.grade-e.mu+e.zs,r=0,a=0,o=e.hx.grade>0||e.hx.gp>0?e.hx.gp-a:0,s=0;r=i>0?s-a:s,i>=n.maxgrade?e.culProLab.text="MAX":e.culProLab.text=fvg.GVf("public022",o,r),egret.Tween.get(e.culPro).to({value:100},200).call(e.vh,e)}else{e.zs++;var p=100;if(e.hx.grade>=n.maxgrade)e.culProLab.text="MAX";else{var r=0,a=0,o=e.hx.grade>0||e.hx.gp>0?e.hx.gp-a:0,s=0;r=e.hx.grade>0?s-a:s,p=Math.min(100,int(o/r*100)),e.culProLab.text=fvg.GVf("public022",o,r)}e.culPro.value=p}},t.prototype.ki=function(){var e=this;e.ox&&!QycO.NK&&e.ox.play(gYq.PJ,100,1)},t.prototype.av=function(e){var t=this,n=t.skinTemps[t.hp]},t.prototype.xw=function(e){},t.prototype.aoc=function(e){var t=this;t.parent&&(!t.j_r||!t.j_r.p1)},t.prototype._c=function(){App.VS.popup(null,SpiritBuyPopUi)},t.prototype.gl=function(e){},t.prototype.jh=function(e){},t.prototype.td=function(e){},t.prototype.yi=function(){return 0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.upGrop),t.upGrop=null,GObj.$d(t.autoUpBtn),t.autoUpBtn=null,GObj.$d(t.singUpBtn),t.singUpBtn=null,GObj.$d(t.costIcon),t.costIcon=null,GObj.$d(t.countLab),t.countLab=null,GObj.$d(t.culPro),t.culPro=null,GObj.$d(t.culProLab),t.culProLab=null,GObj.$d(t.lvLab),t.lvLab=null,GObj.$d(t.buyGrop),t.buyGrop=null,GObj.$d(t.activityBtn),t.activityBtn=null,GObj.$d(t.skillGroup),t.skillGroup=null,GObj.$d(t.skillData),t.skillData=null,GObj.$d(t.pillBtn),t.pillBtn=null,GObj.$d(t.pctPillBtn),t.pctPillBtn=null,GObj.$d(t.attrBtn),t.attrBtn=null,GObj.$d(t.skillDesBtn),t.skillDesBtn=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.immName),t.immName=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.ox),t.ox=null,GObj.$d(t.kh),t.kh=null,GObj.$d(t.countGrop),t.countGrop=null,GObj.$d(t.jn),t.jn=null,t.j_r=null,t.skinTemps.length=0,t.skinTemps=null,t.gz.length=0,t.gz=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SpiritUpgradeView.prototype,"SpiritUpgradeView");var SpiritUpItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SpiritUpItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.xv,e),vkG.$a(UtJ.XY,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.xv,e),vkG.$r(UtJ.XY,e.dataChanged,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.data&&e.CSo&&(e.vj=e.data,e.bb=XCA.AQS.UFA(20,e.vj,1),e.vj=gLw.IQ(e.bb.tid),e.quaImg.source="core_json.quality_"+(e.bb.qua||1)+"_png",e.ei=0,e.lvLab.text=e.ei?fvg.GVf("465",e.ei):QycO.OK,e.bgmaskImg.visible=e.ei<=0,e.maskImg.visible=e.ei>0,e.wi())},t.prototype.wi=function(){},t.prototype.xv=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.bgmaskImg),t.bgmaskImg=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.lvLab),t.lvLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SpiritUpItem.prototype,"SpiritUpItem");var SpiritUpPreView=function(e){function t(){var t=e.call(this,"SpiritUpPreView")||this;return t.skinName=RRUU.$s("SpiritUpPreView"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.co=e[0],n.ct())},t.prototype.initView=function(){var e=this;e.jy=GObj.$c(FigureView),e.jy.x=160,e.jy.y=500,this.contentGroup.addChildAt(e.jy,3)},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.gd,e),e.iconImg.addEventListener(eui.tep,e.qk,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.gd,e),e.iconImg.removeEventListener(eui.tep,e.qk,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.ct()},t.prototype.il=function(){this.ct()},t.prototype.ct=function(){var e=this;if(e.CSo&&e.co){e.md=0;var t=e.md+1;if(e.nq=XCA.AQS.UFA(20,e.co,t),e.nq){e.nameLab.text=e.nq.name,e.quaImg.source="core_json.quality_"+e.nq.qua+"_png";var n=(parseInt(e.nq.p6)+1e3)/10,i=XCA.AQS.UFA(10,e.nq.p4,1),r=(gLw.IQ(i.tid),XCA.YV(i.attrid+1)),a=(r?r.p1*n/100:0,e.nq.p5);usable(a)&&e.jy.updatePart(a,irK.PART_SOUL)}}},t.prototype.qk=function(e){},t.prototype.gd=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.skillName),t.skillName=null,GObj.$d(t.skillAttr),t.skillAttr=null,GObj.$d(t.jy),t.jy=null,GObj.$d(t.numView),t.numView=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SpiritUpPreView.prototype,"SpiritUpPreView");var SpiritUpView=function(e){function t(){var t=e.call(this,"SpiritUpView")||this;return t.skinName=RRUU.$s("SpiritUpView"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=SpiritUpItem,e.ko=GObj.$c(FigureView),e.ko.x=180,e.ko.y=600,e.addChildAt(e.ko,2),e.preLab.text=fvg.GVf("child25"),e.titleLab.text=fvg.GVf("soul71"),e.upBtn.label=fvg.GVf("soul71"),e.preBtn.label=fvg.GVf("soul72")},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.fy,e),e.upBtn.addEventListener(eui.tep,e.iv,e),e.preBtn.addEventListener(eui.tep,e.sq,e),e.closeBtn.addEventListener(eui.tep,e.jw,e),vkG.$a(UtJ.XY,e.aq,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.fy,e),e.upBtn.removeEventListener(eui.tep,e.iv,e),e.preBtn.removeEventListener(eui.tep,e.sq,e),e.closeBtn.removeEventListener(eui.tep,e.jw,e),vkG.$r(UtJ.XY,e.aq,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.AQS.oVs(20);t.itemData.source.length=0;var i;for(var r in n)i=n[r][1],i&&!i.hide&&t.itemData.source.push(r);t.itemData.refresh(),t.itemList.selectedIndex=0,t.fy(null),t.fh()},t.prototype.aq=function(){this.fh()},t.prototype.fh=function(){var e=this;if(e.CSo&&e.mj){e.jx=0,e.iz=XCA.AQS.UFA(20,e.mj,e.jx||1);var t=XCA.AQS.UFA(20,e.iz.p4,1),n=(gLw.IQ(t.tid),0),i=0,r=(parseInt(e.iz.p6)||0)/1e3+1;e.gn=XCA.YV(t.attrid+1),e.nameLab.text=fvg.GVf("ssuit1",e.iz.name,e.jx);var a=0,o=1,s=1,p=int((o-1)/a),l=int((s-1)/a);o>=900&&(p=9),s>=900&&(l=9);var c=e.jx>=e.iz.maxgrade?e.iz.maxgrade:e.jx+1,u=XCA.AQS.UFA(22,e.mj,c),d=u.p1?u.p1<=n:!0,g=u.p2?u.p2<=p:!0,v=u.p3?u.p3<=l:!0,h=d&&g&&v,m=e.jx>=e.iz.maxgrade,f=!m&&h;if(e.upBtn.visible=f,e.costItem.visible=f,e.costLab.visible=f,e.preLab.visible=f,e.conLab.visible=!f,m)e.conLab.text=fvg.GVf("soul74");else{e.conLab.textColor=Color.HE;var y="",b="",_="",T=fvg.GVf("spiritEvo4");u.p1&&(y=fvg.GVf("spiritEvo9",t.name,u.p1)),u.p2&&(b=fvg.GVf("spiritEvo5",u.p2)),u.p3&&(_=fvg.GVf("spiritEvo6",u.p3)),e.conLab.textFlow=LgRe.OQ(T+y+b+_)}i=e.gn?(e.gn.p1||0)*r:0;var O=((parseInt(e.iz.p6)+1e3)/10,e.iz.p5);if(e.jx<=0){var G=t.p5.split(QycO.PK);G&&G.length>=3&&(O=G[2])}usable(O)&&e.ko.updatePart(O,irK.PART_SOUL),e.vx()}},t.prototype.vx=function(){var e=this;e.tw||(e.tw=GObj.$c(nlwj)),e.tw.tid=parseInt(e.iz.cost),e.costItem.data=e.tw;var t=App.FK.hsx(e.tw.tid),n=1;e.costLab.text=fvg.GVf("public022",t,n),e.costLab.textColor=t>=n?Color.HQ:Color.HE},t.prototype.fy=function(e){var t=this;t.mj=t.itemList.selectedItem,t.fh()},t.prototype.iv=function(e){var t=this;if(t.jx>=t.iz.maxgrade)return void msgTip(fvg.GVf("soul74"));var n=App.FK.hsx(t.tw.tid),i=1;return i>n?void _JDW.TR(t.tw.tid):void msgTip(fvg.GVf("soularmour12"))},t.prototype.sq=function(e){var t=this;return t.jx>=t.iz.maxgrade?void msgTip(fvg.GVf("soul74")):void App.VS.popup(KqZ.CT,SpiritUpPreView,null,t.mj)},t.prototype.jw=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,t.skillGroup&&(t.skillGroup.dataProvider=null,GObj.$d(t.skillGroup)),t.skillGroup=null,t.skillData=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.preBtn),t.preBtn=null,GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.ko),t.ko=null,GObj.$d(t.tw),t.tw=null,GObj.$d(t.costItem),t.costItem=null,GObj.$d(t.costLab),t.costLab=null,GObj.$d(t.numView),t.numView=null,GObj.$d(t.conLab),t.conLab=null,GObj.$d(t.preLab),t.preLab=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SpiritUpView.prototype,"SpiritUpView");var SpiritView=function(e){function t(){var t=e.call(this,"SpiritView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ro=GObj.$c(kQr),e.ro.cwA(e.upgradeBtn),e.ro.cwA(e.equipBtn),e.ro.cwA(e.starBtn),e.upgradeBtn.label=fvg.GVf("public008"),e.equipBtn.label=fvg.GVf("smelting1"),e.starBtn.label=fvg.GVf("public098")},t.prototype.initData=function(){var e=this;e.ro.selectedIndex=e.et||0,e.sk()},t.prototype.initEvent=function(){var e=this;e.ro.addEventListener(egret.Event.CHANGE,e.xa,e)},t.prototype.removeEvent=function(){var e=this;e.ro.removeEventListener(egret.Event.CHANGE,e.xa,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.et=e[0]||0,n.CSo&&(n.ro.selectedIndex=n.et))},t.prototype.xa=function(e){var t=this;t.tg&&(t.tg.visible=!1),t.tg=null;var n=t.ro.LuO;switch(n){case t.upgradeBtn:t.bn||(t.bn=GObj.$c(SpiritUpgradeView),t.addChild(t.bn)),t.tg=t.bn;break;case t.equipBtn:t.ry||(t.ry=GObj.$c(SpiritEquipView),t.addChild(t.ry)),t.tg=t.ry;break;case t.starBtn:t.it||(t.it=GObj.$c(SpiritStarView),t.addChild(t.it)),t.tg=t.it}t.et=t.ro.selectedIndex,t.sf=t.et,t.tg&&(t.tg.visible=!0)},t.prototype.sk=function(){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ro),t.ro=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.equipBtn),t.equipBtn=null,GObj.$d(t.starBtn),t.starBtn=null,GObj.$d(t.bn),t.bn=null,GObj.$d(t.ry),t.ry=null,GObj.$d(t.it),t.it=null,t.tg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SpiritView.prototype,"SpiritView");var AttrDataItem=function(){function e(){this.nt="0xd23d8e",this.qq=!1}return Object.defineProperty(e.prototype,"attrId",{get:function(){return this.wp},set:function(e){this.wp=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attrKey",{get:function(){return this.et},set:function(e){this.et=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attrName",{get:function(){return this.oz},set:function(e){this.oz=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attrLevel",{get:function(){return this.vs},set:function(e){this.vs=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attrValue",{get:function(){return this.ks},set:function(e){this.ks=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attrType",{get:function(){return this.xv},set:function(e){this.xv=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.rt},set:function(e){this.rt=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"successRateText",{get:function(){return this.li},set:function(e){this.li=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textColor",{get:function(){return this.nt},set:function(e){this.nt=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"successRateTextColor",{get:function(){return this.wk},set:function(e){this.wk=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"p_Si",{get:function(){return this.za},set:function(e){this.za=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNumber",{get:function(){return this.yq},set:function(e){this.yq=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isNewAdd",{get:function(){return this.qq},set:function(e){this.qq=e},enumerable:!0,configurable:!0}),e.ZV="number",e.GH="rate",e}();__reflect(AttrDataItem.prototype,"AttrDataItem");var CastingGoldPopUi=function(e){function t(){var t=e.call(this,"CastingGoldPopUi")||this;return t.skinName=RRUU.$s("CastingGoldPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ze=-1,e.title=fvg.GVf("store043"),e.upgradeBtn.label=fvg.GVf("public008"),e.currattrTitle.text=fvg.GVf("beast03"),e.nextattrTitle.text=fvg.GVf("beast04")},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.aj,e),vkG.$a(UtJ.VW,e.gyo,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.aj,e),vkG.$r(UtJ.VW,e.gyo,e)},t.prototype.initData=function(){this.ml()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.gj=e[0],n.ml())},t.prototype.ml=function(){var e=this;if(e.CSo&&void 0!=e.gj){var t=GxD.instance.Fkl(2,e.gj);e.ss=t.length>0?t[0]:null;var n=e.ss,i=n.TSF;e.mk=App.HG.castingGoldInfo[e.gj];var r=App.PI.getComposeByMat(n?n.tid:0)[0],a=XCA.FR(r.nmat),o=App.HG.turnUpLVMaxCastingGoldLv,s=o[i.step],p=0==e.mk?1:Math.ceil(e.mk/10),l=XCA.AQS.UFA(37,1,p);if(l){var c,u=e.mk==s,d=!1;if(u?(c=XCA.AQS.UFA(37,1,p+1),d=null==c):e.qo(l)&&(c=XCA.AQS.UFA(37,1,p+1)),n&&l){e.ze!=e.mk&&-1!=e.ze&&(App.KB.showEffect(gYq.UQ),e.gy=App.KB.getUIEffect(gYq.FS,100,1),e.gy.addEventListener(egret.Event.COMPLETE,e.lf,e),e.gy.x=5,e.gy.y=41,e.gy.play(1),e.addChild(e.gy)),e.ze=e.mk,e.levelTxt.text=fvg.GVf("store034",e.mk,s),e.nameTxt.text=i.name,e.nameTxt.textColor=aKF.DU(i.qua),e.equipItem.data=n;var g=XCA.YV(l.attrid+e.mk);g?e.fightTxt.text=fvg.GVf("store037",g.p1):e.fightTxt.text=fvg.GVf("store037",0);var v=e.mk%10,h=void 0;c?(h=c.p5.split("|"),e.pp(c.attrid+e.mk+1)):(h=l.p5.split("|"),e.pp(l.attrid+e.mk+1)),e.qx=parseInt(h[v].split(",")[1]),e.cv=App.FK.hsx(parseInt(l.cost)),e.needTxt.text=fvg.GVf("public022",e.cv,e.qx),e.cv<e.qx?e.needTxt.textColor=Color.KA:e.needTxt.textColor=Color.TX,u&&!d?(e.upGradeGroup.visible=!1,e.upGradeTips.visible=!0,e.upGradeTips.text=fvg.GVf("store036"),e.descTxt.text=fvg.GVf("store035",App.JP.getTurnupName(a.step),o[a.step])):u?d&&(e.descTxt.text="",e.nextAttr.text=fvg.GVf("skill006"),e.upGradeGroup.visible=!1,e.upGradeTips.visible=!1):(e.upGradeGroup.visible=!0,e.upGradeTips.visible=!1,e.descTxt.text=fvg.GVf("store035",App.JP.getTurnupName(a.step),o[a.step])),void 0==o[a.step]&&(e.descTxt.text=""),e.vb(l.attrid+e.mk),e.upgradeBtn.icon=UsU.SE(e.gj)?StaticData.GHj:null}}}},t.prototype.qo=function(e){var t=e.p5.split("|"),n=parseInt(t[t.length-1].split(",")[0]);return this.mk==n},t.prototype.vb=function(e){var t=this,n=t.xx(e);n||(n=LRJ.KG(e+1,!0)),t.currentAttr.text=n},t.prototype.pp=function(e){var t=this,n=t.xx(e);n||(n=fvg.GVf("skill006")),t.nextAttr.text=n},t.prototype.xx=function(e){var t,n=XCA.YV(e),i="";if(n){for(t in xxf.UK)n[t]&&(i+=fvg.GVf("skill004",xxf.UK[t],n[t])+"\n");for(t in xxf.IM)n[t]&&(i+=fvg.GVf("skill004",xxf.IM[t],(n[t]/10).toFixed(1)+"%")+"\n")}return i},t.prototype.lf=function(e){var t=this;t.gy&&t.gy.parent&&t.removeChild(t.gy)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.aj=function(e){var t=this;return t.cv<t.qx?void _JDW.TR(StaticData.TID_GOODS_60):void StoreMsgProxy.AD(t.gj%1e3)},t.prototype.gyo=function(){this.ml()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bgGroup),t.bgGroup=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.levelTxt),t.levelTxt=null,GObj.$d(t.fightTxt),t.fightTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.currentAttr),t.currentAttr=null,GObj.$d(t.nextAttr),t.nextAttr=null,GObj.$d(t.equipItem),t.equipItem=null,GObj.$d(t.upGradeTips),t.upGradeTips=null,GObj.$d(t.upGradeGroup),t.upGradeGroup=null,t.gy&&(t.gy.stop(),t.gy.removeEventListener(egret.Event.COMPLETE,t.lf,t)),GObj.$d(t.gy),t.gy=null,t.ss=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(CastingGoldPopUi.prototype,"CastingGoldPopUi");var CompositeView=function(e){function t(){var t=e.call(this,"CompositeView")||this;return t.skinName=RRUU.$s("CompositeView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.lb=-1,e.nk=0,e.compBtn.label=fvg.GVf("store025"),e.compositeUseTxt.text=fvg.GVf("store038"),e.vm=GObj.$c(nlwj),e.ax=GObj.$c(StoreItemView),e.ax.x=125,e.ax.y=120,e.ax.isShowUpgradeEff=!1,e.xq=GObj.$c(StoreItemView),e.xq.x=250,e.xq.y=120,e.xq.isShowUpgradeEff=!1,e.addChild(e.ax),e.addChild(e.xq),e.currGradeNum=GObj.$c(NumberView),e.currGradeNum.x=185,e.currGradeNum.y=120,e.addChild(e.currGradeNum),e.nextGradeNum=GObj.$c(NumberView),e.nextGradeNum.x=311,e.nextGradeNum.y=120,e.addChild(e.nextGradeNum)},t.prototype.initData=function(){var e=this;e.bi(),e.su()},t.prototype.initEvent=function(){var e=this;e.ax.addEventListener(eui.tep,e.hq,e),e.xq.addEventListener(eui.tep,e.hq,e),e.compBtn.addEventListener(eui.tep,e.oa,e),e.castingGolDBtn.addEventListener(eui.tep,e.cp,e),vkG.$a(UtJ.VO,e.fx,e),vkG.$a(UtJ.VW,e.hy,e)},t.prototype._f=function(){var e=this;e.ax.removeEventListener(eui.tep,e.hq,e),e.xq.removeEventListener(eui.tep,e.hq,e),e.compBtn.removeEventListener(eui.tep,e.oa,e),e.castingGolDBtn.removeEventListener(eui.tep,e.cp,e),vkG.$r(UtJ.VO,e.fx,e),vkG.$r(UtJ.VW,e.hy,e)},t.prototype.bi=function(){var e=this;e.vf={};for(var t,n=App.FK.LHp(2),i=0;i<n.length;i++)t=n[i].TSF.suiteid,t&&(!(e.vf[t]>=0)&&(e.vf[t]=0),e.vf[t]++)},t.prototype.su=function(){var e=this;e.CSo&&e.lc&&(e.jp=App.FK.Fkl(2,e.lc)[0],e.ax.equipType=e.lc,e.ax.data=e.jp,e.vm.tid=0,e.ql=App.PI.getComposeByMat(e.jp?e.jp.tid:0)[0],e.ql?(e.vm.tid=e.ql.nmat,e.ax.x=125,e.arrowImg.visible=!0,e.xq.visible=!0,e.xq.equipType=e.lc,e.xq.data=e.vm,e.currGradeTxt.x=90,e.currGradeTxt.y=245,e.currAttrsTxt.visible=e.suitTitleImg.visible=!0,e.suiteAttrTxt_1.visible=e.suiteAttrTxt_2.visible=!0,e.suiteAttrTxt_3.visible=e.suiteAttrTxt_4.visible=!0,e.propertiesback.visible=e.suitpropertiesback.visible=!0,e.descImg.visible=!1):(e.ax.x=181,e.ax.y=120,e.arrowImg.visible=!1,e.xq.visible=!1,e.currGradeTxt.x=190,e.currGradeTxt.y=210,e.currAttrsTxt.visible=e.suitTitleImg.visible=!1,e.descImg.visible=!0,e.suiteAttrTxt_1.visible=e.suiteAttrTxt_2.visible=!1,e.suiteAttrTxt_3.visible=e.suiteAttrTxt_4.visible=!1,e.propertiesback.visible=e.suitpropertiesback.visible=!1),e.qv(),e.ll(),e.updateNeedCount(),e.gv(),e.yn(),e.jp&&(-1!=e.lb&&e.lb==e.lc&&e.nk!=e.jp.tid&&App.KB.showEffect(gYq.UQ),e.lb=e.lc,e.nk=e.jp.tid),e.castingGolDBtn.icon=UsU.SE(e.lc)?StaticData.GHj:null,e.compBtn.icon=UsU.QR(e.lc)?StaticData.GHj:null)},t.prototype.qv=function(){var e=this;if(e.currAttrsTxt.text="",e.currGradeTxt.text="",e.jp){var t=e.jp.TSF.p1,n=XCA.YV(t);if(n){var i=void 0,r=void 0,a="";for(i in xxf.UK)r=n[i]||0,r>0&&(a+=fvg.GVf("skill004",xxf.UK[i],r)+"\n");for(i in xxf.IM)r=n[i]||0,r&&(a+=fvg.GVf("skill004",xxf.IM[i],(r/10).toFixed(1)+"%")+"\n");e.currAttrsTxt.textFlow=LgRe.OQ(a)}e.jp.TSF.step?e.currGradeTxt.text=fvg.GVf("public013",App.JP.getTurnupName(e.jp.TSF.step)):e.currGradeTxt.text=fvg.GVf("public013",e.jp.TSF.needgrade),e.jp.TSF.step>=MaxLevel.PEAK_EQUIP_BEGIN_STEP?(e.currGradeTxt.visible=!1,e.currGradeNum.visible=!0,hFO.instance.getNumberView(bRC.ZT,(e.jp.TSF.step-MaxLevel.MAX_TURNUP_GRADE).toString(),-8,e.currGradeNum)):(e.currGradeTxt.visible=!0,e.currGradeNum.visible=!1)
}},t.prototype.ll=function(){var e=this;if(e.nextAttrsTxt.text="",e.nextGradeTxt.text="",e.nextGradeNum.visible=!1,e.ql){var t=XCA.FR(e.ql.nmat);if(t){var n=t.p1,i=XCA.YV(n);if(i){var r=void 0,a=void 0,o="";for(r in xxf.UK)a=i[r]||0,a>0&&(o+=fvg.GVf("skill004",xxf.UK[r],a)+"\n");for(r in xxf.IM)a=i[r]||0,a&&(o+=fvg.GVf("skill004",xxf.IM[r],(a/10).toFixed(1)+"%")+"\n");e.nextAttrsTxt.textFlow=LgRe.OQ(o)}e.nextGradeTxt.text=fvg.GVf("public013",App.JP.getTurnupName(t.step)),t.step>=MaxLevel.PEAK_EQUIP_BEGIN_STEP?(e.nextGradeNum.visible=!0,e.nextGradeTxt.visible=!1,hFO.instance.getNumberView(bRC.ZT,(t.step-MaxLevel.MAX_TURNUP_GRADE).toString(),-8,e.nextGradeNum)):(e.nextGradeNum.visible=!1,e.nextGradeTxt.visible=!0)}}},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.lc},set:function(e){var t=this;t.lc=e,t.su()},enumerable:!0,configurable:!0}),t.prototype.updateNeedCount=function(){var e=this;if(e.CSo){if(!e.ql)return e.needTxt_1.text="0",void(e.needTxt_2.text="0");var t=App.FK.hsx(e.ql.mat2),n=e.ql.ct2;e.needTxt_1.text=fvg.GVf("public022",NumberUtil.YT(t),NumberUtil.YT(n)),e.needTxt_1.textColor=t>=n?Color.TX:Color.KA,n=0,t=0,e.ql.p?(n=e.ql.p,t=App.KF.point,e.needIcon_2.source=kLM.XD(2)):e.ql.gold&&(n=e.ql.gold,t=App.KF.gold,e.needIcon_2.source=kLM.XD(1)),e.ql.mat3&&(n=e.ql.ct3,t=App.FK.hsx(e.ql.mat3),e.needIcon_2.source="store_json.peak_mat_png"),e.needTxt_2.text=fvg.GVf("public022",NumberUtil.YT(t),NumberUtil.YT(n)),e.needTxt_2.textColor=t>=n?Color.TX:Color.KA}},t.prototype.gv=function(){var e=this;if(e.jp){var t=e.jp.TSF.suiteid;if(t){var n=e.vf[t]||0,i=XCA.QT(t);i&&(e.updateSuiteTxt(2,n,i.p2,e.suiteAttrTxt_1,"store027",e.jp.TSF),e.updateSuiteTxt(5,n,i.p5,e.suiteAttrTxt_2,"store028",e.jp.TSF))}else e.suiteAttrTxt_1.text=e.suiteAttrTxt_2.text=""}},t.prototype.yn=function(){var e=this;if(!e.vm.tid)return void(e.suiteAttrTxt_3.text=e.suiteAttrTxt_4.text="");var t=e.vm.TSF.suiteid;if(t){var n=e.vf[t]||0,i=XCA.QT(t);i&&(e.updateSuiteTxt(2,n,i.p2,e.suiteAttrTxt_3,"store027",e.vm.TSF),e.updateSuiteTxt(5,n,i.p5,e.suiteAttrTxt_4,"store028",e.vm.TSF))}else e.suiteAttrTxt_3.text=e.suiteAttrTxt_4.text=""},t.prototype.updateSuiteTxt=function(e,t,n,i,r,a){var o=XCA.YV(n);if(o){var s=void 0,p=void 0,l="";for(s in xxf.UK)p=o[s]||0,p>0&&(l+=fvg.GVf("skill004",xxf.UK[s],p)+"	");for(s in xxf.IM)p=o[s]||0,p&&(l+=fvg.GVf("skill004",xxf.IM[s],(p/10).toFixed(1)+"%")+"	");var c=a.step,u=c?App.JP.getTurnupName(c):fvg.GVf("public028",a.needgrade);i.textFlow=LgRe.OQ(fvg.GVf(r,u,Math.min(e,t),e,l)),i.textColor=t>=e?Color.SQ:Color.KA}},t.prototype.hq=function(e){if(e.currentTarget.data){var t=GObj.$c(DevelopEquipPreviewPopUi,2);t.show(e.currentTarget.equipType,e.currentTarget.data)}},t.prototype.oa=function(e){var t=this;if(!t.ql||!t.vm.TSF)return void App.TT.show(fvg.GVf("store026"));var n=t.vm.canWear;if(n)return void App.TT.show(fvg.GVf("store032"));var i=App.FK.hsx(t.ql.mat2),r=t.ql.ct2;return r>i?void _JDW.TR(t.ql.mat2):(i=App.FK.hsx(t.ql.mat3),r=t.ql.ct3,r>i?void _JDW.TR(t.ql.mat3):(i=App.KF.gold,r=t.ql.gold,r&&r>i?void _JDW.TR(StaticData.TID_GOLD_ID):(i=App.KF.point,r=t.ql.p,r&&r>i?void _JDW.TR(StaticData.TID_POINT_ID):void GoodsMsgProxy.WI(t.ql.id))))},t.prototype.cp=function(e){var t=this;return void 0==t.jp?void MessageTipManager.instance.show(fvg.GVf("store033")):t.jp.quality<aKF.KY?void MessageTipManager.instance.show(fvg.GVf("store033")):void App.VS.popup(10036,CastingGoldPopUi,null,t.equipType)},t.prototype.fx=function(){var e=this,t=App.FK.Fkl(2,e.lc);t.length>0&&e.jp!=t[0]&&(e.bi(),e.su())},t.prototype.hy=function(){this.su()},t.prototype.dispose=function(){var t=this;t._f(),GObj.$d(t.arrowImg),t.arrowImg=null,GObj.$d(t.currAttrsTxt),t.currAttrsTxt=null,GObj.$d(t.nextAttrsTxt),t.nextAttrsTxt=null,GObj.$d(t.suiteAttrTxt_1),t.suiteAttrTxt_1=null,GObj.$d(t.suiteAttrTxt_2),t.suiteAttrTxt_2=null,GObj.$d(t.suiteAttrTxt_3),t.suiteAttrTxt_3=null,GObj.$d(t.suiteAttrTxt_4),t.suiteAttrTxt_4=null,GObj.$d(t.propertiesback),t.propertiesback=null,GObj.$d(t.suitpropertiesback),t.suitpropertiesback=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.currGradeTxt),t.currGradeTxt=null,GObj.$d(t.nextGradeTxt),t.nextGradeTxt=null,GObj.$d(t.compBtn),t.compBtn=null,GObj.$d(t.needIcon_1),t.needIcon_1=null,GObj.$d(t.needIcon_2),t.needIcon_2=null,GObj.$d(t.ax),t.ax=null,GObj.$d(t.xq),t.xq=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.suitTitleImg),t.suitTitleImg=null,GObj.$d(t.castingGolDBtn),t.castingGolDBtn=null,GObj.$d(t.currGradeNum),t.currGradeNum=null,GObj.$d(t.nextGradeNum),t.nextGradeNum=null,t.vf=null,t.ql=null,t.jp=null,t.vm=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CompositeView.prototype,"CompositeView");var GemItemRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("GemItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.isInsertImg.visible=!1,e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fk,e),e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ep,this,!1,99)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fk,e),e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ep,this,!1)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo)if(e.data){var t=e.data;e.isInsertImg.visible=5==t.btype,e.itemView.data=t,e.nameTxt.text=t.TSF.name,e.nameTxt.textColor=aKF.DU(t.quality),e.itemView.gNlK=UsU.RE(t)}else e.isInsertImg.visible=!1,e.itemView.data=null,e.nameTxt.text=""},t.prototype.ep=function(e){this.data||(e.stopPropagation(),e.stopImmediatePropagation())},t.prototype.fk=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.selectedBack),t.selectedBack=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.isInsertImg),t.isInsertImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(GemItemRenderer.prototype,"GemItemRenderer");var GemItemView=function(e){function t(t){var n=e.call(this,"GemItemView")||this;return n.gemType=t,n.skinName=RRUU.$s("GemItemView"),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.jr=0,e.mh=null,e.gemTypeImg.source="store_json.gem_"+e.sw()+"_png",e.gemIcon=GObj.$c(ImageIcon),e.gemIcon.x=26,e.gemIcon.y=16,e.addImg.visible=!1,e.iconGroup.addChild(e.gemIcon)},t.prototype.initData=function(){var e=this;e.data=e.hi},Object.defineProperty(t.prototype,"data",{get:function(){return this.hi},set:function(e){var t=this;t.hi=e,t.CSo&&(t.addImg.visible=!t.hi,t.hi?(t.gemIcon.icon=t.hi.icon,t.qualityImg.source="store_json.gem_quality_"+t.hi.quality+"_png",t.gemNameTxt.text=t.hi.TSF.name,t.gemNameTxt.textColor=aKF.DU(t.hi.quality),t.redPointImg.visible=App.FK.hsx(t.hi.TSF.tid)>0):(t.gemIcon.icon=null,t.qualityImg.source="store_json.gem_quality_1_png",t.gemNameTxt.text=fvg.GVf("store017"),t.gemNameTxt.textColor=Color.XB,t.redPointImg.visible=!1))},enumerable:!0,configurable:!0}),t.prototype.checkInlay=function(){var e=this;e.nv==e.jr&&e.hi&&!e.mh&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.gq,e),e.weS.x=-20,e.weS.y=-30),e.weS.play(1),e.addChild(e.weS)),e.jr=e.nv,e.mh=e.hi},t.prototype.recoredState=function(){var e=this;e.jr=e.nv,e.mh=e.hi},t.prototype.gq=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.nv},set:function(e){this.nv=e},enumerable:!0,configurable:!0}),t.prototype.gNlK=function(e){this.lp=e},Object.defineProperty(t.prototype,"gemType",{get:function(){return this.zq},set:function(e){this.zq=e},enumerable:!0,configurable:!0}),t.prototype.sw=function(){switch(this.gemType){case Iwrv.MV:return"dragon";case Iwrv.JS:return"tiger";case Iwrv.VF:return"suzaku";case Iwrv.OC:return"basaltic"}return""},t.prototype.dispose=function(){var e=this;GObj.$d(e.backImg),e.backImg=null,GObj.$d(e.qualityImg),e.qualityImg=null,GObj.$d(e.iconGroup),e.iconGroup=null,GObj.$d(e.gemTypeImg),e.gemTypeImg=null,GObj.$d(e.gemNameTxt),e.gemNameTxt=null,GObj.$d(e.gemIcon),e.gemIcon=null,GObj.$d(e.addImg),e.addImg=null,e.weS&&(e.weS.stop(),e.weS.removeEventListener(egret.Event.COMPLETE,e.gq,e)),GObj.$d(e.weS),e.weS=null,e.hi=null,e.parent&&e.parent.removeChild(e)},t}(BaseUI);__reflect(GemItemView.prototype,"GemItemView");var GemUpgradePopUi=function(e){function t(){var t=e.call(this,"GemUpgradePopUi")||this;return t.skinName=RRUU.$s("GemUpgradePopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.currGradeItem.itemType=1,e.nextGradeItem.itemType=2,e.title=fvg.GVf("store016"),e.datas=GObj.$c(eui.ArrayCollection),e.gemItemList.dataProvider=e.datas,e.gemItemList.itemRenderer=GemItemRenderer},t.prototype.initEvent=function(){var e=this;e.gemItemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,e.__onSelectedChangeHandler,e),vkG.$a(UtJ.DV,e.lp,e)},t.prototype.removeEvent=function(){var e=this;e.gemItemList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,e.__onSelectedChangeHandler,e),vkG.$r(UtJ.DV,e.lp,e)},t.prototype.initData=function(){this.ws()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>=2&&(n.currGemType=e[0],n.currEquipType=e[1],n.ws())},t.prototype.ws=function(){var e=this;if(e.currGemType&&e.CSo){var t=App.FK.Fkl(1,e.currGemType);e.currInsertGem=e.xg(),e.currInsertGem&&t.push(e.currInsertGem),e.datas.source.splice(0,e.datas.source.length),t.length>0&&t.sort(e.tc);for(var n=Math.max(t.length,20),i=0;n>i;i++)i<t.length?e.datas.source.push(t[i]):e.datas.source.push(null);if(e.datas.refresh(),t.length<=0)return e.gemItemList.selectedIndex=-1,e.descTxt.visible=!0,void(e.currGradeItem.visible=e.nextGradeItem.visible=!1);e.descTxt.visible=!1,e.currGradeItem.visible=e.nextGradeItem.visible=!0,e.gemItemList.selectedIndex=e.FiZ>0&&e.FiZ<t.length?e.FiZ:0,e.__onSelectedChangeHandler(null)}},t.prototype.lp=function(e){if(e&&e.length>0)for(var t=void 0,n=0;n<e.length;n++)if(t=App.FK.getnlwjByGoodsId(e[n]),t&&t.masterType==Iwrv.PF){this.ws();break}},t.prototype.xg=function(){for(var e=this,t=App.FK.Fkl(5,e.currGemType),n=0;n<t.length;n++)if(int(t[n].p1/10)==e.currEquipType%1e3)return t[n];return null},t.prototype.__onSelectedChangeHandler=function(e){var t=this;t.FiZ=t.gemItemList.selectedIndex;var n=t.datas.source[t.FiZ];n&&(t.currGradeItem.setGemData(n,t.currEquipType,t.currInsertGem),t.nextGradeItem.setGemData(n,t.currEquipType))},t.prototype.tc=function(e,t){return e.btype==t.btype?QNV.OV(e.tid)>QNV.OV(t.tid)?-1:1:e.btype>t.btype?-1:1},t.prototype.lk=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.currGradeItem),t.currGradeItem=null,GObj.$d(t.nextGradeItem),t.nextGradeItem=null,t.gemScroller&&(t.gemScroller.stopAnimation(),t.gemScroller.viewport=null,GObj.$d(t.gemScroller)),t.gemScroller=null,t.gemItemList&&(t.gemItemList.dataProvider=null,GObj.$d(t.gemItemList)),t.gemItemList=null,t.datas=null,t.currInsertGem=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(GemUpgradePopUi.prototype,"GemUpgradePopUi");var GemUpgradeView=function(e){function t(){var t=e.call(this,"GemUpgradeView")||this;return t.skinName=RRUU.$s("GemUpgradeView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.removeBtn.label=fvg.GVf("store014"),e.insertBtn.label=fvg.GVf("store011"),e.composeBtn.label=fvg.GVf("store012"),e.oneKeyComposeBtn.label=fvg.GVf("store013"),e.gemIcon.showNumTxt=!1,e.kw=GObj.$c(nlwj)},t.prototype.initEvent=function(){var e=this;e.removeBtn.addEventListener(eui.tep,e.sv,e),e.insertBtn.addEventListener(eui.tep,e.t_,e),e.composeBtn.addEventListener(eui.tep,e.re,e),e.oneKeyComposeBtn.addEventListener(eui.tep,e.up,e)},t.prototype.removeEvent=function(){var e=this;e.removeBtn.removeEventListener(eui.tep,e.sv,e),e.insertBtn.removeEventListener(eui.tep,e.t_,e),e.composeBtn.removeEventListener(eui.tep,e.re,e),e.oneKeyComposeBtn.removeEventListener(eui.tep,e.up,e)},t.prototype.initData=function(){var e=this;e.mn(),e.kv()},t.prototype.setGemData=function(e,t,n){var i=this;i.xu=e,i.je=t,i.ql=n,i.kv()},t.prototype.kv=function(){var e=this;if(e.CSo){if(e.kw.tid=0,e.xu&&e.xu.TSF&&(e.kw.tid=e.xu.TSF.p3),1==e.xz){if(!e.xu||!e.xu.TSF)return void e.mn();e.gemIcon.data=e.xu,e.isInsertImg.visible=e.oy(e.xu),e.dm(e.xu.TSF.p1),e.gemNameTxt.text=e.xu.TSF.name,e.gemNameTxt.textColor=aKF.DU(e.xu.quality),e.fightTxt.text=fvg.GVf("public018",e.xu.TSF.p2)}else{if(!e.kw||!e.kw.TSF)return void e.mn();e.gemIcon.data=e.kw,e.isInsertImg.visible=e.oy(e.kw),e.dm(e.kw.TSF.p1),e.gemNameTxt.text=e.kw.TSF.name,e.gemNameTxt.textColor=aKF.DU(e.kw.quality),e.fightTxt.text=fvg.GVf("public018",e.kw.TSF.p2)}e.vx()}},t.prototype.dm=function(e){var t,n=this,i=XCA.YV(e),r=1;if(i){for(t in xxf.UK)i[t]&&this["attrTxt_"+r]&&(this["attrTxt_"+r].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[t],i[t])),r++);for(t in xxf.IM)i[t]&&this["attrTxt_"+r]&&(this["attrTxt_"+r].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[t],(i[t]/10).toFixed(1)+"%")),r++)}else n.attrTxt_1.text="",n.attrTxt_2.text=""},t.prototype.vx=function(){var e=this;if(1==e.xz)e.removeBtn.visible=!1,e.insertBtn.visible=!1,e.oy(e.xu)?e.removeBtn.visible=!0:(e.insertBtn.visible=!0,e.insertBtn.icon=e.ql&&e.ql.goodsGrade<e.xu.goodsGrade?StaticData.GHj:null);else{e.composeBtn.visible=!0,e.composeBtn.icon=e.rp()?StaticData.GHj:null;var t=App.FK.hsx(e.xu.tid);e.oneKeyComposeBtn.icon=t>=2?StaticData.GHj:null,e.oneKeyComposeBtn.visible=!e.oy(e.xu)}},t.prototype.rp=function(){var e=this;return e.xu?e.oy(e.xu)?App.FK.hsx(e.xu.tid)>=1:e.xu.count>=2:!1},t.prototype.sv=function(e){var t=this;t.xu&&t.je&&StoreMsgProxy.UP(t.xu.id)},t.prototype.t_=function(e){var t=this;t.xu&&t.je&&StoreMsgProxy.QS(t.xu.id,t.je%1e3)},t.prototype.re=function(e){var t=this;t.rp()?t.oy(t.xu)?StoreMsgProxy.KH(1,t.xu.btype,t.xu.p1):StoreMsgProxy.KH(1,t.xu.btype,t.xu.id):MessageTipManager.instance.show(fvg.GVf("store015"))},t.prototype.up=function(e){var t=this;if(t.xu&&2==t.xz){var n=App.FK.hsx(t.xu.tid);n>=2?StoreMsgProxy.KH(2,t.xu.btype,t.xu.tid):MessageTipManager.instance.show(fvg.GVf("store015"))}},t.prototype.mn=function(){var e=this;e.isInsertImg.visible=!1,e.gemIcon.data=null,e.gemNameTxt.text="--",e.gemNameTxt.textColor=aKF.DU(aKF.MM),e.fightTxt.text="--",e.attrTxt_1.text="--",e.attrTxt_2.text="--",e.composeBtn.visible=e.oneKeyComposeBtn.visible=!1,e.insertBtn.visible=e.removeBtn.visible=!1},Object.defineProperty(t.prototype,"itemType",{get:function(){return this.xz},set:function(e){this.xz=e},enumerable:!0,configurable:!0}),t.prototype.oy=function(e){return e&&5==e.btype&&e.p1>0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gemIcon),t.gemIcon=null,GObj.$d(t.gemNameTxt),t.gemNameTxt=null,GObj.$d(t.fightTxt),t.fightTxt=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.insertBtn),t.insertBtn=null,GObj.$d(t.composeBtn),t.composeBtn=null,GObj.$d(t.oneKeyComposeBtn),t.oneKeyComposeBtn=null,GObj.$d(t.isInsertImg),t.isInsertImg=null,t.xu=null,t.ql=null,t.kw=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(GemUpgradeView.prototype,"GemUpgradeView");var GemView=function(e){function t(){var t=e.call(this)||this;return t.qe(),t._b(),t.gw(),t}return __extends(t,e),t.prototype.qe=function(){var e=this;e.cp=0,e.xh=0,e.gemItem1=GObj.$c(GemItemView,Iwrv.MV),e.gemItem1.x=-70,e.gemItem1.y=220,e.gemItem2=GObj.$c(GemItemView,Iwrv.JS),e.gemItem2.x=35,e.gemItem2.y=220,e.gemItem3=GObj.$c(GemItemView,Iwrv.VF),e.gemItem3.x=140,e.gemItem3.y=220,e.gemItem4=GObj.$c(GemItemView,Iwrv.OC),e.gemItem4.x=245,e.gemItem4.y=220,e.oneKeyInsertBtn=GObj.$c(eui.Button),e.oneKeyInsertBtn.skinName=RRUU.$e("SimpleButton_3"),e.oneKeyInsertBtn.label=fvg.GVf("store010"),e.oneKeyInsertBtn.x=82,e.oneKeyInsertBtn.y=370,e.outputBtn=GObj.$c(eui.Button),e.outputBtn.skinName=RRUU.$e("LinkButton_2"),e.outputBtn.label=fvg.GVf("store018"),e.outputBtn.x=240,e.outputBtn.y=385,e.addChild(e.gemItem1),e.addChild(e.gemItem2),e.addChild(e.gemItem3),e.addChild(e.gemItem4),e.addChild(e.oneKeyInsertBtn),e.addChild(e.outputBtn)},t.prototype._b=function(){var e=this;e.gemItem1.addEventListener(eui.tep,e.sg,e),e.gemItem2.addEventListener(eui.tep,e.sg,e),e.gemItem3.addEventListener(eui.tep,e.sg,e),e.gemItem4.addEventListener(eui.tep,e.sg,e),e.oneKeyInsertBtn.addEventListener(eui.tep,e.mq,e),e.outputBtn.addEventListener(eui.tep,e.ug,e),vkG.$a(UtJ.DV,e.jp,e)},t.prototype.bf=function(){var e=this;e.gemItem1.removeEventListener(eui.tep,e.sg,e),e.gemItem2.removeEventListener(eui.tep,e.sg,e),e.gemItem3.removeEventListener(eui.tep,e.sg,e),e.gemItem4.removeEventListener(eui.tep,e.sg,e),e.oneKeyInsertBtn.removeEventListener(eui.tep,e.mq,e),e.outputBtn.removeEventListener(eui.tep,e.ug,e),vkG.$r(UtJ.DV,e.jp,e)},t.prototype.jp=function(e){var t=this;if(e&&e.length>0)for(var n=void 0,i=0;i<e.length;i++)if(n=App.FK.getnlwjByGoodsId(e[i]),n&&n.masterType==Iwrv.PF){t.gw(),t.nj(),vkG.$d(UtJ.YV);break}},t.prototype.gw=function(){var e=this;if(e.rs){e.bw();var t,n=int(e.rs%1e3),i=App.FK.LHp(5);e.gq=0;for(var r=0;r<i.length;r++)t=i[r],t.p1>0&&int(t.p1/10)==n&&(e.gq+=t.goodsGrade,e.pd(t));e.rs==e.cp&&e.gq>e.xh&&App.KB.showEffect(gYq.UQ),e.cp=e.rs,e.xh=e.gq;var a=e.lv();e.oneKeyInsertBtn.icon=a.length>0?StaticData.GHj:null}},t.prototype.sg=function(e){var t=e.currentTarget;App.VS.popup(10034,GemUpgradePopUi,null,t.gemType,this.rs)},t.prototype.mq=function(e){var t=this,n=GApp.timer;if(n-t.mw<400)return void MessageTipManager.instance.show(fvg.GVf("store003"));var i=t.lv();i.length>0?StoreMsgProxy.QD(t.rs%1e3,i):MessageTipManager.instance.show(fvg.GVf("store021"))},t.prototype.lv=function(){var e=this,t=[],n=e.xu(Iwrv.MV,e.gemItem1.data);return n&&t.push(n),n=e.xu(Iwrv.JS,e.gemItem2.data),n&&t.push(n),n=e.xu(Iwrv.VF,e.gemItem3.data),n&&t.push(n),n=e.xu(Iwrv.OC,e.gemItem4.data),n&&t.push(n),t},t.prototype.xu=function(e,t){for(var n,i=0,r=t?QNV.OV(t.tid):0,a=App.FK.Fkl(1,e),o=0;o<a.length;o++)n=QNV.OV(a[o].tid),n>r&&(r=n,i=a[o].id);return i},t.prototype.pd=function(e){if(e){var t=e.p1%10;this["gemItem"+t].data=e}},t.prototype.ug=function(){_JDW.TR(StaticData.TID_GEM_ID)},t.prototype.bw=function(){var e=this;e.gemItem1.data=null,e.gemItem2.data=null,e.gemItem3.data=null,e.gemItem4.data=null},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.rs},set:function(e){var t=this;t.rs=e,t.gw(),t.ml()},enumerable:!0,configurable:!0}),t.prototype.ml=function(){var e=this;e.gemItem1.equipType=e.rs,e.gemItem2.equipType=e.rs,e.gemItem3.equipType=e.rs,e.gemItem4.equipType=e.rs,e.gemItem1.recoredState(),e.gemItem2.recoredState(),e.gemItem3.recoredState(),e.gemItem4.recoredState()},t.prototype.nj=function(){var e=this;e.gemItem1.checkInlay(),e.gemItem2.checkInlay(),e.gemItem3.checkInlay(),e.gemItem4.checkInlay()},t.prototype.dispose=function(){var e=this;e.bf(),GObj.$d(e.gemItem1),e.gemItem1=null,GObj.$d(e.gemItem2),e.gemItem2=null,GObj.$d(e.gemItem3),e.gemItem3=null,GObj.$d(e.gemItem4),e.gemItem4=null,GObj.$d(e.oneKeyInsertBtn),e.oneKeyInsertBtn=null,GObj.$d(e.outputBtn),e.outputBtn=null,e.parent&&e.parent.removeChild(e)},t}(egret.DisplayObjectContainer);__reflect(GemView.prototype,"GemView");var IntensifyView=function(e){function t(){var t=e.call(this,"IntensifyVIew")||this,n=RRUU.$s("IntensifyViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ju=0,e["in"]=0,e.xq=0,e.intensifyBtn.label=fvg.GVf("store001"),e.onekeyIntensifyBtn.label=fvg.GVf("store002"),e.gb=[1,2,2,2,1,2,1,1],e.yr=XCA.AQS.UFA(4,1,1),e.intensiftTitle.text=fvg.GVf("store041"),e.smaicon.goodsTid=StaticData.TID_GOODS_2},t.prototype.initData=function(){var e=this;e.qm&&e.yx()},t.prototype.initEvent=function(){var e=this;e.intensifyBtn.addEventListener(eui.tep,e.ki,e),e.onekeyIntensifyBtn.addEventListener(eui.tep,e.bs,e),vkG.$a(UtJ.HG,e.tm,e)},t.prototype.dt=function(){var e=this;e.intensifyBtn.removeEventListener(eui.tep,e.ki,e),e.onekeyIntensifyBtn.removeEventListener(eui.tep,e.bs,e),vkG.$r(UtJ.HG,e.tm,e)},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.qm},set:function(e){var t=this;t.qm=e,t.yx()},enumerable:!0,configurable:!0}),t.prototype.tm=function(){var e=this;e.qm&&e.yx()},t.prototype.yx=function(){var e=this;e.CSo&&(e.vo=App.HG.intensifyInfo[e.qm]||0,e.qm==e["in"]&&e.vo!=e.xq&&App.KB.showEffect(gYq.UQ),e["in"]=e.qm,e.xq=e.vo,e.updateNeedCount(),e.zo(),e.ug())},t.prototype.updateNeedCount=function(){var e=this;if(e.CSo&&e.yr){e.xr=App.JP.getNeedEisByGrade(e.vo);var t=App.FK.hsx(StaticData.TID_GOODS_2);e.needEisTxt.text=t+"/"+e.xr;var n=!0;e.xr<=t?e.needEisTxt.textColor=Color.TX:(e.needEisTxt.textColor=Color.KA,n=!1),e.intensifyBtn.icon=e.vo<e.yr.maxgrade&&n?StaticData.GHj:null;var i=e.ao(),r=i[0]>0;e.onekeyIntensifyBtn.icon=r?StaticData.GHj:null}},t.prototype.zo=function(){var e=this,t=e.qm%1e3-1,n=e.yr.attrid+1e6*e.gb[t],i=XCA.YV(n);if(i){var r=1==e.gb[t]?"atk":"hp",a=xxf.UK[r];a+=e.vo>0?" +"+App.JP.getIntensifyAttr(i[r],e.vo):" +0",e.currAttrNameTxt.text=a}e.currGradeTxt.text=fvg.GVf("store064",e.vo)},t.prototype.ug=function(){var e=this,t=e.qm%1e3-1,n=e.yr.attrid+1e6*e.gb[t],i=XCA.YV(n),r="";if(i){var a=1==e.gb[t]?"atk":"hp";r=xxf.UK[a]+" +"+App.JP.getIntensifyAttr(i[a],e.vo+1)}else r=fvg.GVf("skill006");e.nextAttrNameTxt.text=r,e.nextGradeTxt.text=fvg.GVf("store064",e.vo+1)},t.prototype.ki=function(e){var t=this;if(t.vo>=t.yr.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var n=App.FK.hsx(StaticData.TID_GOODS_2);return n<t.xr?void _JDW.TR(StaticData.TID_GOODS_2,t.xr-n):void StoreMsgProxy.KG(t.qm%1e3)},t.prototype.bs=function(e){var t=this;fNs.instance.execute(hXS.XCB,hXS.NW);var n=GApp.timer;if(n-t.ju<400)return void MessageTipManager.instance.show(fvg.GVf("store003"));t.ju=n;var i=t.ao();-1==i[0]?_JDW.TR(StaticData.TID_GOODS_2):-2==i[0]?_JDW.TR(StaticData.TID_GOODS_2):StoreMsgProxy.CJ(i)},t.prototype.ao=function(){for(var e,t,n,i=[],r=[],a=App.FK.hsx(StaticData.TID_GOODS_2),o=-1,s=0;s<Iwrv.YJ.length&&(e=this.kg(r),t=App.HG.intensifyInfo[e],n=App.JP.getNeedEisByGrade(t),a>=n);s++)r.push(e),i.push(e%1e3),a-=n;return 0==i.length&&i.push(o),i},t.prototype.kg=function(e){var t=0,n=App.HG.intensifyInfo,i=this.yr.maxgrade;for(var r in n)e.indexOf(parseInt(r))<0&&n[r]<i&&(i=n[r],t=parseInt(r));return t},t.prototype.dispose=function(){var t=this;t.dt(),GObj.$d(t.otherGroup),t.otherGroup=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.intensifyBtn),t.intensifyBtn=null,GObj.$d(t.onekeyIntensifyBtn),t.onekeyIntensifyBtn=null,GObj.$d(t.needEisTxt),t.needEisTxt=null,GObj.$d(t.nextAttrNameTxt),t.nextAttrNameTxt=null,GObj.$d(t.currAttrNameTxt),t.currAttrNameTxt=null,GObj.$d(t.smaicon),t.smaicon=null,GObj.$d(t.currGradeTxt),t.currGradeTxt=null,GObj.$d(t.nextGradeTxt),t.nextGradeTxt=null,t.yr=null,t.gb=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(IntensifyView.prototype,"IntensifyView");var StoreItemView=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"StoreItemView")||this;n._equipType=t;var i=RRUU.$s("StoreItemViewSkin");return n.skinName=i,n}return __extends(t,e),Object.defineProperty(t.prototype,"icon",{set:function(e){this.iconDisplay.source=e},enumerable:!0,configurable:!0}),t.prototype.initView=function(){var e=this;e.preTab="",e.preGrade=0,e._isShowUpgradeEff=!0,e.selected=!1,e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e._itemView.addEventListener(eui.tep,e.xw,e),vkG.$a(UtJ.HG,e.nb,e),vkG.$a(UtJ.MF,e.nb,e),vkG.$a(UtJ.BO,e.nb,e),vkG.$a(UtJ.VW,e.nb,e)},t.prototype.removeEvent=function(){var e=this;e._itemView.removeEventListener(eui.tep,e.xw,e),vkG.$r(UtJ.HG,e.nb,e),vkG.$r(UtJ.MF,e.nb,e),vkG.$r(UtJ.BO,e.nb,e),vkG.$r(UtJ.VW,e.nb,e)},t.prototype.initData=function(){var e=this;e.sn(),e.p_()},t.prototype.nb=function(){this.p_()},t.prototype.wv=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){var t=this;t._data=e,t._itemView.data=t._data,t.ys()},enumerable:!0,configurable:!0}),t.prototype.sn=function(){var e=this;Iwrv.YJ.indexOf(e._equipType)>=0?e._typeIcon.source="frame_json.equip_"+e._equipType+"_png":e._typeIcon.source=null},t.prototype.ys=function(){var e=this;e._tabType!=t.HD?(e._typeIcon.visible=!e._data,e._itemView.data=e._data):e._data&&e._data.quality>=aKF.KY?(e._typeIcon.visible=!1,e._itemView.data=e._data):(e._typeIcon.visible=!0,e._itemView.data=null)},Object.defineProperty(t.prototype,"equipType",{get:function(){return this._equipType},set:function(e){var t=this;t._equipType=e,t.sn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabType",{get:function(){return this._tabType},set:function(e){var t=this;t._tabType=e,t.p_(),t.ys()},enumerable:!0,configurable:!0}),t.prototype.p_=function(){var e=this;e._currGrade=0,e._tabType==t.ZS?e._currGrade=App.HG.intensifyInfo[e.equipType]||0:e._tabType==t.CY?e._currGrade=App.HG.gemInfo[e.equipType]:e._tabType==t.DX?e._currGrade=App.HG.upstarInfo[e.equipType]||0:e._tabType==t.HD&&(e._currGrade=App.HG.castingGoldInfo[e.equipType]||0),e._currGrade>0?e._itemView.bottomText="+"+e._currGrade:e._itemView.bottomText="",e.checkUpgrade()},t.prototype.checkUpgrade=function(){var e=this;e._isShowUpgradeEff&&(e._tabType==e.preTab&&e._currGrade!=e.preGrade&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.wv,e),e.weS.x=-36,e.weS.y=-40),e.weS.play(1),e.addChild(e.weS)),e.preTab=e._tabType,e.preGrade=e._currGrade)},t.prototype.lp=function(e){var t=this;t._redPoint.visible=e,e&&!t._redPoint.source&&(t._redPoint.source="bar_json.redPoint_png")},Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowUpgradeEff",{get:function(){return this._isShowUpgradeEff},set:function(e){this._isShowUpgradeEff=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t._selectedBack.visible=t._selected},enumerable:!0,configurable:!0}),t.prototype.xw=function(){!this._data},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._selectedBack),t._selectedBack=null,GObj.$d(t._redPoint),t._redPoint=null,GObj.$d(t._itemView),t._itemView=null,GObj.$d(t._typeIcon),t._typeIcon=null,t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.wv,t)),GObj.$d(t.weS),t.weS=null,t._data=null,e.prototype.dispose.call(this)},t.ZS="tab_intensify",t.CY="tab_gem",t.DX="tab_upstar",t.HD="tab_composite",t.BX="spirit_master",t.KI="battle_master",t.NO="taiyi_master",t.HG="godsuit_master",t.TU="fairysuit_master",t}(BaseUI);__reflect(StoreItemView.prototype,"StoreItemView",["ISelectedButton","egret.IEventDispatcher"]);var StoreMasterPopUi=function(e){function t(){var t=e.call(this,"StoreMasterPopUi")||this;return t.gx=0,t.skinName=RRUU.$s("StoreMasterPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){this.bq()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.oj=e[0],n.gx=e[1]||0,n.bq())},t.prototype.bq=function(){var e=this;if(e.CSo&&e.oj){switch(e.hy=1,e.oj){case StoreItemView.ZS:e.hy=1,e.qa=App.HG.intensifyMaster;break;case StoreItemView.CY:e.hy=2,e.qa=App.HG.gemMaster;break;case StoreItemView.DX:e.hy=3,e.qa=App.HG.upstarMaster;break;case StoreItemView.BX:e.hy=4,e.qa=App.HG.spiritMaster;break;case StoreItemView.KI:e.hy=5,e.qa=App._B.battleMaster;
break;case StoreItemView.NO:e.hy=6,e.qa=App.HL.getTaiyiMasterGrade(e.gx);break;case StoreItemView.HG:e.hy=7,e.qa=App.HG.godSuitMaster;break;case StoreItemView.TU:e.hy=8,e.qa=App.HG.fairySuitMaster}e.frameGroup.title=fvg.GVf("store033_"+e.hy),e.wr=XCA.AQS.UFA(36,e.hy,1),e.jd=e.wr?e.wr.p6.split(QycO.XP):[],e.im(),e.ut()}},t.prototype.im=function(){var e=this;if(e.wr){var t=e.qa||1,n=e.wr.attrid+t,i=parseInt(e.jd[t-1]),r=App.HG.getHaveNumByGrade(e.hy,i,e.gx);e.currStageTxt.text=fvg.GVf("store034_"+e.hy,i),e.currActiveTxt.x=e.currStageTxt.x+e.currStageTxt.width;var a=void 0;a=5==e.hy||6==e.hy?4:7==e.hy?Iwrv.MA.length:8==e.hy?Iwrv.SA.length:Iwrv.YJ.length,e.currAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(n)),e.qa>0?(e.currActiveTxt.text=fvg.GVf("beast01"),e.currActiveTxt.textColor=e.currAttrTxt.textColor=Color.SQ):(e.currActiveTxt.text=fvg.GVf("112",r,a),e.currActiveTxt.textColor=Color.KA,e.currAttrTxt.textColor=Color.KA)}},t.prototype.ut=function(){var e=this;if(e.wr&&e.qa<e.wr.maxgrade){var t=e.qa||1,n=e.wr.attrid+t+1,i=parseInt(e.jd[t]),r=App.HG.getHaveNumByGrade(e.hy,i);e.nextStageTxt.text=fvg.GVf("store036_"+e.hy,i),e.nextActiveTxt.x=e.nextStageTxt.x+e.nextStageTxt.width;var a=void 0;a=5==e.hy||6==e.hy?4:7==e.hy?Iwrv.MA.length:8==e.hy?Iwrv.SA.length:Iwrv.YJ.length,e.nextActiveTxt.text=fvg.GVf("112",r,a),e.nextActiveTxt.textColor=Color.KA,e.nextAttrTxt.textFlow=LgRe.OQ(AttributeTemplate.KK(n))}else e.nextStageTxt.text="",e.nextAttrTxt.text="",e.nextActiveTxt.text=""},t.prototype.vm=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.currActiveTxt),t.currActiveTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,t.oj=null,t.jd=null,t.wr=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(StoreMasterPopUi.prototype,"StoreMasterPopUi");var StoreView=function(e){function t(){var t=e.call(this,"StoreView")||this;return t.cd=0,t.nl=[StoreItemView.ZS,StoreItemView.CY,StoreItemView.DX,StoreItemView.HD],t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.em=fvg.GVf("store004").split(","),e.itemArray=[],e.equipGroup=GObj.$c(kQr);for(var t,n=Iwrv.YJ,i=0;i<n.length;i++)t=GObj.$c(StoreItemView,n[i]),e.itemArray.push(t),e.equipGroup.cwA(t),e.itemGroup.addChild(t);e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=-8,e.selectedPartsItem=GObj.$c(StoreItemView),e.selectedPartsItem.x=207,e.selectedPartsItem.y=206,e.selectedPartsItem.isShowUpgradeEff=!1,e.addChild(e.fightView),e.addChild(e.selectedPartsItem)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.equipGroup.addEventListener(egret.Event.CHANGE,t.ah,t),t.selectedPartsItem.addEventListener(eui.tep,t.gw,t),t.masterBtn.addEventListener(eui.tep,t.ka,t),vkG.$a(UtJ.HG,t.fr,t),vkG.$a(UtJ.MF,t.fr,t),vkG.$a(UtJ.YV,t.fr,t),vkG.$a(UtJ.DV,t.fr,t),vkG.$a(UtJ._B,t.fr,t),vkG.$a(UtJ.VO,t.nn,t),vkG.$a(UtJ.OU,t.jq,t),vkG.$a(UtJ.VW,t.fr,t)},t.prototype.removeEvent=function(){var e=this;e.equipGroup.removeEventListener(egret.Event.CHANGE,e.ah,e),e.selectedPartsItem.removeEventListener(eui.tep,e.gw,e),e.masterBtn.removeEventListener(eui.tep,e.ka,e),vkG.$r(UtJ.HG,e.fr,e),vkG.$r(UtJ.MF,e.fr,e),vkG.$r(UtJ.YV,e.fr,e),vkG.$r(UtJ.DV,e.fr,e),vkG.$r(UtJ._B,e.fr,e),vkG.$r(UtJ.VO,e.nn,e),vkG.$r(UtJ.OU,e.jq,e),vkG.$r(UtJ.VW,e.fr,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.im(),t.equipGroup.selectedIndex=0,t.jq()},t.prototype.im=function(){for(var e,t=this,n=Iwrv.YJ,i=0;i<n.length;i++)e=App.FK.Fkl(2,n[i]),e.length>0&&t.itemArray[i].data!=e[0]&&(t.itemArray[i].data=e[0]);App.HG.calcColoredEquipCap()},t.prototype.cor=function(e){var t=App.KF.chapter;t<StaticData.GEM_CH&&(e.stopPropagation(),e.stopImmediatePropagation(),MessageTipManager.instance.show(fvg.GVf("public044",StaticData.GEM_CH)))},t.prototype.vc=function(e){var t=App.KF.chapter;t<StaticData.STARUP_CH&&(e.stopPropagation(),e.stopImmediatePropagation(),MessageTipManager.instance.show(fvg.GVf("public044",StaticData.STARUP_CH)))},t.prototype.fk=function(e){var t=App.KF.chapter;t<StaticData.COMPOSITE_CH&&(e.stopPropagation(),e.stopImmediatePropagation(),MessageTipManager.instance.show(fvg.GVf("public044",StaticData.COMPOSITE_CH)))},t.prototype.ka=function(e){App.VS.popup(10033,StoreMasterPopUi,null,this.hi)},t.prototype.dataUpdated=function(){var e=this;if(e.NwP&&e.NwP.parent&&e.NwP.parent.removeChild(e.NwP),e.viewData){var t=e.tabType;switch(t){case 1:e.intensifyView||(e.intensifyView=GObj.$c(IntensifyView),e.intensifyView.y=396,e.intensifyView.horizontalCenter=0),e.NwP=e.intensifyView,e.hi=StoreItemView.ZS,e.masterBtn.icon="store_json.intensify_master_png";break;case 2:e.gemView||(e.gemView=GObj.$c(GemView),e.gemView.x=102,e.gemView.y=296),e.NwP=e.gemView,e.hi=StoreItemView.CY,e.masterBtn.icon="store_json.gem_master_png";break;case 3:e.upstarView||(e.upstarView=GObj.$c(UpstarView),e.upstarView.y=131,e.upstarView.x=19),e.NwP=e.upstarView,e.hi=StoreItemView.DX,e.masterBtn.icon="store_json.upstar_master_png";break;case 4:e.compositeView||(e.compositeView=GObj.$c(CompositeView),e.compositeView.y=86,e.compositeView.horizontalCenter=0),e.NwP=e.compositeView,e.hi=StoreItemView.HD}e.fr(null),e.jq();for(var n=0;n<e.itemArray.length;n++)e.itemArray[n].tabType=e.hi;e.selectedPartsItem.tabType=e.hi,e.selectedPartsItem.visible=e.hi!=StoreItemView.HD,e.masterBtn.visible=e.hi!=StoreItemView.HD,e.NwP&&(e.NwP.equipType=e.selectedPartsItem.equipType,e.addChildAt(e.NwP,1)),fNs.instance.execute(hXS.XCB,hXS.RZ,e.viewData.vid,e.NwP)}},t.prototype.ob=function(){var e=this,t=0;switch(e.hi){case StoreItemView.ZS:t=App.HG.intensifyTotalCap;break;case StoreItemView.CY:t=App.HG.gemCap;break;case StoreItemView.DX:t=App.HG.upstarTotalCap;break;case StoreItemView.HD:t=App.HG.coloredCap+App.HG.castingGoldCap}e.fightView.fightNum=t},t.prototype.ah=function(e){var t=this,n=t.equipGroup.selectedIndex;t.selectedPartsTxt.text=t.em[n];var i=t.equipGroup.LuO;i&&(t.selectedPartsItem.data=i.data,t.selectedPartsItem.equipType=i.equipType,t.selectedPartsItem.tabType=i.tabType,t.NwP&&(t.NwP.equipType=i.equipType),i.data&&i.data.TSF&&i.data.TSF.step>=MaxLevel.PEAK_EQUIP_BEGIN_STEP?t.selectedPartsTxt.visible=!1:t.selectedPartsTxt.visible=!0)},t.prototype.nn=function(){var e=this;e.im(),e.ob()},t.prototype.fr=function(e){for(var t=this,n=Iwrv.YJ.length,i=0;n>i;i++){var r=t.itemArray[i];r&&(r.icon=UsU.LRU(t.hi,r.equipType)?StaticData.GHj:null)}t.tv(),t.ob()},t.prototype.gw=function(e){var t=this;if(t.selectedPartsItem.data){var n=GObj.$c(DevelopEquipPreviewPopUi,2);n.show(t.selectedPartsItem.equipType)}},t.prototype.tv=function(){var e=this;e.NwP&&e.NwP.updateNeedCount&&e.NwP.updateNeedCount()},t.prototype.jq=function(){var e=this;switch(e.hi){case StoreItemView.ZS:e.masterBtn.label=fvg.GVf("store035_1",App.HG.intensifyMaster);break;case StoreItemView.CY:e.masterBtn.label=fvg.GVf("store035_2",App.HG.gemMaster);break;case StoreItemView.DX:e.masterBtn.label=fvg.GVf("store035_3",App.HG.upstarMaster)}e.ob()},t.prototype.dispose=function(){var t=this;if(fNs.instance.execute(hXS.XCB,hXS.YL),t.removeEvent(),GObj.$d(t.selectedPartsTxt),t.selectedPartsTxt=null,GObj.$d(t.intensifyView),t.intensifyView=null,GObj.$d(t.gemView),t.gemView=null,GObj.$d(t.upstarView),t.upstarView=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.selectedPartsItem),t.selectedPartsItem=null,GObj.$d(t.compositeView),t.compositeView=null,t.itemArray)for(var n=0;n<t.itemArray.length;n++)GObj.$d(t.itemArray[n]);t.itemArray=null,t.NwP=null,t.em=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(StoreView.prototype,"StoreView");var UpstarView=function(e){function t(){var t=e.call(this,"UpstarView")||this;t.positionList=[{x:122,y:119},{x:117,y:82},{x:131,y:49},{x:156,y:21},{x:193,y:2},{x:236,y:2},{x:275,y:19},{x:300,y:47},{x:316,y:84},{x:312,y:121}];var n=RRUU.$s("UpstarViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.we=0,e.vm=0,e.upstarBtn.label=fvg.GVf("store042"),e.starGroup=GObj.$c(eui.Group),e.starGroup.x=130,e.starGroup.y=5;for(var t=[],n=e.positionList,i=0;10>i;i++){var r=n[i],a=GObj.$c(eui.Image);a.x=r.x,a.y=r.y,t.push(a),e.addChild(a)}e.starArr=t},t.prototype.initData=function(){var e=this;e.as&&e.lx()},t.prototype.initEvent=function(){var e=this;e.upstarBtn.addEventListener(eui.tep,e.zd,e),e.upRateBtn.addEventListener(eui.tep,e.hd,e),e.perfectBtn.addEventListener(eui.tep,e.yu,e),vkG.$a(UtJ.MF,e.pme,e),vkG.$a(UtJ._B,e.vx,e)},t.prototype.removeEvent=function(){var e=this;e.upstarBtn.removeEventListener(eui.tep,e.zd,e),e.upRateBtn.removeEventListener(eui.tep,e.hd,e),e.perfectBtn.removeEventListener(eui.tep,e.yu,e),vkG.$r(UtJ.MF,e.pme,e),vkG.$r(UtJ._B,e.vx,e)},t.prototype.pme=function(){this.initData()},t.prototype.gr=function(e){var t=this,n=Math.ceil(e/10);n=0>=n?1:Math.min(n,5);var i=e%10;e>0&&0==i&&(i=10);for(var r=0;r<t.starArr.length;r++)i>r?t.starArr[r].source=kLM.getBigStarPathByType(n):t.starArr[r].source=kLM.ZH()},t.prototype.sp=function(e){var t=this;if(t.perfectGroup.visible=t.es>10&&t.es<MaxLevel.UPSTAR_MAX_LEVEL,t.ql=0,e>=10){var n=Math.floor(e/10)-1,i=StaticData.TID_STARS[n]||0;t.eusIcon.source="game_json.eus_"+(Math.floor(e/10)+1)+"_png",t.ql=App.FK.hsx(i)}t.countLab.text=toChars(t.ql),t.perfectBtn.icon=t.ql>0?StaticData.GHj:null},Object.defineProperty(t.prototype,"equipType",{get:function(){return this.as},set:function(e){var t=this;t.as=e,t.lx()},enumerable:!0,configurable:!0}),t.prototype.zd=function(e){var t=this;if(t.es>=MaxLevel.UPSTAR_MAX_LEVEL)return void msgTip(fvg.GVf("skill006"));var n=App.FK.hsx(t.iq);return n<t.un?void _JDW.TR(t.iq,t.un-n):t.lj&&App.BG.jkU.point<t.hs?void msgTip(fvg.GVf("public017")):void StoreMsgProxy.BP(t.as%1e3,t.lj?1:0)},t.prototype.hd=function(e){var t=this;if(t.zc){if(1e3==t.zc.p2)return void MessageTipManager.instance.show(fvg.GVf("store019"));if(t.lj)t.oh();else{var n=20*Math.floor(t.un/t.zc.p2*1e3);Alert.WK(fvg.GVf("store020",n),null,null,t.oh,t)}}},t.prototype.oh=function(){var e=this;e.lj=!e.lj,e.updateNeedCount()},t.prototype.lx=function(){var e=this;e.CSo&&(e.es=App.HG.upstarInfo[e.as]||0,e.as==e.we&&e.es!=e.vm&&App.KB.showEffect(gYq.UQ),e.we=e.as,e.vm=e.es,e.tn=XCA.AQS.UFA(5,1,e.es),e.tn||(e.tn=XCA.AQS.UFA(5,1,1)),e.zc=XCA.AQS.UFA(5,1,e.es+1),e.lj=!1,e.updateNeedCount(),e.sp(e.es),e.gr(e.es),e.db(),e.rl())},t.prototype.updateNeedCount=function(){var e=this;if(!e.zc)return e.upstarBtn.icon=null,e.succRateTxt.text="--",e.needEusTxt.text="--",e.needEusTxt.textColor=Color.XB,e.needGoldTxt.text="--",void(e.needGoldTxt.textColor=Color.XB);e.succRateTxt.text=e.zc.p2/10+"%";var t=e.zc.cost.split(",");e.iq=parseInt(t[0]),e.un=parseInt(t[1]);var n=App.FK.hsx(e.iq);e.needEusTxt.text=n+"/"+e.un,n>=e.un?(e.upstarBtn.icon=StaticData.GHj,e.needEusTxt.textColor=Color.TX):(e.upstarBtn.icon=null,e.needEusTxt.textColor=Color.KA),e.lj?(e.succRateTxt.text="100%",e.hs=20*Math.floor(e.un/e.zc.p2*1e3)):(e.succRateTxt.text=e.zc.p2/10+"%",e.hs=0),e.needGoldTxt.text=e.hs.toString(),e.needGoldTxt.textColor=App.BG.jkU.point>=e.hs?Color.TX:Color.KA},t.prototype.vx=function(e){2==e&&(MessageTipManager.instance.show(fvg.GVf("store022")),this.updateNeedCount())},t.prototype.db=function(){var e=this,t=fvg.GVf("store007");e.tn&&(t+=e.es>0?"+"+e.tn.p1/10+"%":"+0%",e.currAttrNameTxt.text=t)},t.prototype.rl=function(){var e=this,t=XCA.AQS.UFA(5,1,e.es+1),n="";t?n=fvg.GVf("store008",t.p1/10):(n=fvg.GVf("store009"),e.nextAttrNameTxt.textColor=Color.SQ,n+=""),e.nextAttrNameTxt.textFlow=LgRe.OQ(n)},t.prototype.yu=function(e){var t=this;t.ql>0?App.HG.iffirst?(App.HG.iffirst=!1,Alert.WK(fvg.GVf("store024"),null,null,t.qy,t)):t.qy():MessageTipManager.instance.show(fvg.GVf("store023",Math.floor(t.es/10)+1))},t.prototype.qy=function(){StoreMsgProxy.BP(this.as%1e3,2)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.otherGroup),t.otherGroup=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.upstarBtn),t.upstarBtn=null,GObj.$d(t.needEusTxt),t.needEusTxt=null,GObj.$d(t.starGroup),t.starGroup=null,GObj.$d(t.currAttrNameTxt),t.currAttrNameTxt=null,GObj.$d(t.nextAttrNameTxt),t.nextAttrNameTxt=null,GObj.$d(t.eusIcon),t.eusIcon=null,t.starArr)for(var n=0;n<t.starArr.length;n++)GObj.$d(t.starArr[n]);t.starArr=null,GObj.$d(t.perfectGroup),t.perfectGroup=null,GObj.$d(t.countLab),t.countLab=null,GObj.$d(t.perfectBtn),t.perfectBtn=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(UpstarView.prototype,"UpstarView");var StoreUpBtnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StoreUpBtnItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){e.prototype.initData.call(this),this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.qz,e),vkG.$a(UtJ.DV,e.kc,e),vkG.$a(UtJ.TUS,e.kc,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.qz,e),vkG.$r(UtJ.DV,e.kc,e),vkG.$r(UtJ.TUS,e.kc,e)},t.prototype.qz=function(e){this.dispose()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){for(var t=fvg.GVf("store055").split(QycO.XP),n=Iwrv.YJ,i=0;i<n.length;i++)if(n[i]==parseInt(e.data)){e.nameLab.text=t[i];break}e.kc()}},t.prototype.kc=function(){var e=this;if(App.HG.currStoreVo){var t=parseInt(e.data)||0,n=App.HG.currStoreVo,i=App.HG.storeUpPointDict[n.step+"_"+n.star+"_"+t]||!1;e.redImg.visible=i}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.redImg),t.redImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StoreUpBtnItem.prototype,"StoreUpBtnItem");var StoreUpItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StoreUpItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.itemRenderer=StoreUpStarItem,e.itemList.dataProvider=e.itemData,e.af=!0},t.prototype.initData=function(){e.prototype.initData.call(this),this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.rp,e),e.bgImg.addEventListener(eui.tep,e.ms,e),vkG.$a(UtJ.DV,e.hm,e),vkG.$a(UtJ.TUS,e.hm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.rp,e),e.bgImg.removeEventListener(eui.tep,e.ms,e),vkG.$r(UtJ.DV,e.hm,e),vkG.$r(UtJ.TUS,e.hm,e)},t.prototype.rp=function(e){this.dispose()},t.prototype.dataChanged=function(){var e=this;e.data&&e.CSo&&(e.h_=parseInt(e.data)||0,e.h_&&(e.nameLab.text=fvg.GVf("store051",e.h_),e.selectedChange(),e.af=!1,e.hm()))},t.prototype.hm=function(){var e=this;e.h_&&(e.redImg.visible=UsU.MR(e.h_))},t.prototype.bh=function(){var e=this,t=App.HG.storeUpLvDict[e.h_];if(t){e.itemData.removeAll();var n;for(var i in t)n=GObj.$c(storeVo),n.step=e.h_,n.star=parseInt(i),e.itemData.addItem(n),e.af&&UsU.X_(n.step,n.star)&&(e.dv=e.itemData.source.length-1);e.itemData.refresh(),e.dv<0&&(e.dv=0),e.itemList.selectedIndex=e.dv}},t.prototype.ms=function(){this.selected&&vkG.$d(UtJ.FW)},t.prototype.selectedChange=function(){var t=this;e.prototype.selectedChange.call(this),t.selected?t.bh():(t.dv=t.itemList.selectedIndex,t.itemData.source.length=0,t.itemData.refresh()),t.vv()},t.prototype.vv=function(){var e=this;e.itemList.height=43*e.itemData.source.length,e.height=e.itemList.y+e.itemList.height},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.itemData),t.itemData=null,GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.goImg),t.goImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StoreUpItem.prototype,"StoreUpItem");var StoreUpPopItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StoreUpPopItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.checkBox.addEventListener(egret.Event.CHANGE,e.rt,e),e.addEventListener(eui.RFS,e.op,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.checkBox.removeEventListener(egret.Event.CHANGE,e.rt,e),e.removeEventListener(eui.RFS,e.op,e)},t.prototype.rt=function(){var e=this;e.data&&(e.checkBox.selected=e.checkStoreUp(e.checkBox.selected,e.data))},t.prototype.op=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;e.data&&e.CSo&&(e.item&&(e.item.data=e.data),e.hv())},t.prototype.checkStoreUp=function(e,t){if(!t)return!1;var n=App.HG.currStoreCheckDict.length;if(e&&n>=StaticData.STORE_UP_NEED_NUM)return msgTip(fvg.GVf("store059")),!1;for(var i,r=n-1;r>=0;r--)if(i=App.HG.currStoreCheckDict[r],i&&t.id==i.id&&!e){App.HG.currStoreCheckDict.splice(r,1);break}return e?(App.HG.currStoreCheckDict.push(t),!0):void 0},t.prototype.hv=function(){for(var e,t=this,n=t.data,i=App.HG.currStoreCheckDict.length,r=i-1;r>=0;r--)if(e=App.HG.currStoreCheckDict[r],e&&n.id==e.id){t.checkBox.selected=!0;break}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.item),t.item=null,GObj.$d(t.checkBox),t.checkBox=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StoreUpPopItem.prototype,"StoreUpPopItem");var StoreUpPopUi=function(e){function t(){var t=e.call(this,"StoreUpPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.title=fvg.GVf("store050"),this.sureBtn.label=fvg.GVf("7"),this.itemData=GObj.$c(eui.ArrayCollection),this.itemList.itemRenderer=StoreUpPopItem,this.itemList.dataProvider=this.itemData},t.prototype.initData=function(){this.mb()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.cc,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.cc,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length&&(n.lb=parseInt(e[0]),n.mb())},t.prototype.mb=function(){var e=this;if(e.CSo&&App.HG.currStoreVo&&e.lb){var t=App.HG.currStoreVo,n=aKF.KY;1==t.star&&(n=aKF.PU);var i=App.FK.searchStoreEquip(t.step,n,t.star-1,e.lb);e.itemData.removeAll(),e.itemData.replaceAll(i),e.descLab.text=fvg.GVf("store049",t.step,t.star,t.step,t.star-1),1==t.star&&(e.descLab.text=fvg.GVf("store048",t.step,t.star,t.step))}},t.prototype.cc=function(){App.HG.currStoreCheckDict.length<StaticData.STORE_UP_NEED_NUM,vkG.$d(UtJ.HFZ,App.HG.currStoreCheckDict),GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.itemData),t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(StoreUpPopUi.prototype,"StoreUpPopUi");var StoreUpStarItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StoreUpStarItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){e.prototype.initData.call(this),this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.qf,e),vkG.$a(UtJ.DV,e.qe,e),vkG.$a(UtJ.TUS,e.qe,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.qf,e),vkG.$r(UtJ.DV,e.qe,e),vkG.$r(UtJ.TUS,e.qe,e)},t.prototype.qf=function(e){this.dispose()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=e.data;e.nameLab.text=fvg.GVf("store052",t.star),e.redImg.visible=UsU.X_(t.step,t.star),e.selectedChange(),e.qe()}},t.prototype.qe=function(){var e=this;if(e.data){var t=e.data;e.redImg.visible=UsU.X_(t.step,t.star)}},t.prototype.selectedChange=function(){var e=this;e.selected&&(App.HG.currStoreVo=e.data,vkG.$d(UtJ._C))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.redImg),t.redImg=null,GObj.$d(t.nameLab),t.nameLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StoreUpStarItem.prototype,"StoreUpStarItem");var StoreUpView=function(e){function t(){var t=e.call(this,"StoreUpView")||this;return t.lg=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleLab.text=fvg.GVf("store053"),e.oneKeyBtn.label=fvg.GVf("store054"),e.okBtn.label=fvg.GVf("store042"),e.selectData=GObj.$c(eui.ArrayCollection),e.selectList.itemRenderer=StoreUpItem,e.selectList.dataProvider=e.selectData,e.btnData=GObj.$c(eui.ArrayCollection),e.btnList.itemRenderer=StoreUpBtnItem,e.btnList.dataProvider=e.btnData},t.prototype.initData=function(){for(var e=this,t=Iwrv.YJ.length,n=0;t>n;n++)e.btnData.source.push(Iwrv.YJ[n]);e.btnData.refresh();var i=[],r=0;for(var a in App.HG.storeUpLvDict)i.push(a),UsU.MR(parseInt(a))&&(r=i.length-1);e.selectData.replaceAll(i),e.selectList.selectedIndex=r,e.ke()},t.prototype.initEvent=function(){var e=this;e.oneKeyBtn.addEventListener(eui.tep,e.xe,e),e.selectList.addEventListener(egret.Event.CHANGE,e.mn,e),e.btnList.addEventListener(egret.Event.CHANGE,e.oh,e),e.itemImg1.addEventListener(eui.tep,e.ai,e),e.itemImg2.addEventListener(eui.tep,e.ai,e),e.itemImg3.addEventListener(eui.tep,e.ai,e),e.okBtn.addEventListener(eui.tep,e.dz,e),vkG.$a(UtJ._C,e.eu,e),vkG.$a(UtJ.HFZ,e.va,e),vkG.$a(UtJ.TUS,e.ke,e),vkG.$a(UtJ.DV,e.ke,e),vkG.$a(UtJ.FW,e.uj,e)},t.prototype.removeEvent=function(){var e=this;e.oneKeyBtn.removeEventListener(eui.tep,e.xe,e),e.selectList.removeEventListener(egret.Event.CHANGE,e.mn,e),e.btnList.removeEventListener(egret.Event.CHANGE,e.oh,e),e.itemImg1.removeEventListener(eui.tep,e.ai,e),e.itemImg2.removeEventListener(eui.tep,e.ai,e),e.itemImg3.removeEventListener(eui.tep,e.ai,e),e.okBtn.removeEventListener(eui.tep,e.dz,e),vkG.$r(UtJ._C,e.eu,e),vkG.$r(UtJ.HFZ,e.va,e),vkG.$r(UtJ.TUS,e.ke,e),vkG.$r(UtJ.DV,e.ke,e),vkG.$r(UtJ.FW,e.uj,e)},t.prototype.ke=function(){var e=this,t=App.HG.currStoreVo;if(e.CSo&&t){e.descLab.text=fvg.GVf("store047",t.step,t.star-1,t.step,t.star),1==t.star&&(e.descLab.text=fvg.GVf("store046",t.step,t.step,t.star));var n=App.HG.storeUpLvDict[t.step][t.star][e.xg];if(n){var i=GObj.$c(nlwj);if(i.tid=n,e.goodsItem1.data=i,e.goodsItem2.data=null,e.upGroup2.visible=!1,i.TSF.p4){var r=GObj.$c(nlwj);r.tid=i.TSF.p4,r.count=App.IQ.getMoneyByTid(r.tid),r.needCount=i.TSF.p5,e.goodsItem2.data=r,e.upGroup2.visible=!0}var a=App.HG.storeUpPointDict[t.step+"_"+t.star+"_"+parseInt(e.xg)]||!1;e.oneKeyBtn.icon=a?StaticData.GHj:null,e.okBtn.icon=UsU.X_(t.step,t.star)?StaticData.GHj:null}}},t.prototype.xe=function(){var e=this,t=App.HG.currStoreVo,n=aKF.KY;1==t.star&&(n=aKF.PU);var i=App.FK.searchStoreEquip(t.step,n,t.star-1,parseInt(e.xg));i.length>StaticData.STORE_UP_NEED_NUM&&(i=i.slice(0,StaticData.STORE_UP_NEED_NUM)),e.va(i),i.length<StaticData.STORE_UP_NEED_NUM&&msgTip(fvg.GVf("store056"))},t.prototype.mn=function(){},t.prototype.eu=function(){var e=this;if((!e.d_||e.d_.step!=App.HG.currStoreVo.step||e.d_.star!=App.HG.currStoreVo.star)&&(e.d_=App.HG.currStoreVo,e.d_)){e.btnData.source.length=0;var t=App.HG.storeUpLvDict[e.d_.step][e.d_.star];for(var n in t)e.btnData.source.push(n);e.btnData.refresh(),e.btnList.selectedIndex=0,App.HG.currStoreCheckDict=[],e.oh()}},t.prototype.oh=function(){var e=this;e.xg=e.btnList.selectedItem,e.xg&&(e.ke(),e.va([]))},t.prototype.ai=function(){App.VS.popup(10160,StoreUpPopUi,null,this.xg)},t.prototype.va=function(e){var t=this;if(e){for(var n=GObj.$c(nlwj),i=0;3>i;i++)this["goods"+(i+1)].data=null;for(var i=0;i<e.length;i++)n.tid=e[i].tid,this["goods"+(i+1)].data=n,t.lg++;var r=e.length==StaticData.STORE_UP_NEED_NUM;t.okBtn.visible=r,t.oneKeyBtn.visible=!r,t.ve=[];for(var a=0;a<e.length;a++)t.ve.push(e[a].id)}},t.prototype.dz=function(){var e=this;return e.lg<StaticData.STORE_UP_NEED_NUM?void msgTip(fvg.GVf("store056")):e.goodsItem2.data&&e.goodsItem2.data.count<e.goodsItem2.data.needCount?void msgTip(fvg.GVf("store057")):(e.okBtn.visible=!1,e.oneKeyBtn.visible=!0,StoreMsgProxy.OP(1,e.goodsItem1.data.tid,{cost:e.ve}),App.HG.currStoreCheckDict=[],msgTip(fvg.GVf("store058")),void e.va([]))},t.prototype.uj=function(){this.selectList.selectedIndex=-1},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.selectList&&(t.selectList.dataProvider=null,GObj.$d(t.selectList),t.selectList=null),GObj.$d(t.selectData),t.selectData=null,t.btnList&&(t.btnList.dataProvider=null,GObj.$d(t.btnList),t.btnList=null),GObj.$d(t.btnData),t.btnData=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.okBtn),t.okBtn=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.goodsItem1),t.goodsItem1=null,GObj.$d(t.goodsItem2),t.goodsItem2=null,GObj.$d(t.upGroup2),t.upGroup2=null,GObj.$d(t.itemImg1),t.itemImg1=null,GObj.$d(t.itemImg2),t.itemImg2=null,GObj.$d(t.itemImg3),t.itemImg3=null,GObj.$d(t.goods1),t.goods1=null,GObj.$d(t.goods2),t.goods2=null,GObj.$d(t.goods3),t.goods3=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(StoreUpView.prototype,"StoreUpView");var ContinueView=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=t.touchChildren=!1,t.initView(),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._txtImg=GObj.$c(eui.Image),e._iconImg=GObj.$c(eui.Image),e._txtImg.source="story_json.story_con_1_png",e._iconImg.source="story_json.story_con_2_png",e._iconImg.x=70,e.addChild(e._txtImg),e.addChild(e._iconImg),e.cm=-1,Nvm.instance.registeEnterFrame2(e.rc,e)},t.prototype.rc=function(){var e=this;e._iconImg.y+=e.cm,e._iconImg.y<-5&&(e.cm=1),e._iconImg.y>0&&(e.cm=-1)},t.prototype.dispose=function(){var e=this;Nvm.instance.unRegisteEnterFrame2(e.rc,e),GObj.$d(e._txtImg),e._txtImg=null,GObj.$d(e._iconImg),e._iconImg=null,e.parent&&e.parent.removeChild(e)},t}(egret.DisplayObjectContainer);__reflect(ContinueView.prototype,"ContinueView");var ForceDialogView=function(e){function t(){var t=e.call(this,"ForceDialogView")||this;t.cz=265,t.be=326;var n=RRUU.$s("ForceDialogViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bottom=0,e.horizontalCenter=0,e.dh=GObj.$c(egret.Shape),e.xp=GObj.$c(ContinueView),e.xp.y=115,e.xp.visible=!1,e.skipBtn.visible=!1,e.addChildAt(e.dh,0),e.addChild(e.xp),e.skipBtn.label=fvg.GVf("public079")},t.prototype.initEvent=function(){var e=this;App.YX.stage.addEventListener(egret.Event.RESIZE,e.np,e)},t.prototype.removeEvent=function(){var e=this;App.YX.stage.removeEventListener(egret.Event.RESIZE,e.np,e),App.YX.stage.removeEventListener(eui.tep,e.fg,this,!0)},t.prototype.show=function(e,t,n){var i=this;return i.rm=e,i.fv=t,i.kwi=n,i.eo=i.rm.txts,i.eo&&0!=i.eo.length?(i.np(null),i.yo=0,egret.Tween.get(i.backImg).to({y:0},200).call(i.ny,i),void alvJ.instance.addToLayer(this,alvJ.RX)):void i.gn()},t.prototype.ny=function(){var e=this;if(e.eo&&e.yo<e.eo.length){var t=e.eo[e.yo];e.yo++,e.nkk(t)}else e.gn()},t.prototype.nkk=function(e){var t=this;if(egret.Tween.removeTweens(t.leftIcon),egret.Tween.removeTweens(t.rightIcon),egret.Tween.removeTweens(t),!e)return void t.gn();var n=hCs.stageWidth;t.nameTxt.text=e.name?e.name.replace("%s",App.KF.name):"",t.msgTxt.text=e.txt||"",t.msgTxt.width=n-t.cz-50,t.msgTxt.height=t.msgTxt.textHeight,t.skipBtn.visible=!0;var i=1==parseInt(e.roleId)?App.KF.sex:parseInt(e.roleId);1==e.dir?(t.backTitle.left=t.cz,t.backTitle.$UIComponent[1]=0/0,t.backTitle.scaleX=1,t.nameTxt.x=t.cz+40,t.msgTxt.x=t.cz+10,t.xp.x=t.msgTxt.x+(n-t.cz-50)-95,t.skipBtn.x=n-190,t.leftIcon.icon=kLM.BS(i),t.rightIcon.icon=null,t.leftIcon.x=-t.cz,t.leftIcon.alpha=0,egret.Tween.get(t.leftIcon).to({x:0,alpha:1},200),egret.Tween.get(t.rightIcon).to({x:n+t.cz,alpha:0},200)):(t.backTitle.right=t.cz,t.backTitle.$UIComponent[0]=0/0,t.backTitle.scaleX=-1,t.nameTxt.x=n-t.cz-t.nameTxt.width-70,t.msgTxt.x=n-t.cz-t.msgTxt.textWidth-10,t.xp.x=n-t.cz-95,t.skipBtn.x=60,t.leftIcon.icon=null,t.rightIcon.icon=kLM.BS(i),t.rightIcon.x=n+t.cz,t.rightIcon.alpha=0,egret.Tween.get(t.leftIcon).to({x:-t.cz,alpha:0},200),egret.Tween.get(t.rightIcon).to({x:n,alpha:1},200)),egret.Tween.get(t).wait(5e3).call(t.ny),App.YX.stage.addEventListener(eui.tep,t.fg,this,!0,100)
},t.prototype.fg=function(e){var t=this;return e&&(e.stopImmediatePropagation(),e.stopPropagation()),e.target==t.skipBtn?void StoryManager.instance.skipStory():(egret.Tween.removeTweens(t),void t.ny())},t.prototype.np=function(e){var t=this,n=Math.max(hCs.stageWidth,480),i=Math.max(hCs.stageHeight,800);t.dh.graphics.clear(),t.dh.graphics.beginFill(0,.5),t.dh.graphics.drawRect(0,0,n,i),t.dh.graphics.endFill(),t.dh.x=0,t.dh.y=-(i-148),t.width=n},t.prototype.gn=function(){var e=this,t=e.fv,n=e.kwi;e.dispose(),t&&t.call(n),t=null,n=null},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.leftIcon&&egret.Tween.removeTweens(t.leftIcon),t.rightIcon&&egret.Tween.removeTweens(t.rightIcon),egret.Tween.removeTweens(t),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.leftIcon),t.leftIcon=null,GObj.$d(t.rightIcon),t.rightIcon=null,GObj.$d(t.xp),t.xp=null,GObj.$d(t.skipBtn),t.skipBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.msgTxt),t.msgTxt=null,GObj.$d(t.dh),t.dh=null,t.rm=null,t.eo=null,t.fv=null,t.kwi=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ForceDialogView.prototype,"ForceDialogView");var BubbleItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BubbleItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){e.prototype.initData.call(this),this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.iw,e),vkG.$a(UtJ.EGW,e.dataChanged,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.iw,e),vkG.$r(UtJ.EGW,e.dataChanged,e)},t.prototype.iw=function(){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=gLw.IQ(e.data[1].tid),n=!0,i=!1,r=e.data,a=r[1].cost,o=App.FK.hsx(a);gLw.DM(e.data[1].tid);e.iconImg.source=kLM.FX(t),n=App.KF.bubble[t]?!1:!0,i=App.KF.currentBubble==t?!0:!1,e.maskImg.visible=n,e.lockImg.visible=n,e.usingImg.visible=i,e.redPointImg.visible=o>0&&n}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.select),t.select=null,GObj.$d(t.usingImg),t.usingImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BubbleItem.prototype,"BubbleItem");var BubbleView=function(e){function t(){var t=e.call(this,"BubbleView")||this;return t.sw=0,t.xv=0,t.go=!0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.list.dataProvider=e.datas,e.list.itemRenderer=BubbleItem,e.channel.text=QycO.OK},t.prototype.initData=function(){e.prototype.initData.call(this),this.oi()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.zn,e),e.list.addEventListener(eui.ItemTapEvent.CHANGE,e.__list2selectedChangeHandler,e),vkG.$a(UtJ.EGW,e.oi,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.zn,e),e.list.removeEventListener(eui.ItemTapEvent.CHANGE,e.__list2selectedChangeHandler,e),vkG.$r(UtJ.EGW,e.oi,e)},t.prototype.rt=function(){var e=this,t=XCA.AQS.oVs(92);if(e.datas.source.length=0,t){for(var n in t)e.datas.source.push(t[n]);e.datas.refresh()}},t.prototype.oi=function(){var e=this;e.rt();var t=App.KF.currentBubble;e.img.source=kLM.OF(t),e.list.selectedIndex=t-1,e.__list2selectedChangeHandler(null)},t.prototype.__list2selectedChangeHandler=function(e){var t=this,n=t.list.selectedItem;if(n){var i=gLw.IQ(n[1].tid),r=!1;t.ck=n[1].cost,t.ey=App.FK.hsx(t.ck);for(var a in App.KF.bubble)i==parseInt(a)&&(r=!0);if(t.go=r,r)t.sureBtn.label=fvg.GVf("rename118"),t.channel.textFlow=LgRe.OQ(fvg.GVf("rename143",n[1].name,Color.SQ,fvg.GVf("rename121")));else{t.sureBtn.label=fvg.GVf("public012");var o=fvg.GVf("rename142",n[1].name,Color.KA,t.zc(n[1].p1,n[1].p2));t.channel.textFlow=LgRe.OQ(o)}t.sw=i,t.img.source=kLM.OF(i),t.sureBtn.icon=t.ey>0&&!t.go?StaticData.GHj:null}},t.prototype.zc=function(e,t){if(e){return fvg.GVf("rename13"+e,t)}},t.prototype.zn=function(e){var t=this;if(t.sw!=App.KF.currentBubble)if(t.ey>0&&!t.go){var n=App.FK.getGoodsIdByTid(parseInt(t.ck));n&&(GoodsMsgProxy.TI(n,1),msgTip(fvg.GVf("public088")))}else t.go?(ziI.OG(t.sw),msgTip(fvg.GVf("rename122"))):t.ey<1?msgTip(fvg.GVf("469")):t.ey>0&&t.go&&msgTip(fvg.GVf("470"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.img),t.img=null,GObj.$d(t.channel),t.channel=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.list&&(t.list.dataProvider=null,GObj.$d(t.list),t.list=null),t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(BubbleView.prototype,"BubbleView");var ChatStyleView=function(e){function t(){var t=e.call(this,"ChatStyleView")||this;return t.skinName=RRUU.$s("ChatStyleView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("gameset1"),e.is=GObj.$c(kQr),e.is.cwA(e.headBtn),e.is.cwA(e.frameBtn),e.is.cwA(e.bubbleBtn),e.headBtn.label=fvg.GVf("rename114"),e.frameBtn.label=fvg.GVf("rename115"),e.bubbleBtn.label=fvg.GVf("rename139"),e.lv()},t.prototype.initData=function(){this.is.selectedIndex=0},t.prototype.initEvent=function(){var e=this;e.is.addEventListener(egret.Event.CHANGE,e.lb,e),vkG.$a(UtJ.EGW,e.lv,e)},t.prototype.removeEvent=function(){var e=this;e.is.removeEventListener(egret.Event.CHANGE,e.lb,e),vkG.$r(UtJ.EGW,e.lv,e)},t.prototype.lb=function(e){var t=this,n=t.is.LuO;switch(t.wt&&(t.wt.visible=!1),t.wt=null,n){case t.headBtn:t.em||(t.em=GObj.$c(HeadView),t.addChildAt(t.em,2),t.em.y=70),t.wt=t.em;break;case t.frameBtn:t.yq||(t.yq=GObj.$c(FrameView),t.addChildAt(t.yq,2),t.yq.y=70),t.wt=t.yq;break;case t.bubbleBtn:t.aw||(t.aw=GObj.$c(BubbleView),t.addChildAt(t.aw,2),t.aw.y=70),t.wt=t.aw}t.wt&&(t.wt.visible=!0)},t.prototype.lv=function(){var e=this;XCA.AQS.oVs(60),XCA.AQS.oVs(60),XCA.AQS.oVs(60);e.headBtn.redPointImg.visible=UsU.QDV(),e.frameBtn.redPointImg.visible=UsU.LS(),e.bubbleBtn.redPointImg.visible=UsU.KG()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headBtn),t.headBtn=null,GObj.$d(t.frameBtn),t.frameBtn=null,GObj.$d(t.bubbleBtn),t.bubbleBtn=null,GObj.$d(t.is),t.is=null,GObj.$d(t.em),t.em=null,GObj.$d(t.yq),t.yq=null,GObj.$d(t.aw),t.aw=null,t.wt=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ChatStyleView.prototype,"ChatStyleView");var FrameView=function(e){function t(){var t=e.call(this,"FrameView")||this;return t.sf=0,t.oz=0,t.hr=!0,t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sureBtn.label=fvg.GVf("rename118"),e.datas=GObj.$c(eui.ArrayCollection),e.list.dataProvider=e.datas,e.list.itemRenderer=HeadImageItem,e.channel.text=QycO.OK},t.prototype.initData=function(){e.prototype.initData.call(this),this.kk()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.bd,e),e.list.addEventListener(eui.ItemTapEvent.CHANGE,e.__list2selectedChangeHandler,e),vkG.$a(UtJ.EGW,e.kk,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.bd,e),e.list.removeEventListener(eui.ItemTapEvent.CHANGE,e.__list2selectedChangeHandler,e),vkG.$r(UtJ.EGW,e.kk,e)},t.prototype.hz=function(){var e=this,t=XCA.AQS.oVs(60),n=XCA.AQS.oVs(61);if(e.datas.source.length=0,t&&n)for(var i in n)e.datas.source.push(n[i])},t.prototype.kk=function(){var e=this,t=App.KF.sex||1,n=App.KF.currentHead,i=App.KF.currentFrame;e.img_1.source=kLM.JU(t,n,1),e.img_2.source=kLM.ZQ(i),e.list.selectedIndex=i-1,e.hz(),e.__list2selectedChangeHandler(null)},t.prototype.__list2selectedChangeHandler=function(e){var t=this,n=t.list.selectedItem;if(n){var i=(App.KF.sex||1,gLw.IQ(n[1].tid));t.ss=n[1].cost,t.iw=App.FK.hsx(t.ss);var r=!1;for(var a in App.KF.frame)i==parseInt(a)&&(r=!0);if(t.hr=r,r)t.sureBtn.label=fvg.GVf("rename118"),t.channel.textFlow=LgRe.OQ(fvg.GVf("rename141",n[1].name,Color.SQ,fvg.GVf("rename121")));else{t.sureBtn.label=fvg.GVf("public012");var o=fvg.GVf("rename120",n[1].name,Color.KA,t.pj(n[1].p1,n[1].p2));t.channel.textFlow=LgRe.OQ(o)}t.sf=i,t.img_2.source=kLM.ZQ(i),t.sureBtn.icon=t.iw>0&&!t.hr?StaticData.GHj:null}},t.prototype.pj=function(e,t){if(e){return fvg.GVf("rename13"+e,t)}},t.prototype.bd=function(e){var t=this;if(t.sf!=App.KF.currentFrame)if(t.iw>0&&!t.hr){var n=App.FK.getGoodsIdByTid(parseInt(t.ss));n&&(GoodsMsgProxy.TI(n,1),msgTip(fvg.GVf("public088")))}else t.hr?(ziI.JJ(t.sf),msgTip(fvg.GVf("rename122"))):t.iw<1?msgTip(fvg.GVf("469")):t.iw>0&&t.hr&&msgTip(fvg.GVf("470"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.img_1),t.img_1=null,GObj.$d(t.img_2),t.img_2=null,GObj.$d(t.channel),t.channel=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.list&&(t.list.dataProvider=null,GObj.$d(t.list),t.list=null),t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(FrameView.prototype,"FrameView");var HeadView=function(e){function t(){var t=e.call(this,"HeadView")||this;return t.bc=0,t.qu=0,t.dt=!0,t.skinName=RRUU.$s("HeadView"),t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sureBtn.label=fvg.GVf("rename118"),e.datas=GObj.$c(eui.ArrayCollection),e.list.dataProvider=e.datas,e.list.itemRenderer=HeadImageItem,e.channel.text=QycO.OK},t.prototype.initData=function(){e.prototype.initData.call(this),this.km()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.yf,e),e.list.addEventListener(eui.ItemTapEvent.CHANGE,e.__list1selectedChangeHandler,e),vkG.$a(UtJ.EGW,e.km,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.yf,e),e.list.removeEventListener(eui.ItemTapEvent.CHANGE,e.__list1selectedChangeHandler,e),vkG.$r(UtJ.EGW,e.km,e)},t.prototype.xx=function(){var e=this,t=XCA.AQS.oVs(60);if(e.datas.source.length=0,t)for(var n in t)e.datas.source.push(t[n])},t.prototype.km=function(){var e=this,t=App.KF.sex||1,n=App.KF.currentHead,i=App.KF.currentFrame;e.img_1.source=kLM.JU(t,n,1),e.img_2.source=kLM.ZQ(i),e.list.selectedIndex=n-1,e.xx(),e.__list1selectedChangeHandler(null)},t.prototype.__list1selectedChangeHandler=function(e){var t=this,n=t.list.selectedItem;if(n){var i=App.KF.sex||1,r=gLw.IQ(n[1].tid);t.tw=n[1].cost,t.mq=App.FK.hsx(t.tw);var a=!1;for(var o in App.KF.head)r==parseInt(o)&&(a=!0);if(t.dt=a,a)t.sureBtn.label=fvg.GVf("rename118"),t.channel.textFlow=LgRe.OQ(fvg.GVf("rename140",n[1].name,Color.SQ,fvg.GVf("rename121")));else{t.sureBtn.label=fvg.GVf("public012");var s=fvg.GVf("rename119",n[1].name,Color.KA,t.io(n[1].p1,n[1].p2));t.channel.textFlow=LgRe.OQ(s)}t.bc=r,t.img_1.source=kLM.JU(i,r,1),t.sureBtn.icon=t.mq>0&&!t.dt?StaticData.GHj:null}},t.prototype.io=function(e,t){if(e){return fvg.GVf("rename13"+e,t)}},t.prototype.yf=function(e){var t=this;if(t.bc!=App.KF.currentHead)if(t.mq>0&&!t.dt){var n=App.FK.getGoodsIdByTid(parseInt(t.tw));n&&(GoodsMsgProxy.TI(n,1),msgTip(fvg.GVf("public088")))}else t.dt?(ziI.YK(t.bc),msgTip(fvg.GVf("rename122"))):t.mq<1?msgTip(fvg.GVf("469")):t.mq>0&&t.dt&&msgTip(fvg.GVf("470"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,GObj.$d(t.img_1),t.img_1=null,GObj.$d(t.img_2),t.img_2=null,GObj.$d(t.channel),t.channel=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.list&&(t.list.dataProvider=null,GObj.$d(t.list),t.list=null),t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(HeadView.prototype,"HeadView");var SuperequipCastingItem=function(e){function t(){var t=e.call(this,"SuperequipCastingItem")||this,n=RRUU.$s("SuperequipCastingItemSkin");return t.skinName=n,t.sh=-1,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gradeView=GObj.$c(SimpleNumberView),e.gradeView.x=36,e.gradeView.y=31,e.addChild(e.gradeView)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.tep,e.qi,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.tep,e.qi,e)},t.prototype.mu=function(){var e=this;e.updateEffect(),e.isopen?(0==e.ti.grade?(e.add.visible=!0,e.gem.visible=!1,e.gradeView.visible=!1):(e.add.visible=!1,e.gradeView.visible=!0,e.gradeView.setTexture("superequip_json.superequip_num"+e.ti.type%4+"_png","0123456789"),e.gradeView.setNum(e.ti.grade),e.gem.visible=!0,e.gem.source="superequip_json.superequip_casting_stone"+e.ti.type%4+"_png"),e.lock.visible=!1,e.limitTxt.visible=!1):(e.lock.visible=!0,e.limitTxt.visible=!0,e.add.visible=!1,e.gradeView.visible=!1,e.gem.visible=!1,e.limitTxt.text=fvg.GVf("superequipCasting5",e.limit)),e.redPointImg.source=UsU.ETU(e.equipType,e.pos)?StaticData.GHj:null,-1!=e.sh&&e.grade!=e.sh&&(e.pj=App.KB.getUIEffect(gYq.FS,100,1),e.pj.addEventListener(egret.Event.COMPLETE,e._k,e),e.pj.x=-30,e.pj.y=-30,e.pj.play(1),e.addChild(e.pj)),e.sh=e.grade},t.prototype._k=function(e){var t=this;t.pj&&t.pj.parent&&t.removeChild(t.pj)},t.prototype.qi=function(e){var t=this;if(!t.isopen)return void MessageTipManager.instance.show(fvg.GVf("superequipCasting11"));if(0==t.ti.grade){var n=GObj.$c(SuperequipCastingSelectPopUi);n.curEquipType=t.equipType,n.holePos=t.pos,n.show()}else{if(!(t.maxLv>t.grade))return void MessageTipManager.instance.show(fvg.GVf("superequipCasting10"));var n=GObj.$c(SuperequipCastingUpPopUi);n.curGemType=t.type,n.curGrade=t.grade,n.curEquipType=t.equipType,n.holePos=t.pos,n.show()}},t.prototype.clearEffect=function(){var e=this;e.orangeEff&&e.orangeEff.stop(),e.redEff&&e.redEff.stop(),e.coloredEff&&e.coloredEff.stop(),e.orangeEff&&e.orangeEff.parent&&e.orangeEff.parent.removeChild(e.orangeEff),e.redEff&&e.redEff.parent&&e.redEff.parent.removeChild(e.redEff),e.coloredEff&&e.coloredEff.parent&&e.coloredEff.parent.removeChild(e.coloredEff)},t.prototype.updateEffect=function(){var e=this;if(e.CSo&&e.ti){e.clearEffect();var t=Math.ceil(e.type/4);1==t?(e.orangeEff||(e.orangeEff=App.KB.getUIEffect(gYq.TL),e.orangeEff.stop(),e.orangeEff.x=2,e.orangeEff.y=-2),e.orangeEff.play(),e.addChildAt(e.orangeEff,2)):2==t?(e.redEff||(e.redEff=App.KB.getUIEffect(gYq.LS),e.redEff.stop(),e.redEff.x=-3,e.redEff.y=-4),e.redEff.play(),e.addChildAt(e.redEff,2)):3==t&&(e.coloredEff||(e.coloredEff=App.KB.getUIEffect(gYq.UW),e.coloredEff.stop(),e.coloredEff.x=-12,e.coloredEff.y=-13),e.coloredEff.play(),e.addChildAt(e.coloredEff,2))}},Object.defineProperty(t.prototype,"data",{set:function(e){var t=this;t.ti=e,t.grade=e.grade,t.type=e.type;var n;0!=t.type&&(n=App.BG.superequipCastingInfo[t.equipType],t.maxLv=n.getMaxLv(t.type)),t.mu()},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bg),t.bg=null,GObj.$d(t.gem),t.gem=null,GObj.$d(t.lock),t.lock=null,GObj.$d(t.limitTxt),t.limitTxt=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.gradeView),t.gradeView=null,GObj.$d(t.add),t.add=null,t.clearEffect(),GObj.$d(t.orangeEff),t.orangeEff=null,GObj.$d(t.redEff),t.redEff=null,GObj.$d(t.coloredEff),t.coloredEff=null,t.pj&&(t.pj.stop(),t.pj.removeEventListener(egret.Event.COMPLETE,t._k,t)),GObj.$d(t.pj),t.pj=null,t.ti=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SuperequipCastingItem.prototype,"SuperequipCastingItem");var SuperequipCastingPopUi=function(e){function t(){var t=e.call(this,"SuperequipCastingPopUi")||this;return t.pos=[[163,-37],[341,143],[163,325],[-17,143]],t.di={6:[200,300],8:[200,360],9:[220,290],11:[230,290],12:[230,290],4:[190,290],2:[180,320],1:[190,290],13:[200,300]},t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ko=GObj.$c(MeanEffect),e.gm=GObj.$c(egret.DisplayObjectContainer),e.gm.x=200,e.gm.y=320,e.gm.addChild(e.ko),e.gm.touchEnabled=!1,e.fightView=GObj.$c(NumberView),e.fightView.x=182,e.fightView.y=84,e.gu=[];for(var t=0;4>t;t++){var n=GObj.$c(SuperequipCastingItem);e.gemGroup.addChild(n),n.x=e.pos[t][0],n.y=e.pos[t][1],e.gu.push(n)}e.addChild(e.fightView),e.addChildAt(e.gm,6),e.frameGroup.title=fvg.GVf("superequipCasting21")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.RPR,e.zz,e),vkG.$a(UtJ.ZY,e.xx,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.RPR,e.zz,e),vkG.$r(UtJ.ZY,e.xx,e)},t.prototype.initData=function(){this.zr()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.rh=e[0],n.wg=gLw.IQ(n.rh.tid),n.no=App.BG.superEquipInfo[n.wg]||0,n.zc=App.BG.superequipCastingInfo[n.wg],n.zr())},t.prototype.zr=function(){var e=this;if(e.CSo&&e.rh){var t=kLM.NQ(gLw.RO(e.rh.tid));t!=e.we&&(e.we=t,App.EB.load(e.we,e.rx,this,1,e.we)),e.di[e.wg]?(e.gm.x=e.di[e.wg][0]+50,e.gm.y=e.di[e.wg][1]+50):(e.gm.x=250,e.gm.y=370),e.sh(),e.qw()}},t.prototype.sh=function(){for(var e=this,t=e.zc.holeLimit,n=e.zc.gemInfo,i=0;i<e.gu.length;i++){var r=e.gu[i];r.limit=t[i],e.no>=t[i]?r.isopen=!0:r.isopen=!1,r.equipType=e.wg,r.equipGrade=e.no,r.pos=i+1,r.data=n[i+1]}},t.prototype.zz=function(){this.zr()},t.prototype.xx=function(){this.zr()},t.prototype.qw=function(){var e=this,t=App.BG.superequipCastingInfo[e.wg],n=t.gemInfo,i=GObj.$c(AttributeTemplate);i.p1=0;for(var r,a=1;4>=a;a++)if(0!=n[a].type&&0!=n[a].grade){var o=XCA.AQS.UFA(39,n[a].type,1),s=XCA.YV(o.attrid+n[a].grade);i.p1+=s.p1;for(r in xxf.UK)s[r]&&(void 0==i[r]&&(i[r]=0),i[r]+=s[r]);for(r in xxf.IM)s[r]&&(void 0==i[r]&&(i[r]=0),i[r]+=s[r])}var p=1;for(r in xxf.UK)i[r]&&(this["attr"+p].visible=!0,this["attr"+p].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.UK[r],i[r])),p++);for(r in xxf.IM)i[r]&&(this["attr"+p].visible=!0,this["attr"+p].textFlow=LgRe.OQ(fvg.GVf("skill004",xxf.IM[r],(i[r]/10).toFixed(1)+"%")),p++);hFO.instance.getNumberView(bRC.UA,toChars(i.p1),-12,e.fightView)},t.prototype.rx=function(e){var t=this;if(!t.destory&&e&&e.data&&e.args==t.we){var n=MeanEffect.getTextureArr(e.data,5);t.ri(n)}},t.prototype.ri=function(e){var t=this;t.ko.stop(),t.ko.textureData(e),t.ko.play(),t.ko.x=-t.ko.width/2,t.ko.y=-t.ko.height/2},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.ko),t.ko=null,GObj.$d(t.gm),t.gm=null,GObj.$d(t.we),t.we=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.attr1),t.attr1=null,GObj.$d(t.attr2),t.attr2=null,GObj.$d(t.attr3),t.attr3=null,GObj.$d(t.attr4),t.attr4=null,GObj.$d(t.attr5),t.attr5=null,GObj.$d(t.attr6),t.attr6=null,t.rh=null;for(var n=0;n<t.gu.length;n++)GObj.$d(t.gu[n]);t.gu=null,t.ws=null,GObj.$d(t.gemGroup),t.gemGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SuperequipCastingPopUi.prototype,"SuperequipCastingPopUi");var SuperequipCastingSelectPopUi=function(e){function t(){var t=e.call(this,"SuperequipCastingSelectPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.tipsTxt.text=fvg.GVf("superequipCasting1"),e.frameGroup.title=fvg.GVf("superequipCasting24")},t.prototype.initEvent=function(){var e=this;e.gem1.addEventListener(eui.tep,e.tg,e),e.gem2.addEventListener(eui.tep,e.tg,e),e.gem3.addEventListener(eui.tep,e.tg,e),e.gem4.addEventListener(eui.tep,e.tg,e),vkG.$a(UtJ.RPR,e.nx,e)},t.prototype.removeEvent=function(){var e=this;e.gem1.removeEventListener(eui.tep,e.tg,e),e.gem2.removeEventListener(eui.tep,e.tg,e),e.gem3.removeEventListener(eui.tep,e.tg,e),e.gem4.removeEventListener(eui.tep,e.tg,e),vkG.$r(UtJ.RPR,e.nx,e)},t.prototype.tg=function(e){var t=this,n=e.currentTarget,i=0;switch(n){case t.gem1:i=0;break;case t.gem2:i=1;break;case t.gem3:i=2;break;case t.gem4:i=3}App.BG.superequipCastingInfo[t.curEquipType].gemInfo;if(-1!=t.iw.indexOf(t.fc[i]))return void MessageTipManager.instance.show(fvg.GVf("superequipCasting8"));var r=XCA.AQS.UFA(39,t.fc[i],1),a=parseInt(r.cost),o=App.FK.hsx(a),s=parseInt(r.p6.split(",")[0]);return s>o?void _JDW.TR(a,s-o):void NXr.OR(t.curEquipType,t.holePos,t.fc[i])},t.prototype.pj=function(){var e=this;if(void 0!=e.curEquipType){var t=App.BG.superequipCastingInfo[e.curEquipType];e.fc=t.inlayType;var n=void 0,i=App.BG.superequipCastingInfo[e.curEquipType].gemInfo;e.iw=[];for(var r=1;4>=r;r++)0!=i[r].type&&e.iw.push(i[r].type);for(var r=1;4>=r;r++){var a=GObj.$c(nlwj);n=XCA.AQS.UFA(39,e.fc[r-1],1),e.dn(n,r),a.tid=parseInt(n.cost),a.count=App.FK.hsx(parseInt(n.cost)),-1!=e.iw.indexOf(e.fc[r-1])?this["lock"+r].visible=!0:this["lock"+r].visible=!1,0==a.count&&(this["count"+r].visible=!0,this["lock"+r].visible=!0),this["gem"+r].data=a}var o=App.BG.superequipCastingInfo[e.curEquipType].name;e.desc.textFlow=LgRe.OQ(fvg.GVf("superequipCasting7",o,n.p5))}},t.prototype.dn=function(e,t){if(e){var n=XCA.YV(e.attrid+1);if(n){var i=fvg.GVf("superequipCasting14",n.p1)+"\n";for(var r in xxf.UK)n[r]&&(i+=fvg.GVf("skill004",xxf.UK[r],n[r])+"\n");for(var r in xxf.IM)n[r]&&(i+=fvg.GVf("skill004",xxf.IM[r],(n[r]/10).toFixed(1)+"%")+"\n");this["attr"+t].textFlow=LgRe.OQ(i)}}},t.prototype.initData=function(){this.pj()},t.prototype.nx=function(){App.KB.showEffect(gYq.UQ),this.ln(null)},t.prototype.ln=function(e){GObj.$d(this)},t.prototype.show=function(){var e=this;e.pj(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.gem1),t.gem1=null,GObj.$d(t.gem2),t.gem2=null,GObj.$d(t.gem3),t.gem3=null,GObj.$d(t.gem4),t.gem4=null,GObj.$d(t.tipsTxt),t.tipsTxt=null,GObj.$d(t.desc),t.desc=null,GObj.$d(t.lock1),t.lock1=null,GObj.$d(t.lock2),t.lock2=null,GObj.$d(t.lock3),t.lock3=null,GObj.$d(t.lock4),t.lock4=null,GObj.$d(t.count1),t.count2=null,GObj.$d(t.count2),t.count3=null,GObj.$d(t.count3),t.count4=null,GObj.$d(t.count4),t.count1=null,GObj.$d(t.attr1),t.attr1=null,GObj.$d(t.attr2),t.attr2=null,GObj.$d(t.attr3),t.attr3=null,GObj.$d(t.attr4),t.attr4=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SuperequipCastingSelectPopUi.prototype,"SuperequipCastingSelectPopUi");var SuperequipCastingUpPopUi=function(e){function t(){var t=e.call(this,"SuperequipCastingUpPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upGradeBtn.label=fvg.GVf("superequipCasting4"),e.curGradeView=GObj.$c(SimpleNumberView),e.nextGradeView=GObj.$c(SimpleNumberView),e.curGradeView.x=79,e.curGradeView.y=102,e.nextGradeView.x=289,e.nextGradeView.y=102,e.addChild(e.curGradeView),e.addChild(e.nextGradeView),e.frameGroup.title=fvg.GVf("superequip7")},t.prototype.initEvent=function(){var e=this;e.upGradeBtn.addEventListener(eui.tep,e.xf,e),vkG.$a(UtJ.ZY,e.gv,e),vkG.$a(UtJ.RPR,e.gv,e)},t.prototype.removeEvent=function(){var e=this;e.upGradeBtn.removeEventListener(eui.tep,e.xf,e),vkG.$r(UtJ.ZY,e.gv,e),vkG.$r(UtJ.RPR,e.gv,e)},t.prototype.initData=function(){this.uk()},t.prototype.uk=function(){var e=this;if(void 0!=e.curGrade){e.pi=XCA.AQS.UFA(39,e.curGemType,1);var t=[];if(e.pi.p6.split(",").forEach(function(e){t.push(parseInt(e))}),t.length==e.curGrade)return void GObj.$d(e);e.lr(),e.curGradeView.setTexture("superequip_json.superequip_num"+e.curGemType%4+"_png","0123456789"),e.curGradeView.setNum(e.curGrade),e.nextGradeView.setTexture("superequip_json.superequip_num"+e.curGemType%4+"_png","0123456789"),e.nextGradeView.setNum(e.curGrade+1);var n=GObj.$c(nlwj);n.tid=parseInt(e.pi.cost),e.curItem.data=n,e.nextItem.data=n,e.littleStone.source="superequip_json.superequip_casting_litte_stone"+e.curGemType%4+"_png",e.oz=App.FK.hsx(parseInt(e.pi.cost)),e.oi=t[e.curGrade],e.costTxt.text=fvg.GVf("public022",e.oz,e.oi),e.costTxt.textColor=e.oi>e.oz?Color.KA:Color.TX,e.curNameTxt.text=fvg.GVf("superequipCasting6",n.TSF.name,e.curGrade),e.nextNameTxt.text=fvg.GVf("superequipCasting6",n.TSF.name,e.curGrade+1),e.upGradeBtn.icon=UsU.ETU(e.curEquipType,e.holePos)?StaticData.GHj:null}},t.prototype.lr=function(){var e=this,t=XCA.AQS.UFA(39,e.curGemType,1);if(t){var n=LRJ.KG(t.attrid+e.curGrade),i=LRJ.KG(t.attrid+e.curGrade+1);e.curAttr.textFlow=LgRe.OQ(n),e.nextAttr.textFlow=LgRe.OQ(i);var r=XCA.YV(t.attrid+e.curGrade);r&&(e.curcapTxt.text=fvg.GVf("superequipCasting14",r.p1||0)),r=XCA.YV(t.attrid+e.curGrade+1),r&&(e.nextcapTxt.text=fvg.GVf("superequipCasting14",r.p1||0))}},t.prototype.xf=function(e){var t=this;if(t.oz<t.oi)return void _JDW.TR(parseInt(t.pi.cost),t.oi-t.oz);var n=App.BG.superequipCastingInfo[t.curEquipType],i=n.getMaxLvByGemType(t.curGemType);if(i<=t.curGrade){var r=n.gemUpgradeCondition(t.curGemType,t.curGrade+1);return void MessageTipManager.instance.show(fvg.GVf("superequipCasting13",r))}NXr.VP(t.curEquipType,t.holePos)},t.prototype.gv=function(e){var t=App.BG.superequipCastingInfo[this.curEquipType];this.curGrade=t.getGemGrade(this.curGemType),App.KB.showEffect(gYq.UQ),this.io=App.KB.getUIEffect(gYq.FS,100,1),this.io.addEventListener(egret.Event.COMPLETE,this.ac,this),this.io.x=50,this.io.y=0,this.io.play(1),this.addChild(this.io),this.th=App.KB.getUIEffect(gYq.FS,100,1),this.th.addEventListener(egret.Event.COMPLETE,this.ac,this),this.th.x=220,this.th.y=0,this.th.play(1),this.addChild(this.th),this.uk()},t.prototype.ac=function(e){var t=this,n=e.currentTarget;n.removeEventListener(egret.Event.COMPLETE,t.ac,t),n&&n.parent&&t.removeChild(n)},t.prototype.show=function(){var e=this;e.uk(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.littleStone),t.littleStone=null,GObj.$d(t.upGradeBtn),t.upGradeBtn=null,GObj.$d(t.curItem),t.curItem=null,GObj.$d(t.nextItem),t.nextItem=null,GObj.$d(t.curNameTxt),t.curNameTxt=null,GObj.$d(t.nextNameTxt),t.nextNameTxt=null,GObj.$d(t.costTxt),t.costTxt=null,GObj.$d(t.curGradeView),t.curGradeView=null,GObj.$d(t.nextGradeView),t.nextGradeView=null,GObj.$d(t.curAttr),t.curAttr=null,GObj.$d(t.nextAttr),t.nextAttr=null,GObj.$d(t.curcapTxt),t.curcapTxt=null,GObj.$d(t.nextcapTxt),t.nextcapTxt=null,t.pi=null,t.io&&(t.io.stop(),t.io.removeEventListener(egret.Event.COMPLETE,t.ac,t)),GObj.$d(t.io),t.io=null,t.th&&(t.th.stop(),t.th.removeEventListener(egret.Event.COMPLETE,t.ac,t)),GObj.$d(t.th),t.th=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(SuperequipCastingUpPopUi.prototype,"SuperequipCastingUpPopUi");var SuperequipCultureView=function(e){function t(){var t=e.call(this,"SuperequipCultureView")||this;return t.skinName=RRUU.$s("SuperequipCultureView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.zq=0,e.dn=0,e.am={},e.activationBtn.label=fvg.GVf("public012"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=SuperequipItem,e.fightView=GObj.$c(FightView),e.fightView.x=107,e.fightView.y=-10,e.qv=GObj.$c(MeanEffect),e.i_=GObj.$c(FigureView),e.i_.x=380,e.i_.y=300,e.addChildAt(e.i_,5),e.bm=App.KB.getUIEffect(gYq.VX),e.bm.stop(),e.addChild(e.fightView),rRcz.SS(80,!1)?e.superBtn.visible=!0:e.superBtn.visible=!1},t.prototype.initData=function(){var e=this,t=XCA.AQS.oVs(12);e.xq=[];var n,i;for(var r in t)n=t[r][1],i=App.BG.superEquipInfo[gLw.IQ(n.tid)]||0,!i&&n.p3>0&&!App.FK.hsx(parseInt(n.cost))||e.datas.source.push(n);e.datas.source.sort(e.td);for(var a=0;a<e.datas.length;a++)e.xq.push(gLw.IQ(e.datas.source[a].tid));e.datas.refresh(),e.defaultType(e.k_||0)
},t.prototype.defaultType=function(e){var t=this;if(t.k_=e,t.xq&&t.xq.length>0){var n=t.xq.indexOf(t.k_||0);t.itemList.selectedIndex=n>=0?n:0,t.lp(null)}},t.prototype.initEvent=function(){var e=this;e.activationBtn.addEventListener(eui.tep,e.mg,e),e.itemList.addEventListener(egret.Event.CHANGE,e.lp,e),e.wearBtn.addEventListener(eui.tep,e.ip,e),e.ironBtn.addEventListener(eui.tep,e.rc,e),e.castingBtn.addEventListener(eui.tep,e.fn,e),e.showBtn.addEventListener(eui.tep,e.zp,e),e.superBtn.addEventListener(eui.tep,e.ou,e),vkG.$a(UtJ.RPR,e.di,e),vkG.$a(UtJ.NH,e.di,e)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.mg,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.lp,e),e.wearBtn.removeEventListener(eui.tep,e.ip,e),e.ironBtn.removeEventListener(eui.tep,e.rc,e),e.castingBtn.removeEventListener(eui.tep,e.fn,e),e.showBtn.removeEventListener(eui.tep,e.zp,e),e.superBtn.removeEventListener(eui.tep,e.ou,e),vkG.$r(UtJ.RPR,e.di,e),vkG.$r(UtJ.NH,e.di,e)},t.prototype.lp=function(e){var t=this;t.pt=t.itemList.selectedIndex,t.by=null;var n=t.datas.source[t.pt];n&&(t.by=n,t.hx())},t.prototype.di=function(){this.hx()},t.prototype.hx=function(){var e=this;if(e.by){e.es=gLw.IQ(e.by.tid);gLw.GM(e.by.tid);e.nr=App.BG.superEquipInfo[e.es]||0,e.godvalueTxt.text=e.nr>0?fvg.GVf("superequip6",e.by.p4*e.nr):"",e.showBtn.visible=e.nr>0,e.nameLabel.text=e.by.name+fvg.GVf("official32",e.nr),e.ma(),e.se(),e.fh(),e.dv(),e.castingBtn.icon=UsU.YT(e.es)?StaticData.GHj:null}},t.prototype.ma=function(){var e=this;FigureHelps.NW(e.i_,{w:e.by.p5,s:App.KF.sex||1},!1)},t.prototype.zp=function(e){var t=this;if(t.by){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));if(0==t.nr)return void App.TT.show(fvg.GVf("superequip1"));var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);var r=App.FQ.islt+(6>i?App.FQ.send_cd:10);return App.FQ.islt&&r>App.NN.serverSecond?void(6>i?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11"))):void Alert.WK(fvg.GVf("chat12",t.by.name),void 0,void 0,t.o_,t)}},t.prototype.o_=function(){var e=this,t=GObj.$c(ChatItemData);t.mt=12,t.st=e.es,t.gr=e.nr,t.sw=App.BG.superEquipInfo["f_"+e.es]||0,t.cap=App.BG.superEquipInfo["c_"+e.es]||0,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))},t.prototype.mx=function(e){var t=this;if(!t.destory&&e&&e.data&&e.args==t.ed){var n=MeanEffect.getTextureArr(e.data,5);t.am[t.ed]=n,t.jr(n)}},t.prototype.jr=function(e){var t=this;t.qv.stop(),t.qv.textureData(e),t.qv.play(),t.qv.x=-t.qv.width/2,t.qv.y=-t.qv.height/2},t.prototype.ip=function(e){var t=this;2==t.yt&&(t.ys||(t.ys=App.KB.getUIEffect(gYq.FS,100,1),t.ys.addEventListener(egret.Event.COMPLETE,t.is,t),t.ys.x=272,t.ys.y=375),t.ys.play(1),t.addChild(t.ys)),t.by&&(2==t.yt?NXr.GR(gLw.IQ(t.by.tid)):3==t.yt&&NXr.YW())},t.prototype.is=function(e){var t=this;t.ys&&t.ys.parent&&t.removeChild(t.ys)},t.prototype.se=function(){var e=this,t=e.by.attrid+(e.nr||1),n=XCA.YV(t),i=App.BG.superEquipInfo["sf_"+e.es]||0,r=XCA.FR(StaticData.TID_GOODS_19),a=Math.floor(r.p2/1e3*i*1e3)/1e3,o=(App.BG.superEquipInfo["swf_"+e.es]||0)/1e3,s="";if(n){var p=void 0,l=e["do"](),c=e.ew(),u=void 0;for(p in xxf.UK)u=n[p]||0,u=Math.round(u*(1+a+o)),u>0&&(u+=l[p]||0,u+=c[p]||0,s+="\n"+fvg.GVf("skill004",xxf.UK[p],u));for(p in xxf.IM)u=n[p]||0,u&&(u+=l[p]||0,s+="\n"+fvg.GVf("skill004",xxf.IM[p],(u/10).toFixed(1)+"%"));e.attrTxt.textFlow=LgRe.OQ(s);var d=App.BG.superEquipInfo["c_"+e.es];d=d?d:n.p1||0,e.fightView.fightNum=d}},t.prototype.mg=function(e){var t=this;if(1==t.yt){var n=App.FK.hsx(parseInt(t.by.cost)),i=App.JP.getSuperequipNeedCount(t.nr);if(i>n)return void _JDW.TR(parseInt(t.by.cost),i-n);NXr.KQ(gLw.IQ(t.by.tid))}else App.VS.popup(10122,UnifyUpPopUi,null,t.by,t.am[t.ed])},t.prototype.fh=function(){var e=this;if(e.activationBtn.visible=!0,0==e.nr){e.yt=1,e.wearBtn.visible=!1,e.activationBtn.label=fvg.GVf("public012");var t=XCA.FR(parseInt(e.by.cost));t&&(e.outputTxt.text=fvg.GVf("public019",t.outsrc))}else{e.yt=2,e.wearBtn.visible=!0;var n=0;e.by&&(n=gLw.IQ(e.by.tid),e.outputTxt.text=fvg.GVf("superequip3",e.by.maxgrade)),n!=App.BG.superEquipUse?(e.yt=2,e.wearBtn.icon=kLM.OH(!0)):(e.yt=3,e.wearBtn.icon=kLM.OH(!1)),rRcz.SS(10,!1)?e.activationBtn.label=fvg.GVf("specia001"):e.activationBtn.visible=!1}var i=App.FK.hsx(parseInt(e.by.cost)),r=App.JP.getSuperequipNeedCount(e.nr);e.activationBtn.icon=i>=r&&e.nr<e.by.maxgrade?StaticData.GHj:null,e.ironBtn.icon=UsU.GQ(e.by)?StaticData.GHj:null,e.superBtn.icon=UsU.GW(e.by)?StaticData.GHj:null,i>=r&&e.nr<e.by.maxgrade?e.bm.parent||(e.bm.play(),e.activationBtn.groupDisplay.addChild(e.bm)):e.bm.parent&&(e.bm.stop(),e.bm.parent.removeChild(e.bm))},t.prototype.td=function(e,t){var n=gLw.IQ(e.tid),i=gLw.IQ(t.tid),r=App.BG.superEquipInfo[n]||0,a=App.BG.superEquipInfo[i]||0;return r>0&&a>0||0>=r&&0>=a?e.sort>=t.sort?-1:1:r>0&&0>=a?-1:0>=r&&a>0?1:void 0},t.prototype["do"]=function(){var e={},t=XCA.FR(StaticData.TID_GOODS_9);if(!t)return e;var n=XCA.YV(t.p1);if(n){var i=void 0,r=App.BG.superEquipInfo["f_"+this.es]||0;for(i in xxf.UK)n[i]&&(e[i]=n[i]*r)}return e},t.prototype.ew=function(){var e={},t=XCA.FR(StaticData.TID_GOODS_19);if(!t)return e;var n=XCA.YV(t.p1);if(n){var i=void 0,r=App.BG.superEquipInfo["sf_"+this.es]||0;for(i in xxf.UK)n[i]&&(e[i]=n[i]*r)}return e},t.prototype.dv=function(){var e=this;e.es==e.zq&&e.nr!=e.dn&&App.KB.showEffect(gYq.UQ),e.zq=e.es,e.dn=e.nr},t.prototype.fn=function(){var e=this;return App.BG.superEquipInfo[e.es]?void App.VS.popup(10122,SuperequipCastingPopUi,null,e.by):void MessageTipManager.instance.show(fvg.GVf("superequipCasting12"))},t.prototype.ou=function(e){App.VS.popup(10122,SuperequipSuperPopUi,null,this.es)},t.prototype.rc=function(){App.VS.popup(10122,SuperequipIronPopUi,null,this.es)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.datas=null,t.by=null,GObj.$d(t.bm),t.bm=null,GObj.$d(t.i_),t.i_=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.outputTxt),t.outputTxt=null,GObj.$d(t.nameLabel),t.nameLabel=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.qv),t.qv=null,GObj.$d(t.ironBtn),t.ironBtn=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.castingBtn),t.castingBtn=null,GObj.$d(t.godvalueTxt),t.godvalueTxt=null,t.ix=null,t.th=null,t.am){for(var n in t.am)delete t.am[n];t.am=null}e.prototype.dispose.call(this)},t}(BaseView);__reflect(SuperequipCultureView.prototype,"SuperequipCultureView");var SuperequipFrame=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initView=function(){var e=this;e.mi=GObj.$c(kQr),e.mi.cwA(e.culturetoggle),e.mi.cwA(e.spectrumtoggle),e.culturetoggle.label=fvg.GVf("superequipCasting15"),e.spectrumtoggle.label=fvg.GVf("superequipCasting16")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.defaultIndex(0),t.ld()},t.prototype.defaultIndex=function(e){var t=this;t.na=e,t.mi.selectedIndex=t.na||0},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.mi.addEventListener(egret.Event.CHANGE,t["if"],t),vkG.$a(UtJ.DV,t.ld,t),vkG.$a(UtJ.NH,t.ld,t),vkG.$a(UtJ.BF,t.ld,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.mi.removeEventListener(egret.Event.CHANGE,t["if"],t),vkG.$r(UtJ.DV,t.ld,t),vkG.$r(UtJ.NH,t.ld,t),vkG.$r(UtJ.BF,t.ld,t)},t.prototype["if"]=function(e){var t=this;t.zl&&(t.zl.visible=!1),t.zl=null;var n=t.mi.LuO;switch(n){case t.culturetoggle:t.zy||(t.zy=GObj.$c(SuperequipCultureView),t.zy.y=64,t.zy.horizontalCenter=0,t.addChild(t.zy)),t.zl=t.zy;break;case t.spectrumtoggle:t.hz||(t.hz=GObj.$c(SuperequipSpectrumView),t.hz.x=24,t.hz.y=64,t.addChild(t.hz)),t.zl=t.hz}t.zl&&(t.zl.visible=!0)},t.prototype.ld=function(){var e=this;e.culturetoggle.icon=UsU.PZ()?StaticData.GHj:null,e.spectrumtoggle.icon=UsU.QE()?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.mi),t.mi=null,GObj.$d(t.zy),t.zy=null,GObj.$d(t.hz),t.hz=null,GObj.$d(t.culturetoggle),t.culturetoggle=null,GObj.$d(t.spectrumtoggle),t.spectrumtoggle=null,t.zl=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(SuperequipFrame.prototype,"SuperequipFrame");var SuperequipIronPopUi=function(e){function t(){var t=e.call(this,"SuperequipIronPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.tx=e[0],n.ls())},t.prototype.initView=function(){var e=this,t=GObj.$c(nlwj);t.tid=StaticData.TID_GOODS_9,e.goodsItem.data=t;var n=t.TSF;if(n){var i=n.qua;e.ps=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(i),e.qualityBg.source=kLM.EZ(i)}e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.sb,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.jv,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.jv,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.jv,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.jv,e),vkG.$a(UtJ.NH,e.mh,e)},t.prototype.initData=function(){this.ls()},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.sb,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.rm,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.rm,e),Nvm.instance.unRegisteEnterFrame(e.re,e),vkG.$r(UtJ.NH,e.mh,e)},t.prototype.mh=function(){this.ap()},t.prototype.sb=function(){var e=this;if(0==e.cr)return void MessageTipManager.instance.show(fvg.GVf("superequip1"));if(e._z>=e.ak)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var t=App.FK.hsx(StaticData.TID_GOODS_9);t>0?NXr.KX(e.tx,e.ha):_JDW.TR(StaticData.TID_GOODS_9)},t.prototype.ls=function(){var e=this;e.CSo&&e.tx&&(e["if"]=XCA.AQS.UFA(12,e.tx,1),e.ap())},t.prototype.ap=function(){var e=this;e.cr=App.BG.superEquipInfo[e.tx]||0,e._z=App.BG.superEquipInfo["f_"+e.tx]||0;var t=0==e.cr?1:e.cr;e.ak=e["if"].p2*t||1,e.useedLab.text=fvg.GVf("fashion20",e._z,e.ak);var n=App.FK.hsx(StaticData.TID_GOODS_9);e.haveLab.text=fvg.GVf("414",n),e.useBtn.icon=e.cr>0&&e._z<e.ak&&n>0?StaticData.GHj:null,e.cr>=e["if"].maxgrade?e.nextUseLab.text=fvg.GVf("skill006"):e.nextUseLab.text=fvg.GVf("fashion21",e["if"].p2*(t+1)),e.xj(),e.useBtn.icon?e.db=Math.min(n,e.ak-e._z):e.db=1,e.ha=1,e.tp()},t.prototype.xj=function(){var e=this,t=XCA.YV(e.ps),n="";if(t){var i=void 0;for(i in xxf.UK)t[i]&&(n+="\n"+fvg.GVf("skill004",xxf.UK[i],t[i]*e._z))}e.attrsLab.textFlow=LgRe.OQ(n)},t.prototype.jv=function(e){var t=this;if(!t.yc){t.yc=!0,t.lg=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.am=10;break;case t.minBtn:t.am=-10;break;case t.addBtn:t.am=1;break;case t.removeBtn:t.am=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.rm,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.rm,t),Nvm.instance.registeEnterFrame(t.re,t)}},t.prototype.rm=function(e){var t=this;t.yc&&(t.yc=!1,t.lg<10&&(t.ha+=t.am,t.tp()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.rm,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.rm,t),Nvm.instance.unRegisteEnterFrame(t.re,t))},t.prototype.re=function(){var e=this;e.yc&&(e.lg++,e.lg%10==0&&(e.ha+=e.am,e.tp()))},t.prototype.tp=function(){var e=this;e.ha>=e.db&&(e.ha=e.db),e.ha<=0&&(e.ha=1),e.countTxt.text=e.ha.toString()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nextUseLab),t.nextUseLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.qualityBg),t.qualityBg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SuperequipIronPopUi.prototype,"SuperequipIronPopUi");var SuperequipItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("SuperequipItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wj,e),vkG.$a(UtJ.RPR,e.__infoUpdateHandler,e),vkG.$a(UtJ.NH,e.__infoUpdateHandler,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wj,e),vkG.$r(UtJ.RPR,e.__infoUpdateHandler,e),vkG.$r(UtJ.NH,e.__infoUpdateHandler,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.dqb=e.data,e.dqb)){e.nameTxt.text=e.dqb.name;gLw.GM(e.dqb.tid),e.dqb.tid;e.iconView.upgradeId=e.dqb.tid,e.__infoUpdateHandler()}},t.prototype.__infoUpdateHandler=function(){var e=this;if(e.dqb&&e.redPointImg){var t=gLw.IQ(e.dqb.tid),n=App.BG.superEquipInfo[t]||0,i=App.FK.hsx(parseInt(e.dqb.cost)),r=App.JP.getSuperequipNeedCount(n);e.iconView.bottomText=n>0?fvg.GVf("specia002",n):"";var a=gLw.IQ(e.dqb.tid);e.redPointImg.visible=i>=r&&n<e.dqb.maxgrade||UsU.GQ(e.dqb)||UsU.YT(a)||UsU.GW(e.dqb);var o=0===n;e.lockImg.visible=o,e.isWearing.visible=App.BG.superEquipUse===t}},t.prototype.wj=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.isWearing),t.isWearing=null,t.dqb=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SuperequipItem.prototype,"SuperequipItem");var SuperequipSpectrumItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("SuperequipSpectrumItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ye,e),vkG.$a(UtJ.BF,e.__infoUpdateHandler,e),vkG.$a(UtJ.DV,e.__updateGoodsHandler,e),vkG.$a(UtJ.NH,e.__infoUpdateHandler,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ye,e),vkG.$r(UtJ.BF,e.__infoUpdateHandler,e),vkG.$r(UtJ.DV,e.__updateGoodsHandler,e),vkG.$r(UtJ.NH,e.__infoUpdateHandler,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.kf=e.data,e.redPointImg.visible=!1,e.kf&&(e.iconView.upgradeId=e.kf.tid,e.nameTxt.text=e.kf.name,e.__infoUpdateHandler(),e.__updateGoodsHandler()))},t.prototype.__updateGoodsHandler=function(){var e=this;e.kf&&e.CSo&&e.__infoUpdateHandler()},t.prototype.__infoUpdateHandler=function(){var e=this;if(!e.kf||!e.CSo){XCA.AQS.oVs(50)}e.redPointImg.visible=UsU.NB(e.kf);var t=gLw.IQ(e.kf.tid),n=App.BG.spectrumInfo[t]||0,i=XCA.AQS.oVs(12),r=0===n;if(e.lockImg.visible=r,e.gradeImg.visible=!r,n>0)e.gradeTxt.text=fvg.GVf("skill020",n),e.gradeTxt.textColor=Color.XB;else{var a=[],o=void 0,s=void 0,p=void 0,l=0;e.kf.p6&&(a=e.kf.p6.split(","));for(var c=0;c<a.length;c++)o=i[parseInt(a[c])][1],o&&(s=gLw.IQ(o.tid),p=App.BG.superEquipInfo[s]||0,p>0&&l++);e.gradeTxt.text=fvg.GVf("public022",l,a.length),e.gradeTxt.textColor=l>=3?Color.TX:Color.KA}},t.prototype.ye=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.gradeImg),t.gradeImg=null,t.kf=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(SuperequipSpectrumItem.prototype,"SuperequipSpectrumItem");var SuperequipSpectrumView=function(e){function t(){var t=e.call(this,"SuperequipSpectrumView")||this;return t.cq=0,t.wz=!1,t.skinName=RRUU.$s("SuperequipSpectrumView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.maxTxt_1.text=fvg.GVf("public014"),e.noneTxt.text=fvg.GVf("public010"),e.treasureIconArr=[],e.lockImgArr=[],e.nameTxtArr=[],e.treasureGroupArr=[];for(var t=1;3>=t;t++)e.treasureIconArr.push(this["treasureIcon_"+t]),e.lockImgArr.push(this["lockImg_"+t]),e.nameTxtArr.push(this["nameTxt_"+t]);e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=SuperequipSpectrumItem,e.fightView=GObj.$c(FightView),e.fightView.x=107,e.fightView.y=-10,e.addChildAt(e.fightView,e.numChildren-1),e.xx=App.KB.getUIEffect(gYq.EV),e.xx.x=123,e.xx.y=90,e.addChildAt(e.xx,1),e.smaicon1.goodsTid=StaticData.TID_GOODS_28},t.prototype.initData=function(){var e=this;e.itemList.selectedIndex=0,e.tb(),e.hk(),e.pk()},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e.hk,e),e.upBtn.addEventListener(eui.tep,e.ik,e),vkG.$a(UtJ.DV,e.pk,e),vkG.$a(UtJ.BF,e.pk,e),vkG.$a(UtJ.NH,e.pk,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e.hk,e),e.upBtn.removeEventListener(eui.tep,e.ik,e),vkG.$r(UtJ.DV,e.pk,e),vkG.$r(UtJ.BF,e.pk,e),vkG.$r(UtJ.NH,e.pk,e)},t.prototype.pk=function(){var e=this;e.i_&&e.CSo&&e.zm()},t.prototype.ik=function(e){var t=this;if(1==t.sh){if(!(t.erl>=3))return void App.TT.show(fvg.GVf("superequipCasting17"));NXr.HE(t.gc)}else{if(t.erl<3)return void App.TT.show(fvg.GVf("superequipCasting18"));if(t.ij>=t.i_.maxgrade)return void App.TT.show(fvg.GVf("public014"));if(t.qt<t._q)return void _JDW.TR(StaticData.TID_GOODS_28,t._q-t.qt);NXr.HE(t.gc)}},t.prototype.hk=function(){var e=this;e.cq=e.itemList.selectedIndex,e.i_=null;var t=e.datas.source[e.cq];t&&(e.i_=t,e.zm())},t.prototype.tb=function(){var e=this;e.uc=e.ej();var t,n,i=Object.keys(e.uc),r=i.length,a=[];e.datas.source.splice(0,e.datas.source.length);for(var o=0;r>o;o++)t=e.uc[o],a=t.p6.split(","),n=!1,t&&e.datas.source.push(t);e.datas.source.sort(e.dh),e.datas.refresh()},t.prototype.dh=function(e,t){var n=UsU.NB(e),i=UsU.NB(t);return n&&!i?-1:!n&&i?1:-1},t.prototype.ej=function(){var e,t=XCA.AQS.oVs(50),n={};for(var i in t)e=t[i][1],n[1]||(n[1]=[]),n[1].push(e);return n[1]||[]},t.prototype.zm=function(){var e=this;if(e.i_&&e.CSo){e.gc=gLw.IQ(e.i_.tid),e.ij=App.BG.spectrumInfo[e.gc]||0,e.i_=XCA.AQS.UFA(50,e.gc,e.ij||1),e.attrTxt_1.text="",e.attrTxt_2.text="",e.nameTxt.text=fvg.GVf("treasure24",e.i_.name,e.ij);gLw.GM(e.i_.tid);e.attrTxt_2.visible=e.ij<e.i_.maxgrade,e.maxTxt_1.visible=e.ij>=e.i_.maxgrade;var t=gLw.RO(e.i_.tid);e.bindIcon.source=kLM.FI(t);var n=[];e.i_.cost&&(n=e.i_.cost.split(",")),n.length>=2?(e.qt=App.FK.hsx(parseInt(n[0])),e._q=parseInt(n[1])):(e.qt=App.FK.hsx(StaticData.TID_GOODS_28),e._q=0),e.needTxt.text=fvg.GVf("beauty17",e.qt,e._q),e.needTxt.textColor=e.qt>=e._q?Color.TX:Color.KA;var i=[];e.i_.p6&&(i=e.i_.p6.split(","));var r,a;e.erl=0;for(var o,s,p=XCA.AQS.UFA(50,e.gc,e.ij+1),l=0;l<i.length;l++)if(o=XCA.AQS.UFA(12,parseInt(i[l]),1)){if(e.treasureIconArr[l]&&e.nameTxtArr[l]&&e.lockImgArr[l])if(r=App.BG.superEquipInfo[parseInt(i[l])]||0,e.nameTxtArr[l].text=o.name,a=gLw.GM(o.tid),s=GObj.$c(nlwj),s.tid=parseInt(o.cost),e.treasureIconArr[l].data=s,r>0){if(e.lockImgArr[l].visible=!1,e.treasureIconArr[l].bottomText=fvg.GVf("public028",r),!p)continue;r>=p.p2&&e.erl++}else e.lockImgArr[l].visible=!0,e.treasureIconArr[l].bottomText=""}else e.nameTxtArr[l].text="";if(p){var c=e.erl>=i.length?Color.SQ:Color.KA;e.descTxt.textFlow=LgRe.OQ(fvg.GVf("superequipCasting20",p.p2,c,e.erl,i.length))}else e.descTxt.text="";e.upBtn.visible=!0;var u;if(e.ij>0&&e.ij<=e.i_.maxgrade?(e.attrTxt_1.text=LRJ.KG(e.i_.attrid+e.ij),u=XCA.YV(e.i_.attrid+e.ij),e.noneTxt.visible=!1,e.upGroup.visible=!0,e.attrTxt_3.text=fvg.GVf("superequipCasting19",e.i_.p1/10),e.sh=2,e.upBtn.label=fvg.GVf("specia001")):(e.attrTxt_1.text="",e.noneTxt.visible=!0,e.upGroup.visible=!1,e.sh=1,e.attrTxt_3.text="",e.upBtn.label=fvg.GVf("beauty10")),e.ij<e.i_.maxgrade){e.attrTxt_2.text=LRJ.KG(e.i_.attrid+(e.ij+1)),u=XCA.YV(e.i_.attrid+e.ij+1);var d=XCA.AQS.UFA(50,e.gc,e.ij+1);e.attrTxt_4.text=fvg.GVf("superequipCasting19",d.p1/10)}else e.attrTxt_2.text="",e.attrTxt_4.text="",e.upGroup.visible=!1,e.upBtn.visible=!1;e.upBtn.icon=UsU.NB(e.i_)?StaticData.GHj:null;var g=App.BG.spectrumInfo["swg_"+e.gc]||0;e.fightView.fightNum=g}},t.prototype.sf=function(){var e=this;App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.sf,e),App.YX.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.sf,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.sf(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null;for(var n=0;3>n;n++)GObj.$d(t.treasureIconArr[n]),t.treasureIconArr[n]=null,GObj.$d(t.lockImgArr[n]),t.lockImgArr[n]=null,GObj.$d(t.nameTxtArr[n]),t.nameTxtArr[n]=null;GObj.$d(t.bindIcon),t.bindIcon=null,GObj.$d(t.upGroup),t.upGroup=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.upBtn),t.upBtn=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.maxTxt_1),t.maxTxt_1=null,GObj.$d(t.noneTxt),t.noneTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.attrTxt_3),t.attrTxt_3=null,GObj.$d(t.attrTxt_4),t.attrTxt_4=null,GObj.$d(t.xx),t.xx=null,GObj.$d(t.smaicon1),t.smaicon1=null,t.i_=null,t.datas=null,t.uc=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SuperequipSpectrumView.prototype,"SuperequipSpectrumView");var SuperequipSuperPopUi=function(e){function t(){var t=e.call(this,"SuperequipSuperPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.en=e[0],n.ys())},t.prototype.initView=function(){var e=this;e.ip=GObj.$c(nlwj),e.ip.tid=StaticData.TID_GOODS_19,e.goodsItem.data=e.ip;var t=e.ip.TSF;if(t){var n=t.qua;e.vy=t.p1,e.nameLab.text=t.name,e.nameLab.textColor=aKF.DU(t.qua),e.qualityBg.source=kLM.EZ(n)}e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418"),e.descLab_2.text=fvg.GVf("superequip4")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.lf,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tqh,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tqh,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tqh,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.tqh,e),vkG.$a(UtJ.NH,e.xb,e)},t.prototype.initData=function(){this.ys()},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.lf,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.az,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.az,e),Nvm.instance.unRegisteEnterFrame(e.ng,e),vkG.$r(UtJ.NH,e.xb,e)},t.prototype.xb=function(){this.ge()},t.prototype.lf=function(){var e=this;if(0==e.zu)return void MessageTipManager.instance.show(fvg.GVf("superequip1"));if(e.ap>=e.gs)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var t=App.FK.hsx(e.ip.tid);t>0?NXr.IU(e.en,e.yb):_JDW.TR(e.ip.tid)},t.prototype.ys=function(){var e=this;e.CSo&&e.en&&(e.wu=XCA.AQS.UFA(12,e.en,1),e.ge())},t.prototype.ge=function(){var e=this;e.zu=App.BG.superEquipInfo[e.en]||0,e.ap=App.BG.superEquipInfo["sf_"+e.en]||0;var t=0==e.zu?1:e.zu;e.gs=App.JP.getFashionUseMax(t,e.wu.p1),e.useedLab.text=fvg.GVf("fashion20",e.ap,e.gs);var n=App.FK.hsx(e.ip.tid);e.haveLab.text=fvg.GVf("414",n),e.attrAppendTxt.text=fvg.GVf("superequip5",(e.ip.TSF.p2/10*e.ap).toFixed(1)),e.useBtn.icon=e.zu>0&&e.ap<e.gs&&n>0?StaticData.GHj:null,e.zu>=e.wu.maxgrade?e.nextUseLab.text=fvg.GVf("fashion27",e.gs):e.nextUseLab.text=fvg.GVf("fashion21",App.JP.getFashionUseMax(t+1,e.wu.p1)),e.kx(),e.useBtn.icon?e.yg=Math.min(n,e.gs-e.ap):e.yg=1,e.yb=1,e.hu()},t.prototype.kx=function(){var e=this,t=XCA.YV(e.vy),n="";if(t){var i=void 0;for(i in xxf.UK)t[i]&&(n+="\n"+fvg.GVf("skill004",xxf.UK[i],t[i]*e.ap))}e.attrsLab.textFlow=LgRe.OQ(n)},t.prototype.tqh=function(e){var t=this;if(!t.or){t.or=!0,t.hh=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.ai=10;break;case t.minBtn:t.ai=-10;break;case t.addBtn:t.ai=1;break;case t.removeBtn:t.ai=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.az,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.az,t),Nvm.instance.registeEnterFrame(t.ng,t)}},t.prototype.az=function(e){var t=this;t.or&&(t.or=!1,t.hh<10&&(t.yb+=t.ai,t.hu()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.az,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.az,t),Nvm.instance.unRegisteEnterFrame(t.ng,t))},t.prototype.ng=function(){var e=this;e.or&&(e.hh++,e.hh%10==0&&(e.yb+=e.ai,e.hu()))},t.prototype.hu=function(){var e=this;e.yb>=e.yg&&(e.yb=e.yg),e.yb<=0&&(e.yb=1),e.countTxt.text=e.yb.toString()},t.prototype.ir=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nextUseLab),t.nextUseLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.descLab_2),t.descLab_2=null,GObj.$d(t.attrAppendTxt),t.attrAppendTxt=null,GObj.$d(t.qualityBg),t.qualityBg=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SuperequipSuperPopUi.prototype,"SuperequipSuperPopUi");var UnifyUpPopUi=function(e){function t(){var t=e.call(this,"UnifyUpPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf(422),e.ay=0,e.upgradeBtn.label=fvg.GVf("specia001"),e.fightView=GObj.$c(FightView),e.fightView.x=120,e.fightView.y=40,e.addChild(e.fightView),e._d=GObj.$c(FigureView),e._d.x=380,e._d.y=300,e.figureViewGroup.addChild(e._d),e.nextAttrData=GObj.$c(eui.ArrayCollection),e.curAttrData=GObj.$c(eui.ArrayCollection),e.nextAttrGroup.dataProvider=e.nextAttrData,e.nextAttrGroup.itemRendererSkinName=RRUU.$s("SuperequipUpPopUiItem"),e.curAttrGroup.dataProvider=e.curAttrData,e.curAttrGroup.itemRendererSkinName=RRUU.$s("SuperequipUpPopUiItem"),e.curAttrTitle.text=fvg.GVf("superequipCasting22"),e.maxTxt.text=fvg.GVf("public014")},t.prototype.initData=function(){this.ro()},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.hh,e),vkG.$a(UtJ.NH,e.zi,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.hh,e),vkG.$r(UtJ.NH,e.zi,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];
var n=this;if(e){var i=e.length;i>0&&(n.yp=e[0],n.ro())}},t.prototype.ro=function(){var e=this;if(e.CSo&&e.yp){e.sq=gLw.IQ(e.yp.tid);var t=GObj.$c(nlwj);t.tid=parseInt(e.yp.cost),e.needIcon.data=t,e.zi(),e.pjm()}},t.prototype.pjm=function(){var e=this;e.yp&&e.CSo&&FigureHelps.NW(e._d,{w:e.yp.p5,s:App.KF.sex||1},!1)},t.prototype.zi=function(){var e=this;e.zt=App.BG.superEquipInfo[e.sq]||0;var t=gLw.GM(e.yp.tid);e.nameLabel.text=e.yp.name+fvg.GVf("official32",e.zt),e.nameLabel.textColor=aKF.DU(t),e.nextAttrTitle.text=fvg.GVf("superequipCasting23"),e.gradeTxt.text=fvg.GVf("specia002",e.zt);var n=App.FK.hsx(parseInt(e.yp.cost)),i=App.JP.getSuperequipNeedCount(e.zt);e.needIcon.bottomText=fvg.GVf("public022",n,i),e.needIcon.bottomColor=n>=i?Color.TX:Color.KA,e.upgradeBtn.icon=n>=i&&e.zt<e.yp.maxgrade?StaticData.GHj:null,e.cn(),e.checkUpgrade()},t.prototype.updateAttr=function(e,t,n){var i=this,r=XCA.YV(e);t.source.splice(0,t.source.length);var a;if(r){var o=void 0,s=void 0,p=i.op();gLw.GM(i.yp.tid);for(o in xxf.UK)s=r[o]||0,s>0&&(s+=p[o]||0,a={},a.name=xxf.UK[o],a.value="+"+s,a.vx=14*a.name.length,a.color=n,t.source.push(a));for(o in xxf.IM){s=r[o]||0,s>0&&(s+=p[o]||0,a={},a.name=xxf.IM[o],a.value="+"+(s/10).toFixed(1)+"%",a.vx=14*a.name.length,t.source.push(a));var l=gLw.IQ(i.yp.tid),c=App.BG.superEquipInfo["c_"+l]||0;c=c?c:r.p1||0,i.fightView.fightNum=c}t.refresh()}},t.prototype.cn=function(){var e=this,t=0,n=e.yp.attrid+e.zt;e.zt<e.yp.maxgrade?(t=e.yp.attrid+(e.zt+1),e.maxTxt.visible=!1):(t=e.yp.attrid+e.zt,e.nextAttrGroup.visible=!1,e.maxTxt.visible=!0),e.updateAttr(n,e.curAttrData,2763306),e.updateAttr(t,e.nextAttrData,32521)},t.prototype.op=function(){var e={},t=XCA.FR(StaticData.TID_GOODS_9);if(!t)return e;var n=XCA.YV(t.p1);if(n){var i=void 0,r=App.BG.superEquipInfo["f_"+this.sq]||0;for(i in xxf.UK)n[i]&&(e[i]=n[i]*r)}return e},t.prototype.checkUpgrade=function(){var e=this;e.ay&&e.zt!=e.ay&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.xk,e),e.weS.x=-3,e.weS.y=52),e.weS.play(1),e.addChild(e.weS)),e.ay=e.zt},t.prototype.xk=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS),t._nextMc&&t._nextMc.parent&&t.removeChild(t._nextMc)},t.prototype.hh=function(e){var t=this;if(t.yp){if(t.zt>=t.yp.maxgrade)return void MessageTipManager.instance.show(fvg.GVf("skill006"));var n=App.FK.hsx(parseInt(t.yp.cost)),i=App.JP.getSuperequipNeedCount(t.zt);return i>n?void _JDW.TR(parseInt(t.yp.cost),i-n):void NXr.KQ(gLw.IQ(t.yp.tid))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.xk,t),GObj.$d(t.weS)),t.weS=null,t.nextAttrGroup&&(t.nextAttrGroup.dataProvider=null,GObj.$d(t.nextAttrGroup)),t.nextAttrGroup=null,t.nextAttrData=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.needIcon),t.needIcon=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.nameLabel),t.nameLabel=null,GObj.$d(t.figureViewGroup),t.figureViewGroup=null,t.yp=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(UnifyUpPopUi.prototype,"UnifyUpPopUi");var QQCustomerPopUi=function(e){function t(){var t=e.call(this,"QQCustomerPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.submitBtn1.label=fvg.GVf("privilege68"),e.submitBtn2.label=fvg.GVf("privilege68"),e.descLab1.text=fvg.GVf("privilege69",fvg.GVf("privilege69_1")),e.descLab2.text=fvg.GVf("privilege70",fvg.GVf("privilege70_1"))},t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.initEvent=function(){var e=this;e.submitBtn1.addEventListener(eui.tep,e.kb,e),e.submitBtn2.addEventListener(eui.tep,e.ea,e),e.returnBtn.addEventListener(eui.tep,e.gi,e)},t.prototype.removeEvent=function(){var e=this;e.submitBtn1.removeEventListener(eui.tep,e.kb,e),e.submitBtn2.removeEventListener(eui.tep,e.ea,e),e.returnBtn.removeEventListener(eui.tep,e.gi,e)},t.prototype.kb=function(e){var t=this;t.ep=fvg.GVf("privilege69_1"),t.qm()},t.prototype.ea=function(e){var t=this;t.ep=fvg.GVf("privilege70_1"),t.qm()},t.prototype.qm=function(){var e=this;App.NG.setClipboardData(e.ep,e.jm,e)},t.prototype.jm=function(e){msgTip(e&&0===e.retCode?fvg.GVf("privilege71"):fvg.GVf("privilege72"))},t.prototype.gi=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.submitBtn1),t.submitBtn1=null,GObj.$d(t.submitBtn2),t.submitBtn2=null,GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.descLab2),t.descLab2=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(QQCustomerPopUi.prototype,"QQCustomerPopUi");var SuperVipFrame=function(e){function t(){var t=e.call(this,"SuperVipFrame")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.submitBtn.label=fvg.GVf("indulge11"),e.descLab.text=fvg.GVf("supervip05")},t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.initEvent=function(){var e=this;e.submitBtn.addEventListener(eui.tep,e.jc,e),e.returnBtn.addEventListener(eui.tep,e.en,e),vkG.$a(UtJ.XO,e._n,e)},t.prototype.removeEvent=function(){var e=this;e.submitBtn.removeEventListener(eui.tep,e.jc,e),e.returnBtn.removeEventListener(eui.tep,e.en,e),vkG.$r(UtJ.XO,e._n,e)},t.prototype.jc=function(e){var t=this;if("0"==t.qqTxt.text)return void App.VS.close(KqZ.SQ);if(!usable(t.qqTxt.text))return void msgTip(fvg.GVf("supervip03"));var n=/^\d{5,12}$/;if(!n.test(t.qqTxt.text))return void msgTip(fvg.GVf("supervip04"));if(!usable(t.yearTxt.text)||!usable(t.mouthTxt.text)||!usable(t.dayTxt.text))return void msgTip(fvg.GVf("supervip01"));if(!kpd.WB(t.yearTxt.text,t.mouthTxt.text,t.dayTxt.text))return void msgTip(fvg.GVf("supervip02"));var i=t.yearTxt.text,r=t.mouthTxt.text,a=t.dayTxt.text;parseInt(r)<10&&(r=t.mouthTxt.text.replace("0",""));var o=i+"-"+r+"-"+a;NXr.GZ(t.qqTxt.text,o)},t.prototype._n=function(){App.VX.qqcode&&App.VX.birthday&&(msgTip(fvg.GVf("supervip06")),GObj.$d(this))},t.prototype.en=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.submitBtn),t.submitBtn=null,GObj.$d(t.qqTxt),t.qqTxt=null,GObj.$d(t.yearTxt),t.yearTxt=null,GObj.$d(t.mouthTxt),t.mouthTxt=null,GObj.$d(t.dayTxt),t.dayTxt=null,GObj.$d(t.descLab),t.descLab=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(SuperVipFrame.prototype,"SuperVipFrame");var MonkeyKingCardView=function(e){function t(){var t=e.call(this,"MonkeyKingCardView")||this,n=RRUU.$s("MonkeyKingCardView");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.descTxt.text=fvg.GVf("supercard3")},t.prototype.initData=function(){this.bi()},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.qr,e),vkG.$a(UtJ.HX_,e.yx,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.qr,e),vkG.$r(UtJ.HX_,e.yx,e)},t.prototype.bi=function(){this.yx()},t.prototype.yx=function(){var e=this;e.buyBtn.icon=null;var t=!1;e.buyBtn.visible=!0,e.gotImg.visible=!1,t=App.DE.supremeCardVO.isExpCard,t?(e.descTxt.visible=!1,App.DE.supremeCardVO.isGetExpCard?(e.buyBtn.visible=!1,e.gotImg.visible=!0):(e.buyBtn.bgImg.source="supreme_json.supreme_get_png",e.buyBtn.icon=StaticData.GHj)):(e.descTxt.visible=!0,e.buyBtn.visible=!0,e.gotImg.visible=!1,e.buyBtn.bgImg.source="monkeykingcard_json.mkc_buy_btn_png")},t.prototype.qr=function(e){var t=this;if(App.DE.supremeCardVO.isExpCard){if(App.DE.supremeCardVO.isGetExpCard)return;SupremeMsgProxy.WB(4)}else{var n=fvg.GVf("recharge010",StaticData.EXPCARDPRICE);Alert.WK(n,null,null,t.se,this,[StaticData.EXPCARDPRICE])}},t.prototype.se=function(e){NXr.BP({total_fee:100*StaticData.EXPCARDPRICE,subject:5,param3:4})},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.gotImg),t.gotImg=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(MonkeyKingCardView.prototype,"MonkeyKingCardView");var SuperCardView=function(e){function t(){var t=e.call(this,"SuperCardView")||this;t.wq=0;var n=RRUU.$s("SuperCardViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gn=GObj.$c(kQr),e.gn.cwA(e.toggle_week),e.gn.cwA(e.toggle_month),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.rewardItem=GObj.$c(GoodsItemView),e.rewardItem.horizontalCenter=0,e.rewardItem.y=470,e.addChildAt(e.rewardItem,1),e.gotNumView=GObj.$c(NumberView),e.gotGroup.addChildAt(e.gotNumView,1),e.pr=1},t.prototype.initData=function(){var e=this,t=App.NG.getCardPointStr();e.nj=t?t.split(","):["28","188"],e.qu(),e.gn.selectedIndex=0},t.prototype.initEvent=function(){var e=this;e.gn.addEventListener(egret.Event.CHANGE,e.la,e),e.buyBtn.addEventListener(eui.tep,e.ic,e),vkG.$a(UtJ.HX_,e.dg,e),vkG.$a(UtJ.HX_,e.qu,e)},t.prototype.removeEvent=function(){var e=this;e.gn.removeEventListener(egret.Event.CHANGE,e.la,e),e.buyBtn.removeEventListener(eui.tep,e.ic,e),vkG.$r(UtJ.HX_,e.dg,e),vkG.$r(UtJ.HX_,e.qu,e)},t.prototype.qu=function(){var e=this,t=App.DE.supremeCardVO.weekTotalGet,n=App.DE.supremeCardVO.monthTotalGet,i=GObj.$c(nlwj);i.tid=StaticData.TID_POINT_ID,i.count=120;var r=GObj.$c(nlwj);r.tid=StaticData.TID_POINT_ID,r.count=150,1==e.pr?(e.bgImg.source=kLM.OP(1),e.buyImg.source="supreme_json.supreme_buy_1_png",e.rewardItem.data=i,hFO.instance.getNumberView(bRC.BX,t.toString(),-3,e.gotNumView),e.timeTxt.text=fvg.GVf("supercard1",App.DE.supremeCardVO.isWeekTime)):2==e.pr?(e.bgImg.source=kLM.J_A(1),e.buyImg.source="supreme_json.supreme_buy_2_png",e.rewardItem.data=r,hFO.instance.getNumberView(bRC.BX,n.toString(),-3,e.gotNumView),e.timeTxt.text=fvg.GVf("supercard2",App.DE.supremeCardVO.isMonthTime)):e.bgImg.source="supreme_json.supreme_img_3_png";var a=XCA.RE("5_"+e.pr);e.rewardData.source=Nkz.PI(a),e.rewardData.refresh(),e.dg()},t.prototype.la=function(e){var t=this,n=t.gn.LuO;switch(n){case t.toggle_week:t.pr=1;break;case t.toggle_month:t.pr=2}t.qu()},t.prototype.dg=function(){var e=this;e.buyBtn.icon=null,e.toggle_week.icon=!App.DE.supremeCardVO.isgetWeek&&App.DE.supremeCardVO.isWeek?StaticData.GHj:null,e.toggle_month.icon=!App.DE.supremeCardVO.isgetMonth&&App.DE.supremeCardVO.isMonth?StaticData.GHj:null;var t=!1;e.buyBtn.visible=!0,e.gotImg.visible=!1,e.maskImg.visible=!1,e.tomorrowTxt.visible=!1;var n=App.DE.supremeCardVO.weekTotalGet,i=App.DE.supremeCardVO.monthTotalGet,r=App.DE.supremeCardVO.isWeekTime,a=App.DE.supremeCardVO.isMonthTime;2==e.pr?(t=App.DE.supremeCardVO.isMonth,t?(e.bgImg.source=kLM.J_A(2),e.gotGroup.visible=!0,e.rewardItem.visible=!0,e.buyImg.visible=!1,e.rewardGroup.visible=!1,e.boxImg.visible=!1,e.magicImg.visible=!1,e.timeTxt.visible=!(99999==App.DE.supremeCardVO.isMonthTime),e.timeTxt.text=fvg.GVf("supercard2",App.DE.supremeCardVO.isMonthTime),App.DE.supremeCardVO.isgetMonth?(e.buyBtn.visible=!1,e.gotImg.visible=!0,e.maskImg.visible=!0,e.tomorrowTxt.visible=!0,1==a?e.tomorrowTxt.text=fvg.GVf("supercard8"):e.tomorrowTxt.text=fvg.GVf("supercard7")):(e.pw(),e.buyBtn.icon=StaticData.GHj)):(0>=i?(e.bgImg.source=kLM.J_A(1),e.boxImg.visible=!0,e.rewardGroup.visible=!0,e.magicImg.visible=!0,e.gotGroup.visible=!1,e.rewardItem.visible=!1):(e.bgImg.source=kLM.J_A(3),e.boxImg.visible=!1,e.magicImg.visible=!1,e.gotGroup.visible=!1,e.rewardItem.visible=!1,e.timeTxt.visible=!1,e.rewardGroup.visible=!1),e.buyImg.visible=!0,e.gotGroup.visible=!1,e.timeTxt.visible=!1,e.buyBtn.visible=!0,e.gotImg.visible=!1,e.maskImg.visible=!1,e.tomorrowTxt.visible=!1,e.pw(e.pr))):3==e.pr?(t=App.DE.supremeCardVO.isForever,t?App.DE.supremeCardVO.isgetForever?(e.buyBtn.visible=!1,e.gotImg.visible=!0,e.maskImg.visible=!0):(e.pw(),e.buyBtn.icon=StaticData.GHj):e.pw(e.pr)):(t=App.DE.supremeCardVO.isWeek,t?(e.bgImg.source=kLM.OP(2),e.gotGroup.visible=!0,e.rewardItem.visible=!0,e.buyImg.visible=!1,e.rewardGroup.visible=!1,e.gotGroup.visible=!0,e.boxImg.visible=!1,e.magicImg.visible=!1,e.timeTxt.visible=!(99999==App.DE.supremeCardVO.isWeekTime),e.timeTxt.text=fvg.GVf("supercard1",App.DE.supremeCardVO.isWeekTime),App.DE.supremeCardVO.isgetWeek?(e.buyBtn.visible=!1,e.gotImg.visible=!0,e.maskImg.visible=!0,e.tomorrowTxt.visible=!0,1==r?e.tomorrowTxt.text=fvg.GVf("supercard8"):e.tomorrowTxt.text=fvg.GVf("supercard7")):(e.pw(),e.buyBtn.icon=StaticData.GHj)):(0>=n?(e.bgImg.source=kLM.OP(1),e.boxImg.visible=!0,e.magicImg.visible=!0,e.gotGroup.visible=!1,e.rewardItem.visible=!1,e.rewardGroup.visible=!0):(e.bgImg.source=kLM.OP(3),e.boxImg.visible=!1,e.magicImg.visible=!1,e.gotGroup.visible=!1,e.rewardItem.visible=!1,e.timeTxt.visible=!1,e.rewardGroup.visible=!1),e.buyImg.visible=!0,e.timeTxt.visible=!1,e.buyBtn.visible=!0,e.gotImg.visible=!1,e.maskImg.visible=!1,e.tomorrowTxt.visible=!1,e.pw(e.pr)),99999==App.DE.supremeCardVO.isWeekTime&&(e.timeTxt.visible=!1))},t.prototype.ic=function(e){var t=this;App.JA.checkIncome(t.kt,t)},t.prototype.kt=function(){var e=this;if(1==e.pr)if(App.DE.supremeCardVO.isWeek){if(App.DE.supremeCardVO.isgetWeek)return;SupremeMsgProxy.WB(1)}else{var t=e.nj[0],n=fvg.GVf("recharge004",t);Alert.WK(n,null,null,e.uk,this,[t])}else if(2==e.pr)if(App.DE.supremeCardVO.isMonth){if(App.DE.supremeCardVO.isgetMonth)return;SupremeMsgProxy.WB(2)}else{var t=e.nj[1],i=fvg.GVf("recharge005",t);Alert.WK(i,null,null,e.gq,this,[t])}else if(App.DE.supremeCardVO.isForever){if(App.DE.supremeCardVO.isgetForever)return;SupremeMsgProxy.WB(3)}else{var t=e.nj[2],r=fvg.GVf("recharge009",t);Alert.WK(r,null,null,e.jj,this,[t])}},t.prototype.uk=function(e){NXr.BP({total_fee:100*e,subject:5,param3:1})},t.prototype.gq=function(e){NXr.BP({total_fee:100*e,subject:5,param3:2})},t.prototype.jj=function(e){NXr.BP({total_fee:100*e,subject:5,param3:3})},t.prototype.dataUpdated=function(){var e=this;switch(e.tabType){case 1:e.gn.selectedIndex=0;break;case 2:e.gn.selectedIndex=1}},t.prototype.pw=function(e){void 0===e&&(e=0);var t=this.buyBtn.bgImg,n=App.DE.supremeCardVO.weekTotalGet,i=App.DE.supremeCardVO.monthTotalGet;switch(e){case 0:t.source="supreme_json.supreme_get_png";break;case 1:0>=n?App.NG.isWXminiChannel()?t.source="supreme_json.supreme_btn_1_wx_png":t.source="supreme_json.supreme_btn_1_png":App.NG.isWXminiChannel()?t.source="supreme_json.supreme_btn_3_wx_png":t.source="supreme_json.supreme_btn_3_png";break;case 2:0>=i?t.source="supreme_json.supreme_btn_2_png":t.source="supreme_json.supreme_btn_4_png";break;case 3:t.source=""}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.gotImg),t.gotImg=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.toggle_week),t.toggle_week=null,GObj.$d(t.toggle_month),t.toggle_month=null,GObj.$d(t.gotGroup),t.gotGroup=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(SuperCardView.prototype,"SuperCardView");var TaiyiAdvancePopUi=function(e){function t(){var t=e.call(this,"TaiyiAdvancePopUi")||this;return t.skinName=RRUU.$s("TaiyiAdvancePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.wz=e[0],n.ku()},t.prototype.initView=function(){var e=this;e.title=fvg.GVf("taiyi19"),e.upgradeBtn.label=fvg.GVf("beauty01"),e.wm=GObj.$c(TaiyiItemView,e.wz),e.wm.x=210,e.wm.y=200,e.addChild(e.wm),e.maxLbl.textFlow=LgRe.OQ(fvg.GVf("fashion2"));var t;e.tt=[],e.ww=GObj.$c(kQr);for(var n=0;4>n;n++)t=GObj.$c(TaiyiItemView),e.tt.push(t),t.isShowSelected=!0,e.ww.cwA(t),e.itemGroup.addChild(t);e.smaicon1.goodsTid=StaticData.TID_GOODS_51},t.prototype.initData=function(){var e=this;e.ww.selectedIndex=0,e.ku()},t.prototype.ku=function(){var e=this;if(e.tt&&!(e.tt.length<=0)){for(var t,n=0;n<e.tt.length;n++)t=e.tt[n],t.selectedType=[e.wz,n],t.redVisibleSet=!0;e.wm.selectedType=[e.wz,e.ww.selectedIndex],e.kf=10*(e.wz+1)+e.ww.selectedIndex+1,e.up=App.HL.taiyiMasterInfo["g_"+e.kf]||0;var i=XCA.AQS.UFA(67,e.kf,1);if(i){e.hm=i.maxgrade,e.up>0?e.currAttrLab.textFlow=LgRe.OQ(App.JP.getArrtbyAttrid(i.attrid,e.up,App.JP.getTaiyiAdvanceArrt)):e.currAttrLab.textFlow=LgRe.OQ(fvg.GVf("public010")),e.up>=e.hm?(e.nextAttrLab.textFlow=LgRe.OQ(fvg.GVf("fashion2")),e.upGroup.visible=!1,e.maxLbl.visible=!0):(e.nextAttrLab.textFlow=LgRe.OQ(App.JP.getArrtbyAttrid(i.attrid,e.up+1,App.JP.getTaiyiAdvanceArrt)),e.upGroup.visible=!0,e.maxLbl.visible=!1),e.smaicon1.goodsTid=parseInt(i.cost),e.ze=App.FK.hsx(i.cost),e.tx=App.JP.getTaiyiAdvanceNum(i,e.up);var r;r=e.ze>=e.tx?Color.TX:Color.KA,e.up>=e.hm?(e.upgradeLab.text="--",e.upgradeBtn.icon=null):(e.upgradeLab.textFlow=LgRe.OQ(fvg.GVf("458",r,e.ze,e.tx)),e.upgradeBtn.icon=e.ze>=e.tx?StaticData.GHj:null)}}},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.pm,e),e.ww.addEventListener(egret.Event.CHANGE,e.nb,e),vkG.$a(UtJ.EDC,e.bp,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.pm,e),e.ww.removeEventListener(egret.Event.CHANGE,e.nb,e),vkG.$r(UtJ.EDC,e.bp,e)},t.prototype.bp=function(){this.ku()},t.prototype.nb=function(){this.ku()},t.prototype.pm=function(){var e=this;return e.up>=e.hm?void MessageTipManager.instance.show(fvg.GVf("taiyi6")):e.ze<e.tx?void _JDW.TR(e.smaicon1.goodsTid):void TaiyiMsgProxy.WT(1,e.kf)},t.prototype.wl=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.wm),t.wm=null,GObj.$d(t.upgradeLab),t.upgradeLab=null,GObj.$d(t.smaicon1),t.smaicon1=null,t.tt){for(var n=0,i=t.tt.length;i>n;n++)GObj.$d(t.tt[n]);t.tt.length=0,t.tt=null}e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TaiyiAdvancePopUi.prototype,"TaiyiAdvancePopUi");var TaiyiGodMasterPopUi=function(e){function t(){var t=e.call(this,"TaiyiGodMasterPopUi")||this;return t.skinName=RRUU.$s("TaiyiGodMasterPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.hn=e[0],n.zp()},t.prototype.zp=function(){var e=this;if(e.CSo){var t=App.HL.taiyiMasterInfo;e.tl=t["s_"+e.hn]||0,e.ko=XCA.AQS.UFA(68,e.hn,1),e.ko&&(e.n_=e.ko.p5.split("|"),e.title=fvg.GVf("taiyi16"),e.dr(),e.hp())}},t.prototype.initData=function(){this.zp()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dr=function(){var e=this;if(e.ko){var t=e.tl||1,n=parseInt(e.n_[t-1].split(",")[0]),i=App.HL.getTaiyiGodGradeNum(e.hn,n);e.currStageTxt.text=fvg.GVf("taiyi9",n),e.currActiveTxt.x=e.currStageTxt.x+e.currStageTxt.width;var r=4;e.currAttrTxt.text=fvg.GVf("taiyi11",parseInt(e.n_[t-1].split(",")[1])/10),e.tl>0?(e.currActiveTxt.text=fvg.GVf("beast01"),e.currActiveTxt.textColor=e.currAttrTxt.textColor=Color.TX):(e.currActiveTxt.text=fvg.GVf("112",i,r),e.currActiveTxt.textColor=Color.KA,e.currAttrTxt.textColor=Color.XB)}},t.prototype.hp=function(){var e=this;if(0!=e.tl)if(e.ko&&e.tl<e.ko.maxgrade){var t=e.tl||1,n=(e.ko.attrid+t+1,parseInt(e.n_[t].split(",")[0])),i=App.HL.getTaiyiGodGradeNum(e.hn,n);e.nextStageTxt.text=fvg.GVf("taiyi10",n),e.nextActiveTxt.x=e.nextStageTxt.x+e.nextStageTxt.width;var r=4;e.nextActiveTxt.text=fvg.GVf("112",i,r),e.nextActiveTxt.textColor=Color.KA,e.nextAttrTxt.text=fvg.GVf("taiyi11",parseInt(e.n_[t].split(",")[1])/10)}else e.nextStageTxt.text="",e.nextAttrTxt.text="",e.nextActiveTxt.text=""},t.prototype.jr=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.currActiveTxt),t.currActiveTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.ko),t.ko=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TaiyiGodMasterPopUi.prototype,"TaiyiGodMasterPopUi");var TaiyiIronPopUi=function(e){function t(){var t=e.call(this,"TaiyiIronPopUi")||this,n=RRUU.$s("TaiyiIronPopUi");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.tb=e[0],n.xgj())},t.prototype.initView=function(){var e=this,t=GObj.$c(nlwj);t.tid=StaticData.TID_GOODS_49,e.goodsItem.data=t;var n=t.TSF;n&&(e.uf=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(n.qua),e.qualityImg.source="framehd_json.framehd_quality_"+n.qua+"_png"),e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.vi,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.wf,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.wf,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.wf,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.wf,e),vkG.$a(UtJ.YX,e.qy,e)},t.prototype.initData=function(){this.xgj()},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.vi,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.hr,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.hr,e),Nvm.instance.unRegisteEnterFrame(e.opp,e),vkG.$r(UtJ.YX,e.qy,e)},t.prototype.qy=function(){this.bq()},t.prototype.vi=function(){var e=this;if(0==e.wg)return void MessageTipManager.instance.show(fvg.GVf("taiyi14"));if(e.wr>=e.bv)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var t=App.FK.hsx(StaticData.TID_GOODS_49);t>0?TaiyiMsgProxy.SJ(1,e.tb,e.bn):_JDW.TR(StaticData.TID_GOODS_49)},t.prototype.xgj=function(){var e=this;e.CSo&&e.tb&&e.bq()},t.prototype.bq=function(){var e=this;if(e.wg=App.HL.taiyiInfo["g_"+e.tb]||0,e.wr=App.HL.taiyiInfo["gat_"+e.tb]||0,e.ep=XCA.AQS.UFA(66,e.tb,1),e.ep){var t=0==e.wg?1:e.wg;e.bv=e.ep.p2*t||1,e.useedLab.text=fvg.GVf("fashion20",e.wr,e.bv);var n=App.FK.hsx(StaticData.TID_GOODS_49);e.haveLab.text=fvg.GVf("414",n),e.useBtn.icon=e.wg>0&&e.wr<e.bv&&n>0?StaticData.GHj:null,e.wg>=e.ep.maxgrade?e.nextUseLab.text=fvg.GVf("skill006"):e.nextUseLab.text=fvg.GVf("fashion21",e.ep.p2*(t+1)),e.ts(),e.useBtn.icon?e.va=Math.min(n,e.bv-e.wr):e.va=1,e.bn=1,e.yh()}},t.prototype.ts=function(){var e=this,t=XCA.YV(e.uf);if(e.attrsLab.text="",t){var n=void 0;for(n in xxf.UK)t[n]&&(e.attrsLab.text+="\n"+fvg.GVf("skill004",xxf.UK[n],t[n]*e.wr))}},t.prototype.wf=function(e){var t=this;if(!t.jg){t.jg=!0,t.rl=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.ta=10;break;case t.minBtn:t.ta=-10;break;case t.addBtn:t.ta=1;break;case t.removeBtn:t.ta=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.hr,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.hr,t),Nvm.instance.registeEnterFrame(t.opp,t)}},t.prototype.hr=function(e){var t=this;t.jg&&(t.jg=!1,t.rl<10&&(t.bn+=t.ta,t.yh()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.hr,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.hr,t),Nvm.instance.unRegisteEnterFrame(t.opp,t))},t.prototype.opp=function(){var e=this;e.jg&&(e.rl++,e.rl%10==0&&(e.bn+=e.ta,e.yh()))},t.prototype.yh=function(){var e=this;e.bn>=e.va&&(e.bn=e.va),e.bn<=0&&(e.bn=1),e.countTxt.text=e.bn.toString()},t.prototype.d_=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nextUseLab),t.nextUseLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TaiyiIronPopUi.prototype,"TaiyiIronPopUi");var TaiyiItemView=function(e){function t(){var t=e.call(this,"TaiyiItemView")||this;return t.bk=0,t._selected=!1,t.nr=0,t.skinName=RRUU.$s("TaiyiItemViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.DDI,e.qm,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.DDI,e.qm,e)},t.prototype.qm=function(){this.zb()},t.prototype.zb=function(){},Object.defineProperty(t.prototype,"isShowSelected",{get:function(){return this.iw},set:function(e){this.iw=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t.iw?t._selectedBack.visible=t._selected:t._selectedBack.visible=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedType",{get:function(){return this.tf},set:function(e){var t=this;t.bk=e[0]||0,t.nr=e[1]||0,t.yi()},enumerable:!0,configurable:!0}),t.prototype.yi=function(){var e=this;e.iconImg.source="taiyi_json.taiyi_"+e.bk+"_"+e.nr+"_png",e.rw()},t.prototype.rw=function(){var e=this,t=App.HL.taiyiMasterInfo;if(t){var n=10*(e.bk+1)+e.nr+1,i=t["g_"+n]||0,r=fvg.GVf("taiyi"+e.bk).split(",");e.gradeLab.text=fvg.GVf("taiyi3",r[e.nr],i);var a=XCA.AQS.UFA(67,n,1),o=App.JP.getTaiyiAdvanceNum(a,i),s=App.FK.hsx(a.cost);e.redImg.source=s>=o&&e.er?StaticData.GHj:""}},Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"redVisibleSet",{get:function(){return this.er},set:function(e){this.er=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t._selectedBack),t._selectedBack=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.redImg),t.redImg=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TaiyiItemView.prototype,"TaiyiItemView",["ISelectedButton","egret.IEventDispatcher"]);var TaiyiPopUi=function(e){function t(t){var n=e.call(this,"TaiyiPopUi")||this;return n.skinName=RRUU.$s("TaiyiPopUi"),n}return __extends(t,e),t.prototype.initView=function(){var t=this;e.prototype.initView.call(this),t.title=fvg.GVf("taiyi15"),t.fc=GObj.$c(kQr),t.fc.cwA(t.peopleBtn),t.fc.cwA(t.floorBtn),t.fc.cwA(t.skyBtn),t.peopleBtn.label=fvg.GVf("taiyi16"),t.floorBtn.label=fvg.GVf("taiyi17"),t.skyBtn.label=fvg.GVf("taiyi18"),t.advanceBtn.label=fvg.GVf("taiyi19"),t.upgradeBtn.label=fvg.GVf("taiyi20"),t.fightView=GObj.$c(NumberView),t.fightView.x=200,t.fightView.y=75,t.addChild(t.fightView),t.gradeView=GObj.$c(NumberView),t.gradeView.x=205,t.gradeView.y=125,t.addChild(t.gradeView);var n;t.itemArray=[],t.equipGroup=GObj.$c(kQr);for(var i=0;4>i;i++)n=GObj.$c(TaiyiItemView),t.itemArray.push(n),n.isShowSelected=!1,t.equipGroup.cwA(n),t.itemGroup.addChild(n);t.pb={},t.pb[1]={n:"assaultratio",mi:!0}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.fc.selectedIndex=0,t.al()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.shangBtn.addEventListener(eui.tep,t.pd,t),t.xiaBtn.addEventListener(eui.tep,t.xx,t),t.advanceBtn.addEventListener(eui.tep,t.ic,t),t.upgradeBtn.addEventListener(eui.tep,t.xs,t),t.fc.addEventListener(egret.Event.CHANGE,t.iu,t),t.masterBtn.addEventListener(eui.tep,t.ve,t),t.floorBtn.addEventListener(eui.tep,t.tl,this,!1,5),t.skyBtn.addEventListener(eui.tep,t.tl,this,!1,5),t.skillImg.addEventListener(eui.tep,t.ag,t),t.lockImg.addEventListener(eui.tep,t.ag,t),vkG.$a(UtJ.EDC,t.sb,t),vkG.$a(UtJ.YX,t.sb,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.shangBtn.removeEventListener(eui.tep,t.pd,t),t.xiaBtn.removeEventListener(eui.tep,t.xx,t),t.advanceBtn.removeEventListener(eui.tep,t.ic,t),t.upgradeBtn.removeEventListener(eui.tep,t.xs,t),t.fc.removeEventListener(egret.Event.CHANGE,t.iu,t),t.masterBtn.removeEventListener(eui.tep,t.ve,t),t.peopleBtn.removeEventListener(eui.tep,t.tl,t),t.skyBtn.removeEventListener(eui.tep,t.tl,t),t.skillImg.removeEventListener(eui.tep,t.ag,t),t.lockImg.removeEventListener(eui.tep,t.ag,t),vkG.$r(UtJ.EDC,t.sb,t),vkG.$r(UtJ.YX,t.sb,t)
},t.prototype.sb=function(){this.al()},t.prototype.pd=function(){App.VS.popup(10009,TaiyiUpIronPopUi,null,this.fc.selectedIndex+1)},t.prototype.xx=function(){App.VS.popup(10009,TaiyiIronPopUi,null,this.fc.selectedIndex+1)},t.prototype.ag=function(){var e=this;return e.hj<=0?void MessageTipManager.instance.show(fvg.GVf("public010")):void App.VS.popup(10009,StoreMasterPopUi,null,StoreItemView.NO,e.fc.selectedIndex+1)},t.prototype.al=function(){for(var e,t=this,n=0;n<t.itemArray.length;n++)e=t.itemArray[n],e.selectedType=[t.fc.selectedIndex,n],e.redVisibleSet=!1;t.masterBtn.label=fvg.GVf("taiyi5_"+t.fc.selectedIndex,5);var i=App.HL.taiyiInfo,r=App.HL.taiyiMasterInfo;if(i){var a=i["scap_"+(t.fc.selectedIndex+1)]||0,o=r["s_"+(t.fc.selectedIndex+1)]||0;t.hj=i["ds_"+(t.fc.selectedIndex+1)]||0,t.lockImg.visible=t.hj>0?!1:!0,t.aq=i["g_"+(t.fc.selectedIndex+1)]||0,hFO.instance.getNumberView(bRC.UA,a.toString(),-12,t.fightView),hFO.instance.getNumberView(bRC.PN,t.aq.toString(),-6,t.gradeView),t.gradeView.x=t.gradeImg.x-t.gradeView.width,t.masterBtn.label=fvg.GVf("taiyi5_"+t.fc.selectedIndex,o),t.advanceBtn.icon=UsU.HK()?StaticData.GHj:null,t.upgradeBtn.icon=UsU.BYH()?StaticData.GHj:null,t.xiaBtn.icon=UsU.PZI()?StaticData.GHj:null,t.shangBtn.icon=UsU.YP()?StaticData.GHj:null,t.jo()}},t.prototype.jo=function(){var e=this,t=XCA.AQS.UFA(36,6,1),n=t?t.p6.split(QycO.XP):[];if(t&&e.hj<=t.maxgrade){var i=e.hj||0,r=e.hj>=t.maxgrade?t.attrid+t.maxgrade:t.attrid+e.hj+1,a=n[i]?parseInt(n[i]):parseInt(n[i-1]);App.HL.getMasterGrade(e.fc.selectedIndex+1,a);e.gradeLab.textFlow=LgRe.OQ(fvg.GVf("taiyi7",a,Color.KA,e.aq,a)),e.showAttr(e.descLab,r)}},t.prototype.showAttr=function(e,t){var n=XCA.YV(t),i=this.pb[1];if(n&&i){var r=n[i.n]||0;i.mi&&(r=i.p?i.p-r:r,r=(r/10).toFixed(1)),e.text=fvg.GVf("taiyi12",r)}},t.prototype.ic=function(){App.VS.popup(10009,TaiyiAdvancePopUi,null,this.fc.selectedIndex)},t.prototype.xs=function(){App.VS.popup(10009,TaiyiUpgradePopUi,null,this.fc.selectedIndex)},t.prototype.iu=function(e){this.al()},t.prototype.ve=function(){App.VS.popup(10009,TaiyiGodMasterPopUi,null,this.fc.selectedIndex+1)},t.prototype.tl=function(e){e.stopPropagation(),e.stopImmediatePropagation(),MessageTipManager.instance.show(fvg.GVf("public032"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.shangBtn),t.shangBtn=null,GObj.$d(t.xiaBtn),t.xiaBtn=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.advanceBtn),t.advanceBtn=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.peopleBtn),t.peopleBtn=null,GObj.$d(t.floorBtn),t.floorBtn=null,GObj.$d(t.skyBtn),t.skyBtn=null,GObj.$d(t.masterBtn),t.masterBtn=null,GObj.$d(t.gradeImg),t.gradeImg=null,GObj.$d(t.fc),t.fc=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.gradeView),t.gradeView=null,GObj.$d(t.itemGroup),t.itemGroup=null,GObj.$d(t.itemArray),t.itemArray=null,GObj.$d(t.equipGroup),t.equipGroup=null,GObj.$d(t.skillImg),t.skillImg=null,GObj.$d(t.lockImg),t.lockImg=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TaiyiPopUi.prototype,"TaiyiPopUi");var TaiyiUpgradePopUi=function(e){function t(){var t=e.call(this,"TaiyiUpgradePopUi")||this;return t.skinName=RRUU.$s("TaiyiUpgradePopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;n.wz=e[0],n.ba()},t.prototype.initView=function(){var e=this;e.title=fvg.GVf("taiyi20"),e.upgradeBtn.label=fvg.GVf("public008"),e.autoUpgradeBtn.label=fvg.GVf("treasure25"),e.oc={},e.oc[1]={n:"assaultratio",mi:!0},e.smaicon1.goodsTid=StaticData.TID_GOODS_61},t.prototype.initData=function(){this.ba()},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e._a,e),e.autoUpgradeBtn.addEventListener(eui.tep,e.uc,e),e.skillImg.addEventListener(eui.tep,e.lw,e),e.lockImg.addEventListener(eui.tep,e.lw,e),vkG.$a(UtJ.YX,e.nq,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e._a,e),e.autoUpgradeBtn.removeEventListener(eui.tep,e.uc,e),e.skillImg.removeEventListener(eui.tep,e.lw,e),e.lockImg.removeEventListener(eui.tep,e.lw,e),vkG.$r(UtJ.YX,e.nq,e)},t.prototype.nq=function(){this.ba()},t.prototype.lw=function(){var e=this,t=App.HL.taiyiInfo;return t?(e.qn=t["ds_"+(e.wz+1)]||0,e.qn<=0?void MessageTipManager.instance.show(fvg.GVf("public010")):void App.VS.popup(10009,StoreMasterPopUi,null,StoreItemView.NO,e.wz+1)):void 0},t.prototype.ba=function(){var e=this;if(e.CSo){var t=App.HL.taiyiInfo;if(e.vw=t["g_"+(e.wz+1)]||0,e.qn=t["ds_"+(e.wz+1)]||0,e.ff(),e.lockImg.visible=e.qn>0?!1:!0,e.kt=XCA.AQS.UFA(66,e.wz+1,1),e.kt){e.rw=e.kt.maxgrade,e.vw>0?e.currAttrLab.text=App.JP.getArrtbyAttrid(e.kt.attrid,e.vw,App.JP.getTaiyiUpgradeArrt):e.currAttrLab.text=fvg.GVf("public010"),e.currGradeLab.text=fvg.GVf("public028",e.vw),e.vw>=e.rw?(e.nextAttrLab.text=fvg.GVf("beauty7"),e.nextGradeLab.text=fvg.GVf("public014")):(e.nextAttrLab.text=App.JP.getArrtbyAttrid(e.kt.attrid,e.vw+1,App.JP.getTaiyiUpgradeArrt),e.nextGradeLab.text=fvg.GVf("public028",e.vw+1)),e.kw=parseInt(e.kt.cost),e.xd=App.FK.hsx(e.kw),e.tq=App.JP.getTaiyiUpgradeNum(e.vw+1)/10;var n,i;if(e.xd<1?(n=Color.KA,i=Color.KA):(n=Color.TX,i=e.xd<e.tq?Color.KA:Color.TX),e.vw>=e.rw)e.upGroup.visible=!1,e.maxLbl.visible=!0,e.upgradeLab.text="--",e.upgradeBtn.icon=null,e.upgradeBtn.icon=null,e.progressBar.value=100,e.expProLab.text="MAX",e.upgradeBtn.icon=e.autoUpgradeBtn.icon=null;else{var r=t["gp_"+(e.wz+1)]||0,a=10*e.tq;e.progressBar.value=int(r/a*100),e.expProLab.text=fvg.GVf("public022",r,a),e.upgradeBtn.icon=e.xd>1?StaticData.GHj:null,e.autoUpgradeBtn.icon=e.xd>=e.tq?StaticData.GHj:null}e.upgradeLab.textFlow=LgRe.OQ(fvg.GVf("458",n,e.xd,1))}}},t.prototype.ff=function(){var e=this,t=XCA.AQS.UFA(36,6,1),n=t?t.p6.split(QycO.XP):[];if(t&&e.qn<=t.maxgrade){var i=e.qn||0,r=e.qn>=t.maxgrade?t.attrid+t.maxgrade:t.attrid+e.qn+1,a=n[i]?parseInt(n[i]):parseInt(n[i-1]);e.gradeLab.textFlow=LgRe.OQ(fvg.GVf("taiyi7",a,Color.KA,e.vw,a)),e.showAttr(e.descLab,r)}},t.prototype.showAttr=function(e,t){var n=XCA.YV(t),i=this.oc[1];if(n&&i){var r=n[i.n]||0;i.mi&&(r=i.p?i.p-r:r,r=(r/10).toFixed(1)),e.text=fvg.GVf("taiyi12",r)}},t.prototype._a=function(){var e=this;return e.vw>e.rw?void MessageTipManager.instance.show(fvg.GVf("taiyi6")):e.xd>=1?void TaiyiMsgProxy.NM(2,e.wz+1):void _JDW.TR(e.kw)},t.prototype.uc=function(){var e=this;return e.vw>e.rw?void MessageTipManager.instance.show(fvg.GVf("taiyi6")):e.xd>=1?void TaiyiMsgProxy.NM(3,e.wz+1):void _JDW.TR(e.kw)},t.prototype.po=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.autoUpgradeBtn),t.autoUpgradeBtn=null,GObj.$d(t.progressBar),t.progressBar=null,GObj.$d(t.expProLab),t.expProLab=null,GObj.$d(t.upgradeLab),t.upgradeLab=null,GObj.$d(t.gradeLab),t.gradeLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.currTypeImg),t.currTypeImg=null,GObj.$d(t.currGradeLab),t.currGradeLab=null,GObj.$d(t.nextGradeLab),t.nextGradeLab=null,GObj.$d(t.currAttrLab),t.currAttrLab=null,GObj.$d(t.nextAttrLab),t.nextAttrLab=null,GObj.$d(t.kt),t.kt=null,GObj.$d(t.skillImg),t.skillImg=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.smaicon1),t.smaicon1=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TaiyiUpgradePopUi.prototype,"TaiyiUpgradePopUi");var TaiyiUpIronPopUi=function(e){function t(){var t=e.call(this,"TaiyiUpIronPopUi")||this,n=RRUU.$s("TaiyiUpIronPopUi");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ye=e[0],n.cr())},t.prototype.initView=function(){var e=this,t=GObj.$c(nlwj);t.tid=StaticData.TID_GOODS_50,e.goodsItem.data=t;var n=t.TSF;n&&(e.dj=n.p1,e.nameLab.text=n.name,e.nameLab.textColor=aKF.DU(n.qua),e.qualityImg.source="framehd_json.framehd_quality_"+n.qua+"_png"),e.descLab.text=fvg.GVf("fashion22"),e.useBtn.label=fvg.GVf("418")},t.prototype.initEvent=function(){var e=this;e.useBtn.addEventListener(eui.tep,e.eh,e),e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xn,e),e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xn,e),e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xn,e),e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.xn,e),vkG.$a(UtJ.YX,e.zb,e)},t.prototype.initData=function(){this.cr()},t.prototype.removeEvent=function(){var e=this;e.useBtn.removeEventListener(eui.tep,e.eh,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.yz,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.yz,e),Nvm.instance.unRegisteEnterFrame(e.ai,e),vkG.$r(UtJ.YX,e.zb,e)},t.prototype.zb=function(){this.em()},t.prototype.eh=function(){var e=this;if(0==e.qk)return void MessageTipManager.instance.show(fvg.GVf("taiyi14"));if(e.li>=e.it)return void MessageTipManager.instance.show(fvg.GVf("fashion24"));var t=App.FK.hsx(StaticData.TID_GOODS_50);t>0?TaiyiMsgProxy.SJ(2,e.ye,e.bl):_JDW.TR(StaticData.TID_GOODS_50)},t.prototype.cr=function(){var e=this;e.CSo&&e.ye&&e.em()},t.prototype.em=function(){var e=this;if(e.qk=App.HL.taiyiInfo["g_"+e.ye]||0,e.li=App.HL.taiyiInfo["gat2_"+e.ye]||0,e.yv=XCA.AQS.UFA(66,e.ye,1),e.yv){var t=0==e.qk?1:e.qk;e.it=e.yv.p3*t||1,e.useedLab.text=fvg.GVf("fashion20",e.li,e.it);var n=App.FK.hsx(StaticData.TID_GOODS_50);e.haveLab.text=fvg.GVf("414",n),e.useBtn.icon=e.qk>0&&e.li<e.it&&n>0?StaticData.GHj:null,e.qk>=e.yv.maxgrade?e.nextUseLab.text=fvg.GVf("skill006"):e.nextUseLab.text=fvg.GVf("fashion21",e.yv.p3*(t+1)),e.bs(),e.useBtn.icon?e.jv=Math.min(n,e.it-e.li):e.jv=1,e.bl=1,e.ae()}},t.prototype.bs=function(){var e=this,t=XCA.YV(e.dj);if(e.attrsLab.text="",t){var n=void 0;for(n in xxf.UK)t[n]&&(e.attrsLab.text+="\n"+fvg.GVf("skill004",xxf.UK[n],t[n]*e.li))}},t.prototype.xn=function(e){var t=this;if(!t.nr){t.nr=!0,t.qx=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.po=10;break;case t.minBtn:t.po=-10;break;case t.addBtn:t.po=1;break;case t.removeBtn:t.po=-1}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.yz,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.yz,t),Nvm.instance.registeEnterFrame(t.ai,t)}},t.prototype.yz=function(e){var t=this;t.nr&&(t.nr=!1,t.qx<10&&(t.bl+=t.po,t.ae()),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.yz,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.yz,t),Nvm.instance.unRegisteEnterFrame(t.ai,t))},t.prototype.ai=function(){var e=this;e.nr&&(e.qx++,e.qx%10==0&&(e.bl+=e.po,e.ae()))},t.prototype.ae=function(){var e=this;e.bl>=e.jv&&(e.bl=e.jv),e.bl<=0&&(e.bl=1),e.countTxt.text=e.bl.toString()},t.prototype.ko=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.useedLab),t.useedLab=null,GObj.$d(t.haveLab),t.haveLab=null,GObj.$d(t.nextUseLab),t.nextUseLab=null,GObj.$d(t.descLab),t.descLab=null,GObj.$d(t.attrsLab),t.attrsLab=null,GObj.$d(t.useBtn),t.useBtn=null,GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TaiyiUpIronPopUi.prototype,"TaiyiUpIronPopUi");var ChapterRankItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("ChapterRankItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ty,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data.rank;3>=t?(e.rankLab.text="",e.rankingImg.source=kLM.TE(t)):(e.rankLab.text=t+"",e.rankingImg.source=""),e.nameLab.text=e.data.name,e.chapterLab.text=e.data.level}},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ty,e)},t.prototype.ty=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankingImg),t.rankingImg=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.chapterLab),t.chapterLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ChapterRankItem.prototype,"ChapterRankItem");var ChapterRankPopUi=function(e){function t(){var t=e.call(this,"ChapterRankPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=ChapterRankItem,e.nameTitle.text=fvg.GVf("task11"),e.rankTitle.text=fvg.GVf("task10"),e.chapterTitle.text=fvg.GVf("task12"),e.frameGroup.title=fvg.GVf("task13"),e.an()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ._O,e.an,e)},t.prototype.initData=function(){this.b_()},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ._O,e.an,e)},t.prototype.an=function(){var e=this;e.datas.source.splice(0,e.datas.source.length);for(var t=App.QA.rankInfo,n=App.QA.rankInfo.length,i=0;n>i;i++){var r=new Object;r.rank=i+1,r.name=t[i].name,r.level=t[i].level,r.diaInfo=t[i].diaInfo,e.datas.source.push(r)}e.rankLab.text=fvg.GVf("task7",App.QA.myrank)},t.prototype.b_=function(){var e=this;e.rn=App.QA.taskVo,e.rn&&e.rn.taskTemplate&&(e.vv=e.rn.taskTemplate.step.split(","),e.chapterLab.text=fvg.GVf("task8",e.vv[0]))},t.prototype.rt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.chapterLab),t.chapterLab=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ChapterRankPopUi.prototype,"ChapterRankPopUi");var TaskHelp=function(){function e(){}return e.VO=function(e,t,n,i){if(i)return App.VS.open(i);switch(e){case 22:return rRcz.TM(),!0;case 24:return App.VS.open(10009),!0;case 4:return App.VS.open(10033),!0;case 27:case 26:case 58:return App.VS.open(10034),!0;case 55:case 5:return App.VS.open(10035),!0;case 7:return rRcz.JW(),!0;case 8:case 9:return rRcz.IV(),!0;case 3:return rRcz.XG(),!0;case 1:var r=App.JO.getActivedActSkills();if(r.length>0&&1==n){var a=GObj.$c(SkillUpgradePopUi);a.loU(r[0]),a.show()}else App.VS.open(10012);return!0;case 44:case 57:return App.VS.open(10012),!0;case 13:case 11:case 48:case 54:return App.VS.open(10013),!0;case 2:return App.VS.open(10003),!0;case 25:return rRcz.FG(),!0;case 30:return App.VS.open(10089),!0;case 31:case 34:return App.VS.open(10093),!0;case 32:case 33:return App.VS.open(10047),!0;case 49:case 85:return App.VS.open(10038),!0;case 40:return App.VS.open(10026),!0;case 23:return App.VS.open(10025),!0;case 35:return App.KF.chapter<25?MessageTipManager.instance.show(fvg.GVf("martialart123")):App.VS.open(10082),!0;case 39:case 41:return App.VS.open(10051),!0;case 50:return App.KF.chapter<25?MessageTipManager.instance.show(fvg.GVf("martialart123")):rRcz.YA(),!0;case 51:return rRcz.QF(),!0;case 12:case 47:return App.VS.open(10122),!0;case 46:return rRcz.IX(),!0;case 87:return App.VS.open(10067),!0;case 43:case 42:case 52:return App.VS.open(10040),!0;case 53:return App.VS.open(10011),!0;case 56:return App.VS.popup(10009,EightDoorsPopUi),!0;case 36:case 59:return App.VS.open(10024),!0;case 60:case 63:return rRcz.openKnight(),!0;case 61:case 62:return rRcz.LR(),!0;case 64:case 65:case 78:return rRcz.openRune(),!0;case 66:return rRcz.VH(),!0;case 67:return rRcz.ZG(),!0;case 70:case 72:case 71:return rRcz.NBK(),!0;case 73:return rRcz.NBK(!0),!0;case 74:case 86:return App.VS.open(10028),!0;case 75:return rRcz.FN(),!0;case 76:return rRcz.ZC(),!0;case 77:return rRcz.YH(),!0;case 80:return App.VS.open(10078),!0;case 81:return rRcz.FJ(),!0;case 79:return App.VS.open(10004),!0;case 82:return App.VS.open(10034),!0;case 29:return rRcz.VH(),!0}return!1},e.UO=function(e,t,n){t>n&&(t=n);var i=QycO.OK;switch(e){case 21:return i="("+t+"/"+n+")";case 22:return i="("+t+"/1)"}return"("+t+"/"+n+")"},e.EI=function(e){App.VS.open(e)},e.OY=function(e){var t,n={},i=1;for(var r in e)if(t=kLM.LF(r),t&&(n["icon"+i]=t,n["count"+i]=e[r],i++,i>2))return n;return n},e.KQ=function(e){for(var t,n={},i=e.p3,r=Nkz.PI(i),a=r.length,o=0;a>o;o++){var s=r[o];t=kLM.PO(s.tid),t&&(n["icon"+o]=t,n["count"+o]=s.count)}return n},e}();__reflect(TaskHelp.prototype,"TaskHelp");var TaskItemView=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TaskItemViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardDesc.text=fvg.GVf(107),e.completeImg.visible=!1,e.cp=parseInt(XCA.CG("addtrial_needcon"))||45},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yo,e),e.submitBtn.addEventListener(eui.tep,e.vp,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yo,e),e.submitBtn.removeEventListener(eui.tep,e.vp,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&e.data.taskTemplate){var t=e.data;e.taskTitleTxt.text=t.taskTemplate.title+TaskHelp.UO(t.taskTemplate.type,t.pro,t.taskTemplate.maxValue),1==t.isComp?(e.submitBtn.visible=!1,e.completeImg.visible=!0):(e.submitBtn.visible=!0,e.completeImg.visible=!1),t.pro>=t.taskTemplate.maxValue?(e.submitBtn.label=fvg.GVf(104),e.submitBtn.bgImg.source="core_json.btn_1_png",e.submitBtn.icon=StaticData.GHj):(e.submitBtn.label=fvg.GVf(103),e.submitBtn.bgImg.source="core_json.btn_2_png",e.submitBtn.icon=null);var n=TaskHelp.OY(t.taskTemplate);if(e.rewardIcon_1.icon=n.icon1?n.icon1:null,e.rewardIcon_1.label=n.icon1?QycO.UQ+n.count1:QycO.OK,e.rewardIcon_2.icon=n.icon2?n.icon2:null,e.rewardIcon_2.label=n.icon2?QycO.UQ+n.count2:QycO.OK,2==t.taskTemplate.taskType){e.rewardIcon_2.x=192,e.rewardIcon_3.x=257,n.icon3=t.taskTemplate.trial?"game_json.trial_png":null,n.count3=n.icon3?t.taskTemplate.trial:0;var i=n.icon3&&App.BG.turnupInfo.grade>=e.cp;e.rewardIcon_3.icon=i?n.icon3:null,e.rewardIcon_3.label=i?QycO.UQ+n.count3:QycO.OK}else e.rewardIcon_2.x=219,e.rewardIcon_3.x=313,e.rewardIcon_3.icon=null,e.rewardIcon_3.label=QycO.OK}},t.prototype.vp=function(e){var t=this;if(t.data)if(t.data.pro>=t.data.taskTemplate.maxValue)App.JA.checkIncome(t.rp,t);else{var n=t.data.taskTemplate;TaskHelp.VO(n.type,n.maxValue,n.taskType,n.vid)}},t.prototype.rp=function(){var e=this;e.data&&(App.BG.isBagFull()||TaskMsgProxy.EJ(e.data.tid))},t.prototype.yo=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.taskTitleTxt),t.taskTitleTxt=null,GObj.$d(t.rewardIcon_1),t.rewardIcon_1=null,GObj.$d(t.rewardIcon_2),t.rewardIcon_2=null,GObj.$d(t.rewardIcon_1),t.rewardIcon_1=null,GObj.$d(t.rewardIcon_2),t.rewardIcon_2=null,GObj.$d(t.submitBtn),t.submitBtn=null,GObj.$d(t.completeImg),t.completeImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TaskItemView.prototype,"TaskItemView");var TaskLeaderView=function(e){function t(){var t=e.call(this,"TaskLeaderView")||this,n=RRUU.$s("TaskLeaderView");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.challengeBtn.label=fvg.GVf(213),e.bossNameLab.text=fvg.GVf("task4"),e.rankTxt.text=fvg.GVf("task13"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer,LoaderManager.instance.load(PATH.OS+"funcskillview.json",e._b,e),e.mv||(e.mv=GObj.$c(FigureView)),e.mv.updatePart(StaticData.AVATAR_BOSS,irK.PART_BODY),e.mv.x=250,e.mv.y=360,e.addChildAt(e.mv,1),e.fightNum=GObj.$c(NumberView),e.fightGroup.addChild(e.fightNum)},t.prototype.initEvent=function(){var e=this;e.challengeBtn.addEventListener(eui.tep,e.od,e),e.rankBtn.addEventListener(eui.tep,e.ey,e),e.sweepBtn.addEventListener(eui.tep,e.su,e),vkG.$a(UtJ.ER,e.mh,e),vkG.$a(UtJ._O,e.dj,e),vkG.$a(UtJ.AW,e.vj,e),vkG.$a(UtJ.PP,e.vj,e)},t.prototype.initData=function(){var e=this;RankMsgProxy.IU(FDG.FW),e.kn=0;var t=XCA.DG(34,1),n=Nkz.PI(t),i=n.length;e.datas.source.length=0;for(var r=0;i>r;r++)e.datas.source.push(n[r]);e.datas.refresh(),e.va(),e.xy(),e.dj(),e.vj(),fNs.instance.execute(hXS.TN,hXS.RZ,e.jbt==e.ja,e.challengeBtn)},t.prototype.vj=function(){var e=this,t=App.MG.carnivalChapterList;if(t){e.wq||(e.wq=GObj.$c(CarnivalTipItem),e.wq.x=20,e.wq.y=220,e.addChild(e.wq),e.wq.addEventListener(eui.tep,e.dp,e));var n=t.bagList[0];if(!n)return;var i=n.rewardList[0];if(!i)return;var r=GObj.$c(nlwj);r.tid=i.tempId,r.count=i.count,e.wq.setData(r,fvg.GVf("task26"),n.totalFinish);for(var a=!1,o=0;o<t.bagList.length;o++){if(2!=t.bagList[o].status){a=!1;break}a=!0}a&&(e.wq.visible=!1,e.rankBg.height=220)}},t.prototype.dp=function(){App.VS.open(10152)},t.prototype.xy=function(){var e=this;e.yy=App.QA.taskVo,e.yy&&e.yy.taskTemplate&&e.yy.taskTemplate.step&&(e.ej=e.yy.taskTemplate.step.split(","),e.titleLab.text=fvg.GVf("task2",e.ej[0])+e.ej[1],e.jbt=parseInt(e.ej[2])||0,e.ja=parseInt(e.ej[3])||1,e.descLab.text=fvg.GVf("task6",e.ej[0]),e.challengeBtn.visible=e.jbt==e.ja?!0:!1,e.descLab.visible=e.jbt!=e.ja?!0:!1,hFO.instance.getNumberView(bRC.UA,e.yy.taskTemplate.detail.toString(),-10,e.fightNum))},t.prototype.va=function(){var e=this;if(e.bn){e.zu={},e.za={},e.kn=0;var t,n;for(n in e.bn)t=e.bn[n],t.checkpoint=n,t.curl&&t.curl.length>0&&(e.zu[n]=t),t.rurl&&t.rurl.length>0&&(e.za[n]=t),e.kn=Math.max(e.kn,parseInt(n));e.bn=null}},t.prototype.dj=function(){for(var e=App.QA.rankInfo,t=App.QA.rankInfo.length,n=0;t>n&&3>n;n++)this["rankLab_"+(n+1)].text=fvg.GVf("task24",n+1,fvg.GVf("task5",e[n].level)),this["rankNameLab_"+(n+1)].text=e[n].name},t.prototype.removeEvent=function(){var e=this;e.challengeBtn&&e.challengeBtn.removeEventListener(eui.tep,e.od,e),e.rankBtn.removeEventListener(eui.tep,e.ey,e),e.sweepBtn.removeEventListener(eui.tep,e.su,e),e.wq&&e.wq.removeEventListener(eui.tep,e.dp,e),vkG.$r(UtJ.ER,e.mh,e),vkG.$r(UtJ._O,e.dj,e),vkG.$r(UtJ.AW,e.vj,e),vkG.$r(UtJ.PP,e.vj,e)},t.prototype.mh=function(){var e=this;e.zu&&e.za&&(App.KF.chapter>e.kn?e.dispose():e.ys())},t.prototype._b=function(e){var t=this;t.destory||e&&e.data&&(t.bn=e.data,t.initData(),App.KF.chapter<=t.kn&&t.ys())},t.prototype.ys=function(){for(var e,t=this,n=App.KF.chapter,i=n;i<=t.kn;i++)if(t.za[i]){e=t.za[i];break}if(e){var r=gLw.GM(e.sid),a=GObj.$c(nlwj);a.tid=e.sid,t.skillItem.data=a,t.activationLab.text=fvg.GVf("task3",e.checkpoint),t.nameLab.text=e.desc,t.nameLab.textColor=aKF.DU(r)}else t.skillItem.visible=!1,t.activationLab.visible=!1,t.nameLab.visible=!1},t.prototype.od=function(e){var t=this;if(t.yy.taskTemplate&&App.UY.isCanSwitc()){var n=t.yy.taskTemplate.tar||1;App.VS.closeAll(),SceneManager.instance.enter(n)}},t.prototype.ey=function(e){var t=GObj.$c(ChapterRankPopUi);t.show()},t.prototype.su=function(e){App.VS.popup(10050,KqZ.QWM)},t.prototype.rf=function(){this.sweepBtn.icon=UsU.EQ()?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),fNs.instance.execute(hXS.TN,hXS.YL),GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.activationLab),t.activationLab=null,GObj.$d(t.skillItem),t.skillItem=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.bossNameLab),t.bossNameLab=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.rankLab_1),t.rankLab_1=null,GObj.$d(t.rankLab_2),t.rankLab_2=null,GObj.$d(t.rankLab_3),t.rankLab_3=null,GObj.$d(t.fightNum),t.fightNum=null,GObj.$d(t.wq),t.wq=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.rankNameLab_1),t.rankNameLab_1=null,GObj.$d(t.rankNameLab_2),t.rankNameLab_2=null,GObj.$d(t.rankNameLab_3),t.rankNameLab_3=null,GObj.$d(t.rankBg),t.rankBg=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.mv),t.mv=null,t.yy=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(TaskLeaderView.prototype,"TaskLeaderView");var BossHomeBossItem=function(e){function t(){var t=e.call(this)||this;return t.gs=3,t.ii=!1,t.gq=0,t.skinName=RRUU.$s("BossHomeBossItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yc,e),vkG.$a(UtJ.CH,e.jx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yc,e),vkG.$r(UtJ.CH,e.jx,e)},t.prototype.jx=function(e){var t=this;if(t.data){var n=t.data;!n.TSF||e&&e.indexOf(n.tid)<0||(CondHelp.WC(n.TSF.con,n.TSF.conval)?(t.ii=!0,t.maskImg.visible=!1):(t.ii=!1,t.maskImg.visible=!0),t.proBar.value=n.h,t.proLab.text=n.h+"%")}},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;if(t.TSF){e.jx(null),e.bossNameLab.text=t.TSF.name,e.headIcon.source=kLM.VJ(t.TSF.icon);var n=App.JP.getTurnupGrade(t.TSF.conval);e.bossturn.source="bosshome_json.bosshome_turn_"+n+"_png"}}},t.prototype.yc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.bossNameLab),t.bossNameLab=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.maskImg),t.maskImg=null,GObj.$d(t.bossturn),t.bossturn=null,GObj.$d(t.proBar),t.proBar=null,GObj.$d(t.proLab),t.proLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BossHomeBossItem.prototype,"BossHomeBossItem");var BossHomeFloorItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("BossHomeFloorItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.xb=function(){var e=this;GObj.$d(e.iconView),e.iconView=null},t.prototype.initEvent=function(){var e=this;e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.hr,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.hr,e)},t.prototype.initData=function(){var e=this;e.dataChanged(),e.invalidateState()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=t[0];if(n){var i=App.MB.getBossHomeFloorByTid(n.tid),r=App.MB.bossHomeSvipLimit[i-1];e.iconView.source=kLM.TZ(i),e.svipLab.text=fvg.GVf("bosshome_5",r),App.XT.vipInfo.vipGrade>=r&&(e.svipLab.text="")}}},t.prototype.hr=function(){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.xb(),GObj.$d(t.svipLab),t.svipLab=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(BossHomeFloorItem.prototype,"BossHomeFloorItem");var BossHomeView=function(e){function t(){var t=e.call(this,"BossHomeView")||this;return t.um=!1,t.pd=!1,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;ziI.MF("BossHomeView"),e.floorDatas=GObj.$c(eui.ArrayCollection),e.floorGroup.dataProvider=e.floorDatas,e.floorGroup.itemRenderer=BossHomeFloorItem,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.bossDatas=GObj.$c(eui.ArrayCollection),e.bossGroup.dataProvider=e.bossDatas,e.bossGroup.itemRenderer=BossHomeBossItem,e.firstDescLab.text=fvg.GVf("bosshome_4"),e.challengeBtn.label=fvg.GVf("37"),e.autoLab1.text=fvg.GVf("bosshome_1"),e.autoLab2.text=fvg.GVf("bosshome_2"),e.rewardLab.text=fvg.GVf("bosshome_3"),e.ak=GObj.$c(FigureBattleView),e.ak.x=320,e.ak.y=480,e.ak.scaleX=.8,e.ak.scaleY=.8,e.ak.setAction(irK.ACTION_STAND),e.ak.direction8=irK.B_B,e.addChild(e.ak)},t.prototype.initEvent=function(){var e=this;e.floorGroup.addEventListener(egret.Event.CHANGE,e.ud,e),e.floorGroup.addEventListener(egret.Event.CHANGING,e.mx,e),e.bossGroup.addEventListener(egret.Event.CHANGE,e.cz,e),e.bossGroup.addEventListener(egret.Event.CHANGING,e.dm,e),e.challengeBtn.addEventListener(eui.tep,e.mi,e),e.autoBtn.addEventListener(eui.tep,e.ei,e),e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.tt,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.nj,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.nk,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.p_,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ev,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.nc,e),vkG.$a(HUtJ.HEARTBEAT,e.ed,e)
},t.prototype.removeEvent=function(){var e=this;e.floorGroup.removeEventListener(egret.Event.CHANGE,e.ud,e),e.floorGroup.removeEventListener(egret.Event.CHANGING,e.mx,e),e.bossGroup.removeEventListener(egret.Event.CHANGE,e.ud,e),e.bossGroup.removeEventListener(egret.Event.CHANGING,e.mx,e),e.challengeBtn.removeEventListener(eui.tep,e.mi,e),e.autoBtn.removeEventListener(eui.tep,e.ei,e),e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.tt,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.nj,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.nk,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.p_,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ev,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.nc,e),vkG.$r(HUtJ.HEARTBEAT,e.ed,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=App.MB.bossHomeList,i=0,r=0;if(n){var a=(new Array,t.floorDatas.source),o=App.MB.getBestHomeBossId();if(n)for(var s=n.length,p=void 0,l=void 0,c=void 0,u=0;s>u;u++)p=n[u],l=App.MB.getBossHomeFloorByTid(p.tid)-1,c=a[l],c||(c=new Array,a[l]=c),c.push(p),p.tid===o&&(i=l+1,r=c.length);t.floorDatas.source=a}t.floorDatas.refresh(),t.floorGroup.selectedIndex=(App.MB.bossHomeFloor||i)-1,t.bossGroup.selectedIndex=(App.MB.bossHomeIndex||r)-1,App.MB.bossHomeFloor=0/0,App.MB.bossHomeIndex=0/0,t.ud()},t.prototype.dd=function(){var e=this;if(e.CSo&&(e.ko=e.bossGroup.selectedItem,e.ko)){e.nameImg.source=kLM.BBF(e.ko.TSF.tid+""),e.rewardData.source.length=0,e.firstNameLab.text=usable(e.ko.fn)?e.ko.fn:fvg.GVf("462");var t=e.ko.TSF.res;usable(t)&&e.ak.updatePart(t);var n=XCA.DG(3,e.ko.tid);if(usable(n)){var i=Nkz.PI(n);e.rewardData.replaceAll(i),e.autoBtn.selected=e.ko.tid===App.MB.bossHomeAutoTid,e.ed()}}},t.prototype.mi=function(){var e=this;if(e.ko&&e.vb(e.ko)&&e.qc(e.ko)){if(e.ko.h<=0)return void MessageTipManager.instance.show(fvg.GVf(214));if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf(24,StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);if(e.ko&&e.ko.TSF){App.MB.bossHomeFloor=e.floorGroup.selectedIndex+1,App.MB.bossHomeIndex=e.bossGroup.selectedIndex+1,App.VS.closeAll();var t=e.ko.TSF.mapid;App.VS.enterMapOpenUI(t,10161,null,!1),App.UY.enter(t)}}}},t.prototype.ei=function(){var e=this;if(e.ko)return App.DE.supremeCardVO.isMonth?void(e.autoBtn.selected&&Alert.WK(fvg.GVf("bosshome_8"),null,Alert.EX|Alert.HE,e.on,e)):(e.autoBtn.selected=!1,void msgTip(fvg.GVf("bosshome_6")))},t.prototype.on=function(){var e=this;App.MB.bossHomeAutoTid=e.autoBtn.selected?e.ko.tid:0,CampaignMsgProxy.CF(App.MB.bossHomeAutoTid),App.MB.autoEnterBossHome()},t.prototype.ed=function(){var e=this,t=e.ko;if(t){e.ep=t.atktime-App.NN.serverSecond+5;var n=e.qc(t,!1);if(e.challengeBtn.icon=e.ep<=0&&n?StaticData.GHj:null,e.ep<0)return e.ep=0,n?(e.revivalTxt.text="",e.challengeBtn.visible=!0):(e.revivalTxt.text=fvg.GVf("purgatory44",App.JP.getTurnupGrade(t.TSF.conval)),e.challengeBtn.visible=!1),void(t.h<=0&&(t.h=100,vkG.$d(UtJ.CH)));e.challengeBtn.visible=!1,e.revivalTxt.text=fvg.GVf(211,kpd.HE(e.ep))}},t.prototype.tt=function(){var e=this;if(e.um){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.um=!1,void(e.leftBtn.visible=!1);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.visible=!0)}},t.prototype.nj=function(e){this.um=!0},t.prototype.nk=function(e){this.um=!1},t.prototype.p_=function(){var e=this;if(e.pd){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.pd=!1,void(e.rightBtn.visible=!1);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.visible=!0)}},t.prototype.ev=function(e){this.pd=!0},t.prototype.nc=function(e){this.pd=!1},t.prototype.ud=function(){var e=this;egret.Tween.removeTweens(e),egret.Tween.removeTweens(e.itemScroller),e.bossDatas.source=e.floorGroup.selectedItem,e.dd(),egret.Tween.get(e).wait(200).call(e.jx,e)},t.prototype.jx=function(){var e=this;if(!e.destory){var t=138*Math.floor(e.floorGroup.selectedIndex);t=Math.min(t,Math.max(e.itemScroller.viewport.contentWidth-e.itemScroller.width,0)),t!=e.floorGroup.scrollH&&egret.Tween.get(e.floorGroup).to({scrollH:t},100)}},t.prototype.mx=function(e){var t=this,n=t.floorDatas.source[t.floorGroup.selectedIndex];if(n){var i=n[0];t.vb(i)||e.preventDefault()}},t.prototype.cz=function(){this.dd()},t.prototype.dm=function(e){var t=this,n=t.bossDatas.source[t.bossGroup.selectedIndex];t.qc(n)||e.preventDefault()},t.prototype.vb=function(e,t){void 0===t&&(t=!0);var n=App.MB.getBossHomeFloorByTid(e.tid),i=App.MB.bossHomeSvipLimit[n-1];return App.XT.vipInfo.vipGrade<i?(t&&msgTip(fvg.GVf("public069",i)),!1):!0},t.prototype.qc=function(e,t){if(void 0===t&&(t=!0),!CondHelp.WC(e.TSF.con,e.TSF.conval)){var n=App.JP.getTurnupGrade(e.TSF.conval);return t&&msgTip(fvg.GVf("purgatory44",n)),!1}return!0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameImg),t.nameImg=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.floorGroup&&(t.floorGroup.dataProvider=null,GObj.$d(t.floorGroup)),t.floorGroup=null,t.bossGroup&&(t.bossGroup.dataProvider=null,GObj.$d(t.bossGroup)),t.bossGroup=null,t.bossDatas=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,GObj.$d(t.firstDescLab),t.firstDescLab=null,GObj.$d(t.ak),t.ak=null,GObj.$d(t.autoBtn),t.autoBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(BossHomeView.prototype,"BossHomeView");var DecisiveBattleYmgView=function(e){function t(){var t=e.call(this,"DecisiveBattleYmgView")||this;return t.dx=0,t.we=0,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e._itemArr=[],e.descLab1.text=fvg.GVf("teamcopy2"),e.intoBtn.label=fvg.GVf("teamcopy4"),e.topLab.text=fvg.GVf("teamcopy8","--"),e.recordLab.text=fvg.GVf("teamcopy9","--"),e.recordNameTxt.text="",e.challengeLab.text=fvg.GVf("teamcopy5"),e.sweepBtn.label=fvg.GVf("raid7"),e.dropTxt.text=fvg.GVf("teamcopy44"),e.gx=parseInt(XCA.CG(IDU.FM))||0,e.lh=fvg.GVf("teamcopy31"),e.cl(),e.timeLab.text=e.lh+kpd.HE(e.we),App.KF.chapter<StaticData.TEAM_YMG_CH?e.conLab.text=fvg.GVf("public044",StaticData.TEAM_YMG_CH):e.conLab.parent&&e.conLab.parent.removeChild(e.conLab),rRcz.SS(73,!1)||(e.sweepBtn.visible=e.myMvpLab.visible=!1,e.intoBtn.x=185),e.dp(),e.qp()},t.prototype.cl=function(){var e=this,t=App.NN.date;e.we=86400-3600*t.getHours()-60*t.getMinutes()-t.getSeconds(),e.we=e.we%43200},t.prototype.initEvent=function(){var e=this;e.intoBtn.addEventListener(eui.tep,e.nj,e),e.findBtn.addEventListener(eui.tep,e.hw,e),e.sweepBtn.addEventListener(eui.tep,e.no,e),vkG.$a(UtJ.LO,e.lr,e),vkG.$a(UtJ.TT,e.ec,e),vkG.$a(HUtJ.HEARTBEAT,e.xr,e),vkG.$a(UtJ.YJ,e.qp,e)},t.prototype.removeEvent=function(){var e=this;e.intoBtn.removeEventListener(eui.tep,e.nj,e),e.findBtn.removeEventListener(eui.tep,e.hw,e),e.sweepBtn.removeEventListener(eui.tep,e.no,e),vkG.$r(UtJ.LO,e.lr,e),vkG.$r(UtJ.TT,e.ec,e),vkG.$r(HUtJ.HEARTBEAT,e.xr,e),vkG.$r(UtJ.YJ,e.qp,e)},t.prototype.qp=function(){this.findBtn.visible=!IoG.EZ()},t.prototype.xr=function(){var e=this;if(e.we--,e.we<=0){var t=App.MB.numDict[22]||0;App.MB.numDict[22]=t+1,e.cl(),e.lr()}else e.timeLab.text=e.lh+kpd.HE(e.we)},t.prototype.ec=function(e){var t=this;if(e&&FDG.BT==e.type&&e.list&&e.list.length>0){var n=e.list[0];n&&(t.topLab.text=fvg.GVf("teamcopy8",n.score),t.recordLab.text=fvg.GVf("teamcopy9",""),t.recordNameTxt.text=n.name)}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),RankMsgProxy.IU(FDG.BT),t.ec(App.PV.getData(FDG.BT));for(var n,i=XCA.DG(22,1),r=Nkz.PI(i),a=r.length,o=0;a>o;o++)n=t._itemArr[o],n||(t._itemArr[o]=n=GObj.$c(GoodsItemView)),n.data=r[o],t.itemGroup.addChild(n);for(a=t._itemArr.length;a>o;o++)n=t._itemArr[o],n&&n.parent&&n.parent.removeChild(n);t.lr(),1===App.UY.sceneType&&TeamCopyMsgProxy.BR(),fNs.instance.execute(hXS.WY,hXS.RZ,t.intoBtn)},t.prototype.lr=function(){var e=this;e.dx=App.MB.getNumByType(22),e.numLab.text=e.dx+QycO.XN+2,e.myRankLab.text=fvg.GVf("teamcopy33",App.MB.ymgRecord),e.myMvpLab.text=fvg.GVf("teamcopy40",App.MB.ymgMvpRecord),UsU.MO()?e.intoBtn.icon=StaticData.GHj:e.intoBtn.icon=null,e.dp()},t.prototype.nj=function(e){if(this.dx<=0)return void Alert.WK(fvg.GVf("26"),null,Alert.EX);if(App.UY.isCanSwitc()){if(App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE)return void Alert.WK(fvg.GVf("24",StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK);var t=XCA.GW(22);if(!t)return void errorNull("CampaignTemplate type 22");if(!CondHelp.WC(t.con,t.conval))return void Alert.WK(CondHelp.AH(t.con,t.conval),null,Alert.EX);TaskBar.instance.autoTaskState=!1,TeamCopyMsgProxy.EK(t.mapid);var n=GObj.$c(TeamMatchPopUi);n.show()}},t.prototype.hw=function(){var e=this;return 0==e.mx?void MessageTipManager.instance.show(fvg.GVf("teamcopy36")):void Alert.WK(fvg.GVf("teamcopy35",e.gx),null,null,e.dy,e)},t.prototype.dy=function(){App.BG.isPointEnough(this.gx)&&(App.TT.show(fvg.GVf("campaign2")),TeamCopyMsgProxy.IE(1))},t.prototype.no=function(e){return App.MB.ymgMvpRecord<=0?void Alert.WK(fvg.GVf("teamcopy41"),void 0,Alert.EX):this.dx<=0?void Alert.WK(fvg.GVf("26"),null,Alert.EX):App.BG.emptyEquipBagSize<StaticData.CHECK_BAG_SIZE?void Alert.WK(fvg.GVf("24",StaticData.CHECK_BAG_SIZE),null,null,App.FK.UrC,App.FK):void TeamCopyMsgProxy.IE(3)},t.prototype.dp=function(){var e=App.MB.numDict.count||0;this.mx=e},t.prototype.dispose=function(){var t=this;if(fNs.instance.execute(hXS.WY,hXS.YL),t.removeEvent(),t._itemArr){for(var n=t._itemArr.length,i=0;n>i;i++)GObj.$d(t._itemArr[i]);t._itemArr.length=0,t._itemArr=null}GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.intoBtn),t.intoBtn=null,GObj.$d(t.challengeLab),t.challengeLab=null,GObj.$d(t.numLab),t.numLab=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.recordNameTxt),t.recordNameTxt=null,GObj.$d(t.dropTxt),t.dropTxt=null,GObj.$d(t.findBtn),t.findBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(DecisiveBattleYmgView.prototype,"DecisiveBattleYmgView");var PalaceBossView=function(e){function t(){var t=e.call(this,"PalaceBossView")||this;return ziI.MF("gmd"),t.skinName=RRUU.$s("PalaceBossView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.gotoBtn.label=fvg.GVf("pboss1"),e.outputBtn.label=fvg.GVf("skill033"),e.descTxt.text=fvg.GVf("pboss5"),e.dropTxt.text=fvg.GVf("teamcopy44"),e.dropData=GObj.$c(eui.ArrayCollection),e.dropGroup.dataProvider=e.dropData,e.dropGroup.itemRenderer=GoodsItemRenderer,e.goodItem.showNumTxt=!1,e.smaicon.goodsTid=StaticData.KILL_BOSS_TOKEN},t.prototype.initEvent=function(){var e=this;e.gotoBtn.addEventListener(eui.tep,e.iu,e),e.outputBtn.addEventListener(eui.tep,e.tu,e),e.addBtn.addEventListener(eui.tep,e.qt,e),vkG.$a(UtJ.DV,e.re,e),vkG.$a(UtJ.JI,e.mg,e),vkG.$a(UtJ.YJ,e.kp,e)},t.prototype.removeEvent=function(){var e=this;e.gotoBtn.removeEventListener(eui.tep,e.iu,e),e.outputBtn.removeEventListener(eui.tep,e.tu,e),e.addBtn.removeEventListener(eui.tep,e.qt,e),vkG.$r(HUtJ.HEARTBEAT,e.fp,e),vkG.$r(UtJ.DV,e.re,e),vkG.$r(UtJ.JI,e.mg,e),vkG.$r(UtJ.YJ,e.kp,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.tj()},t.prototype.kp=function(){this.addBtn.visible=!IoG.EZ()},t.prototype.tj=function(){var e=this;e.ft(),e.qs(),e.lu(),e.kp()},t.prototype.ft=function(){var e=this,t=App.MB.pbInfo.week||1,n=XCA.DG(55,t),i=Nkz.PI(n);e.dropData.source.length=0;for(var r=0;r<i.length;r++)e.dropData.source.push(i[r]);e.dropData.refresh();var a=XCA.DG(57,t),o=Nkz.PI(a);o.length>0?e.goodItem.data=o[0]:e.goodItem.data=null;var s=App.MB.pbInfo.bigNames,p=s.length;if(e.namesTxt.text="",p>0)for(var l=0;p>l;l++)e.namesTxt.text+=s[l],s[l+1]&&(e.namesTxt.text+="\n");else e.namesTxt.text=fvg.GVf("462")},t.prototype.qs=function(){var e=this;e.lj=App.MB.pbInfo.openInfo,e.lj&&(e.ny=1,vkG.$a(HUtJ.HEARTBEAT,e.fp,e),e.fp())},t.prototype.fp=function(){var e=this,t=App.NN.date,n=0;if(e.xs=3600*t.getHours()+60*t.getMinutes()+t.getSeconds(),e.xs<e.lj.st)e.ny=1,n=int(e.lj.st-e.xs),e.timeTxt.text=fvg.GVf("pboss3",kpd.YW(n));else if(e.xs>=e.lj.st&&e.xs<e.lj.st+e.lj.ct)e.ny=2,n=int(e.lj.st+e.lj.ct-e.xs),e.timeTxt.text=fvg.GVf("pboss4",kpd.YW(n));else{if(1!=e.ny)return void e.qs();e.ny=1,n=int(86400-e.xs+e.lj.st),e.timeTxt.text=fvg.GVf("pboss3",kpd.YW(n))}2==e.ny?(e.gotoBtn.visible=!0,e.timeTxt.textColor=Color.SQ,e.timeTxt.y=610):(e.gotoBtn.visible=!1,e.timeTxt.textColor=Color.KA,e.timeTxt.y=620)},t.prototype.lu=function(){var e=this,t=App.FK.hsx(StaticData.KILL_BOSS_TOKEN);e.haveTxt.text=fvg.GVf("pboss2",t),e.gotoBtn.icon=UsU.XI()?StaticData.GHj:null},t.prototype.re=function(e){this.lu()},t.prototype.mg=function(){this.ft()},t.prototype.iu=function(e){return 2!=this.ny?void App.TT.show(fvg.GVf("pboss29")):void(App.UY.isCanSwitc()&&(App.VS.closeAll(),App.VS.enterMapOpenUI(StaticData.PALACE_BOSS_MAP_ID,10039,void 0,!1,1),App.UY.enter(StaticData.PALACE_BOSS_MAP_ID)))},t.prototype.tu=function(e){_JDW.TR(StaticData.KILL_BOSS_TOKEN)},t.prototype.qt=function(e){var t=this,n=App.MB.pbInfo.max_buy_count,i=App.MB.pbInfo.last_buy_count;Alert.WK(fvg.GVf("pboss6",App.MB.pbInfo.kill_boss_token_point,i,n),void 0,void 0,t.vc,t)},t.prototype.vc=function(){if(App.MB.pbInfo.last_buy_count<=0)return void App.TT.show(fvg.GVf("304"));var e=App.MB.pbInfo.kill_boss_token_point;return e>App.KF.point?void _JDW.TR(StaticData.TID_POINT_ID):void ziI.JZ()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.outputBtn),t.outputBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.dropTxt),t.dropTxt=null,GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.smaicon),t.smaicon=null,t.dropGroup&&(t.dropGroup.dataProvider=null,GObj.$d(t.dropGroup)),t.dropGroup=null,t.dropData=null,t.lj=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(PalaceBossView.prototype,"PalaceBossView");var TeamMatchFrame=function(e){function t(){var t=e.call(this,"TeamMatchFrame")||this;return t._c=3,t.ee=3,t.de=1,t._n=0,t.mw=0,t.skinName=RRUU.$s("TeamMatchFrame"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.titleLab.text=fvg.GVf("teamcopy12"),e.waitLab.text=fvg.GVf("teamcopy13",0),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRendererSkinName=RRUU.$s("TeamMatchFrameSkin");for(var t=0;t<e._c;t++){var n={};0==t&&(n.name=App.KF.name,n.fc=fvg.GVf("teamcopy15",App.BG.playerAttrsInfo.cap),n.icon=kLM.JU(App.KF.sex,App.KF.currentHead,1)),e.datas.source[t]=n}},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.wd=function(e){var t=this;if(t.de=1,e){var n=e.length,i=t.datas.source.length;n>i&&(n=i),t.de=n;for(var r=0;n>r;r++){var a=e[r],o=t.datas.source[r];o||(o=t.datas.source[r]={}),o.fc=fvg.GVf("teamcopy15",a.fc),o.icon=kLM.JU(a.sex,a.icon,1),o.name=a.name,t.datas.source[r]=o}for(;i>r;r++)t.datas.source[r]=null;t.datas.refresh(),t.de>=t._c&&(t.mw=t.ee,t.waitLab.text=fvg.GVf("teamcopy27",t.mw))}},t.prototype.qk=function(){var e=this;return e._n+=1,e.de>=e._c?(e.mw-=1,e.mw<0&&(e.mw=0),void(e.waitLab.text=fvg.GVf("teamcopy27",e.mw))):void(e.waitLab.text=fvg.GVf("teamcopy13",e._n))},t.prototype.__enterHandler=function(){var e=XCA.GW(22);return e?(App.UY.enter(e.mapid),GObj.$d(this),void App.VS.closeAll()):void errorNull("CampaignTemplate type 22")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.XL,e.wd,e),vkG.$a(HUtJ.HEARTBEAT,e.qk,e),vkG.$a(UtJ.AB,e.__enterHandler,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.XL,e.wd,e),vkG.$r(HUtJ.HEARTBEAT,e.qk,e),vkG.$r(UtJ.AB,e.__enterHandler,e)},t.prototype.je=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleLab),t.titleLab=null,GObj.$d(t.waitLab),t.waitLab=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TeamMatchFrame.prototype,"TeamMatchFrame");var TeamMatchPopUi=function(e){function t(){var t=e.call(this,"TeamMatchPopUi")||this;return t.nyy=3,t.ae=3,t.cx=1,t.wp=0,t.iz=0,t.skinName=RRUU.$s("TeamMatchPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("teamcopy12"),e.waitLab.text=fvg.GVf("teamcopy13",0),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRendererSkinName=RRUU.$s("TeamMatchFrameSkin");for(var t=0;t<e.nyy;t++){var n={};0==t&&(n.name=App.KF.name,n.fc=fvg.GVf("teamcopy15",App.BG.playerAttrsInfo.cap),n.icon=kLM.JU(App.KF.sex,App.KF.currentHead,1)),e.datas.source[t]=n}e.isOpenCloseTip=!1},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.RX,alvJ.LR)},t.prototype.rm=function(e){var t=this;if(t.cx=1,e){var n=e.length,i=t.datas.source.length;n>i&&(n=i),t.cx=n;for(var r=0;n>r;r++){var a=e[r],o=t.datas.source[r];o||(o=t.datas.source[r]={}),o.fc=fvg.GVf("teamcopy15",a.fc),o.icon=kLM.JU(a.sex,a.icon,1),o.name=a.name,t.datas.source[r]=o}for(;i>r;r++)t.datas.source[r]=null;t.datas.refresh(),t.cx>=t.nyy&&(t.iz=t.ae,t.waitLab.text=fvg.GVf("teamcopy27",t.iz))}},t.prototype.vv=function(){var e=this;return e.wp+=1,e.cx>=e.nyy?(e.iz-=1,e.iz<0&&(e.iz=0),void(e.waitLab.text=fvg.GVf("teamcopy27",e.iz))):void(e.waitLab.text=fvg.GVf("teamcopy13",e.wp))},t.prototype.vz=function(){var e=XCA.GW(22);return e?(App.UY.enter(e.mapid),GObj.$d(this),void App.VS.closeAll()):void errorNull("CampaignTemplate type 22")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.XL,e.rm,e),vkG.$a(HUtJ.HEARTBEAT,e.vv,e),vkG.$a(UtJ.AB,e.vz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.XL,e.rm,e),vkG.$r(HUtJ.HEARTBEAT,e.vv,e),vkG.$r(UtJ.AB,e.vz,e)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.waitLab),t.waitLab=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TeamMatchPopUi.prototype,"TeamMatchPopUi");var SkillSpecialPopUI=function(e){function t(){var t=e.call(this)||this;return t.ks=GObj.$c(nlwj),t}return __extends(t,e),t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.upBtn.addEventListener(eui.tep,t.aq,t),t.gradeTxt.addEventListener(egret.TextEvent.LINK,t.db,t),vkG.$a(UtJ.XY,t.mv,t),vkG.$a(UtJ.DV,t.mv,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.upBtn.removeEventListener(eui.tep,t.aq,t),t.gradeTxt.removeEventListener(egret.TextEvent.LINK,t.db,t),vkG.$r(UtJ.XY,t.mv,t),vkG.$r(UtJ.DV,t.mv,t)},t.prototype.loU=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this;t&&t.length>0&&(i._skillVo=t[0]),e.prototype.loU.call(this,i._skillVo)},t.prototype.updateView=function(){var e=this;e.title=fvg.GVf("imm10"),e.currLab.text=fvg.GVf("imm133"),e.upBtn.label=fvg.GVf("imm06"),e.costGroup.visible=!1,e.nextGroup.visible=!1,e.gradeTxt.touchEnabled=!0},t.prototype.updateData=function(){var e=this,t=App.JS.getRetinueSkillInfoByType(e._skillVo.immType);0==e.zg&&t.retinueSkill[e._skillVo.index]>e.zg&&msgTip(fvg.GVf("imm04")),e.zg=t.retinueSkill[e._skillVo.index]||0;var n=gLw.RO(e._skillVo.skillTemp.tid);e.itemIcon.icon=kLM.XX(e._skillVo.immType,n),e.ks.tid=parseInt(e._skillVo.skillTemp.cost);var i;i=e.ks.tid==StaticData.TID_GOODS_86?"imm134":e.ks.tid==StaticData.TID_GOODS_87?"imm130":e.ks.tid==StaticData.TID_GOODS_88?"imm135":"imm136",e.gradeTxt.textFlow=LgRe.OQ(fvg.GVf(i,e.ks.name)),e.zg>0&&(e.gradeTxt.text=""),e.currAttrLab.textFlow=LgRe.OQ(e._skillVo.skillTemp.desc);var i=0==e.zg?fvg.GVf("public010"):"";if(e.skillName.text=e._skillVo.skillTemp.name+i,e.capLabel.text=fvg.GVf("imm07"),e.upBtn.visible=0==e.zg,IoG.EZ()&&(e.upBtn.visible=!1,e.gradeTxt.visible=!1),e.upBtn.visible){var r=parseInt(e._skillVo.skillTemp.cost),a=App.FK.getGoodsIdByTid(r)>0;a?(e.upBtn.label=fvg.GVf("imm06"),e.upBtn.icon=StaticData.GHj):(e.upBtn.label=fvg.GVf("imm08"),e.upBtn.icon=""),e.kp()}},t.prototype.mv=function(){this.updateData()},t.prototype.aq=function(e){var t=this;if(t.zg>=MaxLevel.IMM_SKILL_MAX_LEVEL)return void msgTip(fvg.GVf("imm02"));var n=parseInt(t._skillVo.skillTemp.cost),i=App.FK.getGoodsIdByTid(n)>0;if(i){var r=gLw.IQ(t._skillVo.skillTemp.tid);RetinueMsgProxy.BB(t._skillVo.skillType,r)}else App.VS.open(10088)},t.prototype.db=function(){App.FK.showGoodsDetails(this.ks)},t.prototype.kp=function(){var e=this;e.upBtn.icon=UsU.BU(e._skillVo.immType,e._skillVo.index,e._skillVo.skillTemp)?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;GObj.$d(t.ks),t.ks=null,t.removeEvent(),e.prototype.dispose.call(this)},t}(BaseTipsPopUI);__reflect(SkillSpecialPopUI.prototype,"SkillSpecialPopUI");var SkillTipsPopUi=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.loU=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this;t&&t.length>0&&(i._skillVo=t[0]),e.prototype.loU.call(this,i._skillVo)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.upBtn.addEventListener(eui.tep,t.ad,t),vkG.$a(UtJ.XY,t.dk,t),vkG.$a(UtJ.DV,t.dk,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.upBtn.removeEventListener(eui.tep,t.ad,t),vkG.$r(UtJ.XY,t.dk,t),vkG.$r(UtJ.DV,t.dk,t)},t.prototype.updateView=function(){var e=this;e.title=e.getTitleByMastype(e._skillVo.immType),e.currLab.text=fvg.GVf("imm37"),e.nextLab.text=fvg.GVf("imm36")},t.prototype.updateData=function(){var e=this,t=(e._skillVo.skillType,e._skillVo.index);e.im=e._skillVo.immType,e.vo=e._skillVo.skillTemp;var n=App.JS.getRetinueSkillInfoByType(e.im);e.er=n.retinueSkill[t]||0,e.er&&n.retinueSkill[t]>e.er?msgTip(fvg.GVf("imm03")):0==e.er&&n.retinueSkill[t]>e.er&&msgTip(fvg.GVf("imm04"));var i=gLw.RO(e.vo.tid);e.itemIcon.icon=kLM.XX(e.im,i);var r=e.vo.attrid,a=XCA.YV(r+e.er),o=!0;e.currAttrLab.textFlow=LgRe.OQ(e.cw(a));var s=XCA.YV(r+e.er+1);s?e.nextAttrLab.textFlow=LgRe.OQ(e.cw(s)):(e.nextAttrLab.text=fvg.GVf("imm02"),e.nextAttrLab.textColor=Color.TX);var p=e.er>0?fvg.GVf("imm26",e.er):"";e.skillName.text=e.vo.name+p;var l=App.BC.getModuleName(e._skillVo.skillType);e.costGroup.visible=e.er>0&&o,e.upBtn.visible=o,e.upBtn.label=e.er>0?fvg.GVf("public008"):fvg.GVf("public012"),e.er>0&&(e.hs=App.JP.getImmUpSkillCount(e.vo,e.er),e.vm=GxD.instance.hsx(parseInt(e.vo.cost))||0,e.costTxt.text=fvg.GVf("public022",e.vm,e.hs),e.costTxt.textColor=e.vm>=e.hs?Color.TX:Color.KA,e.costImg.goodsTid=parseInt(e.vo.cost));var c=e.er>0?"imm51":"imm50",u=App.JS.getNeedGrade(e.er+1,e.vo);e.gradeTxt.text=fvg.GVf(c,l,Math.ceil(u/10)),e.gradeTxt.visible=u?!0:!1,e.capLabel.text=e.er>0?fvg.GVf("smelting6",a.p1||0):"",e.lvLabel.text=fvg.GVf("imm14",e.er,MaxLevel.IMM_SKILL_MAX_LEVEL);var d=App.JS.getRetinueGrade(e.im);e.gradeTxt.textColor=d>=u?Color.TX:Color.KA,1==e.vo.maxgrade&&(e.nextGroup.visible=!1,e.er>0?e.bottomGroup.visible=!1:e.currLab.text=fvg.GVf("skill118"),e.skillName.text=e.vo.name),e.checkRedPoint()},t.prototype.checkRedPoint=function(){var e=this;e.upBtn.icon=UsU.BU(e.im,e._skillVo.index,e.vo)?StaticData.GHj:null},t.prototype.ad=function(e){var t=this;if(t.er>=MaxLevel.IMM_SKILL_MAX_LEVEL)return void msgTip(fvg.GVf("imm02"));var n=App.JS.getRetinueGrade(t.im),i=App.JS.getNeedGrade(t.er+1,t.vo),r=t.er>0?"imm51":"imm50";if(i&&i>n)return void msgTip(fvg.GVf(r,App.BC.getModuleName(t._skillVo.skillType),Math.ceil(i/10)));if(t.vm<t.hs)return void _JDW.TR(parseInt(t.vo.cost));var a=gLw.IQ(t.vo.tid);RetinueMsgProxy.BB(t._skillVo.skillType,a)},t.prototype.dk=function(){this.updateData()},t.prototype.cw=function(e){var t=this.vo.desc;if(!t)return"";var n=t.split(QycO.PK),i=n[0],r=n[1],a=parseInt(n[2])||1,o=i.replace("{}",((e[r]||0)/a).toString());return o},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseTipsPopUI);__reflect(SkillTipsPopUi.prototype,"SkillTipsPopUi");var TownMagicRewardView=function(e){function t(){var t=e.call(this,"TownMagicRewardView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initData=function(){e.prototype.initData.call(this),this.uj()},t.prototype.uj=function(){this.iv()},t.prototype.iv=function(){var e=this;if(e.am&&e.CSo){for(var t,n=App.DA.curFloor,i=n-1,r=0,a=e.am.length;a>r;r++)if(i<e.am[r]){t=e.am[r];break}var o=XCA.DG(61,t),s=Nkz.PI(o);if(s&&s.length>0){var p=s[0];e.rewardGoods.data=p;var l=e.ry===IDU.KY?"flyboss04":"flyboss03";e.rewardTitle.text=fvg.GVf(l,t),e.nameLab.text=p.name}else removeSelf(e.nameLab),removeSelf(e.rewardTitle),removeSelf(e.rewardGoods)}},t.prototype.xs=function(){this.uj()},Object.defineProperty(t.prototype,"chapterConfig",{set:function(e){var t=this,n=XCA.CG(e);t.ry=e,n&&(t.am=n.split(QycO.XP).map(returnInt)),t.uj()},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;GObj.$d(t.rewardGoods),t.rewardGoods=null,GObj.$d(t.rewardTitle),t.rewardTitle=null,GObj.$d(t.nameLab),t.nameLab=null,t.am=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TownMagicRewardView.prototype,"TownMagicRewardView");var TownMagicView=function(e){function t(){var t=e.call(this,"TownMagicView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.challengeBtn.label=fvg.GVf("37"),e.raidBtn.label=fvg.GVf("raid7"),e.raidBtn.icon=StaticData.GHj,e.bestTitle.text=fvg.GVf("townmagic01"),e.fightNum=GObj.$c(NumberView),e.fightGroup.addChild(e.fightNum),e.datas=GObj.$c(eui.ArrayCollection),e.goodsGroup.dataProvider=e.datas,e.goodsGroup.itemRenderer=GoodsItemRenderer,e.smallReward.chapterConfig=IDU.KY,e.bigReward.chapterConfig=IDU.BZ},t.prototype.initData=function(){e.prototype.initData.call(this),this.qb()},t.prototype.qb=function(){var e=this;e.CSo&&(MaxLevel.TOWN_MAGIC_MAX_LEVEL=parseInt(XCA.CG(IDU.TB)),e.bg(),e.yi(),e.yj(),e.hc(),e.ypm())},t.prototype.bg=function(){for(var e=this,t=App.DA.curFloor,n=1;4>=n;n++)e.updateFloorView(this["floor_"+n],t+3-n)},t.prototype.updateFloorView=function(e,t){var n="";t>0&&t<=MaxLevel.TOWN_MAGIC_MAX_LEVEL&&(n=t.toString()),hFO.instance.getNumberView(bRC.BX,n,-3,e)},t.prototype.yi=function(){var e=this,t=App.DA.curFloor;e.fy=App.MB.townBossMapid();var n=App.MB.townBossAttrid(t),i=XCA.YV(n),r=i&&i.p1;hFO.instance.getNumberView(bRC.UA,r+"",-6,e.fightNum),t>MaxLevel.TOWN_MAGIC_MAX_LEVEL&&(removeSelf(e.fightGroup),removeSelf(e.challengeBtn))},t.prototype.yj=function(){var e=this;e.bestName.text=App.DA.bestName,e.bestScore.text=fvg.GVf("townmagic02",App.DA.bestScore)},t.prototype.hc=function(){var e=this,t=UsU.IOT(),n=e.raidBtn;t?addSelf(this,n):removeSelf(n)},t.prototype.ypm=function(){var e=this,t=App.DA.curFloor;e.datas.replaceAll(App.DA.getCurFloorReward(t,App.DA.levelCount)),e.datas.refresh()},t.prototype.initEvent=function(){var e=this;e.challengeBtn.addEventListener(eui.tep,e.__challengeHandler,e),e.raidBtn.addEventListener(eui.tep,e.dz,e),e.rankBtn.addEventListener(eui.tep,e.itq,e),vkG.$a(UtJ.HW,e.hg,e)},t.prototype.removeEvent=function(){var e=this;e.challengeBtn.removeEventListener(eui.tep,e.__challengeHandler,e),e.raidBtn.removeEventListener(eui.tep,e.dz,e),e.rankBtn.removeEventListener(eui.tep,e.itq,e),vkG.$r(UtJ.HW,e.hg,e)},t.prototype.hg=function(){this.qb()},t.prototype.itq=function(e){App.PV.selectBtn=6,rRcz.ON()},t.prototype.dz=function(e){var t=GObj.$c(BoxPopUi),n=App.DA.curFloor-1;t.showDetail(61,n,n,n,null,!1,App.DA.getCurFloorReward(n,App.DA.raidCount))},t.prototype.__challengeHandler=function(e){var t=this;return App.UY.isCanSwitc()?void(t.fy&&(App.VS.closeAll(),App.VS.enterMapOpenUI(t.fy,10167,void 0,!1),App.UY.enter(t.fy))):void msgTip(fvg.GVf("35"))
},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.bestTitle),t.bestTitle=null,GObj.$d(t.bestScore),t.bestScore=null,GObj.$d(t.bestName),t.bestName=null,GObj.$d(t.raidBtn),t.raidBtn=null,GObj.$d(t.fightNum),t.fightNum=null,GObj.$d(t.fightGroup),t.fightGroup=null,GObj.$d(t.smallReward),t.smallReward=null,GObj.$d(t.bigReward),t.bigReward=null,GObj.$d(t.floor_1),t.floor_1=null,GObj.$d(t.floor_2),t.floor_2=null,GObj.$d(t.floor_3),t.floor_3=null,GObj.$d(t.floor_4),t.floor_4=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(TownMagicView.prototype,"TownMagicView");var TreasureBindItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TreasureBindItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.nv,e),vkG.$a(UtJ.SU,e.__infoUpdateHandler,e),vkG.$a(UtJ.DV,e.__updateGoodsHandler,e),vkG.$a(UtJ._A,e.__updateGoodsHandler,e),vkG.$a(UtJ.SU,e.__updateGoodsHandler,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nv,e),vkG.$r(UtJ.SU,e.__infoUpdateHandler,e),vkG.$r(UtJ.DV,e.__updateGoodsHandler,e),vkG.$r(UtJ._A,e.__updateGoodsHandler,e),vkG.$r(UtJ.SU,e.__updateGoodsHandler,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.hy=e.data,e.redPointImg.visible=!1,e.hy&&(e.iconView.upgradeId=e.hy.tid,e.__infoUpdateHandler(),e.__updateGoodsHandler()))},t.prototype.__updateGoodsHandler=function(){var e=this;e.hy&&e.CSo&&(e.__infoUpdateHandler(),e.redPointImg.visible=UsU.ZQ(e.hy))},t.prototype.__infoUpdateHandler=function(){var e=this;if(!e.hy||!e.CSo){App.OG.getBindByQuality(aKF.MM)}var t=gLw.IQ(e.hy.tid),n=App.OG.bindInfo[t]||0;if(e.lockImg.visible=0==n,n>0)e.iconView.bottomText=fvg.GVf("skill020",n),e.gradeTxt.visible=!1;else{var i=[],r=void 0,a=void 0,o=void 0,s=0;e.hy.p6&&(i=e.hy.p6.split(","));for(var p=0;p<i.length;p++)r=App.OG.getGradeTempByType(parseInt(i[p])),r&&(a=gLw.IQ(r.tid),o=App.OG.treasureInfo[a]||0,o>0&&s++);e.gradeTxt.text=fvg.GVf("public022",s,i.length),e.gradeTxt.textColor=s>=3?Color.TX:Color.KA,e.gradeTxt.visible=!0}},t.prototype.nv=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,t.hy=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasureBindItem.prototype,"TreasureBindItem");var TreasureBindView=function(e){function t(){var t=e.call(this,"TreasureBindView")||this;return t.zl=0,t.tof=!1,t.rq=!1,t.skinName=RRUU.$s("TreasureBindView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.leftBtn.$autoSelected=e.rightBtn.$autoSelected=!1,e.maxTxt_1.text=fvg.GVf("public014"),e.noneTxt.text=fvg.GVf("public010"),e.treasureIconArr=[],e.lockImgArr=[],e.nameTxtArr=[],e.treasureGroupArr=[],e.rj=[];for(var t=1;3>=t;t++)e.treasureIconArr.push(this["treasureIcon_"+t]),e.lockImgArr.push(this["lockImg_"+t]),e.nameTxtArr.push(this["nameTxt_"+t]),e.treasureGroupArr.push(this["treasureGroup_"+t]);e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=TreasureBindItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChildAt(e.fightView,e.numChildren-1),e.smaicon1.goodsTid=StaticData.TID_TREASURE_ID_2},t.prototype.initData=function(){var e=this;e.itemList.selectedIndex=0,e.oo(),e.li(),e.vz(),e.mt()},t.prototype.initEvent=function(){var e=this;e.leftBtn.addEventListener(egret.Event.ENTER_FRAME,e.ni,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ai,e),e.leftBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.oy,e),e.rightBtn.addEventListener(egret.Event.ENTER_FRAME,e.hw,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.oe,e),e.rightBtn.addEventListener(egret.TouchEvent.TOUCH_END,e.fm,e),e.itemList.addEventListener(egret.Event.CHANGE,e.li,e),e.itemScroller.addEventListener(egret.Event.CHANGE,e.py,e),e.upBtn.addEventListener(eui.tep,e.vw,e),e.treasureGroupArr[0]&&e.treasureGroupArr[0].addEventListener(eui.tep,e.gt,e),e.treasureGroupArr[1]&&e.treasureGroupArr[1].addEventListener(eui.tep,e.vb,e),e.treasureGroupArr[2]&&e.treasureGroupArr[2].addEventListener(eui.tep,e.zk,e),vkG.$a(UtJ.SU,e.qn,e),vkG.$a(UtJ.DV,e.mt,e),vkG.$a(UtJ._A,e.mt,e)},t.prototype.removeEvent=function(){var e=this;e.leftBtn.removeEventListener(egret.Event.ENTER_FRAME,e.ni,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.ai,e),e.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.oy,e),e.rightBtn.removeEventListener(egret.Event.ENTER_FRAME,e.hw,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.oe,e),e.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_END,e.fm,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.li,e),e.itemScroller.removeEventListener(egret.Event.CHANGE,e.py,e),e.upBtn.removeEventListener(eui.tep,e.vw,e),e.treasureGroupArr[0]&&e.treasureGroupArr[0].removeEventListener(eui.tep,e.gt,e),e.treasureGroupArr[1]&&e.treasureGroupArr[1].removeEventListener(eui.tep,e.vb,e),e.treasureGroupArr[2]&&e.treasureGroupArr[2].removeEventListener(eui.tep,e.zk,e),vkG.$r(UtJ.SU,e.qn,e),vkG.$r(UtJ.DV,e.mt,e),vkG.$r(UtJ._A,e.mt,e)},t.prototype.mt=function(){var e=this;e.ek&&e.CSo&&e.qn()},t.prototype.gt=function(e){var t=this;t.rj.length>0&&t.cw(t.rj[0])},t.prototype.vb=function(e){var t=this;t.rj.length>=2&&t.cw(t.rj[1])},t.prototype.zk=function(e){var t=this;t.rj.length>=3&&t.cw(t.rj[2])},t.prototype.cw=function(e){e&&vkG.$d(UtJ.MJ,e)},t.prototype.vw=function(e){var t=this;if(1==t.hl){if(!(t.qx>=3))return void App.TT.show(fvg.GVf("treasure17"));TreasureMsgProxy.RS(t.ne)}else{if(t.qx<3)return void App.TT.show(fvg.GVf("treasure18"));if(t.rx>=t.ek.maxgrade)return void App.TT.show(fvg.GVf("public014"));if(t.cn<t.ty)return void _JDW.TR(StaticData.TID_TREASURE_ID_2,t.ty-t.cn);TreasureMsgProxy.RS(t.ne)}},t.prototype.li=function(){var e=this;e.zl=e.itemList.selectedIndex,e.ek=null;var t=e.datas.source[e.zl];t&&(e.ek=t,e.qn()),e.py(null)},t.prototype.oo=function(){var e,t=this,n=App.OG.getBindByQuality(aKF.MM),i=n.length;t.datas.source.splice(0,t.datas.source.length);for(var r=0;i>r;r++)e=n[r],e&&t.datas.source.push(e);t.datas.refresh()},t.prototype.qn=function(){var e=this;if(e.ek&&e.CSo){e.ne=gLw.IQ(e.ek.tid),e.rx=App.OG.bindInfo[e.ne]||0,e.ek=XCA.AQS.UFA(41,e.ne,e.rx||1),e.attrTxt_1.text="",e.attrTxt_2.text="",e.nameTxt.text=fvg.GVf("treasure24",e.ek.name,e.rx);var t=gLw.GM(e.ek.tid);e.nameTxt_4.text=e.ek.name,e.nameTxt_4.textColor=aKF.DU(t),e.attrTxt_2.visible=e.rx<e.ek.maxgrade,e.maxTxt_1.visible=e.rx>=e.ek.maxgrade,e.bindIcon.upgradeId=e.ek.tid;var n=[];e.ek.cost&&(n=e.ek.cost.split(",")),n.length>=2?(e.cn=App.FK.hsx(parseInt(n[0])),e.ty=parseInt(n[1])):(e.cn=App.FK.hsx(StaticData.TID_TREASURE_ID_2),e.ty=0),e.needTxt.text=fvg.GVf("beauty17",e.cn,e.ty),e.needTxt.textColor=e.cn>=e.ty?Color.TX:Color.KA;var i=[];e.ek.p6&&(i=e.ek.p6.split(","));var r,a,o,s;e.qx=0;var p=XCA.AQS.UFA(41,e.ne,e.rx+1);e.rj.length=0;for(var l=0;l<i.length;l++)if(r=App.OG.getGradeTempByType(parseInt(i[l]))){if(e.rj.push(r),e.treasureIconArr[l]&&e.nameTxtArr[l]&&e.lockImgArr[l])if(o=gLw.IQ(r.tid),a=App.OG.treasureInfo[o]||0,e.nameTxtArr[l].text=r.name,s=gLw.GM(r.tid),e.nameTxtArr[l].textColor=aKF.DU(s),e.treasureIconArr[l].upgradeId=r.tid,a>0){if(e.lockImgArr[l].visible=!1,e.treasureIconArr[l].bottomText=fvg.GVf("public028",a),!p)continue;a>=p.p2&&e.qx++}else e.lockImgArr[l].visible=!0,e.treasureIconArr[l].bottomText=""}else e.lockImg_4.visible=!0,e.nameTxtArr[l].text="";if(p){var c=e.qx>=i.length?Color.TX:Color.KA;e.descTxt.textFlow=(new egret.HtmlTextParser).parser(fvg.GVf("treasure16",p.p2,c,e.qx,i.length))}else e.descTxt.text="";e.upBtn.visible=!0,e.rx>0&&e.rx<=e.ek.maxgrade?(e.attrTxt_1.text=LRJ.KG(e.ek.attrid+e.rx),e.lockImg_4.visible=!1,e.noneTxt.visible=!1,e.upGroup.visible=!0,e.hl=2,e.upBtn.label=fvg.GVf("specia001")):(e.attrTxt_1.text="",e.lockImg_4.visible=!0,e.noneTxt.visible=!0,e.upGroup.visible=!1,e.hl=1,e.upBtn.label=fvg.GVf("beauty10")),e.rx<e.ek.maxgrade?e.attrTxt_2.text=LRJ.KG(e.ek.attrid+(e.rx+1)):(e.attrTxt_2.text="",e.upGroup.visible=!1,e.upBtn.visible=!1),e.upBtn.icon=UsU.ZQ(e.ek)?StaticData.GHj:null;var u=App.OG.bindInfo["c_"+e.ne]||0;e.fightView.fightNum=u}},t.prototype.vz=function(){var e=this,t=e.itemScroller;t.viewport.scrollH<=0&&(e.leftBtn.selected=!1,e.rightBtn.selected=!0),t.viewport.scrollH+t.width>=t.viewport.contentWidth&&e.sm()},t.prototype.wxz=function(){},t.prototype.sm=function(){},t.prototype.py=function(e){var t=this,n=t.itemScroller;return n.viewport.scrollH<=0?(t.leftBtn.selected=!1,void(t.leftBtn.icon=null)):(t.leftBtn.selected=!0,t.wxz(),n.viewport.scrollH+n.width>=n.viewport.contentWidth?(t.rightBtn.selected=!1,void(t.rightBtn.icon=null)):(t.rightBtn.selected=!0,void t.sm()))},t.prototype.ai=function(e){this.tof=!0},t.prototype.oy=function(e){this.tof=!1},t.prototype.ni=function(){var e=this;if(e.tof){var t=e.itemScroller;if(t.viewport.scrollH<=0)return e.tof=!1,e.leftBtn.selected=!1,void(e.leftBtn.icon=null);t.viewport.scrollH-=10,t.viewport.scrollH<=t.viewport.contentWidth&&(e.rightBtn.selected=!0,e.wxz()),t.viewport.scrollH>50&&e.sm()}},t.prototype.hw=function(){var e=this;if(e.rq){var t=e.itemScroller;if(t.viewport.scrollH+t.width>=t.viewport.contentWidth)return e.rq=!1,e.rightBtn.selected=!1,void(e.rightBtn.icon=null);t.viewport.scrollH+=10,t.viewport.scrollH>50&&(e.leftBtn.selected=!0,e.sm()),t.viewport.scrollH<=t.viewport.contentWidth&&e.wxz()}},t.prototype.oe=function(e){this.rq=!0},t.prototype.fm=function(e){this.rq=!1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null;for(var n=0;3>n;n++)GObj.$d(t.treasureGroupArr[n]),t.treasureGroupArr[n]=null,GObj.$d(t.treasureIconArr[n]),t.treasureIconArr[n]=null,GObj.$d(t.lockImgArr[n]),t.lockImgArr[n]=null,GObj.$d(t.nameTxtArr[n]),t.nameTxtArr[n]=null,t.rj[n]=null;GObj.$d(t.bindIcon),t.bindIcon=null,GObj.$d(t.lockImg_4),t.lockImg_4=null,GObj.$d(t.upGroup),t.upGroup=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.rightBtn),t.rightBtn=null,GObj.$d(t.leftBtn),t.leftBtn=null,GObj.$d(t.smaicon1),t.smaicon1=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.maxTxt_1),t.maxTxt_1=null,GObj.$d(t.noneTxt),t.noneTxt=null,GObj.$d(t.fightView),t.fightView=null,t.ek=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(TreasureBindView.prototype,"TreasureBindView");var TreasureForgeResultItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TreasureForgeResultItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.jl,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.jl,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.jj=e.data,e.jj&&(e.nameTxt.text=e.jj.name,e.nameTxt.textColor=aKF.DU(e.jj.quality),e.iconView.data=e.data))},t.prototype.jl=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,t.jj=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasureForgeResultItem.prototype,"TreasureForgeResultItem");var TreasureForgeResultPopUi=function(e){function t(){var t=e.call(this,"TreasureForgeResultPopUi")||this,n=RRUU.$s(t.id);return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.updateRewardData(),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=TreasureForgeResultItem,e.confirmBtn.label=fvg.GVf("7"),e.frameGroup.title=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.tx,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.tx,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e&&e.length>0&&this.updateRewardData(e[0])},t.prototype.updateRewardData=function(e){var t=this;t.rewardData||(t.rewardData=GObj.$c(eui.ArrayCollection)),e&&(t.rewardData.source=e)},t.prototype.tx=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,GObj.$d(t.confirmBtn),t.confirmBtn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasureForgeResultPopUi.prototype,"TreasureForgeResultPopUi");var TreasureForgeView=function(e){function t(){var t=e.call(this,"TreasureForgeView")||this;return t.onePrice=50,t.skinName=RRUU.$s("TreasureForgeView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.kl=!0,e.forgeBtn.label=fvg.GVf("TreasureForge01"),e.forgeTenBtn.label=fvg.GVf("TreasureForge02"),e.sureBtn.label=fvg.GVf("confirm"),e.mj=GObj.$c(nlwj),e.jc=GObj.$c(nlwj),e.oq=GObj.$c(nlwj),e.gp=GObj.$c(nlwj),e.mj.tid=StaticData.TID_TREASURE_ID,e.mj.count=App.OG.getForgeNeedCountByCount(1),e.oq.tid=StaticData.TID_TREASURE_ID,e.oq.count=App.OG.getForgeNeedCountByCount(10),e.jc.tid=StaticData.TID_POINT_ID,e.jc.count=App.OG.getForgeNeedCountByCount(100),e.gp.tid=StaticData.TID_POINT_ID,e.gp.count=App.OG.getForgeNeedCountByCount(1e3),e.goodItem.showQuality=!1,e.smaicon1.goodsTid=StaticData.TID_TREASURE_ID,e.smaicon2.goodsTid=StaticData.TID_TREASURE_ID},t.prototype.initData=function(){var e=this;e.aw(),e.fg(),e.aj()},t.prototype.initEvent=function(){var e=this;e.forgeBtn.addEventListener(eui.tep,e.on,e),e.forgeTenBtn.addEventListener(eui.tep,e.sk,e),e.sureBtn.addEventListener(eui.tep,e.ij,e),e.preBtn.addEventListener(eui.tep,e.e_,e),e.buyItemBtn.addEventListener(eui.tep,e.ny,e),vkG.$a(UtJ.UEB,e.dm,e),vkG.$a(UtJ.DV,e.aj,e)},t.prototype.removeEvent=function(){var e=this;e.forgeBtn.removeEventListener(eui.tep,e.on,e),e.forgeTenBtn.removeEventListener(eui.tep,e.sk,e),e.sureBtn.removeEventListener(eui.tep,e.ij,e),e.preBtn.removeEventListener(eui.tep,e.e_,e),e.buyItemBtn.removeEventListener(eui.tep,e.ny,e),vkG.$r(UtJ.UEB,e.dm,e),vkG.$r(UtJ.DV,e.aj,e)},t.prototype.fg=function(){var e=this;if(e.CSo){if(e.yg&&e.yg.TSF){e.nameTxt.text=e.yg.TSF.name,e.nameTxt.textColor=aKF.DU(e.yg.quality),e.goodItem.data=e.yg;App.FK.hsx(e.yg.tid);if(e.yg.sonType==Iwrv.SL){e.attrTxt.x=155;var t=XCA.AQS.UFA(40,e.yg.TSF.p1||0,1);t&&(e.attrTxt.text="",e.rh(t.attrid+1)),e.yg.quality<aKF.PU?e.checkForge1():e.yg.quality>=aKF.PU&&e.checkForge2()}else e.attrTxt.x=90,e.attrTxt.text=e.yg.TSF.desc}e.yg=null,e.countTxt.text=fvg.GVf("treasure23",10-App.OG.forgeCount),e.aj()}},t.prototype.ny=function(){var e=App.IQ.getShopGoodsByTypeAndId(9,StaticData.TID_TREASURE_ID);if(e){var t=GObj.$c(BuyPopUi);t.showDetail(e)}},t.prototype.rh=function(e){var t=this,n=e,i=XCA.YV(n);if(i){var r=void 0,a=void 0;for(r in xxf.UK)a=i[r]||0,a>0&&(t.attrTxt.text+=fvg.GVf("skill004",xxf.UK[r],Math.ceil(a))+"\n");for(r in xxf.IM)a=i[r]||0,a&&(t.attrTxt.text+=fvg.GVf("skill004",xxf.IM[r],(a/10).toFixed(1)+"%")+"\n");i.p1||0}},t.prototype.aj=function(){var e=this;e.sh=App.FK.hsx(StaticData.TID_TREASURE_ID),e.hg=App.KF.point;var t=e.sh,n=e.mj.count;e.needTxt.text=fvg.GVf("beauty17",t,n),e.needTxt.textColor=t>=n?Color.TX:Color.KA;var i=e.sh,r=e.oq.count;e.needTenTxt.text=fvg.GVf("beauty17",i,r),e.needTenTxt.textColor=i>=r?Color.TX:Color.KA,e.forgeBtn.icon=e.sh>=e.mj.count?StaticData.GHj:null,e.forgeTenBtn.icon=e.sh>=e.oq.count?StaticData.GHj:null},t.prototype.dm=function(){var e=this,t=App.OG.forgeGoodsList,n=t.length;n>0&&10>n&&(e.yg=t[0],e.aw(),e.fg()),n>1&&App.VS.popup(10006,TreasureForgeResultPopUi,null,t),e.countTxt.text=fvg.GVf("treasure23",10-App.OG.forgeCount)},t.prototype.checkForge1=function(){var e=this;e.weS1||(e.weS1=App.KB.getUIEffect(gYq.FS,100,1),e.weS1.addEventListener(egret.Event.COMPLETE,e.wd,e),e.weS1.x=160,e.weS1.y=85),e.weS1.play(1),e.addChild(e.weS1)},t.prototype.checkForge2=function(){var e=this;e.weS2||(e.weS2=App.KB.getUIEffect(gYq.AH,100,1),e.weS2.addEventListener(egret.Event.COMPLETE,e.pc,e),e.weS2.x=130,e.weS2.y=70),e.weS2.play(1),e.addChild(e.weS2)},t.prototype.wd=function(e){var t=this;t.weS1&&t.weS1.parent&&t.removeChild(t.weS1)},t.prototype.pc=function(e){var t=this;t.weS2&&t.weS2.parent&&t.removeChild(t.weS2)},t.prototype.on=function(e){var t=this;if(t.sh<t.mj.count){if(App.KF.point<t.jc.count){if(IoG.EZ())MessageTipManager.instance.show(fvg.GVf("public015"));else{var n=fvg.GVf("wealthDish03");Alert.WK(n,null,null,t.fx,t)}return}return void Alert.WK(fvg.GVf("shop03",t.onePrice,1),null,null,t.mz,this,[1])}t.mz(1)},t.prototype.mz=function(e){App.OG.clearForgeInfo(),TreasureMsgProxy.QM(e),this.kl=!1},t.prototype.sk=function(e){var t=this;if(t.sh<t.oq.count){var n=t.oq.count-t.sh;if(App.KF.point<n*t.onePrice){var i=fvg.GVf("wealthDish03");return void Alert.WK(i,null,null,t.fx,t)}return void Alert.WK(fvg.GVf("shop03",n*t.onePrice,n),null,null,t.kb,this,[10])}t.kb(10)},t.prototype.kb=function(e){App.OG.clearForgeInfo(),TreasureMsgProxy.QM(10)},t.prototype.fx=function(){App.VS.open(10089)},t.prototype.ij=function(e){var t=this;t.kl=!0,t.aw(),t.goodItem.data=null,t.aj()},t.prototype.e_=function(e){var t=GObj.$c(TreasurePrePopUi);t.show()},t.prototype.aw=function(){var e=this;e.infoGroup.visible=!e.kl,e.oneGroup.visible=e.kl,e.tenGroup.visible=e.kl,e.countTxt.visible=e.kl},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodItem),t.goodItem=null,GObj.$d(t.costDescTxt),t.costDescTxt=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.forgeBtn),t.forgeBtn=null,GObj.$d(t.infoGroup),t.infoGroup=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.sureBtn),t.sureBtn=null,t.weS1&&(t.weS1.stop(),t.weS1.removeEventListener(egret.Event.COMPLETE,t.wd,t),GObj.$d(t.weS1)),t.weS1=null,t.weS2&&(t.weS2.stop(),t.weS2.removeEventListener(egret.Event.COMPLETE,t.pc,t),GObj.$d(t.weS2)),t.weS2=null,GObj.$d(t.oneGroup),t.oneGroup=null,GObj.$d(t.tenGroup),t.tenGroup=null,GObj.$d(t.preBtn),t.preBtn=null,GObj.$d(t.needTenTxt),t.needTenTxt=null,GObj.$d(t.forgeTenBtn),t.forgeTenBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.buyItemBtn),t.buyItemBtn=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,t.yg=null,t.mj=null,t.jc=null,t.oq=null,t.gp=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(TreasureForgeView.prototype,"TreasureForgeView");var TreasurePreItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TreasurePreItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.itemView.data=t,e.nameTxt.text=t.TSF.name,e.nameTxt.textColor=aKF.DU(t.quality)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.xa,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.xa,e)},t.prototype.xa=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasurePreItem.prototype,"TreasurePreItem");var TreasurePrePopUi=function(e){function t(){var t=e.call(this,"TreasurePrePopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.sureBtn.label=fvg.GVf("7"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=TreasurePreItem,e.frameGroup.title=fvg.GVf("treasure21")},t.prototype.initData=function(){for(var e,t=this,n=App.OG.getTreasureByQuality(aKF.MM),i=[],r=0;r<n.length;r++)n[r].p3>0&&(e=GObj.$c(nlwj),e.tid=n[r].p3,i.push(e));t.datas.source.splice(0,t.datas.source.length);for(var a=[],r=0;r<i.length;r++)i[r]&&a.push(i[r]);a.sort(t.dk),t.datas.replaceAll(a),t.datas.refresh()},t.prototype.initEvent=function(){var e=this;e.sureBtn.addEventListener(eui.tep,e.nn,e)},t.prototype.removeEvent=function(){var e=this;e.sureBtn.removeEventListener(eui.tep,e.nn,e)},t.prototype.nn=function(e){GObj.$d(this)},t.prototype.dk=function(e,t){return e.quality>t.quality?-1:1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.sureBtn),t.sureBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasurePrePopUi.prototype,"TreasurePrePopUi");var TreasureTrainItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TreasureTrainItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.xm,e),vkG.$a(UtJ._A,e.__infoUpdateHandler,e),vkG.$a(UtJ.DV,e.__infoUpdateHandler,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.xm,e),vkG.$r(UtJ._A,e.__infoUpdateHandler,e),vkG.$r(UtJ.DV,e.__infoUpdateHandler,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data&&(e.sw=e.data,e.redPointImg.visible=!1,e.sw)){e.nameTxt.text=e.sw.name;var t=gLw.GM(e.sw.tid);e.sw.tid;e.nameTxt.textColor=aKF.DU(t),e.iconView.upgradeId=e.sw.tid,e.__infoUpdateHandler()}},t.prototype.__infoUpdateHandler=function(){var e=this;if(e.sw&&e.CSo){var t=gLw.IQ(e.sw.tid),n=App.OG.treasureInfo[t]||0;App.FK.hsx(parseInt(e.sw.cost)),App.JP.getTreasureNeedCount(n),App.FK.hsx(StaticData.TID_TREASURE_ID);e.iconView.bottomText=n>0?fvg.GVf("public028",n):"",e.redPointImg.visible=UsU.FV(e.sw)||UsU.TAM(e.sw);var i=0===n;e.lockImg.visible=i;App.OG.treasureInfo["s_"+t]||0}},t.prototype.xm=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,t.sw=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasureTrainItem.prototype,"TreasureTrainItem");var TreasureTrainView=function(e){function t(){var t=e.call(this,"TreasureTrainView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.attrDescTxt.text=fvg.GVf("store045"),e.qua_all_Btn.label=fvg.GVf("knight3"),e.qua_1_Btn.label=fvg.GVf("knight4"),e.qua_2_Btn.label=fvg.GVf("knight5"),e.qua_3_Btn.label=fvg.GVf("knight6"),e.qua_4_Btn.label=fvg.GVf("knight7"),e.activationBtn.label=fvg.GVf("public012"),e.ur=GObj.$c(kQr),e.ur.cwA(e.qua_all_Btn),e.ur.cwA(e.qua_1_Btn),e.ur.cwA(e.qua_2_Btn),e.ur.cwA(e.qua_3_Btn),e.ur.cwA(e.qua_4_Btn),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=TreasureTrainItem,e.fightView=GObj.$c(FightView),e.fightView.x=119,e.fightView.y=-2,e.addChildAt(e.fightView,e.numChildren-1),e.qf=GObj.$c(FigureView),e.qf.x=200,e.qf.y=320,e.addChildAt(e.qf,5),e.qe={}},t.prototype.initData=function(){this.ur.selectedIndex=0},t.prototype.initEvent=function(){var e=this;e.ur.addEventListener(egret.Event.CHANGE,e.bs,e),e.itemList.addEventListener(egret.Event.CHANGE,e.yq,e),e.activationBtn.addEventListener(eui.tep,e.nu,e),e.baptizeBtn.addEventListener(eui.tep,e.qj,e),e.showBtn.addEventListener(eui.tep,e.kr,e),vkG.$a(UtJ._A,e.ch,e),vkG.$a(UtJ.DV,e.sk,e)},t.prototype.removeEvent=function(){var e=this;e.ur.removeEventListener(egret.Event.CHANGE,e.bs,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.yq,e),e.activationBtn.removeEventListener(eui.tep,e.nu,e),e.baptizeBtn.removeEventListener(eui.tep,e.qj,e),e.showBtn.removeEventListener(eui.tep,e.kr,e),vkG.$r(UtJ._A,e.ch,e),vkG.$r(UtJ.DV,e.sk,e)},t.prototype.ch=function(){var e=this;if(e.CSo&&e.sd){var t=gLw.GM(e.sd.tid),n=gLw.IQ(e.sd.tid);e.ll=gLw.IQ(e.sd.tid),e._h=App.OG.treasureInfo[e.ll]||0,e.kf=App.OG.treasureInfo["s_"+e.ll]||e.sd.p1,e.nameImg.source=kLM._O(n),e.quaImg.source=kLM.WT(t),e.typeImg.source=kLM.JT(t),hFO.instance.getNumberView(bRC.QW,NumberUtil.GB(e._h),-2,e.rankView,1),e._h<=0?(e.rankView.visible=!1,e.starImg.visible=!1,e.nameImg.horizontalCenter=-197):(e.rankView.visible=!0,e.starImg.visible=!0,e.nameImg.horizontalCenter=-185),e.hn=e._h>0?2:1,1==e.hn?(e.activationBtn.label=fvg.GVf("public012"),e.baptizeBtn.visible=!1,e.showBtn.visible=!1):(e.activationBtn.label=fvg.GVf("public008"),e.baptizeBtn.visible=!0,e.showBtn.visible=!0),e.aq(),FigureHelps.NW(e.qf,{b:FigureType.XS+e.ll},!1),e.sk()}},t.prototype.sk=function(){var e=this;e.activationBtn.icon=UsU.FV(e.sd)?StaticData.GHj:null,e.baptizeBtn.icon=UsU.TAM(e.sd)?StaticData.GHj:null,e.qua_all_Btn.icon=UsU.BL(aKF.MM)?StaticData.GHj:null,e.qua_1_Btn.icon=UsU.BL(aKF.WO)?StaticData.GHj:null,e.qua_2_Btn.icon=UsU.BL(aKF.BN)?StaticData.GHj:null,e.qua_3_Btn.icon=UsU.BL(aKF.JN)?StaticData.GHj:null,e.qua_4_Btn.icon=UsU.BL(aKF.PU)?StaticData.GHj:null},t.prototype.bs=function(e){var t=this;t.scroller&&t.scroller.stopAnimation();var n,i=t.ur.LuO;switch(i){case t.qua_1_Btn:n=aKF.WO;break;case t.qua_2_Btn:n=aKF.BN;break;case t.qua_3_Btn:n=aKF.JN;break;case t.qua_4_Btn:n=aKF.PU;break;default:n=aKF.MM}t.datas.source.splice(0,t.datas.source.length);var r,a=App.OG.getTreasureByQuality(n),o=a.length;o&&a.sort(App.OG.compareFunBySort);for(var s=0;o>s;s++)r=a[s],r&&t.datas.source.push(r);t.datas.source.sort(t.nl),t.datas.refresh(),o&&t.ao()},t.prototype.nl=function(e,t){var n=gLw.IQ(e.tid),i=gLw.IQ(t.tid),r=App.OG.treasureInfo[n]||0,a=App.OG.treasureInfo[i]||0;return r>0&&a>0?-1:0>=r&&0>=a?1:r>0&&0>=a?-1:0>=r&&a>0?1:void 0},t.prototype.nu=function(e){var t=this;if(1==t.hn){var n=App.FK.hsx(parseInt(t.sd.cost)),i=App.JP.getTreasureNeedCount(t._h);if(i>n)return void _JDW.TR(parseInt(t.sd.cost),i-n);TreasureMsgProxy.VV(gLw.IQ(t.sd.tid))}else App.VS.popup(10004,TreasureUpPopUi,null,t.sd)},t.prototype.qj=function(e){App.VS.popup(10004,TreasureUpStarPopUi,null,this.sd)},t.prototype.kr=function(e){var t=this;if(t.sd){if(App.KF.chapter<StaticData.CHAT_CH)return void App.TT.show(fvg.GVf("public044",StaticData.CHAT_CH));if(0==t._h)return void App.TT.show(fvg.GVf("treasure15"));var n=App.FQ.horn||0,i=App.XT.vipInfo.vipGrade||0;if(0>=n&&2>i)return void _JDW.TR(StaticData.TID_HORN_ID);var r=App.FQ.islt+(6>i?App.FQ.send_cd:10);if(App.FQ.islt&&r>App.NN.serverSecond)return void(6>i?App.TT.show(fvg.GVf("chat10")):App.TT.show(fvg.GVf("chat11")));var a=gLw.GM(t.sd.tid),o=aKF.DU(a);Alert.WK(fvg.GVf("chat19",o,t.sd.name),void 0,void 0,t.wf,t)}},t.prototype.wf=function(){var e=this,t=GObj.$c(ChatItemData);t.mt=40,t.st=e.ll,t.gr=e._h,t.cap=App.OG.treasureInfo["c_"+e.ll]||0,t.sw=e.kf,ChatMsgProxy.FJ(t),App.TT.show(fvg.GVf("chat9"))
},t.prototype.defaultTemp=function(e){var t=this;e&&(t.sd=e,t.ur&&(0!=t.ur.selectedIndex?t.ur.selectedIndex=0:t.ao()))},t.prototype.ao=function(){var e=this,t=e.datas.source.indexOf(e.sd||"");e.itemList.selectedIndex=t>=0?t:0,e.yq(null)},t.prototype.yq=function(e){var t=this;t.uc=t.itemList.selectedIndex,t.sd=null;var n=t.datas.source[t.uc];n&&(t.sd=n,t.ch())},t.prototype.aq=function(){var e=this,t=e.sd.attrid,n=e._h?e._h:1,i=XCA.YV(t),r=gLw.GM(e.sd.tid);if(e.attrTxt.text="",i){var a=void 0,o=void 0,s="";for(a in xxf.UK)o=App.JP.getTreasureUpAttr(r,n,i[a])||0,o>0&&(s+=fvg.GVf("fashion3",xxf.UK[a],Math.ceil(o))+"\n");for(a in xxf.IM)o=App.JP.getTreasureUpAttr(r,n,i[a])||0,o&&(s+=fvg.GVf("fashion3",xxf.IM[a],(o/10).toFixed(1)+"%")+"\n");e.attrTxt.textFlow=LgRe.OQ(s);var p=App.OG.treasureInfo["c_"+e.ll];p=p?p:i.p1,e.fightView.fightNum=p}},t.prototype.dispose=function(){var t=this;if(App.TT.show,t.removeEvent(),GObj.$d(t.attrDescTxt),t.attrDescTxt=null,GObj.$d(t.attrTxt),t.attrTxt=null,GObj.$d(t.showBtn),t.showBtn=null,GObj.$d(t.activationBtn),t.activationBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.qf),t.qf=null,GObj.$d(t.qua_all_Btn),t.qua_all_Btn=null,GObj.$d(t.qua_1_Btn),t.qua_1_Btn=null,GObj.$d(t.qua_2_Btn),t.qua_2_Btn=null,GObj.$d(t.qua_3_Btn),t.qua_3_Btn=null,GObj.$d(t.qua_4_Btn),t.qua_4_Btn=null,GObj.$d(t.baptizeBtn),t.baptizeBtn=null,GObj.$d(t.ur),t.ur=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.quaImg),t.quaImg=null,GObj.$d(t.nameImg),t.nameImg=null,GObj.$d(t.typeImg),t.typeImg=null,GObj.$d(t.rankView),t.rankView=null,GObj.$d(t.starImg),t.starImg=null,t.qe){for(var n in t.qe)delete t.qe[n];t.qe=null}t.datas=null,t.sd=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(TreasureTrainView.prototype,"TreasureTrainView");var TreasureUpPopUi=function(e){function t(){var t=e.call(this,"TreasureUpPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.dx=e[0],n.qn())},t.prototype.initView=function(){var e=this;e.currAttrDescTxt.text=fvg.GVf("beast03"),e.nextAttrDescTxt.text=fvg.GVf("beast04"),e.upgradeBtn.label=fvg.GVf("public008"),e.maxAttrTxt.text=fvg.GVf("public014"),e.oneKeyBtn.label=fvg.GVf("treasure25"),e.mo=GObj.$c(GeneralStarView),e.mo.maxStar=10,e.mo.open_star_key=kLM.NZ(),e.mo.close_star_key=kLM.ZH(),e.mo.star_width=25,e.mo.gap=2,e.mo.x=140,e.mo.y=106,e.mo.visible=!0,e.addChildAt(e.mo,15),e.smaicon1.goodsTid=StaticData.TID_TREASURE_ID_2,e.smaicon2.goodsTid=StaticData.TID_TREASURE_ID_2,e.frameGroup.title=fvg.GVf("public008"),e.qn()},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.upgradeBtn.addEventListener(eui.tep,e.wk,e),e.oneKeyBtn.addEventListener(eui.tep,e.sv,e),vkG.$a(UtJ._A,e.jd,e),vkG.$a(UtJ.DV,e.gr,e)},t.prototype.removeEvent=function(){var e=this;e.upgradeBtn.removeEventListener(eui.tep,e.wk,e),e.oneKeyBtn.removeEventListener(eui.tep,e.sv,e),vkG.$r(UtJ._A,e.jd,e),vkG.$r(UtJ.DV,e.gr,e)},t.prototype.qn=function(){var e=this;e.CSo&&e.dx&&(e.qt=gLw.IQ(e.dx.tid),e.qj=gLw.GM(e.dx.tid),e.goodsItem.upgradeId=e.dx.tid,e.nameTxt.text=e.dx.name,e.nameTxt.textColor=aKF.DU(e.qj),e.wc=App.OG.treasureInfo["s_"+e.qt]||0,e.mo.currStar=e.wc,e.jd())},t.prototype.jd=function(){var e=this;if(e.qt){var t=App.OG.treasureInfo["c_"+e.qt]||0;if(e.cpTxt.text=fvg.GVf("teamcopy15",t),e.tc=App.OG.treasureInfo[e.qt]||1,e.gradeTxt.text=fvg.GVf("skill066",e.tc,e.dx.maxgrade),e.ex=App.OG.getStarAttrsByTemp(e.dx),e.attrTxt_1.text="",e.attrTxt_2.text="",e.nd(1,e.tc),e.wz=App.JP.getTreasureUpNeedCount(e.tc,e.qj),e.gr(null),e.tc<e.dx.maxgrade){e.nd(2,e.tc+1),e.maxAttrTxt.visible=!1;var n=App.OG.treasureInfo["gp_"+e.qt]||0;e.expTxt.text=fvg.GVf("beauty17",n,e.wz),e.expProg.value=int(n/e.wz*100)}else e.maxAttrTxt.visible=!0,e.expTxt.text="MAX",e.expProg.value=100;e.attrTxt_1.height;e.iy&&e.iy!=e.tc&&App.KB.showEffect(gYq.UQ),e.iy=e.tc}},t.prototype.gr=function(e){var t=this;t.dx&&(t.wm=App.FK.hsx(StaticData.TID_TREASURE_ID_2),t.needTxt.text=fvg.GVf("beauty17",t.wm,1),t.needTxt.textColor=t.wm>=1?Color.TX:Color.KA,t.haveTxt.text=toChars(t.wm),t.haveTxt.textColor=t.wm>=1?Color.TX:Color.KA,t.oneKeyBtn.icon=t.upgradeBtn.icon=t.wm>=1&&t.tc<t.dx.maxgrade?StaticData.GHj:null)},t.prototype.nd=function(e,t){var n=this,i=XCA.YV(n.dx.attrid);if(i){var r=void 0,a=void 0,o="";for(r in xxf.UK)a=App.JP.getTreasureUpAttr(n.qj,t,i[r])||0,a>0&&(o+=fvg.GVf("skill004",xxf.UK[r],Math.ceil(a))+"\n");for(r in xxf.IM)a=App.JP.getTreasureUpAttr(n.qj,t,i[r])||0,a&&(o+=fvg.GVf("skill004",xxf.IM[r],(a/10).toFixed(1)+"%")+"\n");this["attrTxt_"+e].textFlow=LgRe.OQ(o)}},t.prototype.ki=function(e){GObj.$d(this)},t.prototype.wk=function(e){var t=this;if(t.dx)return t.tc>=t.dx.maxgrade?void App.TT.show(fvg.GVf("skill006")):t.wm<=0?void _JDW.TR(StaticData.TID_TREASURE_ID_2):void TreasureMsgProxy.RP(1,t.qt)},t.prototype.sv=function(e){var t=this;if(t.dx)return t.tc>=t.dx.maxgrade?void App.TT.show(fvg.GVf("skill006")):t.wm<=0?void _JDW.TR(StaticData.TID_TREASURE_ID_2):void TreasureMsgProxy.RP(2,t.qt)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.currAttrDescTxt),t.currAttrDescTxt=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.nextAttrDescTxt),t.nextAttrDescTxt=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.needTxt),t.needTxt=null,GObj.$d(t.upgradeBtn),t.upgradeBtn=null,GObj.$d(t.mo),t.mo=null,GObj.$d(t.maxAttrTxt),t.maxAttrTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.expProg),t.expProg=null,GObj.$d(t.smaicon1),t.smaicon1=null,GObj.$d(t.smaicon2),t.smaicon2=null,t.dx=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasureUpPopUi.prototype,"TreasureUpPopUi");var TreasureUpStarPopUi=function(e){function t(){var t=e.call(this,"TreasureUpStarPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.st=e[0],n.md())},t.prototype.initView=function(){var e=this;e.title=fvg.GVf("treasure26"),e.upStarBtn.label=fvg.GVf("store042"),e.currAttrDescTxt.text=fvg.GVf("beast03"),e.nextAttrDescTxt.text=fvg.GVf("treasure20"),e.maxTxt.text=fvg.GVf("treasure19"),e.lf=GObj.$c(GeneralStarView),e.lf.maxStar=10,e.lf.open_star_key=kLM.NZ(),e.lf.close_star_key=kLM.ZH(),e.lf.star_width=25,e.lf.gap=2,e.lf.x=140,e.lf.y=106,e.lf.visible=!0,e.addChildAt(e.lf,15)},t.prototype.initData=function(){this.md()},t.prototype.initEvent=function(){var e=this;e.upStarBtn.addEventListener(eui.tep,e.tr,e),vkG.$a(UtJ._A,e.zr,e),vkG.$a(UtJ.DV,e.vm,e)},t.prototype.removeEvent=function(){var e=this;e.upStarBtn.removeEventListener(eui.tep,e.tr,e),vkG.$r(UtJ._A,e.zr,e),vkG.$r(UtJ.DV,e.vm,e)},t.prototype.rh=function(e){GObj.$d(this)},t.prototype.tr=function(e){var t=this;return t.qa>=t.st.p2?void App.TT.show(fvg.GVf("skill006")):t.er<t.ll.count?void _JDW.TR(t.ll.tid,t.ll.count-t.er):void TreasureMsgProxy.YH(gLw.IQ(t.st.tid))},t.prototype.md=function(){var e=this;e.CSo&&e.st&&(e.ih=gLw.IQ(e.st.tid),e.nameTxt.text=e.st.name,e.zn=gLw.GM(e.st.tid),e.nameTxt.textColor=aKF.DU(e.zn),e.zr())},t.prototype.zr=function(){var e=this;if(e.CSo&&e.st){e.ih=gLw.IQ(e.st.tid);var t=App.OG.treasureInfo["c_"+e.ih]||0;e.cpTxt.text=fvg.GVf("teamcopy15",t),e.qa=App.OG.treasureInfo["s_"+e.ih]||0,e.lf.currStar=e.qa,e.ll||(e.ll=GObj.$c(nlwj)),e.ll.tid=parseInt(e.st.cost),e.ll.count=App.OG.getUpstarCountByStarGrade(e.qa)||1,e.upstarIcon.data=e.ll,e.goodsItem.data=e.ll,e.er=App.FK.hsx(parseInt(e.st.cost)),e.upstarIcon.bottomText=fvg.GVf("beauty17",e.er,e.ll.count),e.upstarIcon.bottomColor=e.er>=e.ll.count?Color.TX:Color.KA,e.upStarBtn.icon=e.er>=e.ll.count&&e.qa<e.st.p2?StaticData.GHj:null,e.ry&&e.ry!=e.qa&&App.KB.showEffect(gYq.UQ),e.ry=e.qa,e.attrTxt_1.text="",e.attrTxt_2.text="",e.il=App.OG.getStarAttrsByTemp(e.st),e.wn(1,e.qa),e.il=App.OG.getStarAttrsByTemp(e.st,e.qa+1),e.qa<e.st.p2?(e.wn(2,e.qa+1),e.maxTxt.visible=!1):e.maxTxt.visible=!0;XCA.YV(e.st.attrid+1)}},t.prototype.vm=function(){var e=this;e.CSo&&e.st&&(e.er=App.FK.hsx(parseInt(e.st.cost)),e.qa=App.OG.treasureInfo["s_"+e.ih]||0,e.upstarIcon.bottomText=fvg.GVf("beauty17",e.er,e.ll.count),e.upstarIcon.bottomColor=e.er>=e.ll.count?Color.XB:Color.KA,e.upStarBtn.icon=e.er>=e.ll.count&&e.qa<e.st.p2?StaticData.GHj:null)},t.prototype.wn=function(e,t){var n=this,i=n.st.attrid,r=XCA.YV(i);if(r){var a=void 0,o=void 0,s="";for(a in xxf.UK)o=r[a]*t||0,r[a]&&(s+=fvg.GVf("skill004",xxf.UK[a],Math.ceil(o))+"\n");for(a in xxf.IM)o=r[a]*t||0,r[a]&&(s+=fvg.GVf("skill004",xxf.IM[a],(o/10).toFixed(1)+"%")+"\n");this["attrTxt_"+e].textFlow=LgRe.OQ(s)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.cpTxt),t.cpTxt=null,GObj.$d(t.currAttrDescTxt),t.currAttrDescTxt=null,GObj.$d(t.nextAttrDescTxt),t.nextAttrDescTxt=null,GObj.$d(t.upStarBtn),t.upStarBtn=null,GObj.$d(t.upstarIcon),t.upstarIcon=null,GObj.$d(t.attrTxt_1),t.attrTxt_1=null,GObj.$d(t.attrTxt_2),t.attrTxt_2=null,GObj.$d(t.maxTxt),t.maxTxt=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasureUpStarPopUi.prototype,"TreasureUpStarPopUi");var TreasureBoxFrame=function(e){function t(){var t=e.call(this,null)||this,n=RRUU.$s("TreasureBoxFrameSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.previewdata=GObj.$c(eui.ArrayCollection),e.group.dataProvider=e.previewdata,e.group.itemRenderer=GoodsItemRenderer,e.getBtn.label=fvg.GVf("7"),e.descTxt.text=fvg.GVf("trehunting04")},t.prototype.initData=function(){this.nl()},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.__closeClickHandler,e),e.getBtn.addEventListener(eui.tep,e.__closeClickHandler,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.__closeClickHandler,e),e.getBtn.removeEventListener(eui.tep,e.__closeClickHandler,e)},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.previewdata.source=e[0],n.descTxt.visible=!1)},t.prototype.__closeClickHandler=function(e){FunnyMsgProxy.OL(),this.dispose()},t.prototype.nl=function(){var e=this;if(!(e.previewdata.length>0)){var t,n=App.MG.TreasureHunting.bagList,i=[];e.descTxt.visible=!0,i=n[6].rewardList;for(var r=0;r<i.length;r++)t=GObj.$c(nlwj),t.tid=i[r].tempId,t.count=i[r].count,e.previewdata.source.push(t);e.previewdata.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.descTxt),t.descTxt=null,t.group&&(t.group.dataProvider=null,GObj.$d(t.group)),t.group=null,t.previewdata=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(TreasureBoxFrame.prototype,"TreasureBoxFrame");var TreasureHuntingFrame=function(e){function t(){var t=e.call(this,"TreasureHuntingFrame")||this;return t.pf=0,FunnyMsgProxy.OL(),t.skinName=RRUU.$s("TreasureHuntingFrame"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.previewBtn.label=fvg.GVf("trehunting02"),e.treBtn.label=fvg.GVf("trehunting03"),e.lv=[[156,450],[22,455],[57,332],[139,242],[235,331],[353,293],[360,154],[166,103]]},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.treBtn.addEventListener(eui.tep,t.zv,t),t.previewBtn.addEventListener(eui.tep,t.sr,t),t.boxBtn.addEventListener(eui.tep,t.te,t),vkG.$a(UtJ.KS,t.po,t),vkG.$a(UtJ.DV,t.kw,t),vkG.$a(UtJ.VPP,t.bt,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.treBtn.removeEventListener(eui.tep,t.zv,t),t.previewBtn.removeEventListener(eui.tep,t.sr,t),t.boxBtn.removeEventListener(eui.tep,t.te,t),vkG.$r(UtJ.KS,t.po,t),vkG.$r(UtJ.DV,t.kw,t),vkG.$r(UtJ.VPP,t.bt,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.po(null),t.kw()},t.prototype.zv=function(e){var t=App.FK.hsx(App.MG.TreasureHunting.p1);if(0>=t)return void _JDW.TR(App.MG.TreasureHunting.p1);for(var n,i=App.MG.TreasureHunting.bagList,r=0;r<i.length;r++)if(n=i[r].conditionList[0],this.pf+1==n.p1)return void FunnyMsgProxy.LR(i[r].id)},t.prototype.te=function(e){App.VS.popup(KqZ.MI,TreasureBoxFrame)},t.prototype.bt=function(){for(var e,t=App.MG.TreasureGoods,n=[],i=0;i<t.length;i++)e=GObj.$c(nlwj),e.tid=t[i].tid,e.count=t[i].count,n.push(e);App.VS.popup(KqZ.MI,TreasureBoxFrame,null,n)},t.prototype.po=function(e){var t=this;t.pf=App.MG.peopleIndex||0;var n=[];n=t.lv[t.pf],t.peopleImg.x=n[0],t.peopleImg.y=n[1],1==e&&t.pf>0&&(t.ty=App.KB.getUIEffect(gYq.NM,100,1),t.ty.x=n[0]-35,t.ty.y=n[1]-5,t.addChild(t.ty))},t.prototype.kw=function(){var e=this,t=App.FK.hsx(App.MG.TreasureHunting.p1),n=t>0,i=n?Color.TX:Color.KA;e.consumeTxt.textFlow=LgRe.OQ(fvg.GVf("458",i,t,1)),e.treBtn.icon=n?StaticData.GHj:null},t.prototype.sr=function(e){App.VS.popup(KqZ.MI,TreasureHuntingPreview)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.consumeTxt),t.consumeTxt=null,GObj.$d(t.peopleImg),t.peopleImg=null,GObj.$d(t.previewBtn),t.previewBtn=null,GObj.$d(t.treBtn),t.treBtn=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.ty),t.ty=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(TreasureHuntingFrame.prototype,"TreasureHuntingFrame");var TreasureHuntingItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TreasureHuntingItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.previewdata=GObj.$c(eui.ArrayCollection),e.group.dataProvider=e.previewdata,e.group.itemRenderer=GoodsItemRenderer},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.dataChanged=function(){var e=this;if(e.data){e.previewdata.source.splice(0,e.previewdata.source.length);var t,n=e.data,i=n.rewardList,r=n.conditionList[0].p1;e.titleTxt.text=fvg.GVf("trehunting05",Nkz.QT(r));for(var a=0;a<i.length;a++)t=GObj.$c(nlwj),t.tid=i[a].tempId,t.count=i[a].count,e.previewdata.source.push(t);e.previewdata.refresh()}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,t.group&&(t.group.dataProvider=null,GObj.$d(t.group)),t.group=null,t.previewdata=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasureHuntingItem.prototype,"TreasureHuntingItem");var TreasureHuntingPreview=function(e){function t(){var t=e.call(this,null)||this,n=RRUU.$s("TreasureHuntingPreviewSkin");return t.skinName=n,t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.previewdata=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.previewdata,e.itemList.itemRenderer=TreasureHuntingItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.__closeClickHandler,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.__closeClickHandler,e)},t.prototype.initData=function(){this.zn()},t.prototype.zn=function(){for(var e=this,t=App.MG.TreasureHunting.bagList,n=0;n<t.length;n++)e.previewdata.source.push(t[n]);e.previewdata.refresh()},t.prototype.__closeClickHandler=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.previewdata=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(TreasureHuntingPreview.prototype,"TreasureHuntingPreview");var TreasuryAboutPopUi=function(e){function t(){return e.call(this,"TreasuryAboutPopUi")||this}return __extends(t,e),t.prototype.initData=function(){this._aboutType=AboutType.RQ,e.prototype.initData.call(this)},t}(GeneralAboutPopUi);__reflect(TreasuryAboutPopUi.prototype,"TreasuryAboutPopUi");var TreasuryBigRItem=function(e){function t(){var t=e.call(this,"TreasuryBigRItem")||this;return t.skinName=RRUU.$s("TreasuryBigRItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipGrade=GObj.$c(NumberView),e.vipGrade.x=40,e.vipGrade.y=-3,e.vipGroup.addChild(e.vipGrade),e.itemView.showNumTxt=!1,e.updateView()},t.prototype.initData=function(){},t.prototype.updateView=function(){var e=this;e.CSo&&(e.vip?(e.vipGroup.visible=!0,hFO.instance.getNumberView(bRC.MI,toChars(e.vip),-4,e.vipGrade)):e.vipGroup.visible=!1,e.goods&&(e.itemView.data=e.goods))},Object.defineProperty(t.prototype,"goods",{get:function(){return this.uq},set:function(e){var t=this;t.uq=e,t.updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"vip",{get:function(){return this.gs},set:function(e){var t=this;t.gs=e,t.updateView()},enumerable:!0,configurable:!0}),t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.db,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.db,e)},t.prototype.db=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipGrade),t.vipGrade=null,t.uq=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TreasuryBigRItem.prototype,"TreasuryBigRItem");var TreasuryBuyPopUi=function(e){function t(){var t=e.call(this,"TreasuryBuyPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("shop6"),e.buyBtn.label=fvg.GVf("shop6"),e.priceLab.text=fvg.GVf("shop25")},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.bk,e),e.sizeSelector.addEventListener(egret.Event.CHANGE,e.lx,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.bk,e),e.sizeSelector.removeEventListener(egret.Event.CHANGE,e.lx,e)},t.prototype.initData=function(){this.rq()},t.prototype.rq=function(){var e=this;e.CSo&&e.tr&&(e.itemView.data=e.tr,e.nameTxt.text=e.tr.TSF.name,e.nameTxt.textColor=aKF.DU(e.tr.quality),e.gradeTxt.text=fvg.GVf("public013",e.tr.TSF.needgrade),e.moneyIcon.source=kLM.PO(e.ix.tid),e.sizeSelector.maxCount=int(e.gi.totalGet-e.gi.haveGet),e.limitTxt.text=fvg.GVf("shop22",e.sizeSelector.maxCount),e.limitTxt.textColor=e.sizeSelector.maxCount>0?Color.XB:Color.KA,e.sizeSelector.minCount=1,e.sizeSelector.selectedCount=1,e.kx())},t.prototype.kx=function(){var e=this;e.gi&&(e.lq=e.gi.conditionList?e.gi.conditionList[0]:null,e.lq&&e.lq.p4>0?e.descTxt.text=fvg.GVf("shop23_"+e.lq.p4+"_"+e.lq.p3):e.descTxt.text="")},t.prototype.lx=function(e){var t=this;if(t.ix){var n=t.sizeSelector.selectedCount,i=n*t.ix.count;t.priceTxt.text=toChars(i);var r=App.IQ.getMoneyByTid(t.ix.tid);i>r?t.priceTxt.textColor=Color.KA:t.priceTxt.textColor=Color.XB,t.moneyIcon.x=t.priceTxt.x+t.priceTxt.textWidth+3}},t.prototype.shows=function(e,t,n){var i=this;i.tr=e,i.ix=t,i.gi=n,i.rq(),alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.bk=function(e){var t=this;if(t.gi){if(t.gi.haveGet>=t.gi.totalGet)return App.TT.show(fvg.GVf("shop9")),void GObj.$d(t);var n=t.sizeSelector.selectedCount;if(n>t.gi.totalGet-t.gi.haveGet)return App.TT.show(fvg.GVf("shop9")),void GObj.$d(t);if(t.uu()){var i=n*t.ix.count,r=App.IQ.getMoneyByTid(t.ix.tid);return i>r?void _JDW.TR(t.ix.tid):void App.JA.checkIncome(t.jr,t)}}},t.prototype.jr=function(){var e=this;FunnyMsgProxy.LR(e.gi.id,e.sizeSelector.selectedCount),GObj.$d(e)},t.prototype.uu=function(){var e=this;if(!e.lq||!e.lq.p4)return!0;switch(e.lq.p4){case 1:if((App.HB.crossArenaVo.history||0)<e.lq.p3)return App.TT.show(fvg.GVf("shop24")),!1}return!0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.limitTxt),t.limitTxt=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.moneyIcon),t.moneyIcon=null,GObj.$d(t.sizeSelector),t.sizeSelector=null,GObj.$d(t.priceLab),t.priceLab=null,GObj.$d(t.descTxt),t.descTxt=null,t.tr=null,t.ix=null,t.gi=null,t.lq=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasuryBuyPopUi.prototype,"TreasuryBuyPopUi");var TreasuryFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fm=GObj.$c(kQr),e.fm.cwA(e.treasuryBtn),e.fm.cwA(e.treasuryShopBtn)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.fm.selectedIndex=0,t.frameGroup.moneyType={scdTid:304002601},t.js()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.fm.addEventListener(egret.Event.CHANGE,t.mb,t),vkG.$a(UtJ.DV,t.js,t),vkG.$a(UtJ.AW,t.js,t),vkG.$a(UtJ.CR,t.js,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.fm.removeEventListener(egret.Event.CHANGE,t.mb,t),vkG.$r(UtJ.DV,t.js,t),vkG.$r(UtJ.AW,t.js,t),vkG.$r(UtJ.CR,t.js,t)},t.prototype.mb=function(e){var t=this,n=t.fm.LuO;switch(t.mf&&(t.mf.visible=!1),t.mf=null,n){case t.treasuryBtn:t.pe||(t.pe=GObj.$c(TreasuryView),t.pe.x=24,t.pe.y=58,t.addChild(t.pe)),t.mf=t.pe;break;case t.treasuryShopBtn:t.hu||(t.hu=GObj.$c(TreasuryShopView),t.hu.x=25,t.hu.y=63,t.addChild(t.hu)),t.mf=t.hu}t.mf&&(t.mf.visible=!0)},t.prototype.js=function(){this.treasuryBtn.icon=UsU._S()?StaticData.GHj:""},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),GObj.$d(t.pe),t.pe=null,GObj.$d(t.hu),t.hu=null,GObj.$d(t.fm),t.fm=null,GObj.$d(t.treasuryBtn),t.treasuryBtn=null,GObj.$d(t.treasuryShopBtn),t.treasuryShopBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.mf=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(TreasuryFrame.prototype,"TreasuryFrame");var TreasuryPreItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TreasuryPreItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipGrade=GObj.$c(NumberView),e.vipGrade.x=31,e.vipGrade.y=0,e.vipGroup.addChild(e.vipGrade)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.data.vip?(e.vipGroup.visible=!0,hFO.instance.getNumberView(bRC.HF,toChars(e.data.vip),-4,e.vipGrade)):e.vipGroup.visible=!1;var t=e.data.goods;e.itemView.data=t,e.nameTxt.text=t.TSF.name,e.nameTxt.textColor=aKF.DU(t.quality)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.yb,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.yb,e)},t.prototype.yb=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipGrade),t.vipGrade=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasuryPreItem.prototype,"TreasuryPreItem");var TreasuryPrePopUi=function(e){function t(){var t=e.call(this,"TreasuryPrePopUi")||this;return t.skinName=RRUU.$s("TreasuryPrePopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=TreasuryPreItem,e.title=fvg.GVf("TreasureForge03")},t.prototype.initData=function(){this.dt()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.ym=e[0],n.dt())},t.prototype.dt=function(){var e=this;e.CSo&&e.ym&&(e.datas.source.length=0,e.datas.replaceAll(e.ym),e.datas.refresh())},t.prototype.pj=function(e,t){return e.quality>t.quality?-1:1},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,t.ym=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasuryPrePopUi.prototype,"TreasuryPrePopUi");var TreasuryRecordItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("TreasuryRecordItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fe,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fe,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.msgTxt.textFlow=e.data,e.height=e.msgTxt.height)},t.prototype.fe=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.msgTxt),t.msgTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasuryRecordItem.prototype,"TreasuryRecordItem");var TreasuryRecordPopUi=function(e){function t(){var t=e.call(this,"TreasuryRecordPopUi")||this;return t.skinName=RRUU.$s("TreasuryRecordPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemDatas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemDatas,e.itemGroup.itemRenderer=TreasuryRecordItem,e.title=fvg.GVf("TreasureForge04")},t.prototype.initData=function(){for(var e,t,n,i,r,a,o,s,p=this,l=App.MG.treasuryReports.length,c=0;l>c;c++)s=App.MG.treasuryReports[c],e=s.count,t=s.id.length,n=s.id,i=XCA.FR(n),r=aKF.QV(i.qua),a=fvg.GVf("wealthDish04",r,i.name),o=fvg.GVf("wealthDish02",1)+a+"x"+e,p.itemDatas.source.push(LgRe.OQ(o));p.itemDatas.refresh(),egret.Tween.get(p).wait(50).call(p.yp,p)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.MG,e.bz,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.MG,e.bz,e)},t.prototype.bz=function(){this.itemDatas.refresh()},t.prototype.yp=function(){var e=this;e.itemGroup&&e.itemGroup.invalidateDisplayList()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemDatas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(TreasuryRecordPopUi.prototype,"TreasuryRecordPopUi");var TreasuryRecordView=function(e){function t(){var t=e.call(this,"TreasuryRecordView")||this;t.sl=3e5,t.ch=420;var n=RRUU.$s("TreasuryRecordViewSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.lm=!1,e.touchEnabled=e.touchChildren=!1,e.kw=[],e["if"]=[],e.qi=GObj.$c(GeneralRecordView,e.ch),e.sv=GObj.$c(GeneralRecordView,e.ch),e.kw.push(e.qi),e.kw.push(e.sv)},t.prototype.initData=function(){var e=this,t=App.MG.crossTime;!t||GApp.timer-t>e.sl?ziI.MF("treasuresPeopleLog"):e.hk()},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.YGK,e.yk,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.YGK,e.yk,e),vkG.$r(HUtJ.HEARTBEAT,e.h_,e),App.HA.unRegisteEnterFrame2(e.zx,e)},t.prototype.yk=function(){this.hk()},t.prototype.hk=function(){var e=this;e.lm||(e.lm=!0,vkG.$a(HUtJ.HEARTBEAT,e.h_,e),e["if"]=App.MG.treasuryNotices,e.qi.setRecordData(e["if"],5,1,1),e.sv.setRecordData(e["if"],5,1,1),e.qi.y=0,e.sv.y=e.qi.totalHeight,e.recordGroup.addChild(e.qi),e.recordGroup.addChild(e.sv),App.HA.registeEnterFrame2(e.zx,e))},t.prototype.zx=function(){var e=this;if(!e.destory)for(var t=e.kw.length-1;t>=0;t--)e.rw=e.kw[t],e.rw.y--,e.rw.y<=-e.rw.totalHeight-5&&(e.rw=e.kw.splice(t,1)[0],e.rw.y=e.kw[0].y+e.kw[0].totalHeight,e.rw.setRecordData(e["if"],5,1,2),e.kw.push(e.rw))
},t.prototype.h_=function(){var e=App.MG.crossTime;(!e||GApp.timer-e>this.sl)&&(App.MG.crossTime=GApp.timer,ziI.MF("treasuresPeopleLog"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.qi),t.qi=null,GObj.$d(t.sv),t.sv=null,GObj.$d(t.recordGroup),t.recordGroup=null;for(var n=t.kw.length,i=0;n>i;i++)GObj.$d(t.kw[i]),t.kw[i]=null;t.kw=null,t.rw=null,t["if"]=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TreasuryRecordView.prototype,"TreasuryRecordView");var TreasuryRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TreasuryRewardItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipGrade=GObj.$c(NumberView),e.vipGrade.x=40,e.vipGrade.y=-3,e.vipGroup.addChild(e.vipGrade)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data)if(e.data.vip?(e.vipGroup.visible=!0,hFO.instance.getNumberView(bRC.MI,toChars(e.data.vip),-4,e.vipGrade)):e.vipGroup.visible=!1,e.data.goods){var t=e.data.goods;e.itemView.data=t}else e.itemView.data=null},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.zl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.zl,e)},t.prototype.zl=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipGrade),t.vipGrade=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasuryRewardItem.prototype,"TreasuryRewardItem");var TreasuryShopItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("TreasuryShopItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ot=GObj.$c(nlwj),e.jx=GObj.$c(nlwj),e.buyBtn.label=fvg.GVf("shop6")},t.prototype.initEvent=function(){var e=this;e.buyBtn.addEventListener(eui.tep,e.hs,e),e.addEventListener(eui.RFS,e.zs,e),vkG.$a(UtJ.PP,e.xx,e)},t.prototype.removeEvent=function(){var e=this;e.buyBtn.removeEventListener(eui.tep,e.hs,e),e.removeEventListener(eui.RFS,e.zs,e),vkG.$r(UtJ.PP,e.xx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ti=e.data;var t=e.ti.conditionList?e.ti.conditionList[0]:null,n=0;t?(e.ot.tid=t.p2,e.ot.count=t.p1,n=t.p3):(e.ot.tid=0,e.ot.count=0);var i=e.ti.rewardList||[];i.length>0?(e.jx.tid=i[0].tempId,e.jx.count=i[0].count):e.jx.tid=e.jx.count=0,e.itemView.data=e.jx;var r=e.jx.TSF;e.nameTxt.text=r?r.name:"",e.nameTxt.textColor=r?aKF.DU(r.qua):Color.XB,e.priceTxt.text=toChars(e.ot.count),e.moneyIcon.source=kLM.PO(e.ot.tid);var a=App.XT.vipGrade>=n;e.buyBtn.visible=e.ti.haveGet<e.ti.totalGet&&a,e.conTxt.text=fvg.GVf("treasury6",n),e.conTxt.visible=!a,e.boughtImg.visible=!e.buyBtn.visible&&a,e.redPointImg.visible=!1}},t.prototype.hs=function(e){var t=this;if(!t.jx.TSF||!t.ot.TSF)return void App.TT.show(fvg.GVf("shop21"));var n=GObj.$c(TreasuryBuyPopUi);n.shows(t.jx,t.ot,t.ti)},t.prototype.xx=function(e){this.dataChanged()},t.prototype.zs=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.priceTxt),t.priceTxt=null,GObj.$d(t.moneyIcon),t.moneyIcon=null,GObj.$d(t.buyBtn),t.buyBtn=null,GObj.$d(t.boughtImg),t.boughtImg=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.conTxt),t.conTxt=null,t.ti=null,t.ot=null,t.jx=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(TreasuryShopItem.prototype,"TreasuryShopItem");var TreasuryShopView=function(e){function t(){var t=e.call(this,"TreasuryShopView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=TreasuryShopItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.AW,e.kg,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.AW,e.kg,e),vkG.$r(UtJ.HD,e.ow,e)},t.prototype.initData=function(){this.kg()},t.prototype.kg=function(){for(var e=this,t=App.MG.treasuryShops,n=0;n<t.length;n++)if(t[n].isExist){e.th=t[n];break}e.nq(null)},t.prototype.nq=function(e){var t=this;t.itemScroller&&t.itemScroller.stopAnimation(),t.ts(),t.updateLastTime()},t.prototype.ts=function(){var e=this,t=e.th?e.th.bagList:[],n=t.length;e.itemData.source.length=0;for(var i=0;n>i;i++)e.itemData.source.push(t[i]);e.itemData.refresh()},t.prototype.updateLastTime=function(){var e=this,t=e.th?e.th.showEnd-App.NN.serverSecond:0;t>0?vkG.$a(UtJ.HD,e.ow,e):vkG.$r(UtJ.HD,e.ow,e),e.ow()},t.prototype.ow=function(){var e=this,t=e.th?e.th.showEnd-App.NN.serverSecond:0;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.SQ):(vkG.$r(UtJ.HD,e.ow,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.timeTxt),t.timeTxt=null,t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,t.th=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TreasuryShopView.prototype,"TreasuryShopView");var TreasuryView=function(e){function t(){var t=e.call(this,"TreasuryView")||this;return t.frame_1=30,t.frame_2=250,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.bigRewardTxt_1.text=fvg.GVf("treasury2"),e.bigRewardTxt_2.text=fvg.GVf("treasury2"),e.descTxt.text=fvg.GVf("treasury3"),e.oneBtn.label=fvg.GVf("TreasureForge01"),e.tenBtn.label=fvg.GVf("TreasureForge02"),e.recordBtn.label=fvg.GVf("TreasureForge04"),e.allRewardBtn.label=fvg.GVf("treasury4"),e.dropLab.text=fvg.GVf("treasury7"),e.supremeLab.text=fvg.GVf("treasury8"),e.supreme1Lab.text=fvg.GVf("treasury8"),e.mm=GObj.$c(TreasuryRecordView),e.mm.x=58,e.mm.y=286,e.addChild(e.mm),e.dropData=GObj.$c(eui.ArrayCollection),e.dropGroup.dataProvider=e.dropData,e.dropGroup.itemRenderer=GoodsItemRenderer,e.lc=GObj.$c(nlwj),e.sb=!1,e.an=1e3,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=TreasuryRewardItem,e.gr=[],e.bigRItems=[];for(var t=1;3>t;t++)e.bigRItems.push(this["bigRewardItem_"+t])},t.prototype.initData=function(){var e=this;e.kh(),e.ok_h=e.lm},t.prototype.initEvent=function(){var e=this;e.recordBtn.addEventListener(eui.tep,e.nu,e),e.allRewardBtn.addEventListener(eui.tep,e.mv,e),e.oneBtn.addEventListener(eui.tep,e.zj,e),e.tenBtn.addEventListener(eui.tep,e.ci,e),e.helpBtn.addEventListener(eui.tep,e.gn,e),vkG.$a(UtJ.NS,e.ub,e),vkG.$a(UtJ.DV,e.yo,e),vkG.$a(UtJ.AW,e.kh,e),vkG.$a(UtJ.CR,e.kh,e)},t.prototype.removeEvent=function(){var e=this;e.recordBtn.removeEventListener(eui.tep,e.nu,e),e.allRewardBtn.removeEventListener(eui.tep,e.mv,e),e.oneBtn.removeEventListener(eui.tep,e.zj,e),e.tenBtn.removeEventListener(eui.tep,e.ci,e),e.helpBtn.removeEventListener(eui.tep,e.gn,e),vkG.$r(UtJ.NS,e.ub,e),vkG.$r(UtJ.DV,e.yo,e),vkG.$r(UtJ.AW,e.kh,e),vkG.$r(UtJ.CR,e.kh,e),vkG.$r(HUtJ.HEARTBEAT,e.rb,e),App.HA.unRegisteEnterFrame(e.jr,e)},t.prototype.kh=function(){for(var e=App.MG.treasuryList,t=e.length,n=0;t>n;n++)if(e[n].isExist)return void(this.ok_h=e[n])},Object.defineProperty(t.prototype,"ok_h",{get:function(){return this.lm},set:function(e){var t=this;t.lm=e,t.refreshView(!0)},enumerable:!0,configurable:!0}),t.prototype.refreshView=function(e){var t=this;t.CSo&&t.lm&&(t.updateLastTime(),t.jt(),t.ho(),t._a())},t.prototype.updateLastTime=function(){var e=this,t=e.ok_h.endTime-App.NN.serverSecond;t>0?vkG.$a(HUtJ.HEARTBEAT,e.rb,e):vkG.$r(HUtJ.HEARTBEAT,e.rb,e),e.rb()},t.prototype.rb=function(){var e=this;if(e.timeTxt){var t=e.ok_h.endTime-App.NN.serverSecond;t>0?(e.kk=!1,e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(e.kk=!0,vkG.$r(HUtJ.HEARTBEAT,e.rb,e),e.timeTxt.text=fvg.GVf("s4"),e.timeTxt.textColor=Color.KA)}},t.prototype.nu=function(e){App.VS.popup(KqZ.ZC,TreasuryRecordPopUi)},t.prototype.mv=function(e){var t=this;t.ho(),App.VS.popup(KqZ.ZC,TreasuryPrePopUi,null,t.gr)},t.prototype.zj=function(e){var t=this;if(t.as)return void App.TT.show(fvg.GVf("store003"));if(!t.lm||t.kk)return void App.TT.show(fvg.GVf("public035"));if(!t.lc.tid&&!t.lc.count)return void App.TT.show(fvg.GVf("rename109"));var n=App.FK.hsx(t.lc.tid);if(n<t.lc.count)return void _JDW.TR(t.lc.tid);var i=t.lm.bagList[0];i&&FunnyMsgProxy.LR(i.id,1),t.as=!0},t.prototype.ci=function(e){var t=this;if(t.as)return void App.TT.show(fvg.GVf("store003"));if(!t.lm||t.kk)return void App.TT.show(fvg.GVf("public035"));if(!t.lc.tid&&!t.lc.count)return void App.TT.show(fvg.GVf("rename109"));var n=App.FK.hsx(t.lc.tid);if(n<t.lc.count*t.an)return void _JDW.TR(t.lc.tid);var i=t.lm.bagList[0];i&&FunnyMsgProxy.LR(i.id,10),t.as=!0},t.prototype.gn=function(e){App.VS.popup(KqZ.ZC,TreasuryAboutPopUi)},t.prototype.pc=function(){var e=this;e.l_(),e.uw(),e.lg=0,App.HA.registeEnterFrame(e.jr,e)},t.prototype.jr=function(){var e=this;e.CSo&&!e.destory&&(e.lg++,e.lg>e.frame_1?(e.lg%3==0&&(e.lightImg.rotation+=5),e.lg%e.frame_2==0&&(egret.Tween.removeTweens(e.dropGroup),e.dropGroup.visible=!1,e.lightImg.visible=!1,e.sx(),e.as=!1,e.mm.visible=!0,App.HA.unRegisteEnterFrame(e.jr,e))):e.lg%e.frame_1==0&&(e.lightImg.visible=!0,e.dropGroup.visible=!0,e.dropGroup.scaleX=e.dropGroup.scaleY=.3,egret.Tween.get(e.dropGroup).to({scaleX:1,scaleY:1},300)))},t.prototype.uw=function(){var e=this;!e.sb&&e.leftGroup&&e.rightGroup&&(e.mm.visible=!1,egret.Tween.get(e.leftGroup).to({y:-400},1e3).wait(400).call(e.ul,e),egret.Tween.get(e.rightGroup).to({y:-400},1e3).wait(400).call(e.dg,e))},t.prototype.sx=function(){var e=this;!e.sb&&e.leftGroup&&e.rightGroup&&(egret.Tween.get(e.leftGroup).to({x:88},250).call(e.ul,e),egret.Tween.get(e.rightGroup).to({x:282},250).call(e.dg,e))},t.prototype.es=function(){var e=this;e&&egret.Tween.removeTweens(e)},t.prototype.l_=function(){var e=this;e.dg(),e.ul()},t.prototype.dg=function(){var e=this;e.rightGroup&&(egret.Tween.removeTweens(e.rightGroup),e.rightGroup.y=4)},t.prototype.ul=function(){var e=this;e.leftGroup&&(egret.Tween.removeTweens(e.leftGroup),e.leftGroup.y=4)},t.prototype.ub=function(e,t){var n=this;if(e&&n.as){if(0==e.length)return App.TT.show(fvg.GVf("treasury5",t||1)),void(n.as=!1);var i=e.length;n.dropData.source.length=0,n.dropData.replaceAll(e),n.dropGroup.width=74*Math.min(i,5),n.dropGroup.height=74*Math.ceil(i/5);for(var r=3,a=0;i>a;a++){if(e[a].p1==aKF.MM){r=aKF.MM;break}e[a].p1==aKF.DR&&(r=aKF.DR)}r==aKF.MM?App.KB.showEffect(gYq.UA,100,-40,-210):r==aKF.DR&&App.KB.showEffect(gYq.ZA,100,-40,-210),n.pc()}},t.prototype.jt=function(){var e=this;if(e.CSo&&e.lm){var t=kLM.B_(e.lm.type)||kLM.XD(2);e.needIcon_1.source=t,e.needIcon_2.source=t}},t.prototype.ho=function(){var e=this;e.rewardData.source.length=0,e.gr.length=0;for(var t,n,i,r,a,o=e.lm.bagList,s=o.length,p=0,l=0,c=0;s>c;c++){t=o[c],n=t.rewardList[0],r=t.conditionList[0],1==r.p3&&n&&e.bigRItems[p]&&(i=GObj.$c(nlwj),i.tid=n.tempId,i.count=n.count,e.bigRItems[p].goods=i,e.bigRItems[p].vip=r.p2,p++),2==r.p3&&n&&(i=GObj.$c(nlwj),i.tid=n.tempId,i.count=n.count,a={},a.goods=i,a.vip=r.p2,e.rewardData.source.push(a));var u=74*e.rewardData.length+5*(e.rewardData.length-1);e.scroller.width=Math.min(u,391),3==r.p3&&n&&(i=GObj.$c(nlwj),i.tid=n.tempId,i.count=n.count,l=r.p2,a={},a.goods=i,a.vip=l,e.gr.push(a))}for(var c=0;2>c;c++)e.bigRItems[c].goods||(this["selfmix.giftGroup_"+c+1].visible=!1);e.rewardData.refresh()},t.prototype.yo=function(e){var t=this;t.lc&&t._a()},t.prototype._a=function(){var e=this;if(e.CSo&&!e.destory&&e.lm){e.lc.tid=0,e.lc.count=0,e.lm&&(e.lc.tid=e.lm.p1||0,e.lc.count=e.lm.p2||0,e.an=(e.lm.p3||1e3)/100);var t=App.FK.hsx(e.lc.tid),n=e.lc.count*e.an;e.needTxt_1.text=fvg.GVf("beauty17",t,e.lc.count),e.needTxt_1.textColor=t>=e.lc.count?Color.SQ:Color.KA,e.needTxt_2.text=fvg.GVf("beauty17",t,n),e.needTxt_2.textColor=t>=n?Color.SQ:Color.KA,e.oneBtn.icon=t>=e.lc.count?StaticData.GHj:null,e.tenBtn.icon=t>=n?StaticData.GHj:null}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.l_(),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.lightImg),t.lightImg=null,GObj.$d(t.leftGroup),t.leftGroup=null,GObj.$d(t.bigRItems),t.bigRItems=null,GObj.$d(t.bigRewardTxt_2),t.bigRewardTxt_2=null,GObj.$d(t.bigRewardTxt_1),t.bigRewardTxt_1=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.needIcon_1),t.needIcon_1=null,GObj.$d(t.needIcon_2),t.needIcon_2=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t.allRewardBtn),t.allRewardBtn=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.dropLab),t.dropLab=null,GObj.$d(t.supremeLab),t.supremeLab=null,GObj.$d(t.supreme1Lab),t.supreme1Lab=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.dropGroup&&(egret.Tween.removeTweens(t.dropGroup),t.dropGroup.dataProvider=null,GObj.$d(t.dropGroup)),t.dropGroup=null,t.sb=!1,GObj.$d(t.helpBtn),t.helpBtn=null,GObj.$d(t.mm),t.mm=null,t.dropData=null,t.lc=null,t.lm=null,t.rewardData=null,t.gr&&(t.gr.length=0),t.gr=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(TreasuryView.prototype,"TreasuryView");var GeneralRecordView=function(e){function t(t){var n=e.call(this,"GeneralRecordView")||this;n.bu=t;var i=RRUU.$s("GeneralRecordViewSkin");return n.skinName=i,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.width=e.bu,e.py=[],e.gm=[]},t.prototype.setRecordData=function(e,t,n,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===i&&(i=1);var r=this;if(e){r.gm&&(r.gm.length=0);for(var a=0;a<e.length;a++)r.gm.push(App.FQ.getFormatBulletinString(e[a]));r._d=t,r.dh=n,r.kc=i,r.q_()}},t.prototype.q_=function(){var e=this;e.wy();var t,n=e.gm.length;e.nv=0;for(var i=0;n>i;i++)t=e.vb(i),t.textColor=Color.XB,t.size=18,t.textFlow=LgRe.OQ(e.gm[i]),t.y=e.nv,e.addChild(t),t.lineSpacing=e.dh,e.nv+=18*t.numLines,e.nv+=e._d;e.fc&&e.fc>e.nv&&(e.nv=e.fc)},t.prototype.setStringRecordData=function(e,t,n,i){void 0===t&&(t=5),void 0===n&&(n=1),void 0===i&&(i=1);var r=this;e&&(r.gm=e||[],r._d=t,r.dh=n,r.kc=i,r.q_())},t.prototype.vb=function(e){var t=this;return t.py[e]||(t.py[e]=t._g()),t.py[e]},t.prototype._g=function(){var e=this,t=GObj.$c(egret.TextField);return t.width=e.bu,t.size=18,t.textColor=Color.SE,t.lineSpacing=e.dh,2==e.kc?t.textAlign="center":3==e.kc?t.textAlign="right":t.textAlign="left",t},t.prototype.wy=function(){for(var e,t=this,n=0;n<t.py.length;n++)e=t.py[n],e.parent&&e.parent.removeChild(e)},Object.defineProperty(t.prototype,"totalHeight",{get:function(){return this.nv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{set:function(e){this.fc=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;if(t.py)for(;t.py.length>0;)GObj.$d(t.py.pop());t.py=null,t.gm=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(GeneralRecordView.prototype,"GeneralRecordView");var GeneralStarView=function(e){function t(){var t=e.call(this)||this;return t.star_width=0,t.gap=0,t.bitmaps=[],t.touchEnabled=t.touchChildren=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"maxStar",{get:function(){return this.xa},set:function(e){var t=this;t.xa!=e&&(t.xa=Math.abs(e),t.js())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currStar",{get:function(){return this.sm},set:function(e){var t=this;t.sm!=e&&(t.sm=e,t.bt())},enumerable:!0,configurable:!0}),t.prototype.js=function(){var e=this,t=Math.abs(e.xa-e.bitmaps.length);if(e.xa>e.bitmaps.length)for(var n=0;t>n;n++)e.bitmaps.push(GObj.$c(eui.Image));else for(var i=void 0;t>0;)i=e.bitmaps.pop(),i.source=null,i.parent&&i.parent.removeChild(i),t--},t.prototype.bt=function(){var e=this;if(e.open_star_key)for(var t,n=Math.max(int((e.sm-1)/e.xa),0),i=0;i<e.xa;i++)t=e.bitmaps[i],e.xa*n+i<e.sm?t.source=e.open_star_key[n%(e.open_star_key.length-1)]||e.open_star_key[e.open_star_key.length-1]:t.source=e.close_star_key,t.x=i*(e.star_width+e.gap),t.parent||e.addChild(t)},t.prototype.dispose=function(){var e=this;if(e.bitmaps){for(var t=void 0;e.bitmaps.length>0;)t=e.bitmaps.pop(),t.source=null,t.parent&&t.parent.removeChild(t),GObj.$d(t),t=null;e.bitmaps=null}e.open_star_key=null,e.close_star_key=null,e.parent&&e.parent.removeChild(e)},t}(egret.DisplayObjectContainer);__reflect(GeneralStarView.prototype,"GeneralStarView");var SizeSelectorView=function(e){function t(){var t=e.call(this,"SizeSelectorView")||this;return t.ek=0,t.lp=0,t.wf=10,t.ig=1,t.gf=0,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;e.minBtn&&e.minBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),e.maxBtn&&e.maxBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),e.addBtn&&e.addBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),e.removeBtn&&e.removeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e)},t.prototype.removeEvent=function(){var e=this;e.minBtn&&e.minBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),e.maxBtn&&e.maxBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),e.addBtn&&e.addBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),e.removeBtn&&e.removeBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.qt,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,e.db,e),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,e.db,e),App.HA.unRegisteEnterFrame(e.yg,e)},t.prototype.initData=function(){var e=this;e.gu(e.gf)},t.prototype.qt=function(e){var t=this;if(!t.fs){t.fs=!0,t.yu=0;var n=e.currentTarget;switch(n){case t.maxBtn:t.mi=t.wf;break;case t.minBtn:t.mi=-t.wf;break;case t.addBtn:t.mi=t.ig;break;case t.removeBtn:t.mi=-t.ig}hCs.stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,t.db,t),hCs.stage.addEventListener(egret.TouchEvent.TOUCH_END,t.db,t),App.HA.registeEnterFrame(t.yg,t)}},t.prototype.db=function(e){var t=this;t.fs&&(t.yu<10&&t.gu(t.gf+t.mi),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,t.db,t),hCs.stage.removeEventListener(egret.TouchEvent.TOUCH_END,t.db,t),App.HA.unRegisteEnterFrame(t.yg,t),t.fs=!1)},t.prototype.yg=function(){var e=this;e.fs&&(e.yu++,e.yu%10==0&&e.gu(e.gf+e.mi))},t.prototype.gu=function(e){var t=this;e>=t.maxCount&&(e=t.maxCount,t.fs&&msgTip(fvg.GVf("public074"))),e<=t.minCount&&(e=t.minCount,t.fs&&msgTip(fvg.GVf("public075"))),t.gf!=e&&(t.gf=e,t.countTxt&&(t.countTxt.text=toChars(t.gf)),t.dispatchEventWith(egret.Event.CHANGE))},Object.defineProperty(t.prototype,"selectedCount",{get:function(){return this.gf},set:function(e){this.gu(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxCount",{get:function(){return this.ek},set:function(e){var t=this;t.ek=e,t.ek<t.gf&&t.gu(t.ek)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minCount",{get:function(){return this.lp},set:function(e){this.lp=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxStep",{get:function(){return this.wf},set:function(e){this.wf=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minStep",{get:function(){return this.ig},set:function(e){this.ig=e},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.minBtn),t.minBtn=null,GObj.$d(t.maxBtn),t.maxBtn=null,GObj.$d(t.removeBtn),t.removeBtn=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.countTxt),t.countTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(SizeSelectorView.prototype,"SizeSelectorView");var ValentinesGrid=function(e){function t(){var t=e.call(this,"ValentinesGrid")||this;t.ni=-1,t.ei=[0,0,0,0,90,90,180,180,180,180,90,90,0,0,0,0];var n=RRUU.$s("ValentinesGridSkin");return t.skinName=n,t}return __extends(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this.ni},set:function(e){var t=this;t.ni=e,t.mskback2.rotation=t.ei[t.ni-1],1==t.ni?(t.back.visible=!0,t.beginImg.visible=!0,t.goodsView.visible=!1):16==t.ni?(t.back.visible=!0,t.beginImg.visible=!1,t.goodsView.visible=!1):(t.back.visible=!1,t.beginImg.visible=!1,t.goodsView.visible=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"goodsStr",{set:function(e){var t=GObj.$c(nlwj);t.tid=parseInt(e.split(",")[0]),t.count=parseInt(e.split(",")[1]),this.goodsView.data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hit",{set:function(e){var t=this;t.roleImg.visible=e,t.mskback1.visible=!0,t.mskback2.visible=!0},enumerable:!0,configurable:!0}),t.prototype.reset=function(e){void 0===e&&(e=!1);var t=this;t.roleImg.visible=e,t.container.filters=null,t.mskback1.visible=!1,t.mskback2.visible=!1},t.prototype.initView=function(){var e=this;e.mskback2.verticalCenter=0,e.mskback2.horizontalCenter=0},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.back.addEventListener(eui.tep,e.k_,e)},t.prototype.removeEvent=function(){var e=this;e.back.removeEventListener(eui.tep,e.k_,e)},t.prototype.k_=function(){var e=GObj.$c(BoxPopUi);e.showDetail(134,0,1,"134_"+this.hk(),void 0,!0)},t.prototype.hk=function(){for(var e=App.MA.valentinesVo.layer,t=1,n=App.OZ.getDataByName(IDU.IW),i=n.length,r=0;i>r&&!(e<n[r].key);r++)e=n[r].value;return t},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.back),t.back=null,GObj.$d(t.beginImg),t.beginImg=null,GObj.$d(t.roleImg),t.roleImg=null,GObj.$d(t.goodsView),t.goodsView=null,GObj.$d(t.mskback1),t.mskback1=null,GObj.$d(t.mskback2),t.mskback2=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(ValentinesGrid.prototype,"ValentinesGrid");var ValentinesRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ValentinesRewardItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ee,e),e.getBtn.addEventListener(eui.tep,e.kx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ee,e),e.getBtn.removeEventListener(eui.tep,e.kx,e)},t.prototype.kx=function(e){var t=this;return t.gq&&0!=t.gq.status?void FunnyMsgProxy.LR(t.gq.id):void MessageTipManager.instance.show(fvg.GVf("funny2"))},t.prototype.initData=function(){this.getBtn.label=fvg.GVf("104")},t.prototype.ee=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this,t=e.data;t&&(e.gq=t,e.xy(),e.ut(),e.titleTxt.text=fvg.GVf("valentines11",t.totalFinish))},t.prototype.ut=function(){var e,t=this,n=t.gq.rewardList.length;t.rewardData.source.splice(0,t.rewardData.source.length);for(var i=0;n>i;i++)e=GObj.$c(nlwj),e.tid=t.gq.rewardList[i].tempId,e.count=t.gq.rewardList[i].count,t.rewardData.source.push(e);t.rewardData.refresh()},t.prototype.xy=function(){var e=this,t=e.data;t&&(e.getImg.visible=2==t.status,e.getBtn.visible=!e.getImg.visible,e.getBtn.icon=1==t.status?StaticData.GHj:null)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.getImg),t.getImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ValentinesRewardItem.prototype,"ValentinesRewardItem");var ValentinesRewardPopUi=function(e){function t(){var t=e.call(this,"ValentinesRewardPopUi")||this;return t.datas=new eui.ArrayCollection,t.skinName=RRUU.$s("ValentinesRewardPopUiSkin"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.pe=function(){var e=this;e.datas.source=e.mz.bagList,e.datas.refresh()},t.prototype.initView=function(){this.title=fvg.GVf("468")},t.prototype.initData=function(){var e=this;e.fr=App.MA.valentinesVo,e.mz=App.MG.getValentinesRewardFunny(),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=ValentinesRewardItem,e.pe()},t.prototype.kq=function(e){GObj.$d(this)},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PP,e.vi,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PP,e.vi,e)},t.prototype.vi=function(){this.datas.refresh()},t.prototype.fn=function(){for(var e,t=this,n=t.mz.bagList.length,i=0;n>i;i++)if(2!=t.mz.bagList[i].status&&1!=t.mz.bagList[i].status){e=t.mz.bagList[i].conditionList[0].p1-t.fr.layer;break}return e>0?e:0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.datas),t.datas=null,GObj.$d(t.itemList),t.itemList=null,t.fr=null,t.mz=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ValentinesRewardPopUi.prototype,"ValentinesRewardPopUi");var ValentinesRewardTipsPopUi=function(e){function t(){var t=e.call(this,"ValentinesRewardTipsPopUi")||this;t.oq=10;var n=RRUU.$s("ValentinesRewardTipsPopUiSkin");return t.skinName=n,t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.io=function(){var e=this;if(e.sx){e.descLab.textFlow=LgRe.OQ(fvg.GVf("valentines03",e.sx.layer));var t=Nkz.PI(e.sx.bigpreview);e.rewardData.replaceAll(t)}},t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("valentines17")},t.prototype.initData=function(){var e=this;e.sx=App.MA.valentinesVo,e.confirmBtn.label=fvg.GVf("valentines04"),e.io()},t.prototype.ta=function(e){GObj.$d(this)},t.prototype.initEvent=function(){var e=this;e.confirmBtn.addEventListener(eui.tep,e.ta,e),vkG.$a(UtJ.WVV,e.yj,e),App.MA.isAutoGo&&vkG.$a(UtJ.HD,e.wp,e)},t.prototype.removeEvent=function(){var e=this;e.confirmBtn.removeEventListener(eui.tep,e.ta,e),vkG.$r(UtJ.WVV,e.yj,e),App.MA.isAutoGo&&vkG.$r(UtJ.HD,e.wp,e)},t.prototype.wp=function(){var e=this;e.confirmBtn.label=fvg.GVf("fightingwin001",e.oq),e.oq--,e.oq<0&&e.dispose()},t.prototype.yj=function(){this.io()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.confirmBtn),t.confirmBtn=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.descLab),t.descLab=null,t.sx=null,e.prototype.dispose.call(this),ziI.MF("ValentinesFrame"),t.oq=null},t}(BasePopUi);__reflect(ValentinesRewardTipsPopUi.prototype,"ValentinesRewardTipsPopUi");var ValentinesRunControl=function(){function e(e){this.vs=0;var t=this;t._w=e[0],t._pointer=e[1],t._turnShine=e[2],t.bx=[45,135,-135,-45],t.jm=[0,90,180,270],t.kt=ValentinesManager.instance.valentinesVo,t.be=1,t.qc=t.kt.position}return e.prototype.play=function(){var e=this;e.isPlay=!0,e.vs=-1,e._turnShine.visible=!1,e._turnShine.rotation=e.jm[e.kt.roll-1],Nvm.instance.registeEnterFrame2(e.rr,e)},e.prototype.rr=function(){var e=this;e.vs++,e.be++,e.be>=4&&(e.be=0),e._pointer.rotation=e.bx[e.be],e.be==e.kt.roll-1&&e.vs>=20&&(e._turnShine.visible=!0,Nvm.instance.unRegisteEnterFrame2(e.rr,e),e.lt(e.kt.position))},e.prototype.lt=function(e){var t=this;t._w&&16==t._w.length&&(t.vs=-1,t.vz=e,Nvm.instance.registeEnterFrame2(t.ar,t))},e.prototype.ar=function(){var e=this;if(e.vs++,e.vs%6==0){if(e.qc>=e.vz)return e.isPlay=!1,Nvm.instance.unRegisteEnterFrame2(e.ar,e),void(e.qc>=15&&(App.VS.popup(10114,ValentinesRewardTipsPopUi),e.qc=0));e._w[e.qc].hit=!1,e._w[e.qc+1].hit=!0,e.qc++}},e.prototype.dispose=function(){var e=this;Nvm.instance.unRegisteEnterFrame2(e.rr,e),Nvm.instance.unRegisteEnterFrame2(e.ar,e),GObj.$d(e._w),e._w=null,GObj.$d(e._pointer),e._pointer=null,GObj.$d(e._turnShine),e._turnShine=null,GObj.$d(e.bx),e.bx=null,GObj.$d(e.jm),e.jm=null,e.kt&&(e.kt.roll=0),e.kt=null},e}();__reflect(ValentinesRunControl.prototype,"ValentinesRunControl");var ValentinesSortItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ValentinesSortItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dl,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dl,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dl=function(e){GObj.$d(this)},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data;if(t){t.rank>=1&&t.rank<=3?(e.rankImg.visible=!0,e.rankTxt.visible=!1,e.rankImg.source="core_json.core_rank_"+t.rank+"_png"):(e.rankImg.visible=!1,e.rankTxt.visible=!0,e.rankTxt.text=t.rank.toString()),e.nameTxt.text=t.name?t.name:fvg.GVf("rank10"),e.nameTxt.y=t.name?20:32;var n=Math.floor(t.score/15)+1,i=t.score%15;Math.floor(t.score/15)+1>300&&(n=150,i=15),e.positionTxt.text=t.name?fvg.GVf("valentines10",n,i):"",e.rewardData.source.splice(0,e.rewardData.source.length);
var r=void 0;for(var a in t.award)r=GObj.$c(nlwj),r.count=t.award[a].count,r.tid=t.award[a].tid,e.rewardData.source.push(r);e.rewardData.refresh()}}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.positionTxt),t.positionTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ValentinesSortItem.prototype,"ValentinesSortItem");var ValentinesSortPopUi=function(e){function t(t){var n=e.call(this,"ValentinesSortPopUi")||this;return n.so=50,n.as=0,n.skinName=RRUU.$s(n.id),n.verticalCenter=0,n.horizontalCenter=0,n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("valentines18"),e.rankLab.text=fvg.GVf("teamcopy16"),e.rewardTxt.text=fvg.GVf("107")},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.ew=App.MA.valentinesVo,t.jt=App.MG.getValentinesFunny(),t.datas=GObj.$c(eui.ArrayCollection),t.itemList.dataProvider=t.datas,t.itemList.itemRenderer=ValentinesSortItem,RankMsgProxy.EI(FDG.RP),t.jd()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.HD,t.jd,t),vkG.$a(UtJ.ZGT,t.gn,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.HD,t.jd,t),vkG.$r(UtJ.ZGT,t.gn,t)},t.prototype.gn=function(){var e=this;e.datas.source&&e.du&&(App.TT.show(fvg.GVf("valentines12")),e.du=!1),e.rankTxt.text=e.myRankLab.text="",e.layerTxt.text=e.myLayerTxt.text="",e.myNameLab.text=e.nameLab.text="";var t=App.PV.getGeneralRankByType(FDG.RP,e.jt.id);if(1==t.myrank){e.rankTxt.text=fvg.GVf("38")+t.myrank,e.nameLab.text=App.KF.name,e.nameLab.textColor=Color.SQ,e.layerTxt.text=e.ep(t.myscore);var n=t.rank[1];n&&(e.myRankLab.text=fvg.GVf("38")+(n.rank||0),e.myNameLab.text=n.name||fvg.GVf("rank10"),e.myLayerTxt.text=e.ep(n.score))}else if(t.myrank>1&&t.myrank<=e.so){e.myRankLab.text=fvg.GVf("38")+t.myrank,e.myNameLab.text=App.KF.name,e.myNameLab.textColor=Color.SQ,e.myLayerTxt.text=e.ep(t.myscore);var n=t.rank[t.myrank-2];n&&(e.rankTxt.text=fvg.GVf("38")+(n.rank||0),e.nameLab.text=n.name,e.layerTxt.text=e.ep(n.score))}else{e.myRankLab.text=fvg.GVf("38")+fvg.GVf("public042"),e.myNameLab.text=App.KF.name||fvg.GVf("rank10"),e.myNameLab.textColor=Color.SQ,e.myLayerTxt.text=e.ep(t.myscore);var n=t.rank[t.rank.length-1];e.rankTxt.text=fvg.GVf("38")+(n?n.rank||0:e.so),e.nameLab.text=n&&n.name||fvg.GVf("rank10"),e.layerTxt.text=e.ep(n.score)}e.datas.source=t.rank,e.datas.refresh()},t.prototype.ep=function(e){var t=Math.floor(e/15)+1||1,n=e%15||0;return Math.floor(e/15)+1>150&&(t=150,n=15),fvg.GVf("valentines10",t,n)},t.prototype.bo=function(e){var t=this;t.du=!0;var n=ClockManager.instance.serverSecond;n>t.as+3&&(RankMsgProxy.EI(FDG.RP),t.as=n)},t.prototype.jd=function(){var e=this;if(e.jt){var t=ClockManager.instance.serverSecond;t=e.jt.endTime-t,e.leftTimeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.leftTimeTxt.textColor=Color.SQ,0>t&&(e.leftTimeTxt.text=fvg.GVf("s4"),e.leftTimeTxt.textColor=Color.KA,vkG.$r(UtJ.HD,e.jd,e))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemList),t.itemList=null,GObj.$d(t.datas),t.datas=null,GObj.$d(t.leftTimeTxt),t.leftTimeTxt=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.layerTxt),t.layerTxt=null,GObj.$d(t.myNameLab),t.myNameLab=null,GObj.$d(t.myLayerTxt),t.myLayerTxt=null,GObj.$d(t.myRankLab),t.myRankLab=null,GObj.$d(t.rankLab),t.rankLab=null,GObj.$d(t.rewardTxt),t.rewardTxt=null,t.jt=null,t.ew=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ValentinesSortPopUi.prototype,"ValentinesSortPopUi");var ValentinesView=function(e){function t(){var t=e.call(this,"ValentinesView")||this;return t.ign=0,t.ip=150,t.xz=0,t.ps=2,t.skinName=RRUU.$s("ValentinesView"),t}return __extends(t,e),t.prototype.sh=function(){var e=this;e.am=[45,135,-135,-45],e.gv=[0,90,180,270],e.ns=[],e.rj=[[396,417],[301,417],[206,417],[111,417],[11,417],[11,326],[16,235],[111,235],[206,235],[301,235],[396,235],[396,144],[396,53],[301,53],[206,53],[111,53]];for(var t,n=e.numChildren,i=0;16>i;i++)t=GObj.$c(ValentinesGrid),t.index=i+1,t.x=e.rj[i][0],t.y=e.rj[i][1],e.addChildAt(t,n),e.ns.push(t);e.dv=GObj.$c(ValentinesRunControl,[e.ns,e.pointer,e.turnShine])},t.prototype.initView=function(){var e=this;e.nn=App.MA.valentinesVo,e.od=App.MG.getValentinesFunny(),e.sh(),e.useTxt.text=fvg.GVf("valentines15"),e["do"]()},t.prototype.uuy=function(){var e=this;if(e.ign!=e.nn.layer){e.nn.layer%2+1;e.pointer.rotation=e.am[0],e.turnShine.rotation=e.gv[0],e.turnShine.visible=!0,e.levelGrade.text=fvg.GVf("302",e.nn.layer),e.fb(null);for(var t=e.nn.preview.split("|"),n=1;15>n;n++)e.ns[n].goodsStr=t[n-1],e.nn.position>n?e.ns[n].hit=!1:e.nn.position==n?e.ns[n].hit=!0:e.ns[n].reset();e.ns[0].reset(0==e.nn.position),e.nn.layer!=e.ip?e.ns[15].reset():15==e.nn.position&&(e.ns[15].hit=!0),e.ign=e.nn.layer}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.up(),t.ey(null)},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.aboutBtn.addEventListener(eui.tep,t.fu,t),t.sortBtn.addEventListener(eui.tep,t.of,t),t.turnBtn.addEventListener(eui.tep,t.pk,t),t.rewardBtn.addEventListener(eui.tep,t.ge,t),t.autoGoCheckBox.addEventListener(egret.Event.CHANGE,t.hd,t),vkG.$a(HUtJ.HEARTBEAT,t.up,t),vkG.$a(UtJ.DV,t.fb,t),vkG.$a(UtJ.PP,t.ey,t),vkG.$a(UtJ.DQB,t["do"],t)},t.prototype.removeEvent=function(){var e=this;e.aboutBtn.removeEventListener(eui.tep,e.fu,e),e.sortBtn.removeEventListener(eui.tep,e.of,e),e.turnBtn.removeEventListener(eui.tep,e.pk,e),e.rewardBtn.removeEventListener(eui.tep,e.ge,e),e.autoGoCheckBox.removeEventListener(egret.Event.CHANGE,e.hd,e),vkG.$r(UtJ.DQB,e["do"],e),vkG.$r(UtJ.PP,e.ey,e),vkG.$r(HUtJ.HEARTBEAT,e.ua,e),vkG.$r(UtJ.DV,e.fb,e),vkG.$r(HUtJ.HEARTBEAT,e.up,e)},t.prototype.hd=function(){var e=this;e.autoGoCheckBox.selected?(vkG.$a(HUtJ.HEARTBEAT,e.ua,e),e.turnBtn.touchEnabled=!1,App.MA.isAutoGo=!0):(e.turnBtn.touchEnabled=!0,App.MA.isAutoGo=!1,vkG.$r(HUtJ.HEARTBEAT,e.ua,e))},t.prototype.ua=function(){var e=this;return e.autoGoCheckBox.selected?(App.MA.isAutoGo=!0,e.xz++,e.xz%e.ps==0&&0!=e.xz&&e.rt(),void(App.MA.valentinesVo.position>=15&&(e.xz=0))):(App.MA.isAutoGo=!1,void vkG.$r(HUtJ.HEARTBEAT,e.ua,e))},t.prototype.rt=function(){this.pk(null)},t.prototype.fb=function(e){var t=this,n=App.FK.hsx(StaticData.TID_GOODS_59);t.countTxt.text=n+"",t.countTxt.textColor=n>0?Color.TX:Color.KA},t.prototype.up=function(){var e=this;if(!e.destory){var t=ClockManager.instance.serverSecond;t=e.od.endTime-t,e.leftTimeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.leftTimeTxt.textColor=Color.TX,0>t&&(e.leftTimeTxt.text=fvg.GVf("s4"),e.leftTimeTxt.textColor=Color.KA,vkG.$r(HUtJ.HEARTBEAT,e.up,e),e.od=App.MG.getValentinesFunny())}},t.prototype["do"]=function(){var e=this;e.nn.roll?e.dv.play():e.uuy()},t.prototype.fu=function(){var e=GObj.$c(GeneralAboutPopUi);e.loU(AboutType.N_),e.show()},t.prototype.ey=function(e){for(var t=0,n=App.MG.getValentinesRewardFunny(),i=n.bagList.length,r=0;i>r;r++)if(1==n.bagList[r].status){t++;break}this.rewardBtn.icon=t>0?StaticData.GHj:null},t.prototype.of=function(e){App.VS.popup(10114,ValentinesSortPopUi)},t.prototype.ge=function(e){App.VS.popup(10114,ValentinesRewardPopUi)},t.prototype.pk=function(e){var t=this;if(t.od.isExpired)return t.ac(),void MessageTipManager.instance.show(fvg.GVf("s4"));if(t.nn.layer==t.ip&&15==t.nn.position)return t.ac(),MessageTipManager.instance.show(fvg.GVf("valentines13"));var n=App.FK.hsx(StaticData.TID_GOODS_59);return 1>n?(t.ac(),void _JDW.TR(StaticData.TID_GOODS_59)):t.dv.isPlay?void MessageTipManager.instance.show(fvg.GVf("platform6")):(t.dv.isPlay=!0,void App.BX.PpQ(86,void 0,t.od.bagList[0].id))},t.prototype.ac=function(){var e=this;e.autoGoCheckBox.selected&&(e.autoGoCheckBox.selected=!1,e.turnBtn.touchEnabled=!0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rj),t.rj=null,GObj.$d(t.turnBtn),t.turnBtn=null,GObj.$d(t.pointer),t.pointer=null,GObj.$d(t.dv),t.dv=null,GObj.$d(t.sortBtn),t.sortBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.ns),t.ns=null,GObj.$d(t.turnShine),t.turnShine=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,GObj.$d(t.levelGrade),t.levelGrade=null,GObj.$d(t.leftTimeTxt),t.leftTimeTxt=null,GObj.$d(t.checkDescTxt),t.checkDescTxt=null,GObj.$d(t.autoGoCheckBox),t.autoGoCheckBox=null,GObj.$d(t.am),t.am=null,GObj.$d(t.gv),t.gv=null,t.od=null,t.nn=null,t.ip=null,t.xz=null,t.ps=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ValentinesView.prototype,"ValentinesView");var VipCardItemView=function(e){function t(){var t=e.call(this,"VipCardItemView")||this;return t.skinName=RRUU.$s("VipCardItemView"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.__getBtnClickHandler,e),e.addEventListener(eui.RFS,e.aa,e),vkG.$a(UtJ.KV,e.__updateVipCard,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.__getBtnClickHandler,e),e.removeEventListener(eui.RFS,e.aa,e),vkG.$r(UtJ.KV,e.__updateVipCard,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.__updateVipCard()},t.prototype.__updateVipCard=function(){var e=this;e.ew=App.KF.vipcard,App.KF.chapter<e.chapter?(e.getBtn.btnImg.source="vipcard_json.vipcard_btn_grey_png",e.getBtn.vipImg.source=kLM.OMJ(e.cardNum),e.ew==e.cardNum-1?e.getBtn.label=fvg.GVf("public044",e.chapter):e.getBtn.label=fvg.GVf("vipcard1",e.cardNum-1)):e.ew==e.cardNum-1?(e.getBtn.label=fvg.GVf("456"),e.getBtn.btnImg.source="vipcard_json.vipcard_btn_png",e.getBtn.vipImg.source=kLM.JJY(e.cardNum)):(e.getBtn.label=fvg.GVf("vipcard1",e.cardNum-1),e.getBtn.btnImg.source="vipcard_json.vipcard_btn_grey_png",e.getBtn.vipImg.source=kLM.OMJ(e.cardNum)),e.ew>e.cardNum-1&&(e.getBtn.btnImg.source="vipcard_json.vipcard_btn_png",e.getBtn.vipImg.source=kLM.JJY(e.cardNum),e.getBtn.label=fvg.GVf("oneyuan02"))},t.prototype.__getBtnClickHandler=function(e){var t=this;return t.cardNum>t.ew&&App.KF.chapter<t.chapter?void MessageTipManager.instance.show(fvg.GVf("vipcard2")):void NXr.MX(t.cardNum)},t.prototype.aa=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.gotImg),t.gotImg=null,GObj.$d(t.chapterTxt),t.chapterTxt=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(VipCardItemView.prototype,"VipCardItemView");var VipCardView=function(e){function t(){var t=e.call(this,"VipCardView")||this;return t.skinName=RRUU.$s("VipCardView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemArr=[],e.goBtn.label=fvg.GVf("103"),e.vipNum=GObj.$c(NumberView),e.vipNum.x=260,e.vipNum.y=680,e.addChild(e.vipNum)},t.prototype.initEvent=function(){var e=this;e.goBtn.addEventListener(eui.tep,e.gr,e),vkG.$a(UtJ.JD,e.yx,e),vkG.$a(UtJ.KV,e.yx,e)},t.prototype.removeEvent=function(){var e=this;e.goBtn.removeEventListener(eui.tep,e.gr,e),vkG.$r(UtJ.JD,e.yx,e),vkG.$r(UtJ.KV,e.yx,e)},t.prototype.initData=function(){var e=this;e.dq();for(var t=1;7>=t;t++){var n=this["cardItem_"+t];n.cardNum=t,n.chapter=e.rv[t-1],n.dataChanged(),e.itemArr.push(n)}e.yx()},t.prototype.yx=function(){var e=this,t=App.KF.vipcard;7==t&&(e.descImg_1.visible=e.descImg_2.visible=e.descImg_3.visible=e.chapterTxt.visible=e.vipNum.visible=!1),e.ru=e.rv[t],e.chapterTxt.text=e.ru-1+"",hFO.instance.getNumberView(bRC.TE,(t+1).toString(),-4,e.vipNum)},t.prototype.dq=function(){var e=this,t=XCA.CG(IDU.MGF),n=t.split(QycO.PK),i=[];e.ob=n.length;for(var r=0,a=e.ob;a>r;r++){var o=n[r],s=o.split(QycO.XP),p=parseInt(s[0]);i.push(p)}e.rv=i},t.prototype.gr=function(){App.VS.open(10050)},t.prototype.dispose=function(){var t=this;t.removeEvent();for(var n=0,i=t.itemArr.length;i>n;n++)t.itemArr[n]=null;GObj.$d(t.itemArr),t.itemArr=null,GObj.$d(t.goBtn),t.goBtn=null,GObj.$d(t.chapterTxt),t.ru=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(VipCardView.prototype,"VipCardView");var ItemRenderer=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ItemRendererSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.iconview.data=e.data)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.or,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.or,e)},t.prototype.or=function(e){GObj.$d(this)},t.prototype.dispose=function(){e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ItemRenderer.prototype,"ItemRenderer");var SvippreFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getVipBtn.label=fvg.GVf("430"),e.goodsData=GObj.$c(eui.ArrayCollection),e.dataGroup.dataProvider=e.goodsData,e.dataGroup.itemRenderer=ItemRenderer,e.zc=[12008006001,12009006001,12011006001],e.gq=GObj.$c(MeanEffect),e.rf=GObj.$c(egret.DisplayObjectContainer),e.rf.touchEnabled=e.rf.touchChildren=!1,e.rf.x=240,e.rf.addChild(e.gq),e.addChild(e.rf),e.fightView=GObj.$c(FightView),e.fightView.x=140,e.fightView.y=540,e.addChild(e.fightView),e.hj={}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.DG(38,1),i=Nkz.PI(n);if(i){for(var r,a=i.length,o=0;a>o;o++)r=i[o],t.goodsData.source.push(r);t.goodsData.refresh(),t.or()}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getVipBtn.addEventListener(eui.tep,t.kb,t),vkG.$a(UtJ.HA,t.or,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.getVipBtn.removeEventListener(eui.tep,t.kb,t),vkG.$r(UtJ.HA,t.or,t)},t.prototype.kb=function(e){App.XT.vipIndex=this.ai,App.VS.open(10088)},t.prototype.or=function(){var e=this,t=App.XT.vipInfo.vipGrade;if(t<StaticData.VIPPRE_6_LV)e.ai=StaticData.VIPPRE_6_LV,e.vipGroup.visible=!0,e.title="vippre_json.vippre_title_1_png",e.fightView.visible=!1,e.giftGroup.visible=!1;else{e.vipGroup.visible=!1,e.title="vippre_json.vippre_title_2_png",e.fightView.visible=!0,e.giftGroup.visible=!0;var n=void 0,i=void 0,r=void 0,a=0,o=0;e.wl=8,e.rf.y=340,t>=StaticData.VIPPRE_6_LV&&t<StaticData.VIPPRE_8_LV?(a=0,e.ai=StaticData.VIPPRE_8_LV,e.rf.y=360,o=3e5):t>=StaticData.VIPPRE_8_LV&&t<StaticData.VIPPRE_10_LV?(a=1,e.ai=StaticData.VIPPRE_10_LV,o=4e5,e.wl=9):t>=StaticData.VIPPRE_10_LV&&(a=2,e.ai=StaticData.VIPPRE_12_LV,o=5e5,e.wl=11),e.vipImg.source="vippre_json.vippre_vip_"+e.ai+"_png",e.fightView.fightNum=o,r=e.zc[a],r>0?(n=kLM.NQ(gLw.RO(r)),i=5,e.rf.scaleX=e.rf.scaleY=.7):(n="vip_reward_"+a,i=gYq.NR[n]||6,n=PATH.CX+n+".png",e.rf.scaleX=e.rf.scaleY=1),n!=e.kv&&(e.kv=n,e.hj[e.kv]?e.zf(e.hj[e.kv]):App.EB.load(e.kv,e.yy,this,1,{url:e.kv,frame:i}))}},t.prototype.yy=function(e){var t=this;if(!t.destory&&e&&e.data){var n=MeanEffect.getTextureArr(e.data,e.args.frame);t.hj[t.kv]=n,e.args.url==t.kv&&t.zf(n)}},t.prototype.zf=function(e){var t=this;t.gq.stop(),t.gq.textureData(e),t.gq.play(),t.gq.x=-int(t.gq.width/2),t.gq.y=-int(t.gq.height/2)},t.prototype.vk=function(){App.VS.open(10122)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.getVipBtn),t.getVipBtn=null,t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup)),t.dataGroup=null,GObj.$d(t.giftGroup),t.giftGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.gq),t.gq=null,GObj.$d(t.rf),t.rf=null,t.hj){for(var n in t.hj)delete t.hj[n];t.hj=null}t.goodsData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(SvippreFrame.prototype,"SvippreFrame");var VippreFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getVipBtn.label=fvg.GVf("430"),e.goodsData=GObj.$c(eui.ArrayCollection),e.dataGroup.dataProvider=e.goodsData,e.dataGroup.itemRenderer=ItemRenderer,e.vu=[12008006001,12009006001,12011006001],e.jp=GObj.$c(MeanEffect),e.xq=GObj.$c(egret.DisplayObjectContainer),e.xq.touchEnabled=e.xq.touchChildren=!1,e.xq.x=240,e.xq.addChild(e.jp),e.addChild(e.xq),e.fightView=GObj.$c(FightView),e.fightView.x=140,e.fightView.y=540,e.addChild(e.fightView),e.js={}},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.DG(38,1),i=Nkz.PI(n);if(i){for(var r,a=i.length,o=0;a>o;o++)r=i[o],t.goodsData.source.push(r);t.goodsData.refresh(),t.qd()}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.getVipBtn.addEventListener(eui.tep,t.eo,t),vkG.$a(UtJ.HA,t.qd,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.getVipBtn.removeEventListener(eui.tep,t.eo,t),vkG.$r(UtJ.HA,t.qd,t)},t.prototype.eo=function(e){App.EO.vipIndex=this.mu,App.VS.open(10121)},t.prototype.qd=function(){var e=this,t=App.EO.vipInfo.vipGrade;if(t<StaticData.VIPPRE_6_LV)e.mu=StaticData.VIPPRE_6_LV,e.vipGroup.visible=!0,e.title="vippre_json.vippre_title_1_png",e.fightView.visible=!1,e.giftGroup.visible=!1;else{e.vipGroup.visible=!1,e.title="vippre_json.vippre_title_2_png",e.fightView.visible=!0,e.giftGroup.visible=!0;var n=void 0,i=void 0,r=void 0,a=0,o=0;e.zl=8,e.xq.y=340,t>=StaticData.VIPPRE_6_LV&&t<StaticData.VIPPRE_8_LV?(a=0,e.mu=StaticData.VIPPRE_8_LV,e.xq.y=360,o=3e5):t>=StaticData.VIPPRE_8_LV&&t<StaticData.VIPPRE_10_LV?(a=1,e.mu=StaticData.VIPPRE_10_LV,o=4e5,e.zl=9):t>=StaticData.VIPPRE_10_LV&&(a=2,e.mu=StaticData.VIPPRE_12_LV,o=5e5,e.zl=11),e.vipImg.source="vippre_json.vippre_vip_"+e.mu+"_png",e.fightView.fightNum=o,r=e.vu[a],r>0?(n=kLM.NQ(gLw.RO(r)),i=5,e.xq.scaleX=e.xq.scaleY=.7):(n="vip_reward_"+a,i=gYq.NR[n]||6,n=PATH.CX+n+".png",e.xq.scaleX=e.xq.scaleY=1),n!=e.yi&&(e.yi=n,e.js[e.yi]?e.mt(e.js[e.yi]):App.EB.load(e.yi,e.tl,this,1,{url:e.yi,frame:i}))}},t.prototype.tl=function(e){var t=this;if(!t.destory&&e&&e.data){var n=MeanEffect.getTextureArr(e.data,e.args.frame);t.js[t.yi]=n,e.args.url==t.yi&&t.mt(n)}},t.prototype.mt=function(e){var t=this;t.jp.stop(),t.jp.textureData(e),t.jp.play(),t.jp.x=-int(t.jp.width/2),t.jp.y=-int(t.jp.height/2)},t.prototype.ia=function(){App.VS.open(10122)},t.prototype.dispose=function(){var t=this;if(t.removeEvent(),GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.getVipBtn),t.getVipBtn=null,t.dataGroup&&(t.dataGroup.dataProvider=null,GObj.$d(t.dataGroup)),t.dataGroup=null,GObj.$d(t.giftGroup),t.giftGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.jp),t.jp=null,GObj.$d(t.xq),t.xq=null,t.js){for(var n in t.js)delete t.js[n];t.js=null}t.goodsData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(VippreFrame.prototype,"VippreFrame");var VolverEspFrame=function(e){function t(){var t=e.call(this,"VolverEspFrame")||this;return t.skinName=RRUU.$s("VolverEspFrame"),t.horizontalCenter=0,t.verticalCenter=-8,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.datas,e.rewardGroup.itemRenderer=VolverEspItem,e.datas.source.splice(0,e.datas.source.length);for(var t=XCA.DG(70,1),n=Nkz.PI(t),i=n.length,r=0;i>r;r++)e.datas.source.push(n[r]);e.datas.refresh()},t.prototype.initData=function(){},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.dv,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.dv,e)},t.prototype.dv=function(e){var t=this,n=App.UZ.loginaward,i=(1&n)>0;i||App.JA.checkIncome(t.al,t),rRcz.EFZ(),GObj.$d(t)},t.prototype.al=function(){VolverMsgProxy.QJ(1)},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.SF)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,t.rewardGroup&&GObj.$d(t.rewardGroup),t.rewardGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(VolverEspFrame.prototype,"VolverEspFrame");var VolverEspItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("VolverEspItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.itemView.data=t,e.nameTxt.text=t.TSF.name,e.nameTxt.textColor=aKF.DU(t.quality)}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.cr,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.cr,e)},t.prototype.cr=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(VolverEspItem.prototype,"VolverEspItem");var VolverFrame=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(t),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=VolverItem},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n=1;7>=n;n++)t.datas.source.push(n);t.datas.refresh(),ClockManager.setTimeout(t.kg,this,100)},t.prototype.initEvent=function(){e.prototype.initEvent.call(this)},t.prototype.removeEvent=function(){e.prototype.removeEvent.call(this)},t.prototype.kg=function(){var e=this;if(e.scroller){for(var t=App.UZ.logindays,n=App.UZ.loginaward,i=0;t>i&&0!=(n&1<<i);i++);var r=124*i,a=e.scroller.viewport.contentHeight-e.scroller.height;e.scroller.viewport.scrollV=r>a?a:r}},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(VolverFrame.prototype,"VolverFrame");var VolverItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("VolverItemSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer,e.ky=App.KB.getUIEffect(gYq.VX),e.ky.stop()},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.datas.source.splice(0,e.datas.source.length);for(var t=XCA.DG(70,e.data),n=Nkz.PI(t),i=0;i<n.length;i++)e.datas.source[i]=n[i];e.datas.refresh(),e.jo()}},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.om,e),e.addEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.th,e),vkG.$a(UtJ.YXZ,e.jo,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.om,e),e.removeEventListener(egret.TouchEvent.REMOVED_FROM_STAGE,e.th,e),vkG.$r(UtJ.YXZ,e.jo,e)},t.prototype.th=function(e){GObj.$d(this)},t.prototype.om=function(e){var t=this;return t.data>App.UZ.logindays?void MessageTipManager.instance.show(fvg.GVf("rewardhall1")):void App.JA.checkIncome(t.jt,t)},t.prototype.jt=function(){VolverMsgProxy.QJ(this.data)},t.prototype.jo=function(){var e=this,t=App.UZ.loginaward;e.ou=0==(t&1<<e.data-1)&&e.data<=App.UZ.logindays,e.ou?(e.getBtn.icon=StaticData.GHj,e.ky.parent||(e.ky.play(),e.getBtn.groupDisplay.addChild(e.ky))):(e.getBtn.icon=null,e.ky.parent&&(e.ky.stop(),e.ky.parent.removeChild(e.ky)));var n=(t&1<<e.data-1)>0;e.getBtn.visible=!n,e.gotImg.visible=n;var i=App.UZ.logindays>=e.data?Color.SQ:Color.KA;e.dayTxt.textFlow=LgRe.OQ(fvg.GVf("funny44",e.data)+fvg.GVf("volver2",i,App.UZ.logindays,e.data))},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.ky&&t.ky.stop(),GObj.$d(t.ky),t.ky=null,GObj.$d(t.dayTxt),t.dayTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.gotImg),t.gotImg=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(VolverItem.prototype,"VolverItem");var CommonNoticeView=function(e){function t(){var t=e.call(this,"CommonNoticeView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noticeArr=[],e.qk=0,e.iu=0,e.stopFlag=!1},t.prototype.initData=function(){var e=this;e.vx();for(var t,n=0;n<e.showCount;n++)t=GObj.$c(eui.Label),t.size=18,t.y=22*n,t.textColor=Color.XB,e.noticeArr.push(t),e.contentGroup.addChild(t);e.contents=e.contents},t.prototype.vx=function(){for(var e=this,t=0;t<e.noticeArr.length;t++)e.contentGroup.removeChild(e.noticeArr[t]),GObj.$d(e.noticeArr[t]);e.noticeArr.length=0},t.prototype.initEvent=function(){var e=this;App.HA.registeEnterFrame(e.bu,e)},t.prototype.removeEvent=function(){var e=this;App.HA.unRegisteEnterFrame(e.bu,e)},Object.defineProperty(t.prototype,"showCount",{get:function(){return this.mi},set:function(e){var t=this;t.mi=e,t.initData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contents",{get:function(){return this.ys},set:function(e){var t=this;if(t.qk=0,t.iu=0,t.ys=e,t.CSo&&t.ys&&t.iu<t.showCount)for(var n=Math.min(t.ys.length,t.showCount),i=t.iu;n>i;i++)LgRe.UQ(t.noticeArr[t.iu++],t.ys[i]),t.qk++},enumerable:!0,configurable:!0}),t.prototype.bu=function(){var e=this;if(!(e.destory||e.iu<e.showCount))for(var t,n=1,i=0;i<e.noticeArr.length;i++)if(e.noticeArr[i].y-=n,e.noticeArr[i].y<-22){t=e.noticeArr.shift(),i--,e.qk==e.ys.length&&(e.qk=0),LgRe.UQ(t,e.ys[e.qk]),t.y=22*(e.showCount-1),e.qk++,e.noticeArr.push(t);break}},t.prototype.xa=function(){for(var e=this,t=0;t<e.noticeArr.length;t++)e.noticeArr[t].y=22*t},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.contentGroup),t.contentGroup=null;for(var n=0;n<t.noticeArr.length;n++)GObj.$d(t.noticeArr[n]),t.noticeArr[n]=null;e.prototype.dispose.call(this)},t}(BaseUI);__reflect(CommonNoticeView.prototype,"CommonNoticeView");var ExplainPopUI=function(e){function t(){var t=e.call(this,"ExplainPopUI")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.title=fvg.GVf("public089")},t.prototype.addEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.initData=function(){var e=this;LoaderManager.instance.load(PATH.OS+"desc.json",e.sw,e)},t.prototype.sw=function(e){var t=this;e&&e.data&&(t.tv=e.data,e.dispose()),t.zk()},t.prototype.zk=function(){var e=this;e.lv&&LgRe.UQ(e.explainLab,e.tv[e.lv])},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&(n.lv=e[0],n.initData())},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scrollBar&&(t.scrollBar.stopAnimation(),t.scrollBar.viewport=null,GObj.$d(t.scrollBar)),t.scrollBar=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ExplainPopUI.prototype,"ExplainPopUI");var VowView=function(e){function t(){var t=e.call(this,"VowView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.jc=GObj.$c(CommonNoticeView),e.jc.showCount=7,e.jc.width=440,e.jc.height=120,e.jc.y=600,e.jc.x=10,e.addChild(e.jc),e.smallicon1.goodsTid=StaticData.TID_POINT_ID,e.smallicon2.goodsTid=StaticData.TID_POINT_ID,e.jz=XCA.CG(IDU.YL).split(StringConst.RA),RewardHallMsgProxy.WO(3)},t.prototype.initEvent=function(){var e=this;e.purchaseBtn.addEventListener(eui.tep,e.mo,e),e.helpBtn.addEventListener(eui.tep,e.ed,e),vkG.$a(HUtJ.HEARTBEAT,e.zx,e),vkG.$a(UtJ.BZ,e.zn,e)},t.prototype.removeEvent=function(){var e=this;e.purchaseBtn.removeEventListener(eui.tep,e.mo,e),e.helpBtn.removeEventListener(eui.tep,e.ed,e),vkG.$r(HUtJ.HEARTBEAT,e.zx,e),vkG.$r(UtJ.BZ,e.zn,e)},t.prototype.initData=function(){var e=this;e.pv=[],e.zr(),e.zx()},t.prototype.zr=function(){var e=this,t=App.CC.bc==e.jz.length?e.jz.length-1:App.CC.bc;e.ur=e.jz[t].split(QycO.XP),e.purchaseBtn.moneyLab.text=e.ur[1],e.purchaseBtn.conditionLab.text=parseInt(e.ur[0])>0?fvg.GVf("vow03",e.ur[0]):"",e.purchaseBtn.visible=e.jz.length!==App.CC.bc,e.descLab1.textFlow=LgRe.OQ(fvg.GVf("vow01",e.ur[1])),e.descLab2.textFlow=LgRe.OQ(fvg.GVf("vow02",e.ur[2])),e.purchasedImg.visible=e.jz.length==App.CC.bc,e.purchaseBtn.icon=UsU.YKC()?StaticData.GHj:""},t.prototype.zn=function(){var e=this;if(App.CC.log){e.pv=[];for(var t=App.CC.log,n=t.length,i=0;n>i;i++)e.pv.push(e.xg(t[i]));e.jc.contents=e.pv,e.zr()}},t.prototype.xg=function(e){return fvg.GVf("vow04",e.name,e.award)
},t.prototype.mo=function(){var e=App.CC.et,t=e-App.NN.serverSecond;return 0>=t?void MessageTipManager.instance.show(fvg.GVf("public035")):App.XT.vipGrade<parseInt(this.ur[0])?void _JDW.TR(StaticData.TID_VIP_SCORE):App.KF.point<parseInt(this.ur[1])?void _JDW.TR(StaticData.TID_POINT_ID):void RewardHallMsgProxy.WO(1)},t.prototype.ed=function(){App.VS.popup(KqZ.PN,ExplainPopUI,void 0,"vowhelp")},t.prototype.zx=function(){var e=this,t=App.CC.et,n=t-App.NN.serverSecond;n>0?(e.timeLab.text=fvg.GVf("public050",kpd.YW(n)),e.timeLab.textColor=Color.TX):(vkG.$r(HUtJ.HEARTBEAT,e.zx,e),e.timeLab.text=fvg.GVf("public035"),e.timeLab.textColor=Color.KA)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.purchaseBtn),t.purchaseBtn=null,GObj.$d(t.timeLab),t.timeLab=null,GObj.$d(t.descLab1),t.descLab1=null,GObj.$d(t.descLab2),t.descLab2=null,GObj.$d(t.smallicon1),t.smallicon1=null,GObj.$d(t.smallicon2),t.smallicon2=null,GObj.$d(t.purchasedImg),t.purchasedImg=null,GObj.$d(t.helpBtn),t.helpBtn=null,t.jc&&(GObj.$d(t.jc),t.jc.dispose(),t.jc=null),e.prototype.dispose.call(this)},t}(BaseView);__reflect(VowView.prototype,"VowView");var WbFirstShareFrame=function(e){function t(){var t=e.call(this,"WbFirstShareFrame")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=PrivilegeRewardItem},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.receiveBtn.addEventListener(eui.tep,t.mo,t),vkG.$a(UtJ.HA,t.tb,t),vkG.$a(UtJ.OYZ,t.bz,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.receiveBtn.removeEventListener(eui.tep,t.mo,t),vkG.$r(UtJ.HA,t.tb,t),vkG.$r(UtJ.OYZ,t.bz,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);var n=XCA.AQS.UFA(20,1,0);if(n){var i=Nkz.PI(n.p6);t.rewardData.source.splice(0,t.rewardData.source.length);for(var r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh()}t.tb()},t.prototype.tb=function(){var e=this,t=App.XT.vipInfo.rewardState;e.receiveBtn.visible=e.receivedImg.visible=!1,(1&t)>0?e.receivedImg.visible=!0:(e.receiveBtn.visible=!0,App.XT.vipInfo.vipGp>0?(e.receiveBtn.label=fvg.GVf("104"),e.receiveBtn.icon=StaticData.GHj):(e.receiveBtn.label=fvg.GVf("wbshare1"),e.receiveBtn.icon=null))},t.prototype.mo=function(e){var t=App.XT.vipInfo.rewardState;return(1&t)>0?void App.TT.show(fvg.GVf("444")):void(this.receiveBtn.icon?NXr.QV(0):NXr.UJ(2))},t.prototype.bz=function(e){if(e){var t=e.skey,n={open_id:App.BG.openId,game_key:StaticData.GAME_KEY,url:decodeURIComponent(LoginManager.instance.shareURL)+"?shareKey="+t};doExtraAction("share",n,function(e){if(e)if(0==e.code)0==(4&App.VX.rewardState)&&NXr.ON(pba.JA);else{var t=e.showMessage||e.message;Alert.WK(t,void 0,Alert.EX)}})}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.receivedImg),t.receivedImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(WbFirstShareFrame.prototype,"WbFirstShareFrame");var WbShareFrame=function(e){function t(){var t=e.call(this,"WbShareFrame")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=WbShareItem},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),vkG.$a(UtJ.OYZ,t.jl,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),vkG.$r(UtJ.OYZ,t.jl,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n=1;3>=n;n++)t.itemData.source.push(n);t.itemData.refresh()},t.prototype.jl=function(e){if(e){var t=e.skey,n={open_id:App.BG.openId,game_key:StaticData.GAME_KEY,url:decodeURIComponent(LoginManager.instance.shareURL)+"?shareKey="+t};doExtraAction("share",n,function(e){if(e)if(0==e.code)0==(4&App.VX.rewardState)&&NXr.ON(pba.JA);else{var t=e.showMessage||e.message;Alert.WK(t,void 0,Alert.EX)}})}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(WbShareFrame.prototype,"WbShareFrame");var WbShareItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("WbShareItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("447"),e.descTxt.visible=!1,e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.o_=XCA.CG(IDU.SH)},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._e,e),e.shareBtn.addEventListener(eui.tep,e.vw,e),vkG.$a(UtJ.SVA,e.re,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._e,e),e.shareBtn.removeEventListener(eui.tep,e.vw,e),vkG.$r(UtJ.SVA,e.re,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=XCA.DG(54,e.data),n=Nkz.PI(t);e.rewardData.source.length=0;for(var i=0;i<n.length;i++)e.rewardData.source.push(n[i]);e.rewardData.refresh(),e.es()}},t.prototype.es=function(){var e=this,t=0;1==e.data?(e.shareBtn.label=fvg.GVf("wbshare1"),t=App.VX.wbShareData.wbvip1||0,e.titleTxt.text=fvg.GVf("wbshare4_"+e.data),e.progTxt.text=fvg.GVf("112",t?1:0,1)):2==e.data?(e.shareBtn.label=fvg.GVf("wbshare3"),t=App.VX.wbShareData.wbvip2||0,e.titleTxt.text=fvg.GVf("wbshare4_"+e.data),e.progTxt.text=fvg.GVf("112",t?1:0,1)):3==e.data&&(e.shareBtn.label=fvg.GVf("wbshare1"),t=App.VX.wbShareData.wbvip3||0,e.titleTxt.text=fvg.GVf("wbshare4_"+e.data,e.o_),e.progTxt.text=fvg.GVf("112",App.VX.wbShareData.wbsc||0,e.o_)),e.shareBtn.visible=2!=t,e.progTxt.textColor=t?Color.TX:Color.KA,e.progTxt.x=e.titleTxt.x+e.titleTxt.width,e.descTxt.visible=!e.shareBtn.visible},t.prototype.vw=function(e){NXr.UJ(2)},t.prototype.re=function(){this.es()},t.prototype._e=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.shareBtn),t.shareBtn=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WbShareItem.prototype,"WbShareItem");var SpiritlLakeUtils=function(){function e(){}return e.AB=function(e,t){if(!e)return 0;var n=App.QOR.spLakeDic[t]||0,i=(e.p5||"").split(QycO.XP),r=parseInt(i[0])||0,a=parseInt(i[1])||0,o=parseInt(i[2])||0,s=Math.floor(Math.round(r/1e6)*Math.pow(a/1e6,n)+o/1e6*(1-Math.pow(a/1e6,n))/(1-a/1e6));return s},e.HH=function(e,t){if(!e)return 0;var n=App.QOR.spSkillDic[t]||0,i=(e.p5||"").split(QycO.XP),r=parseInt(i[0])||0,a=parseInt(i[1])||0,o=parseInt(i[2])||0,s=Math.floor(Math.round(r/1e6)*Math.pow(a/1e6,n)+o/1e6*(1-Math.pow(a/1e6,n))/(1-a/1e6));return s},e.TQ=function(e,t){if(!e)return 0;var n=(e.p5||"").split(QycO.XP),i=parseInt(n[0])||0,r=parseInt(n[1])||0,a=parseInt(n[2])||0,o=Math.floor(t/i)*r+a;return o},e}();__reflect(SpiritlLakeUtils.prototype,"SpiritlLakeUtils");var WealthDishItem=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("WealthDishItem");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){this.touchEnabled=!0},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){e.item.data=e.data.item,e.getImg.visible=e.maskImg.visible=e.data.get;var t=(e.item.data.TSF.tid,e.item.data.TSF.name);e.nameLab.text=t,e.nameLab.visible=!e.data.hidename,e.df=e.data.type}},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ou,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ou,e)},t.prototype.ou=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;GObj.$d(t.getImg),t.getImg=null,GObj.$d(t.item),t.item=null,GObj.$d(t.nameLab),t.nameLab=null,GObj.$d(t.maskImg),t.maskImg=null,t.df=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WealthDishItem.prototype,"WealthDishItem");var WealthDishPopUi=function(e){function t(){var t=e.call(this,"WealthDishPopUi")||this;return t.skinName=RRUU.$s(t.id),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("wealthDish10"),e.dataList=[];for(var t=1;t<=MaxLevel.WEALTH_DISH_LEVEL-1;t++)e.dataList[t]=GObj.$c(eui.ArrayCollection),this["preGroup"+t].dataProvider=e.dataList[t],this["preGroup"+t].itemRenderer=WealthDishItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.PNM,e.hm,e)},t.prototype.initData=function(){this.ms()},t.prototype.loU=function(e){var t=this;t.yu=e,t.ms()},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.PNM,e.hm,e)},t.prototype.hm=function(){this.ms()},t.prototype.ms=function(){var e=this;if(e.yu&&e.CSo){var t="";switch(e.yu){case 1:t=fvg.GVf("wealthDish16");break;case 2:t=fvg.GVf("wealthDish17");break;case 3:t=fvg.GVf("wealthDish18")}for(var n=App.UU.getWealthdishVO(e.yu),i=1;i<=MaxLevel.WEALTH_DISH_LEVEL-1;i++){this["lvLab"+i].text=t+fvg.GVf("wealthDish23",i);for(var r=XCA.RE("99_"+e.yu+"_"+i),a=Nkz.PI(r),o=[],s=0;s<a.length;s++)o.push({hidename:!0,item:a[s],get:n.layer>i||n.hasGetreward(a[s].tid)});e.dataList[i].replaceAll(o),e.dataList[i].refresh()}}},t.prototype.dispose=function(){this.removeEvent(),e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(WealthDishPopUi.prototype,"WealthDishPopUi");var WealthDishSortItemRenderer=function(e){function t(){var t=e.call(this)||this,n=RRUU.$s("WealthDishSortItemRendererSkin");return t.skinName=n,t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.dataChanged=function(){var e=this;if(e.data){var t=e.data.rvo,n=e.data.type;t?(e.nameTxt.text=""+t.name,e.scoreTxt.text=""+t.score):(e.nameTxt.text=fvg.GVf("rank10"),e.scoreTxt.text="--"),e.zf(e.itemIndex+1);var i=e.itemIndex+1<4?e.itemIndex+1:4,r=XCA.RE("16_"+n+"_"+i);r+="|"+XCA.RE("17_"+n+"_"+i),r||(r="602300501,5|603200601,1");var a=r.split(QycO.PK),o=GObj.$c(nlwj),s=GObj.$c(nlwj);o.tid=parseInt(a[0].split(QycO.XP)[0]),o.count=parseInt(a[0].split(QycO.XP)[1]),e.rewardItem1.data=o,s.tid=parseInt(a[1].split(QycO.XP)[0]),s.count=parseInt(a[1].split(QycO.XP)[1]),e.rewardItem2.data=s}},t.prototype.zf=function(e){var t=this;4>e?(t.rankImg.visible=!0,t.rankImg.texture=RES.getRes("core_json.core_rank_"+e+"_png"),t.rankTxt.text=""):(t.rankImg.visible=!1,t.rankImg.source=null,t.rankTxt.text=e+"")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.fq,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.fq,e)},t.prototype.fq=function(e){this.dispose()},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.rewardItem1),t.rewardItem1=null,GObj.$d(t.rewardItem2),t.rewardItem2=null,GObj.$d(t.rankImg),t.rankImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WealthDishSortItemRenderer.prototype,"WealthDishSortItemRenderer");var WealthDishSortPopUi=function(e){function t(){var t=e.call(this,"WealthDishSortPopUi")||this;return t.datas=new eui.ArrayCollection,t.ow=10,t.skinName=RRUU.$s("WealthDishSortPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.title=fvg.GVf("harry38"),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=WealthDishSortItemRenderer;var t=XCA.CG(IDU.GF);t||(t="3000"),e.conditionsTxt.text=fvg.GVf("WealthDishFrame05",t),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer,e.descTxt_2.text=fvg.GVf("wealthDish22")},t.prototype.initData=function(){e.prototype.initData.call(this),RankMsgProxy.IU(FDG.QS)},t.prototype.loU=function(e){var t=this;t.hr=e,RankMsgProxy.IU(FDG.QS+t.hr),t.la=parseInt(XCA.CG(IDU.OK+StringConst.PF+t.hr)),t.td()},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.dz,e),vkG.$a(UtJ.TT,e.gj,e),vkG.$a(UtJ.PNM,e.nq,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.dz,e),vkG.$r(UtJ.TT,e.gj,e),vkG.$r(UtJ.PNM,e.nq,e)},t.prototype.dz=function(){var e=this,t=App.UU.getWealthdishVO(e.hr).score;return t<e.di?void msgTip(fvg.GVf("wealthDisBox3")):void WealthDishMsgProxy.TG(e.hr)},t.prototype.gj=function(e){var t=this;if(e.type==FDG.QS+t.hr){var n=e?Math.max(e.list.length,t.ow):t.ow,i=void 0;t.datas.source.length=0;for(var r=e?e.list||[]:[],a=0;n>a;a++)i=r[a],t.datas.source.push({rvo:r[a],type:t.hr});t.datas.refresh();var o=App.UU.getWealthdishVO(t.hr).score;t.kg(e.order,o)}},t.prototype.kg=function(e,t){var n=this;if(n.rankTxt_1.text=n.rankTxt_2.text="",n.nameTxt_1.text=n.nameTxt_2.text="",n.nameTxt_1.textColor=Color.SE,n.nameTxt_2.textColor=Color.HE,n.assetTxt_1.text=n.assetTxt_2.text="",n.datas)if(1==e)n.rankTxt_1.text=n.rankTxt_2.text=fvg.GVf("task21",e),n.nameTxt_1.text=n.nameTxt_2.text=App.KF.name,n.assetTxt_1.text=n.assetTxt_2.text=fvg.GVf("421",t||0);else if(e>1&&10>=e){n.rankTxt_2.text=fvg.GVf("task21",e),n.nameTxt_2.text=App.KF.name,n.assetTxt_2.text=fvg.GVf("421",t||0);var i=n.datas.source[e-2].rvo;i&&(n.rankTxt_1.text=fvg.GVf("task7",i.rank||0),n.nameTxt_1.text=i.name,n.assetTxt_1.text=fvg.GVf("421",i.score||0))}else{n.rankTxt_2.text=fvg.GVf("task21",fvg.GVf("public042")),n.nameTxt_2.text=App.KF.name||fvg.GVf("rank10"),n.assetTxt_2.text=fvg.GVf("421",t||0);var i=n.datas.source[n.datas.length-1].rvo;i?(n.rankTxt_1.text=fvg.GVf("task7",i.rank||0),n.nameTxt_1.text=i.name||fvg.GVf("rank10"),n.assetTxt_1.text=fvg.GVf("421",i.score||0)):(n.rankTxt_1.text=fvg.GVf("task7",fvg.GVf("public042")),n.nameTxt_1.text="--",n.assetTxt_1.text=fvg.GVf("421",n.la))}},t.prototype.td=function(){var e=this;if(e.CSo){var t,n=XCA.CG(IDU.BT+StringConst.PF+e.hr).split(","),i=n.length,r=App.UU.getWealthdishVO(e.hr).award,a=App.UU.getWealthdishVO(e.hr).score;r==i?(e.getBtn.visible=!1,e.getImg.visible=!0,e.di=parseInt(n[i-1]),t=XCA.RE(158+StringConst.PF+e.hr+StringConst.PF+n[i-1])):(e.getBtn.visible=!0,e.getImg.visible=!1,e.di=parseInt(n[r]),a>=e.di?e.getBtn.icon=StaticData.GHj:e.getBtn.icon=null,t=XCA.RE(158+StringConst.PF+e.hr+StringConst.PF+n[r]));var o=a>=e.di?Color.TX:Color.HE;e.scoreTxt.textFlow=LgRe.OQ(fvg.GVf("wealthDisBox2",o,a,e.di)),e.rewardData.source=Nkz.PI(t),e.descTxt_1.text=fvg.GVf("wealthDisBox4",e.la)}},t.prototype.nq=function(){this.td()},t.prototype.sx=function(e){this.dispose()},t.prototype.show=function(){alvJ.instance.addToLayer(this,alvJ.YN,alvJ.LR)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt_1),t.nameTxt_1=null,GObj.$d(t.nameTxt_2),t.nameTxt_2=null,GObj.$d(t.rankTxt_1),t.rankTxt_1=null,GObj.$d(t.rankTxt_2),t.rankTxt_2=null,GObj.$d(t.assetTxt_1),t.assetTxt_1=null,GObj.$d(t.assetTxt_2),t.assetTxt_2=null,GObj.$d(t.descTxt_1),t.descTxt_1=null,GObj.$d(t.descTxt_2),t.descTxt_2=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.conditionsTxt),t.conditionsTxt=null,GObj.$d(t.getImg),t.getImg=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList),t.itemList=null),t.datas=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup),t.rewardGroup=null),t.rewardData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(WealthDishSortPopUi.prototype,"WealthDishSortPopUi");var WealthDishView=function(e){function t(){var t=e.call(this,"WealthDishView")||this;return t.ck=0,t["do"]=300,t.uz=120,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.descLab.text=fvg.GVf("WealthDishFrame01",1),e.oneGlodBtn.descLab.text=fvg.GVf("WealthDishFrame02",1),e.tenBtn.descLab.text=fvg.GVf("WealthDishFrame02",10),e.costTxt1.text="1",e.costTxt2.text="1",e.costTxt3.text="10",e.effectDesc.text=fvg.GVf("wealthDish21"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=WealthDishItem,e.dh=!1,e.z_=[],e.jt=GObj.$c(GeneralRecordView,360),e.yl=GObj.$c(GeneralRecordView,360),e.z_.push(e.jt),e.z_.push(e.yl);var t=XCA.CG(IDU.HR);e.mx=t,e.preRewData1=GObj.$c(eui.ArrayCollection),e.previewRewGroup1.dataProvider=e.preRewData1,e.previewRewGroup1.itemRenderer=GoodsItemRenderer,e.preRewData2=GObj.$c(eui.ArrayCollection),e.previewRewGroup2.dataProvider=e.preRewData2,e.previewRewGroup2.itemRenderer=GoodsItemRenderer,LgRe.UQ(e.rateShow,fvg.GVf("public094")),e.rateShow.visible=!1},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.me=1,t.sx(null),App.UU.requestData(),fNs.instance.execute(hXS.HQ,hXS.RZ,t.oneBtn)},t.prototype.oi=function(){var e=this;if(!e.dh){e.dh=!0;for(var t,n,i=App.UU.getWealthdishVO(e.me).notices,r=GObj.$c(nlwj),a=[],o=0;7>o;o++)t=i[o],n={},t&&t.gid?(r.tid=t.gid,n.text=fvg.GVf("wealthDish05",t.name,aKF.DU(r.quality),r.TSF.name)):(r.tid=StaticData.TID_POINT_ID,n.text=fvg.GVf("wealthDish05",Nkz.PT(),aKF.DU(r.quality),r.TSF.name)),a.push(n);e.jt.setRecordData(a),e.yl.setRecordData(a),e.uz=Math.max(e.recordGroup.height,e.jt.totalHeight),e.jt.parent||(e.jt.y=0,e.yl.y=e.jt.y+e.uz,e.recordGroup.addChild(e.jt),e.recordGroup.addChild(e.yl))}},t.prototype.jf=function(){var e=this,t=App.UU.getWealthdishVO(e.me),n=t.layer||1;switch(e.firstGroup.visible=!1,e.me){case 1:e.levelImg.source="wealthdish_json.wd_best_"+n+"_png",t.first||(e.itemView.data=e.un());break;case 2:e.levelImg.source="wealthdish_json.wd_talisman_"+n+"_png";break;case 3:e.levelImg.source="wealthdish_json.wd_searchgod_"+n+"_png"}1==e.me?e.bgImg.source="wealthdish_json.wd_best_bg_png":e.bgImg.source="wealthdish_json.wd_bg_png",e.recordScroller.visible=1!=e.me;for(var i=XCA.RE("99_"+e.me+"_"+n),r=Nkz.PI(i),a=[],o=0;o<r.length;o++)a.push({item:r[o],get:t.hasGetreward(r[o].tid),type:e.me});e.rewardData.replaceAll(a),e.rewardData.refresh(),n<MaxLevel.WEALTH_DISH_LEVEL?(e.dropDescLab.text=fvg.GVf("wealthDish11"),e.searchDescLab.text=fvg.GVf("wealthDish12",t.totalneed),e.searchDescLab2.text=fvg.GVf("wealthDish20",t.totalneed-t.minimum,t.totalneed),e.descBgImg.visible=!1,e.searchDescLab.textAlign="left",e.searchDescLab.right=270,e.searchDescLab2.visible=!0):(e.dropDescLab.text=fvg.GVf("pboss37"),e.searchDescLab.text=fvg.GVf("wealthDish13"),e.descBgImg.visible=!0,e.searchDescLab.textAlign="center",e.searchDescLab.right=180,e.searchDescLab2.visible=!1),RankMsgProxy.IU(FDG.QS+e.me),e.qk(),e.dh=!1,e.oi(),1==e.me&&e.ng(),e.dt(),e.effctChecbox.selected=App.UU.skipTenEffect,App.XT.vipInfo.vipGrade<StaticData.SKIP_LUCKDRAW_ANIMATION?(e.effctChecbox.visible=!1,e.effectDesc.visible=!1):(e.effctChecbox.visible=!0,e.effectDesc.visible=!0)},t.prototype.un=function(){var e,t=XCA.CG(IDU.ZZ);for(var n in t)e=parseInt(n);var i=XCA.AQS.UFA(44,e,1);if(!i)return null;var r=GObj.$c(nlwj);return r.tid=parseInt(i.cost),r},t.prototype.qk=function(){var e=this,t=e.mx[e.me],n=GObj.$c(nlwj);n.tid=t.itemId;var i=App.FK.hsx(n.tid),r=t.costItem1,a=n.tid;App.IQ.getTidByMoneyType(1),App.IQ.getTidByMoneyType(2);if(e.oneBtn.costImg.source=kLM.XD(a),e.oneGlodBtn.costImg.source=kLM.XD(2),e.tenBtn.costImg.source=kLM.XD(2),4==e.me)e.btn1Group.visible=!1,e.btn2Group.x=113;else{e.btn1Group.visible=!0,e.btn2Group.x=187,e.oneBtn.costImg.source=kLM.PO(a),e.oneBtn.icon=null;var o=void 0;o=Math.min(10,Math.floor(i/r))||1,e.oneBtn.costTxt.text=fvg.GVf("112",i,o*r),e.oneBtn.icon=i>=r?StaticData.GHj:null,e.oneBtn.costTxt.textColor=i>=r?Color.SE:Color.KA,e.oneBtn.descLab.text=fvg.GVf("WealthDishFrame01",o),e.costTxt1.text=o.toString()}var s=t.costjade1||-1,p=t.costjade10||-1;e.oneGlodBtn.costTxt.text=s.toString(),e.tenBtn.costTxt.text=p.toString(),e.oneGlodBtn.costTxt.textColor=App.BG.jkU.point>=s?Color.SE:Color.KA,e.tenBtn.costTxt.textColor=App.BG.jkU.point>=p?Color.SE:Color.KA,1!=e.me&&(e.rankBtn.icon=UsU.KLJ(e.me)?StaticData.GHj:null)},t.prototype.rv=function(){},t.prototype.dt=function(){var e=this,t=e.rewardGroup.layout;1==e.me?(e.levelImg.y=34,e.dropDescLab.y=110,e.rewardGroup.y=287,e.searchDescLab.y=543,e.searchDescLab2.y=543,e.boxBtn.y=43,e.rewardGroup.x=54,t.gap=55):(e.levelImg.y=34,e.dropDescLab.y=110,e.rewardGroup.y=164,e.searchDescLab.y=543,e.searchDescLab2.y=543,e.boxBtn.y=43,e.rewardGroup.x=52,t.gap=25),e.previewRewSc1.visible=e.previewRewSc2.visible=1==e.me,e.noticeDescImg.visible=1!=e.me,e.rankBtn.visible=!1},t.prototype.ng=function(){var e=this,t=App.BG.turnupInfo.grade||0;t=t>=MaxLevel.TURNUP_MAX_LEVEL?MaxLevel.TURNUP_MAX_LEVEL:t;var n=App.JP.getTurnupGrade(t),i=XCA.RE("100_"+(n>0?n:1));if(i){var r=i.split("|"),a=r[0].split(","),o=r[1].split(",");e.preRewData1.source.length=0;for(var s=0,p=a;s<p.length;s++){var l=p[s],c=GObj.$c(nlwj);c.tid=parseInt(l),e.preRewData1.source.push(c)}e.preRewData1.refresh(),e.preRewData2.source.length=0;for(var u=0,d=o;u<d.length;u++){var l=d[u],c=GObj.$c(nlwj);c.tid=parseInt(l),e.preRewData2.source.push(c)}e.preRewData2.refresh()}},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.oneBtn.addEventListener(eui.tep,t.mq,t),t.oneGlodBtn.addEventListener(eui.tep,t.ge,t),t.tenBtn.addEventListener(eui.tep,t.ep,t),t.rankBtn.addEventListener(eui.tep,t.whw,t),t.boxBtn.addEventListener(eui.tep,t.hn,t),t.effctChecbox.addEventListener(egret.Event.CHANGE,t.vl,t),t.rateShow.addEventListener(eui.tep,t.au,t),vkG.$a(UtJ.PNM,t.cp,t),vkG.$a(UtJ.DV,t.sx,t),vkG.$a(UtJ.TT,t.iy,t),vkG.$a(UtJ.ABT,t.gq,t),Nvm.instance.registeEnterFrame2(t.kb,t)},t.prototype.removeEvent=function(){var e=this;e.oneBtn.removeEventListener(eui.tep,e.mq,e),e.oneGlodBtn.removeEventListener(eui.tep,e.ge,e),e.tenBtn.removeEventListener(eui.tep,e.ep,e),e.rankBtn.removeEventListener(eui.tep,e.whw,e),e.boxBtn.removeEventListener(eui.tep,e.hn,e),e.effctChecbox.removeEventListener(egret.Event.CHANGE,e.vl,e),e.rateShow.removeEventListener(eui.tep,e.au,e),vkG.$r(UtJ.PNM,e.cp,e),vkG.$r(UtJ.DV,e.sx,e),vkG.$r(UtJ.TT,e.iy,e),vkG.$r(UtJ.ABT,e.gq,e),Nvm.instance.unRegisteEnterFrame2(e.kb,e)},t.prototype.dataUpdated=function(){this.qc()},t.prototype.qc=function(){var e=this;App.UU.requestData(),e.me=e.tabType,e.jf()},t.prototype.cp=function(){var e=this;e.jf(),e.sx()},t.prototype.gq=function(){var e=this;e.dh=!1,e.oi()},t.prototype.iy=function(e){this.vn(e)},t.prototype.vn=function(e){var t=this;e.type==FDG.QS+t.me&&(e.list[0]?(t.rankFirstLab.text=fvg.GVf("wealthDish14",e.list[0].name),t.rankFirstScorceLab.text=fvg.GVf("wealthDish15",e.list[0].score)):(t.rankFirstLab.text=fvg.GVf("wealthDish14","--"),t.rankFirstScorceLab.text=fvg.GVf("wealthDish15","--")),e.order>0?t.rankMineLab.text=fvg.GVf("goal16",e.order):t.rankMineLab.text=fvg.GVf("goal16",fvg.GVf("public042")),t.rankMineScoreLab.text=fvg.GVf("funny17",App.UU.getWealthdishVO(t.me).score))},t.prototype.mq=function(e){var t=this;fNs.instance.execute(hXS.HQ,hXS.YL,t.oneBtn);var n=t.mx[t.me],i=GObj.$c(nlwj);i.tid=n.itemId;var r=App.FK.hsx(i.tid),a=n.costItem1;r>=a?t._t(Math.min(Math.floor(r/a),10),1):_JDW.TR(i.tid)},t.prototype.ge=function(){var e=this,t=e.mx[e.me],n=t.costjade1,i=0;return i=App.BG.jkU.point,n>i?void(IoG.EZ()?msgTip(fvg.GVf("public017")):rRcz.MF()):void e._t(1,3)},t.prototype.ep=function(e){var t=this,n=t.mx[t.me],i=n.costjade10,r=0;return r=App.BG.jkU.point,i>r?void(IoG.EZ()?msgTip(fvg.GVf("public017")):rRcz.MF()):void t._t(10,3)},t.prototype._t=function(e,t){var n=this;App.BX.PpQ(33,e,n.me,t),10>e&&e>0?App.UU.getWealthdishVO(n.me).hasClickOne=!0:10==e&&(App.UU.getWealthdishVO(n.me).hasClickTen=!0)},t.prototype.whw=function(e){App.VS.popup(KqZ.MM,WealthDishSortPopUi,null,this.me)},t.prototype.hn=function(e){App.VS.popup(KqZ.MM,WealthDishPopUi,null,this.me)},t.prototype.sx=function(e){this.qk()},t.prototype.kb=function(){var e=this;if(!e.destory){if(e.jt.y--,e.yl.y--,e.jt.y<-e.jt.totalHeight-5&&(e.jt.y=e.yl.y+e.uz),e.yl.y<-e.yl.totalHeight-5&&(e.yl.y=e.jt.y+e.uz),e.previewRewSc1.viewport.scrollH++,e.previewRewSc1.viewport.scrollH>100&&e.preRewData1.length>0){e.previewRewSc1.viewport.scrollH-=78;var t=e.preRewData1.removeItemAt(0);e.preRewData1.addItem(t)}if(e.previewRewSc2.viewport.scrollH++,e.previewRewSc2.viewport.scrollH>100&&e.preRewData2.length>0){e.previewRewSc2.viewport.scrollH-=78;var t=e.preRewData2.removeItemAt(0);e.preRewData2.addItem(t)}}},t.prototype.au=function(e){switch(this.tabType){case 1:App.VS.popup(void 0,GeneralAboutPopUi,null,AboutType._U,fvg.GVf("public093"));break;case 2:App.VS.popup(void 0,GeneralAboutPopUi,null,AboutType.DK,fvg.GVf("public093"));break;case 3:App.VS.popup(void 0,GeneralAboutPopUi,null,AboutType.IS,fvg.GVf("public093"))}},t.prototype.vl=function(e){var t=this;return App.XT.vipInfo.vipGrade<StaticData.SKIP_LUCKDRAW_ANIMATION?(t.effctChecbox.selected=!1,void msgTip(fvg.GVf("public087",StaticData.SKIP_LUCKDRAW_ANIMATION))):void(App.UU.skipTenEffect=t.effctChecbox.selected)},t.prototype.dispose=function(){var t=this;fNs.instance.execute(hXS.HQ,hXS.NW),t.removeEvent(),GObj.$d(t.levelImg),t.levelImg=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.descBgImg),t.descBgImg=null,GObj.$d(t.bgImg),t.bgImg=null,GObj.$d(t.dropDescLab),t.dropDescLab=null,GObj.$d(t.noticeDescImg),t.noticeDescImg=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.searchDescLab),t.searchDescLab=null,GObj.$d(t.searchDescLab2),t.searchDescLab2=null,GObj.$d(t.rewardGroup),t.rewardGroup=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.rankFirstLab),t.rankFirstLab=null,GObj.$d(t.rankFirstScorceLab),t.rankFirstScorceLab=null,GObj.$d(t.rankMineLab),t.rankMineLab=null,GObj.$d(t.rankMineScoreLab),t.rankMineScoreLab=null,GObj.$d(t.costTxt1),t.costTxt1=null,GObj.$d(t.costTxt2),t.costTxt2=null,GObj.$d(t.costTxt3),t.costTxt3=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.oneGlodBtn),t.oneGlodBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.recordScroller),t.recordScroller=null,GObj.$d(t.jt),t.jt=null,GObj.$d(t.yl),t.yl=null,GObj.$d(t.recordGroup),t.recordGroup=null,GObj.$d(t.btn1Group),t.btn1Group=null,GObj.$d(t.btn2Group),t.btn2Group=null,GObj.$d(t.previewRewSc1),t.previewRewSc1=null,GObj.$d(t.effectDesc),t.effectDesc=null,GObj.$d(t.effctChecbox),t.effctChecbox=null,GObj.$d(t.rateShow),t.rateShow=null,GObj.$d(t.firstGroup),t.firstGroup=null,GObj.$d(t.itemView),t.itemView=null,t.previewRewGroup1&&(t.previewRewGroup1.dataProvider=null,GObj.$d(t.previewRewGroup1)),t.previewRewGroup1=null,t.preRewData1=null,t.previewRewGroup2&&(t.previewRewGroup2.dataProvider=null,GObj.$d(t.previewRewGroup2)),t.previewRewGroup2=null,t.preRewData2=null,t.z_=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(WealthDishView.prototype,"WealthDishView");var PavilionItem=function(e){function t(){var t=e.call(this)||this;return t.yg=0,t.pq=-1,t.sw=0,t.skinName=RRUU.$s("PavilionItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=GoodsItemRenderer,e.getBtn.label=fvg.GVf("104")},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.bc,e),e.getBtn.addEventListener(eui.tep,e.oo,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.bc,e),e.getBtn.removeEventListener(eui.tep,e.oo,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=e.data;1==t.type?e.descTxt.textFlow=LgRe.OQ(fvg.GVf("pavilion0"+t.type,t.name,fvg.GVf("martialart_name_"+t.fid))):12==t.type||13==t.type?e.descTxt.textFlow=LgRe.OQ(fvg.GVf("pavilion0"+t.type,t.name,t.point)):e.descTxt.textFlow=LgRe.OQ(fvg.GVf("pavilion0"+t.type,t.name)),e.yg=t.type,e.pq=t.id,e.sw=t.level||0,e.datas.source.splice(0,e.datas.source.length);
var n;n=12==t.type||13==t.type?XCA.RE("200_"+t.type+"_"+t.level):XCA.DG(200,t.type);for(var i=Nkz.PI(n),r=0;r<i.length;r++)e.datas.source.push(i[r]);e.datas.refresh(),e.getBtn.visible=!t.status,e.gotImg.visible=t.status>0,e.getBtn.icon=t.status&&0!=t.status?null:StaticData.GHj}},t.prototype.oo=function(e){var t=this;WulinLeagueMsgProxy.VD(t.pq,t.yg,t.sw)},t.prototype.bc=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.gotImg),t.gotImg=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PavilionItem.prototype,"PavilionItem");var PavilionView=function(e){function t(){var t=e.call(this,"PavilionView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.jj=FDG.QT,RankMsgProxy.IU(e.jj),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=PavilionItem,e.vipGrade=GObj.$c(NumberView),e.vipGrade.horizontalCenter=13,e.vipGroup.addChild(e.vipGrade),e.capTxt.text=fvg.GVf("martialart48",3e4),e.noneTxt.text=fvg.GVf("rank10"),e.timeTxt.text=fvg.GVf("pavilion5"),e.noDataTxt.text=fvg.GVf("pavilion6")},t.prototype.initData=function(){e.prototype.initData.call(this),this.sb()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.descBtn.addEventListener(eui.tep,t.qm,t),vkG.$a(UtJ.DP,t.sb,t),vkG.$a(UtJ.TT,t.cr,t)},t.prototype.removeEvent=function(){var e=this;e.descBtn.removeEventListener(eui.tep,e.qm,e),vkG.$r(UtJ.DP,e.sb,e),vkG.$r(UtJ.TT,e.cr,e)},t.prototype.qm=function(e){App.VS.popup(10066,GeneralAboutPopUi,null,AboutType.ZQ)},t.prototype.sb=function(){var e=this;if(e.CSo&&!e.destory){e.datas.source.length=0;for(var t,n=App.JG.plist.length,i=App.JG.plist,r=0;n>r;r++)t=GObj.$c(PavilionVo),t=i[r],t&&e.datas.source.push(t);e.datas.source.sort(e.iu),e.datas.refresh(),n>0?(e.noDataTxt.visible=!1,e.timeTxt.visible=!0):(e.noDataTxt.visible=!0,e.timeTxt.visible=!1),e.lv()}},t.prototype.cr=function(e){var t=this;e.type==t.jj&&(t.yw=e,t.lv())},t.prototype.lv=function(){var e=this;if(e.CSo){if(!e.yw)return e.bestGroup.visible=!1,e.vipGroup.visible=!1,void(e.noneTxt.visible=!0);if(e.bestGroup.visible=!0,e.vipGroup.visible=!0,e.noneTxt.visible=!1,e.yw&&e.jj==e.yw.type){var t=(e.yw.list.length,e.yw.list[0]);if(!t)return e.bestGroup.visible=!1,e.vipGroup.visible=!1,void(e.noneTxt.visible=!0);e.bestGroup.visible=!0,e.noneTxt.visible=!1,e.vipGroup.visible=!0,hFO.instance.getNumberView(bRC.MI,t.vip.toString(),-4,e.vipGrade),e.vipImg.x=71-e.vipGrade.width-34,e.headIcon.icon=kLM.JU(parseInt(t.head),t.heads);var n=t.usehf?t.usehf:1;e.frameImg.source=kLM.ZQ(n),e.descTxt.text=fvg.GVf("pavilion3",t.score),e.nameTxt.text=t.name}}},t.prototype.iu=function(e,t){return e&&t?e.status&&!t.status?1:!e.status&&t.status?-1:1:1},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.bestGroup),t.bestGroup=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.noDataTxt),t.noDataTxt=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.datas),t.datas=null,GObj.$d(t.noneTxt),t.noneTxt=null,GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.yw),t.yw=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(PavilionView.prototype,"PavilionView");var StuntAchievementPopUi=function(e){function t(){var t=e.call(this,"StuntAchievementPopUi")||this;return t.skinName=RRUU.$s("StuntAchievementPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){this.hu()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.hu=function(){var e=this,t=XCA.AQS.UFA(62,StaticData.MAP_SKILL_ID,1),n=App.JG.practiceGrade,i=App.JG.getPracticeTempGrade(n);if(i){var r=gLw.FJ(i.tid);e.currStageTxt.text=fvg.GVf("skill089")+fvg.GVf("stunt9",r),e.currActiveTxt.x=e.currStageTxt.x+e.currStageTxt.width,e.titleLab.text=fvg.GVf("stunt18"),n>=r?(e.currActiveTxt.text=fvg.GVf("beast01"),e.currActiveTxt.textColor=Color.TX,e.currAttrTxt.textColor=Color.TX):(e.currActiveTxt.text=fvg.GVf("112",n,r),e.currActiveTxt.textColor=Color.KA,e.currAttrTxt.textColor=Color.XB),e.currAttrTxt.text=e.vm(parseInt(i.p5),t.p2);var a=i.getgp+1,o=App.JG.getPracticeTempGrade(a);o&&n>=1?(r=gLw.FJ(o.tid),e.nextStageTxt.text=fvg.GVf("skill090")+fvg.GVf("stunt9",r),e.nextActiveTxt.x=e.nextStageTxt.x+e.nextStageTxt.width,e.nextActiveTxt.text=fvg.GVf("112",n,r),e.nextAttrTxt.text=e.vm(parseInt(o.p5),t.p2)):(e.nextStageTxt.text="",e.nextAttrTxt.text="",e.nextActiveTxt.text="")}},t.prototype.vm=function(e,t){var n=(e-1)*t/1e3*100;return fvg.GVf("stunt15",int(n))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.currStageTxt),t.currStageTxt=null,GObj.$d(t.currActiveTxt),t.currActiveTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextStageTxt),t.nextStageTxt=null,GObj.$d(t.nextActiveTxt),t.nextActiveTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.titleLab),t.titleLab=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(StuntAchievementPopUi.prototype,"StuntAchievementPopUi");var StuntBagItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StuntBagItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo)if(e.data){var t=e.data;e.itemView.data=t;var n=(t.TSF.name,aKF.DU(t.quality)),i=QNV.OV(t.tid);e.nameTxt.text=fvg.GVf("skill020",i),e.nameTxt.textColor=n}else e.itemView.data=null,e.nameTxt.text=""},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.sz,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.sz,e)},t.prototype.sz=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.nameTxt),t.nameTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StuntBagItem.prototype,"StuntBagItem");var StuntBagPopUi=function(e){function t(){var t=e.call(this,"StuntBagPopUi")||this;return t.skinName=RRUU.$s(t.id),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=StuntBagItem,e.cb=[],e.title=fvg.GVf("stunt19")},t.prototype.initData=function(){this.ik()},t.prototype.initEvent=function(){},t.prototype.removeEvent=function(){},t.prototype.ik=function(){var e=this;if(e.CSo){e.cb.splice(0,e.cb.length);for(var t=GObj.$c(nlwj),n=App.FK.LHp(10),i=n.length,r=0;i>r;r++)t=n[r],e.cb.push(t);e.cb.sort(App.JG.sortKnackArray),e.vl()}},t.prototype.vl=function(){for(var e=this,t=StaticData.STUNT_KNACK_BAG_SIZE,n=e.cb.length,i=[],r=0;t>r;r++)n>r?i.push(e.cb[r]):i.push(null);e.datas.replaceAll(i),e.datas.refresh()},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null;for(var n=t.cb.length,i=0;n>i;i++)GObj.$d(t.cb[i]),t.cb[i]=null;t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(StuntBagPopUi.prototype,"StuntBagPopUi");var StuntBtnItem=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"StuntBtnItem")||this;return n._isShowUpgradeEff=!1,n.ag=!1,n.ku=!0,n._equipType=t,n.skinName=RRUU.$s("StuntBtnItem"),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.preTab="",e.preGrade=0,e._isShowUpgradeEff=!0,e.touchEnabled=!1},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.EWK,e.em,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.EWK,e.em,e)},t.prototype.initData=function(){var e=this;e.ym(),e.ek()},t.prototype.em=function(){this.ym()},t.prototype.cs=function(e){var t=this;t.weS&&t.weS.parent&&t.removeChild(t.weS)},t.prototype.ym=function(){var e=this;if(e.CSo&&e.equipType){e.zr=null,e.iconImg.source="stunt_json.stunt_knack_"+e.equipType+"_off_png";if(e.zr=App.JG.getCurrTypeKnackBySonType(e.equipType),e.nameTxt.text="",e.nameTxt.text=fvg.GVf("stunt"+e.equipType),e.itemView.showNumTxt=!1,e.zr){e.itemView.data=e.zr,e.nameTxt.textColor=aKF.DU(e.zr.quality),e.iconImg.visible=!1;var t=QNV.OV(e.zr.tid);e.gradeTxt.text=fvg.GVf("426",t)}else e.itemView.data=null,e.iconImg.visible=!0,e.nameTxt.textColor=Color.SE,e.gradeTxt.text="";e._redPoint.visible=UsU.WE(e._equipType,e.zr)}},Object.defineProperty(t.prototype,"equipType",{get:function(){return this._equipType},set:function(e){var t=this;t._equipType=e,t.ym()},enumerable:!0,configurable:!0}),t.prototype.checkUpgrade=function(){var e=this;e._isShowUpgradeEff&&(e._currGrade!=e.preGrade&&(e.weS||(e.weS=App.KB.getUIEffect(gYq.FS,100,1),e.weS.addEventListener(egret.Event.COMPLETE,e.cs,e),e.weS.x=-36,e.weS.y=-40),e.weS.play(1),e.addChild(e.weS)),e.preGrade=e._currGrade)},Object.defineProperty(t.prototype,"$autoSelected",{get:function(){return!1},set:function(e){},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isShowUpgradeEff",{get:function(){return this._isShowUpgradeEff},set:function(e){this._isShowUpgradeEff=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){var t=this;t._selected=e,t.ek()},enumerable:!0,configurable:!0}),t.prototype.ek=function(){var e=this;e.CSo&&(e.selectedBack.visible=e._selected)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.selectedBack),t.selectedBack=null,GObj.$d(t._redPoint),t._redPoint=null,GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.zr),t.zr=null;for(var n=t.kn?t.kn.length:0,i=0;n>i;i++)GObj.$d(t.kn[i]),t.kn[i]=null;t.weS&&(t.weS.stop(),t.weS.removeEventListener(egret.Event.COMPLETE,t.cs,t)),GObj.$d(t.weS),t.weS=null,t._data=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(StuntBtnItem.prototype,"StuntBtnItem",["ISelectedButton","egret.IEventDispatcher"]);var StuntItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StuntItem"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.qf,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.qf,e)},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.iconView.icon=kLM.ZX(e.data.tid),e.nameTxt.text=e.data.name,e.itemIndex>0?(e.selectImg.visible=!1,e.unlockImg.visible=!0):(e.selectImg.visible=!0,e.unlockImg.visible=!1))},t.prototype.qf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.selectImg),t.selectImg=null,GObj.$d(t.unlockImg),t.unlockImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StuntItem.prototype,"StuntItem");var StuntKnackView=function(e){function t(){var t=e.call(this,"StuntKnackView")||this;return t.skinName=RRUU.$s("StuntKnackView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.fightView=GObj.$c(NumberView),e.fightView.x=200,e.fightView.y=30,e.addChild(e.fightView),e.currDescTxt.text=fvg.GVf("beast03"),e.nextDescTxt.text=fvg.GVf("beast04"),e.maxTxt.text=fvg.GVf("public014"),e.noTxt.text=fvg.GVf("public010"),e.stuntBtns=[],e.nf=GObj.$c(kQr),e.qf=GObj.$c(nlwj),e.xx=GObj.$c(nlwj),e.pc={},e.pc=App.JG.getKnackTemp;for(var t=1;4>=t;t++)e.stuntBtns.push(this["stuntBtn"+t]),e.nf.cwA(this["stuntBtn"+t]);e.nf.selectedIndex=0,e.iconView.showNumTxt=!1,e.costView.showNumTxt=!1,e.hi()},t.prototype.initData=function(){this.fa()},t.prototype.initEvent=function(){var e=this;e.bagBtn.addEventListener(eui.tep,e.bi,e),e.activationBtn.addEventListener(eui.tep,e.rq,e),e.nf.addEventListener(egret.Event.CHANGE,e.ig,e),e.goodsImg.addEventListener(eui.tep,e.eit,e),vkG.$a(UtJ.DV,e.fa,e),vkG.$a(UtJ.XB,e.cv,e),vkG.$a(UtJ.EWK,e.cv,e)},t.prototype.removeEvent=function(){var e=this;e.CSo&&!e.destory&&(e.bagBtn.removeEventListener(eui.tep,e.bi,e),e.activationBtn.removeEventListener(eui.tep,e.rq,e),e.nf.removeEventListener(egret.Event.CHANGE,e.ig,e),e.goodsImg.removeEventListener(eui.tep,e.eit,e),vkG.$r(UtJ.DV,e.fa,e),vkG.$r(UtJ.XB,e.cv,e),vkG.$r(UtJ.EWK,e.cv,e))},t.prototype.bi=function(e){App.VS.popup(10063,StuntBagPopUi)},t.prototype.fc=function(e){},t.prototype.rq=function(e){var t=this;if(t.ju&&!t.yi)return void App.TT.show(fvg.GVf("skill006"));if(!t.yi||!t.qf.TSF)return void App.TT.show(fvg.GVf("stunt13"));if(t.xx)return GoodsMsgProxy.QA(10,t.xx.id,t.xx.tid),void vkG.$d(UtJ.XB);var n=GObj.$c(nlwj);n.tid=t.yi.mat2||0;var i=App.FK.hsx(n.tid),r=t.yi.ct2||999;return r>i?void _JDW.TR(n.tid):void(t.yi&&WulinLeagueMsgProxy.GC(t.yi.id))},t.prototype.ig=function(e){this.hi()},t.prototype.eit=function(e){var t,n=this;if(n.xx)t=n.xx;else{var i=n.nf.selectedIndex;t=GObj.$c(nlwj),t.tid=StaticData.TID_STUNT_KNACKS[i]}App.FK.showGoodsDetails(t,!1)},t.prototype.hi=function(){var e=this;if(e.CSo){e.qf.tid=0,e.ju=null;var t=e.nf.selectedIndex;e.gg=e.stuntBtns[t].equipType,e.ju=App.JG.getCurrTypeKnackBySonType(e.gg),e.yi=App.PI.getKnackComposeByMat(e.ju?e.ju.tid:0)[0],e.xx=App.JG.haveOrHigherGrade(e.ju,e.gg);var n=App.JG.knackCap||0;hFO.instance.getNumberView(bRC.UA,n.toString(),-12,e.fightView),e.noTxt.visible=!1,e.countTxt.visible=!1,e.costView.visible=!1,e.activationBtn.icon=UsU.WE(e.gg,e.ju)?StaticData.GHj:null;var i=App.JG.haveOrHigherGrade(e.ju,e.gg);if(e.ju?(e.currAttrTxt.visible=!0,e.nextAttrTxt.visible=!0,e.iconView.data=e.ju,e.attrGroup.visible=!0,e.currAttrTxt.text=LRJ.KG(e.ju.TSF.p1),e.nameTxt.text=e.ju.name,e.nameTxt.textColor=aKF.DU(e.ju.quality),e.goodsImg.visible=!1,e.descImg.visible=!1,i?(e.activationBtn.label=fvg.GVf("role8"),e.countTxt.visible=!0,e.costView.visible=!0,e.costImg.visible=!1,e.costbgImg.visible=!1,e.haveTxt.visible=!1,e.costView.data=i,e.countTxt.text=fvg.GVf("public022",i.count,1)):(e.activationBtn.label=fvg.GVf("public008"),e.countTxt.visible=!1,e.costView.visible=!1,e.costImg.visible=!0,e.costbgImg.visible=!0,e.haveTxt.visible=!0)):(e.nameTxt.text=fvg.GVf("public010"),e.nameTxt.textColor=Color.KA,e.activationBtn.label=fvg.GVf("public012"),i?(e.countTxt.visible=!0,e.costView.visible=!0,e.costImg.visible=!1,e.costbgImg.visible=!1,e.haveTxt.visible=!1,e.costView.data=i,e.countTxt.text=fvg.GVf("public022",i.count,1)):(e.countTxt.visible=!1,e.costView.visible=!1,e.costImg.visible=!0,e.costbgImg.visible=!0,e.haveTxt.visible=!0),e.goodsImg.visible=!0,e.iconView.data=null,e.descImg.visible=!0,e.attrGroup.visible=!1,e.goodsImg.source="stunt_json.stunt_knack_"+e.gg+"_off_png"),e.yi)e.qf.tid=e.yi.nmat,e.nextAttrTxt.text=LRJ.KG(e.qf.TSF.p1),e.maxTxt.visible=!1;else if(e.ju)e.maxTxt.visible=!0,e.nextAttrTxt.text="";else{e.currAttrTxt.visible=!1,e.maxTxt.visible=!1,e.noTxt.visible=!0,e.attrGroup.visible=!1;var r=XCA.RW(e.pc[e.gg]);if(!r)return;e.yi=r;var a=XCA.FR(e.yi.nmat);e.nextAttrTxt.text=LRJ.KG(a.p1),e.qf.tid=r.nmat||0}e.updateNeedCount()}},t.prototype.updateNeedCount=function(){var e,t,n=this,i=GObj.$c(nlwj);n.yi?(i.tid=n.yi.mat2||0,t=n.yi.ct2||1,e=App.FK.hsx(i.tid)):(t=0,e=0),n.haveTxt.text=fvg.GVf("public022",e,t),n.haveTxt.textColor=e>=t?Color.TX:Color.KA,e=0,t=0},t.prototype.fa=function(){var e=this;e.CSo&&e.updateNeedCount()},t.prototype.cv=function(){var e=this;e.CSo&&e.hi()},t.prototype.dispose=function(){var t=this;t.removeEvent();for(var n=0;4>n;n++)GObj.$d(t.stuntBtns[n]),t.stuntBtns[n]=null;GObj.$d(t.currDescTxt),t.currDescTxt=null,GObj.$d(t.nextDescTxt),t.nextDescTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.useGroup),t.useGroup=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.bagBtn),t.bagBtn=null,GObj.$d(t.nf),t.nf=null,GObj.$d(t.attrGroup),t.attrGroup=null,GObj.$d(t.goodsImg),t.goodsImg=null,GObj.$d(t.descImg),t.descImg=null,GObj.$d(t.yi),t.yi=null,GObj.$d(t.qf),t.qf=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.ju),t.ju=null,GObj.$d(t.pc),t.pc=null,GObj.$d(t.noTxt),t.noTxt=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.xx),t.xx=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.costImg),t.costImg=null,GObj.$d(t.costView),t.costView=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.costbgImg),t.costbgImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(StuntKnackView.prototype,"StuntKnackView");var StuntPracticeItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("StuntPracticeItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.dp,e),vkG.$a(UtJ.DV,e.fa,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.dp,e),vkG.$r(UtJ.DV,e.fa,e)},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){var t=e.data;e.itemView.data=t,e.fa()}},t.prototype.fa=function(){var e=this;if(e.CSo&&e.data){var t=e.data,n=App.FK.hsx(t.tid);e.itemView.bottomText=n.toString(),e.itemView.bottomColor=n>0?Color.TX:Color.KA,e.redPointImg.visible=UsU.UO(t)}},t.prototype.dp=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.redPointImg),t.redPointImg=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(StuntPracticeItem.prototype,"StuntPracticeItem");var StuntPracticeView=function(e){function t(){var t=e.call(this,"StuntPracticeView")||this;return t.by=1,t.zs=0,t.skinName=RRUU.$s("StuntPracticeView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.upBtn.label=fvg.GVf("public008"),e.oneKeyBtn.label=fvg.GVf("treasure25"),e.noTxt.text=fvg.GVf("public010"),e.maxTxt.text=fvg.GVf("public014"),e.selectDescTxt.text=fvg.GVf("stunt14"),e.currGradeTxt.text=fvg.GVf("beast03"),e.nextGradeTxt.text=fvg.GVf("beast04"),e.actionBtn.label=fvg.GVf("public012"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=StuntPracticeItem,e.fightView=GObj.$c(NumberView),e.fightView.x=200,e.fightView.y=30,e.addChild(e.fightView),e.gradeView=GObj.$c(NumberView),e.gradeView.x=290,e.gradeView.y=90,e.addChild(e.gradeView),e.oz=[];for(var t,n,i=XCA.CG(IDU.RT),r=i.split("|"),a=r.length||0,o=0,s=0,p=!0,l=0;a>l;l++)t=r[l].split(","),t.length>=2&&(e.oz.push(parseInt(t[1])),n=GObj.$c(nlwj),n.tid=parseInt(t[0]),o=App.FK.hsx(n.tid),o&&p&&(s=l,p=!1),e.datas.source.push(n));e.datas.refresh(),e.itemList.selectedIndex=s},t.prototype.initData=function(){var e=this;e.bw(null),e.sm()},t.prototype.initEvent=function(){var e=this;e.achievementBtn.addEventListener(eui.tep,e.nd,e),e.upBtn.addEventListener(eui.tep,e.nk,e),e.oneKeyBtn.addEventListener(eui.tep,e.pj,e),e.itemList.addEventListener(egret.Event.CHANGE,e.bw,e),e.actionBtn.addEventListener(eui.tep,e.frs,e),vkG.$a(UtJ.VY,e.zo,e),vkG.$a(UtJ.DV,e.bq,e)},t.prototype.removeEvent=function(){var e=this;e.CSo&&!e.destory&&(e.achievementBtn.removeEventListener(eui.tep,e.nd,e),e.upBtn.removeEventListener(eui.tep,e.nk,e),e.oneKeyBtn.removeEventListener(eui.tep,e.pj,e),e.itemList.removeEventListener(egret.Event.CHANGE,e.bw,e),e.actionBtn.removeEventListener(eui.tep,e.frs,e),vkG.$r(UtJ.VY,e.zo,e),vkG.$r(UtJ.DV,e.bq,e))},t.prototype.sm=function(){var e=this;if(e.CSo){e.su=App.JG.practiceGrade,e.gf=App.JG.getPracticeTempGrade(e.su);e.gf.attrid+e.su;if(0==e.su){e.noTxt.visible=!0,e.currGradeTxt.visible=!1,e.currAttrTxt.text="",e.actionBtn.visible=!0,e.itemList.visible=!1,e.selectDescTxt.visible=!1,e.upBtn.visible=!1,e.oneKeyBtn.visible=!1;var t=App.BG.turnupInfo.grade;e.actionBtn.icon=t>=StaticData.TURNUP_LV?StaticData.GHj:null}else e.actionBtn.visible=!1,e.actionBtn.icon=null,e.itemList.visible=!0,e.selectDescTxt.visible=!0,e.upBtn.visible=!0,e.oneKeyBtn.visible=!0,e.noTxt.visible=!1,e.currGradeTxt.visible=!0,e.currAttrTxt.text=e.vw(e.su);e.su+1;e.su>=e.gf.maxgrade?(e.maxTxt.visible=!0,e.nextAttrTxt.text=""):(e.maxTxt.visible=!1,e.nextAttrTxt.text=e.vw(e.su+1)),hFO.instance.getNumberView(bRC.ES,e.su.toString(),-8,e.gradeView),e.su>9&&e.su<100?e.levelImg.x=335:e.su>99&&(e.levelImg.x=355);var n=App.JG.practiceInfo.cap||0;hFO.instance.getNumberView(bRC.UA,n.toString(),-12,e.fightView);var i=App.JG.practiceInfo["gp_"+e.by]||0,r=App.JP.getPracticeUpNeedGp(e.su,e.gf.p2,e.gf.p3,e.gf.p4);e.su>=e.gf.maxgrade?(e.expTxt.text="MAX",e.expBar.value=100):(e.expTxt.text=fvg.GVf("beauty17",i,r),e.expBar.value=int(i/r*100)),e.descTxt.text="";var a=XCA.AQS.UFA(62,StaticData.MAP_SKILL_ID,1);if(a){var o=0,s=0,p=parseInt(a.p5),l=PlayerSKillAI.instance.bigSkillDic[StaticData.MAP_SKILL_ID];o=App.JP.bigSkillP1(a.p1,a.p2,App.JG.practiceStage||1),s=App.JP.bigSkillP2(a.p3,a.p4,App.JG.practiceGrade||1),l&&(l.p1=o),l&&(l.p2=s);var c=App.BG.playerAttrsInfo.wlcct;if(c>0){var u=p/1e3*(c/1e3);e.descTxt.text=fvg.GVf("stunt16",p/1e3,u,Math.round(100*o),s)}else e.descTxt.text=fvg.GVf("stunt17",p/1e3,Math.round(100*o),s)}}},t.prototype.vw=function(e){var t,n,i=XCA.YV(this.gf.attrid),r="";if(i){for(t in xxf.UK)n=App.JP.getPracticeUpAttr(i[t],e)||0,n>0&&(r+="\n"+fvg.GVf("skill004",xxf.UK[t],n));for(t in xxf.IM)n=App.JP.getPracticeUpAttr(i[t],e)||0,n>0&&(r+="\n"+fvg.GVf("skill004",xxf.UK[t],n))}return r},t.prototype.nd=function(e){App.VS.popup(10061,StuntAchievementPopUi)},t.prototype.nk=function(e){var t=this;return t.su>=t.gf.maxgrade?void App.TT.show(fvg.GVf("skill006")):t.zs<=0?void _JDW.TR(t.fe.tid):void WulinLeagueMsgProxy.ZL(1,t.by,t.fe.tid)},t.prototype.pj=function(e){var t=this;return t.su>=t.gf.maxgrade?void App.TT.show(fvg.GVf("skill006")):t.zs<=0?void _JDW.TR(t.fe.tid):void WulinLeagueMsgProxy.ZL(2,t.by,t.fe.tid)},t.prototype.bw=function(e){var t=this;t.fe=t.datas.source[t.itemList.selectedIndex],t.bq()},t.prototype.frs=function(e){var t=App.BG.turnupInfo.grade;return t<StaticData.TURNUP_LV?void App.TT.show(fvg.GVf("stunt12")):void WulinLeagueMsgProxy.UC()},t.prototype.zo=function(){this.sm()},t.prototype.bq=function(){var e=this;e.zs=App.FK.hsx(e.fe.tid),e.upBtn.icon=UsU.UO(e.fe)?StaticData.GHj:null,e.oneKeyBtn.icon=UsU.UO(e.fe)?StaticData.GHj:null},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.itemView),t.itemView=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.achievementBtn),t.achievementBtn=null,GObj.$d(t.currGradeTxt),t.currGradeTxt=null,GObj.$d(t.nextGradeTxt),t.nextGradeTxt=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.noTxt),t.noTxt=null,GObj.$d(t.expBar),t.expBar=null,GObj.$d(t.expTxt),t.expTxt=null,GObj.$d(t.gradeView),t.gradeView=null,GObj.$d(t.levelImg),t.levelImg=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.selectDescTxt),t.selectDescTxt=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.oneKeyBtn),t.oneKeyBtn=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.gf),t.gf=null,GObj.$d(t.actionBtn),t.actionBtn=null,t.datas=null,t.oz=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(StuntPracticeView.prototype,"StuntPracticeView");var StuntView=function(e){function t(){var t=e.call(this,"StuntView")||this;return t.rq=1,t.skinName=RRUU.$s("StuntView"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noTxt.text=fvg.GVf("public010"),e.maxTxt.text=fvg.GVf("public014"),e.upBtn.label=fvg.GVf("public008"),e.datas=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.datas,e.itemList.itemRenderer=StuntItem,e.fightView=GObj.$c(NumberView),e.fightView.x=200,e.fightView.y=30,e.addChild(e.fightView),e.ax=GObj.$c(nlwj),e.hp=GObj.$c(kQr),e.skillTxts=[],e.itemViews=[],e.btnArr=[],e.pc=[],e.fi=[];for(var t=1;6>=t;t++)e.skillTxts.push(this["skillTxt"+t]),e.hp.cwA(this["skillBtn"+t]),e.btnArr.push(this["skillBtn"+t]),e.itemViews.push(this["skillBtn"+t].itemIcon)},t.prototype.initData=function(){for(var e,t=this,n=fvg.GVf("stunt7"),i=n.split(","),r=i.length,a=[58001001001,58002001001,58003001001,58004001001],o=0;r>o;o++)e={},e.name=i[o],e.tid=a[o],t.datas.source.push(e);t.datas.refresh(),t.hp.selectedIndex=5,t.itemList.selectedIndex=0,t.ub=App.JG.getStunt(),t._g(null)},t.prototype.initEvent=function(){var e=this;e.itemList.addEventListener(egret.Event.CHANGE,e._g,e),e.hp.addEventListener(egret.Event.CHANGE,e.wy,e),e.upBtn.addEventListener(eui.tep,e.jbm,e),vkG.$a(UtJ.OZ,e.rc,e),vkG.$a(UtJ.KT,e.rc,e),vkG.$a(UtJ.DV,e.tc,e)},t.prototype.removeEvent=function(){var e=this;e.itemList.removeEventListener(egret.Event.CHANGE,e._g,e),e.hp.removeEventListener(egret.Event.CHANGE,e.wy,e),e.upBtn.removeEventListener(eui.tep,e.jbm,e),vkG.$r(UtJ.OZ,e.rc,e),vkG.$r(UtJ.KT,e.rc,e),vkG.$r(UtJ.DV,e.tc,e)},t.prototype._g=function(e){var t=this,n=t.itemList.selectedIndex;return n>0||!t.ub[n]?(t.itemList.selectedIndex=0,void App.TT.show(fvg.GVf("4"))):(t.ho=t.ub[n],t.hp.selectedIndex=5,void t.mo())},t.prototype.wy=function(e){this.rz()},t.prototype.jbm=function(e){var t=this;if(t.yl<t.ax.count)return void _JDW.TR(t.ax.tid);var n=t.hp.selectedIndex,i=parseInt(t.pc[n])||0,r=t.fi[n],a=App.JG.stuntInfo[i];return r&&a>=r.maxgrade?void App.TT.show(fvg.GVf("skill006")):void(i&&WulinLeagueMsgProxy.YQ(i))},t.prototype.rz=function(){var e=this;if(e.CSo){var t,n,i,r,a=e.hp.selectedIndex;if(e.costImg.source=kLM.NU(a),5==a){e.backImg.height=131,e.attrGroup.visible=!1,e.stuntGroup.visible=!0,r=App.JG.stuntSkillInfo[e.rq]||0;var o=0,s=void 0;t=XCA.AQS.UFA(58,e.rq,r),t||(t=XCA.AQS.UFA(58,e.rq,1),o=e.fd(t.p1));var p=void 0,l=void 0;t&&(p=o>=5,i=t.attrid,s=p?Color.SE:Color.KA,l=p?fvg.GVf("beast01"):fvg.GVf("112",o,5),e.cadTxt.textFlow=LgRe.OQ(fvg.GVf("skill089")+fvg.GVf("stunt8",t.p1,s,l)),e.cAttrTxt.text=LRJ.KG(i)),n=XCA.AQS.UFA(58,e.rq,r+1),0>=r||r>=t.maxgrade&&p?(e.nadTxt.text="",e.nAttrTxt.text="",e.cadTxt.y=35,e.cAttrTxt.y=59):(e.cadTxt.y=0,e.cAttrTxt.y=24,e.cadTxt.textFlow=LgRe.OQ(fvg.GVf("skill089")+fvg.GVf("stunt8",t.p1,Color.TX,fvg.GVf("beast01"))),n?(o=e.fd(n.p1),p=o>=5,i=n.attrid,s=p?Color.SE:Color.KA,l=p?fvg.GVf("beast01"):fvg.GVf("112",o,5),e.nadTxt.textFlow=LgRe.OQ(fvg.GVf("skill090")+fvg.GVf("stunt8",n.p1,s,l)),e.nAttrTxt.text=LRJ.KG(i)):(e.nAttrTxt.text="",e.nadTxt.text=""))}else{e.backImg.height=99,e.attrGroup.visible=!0,e.stuntGroup.visible=!1;var c=parseInt(e.pc[a]);r=App.JG.stuntInfo[c]||0,r>0?(t=e.fi[e.hp.selectedIndex],e.noTxt.visible=!1,e.currAttrTxt.visible=!0):(e.currAttrTxt.visible=!1,e.noTxt.visible=!0),t||(t=XCA.AQS.UFA(57,c,1)),t&&(i=t.attrid+r,e.currAttrTxt.text=LRJ.KG(i),i=t.attrid+r+1,e.nextAttrTxt.text=LRJ.KG(i)),r>=t.maxgrade?(e.nextAttrTxt.visible=!1,e.maxTxt.visible=!0):(e.maxTxt.visible=!1,e.nextAttrTxt.visible=!0)}e.tc()}},t.prototype.fd=function(e){for(var t,n,i=this,r=i.pc.length,a=0,o=0;r>o;o++)t=parseInt(i.pc[o]),n=App.JG.stuntInfo[t]||0,n>=e&&(a+=1);
return a},t.prototype.mo=function(){var e=this;if(e.CSo&&e.ho){e.rq=gLw.IQ(e.ho.tid);var t=App.JG.stuntSkillInfo[e.rq]||0;e.ho=XCA.AQS.UFA(58,e.rq,t||1);var n=App.JG.stuntInfo.cap||0;hFO.instance.getNumberView(bRC.UA,n.toString(),-12,e.fightView),e.itemViews[5]&&(e.itemViews[5].upgradeId=e.ho.tid,e.btnArr[5].label=fvg.GVf("426",t),e.btnArr[5].unlockImg.visible=0>=t),e.selSkillTxt.text=e.ho.name;var i=gLw.GM(e.ho.tid);e.selSkillTxt.textColor=aKF.DU(i),e.pc=e.ho.p6.split(",");var r,a,o,s,p=e.pc.length;e.fi=[];for(var l=0;p>l;l++)o=parseInt(e.pc[l]),a=App.JG.stuntInfo[o]||0,r=XCA.AQS.UFA(57,o,1),r&&(e.itemViews[l]&&(e.itemViews[l].upgradeId=r.tid),e.skillTxts[l]&&(e.skillTxts[l].text=r.name,s=gLw.GM(r.tid),e.skillTxts[l].textColor=aKF.DU(s)),e.fi.push(r)),e.btnArr[l]&&(e.btnArr[l].label=fvg.GVf("426",a),e.btnArr[l].unlockImg.visible=0>=a);e.rz(),e.tc()}},t.prototype.rc=function(){this.mo()},t.prototype.tc=function(){var e=this;if(e.CSo&&e.ho){var t=e.hp.selectedIndex;e.ax.tid=StaticData.TID_STUNTS[t];var n=e.fi[t];if(n){var i=gLw.IQ(n.tid),r=5==t?App.JG.stuntSkillInfo[i]||0:App.JG.stuntInfo[i]||0;e.ax.count=App.JP.getStuntUpNeedCount(r,n.p2||0,n.p3||0,n.p4||0)}e.yl=App.FK.hsx(e.ax.tid||0),e.costTxt.text=fvg.GVf("beauty17",e.yl,e.ax.count),e.costTxt.textColor=e.yl>=e.ax.count?Color.TX:Color.KA,e.upBtn.icon=UsU.NA(n)?StaticData.GHj:null;for(var a,o=e.fi.length,s=0;o>s;s++)a=UsU.NA(e.fi[s]),a?e.btnArr[s].icon=StaticData.GHj:e.btnArr[s].icon=null}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.selSkillTxt),t.selSkillTxt=null;for(var n=t.skillTxts.length,i=0;n>i;i++)GObj.$d(t.skillTxts[i]),t.skillTxts[i]=null,GObj.$d(t.itemViews[i]),t.itemViews[i]=null,GObj.$d(t.btnArr[i]),t.btnArr[i]=null,t.fi[i]=null;for(var r=t.ub.length,i=0;r>i;i++)t.ub[i]=null;GObj.$d(t.hp),t.hp=null,GObj.$d(t.currAttrTxt),t.currAttrTxt=null,GObj.$d(t.nextAttrTxt),t.nextAttrTxt=null,GObj.$d(t.upBtn),t.upBtn=null,GObj.$d(t.costTxt),t.costTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.fightView),t.fightView=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.attrGroup),t.attrGroup=null,GObj.$d(t.stuntGroup),t.stuntGroup=null,GObj.$d(t.cadTxt),t.cadTxt=null,GObj.$d(t.cAttrTxt),t.cAttrTxt=null,GObj.$d(t.nadTxt),t.nadTxt=null,GObj.$d(t.nAttrTxt),t.nAttrTxt=null,GObj.$d(t.noTxt),t.noTxt=null,GObj.$d(t.maxTxt),t.maxTxt=null,GObj.$d(t.costImg),t.costImg=null,t.datas=null,t.ho=null,t.ax=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(StuntView.prototype,"StuntView");var WulinTreasuryView=function(e){function t(){var t=e.call(this,"WulinTreasuryView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.oneBtn.label=fvg.GVf("funny10",1),e.tenBtn.label=fvg.GVf("funny10",10),e.rz=!1,e.redBtns=[],e.getedImgs=[];for(var t=1;4>=t;t++)e.redBtns.push(this["redBagBtn_"+t]),e.getedImgs.push(this["receiveImg_"+t]);for(var n,i=App.JG.getTreasuryCon,t=0;t<i.length;t++)n=this["conTxt_"+(t+1)],n&&(n.textFlow=LgRe.OQ(fvg.GVf("wltreasury1",i[t])));e.qa=parseInt(i[i.length-1])||0;var r=XCA.CG(IDU.HP)||"1000,100000";e.pf=parseInt(r.split(QycO.XP)[1])||0,i=App.JG.treasuryNeed,e.sg=parseInt(i[0])||0,e.wt=parseInt(i[1])||0,r=XCA.DG(77,1);var a=Nkz.PI(r);e.itemsList=[],e.ss=[];for(var o,t=0;t<a.length;t++)o=GObj.$c(FunnyTreasureItem),o.goodsData=a[t],o.x=240+130*Math.cos(45*t*Math.PI/180)-38,o.y=442+130*Math.sin(45*t*Math.PI/180)-79,e.addChild(o),e.itemsList.push(o),e.ss.push(a[t]);e.hb=e.itemsList.length,e.gm=GObj.$c(TrundlePlugin),e.gm.maxIndex=e.hb,e.gm.dir=TrundlePlugin.VU,e.gm.addCallBackFunction(e.hl,e),e.tc=GObj.$c(TrundlePlugin),e.tc.maxIndex=e.hb,e.tc.dir=TrundlePlugin.DE,e.tc.addCallBackFunction(e.dp,e)},t.prototype.initEvent=function(){var t=this;if(e.prototype.initEvent.call(this),t.redBtns)for(var n=0;n<t.redBtns.length;n++)t.redBtns[n].$autoSelected=!1,t.redBtns[n].addEventListener(eui.tep,t.jll,t);t.oneBtn.addEventListener(eui.tep,t.iz,t),t.tenBtn.addEventListener(eui.tep,t.um,t),t.aboutBtn.addEventListener(eui.tep,t.ii,t),vkG.$a(UtJ.FN,t.bz,t)},t.prototype.removeEvent=function(){var e=this;if(e.redBtns)for(var t=0;t<e.redBtns.length;t++)e.redBtns[t].removeEventListener(eui.tep,e.jll,e);e.oneBtn.removeEventListener(eui.tep,e.iz,e),e.tenBtn.removeEventListener(eui.tep,e.um,e),e.aboutBtn.removeEventListener(eui.tep,e.ii,e),vkG.$r(UtJ.FN,e.bz,e)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.vx=App.JG.wuLinTreasuryInfo,t.bz();var n=int(t.hb*Math.random());t.gm.start(n,1e3)},t.prototype.bz=function(){var e=this;e.hs(),e.gf(),e.kz()},t.prototype.hs=function(){var e=this;e.poolTxt.text=fvg.GVf("public022",e.vx.total||0,e.pf),e.countTxt.text=toChars(e.vx.count||0);var t=e.vx.count||0;e.progTxt.text=fvg.GVf("public022",t||0,e.qa),e.progBar.value=Math.min(100,int(t/e.qa*100));var n=App.JG.wuShenTowerInfo.score||0;n<e.sg?e.needTxt_1.textFlow=LgRe.OQ(fvg.GVf("wushen25",n,e.sg)):e.needTxt_1.textFlow=LgRe.OQ(fvg.GVf("wushen43",n,e.sg)),n<e.wt?e.needTxt_2.textFlow=LgRe.OQ(fvg.GVf("wushen25",n,e.wt)):e.needTxt_2.textFlow=LgRe.OQ(fvg.GVf("wushen43",n,e.wt)),e.oneBtn.icon=n>=e.sg?StaticData.GHj:null,e.tenBtn.icon=n>=e.wt?StaticData.GHj:null},t.prototype.gf=function(){for(var e,t,n=this,i=n.vx.is,r=n.redBtns.length,a=App.JG.getTreasuryCon,o=n.vx.count||0,s=0;r>s;s++)e=parseInt(a[s])||0,n.getedImgs[s].visible=(i&1<<s)>0,t=n.redBtns[s],t.selected=o>=e,t.icon=o>=e&&!n.getedImgs[s].visible?StaticData.GHj:null,t.touchEnabled=t.touchChildren=!n.getedImgs[s].visible},t.prototype.kz=function(){var e=this,t=e.vx.list;if(t&&t.length>0)if(e.nr=e.eq(t),e.nr.length>0&&e.gm&&!e.gm.runing){var n=e.nr[0];e.gm.run(n,3,50),e.nr.length>1&&(e.tc.start(e.gm.FiZ,1e3),e.tc.run(n,5,50))}else e.gm.runing&&e.gm.stop(),e.tc.runing&&e.tc.stop(),!e.tc.runing&&e.gm.start(0,1e3),e.oneBtn.touchEnabled=e.oneBtn.touchChildren=!0,e.tenBtn.touchEnabled=e.tenBtn.touchChildren=!0,SpecialTipsBar.instance.pauseCheck=!1},t.prototype.hl=function(e,t,n){var i=this;if(e>=0&&e<i.hb&&(i.itemsList[e].selected=!0),t>=0&&t<i.hb&&(i.itemsList[t].selected=!1),n){i.tc.runing&&(i.tc.stop(),i.itemsList[i.tc.FiZ].selected=!1);var r=i.nr;i.nr=[];for(var a=[],o=0;o<r.length;o++)i.itemsList[r[o]]&&(i.itemsList[r[o]].playWinning(),a.push(i.itemsList[r[o]].goodsData));i.hy(a),egret.Tween.get(i).wait(1e3).call(i.sf,this,[a]),i.vx.list.length=0}},t.prototype.dp=function(e,t,n){var i=this;i.tc.runing&&(e>=0&&e<i.hb&&(i.itemsList[e].selected=!0),t>=0&&t<i.hb&&(i.itemsList[t].selected=!1))},t.prototype.sf=function(e){var t=this;egret.Tween.removeTweens(t),App.VS.popup(10065,TreasureResultPopUi,null,e),t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!0,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!0,SpecialTipsBar.instance.pauseCheck=!1,t.gm.start(t.gm.FiZ,1e3),t.rz=!1},t.prototype.hy=function(e){var t=e.length;if(!(0>=t))for(var n,i,r=hCs.stage.stageWidth/2-106,a=hCs.stage.stageHeight/2+100,o=0;t>o;o++)i=e[o].TSF,n=GObj.$c(NewGoodsUIEffect),n.start(i.name,i.qua,e[o].count,r,a-36*o)},t.prototype.eq=function(e){var t=this,n=[];if(!e||!e.length)return n;for(var i=0;i<e.length;i++)for(var r=0;r<t.ss.length;r++)e[i].tid==t.ss[r].tid&&e[i].num==t.ss[r].count&&n.push(r);return n},t.prototype.jll=function(e){var t=e.currentTarget,n=this.redBtns.indexOf(t);n>=0&&t.icon?WulinLeagueMsgProxy.XB(n+1):App.TT.show(fvg.GVf("98"))},t.prototype.iz=function(e){var t=this,n=App.JG.wuShenTowerInfo.score||0;return n<t.sg?void _JDW.TR(StaticData.TID_GOODS_29):void(t.rz||(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,WulinLeagueMsgProxy.BB(1),t.rz=!0))},t.prototype.um=function(e){var t=this,n=App.JG.wuShenTowerInfo.score||0;return n<t.wt?void _JDW.TR(StaticData.TID_GOODS_29):void(t.rz||(t.oneBtn.touchEnabled=t.oneBtn.touchChildren=!1,t.tenBtn.touchEnabled=t.tenBtn.touchChildren=!1,SpecialTipsBar.instance.pauseCheck=!0,WulinLeagueMsgProxy.BB(10),t.rz=!0))},t.prototype.ii=function(e){App.VS.popup(10065,GeneralAboutPopUi,null,AboutType.GS)},t.prototype.dispose=function(){var t=this;t.removeEvent(),egret.Tween.removeTweens(t),SpecialTipsBar.instance.pauseCheck=!1,GObj.$d(t.conTxt_1),t.conTxt_1=null,GObj.$d(t.conTxt_2),t.conTxt_2=null,GObj.$d(t.conTxt_3),t.conTxt_3=null,GObj.$d(t.conTxt_4),t.conTxt_4=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.poolTxt),t.poolTxt=null,GObj.$d(t.countTxt),t.countTxt=null;for(var n=0;4>n;n++)GObj.$d(t.redBtns[n]),t.redBtns[n]=null,GObj.$d(t.getedImgs[n]),t.getedImgs[n]=null;if(GObj.$d(t.needTxt_1),t.needTxt_1=null,GObj.$d(t.needTxt_2),t.needTxt_2=null,GObj.$d(t.group_1),t.group_1=null,GObj.$d(t.group_2),t.group_2=null,GObj.$d(t.oneBtn),t.oneBtn=null,GObj.$d(t.tenBtn),t.tenBtn=null,GObj.$d(t.gm),t.gm=null,GObj.$d(t.tc),t.tc=null,t.redBtns&&(t.redBtns.length=0),t.redBtns=null,t.getedImgs&&(t.getedImgs.length=0),t.getedImgs=null,t.ss&&(t.ss.length=0),t.ss=null,t.nr&&(t.nr.length=0),t.nr=null,t.itemsList)for(;t.itemsList.length>0;)GObj.$d(t.itemsList.pop());t.itemsList=null,t.vx&&t.vx.list&&(t.vx.list.length=0),t.vx=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(WulinTreasuryView.prototype,"WulinTreasuryView");var WuLinLeagueView=function(e){function t(){var t=e.call(this,"WuLinLeagueView")||this;return t.skinName=RRUU.$s("WuLinLeagueView"),ziI.MF("wst_grid"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.vipGrade=GObj.$c(NumberView),e.vipGrade.right=0,e.vipGroup.addChild(e.vipGrade),e.noheadTxt.text=fvg.GVf("462")},t.prototype.initData=function(){var e=this;e.xf(),e.ul(),e.nc()},t.prototype.initEvent=function(){var e=this;e.zhenwuBtn.addEventListener(eui.tep,e.sl,e),e.pavilionBtn.addEventListener(eui.tep,e.hi,e),e.warpathBtn.addEventListener(eui.tep,e.df,e),e.stuntBtn.addEventListener(eui.tep,e.dz,e),e.rewardBtn.addEventListener(eui.tep,e.oo,e),e.challengeBtn.addEventListener(eui.tep,e.sj,e),vkG.$a(UtJ.KSQ,e.vs,e),vkG.$a(UtJ.EJG,e.xf,e),vkG.$a(UtJ.RU,e.jl,e),App.BL.add(e.zhenwuBtn),App.BL.add(e.pavilionBtn),App.BL.add(e.warpathBtn),App.BL.add(e.stuntBtn),App.BL.add(e.rewardBtn),App.BL.add(e.challengeBtn)},t.prototype.removeEvent=function(){var e=this;e.zhenwuBtn.removeEventListener(eui.tep,e.sl,e),e.pavilionBtn.removeEventListener(eui.tep,e.hi,e),e.warpathBtn.removeEventListener(eui.tep,e.df,e),e.stuntBtn.removeEventListener(eui.tep,e.dz,e),e.rewardBtn.removeEventListener(eui.tep,e.oo,e),e.challengeBtn.removeEventListener(eui.tep,e.sj,e),vkG.$r(UtJ.EJG,e.xf,e),vkG.$r(UtJ.KSQ,e.vs,e),vkG.$r(UtJ.HD,e.aa,e),vkG.$r(UtJ.RU,e.jl,e),App.BL.remove(e.zhenwuBtn),App.BL.remove(e.pavilionBtn),App.BL.remove(e.warpathBtn),App.BL.remove(e.stuntBtn),App.BL.remove(e.rewardBtn),App.BL.remove(e.challengeBtn)},t.prototype.nc=function(){var e=this;e.warpathBtn.icon=UsU.TM()?StaticData.GHj:null,e.rewardBtn.icon=UsU.QK()?StaticData.GHj:null,e.pavilionBtn.icon=UsU.UU()?StaticData.GHj:null,e.stuntBtn.icon=UsU.IE()?StaticData.GHj:null,e.zhenwuBtn.icon=UsU.TU()?StaticData.GHj:null},t.prototype.vs=function(e){var t=this;rRcz.SS(89,!1)?t.challengeBtn.visible=t.timeBgImg1.visible=t.timeTxt1.visible=!0:t.challengeBtn.visible=t.timeBgImg1.visible=t.timeTxt1.visible=!1},t.prototype.ul=function(){var e=this,t=App.JG.wuShenTowerInfo;e.qu=t.et||0,e.qu-App.NN.serverSecond>0&&vkG.$a(UtJ.HD,e.aa,e),e.aa()},t.prototype.aa=function(){var e=this;if(!e.destory){var t=e.qu-App.NN.serverSecond;t>0?(t=int(t/86400),e.timeTxt1.text=e.timeTxt.text=t>0?fvg.GVf("wushen22",t):fvg.GVf("wushen23",1),e.timeTxt1.textColor=e.timeTxt.textColor=Color.TX):(e.timeTxt1.text=e.timeTxt.text=fvg.GVf("public035"),e.timeTxt1.textColor=e.timeTxt.textColor=Color.KA,vkG.$r(UtJ.HD,e.aa,e))}},t.prototype.jl=function(){var e=this;e.aa(),e.warpathBtn.icon=UsU.TM()?StaticData.GHj:null},t.prototype.sl=function(e){App.VS.open(10064)},t.prototype.hi=function(e){App.VS.open(10066)},t.prototype.df=function(e){rRcz.NBK()},t.prototype.sj=function(){App.VS.open(10058)},t.prototype.dz=function(e){App.VS.open(10061)},t.prototype.oo=function(e){App.VS.open(10065)},t.prototype.xf=function(){var e=this;if(e.CSo){for(var t,n,i=App.JG.memberList,r=i.memberList,a=r.length,o=0;a>o;o++)if(t=GObj.$c(WulinMemberVo),t=r[o],1==t.type){n=t;break}e.descImg.visible=!0,e.vipGroup.visible=!1,n&&(!n.id||n.id<=0||(e.vipGroup.visible=!0,e.leagueTxt.text=n.league_name,e.nameTxt.text=n.name||fvg.GVf("rank10"),e.capTxt.text=fvg.GVf("public018",n.cap||0),n.heads&&(e.headIcon.icon=kLM.JU(n.sex,n.heads)),n.usehf?e.frameImg.source=kLM.ZQ(n.usehf):e.frameImg.source="core_json.head_bg_png",e.descImg.visible=!n.id||n.id<=0?!0:!1,e.noheadTxt.visible=!n.id||n.id<=0?!0:!1,e.zhenwuBtn.icon=UsU.TU()?StaticData.GHj:null,hFO.instance.getNumberView(bRC.MI,(n.vip||12).toString(),-4,e.vipGrade),e.vipImg.x=65-e.vipGrade.width-34))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.zhenwuBtn),t.zhenwuBtn=null,GObj.$d(t.stuntBtn),t.stuntBtn=null,GObj.$d(t.pavilionBtn),t.pavilionBtn=null,GObj.$d(t.warpathBtn),t.warpathBtn=null,GObj.$d(t.rewardBtn),t.rewardBtn=null,GObj.$d(t.timeBgImg),t.timeBgImg=null,GObj.$d(t.timeBgImg1),t.timeBgImg1=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.timeTxt1),t.timeTxt1=null,GObj.$d(t.qu),t.qu=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.leagueTxt),t.leagueTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.noheadTxt),t.noheadTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.masterGroup),t.masterGroup=null,GObj.$d(t.descImg),t.descImg=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(WuLinLeagueView.prototype,"WuLinLeagueView");var AllianceRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("AllianceRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.tv,e),e.boxBtn.addEventListener(eui.tep,e.qm,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.tv,e),e.boxBtn.removeEventListener(eui.tep,e.qm,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.vc=e.data,e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.text=""):(e.rankImg.source=null,e.rankTxt.text=toChars(e.itemIndex+1)),e.mnameTxt.text=e.vc.p3||fvg.GVf("rank10"),e.nickLab.text=fvg.GVf("wushen18",""),e.nameTxt.text=e.vc.name||"--",e.nameTxt.x=e.nickLab.x+e.nickLab.width,e.scoreTxt.text=fvg.GVf("wushen17",e.vc.score||0))},t.prototype.qm=function(e){var t=this,n=GObj.$c(BoxPopUi);n.showDetail(75,1,t.itemIndex+1,t.pd())},t.prototype.pd=function(){var e=this.itemIndex+1;return 1==e?1:e>=2&&5>=e?2:e>=6&&20>=e?3:4},t.prototype.tv=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.mnameTxt),t.mnameTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,GObj.$d(t.nickLab),t.nickLab=null,t.vc=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(AllianceRankItem.prototype,"AllianceRankItem");var AllianceRankView=function(e){function t(){var t=e.call(this,"AllianceRankView")||this;return t.skinName=RRUU.$s("AllianceRankViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("wushen14"),e.descTxt0.text=fvg.GVf("wushen31"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=AllianceRankItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.hc,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.hc,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.DI);(!e||GApp.timer-e.rtime>=3e5)&&RankMsgProxy.IU(FDG.DI),this.hc(e),this.ur()},t.prototype.ur=function(){var e=XCA.DG(75,1),t=Nkz.PI(e);t.length>0&&(this.goodsItem.data=t[0])},t.prototype.hc=function(e){var t=this;if(!e||e.type==FDG.DI){t.itemScroller&&t.itemScroller.stopAnimation();for(var n=e&&e.list?e.list:[],i=20,r=[],a=0;i>a;a++)r.push(n[a]||{});t.itemData.replaceAll(r),t.myRankTxt.text=fvg.GVf("wushen16",e&&e.order?e.order:fvg.GVf("public042")),t.myScoreTxt.text=fvg.GVf("wushen17",e&&e.score?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myScoreTxt),t.myScoreTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.descTxt0),t.descTxt0=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(AllianceRankView.prototype,"AllianceRankView");var PersonalRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("PersonalRankItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.boxBtn.$autoSelected=!1,e.noTxt.text=fvg.GVf("rank10")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e._a,e),e.boxBtn.addEventListener(eui.tep,e.sx,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e._a,e),e.boxBtn.removeEventListener(eui.tep,e.sx,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.hy=e.data,e.itemIndex<3?(e.rankImg.source="core_json.core_rank_"+(e.itemIndex+1)+"_png",e.rankTxt.text=""):(e.rankImg.source=null,e.rankTxt.text=e.itemIndex+1>20?"20+":toChars(e.itemIndex+1)),e.noTxt.visible=!1,e.nameTxt.text=e.hy.name||fvg.GVf("rank10"),e.scoreTxt.text=fvg.GVf("421",e.hy.score||0),e.hy.heads>0?(e.noTxt.visible=!1,e.headIcon.icon=kLM.JU(e.hy.sex,e.hy.heads),e.frameIcon.icon=kLM.ZQ(e.hy.usehf||1)):(e.frameIcon.icon=kLM.ZQ(1),e.noTxt.visible=!0,e.headIcon.icon=null))},t.prototype.sx=function(e){var t=this,n=GObj.$c(BoxPopUi);n.showDetail(74,1,t.itemIndex+1,t.fm())},t.prototype.fm=function(){var e=this.itemIndex+1;return 1==e?1:e>=2&&10>=e?2:e>=11&&20>=e?3:4},t.prototype._a=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.rankTxt),t.rankTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.rankImg),t.rankImg=null,GObj.$d(t.scoreTxt),t.scoreTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.frameIcon),t.frameIcon=null,GObj.$d(t.noTxt),t.noTxt=null,GObj.$d(t.boxBtn),t.boxBtn=null,t.hy=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(PersonalRankItem.prototype,"PersonalRankItem");var PersonalRankView=function(e){function t(){var t=e.call(this,"PersonalRankView")||this;return t.skinName=RRUU.$s("PersonalRankViewSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("wushen14"),e.descTxt0.text=fvg.GVf("wushen15"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=PersonalRankItem},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.ws,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.ws,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.AU);(!e||GApp.timer-e.rtime>=3e5)&&RankMsgProxy.IU(FDG.AU),this.ws(e),this.ry()},t.prototype.ry=function(){var e=XCA.DG(74,1),t=Nkz.PI(e);t.length>0&&(this.goodsItem.data=t[0])},t.prototype.ws=function(e){var t=this;if(!e||e.type==FDG.AU){t.itemScroller&&t.itemScroller.stopAnimation();for(var n=20,i=e&&e.list?e.list:[],r=n+1,a=[],o=0;r>o;o++)a.push(i[o]||{});t.itemData.replaceAll(a),t.myRankTxt.text=fvg.GVf("rank0",e&&e.order?e.order>n?n+"+":e.order:fvg.GVf("public042")),t.myScoreTxt.text=fvg.GVf("funny17",e&&e.score?e.score:0)}},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.myRankTxt),t.myRankTxt=null,GObj.$d(t.myScoreTxt),t.myScoreTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.goodsItem),t.goodsItem=null,GObj.$d(t.descTxt0),t.descTxt0=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BaseUI);__reflect(PersonalRankView.prototype,"PersonalRankView");var WushenOccAwardPopUi=function(e){function t(){var t=e.call(this,"WushenOccAwardPopUi")||this;return t.skinName=RRUU.$s("WushenOccAwardPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.describeTxt.text=fvg.GVf("wushen29"),e.canTxt.text=fvg.GVf("wushen32"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=GoodsItemRenderer,e.title=fvg.GVf("107")},t.prototype.initEvent=function(){var e=this;e.getBtn.addEventListener(eui.tep,e.jh,e),vkG.$a(UtJ.RU,e.wt,e)},t.prototype.removeEvent=function(){var e=this;e.getBtn.removeEventListener(eui.tep,e.jh,e),vkG.$r(UtJ.HD,e.cd,e),vkG.$r(UtJ.RU,e.wt,e)},t.prototype.initData=function(){for(var e,t,n=this,i=XCA.CG(IDU.XP)||"100101401,100,10,10|100201601,1000,10,10",r=i.split(QycO.PK),a=(App.JG.wuShenTowerInfo.storey||1)-1,o=0;o<r.length;o++)e=r[o].split(QycO.XP),t=GObj.$c(nlwj),t.tid=parseInt(e[0]),t.count=App.JP.getWushenOccAward(a,parseInt(e[1]),parseInt(e[2])),n.itemData.source.push(t);n.itemData.refresh(),n.ab()},t.prototype.wt=function(){this.ab()},t.prototype.ab=function(){var e=this;e.yg=App.JG.getOccupiedTime();var t=App.JG.wuShenTowerInfo,n=t.storey>=2;e.nb=e.yg<=0&&n,e.getBtn.icon=e.nb?StaticData.GHj:null;var i=App.JG.getOccIndex();e.receiveImg.visible=((App.JG.wuShenTowerInfo.add_aw||0)&1<<i)>0,e.getBtn.visible=!e.receiveImg.visible&&n,e.canTxt.visible=!n,vkG.$a(UtJ.HD,e.cd,e)},t.prototype.cd=function(){var e=this;e.destory||(e.nb?e.yg++:e.yg--,0==e.yg&&e.ab())},t.prototype.jh=function(e){return this.getBtn.icon?void WulinLeagueMsgProxy.LJ():void App.TT.show(fvg.GVf("wushen20"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.receiveImg),t.receiveImg=null,GObj.$d(t.describeTxt),t.describeTxt=null,GObj.$d(t.canTxt),t.canTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(WushenOccAwardPopUi.prototype,"WushenOccAwardPopUi");var WushenPlunderFrame=function(e){function t(){var t=e.call(this,"WushenPlunderFrame")||this;return t.skinName=RRUU.$s("WushenPlunderFrameSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("wushen9"),e.titleTxt.text=fvg.GVf("wushen10"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=WushenPlunderItem},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.hu,e),e.addBtn.addEventListener(eui.tep,e.jd,e),vkG.$a(UtJ.MR,e.vo,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.hu,e),e.addBtn.removeEventListener(eui.tep,e.jd,e),vkG.$r(UtJ.MR,e.vo,e),vkG.$r(UtJ.HD,e.pw,e)},t.prototype.initData=function(){this.oy=App.JG.wuShenPlunderInfo,ziI.MF("rob_grid")},t.prototype.vo=function(){var e=this;e.pa(),e.uz(),e.eu()},t.prototype.pa=function(){var e=this;e.countTxt.text=(e.oy.c||0)+"/"+App.JG.plunderCount,e.countTxt.textColor=(e.oy.c||0)>0?Color.TX:Color.KA},t.prototype.uz=function(){var e=this;(e.oy.rt||0)-App.NN.serverSecond>0&&vkG.$a(UtJ.HD,e.pw,e),e.pw()},t.prototype.eu=function(){var e=this,t=e.oy.plays||[],n=t.length;e.itemData.source.length=0;for(var i=0;n>i;i++)e.itemData.source.push(t[i]||{});e.itemData.refresh()},t.prototype.pw=function(){var e=this,t=(e.oy.rt||0)-App.NN.serverSecond;t>0?(e.timeTxt.visible=!0,e.timeTxt.text=fvg.GVf("arena6",kpd.formatDateBySec5(t))):(e.timeTxt.visible=!1,vkG.$r(UtJ.HD,e.pw,e))},t.prototype.jd=function(e){var t=this;if((t.oy.c||0)==App.JG.plunderCount)return void MessageTipManager.instance.show(fvg.GVf("wushen26"));var n=(t.oy.bc||0)+1,i=Math.ceil(n/3)*App.JG.plunderPoint,r=App.JG.plunderMaxBuy-(t.oy.bc||0),a=fvg.GVf("wushen11",i,r,App.JG.plunderMaxBuy);Alert.WK(a,void 0,void 0,t.gk,this,[i,r])},t.prototype.gk=function(e,t){return 0>=t?void App.TT.show(fvg.GVf("34")):App.KF.point<e?void _JDW.TR(StaticData.TID_POINT_ID):void WulinLeagueMsgProxy.AC()},t.prototype.hu=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.addBtn),t.addBtn=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,t.oy=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(WushenPlunderFrame.prototype,"WushenPlunderFrame");var WushenPlunderItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("WushenPlunderItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){this.plunderBtn.label=fvg.GVf("wushen13")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.ax,e),e.plunderBtn.addEventListener(eui.tep,e.hp,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.ax,e),e.plunderBtn.removeEventListener(eui.tep,e.hp,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&e.data&&(e.gj=e.data,usable(e.gj.name)?(e.nameTxt.text=e.gj.name,e.leagueNameTxt.text=fvg.GVf("wushen19",e.gj.mn),e.turnupTxt.text=App.JP.getTurnupName(e.gj.tgrade),e.headIcon.icon=kLM.JU(e.gj.sex,e.gj.head)):(e.nameTxt.text=fvg.GVf("rank10"),e.leagueNameTxt.text="--",e.turnupTxt.text="--",e.headIcon.icon=null))},t.prototype.hp=function(e){var t=this;if(t.gj&&usable(t.gj.name)){if((App.JG.wuShenPlunderInfo.c||0)<=0)return void App.TT.show(fvg.GVf("wushen12"));var n=t.gj.uid;App.VS.closeAll(),App.UY.enter(StaticData.WUSHEN_PLUNDER_ID,!0,[n]),App.VS.enterMapOpenUI(StaticData.WUSHEN_PLUNDER_ID,10067,WushenPlunderFrame,!1)}},t.prototype.ax=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.leagueNameTxt),t.leagueNameTxt=null,GObj.$d(t.turnupTxt),t.turnupTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.plunderBtn),t.plunderBtn=null,t.gj=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WushenPlunderItem.prototype,"WushenPlunderItem");var WushenRankingPopUi=function(e){function t(){var t=e.call(this,"WushenRankingPopUi")||this;return t.skinName=RRUU.$s("WushenRankingPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.personalBtn.label=fvg.GVf("martialart54"),e.allianceBtn.label=fvg.GVf("wulinleague6"),e.rk=GObj.$c(kQr),e.rk.cwA(e.personalBtn),e.rk.cwA(e.allianceBtn),e.title=fvg.GVf("459")},t.prototype.initEvent=function(){var e=this;e.rk.addEventListener(egret.Event.CHANGE,e.jb,e)},t.prototype.removeEvent=function(){var e=this;e.rk.removeEventListener(egret.Event.CHANGE,e.jb,e),vkG.$r(UtJ.HD,e.pl,e)
},t.prototype.initData=function(){var e=this;e.rk.selectedIndex=0,e.zn()},t.prototype.jb=function(e){var t=this,n=t.rk.LuO;switch(t.bh&&(t.bh.visible=!1),t.bh=null,n){case t.personalBtn:t.md||(t.md=GObj.$c(PersonalRankView),t.md.x=39,t.md.y=75,t.addChild(t.md)),t.bh=t.md;break;case t.allianceBtn:t.eu||(t.eu=GObj.$c(AllianceRankView),t.eu.x=39,t.eu.y=75,t.addChild(t.eu)),t.bh=t.eu}t.bh&&(t.bh.visible=!0)},t.prototype.zn=function(){var e=this;e.re=App.JG.wuShenTowerInfo.et||0,e.re-App.NN.serverSecond>0&&vkG.$a(UtJ.HD,e.pl,e),e.pl()},t.prototype.pl=function(){var e=this;if(!e.destory){var t=e.re-App.NN.serverSecond;t>0?(e.timeTxt.text=fvg.GVf("public050",kpd.YW(t)),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("public035"),e.timeTxt.textColor=Color.KA,vkG.$r(UtJ.HD,e.pl,e))}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.personalBtn),t.personalBtn=null,GObj.$d(t.allianceBtn),t.allianceBtn=null,GObj.$d(t.md),t.md=null,GObj.$d(t.eu),t.eu=null,GObj.$d(t.rk),t.rk=null,GObj.$d(t.timeTxt),t.timeTxt=null,t.bh=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(WushenRankingPopUi.prototype,"WushenRankingPopUi");var WushenRecordItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("WushenRecordItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("wushen8"),e.noTxt.text=fvg.GVf("rank10")},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.el,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.el,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;e.CSo&&(e.kr=e.data,e.rankingTxt.text=toChars(e.itemIndex+1),e.kr?(e.nameTxt.text=e.kr.name,e.damageTxt.text=fvg.GVf("wushen7",e.kr.score||0),e.headIcon.icon=kLM.JU(e.kr.sex,parseInt(e.kr.head))):(e.nameTxt.text=fvg.GVf("rank10"),e.damageTxt.text=fvg.GVf("wushen7",0),e.headIcon.icon=null),e.descTxt.visible=e.kr&&0==e.itemIndex,e.noTxt.visible=!e.kr)},t.prototype.el=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.damageTxt),t.damageTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.rankingTxt),t.rankingTxt=null,GObj.$d(t.noTxt),t.noTxt=null,t.kr=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WushenRecordItem.prototype,"WushenRecordItem");var WushenRecordPopUi=function(e){function t(){var t=e.call(this,"WushenRecordPopUi")||this;return t.skinName=RRUU.$s("WushenRecordPopUiSkin"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.itemData,e.itemGroup.itemRenderer=WushenRecordItem,e.title=fvg.GVf("wushen36")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.TT,e.rk,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.TT,e.rk,e)},t.prototype.initData=function(){var e=App.PV.getData(FDG.CS);e&&e.param==App.JG.wuShenTowerInfo.my_storey||(e&&(e.param=App.JG.wuShenTowerInfo.my_storey),RankMsgProxy.IU(FDG.CS)),this.ll(e)},t.prototype.rk=function(e){e&&e.type==FDG.CS&&(e.param=App.JG.wuShenTowerInfo.my_storey,this.ll(e))},t.prototype.ll=function(e){var t=this,n=e?e.list:[];t.itemData.source.length=0;for(var i=0;10>i;i++)t.itemData.source.push(n[i]);t.itemData.refresh(),t.myRankingTxt.text=fvg.GVf("rank0",e&&e.order?e.order:fvg.GVf("public042")),t.myDamageTxt.text=fvg.GVf("rank12",e&&e.score?e.score:0)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.myRankingTxt),t.myRankingTxt=null,GObj.$d(t.myDamageTxt),t.myDamageTxt=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.itemData=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(WushenRecordPopUi.prototype,"WushenRecordPopUi");var WushenTaskFrame=function(e){function t(){var t=e.call(this,"WushenTaskFrame")||this;return t.skinName=RRUU.$s("WushenTaskFrame"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=WushenTaskItem,e.oi=App.JG.taskActList;for(var t=0;t<e.oi.length;t++)this["actTxt_"+(t+1)]&&(this["actTxt_"+(t+1)].text=fvg.GVf("wushen21",e.oi[t]));e.rz=parseInt(e.oi[e.oi.length-1]),e.boxBtn_1.$autoSelected=e.boxBtn_2.$autoSelected=e.boxBtn_3.$autoSelected=e.boxBtn_4.$autoSelected=!1,e.boxBtns=[];for(var n,t=1;4>=t;t++)n=this["boxBtn_"+t],n&&(n.$autoSelected=!1,n.addEventListener(eui.tep,e.tt,e),e.boxBtns.push(n));e.imgs=[],e.imgs.push(e.getImg_1),e.imgs.push(e.getImg_2),e.imgs.push(e.getImg_3),e.imgs.push(e.getImg_4)},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.__closeHandler,e),vkG.$a(UtJ.PE,e.yn,e),vkG.$a(UtJ.RU,e.ma,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.__closeHandler,e),vkG.$r(UtJ.PE,e.yn,e),vkG.$r(UtJ.RU,e.ma,e);for(var t,n=1;4>=n;n++)t=this["boxBtn_"+n],t&&t.removeEventListener(eui.tep,e.tt,e)},t.prototype.initData=function(){this.yn(),this.ma()},t.prototype.yn=function(){var e=App.QA.getTaskListByType(6),t=[];for(var n in e)t.push(e[n]);t.sort(App.QA.taskCompareFun),this.itemData.replaceAll(t)},t.prototype.ma=function(){var e=this,t=App.JG.wuShenTowerInfo,n=t.act||0;e.actProgTxt.text=fvg.GVf("public022",n,e.rz),e.progBar.value=Math.min(int(n/e.rz*100),100);for(var i,r=t.award||0,a=e.boxBtns.length,o=0;a>o;o++)i=parseInt(e.oi[o])||0,e.imgs[o].visible=(r&1<<o)>0,e.boxBtns[o].selected=n>=i,e.boxBtns[o].icon=n>=i&&!e.imgs[o].visible?StaticData.GHj:null},t.prototype.tt=function(e){var t=this,n=t.boxBtns.indexOf(e.currentTarget);if(n>=0){var i=App.JG.wuShenTowerInfo,r=i.act||0,a=parseInt(t.oi[n])||0,o=GObj.$c(BoxPopUi);o.showDetail(78,r,a,n+1)}},t.prototype.__closeHandler=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemScroller&&(t.itemScroller.stopAnimation(),t.itemScroller.viewport=null,GObj.$d(t.itemScroller)),t.itemScroller=null,t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,t.itemData=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.progBar),t.progBar=null,GObj.$d(t.actProgTxt),t.actProgTxt=null,GObj.$d(t.actTxt_1),t.actTxt_1=null,GObj.$d(t.actTxt_2),t.actTxt_2=null,GObj.$d(t.actTxt_3),t.actTxt_3=null,GObj.$d(t.actTxt_4),t.actTxt_4=null,GObj.$d(t.boxBtn_1),t.boxBtn_1=null,GObj.$d(t.boxBtn_2),t.boxBtn_2=null,GObj.$d(t.boxBtn_3),t.boxBtn_3=null,GObj.$d(t.boxBtn_4),t.boxBtn_4=null,GObj.$d(t.getImg_1),t.getImg_1=null,GObj.$d(t.getImg_2),t.getImg_2=null,GObj.$d(t.getImg_3),t.getImg_3=null,GObj.$d(t.getImg_4),t.getImg_4=null,t.oi=null,t.boxBtns&&(t.boxBtns.length=0),t.boxBtns=null,t.imgs&&(t.imgs.length=0),t.imgs=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(WushenTaskFrame.prototype,"WushenTaskFrame");var WushenTaskItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("WushenTaskItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.getBtn.label=fvg.GVf("104"),e.gotoBtn.label=fvg.GVf("103"),e.itemData=GObj.$c(eui.ArrayCollection),e.itemList.dataProvider=e.itemData,e.itemList.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.wg,e),e.getBtn.addEventListener(eui.tep,e.na,e),e.gotoBtn.addEventListener(eui.tep,e.rc,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.wg,e),e.getBtn.removeEventListener(eui.tep,e.na,e),e.gotoBtn.removeEventListener(eui.tep,e.rc,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.nb=e.data,e.titleTxt.text=e.nb.taskTemplate.title,e.getedImg.visible=1==e.nb.isComp,e.getBtn.icon=e.nb.pro>=e.nb.taskTemplate.maxValue?StaticData.GHj:null,e.getBtn.visible=!e.getedImg.visible&&!!e.getBtn.icon,e.gotoBtn.visible=!e.getedImg.visible&&!e.getBtn.icon,e.progTxt.text=fvg.GVf("112",e.nb.pro,e.nb.taskTemplate.maxValue),e.progTxt.textColor=e.getBtn.icon?Color.TX:Color.KA,e.progTxt.x=e.titleTxt.x+e.titleTxt.width+3,e.itemData.source.length=0;for(var t=Nkz.PI(e.nb.taskTemplate.p3),n=0;n<t.length;n++)e.itemData.source.push(t[n]);e.itemData.refresh()}},t.prototype.na=function(e){var t=this;if(t.nb)return t.getBtn.icon?void TaskMsgProxy.EJ(t.nb.tid):void App.TT.show(fvg.GVf("skill096"))},t.prototype.rc=function(e){var t=this;if(t.nb){var n=t.nb;App.VS.closeAll(),TaskHelp.VO(n.taskTemplate.type,void 0,n.taskType,n.taskTemplate.vid)}},t.prototype.wg=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),t.itemList&&(t.itemList.dataProvider=null,GObj.$d(t.itemList)),t.itemList=null,GObj.$d(t.titleTxt),t.titleTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.progTxt),t.progTxt=null,GObj.$d(t.getedImg),t.getedImg=null,GObj.$d(t.gotoBtn),t.gotoBtn=null,t.itemData=null,t.nb=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(WushenTaskItem.prototype,"WushenTaskItem");var WushenTowerView=function(e){function t(){var t=e.call(this,"WushenTowerView")||this;return t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noNameTxt.text=fvg.GVf("rank10"),e.titleTxt_1.text=fvg.GVf("wushen35"),e.titleTxt_2.text=fvg.GVf("wushen4"),e.challengeBtn.label=fvg.GVf("37"),e.maxStoreyTxt.text=fvg.GVf("wushen5"),e.timeDescLab.text=fvg.GVf("wushen37"),e.getKillImg.visible=!1,e.recordBtn.label=fvg.GVf("wushen38"),e.auo=XCA.MQ()[0],e.dropData=GObj.$c(eui.ArrayCollection),e.dropGroup.dataProvider=e.dropData,e.dropGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.challengeBtn.addEventListener(eui.tep,t.hr,t),t.aboutBtn.addEventListener(eui.tep,t.vo,t),t.rankBtn.addEventListener(eui.tep,t.em,t),t.recordBtn.addEventListener(eui.tep,t.ba,t),t.outputBtn.addEventListener(eui.tep,t.us,t),t.addBtn.addEventListener(eui.tep,t.zf,t),vkG.$a(UtJ.RU,t.t_,t)},t.prototype.removeEvent=function(){var e=this;e.challengeBtn.removeEventListener(eui.tep,e.hr,e),e.aboutBtn.removeEventListener(eui.tep,e.vo,e),e.rankBtn.removeEventListener(eui.tep,e.em,e),e.recordBtn.removeEventListener(eui.tep,e.ba,e),e.outputBtn.removeEventListener(eui.tep,e.us,e),e.addBtn.removeEventListener(eui.tep,e.zf,e),vkG.$r(UtJ.RU,e.t_,e),vkG.$r(HUtJ.HEARTBEAT,e.vw,e)},t.prototype.initData=function(){e.prototype.initData.call(this),this.gt=App.JG.wuShenTowerInfo,ziI.MF("wst_grid")},t.prototype.t_=function(){var e=this;e.mt=(e.gt.et||0)-App.NN.serverSecond>0,e.xd(),e.mh(),e.gbi(),e.rc(),e.lz()},t.prototype.zf=function(e){var t=this,n=App.FK.hsx(StaticData.TID_GOODS_31);if(0>=n)_JDW.TR(StaticData.TID_GOODS_31);else if(t.gt.num<App.JG.replyCount){var i=fvg.GVf("wushen27");Alert.WK(i,null,null,t.uz,t)}else App.TT.show(fvg.GVf("arena7"))},t.prototype.uz=function(){App.TT.show(fvg.GVf("wushen28")),WulinLeagueMsgProxy.NO()},t.prototype.lz=function(){var e=this;e.ei=e.gt.et||0,e.cs=e.gt.rnt||0,e.ei-App.NN.serverSecond>0&&vkG.$a(HUtJ.HEARTBEAT,e.vw,e),e.vw()},t.prototype.xd=function(){var e=this,t=e.gt.ws_user;t&&t.user_id>0?(e.noNameTxt.visible=!1,e.headIcon.icon=kLM.JU(t.sex,t.head),e.frameIcon.icon=kLM.ZQ(t.usehf||1),e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("wushen40",t.name)),e.capTxt.textFlow=LgRe.OQ(fvg.GVf("wushen41",t.fc||0)),e.floorTxt.textFlow=LgRe.OQ(fvg.GVf("wushen42",t.score||0))):(e.noNameTxt.visible=!0,e.headIcon.icon=null,e.frameIcon.icon=kLM.ZQ(1),e.nameTxt.textFlow=LgRe.OQ(fvg.GVf("wushen40","--")),e.capTxt.textFlow=LgRe.OQ(fvg.GVf("wushen41","--")),e.floorTxt.textFlow=LgRe.OQ(fvg.GVf("wushen42","--")))},t.prototype.mh=function(){var e=this;e.challengeBtn.visible=e.gt.my_storey<App.JG.maxStorey,e.maxStoreyTxt.visible=!e.challengeBtn.visible,e.uy=0;var t=e.auo.attrid;e.gt.my_storey>=App.JG.maxStorey?(e.bossNameTxt.text=fvg.GVf("beast11",App.JG.maxStorey)+" "+App.JG.getBossNameByStorey(App.JG.maxStorey),t+=App.JG.maxStorey,e.sq(73,App.JG.maxStorey,e.gt.al)):(e.gt.my_storey||0)+1==e.gt.storey?(e.uy=1,e.bossNameTxt.text=fvg.GVf("beast11",e.gt.storey)+" "+App.JG.getBossNameByStorey(e.gt.storey),e.challengeBtn.label=fvg.GVf("37"),e.challengeBtn.icon=e.gt.num>0&&e.mt?StaticData.GHj:null,e.getKillImg.visible=!1,e.previewLab.text=fvg.GVf("wushen33"),t+=e.gt.storey,e.sq(83,e.gt.storey,1)):(e.uy=2,e.bossNameTxt.text=fvg.GVf("beast11",e.gt.my_storey+1)+" "+App.JG.getBossNameByStorey(e.gt.my_storey+1),e.challengeBtn.label=fvg.GVf("evChg03"),e.challengeBtn.icon=e.uv()?StaticData.GHj:null,e.getKillImg.visible=!0,e.previewLab.text=fvg.GVf("wushen34"),t+=e.gt.my_storey+1,e.sq(73,e.gt.my_storey+1,e.gt.al));var n=XCA.YV(t),i=n?n.hp:0,r=0;1==e.uy&&(r=-1==e.gt.boss_hp?i:e.gt.boss_hp||0),e.bossHpTxt.text=r+"/"+i,e.bossHpProg.value=Math.min(r/i*100,100),e.recordBtn.visible=1!=e.uy},t.prototype.uv=function(){if(this.mt)return!0;var e=App.NN.date,t=e.getHours();return t>=0&&10>t?!1:!0},t.prototype.sq=function(e,t,n){var i=this,r=e+"_"+t+"_"+n,a=XCA.RE(r),o=Nkz.PI(a);i.dropData.source.length=0;for(var s=0;s<o.length;s++)i.dropData.source.push(o[s]);i.dropData.refresh()},t.prototype.gbi=function(){var e=this;e.dareCountTxt.text=(e.gt.num||0)+"/"+App.JG.replyCount,e.dareCountTxt.textColor=(e.gt.num||0)>0?Color.SQ:Color.KA},t.prototype.rc=function(){var e=this;e.mr=App.JG.getOccupiedTime(),e.eu=e.mr<=0;var t=App.JG.getOccIndex(),n=e.gt.storey>=2,i=((e.gt.add_aw||0)&1<<t)>0;if(e.outputBtn.icon=e.mt&&e.eu&&n&&!i?StaticData.GHj:null,n?(e.backImg.visible=!0,e.receiveTimeTxt.visible=!0):(e.backImg.visible=!1,e.receiveTimeTxt.visible=!1),e.eu){var r=fvg.GVf("auction5");i?r=fvg.GVf("official8"):e.mt&&(r=fvg.GVf("456")),e.receiveTimeTxt.text=r}},t.prototype.vw=function(){var e=this;if(!e.destory){var t=e.ei-App.NN.serverSecond;e.mt=t>0,t>0?(e.timeTxt.text=kpd.YW(t),e.timeTxt.textColor=Color.TX):(e.timeTxt.text=fvg.GVf("public035"),e.timeTxt.textColor=Color.KA,e.ei=0,e.cs=0,e.mr=0,vkG.$r(HUtJ.HEARTBEAT,e.vw,e)),t=e.cs-App.NN.serverSecond,t>0?(e.restoreTxt.text=kpd.formatDateBySec5(t),e.titleTxt_2.visible=e.restoreTxt.visible=!0):(e.titleTxt_2.visible&&ziI.MF("wst_grid"),e.titleTxt_2.visible=e.restoreTxt.visible=!1),e.eu?e.mr++:(e.receiveTimeTxt.text=kpd.formatDateBySec5(e.mr),e.mr--),0==e.mr&&e.rc()}},t.prototype.hr=function(e){var t=this;if(t.auo)if(1==t.uy){if(t.ei<=0)return void App.TT.show(fvg.GVf("public035"));if(!App.UY.isCanSwitc())return;if(t.gt.num<=0)return void App.TT.show(fvg.GVf("arena9"));if(App.KF.fid<=0)return void App.TT.show(fvg.GVf("martialart52"));if(App.BG.turnupInfo.grade<StaticData.WU_SHEN_TURNUP)return void App.TT.show(fvg.GVf("wushen6",App.JP.getTurnupGrade(StaticData.WU_SHEN_TURNUP)));var n=t.auo.mapid;App.VS.closeAll(),App.VS.enterMapOpenUI(n,10067,void 0,!1),App.UY.enter(n)}else{if(t.ei<=0){var i=App.NN.date,r=i.getHours();if(r>=0&&10>r)return void App.TT.show(fvg.GVf("public035"))}WulinLeagueMsgProxy.FO()}},t.prototype.vo=function(e){App.VS.popup(10067,GeneralAboutPopUi,null,AboutType.FE)},t.prototype.em=function(e){App.VS.popup(10067,WushenRankingPopUi)},t.prototype.ba=function(e){App.VS.popup(10067,WushenRecordPopUi)},t.prototype.aa=function(e){App.VS.popup(10067,WushenTaskFrame)},t.prototype._v=function(e){App.VS.popup(10067,WushenPlunderFrame)},t.prototype.us=function(e){return this.mt?void App.VS.popup(10067,WushenOccAwardPopUi):void App.TT.show(fvg.GVf("public035"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.floorTxt),t.floorTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.frameIcon),t.frameIcon=null,GObj.$d(t.noNameTxt),t.noNameTxt=null,GObj.$d(t.receiveTimeTxt),t.receiveTimeTxt=null,GObj.$d(t.bossNameTxt),t.bossNameTxt=null,GObj.$d(t.bossHpProg),t.bossHpProg=null,GObj.$d(t.bossHpTxt),t.bossHpTxt=null,GObj.$d(t.challengeBtn),t.challengeBtn=null,GObj.$d(t.recordBtn),t.recordBtn=null,GObj.$d(t.dareCountTxt),t.dareCountTxt=null,GObj.$d(t.restoreTxt),t.restoreTxt=null,t.dropGroup&&(t.dropGroup.dataProvider=null,GObj.$d(t.dropGroup)),t.dropGroup=null,GObj.$d(t.rankBtn),t.rankBtn=null,GObj.$d(t.aboutBtn),t.aboutBtn=null,GObj.$d(t.getKillImg),t.getKillImg=null,GObj.$d(t.previewLab),t.previewLab=null,GObj.$d(t.outputBtn),t.outputBtn=null,GObj.$d(t.titleTxt_1),t.titleTxt_1=null,GObj.$d(t.titleTxt_2),t.titleTxt_2=null,GObj.$d(t.maxStoreyTxt),t.maxStoreyTxt=null,GObj.$d(t.addBtn),t.addBtn=null,GObj.$d(t.backImg),t.backImg=null,GObj.$d(t.timeDescLab),t.timeDescLab=null,t.dropData=null,t.auo=null,t.gt=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(WushenTowerView.prototype,"WushenTowerView");var BannerBuffPopUi=function(e){function t(){var t=e.call(this,"BannerBuffPopUi")||this;return t.skinName=RRUU.$s("BannerBuffPopUi"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e&&e.length>0&&(n.du=e[0],n.bh())},t.prototype.initView=function(){var e=this;e.hq=-1,e.title=fvg.GVf("zhenwu25")},t.prototype.initData=function(){this.bh()},t.prototype.initEvent=function(){var e=this;e.activationBtn.addEventListener(eui.tep,e.wh,e),vkG.$a(UtJ.DV,e.cs,e),vkG.$a(UtJ.IUY,e.nf,e)},t.prototype.removeEvent=function(){var e=this;e.activationBtn.removeEventListener(eui.tep,e.wh,e),vkG.$r(UtJ.DV,e.cs,e),vkG.$r(UtJ.IUY,e.nf,e)},t.prototype.bh=function(){var e=this;if(e.CSo&&e.du){e.hf=e.du.c,e.ua(),e.iconView.icon=kLM.JL(e.du.icon),e.iconImg.icon=kLM.TT(e.du.icon),e.nameTxt.text=e.du.name||"--",e.scopeTxt.text=fvg.GVf("zhenwu11",fvg.GVf("zhenwu00"+e.du.st));var t=e.bl(e.du.ct);e.timeTxt.textColor=t?Color.SQ:Color.KA,e.timeTxt.text=t?fvg.GVf("zhenwu14",fvg.GVf("zhenwu000"+e.du.rt)):fvg.GVf("beauty18",fvg.GVf("zhenwu0"+e.du.ct,e.du.cv)),e.cs()}},t.prototype.ua=function(){var e=this;e.pn=App.SMF.getBufferByType(e.du.pt),e.ky=e.pn?e.pn.grade:0,e.countTxt.text=e.ky>0?fvg.GVf("treasure9",e.ky):"",e.activationBtn.label=e.ky>0?fvg.GVf("zhenwu12"):fvg.GVf("public012"),e.descTxt.text=e.du.desc,e.descTxt.text="",1==e.du.pt?e.pn?e.oy(e.pn.buffTemp,e.pn.grade):e.descTxt.text=fvg.GVf("zhenwu16"):e.oy(e.du,e.ky),-1!=e.hq&&e.ky!=e.hq&&App.KB.showEffect(gYq.UQ),e.hq=e.ky},t.prototype.oy=function(e,t){var n=this;if(e){for(var i=XCA.LY(e.tid),r=i.length,a="",o=0;r>o;o++)a+=n.pr(i[o],t||1)+"\n";n.descTxt.text=a}},t.prototype.pr=function(e,t){var n="";if(!e)return n;var i=(e.bv||0)*t;return n=e.bmt?toChars(i):int(i/10)+"%",n=e.desc+" +"+n},t.prototype.wh=function(e){var t=this;if(t.du&&t.du.item&&(!(t.ky<=0)||t.bl(t.du.ct,!0)))return t.ky>=t.du.max?void App.TT.show(fvg.GVf("skill006")):t.gd<t.hf?void _JDW.TR(t.du.item):void WulinLeagueMsgProxy.RX(t.du.tid)},t.prototype.cs=function(){var e=this;if(e.du){var t=e.du.item||0;if(!t)return e.group_1.visible=!1,e.activationBtn.visible=!1,e.stateTxt.text=e.ky>0?fvg.GVf("public009"):fvg.GVf("public010"),void(e.stateTxt.textColor=e.ky>0?Color.SQ:Color.KA);e.group_1.visible=!0,e.activationBtn.visible=!0,e.ky>=e.du.max&&(e.group_1.visible=!1,e.activationBtn.visible=!1,e.stateTxt.text=fvg.GVf("skill006"),e.stateTxt.textColor=Color.SQ),e.gd=App.FK.hsx(t),e.haveTxt.text=fvg.GVf("public022",e.gd,e.hf),e.haveTxt.textColor=e.gd>=e.hf?Color.TX:Color.KA,e.activationBtn.icon=UsU.BQ(e.du)?StaticData.GHj:null}},t.prototype.nf=function(){var e=this;e.ua(),e.cs()},t.prototype.bl=function(e,t){if(!e)return!1;var n;switch(e){case 1:n=App.KF.grade;break;case 2:n=App.BG.turnupInfo.grade;break;case 3:n=App.KF.chapter;break;case 4:n=App.XT.vipGrade;break;default:n=0}return n<this.du.cv?(t&&App.TT.show(fvg.GVf("zhenwu13")),!1):!0},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.scopeTxt),t.scopeTxt=null,GObj.$d(t.timeTxt),t.timeTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,GObj.$d(t.countTxt),t.countTxt=null,GObj.$d(t.iconImg),t.iconImg=null,GObj.$d(t.activationBtn),t.activationBtn=null,GObj.$d(t.stateTxt),t.stateTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.group_1),t.group_1=null,t.du=null,t.pn=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(BannerBuffPopUi.prototype,"BannerBuffPopUi");var ZhenwuBannerItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ZhenwuBannerItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.e_,e),e.addEventListener(eui.tep,e.ym,e),vkG.$a(UtJ.DV,e.c_,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.e_,e),e.removeEventListener(eui.tep,e.ym,e),vkG.$r(UtJ.DV,e.c_,e)},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;if(e.CSo&&e.data){e.ij=e.data,e.qn=e.ij[0],e.iconView.icon=kLM.JL(e.qn.icon);var t=App.SMF.getBufferByType(e.qn.pt);t&&t.grade>0?(e.lockImg.visible=!1,e.gradeTxt.text=fvg.GVf("treasure9",t.grade),e.gradebgImg.visible=!0):(e.lockImg.visible=!0,e.gradeTxt.text=QycO.OK,e.gradebgImg.visible=!1),e.c_()}},t.prototype.ym=function(e){var t=this,n=t.itemIndex;0==n?App.VS.popup(10064,BannerBuffPopUi,null,t.qn):App.TT.show(fvg.GVf("4"))},t.prototype.c_=function(){var e=this;e.qn&&(e.redPointImg.visible=UsU.BQ(e.qn)?!0:!1)},t.prototype.e_=function(){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.iconView),t.iconView=null,GObj.$d(t.redPointImg),t.redPointImg=null,GObj.$d(t.gradeTxt),t.gradeTxt=null,GObj.$d(t.lockImg),t.lockImg=null,GObj.$d(t.gradebgImg),t.gradebgImg=null,t.ij&&(t.ij.length=0),t.ij=null,t.qn=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ZhenwuBannerItem.prototype,"ZhenwuBannerItem");var ZhenwuBannerPopUi=function(e){function t(){var t=e.call(this,"ZhenwuBannerPopUi")||this;return t.skinName=RRUU.$s("ZhenwuBannerPopUi"),t.verticalCenter=0,t.horizontalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.leagueTxt.text=fvg.GVf("zhenwu8"),e.flagTxt.text=fvg.GVf("zhenwu9"),e.descTxt.text=fvg.GVf("zhenwu10"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=ZhenwuBannerItem,e.title=fvg.GVf("zhenwu24")},t.prototype.initEvent=function(){var e=this;vkG.$a(UtJ.EJG,e.xk,e),vkG.$a(UtJ.IUY,e.cr,e)},t.prototype.removeEvent=function(){var e=this;vkG.$r(UtJ.EJG,e.xk,e),vkG.$r(UtJ.IUY,e.cr,e)},t.prototype.initData=function(){for(var e,t=this,n=t.aa(),i=1;4>=i;i++)e=n[i],e&&t.datas.source.push(e);t.datas.refresh(),t.xk()},t.prototype.aa=function(){for(var e,t={},n=XCA.CZ(),i=n.length,r=0;i>r;r++)e=n[r],e&&(!t[e.pt]&&(t[e.pt]=[]),t[e.pt].push(e));return t},t.prototype.cr=function(){var e=this;e.datas&&e.datas.refresh()},t.prototype.xk=function(){var e=this,t=App.JG.flagInfo;t?(e.leagueTxt.text=fvg.GVf("zhenwu8",t.league_name||"--"),e.flagTxt.text=fvg.GVf("zhenwu9",t.banner_name||"--")):(e.leagueTxt.text=fvg.GVf("zhenwu8","--"),e.flagTxt.text=fvg.GVf("zhenwu9--"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.leagueTxt),t.leagueTxt=null,GObj.$d(t.flagTxt),t.flagTxt=null,GObj.$d(t.descTxt),t.descTxt=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BasePopUi);__reflect(ZhenwuBannerPopUi.prototype,"ZhenwuBannerPopUi");var ZhenwuItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ZhenwuItem"),t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.noheadTxt.text=fvg.GVf("rank10"),e.vipGrade=GObj.$c(NumberView),e.vipGrade.right=0,e.vipGroup.addChild(e.vipGrade),hFO.instance.getNumberView(bRC.MI,App.XT.vipGrade.toString(),-4,e.vipGrade),e.vipImg.x=65-e.vipGrade.width-34,e.headIcon.icon=kLM.CD(1,1)},t.prototype.initData=function(){this.dataChanged()},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.st,e),e.lp&&e.addEventListener(eui.tep,e.r_,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.st,e),e.lp&&e.removeEventListener(eui.tep,e.r_,e),e.removeEventListener(UtJ.HD,e.mp,e)},t.prototype.dataChanged=function(){var e=this;if(e.data&&e.CSo){var t=e.data;if(t.id<=0||!t.id)e.noheadTxt.visible=!0,e.vipGrade.visible=!1,e.headIcon.visible=!1,e.vipImg.visible=!1;else{e.cc=t,e.headIcon.icon=kLM.JU(t.sex,t.heads),e.frameImg.source=kLM.ZQ(t.usehf||1),e.capTxt.text=fvg.GVf("public018",t.cap||0);var n=t.vip||0;e.vipImg.visible=!0,hFO.instance.getNumberView(bRC.MI,n.toString(),-4,e.vipGrade),e.vipImg.x=65-e.vipGrade.width-34,e.vipGroup.visible=!0,e.noheadTxt.visible=!1}e.dutyTxt.text=t.master_name,e.nameTxt.text=t.name||fvg.GVf("rank10")}},t.prototype.st=function(e){GObj.$d(this)},t.prototype.r_=function(e){App.VS.popup(10064,ZhenwuRedBagFrame,null,this.cc)},t.prototype.mp=function(){var e=this;if(!e.destory&&e.CSo&&e.data){e.data}},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.dutyTxt),t.dutyTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.redbagImg),t.redbagImg=null,GObj.$d(t.noheadTxt),t.noheadTxt=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.cc),t.cc=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ZhenwuItem.prototype,"ZhenwuItem");var ZhenwuManagerFrame=function(e){function t(){var t=e.call(this,"ZhenwuManagerFrame")||this;return t.skinName=RRUU.$s("ZhenwuManagerFrame"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.newNameTexts=[],e.nameTxts=[],e.saveBtn.label=fvg.GVf("skill095"),e.leagueNameTxt.text=fvg.GVf("zhenwu17"),e.dutyTxt.text=fvg.GVf("zhenwu18"),e.descTxt.text=fvg.GVf("zhenwu19");for(var t=1;4>=t;t++)e.newNameTexts.push(this["newNameText"+t]),e.nameTxts.push(this["nameTxt"+t]);e.leagueText.textDisplay.prompt=fvg.GVf("pleaseInputName")},t.prototype.initData=function(){this.tj()},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.nf,e),e.saveBtn.addEventListener(eui.tep,e.hr,e),vkG.$a(UtJ.EJG,e.tj,e),vkG.$a(UtJ.NOT,e.al,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.nf,e),e.saveBtn.removeEventListener(eui.tep,e.hr,e),vkG.$r(UtJ.EJG,e.tj,e),vkG.$r(UtJ.NOT,e.al,e)},t.prototype.tj=function(){for(var e=this,t=0;4>t;t++)e.newNameTexts[t].text="",e.nameTxts[t].text="";for(var n,i=App.JG.memberList,r=i.memberList,a=r.length,o=0,t=0;a>t;t++)n=r[t],1!=n.type&&6!=n.type&&e.newNameTexts[o]&&e.nameTxts[o]&&(e.newNameTexts[o].textDisplay.prompt=fvg.GVf("zhenwu"+t)||"",e.nameTxts[o].text=n.name||fvg.GVf("rank10"),o++)},t.prototype.al=function(e){var t=this;switch(e){case 1:Alert.WK(fvg.GVf("zhenwu20"),null,Alert.EX);break;case 2:Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.PH),null,Alert.EX,null,t);break;case 3:Alert.WK(fvg.GVf("zhenwu21"),null,Alert.EX);break;case 4:Alert.WK(fvg.GVf("zhenwu22"),null,Alert.EX);break;case 5:Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.HB),null,Alert.EX,null,t)}},t.prototype.hr=function(e){var t,n,i,r,a=this,o=[];if(t=a.leagueText.text.trim(),0==t.length)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.PH),null,Alert.EX,null,a);if(n=/[^\u4e00-\u9fa50-9a-zA-Z_]/g,n.test(t))return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.HB),null,Alert.EX,null,a);
if(i=Nkz.XT(t),4>i)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.FP),null,Alert.EX,null,a);if(i>18)return void Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.QP),null,Alert.EX,null,a);r={},r.type=1,r.name=t,o.push(r);for(var s=a.newNameTexts.length,p=!1,l=0;s>l;l++){if(t=a.newNameTexts[l].text.trim(),0==t.length){Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.PH),null,Alert.EX,null,a),p=!0;break}if(n=/[^\u4e00-\u9fa50-9a-zA-Z_]/g,n.test(t)){Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.HB),null,Alert.EX,null,a),p=!0;break}if(i=Nkz.XT(t),4>i){Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.FP),null,Alert.EX,null,a),p=!0;break}if(i>14){Alert.WK(LoginManager.instance.getMsgPrompt(LoginErrorType.QP),null,Alert.EX,null,a),p=!0;break}r={},r.type=l+2,r.name=t,o.push(r)}p||WulinLeagueMsgProxy.MF(o)},t.prototype.nf=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.leagueNameTxt),t.leagueNameTxt=null,GObj.$d(t.dutyTxt),t.dutyTxt=null,GObj.$d(t.leagueText),t.leagueText=null;for(var n=0;4>n;n++)GObj.$d(t.newNameTexts[n]),t.newNameTexts[n]=null,GObj.$d(t.nameTxts[n]),t.nameTxts[n]=null;GObj.$d(t.saveBtn),t.saveBtn=null,GObj.$d(t.descTxt),t.descTxt=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ZhenwuManagerFrame.prototype,"ZhenwuManagerFrame");var ZhenwuRedBagFrame=function(e){function t(){var t=e.call(this,"ZhenwuRedBagFrame")||this;return t.skinName=RRUU.$s("ZhenwuRedBagFrame"),t.horizontalCenter=0,t.verticalCenter=0,t}return __extends(t,e),t.prototype.initView=function(){var e=this;e.descTxt.text=fvg.GVf("pavilion2"),e.vipGrade=GObj.$c(NumberView),e.vipGrade.right=0,e.vipGroup.addChild(e.vipGrade),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=ZhenwuRedBagItem},t.prototype.initData=function(){for(var e=this,t=0;10>t;t++)e.datas.source.push(t);e.datas.refresh()},t.prototype.loU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;e[0]&&(n.tg=e[0],n.hj())},t.prototype.initEvent=function(){var e=this;e.closeBtn.addEventListener(eui.tep,e.ih,e),e.getBtn.addEventListener(eui.tep,e.ja,e)},t.prototype.removeEvent=function(){var e=this;e.closeBtn.removeEventListener(eui.tep,e.ih,e),e.getBtn.removeEventListener(eui.tep,e.ja,e)},t.prototype.hj=function(){var e=this;if(e.CSo&&e.tg&&e.tg.id&&!(e.tg.id<=0)){e.lastTxt.text=fvg.GVf("pavilion1",10);var t=e.tg.vip;hFO.instance.getNumberView(bRC.MI,t.toString(),-4,e.vipGrade),e.vipImg.x=65-e.vipGrade.width-34,e.nameTxt.text=e.tg.name}},t.prototype.ih=function(e){GObj.$d(this)},t.prototype.ja=function(e){},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.closeBtn),t.closeBtn=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.lastTxt),t.lastTxt=null,GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.myTxt),t.myTxt=null,GObj.$d(t.getBtn),t.getBtn=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.tg),t.tg=null,t.scroller&&(t.scroller.stopAnimation(),t.scroller.viewport=null,GObj.$d(t.scroller)),t.scroller=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(PopUI);__reflect(ZhenwuRedBagFrame.prototype,"ZhenwuRedBagFrame");var ZhenwuRedBagItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RRUU.$s("ZhenwuRedBagItemSkin"),t}return __extends(t,e),t.prototype.initView=function(){},t.prototype.initData=function(){this.dataChanged()},t.prototype.dataChanged=function(){var e=this;!e.CSo||!e.data},t.prototype.initEvent=function(){var e=this;e.addEventListener(eui.RFS,e.nt,e)},t.prototype.removeEvent=function(){var e=this;e.removeEventListener(eui.RFS,e.nt,e)},t.prototype.nt=function(e){GObj.$d(this)},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.haveTxt),t.haveTxt=null,e.prototype.dispose.call(this)},t}(BaseItemRenderer);__reflect(ZhenwuRedBagItem.prototype,"ZhenwuRedBagItem");var ZhenwuView=function(e){function t(){var t=e.call(this,"ZhenwuView")||this;return t.gj=3e5,t.skinName=RRUU.$s(t.id),t}return __extends(t,e),t.prototype.initView=function(){var e=this,t=App.JG.time;!t||GApp.timer-t>e.gj?ziI.MF("leaguelog"):e.jr(),e.noheadTxt.text=fvg.GVf("rank10"),e.datas=GObj.$c(eui.ArrayCollection),e.itemGroup.dataProvider=e.datas,e.itemGroup.itemRenderer=ZhenwuItem;for(var n=0;4>n;n++)e.datas.source.push(n);e.appellIcon=GObj.$c(ImageIcon),e.appellIcon.source=kLM.EF(StaticData.APPELL_PK),e.appellIcon.x=152,e.appellIcon.y=0,e.addChild(e.appellIcon),e.vipGrade=GObj.$c(NumberView),e.vipGrade.right=0,e.vipGroup.addChild(e.vipGrade),e.pw||(e.pw=GObj.$c(FigureView)),e.pw.x=240,e.pw.y=420,e.addChildAt(e.pw,1),e.redbagBtn.visible=!1},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this),t.or(),t.xt()},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.descBtn.addEventListener(eui.tep,t.fm,t),t.managerBtn.addEventListener(eui.tep,t.cn,t),t.redbagBtn.addEventListener(eui.tep,t.ls,t),t.flagBtn.addEventListener(eui.tep,t.lt,t),vkG.$a(UtJ.EJG,t.or,t),vkG.$a(UtJ.DV,t.xt,t)},t.prototype.removeEvent=function(){var e=this;e.descBtn.removeEventListener(eui.tep,e.fm,e),e.managerBtn.removeEventListener(eui.tep,e.cn,e),e.redbagBtn.removeEventListener(eui.tep,e.ls,e),e.flagBtn.removeEventListener(eui.tep,e.lt,e),vkG.$r(UtJ.EJG,e.or,e),vkG.$r(UtJ.HD,e.fo,e),vkG.$r(UtJ.DV,e.xt,e)},t.prototype.jr=function(){var e=this;e.or(),vkG.$a(UtJ.HD,e.fo,e)},t.prototype.fm=function(e){App.VS.popup(10064,GeneralAboutPopUi,null,AboutType.OJ)},t.prototype.cn=function(e){var t=App.KF.uid;return this.kk.id!=t?void App.TT.show(fvg.GVf("zhenwu23")):void App.VS.popup(KqZ.RZ,ZhenwuManagerFrame)},t.prototype.lt=function(e){App.VS.popup(KqZ.RZ,ZhenwuBannerPopUi)},t.prototype.ls=function(){App.VS.popup(KqZ.RZ,ZhenwuRedBagFrame,null,this.kk)},t.prototype.or=function(){var e=this;if(e.CSo&&!e.destory){var t=App.JG.memberList,n=t.memberList,i=n.length;e.datas.source.length=0;for(var r,a,o=0;i>o;o++)r=GObj.$c(WulinMemberVo),r=n[o],1!=r.type?6!=r.type&&e.datas.source.push(r):a=r;if(e.datas.refresh(),e.appellIcon.source=kLM.EF(StaticData.HARRY_APPELL_ID),e.vipGroup.visible=!1,e.descImg.visible=!0,a){e.kk=a,e.nameTxt.text=a.name||"",e.leagueTxt.text=a.name?a.league_name:"";a.status||0;if(!a.id||a.id<=0){e.fk&&e.fk.parent&&e.fk.parent.removeChild(e.fk),e.pw&&e.pw.parent&&e.pw.parent.removeChild(e.pw),e.fk||(e.fk=GObj.$c(MovieEffect),e.fk.touchEnabled=e.fk.touchChildren=!1,e.fk.play(gYq.BU),e.fk.x=240,e.fk.y=410);var s=App.KF.uid;return e.managerBtn.visible=a.id==s,e.addChildAt(e.fk,2),e.noheadTxt.visible=!0,void(e.vipGroup.visible=!1)}e.vipGroup.visible=!0,e.noheadTxt.visible=!1,e.descImg.visible=!1,hFO.instance.getNumberView(bRC.MI,(a.vip||0).toString(),-4,e.vipGrade),e.vipImg.x=65-e.vipGrade.width-34,e.headIcon.icon=kLM.JU(a.sex,a.heads),e.frameImg.source=kLM.ZQ(a.usehf||1),e.capTxt.text=fvg.GVf("public018",a.cap||0);var p=a.sex||1,l=GConfig.AVATAR_DEFAULT,c=GConfig.AVATAR_DEFAULT;usable(a.b)&&(l=a.b),usable(a.w)&&(c=a.w),e.pw||(e.pw=GObj.$c(FigureView)),FigureHelps.NW(e.pw,{b:l,w:c,c:a.c,s:p});var u=a.stg;e.ax&&e.ax.parent&&e.removeChild(e.ax),u>0&&(e.ax&&e.ax.parent?(e.removeChild(e.ax),e.tv(u)):e.tv(u),e.ax.play(),e.addChildAt(e.ax,e.numChildren+2))}}},t.prototype.xt=function(){this.flagBtn.icon=UsU.TU()?StaticData.GHj:null},t.prototype.tv=function(e){var t=this;e>0&&(t.ax=App.KB.getUIEffect("fixsoul_mc_"+Math.ceil((e+1)/4))),t.ax.x=82,t.ax.y=45,t.ax.touchEnabled=!1,t.ax.touchChildren=!1,t.ax.addEventListener(egret.Event.COMPLETE,t.ab,t)},t.prototype.ab=function(e){var t=this;t.ax&&t.ax.parent&&t.removeChild(t.ax)},t.prototype.fo=function(){var e=App.JG.time;(!e||GApp.timer-e>this.gj)&&(App.JG.time=GApp.timer,ziI.MF("leaguelog"))},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descBtn),t.descBtn=null,GObj.$d(t.managerBtn),t.managerBtn=null,GObj.$d(t.flagBtn),t.flagBtn=null,GObj.$d(t.headIcon),t.headIcon=null,GObj.$d(t.leagueTxt),t.leagueTxt=null,GObj.$d(t.nameTxt),t.nameTxt=null,GObj.$d(t.capTxt),t.capTxt=null,GObj.$d(t.vipGroup),t.vipGroup=null,GObj.$d(t.vipImg),t.vipImg=null,GObj.$d(t.vipGrade),t.vipGrade=null,GObj.$d(t.redbagBtn),t.redbagBtn=null,GObj.$d(t.appellIcon),t.appellIcon=null,GObj.$d(t.masterGroup),t.masterGroup=null,GObj.$d(t.ax),t.ax=null,GObj.$d(t.frameImg),t.frameImg=null,GObj.$d(t.noheadTxt),t.noheadTxt=null,GObj.$d(t.fk),t.fk=null,GObj.$d(t.pw),t.pw=null,GObj.$d(t.kk),t.kk=null,GObj.$d(t.descImg),t.descImg=null,t.itemGroup&&(t.itemGroup.dataProvider=null,GObj.$d(t.itemGroup)),t.itemGroup=null,t.datas=null,e.prototype.dispose.call(this)},t}(BaseView);__reflect(ZhenwuView.prototype,"ZhenwuView");var AchievementMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1004,e.jk,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1004,e.jk,e)},t.prototype.jk=function(e){e&&(this.oto(e,App.EJ.achievementVo),vkG.$d(UtJ.NTG))},t.WS=function(e,t,n){App.BX.PpQ(1004,e,t,n)},t}(BQO);__reflect(AchievementMsgProxy.prototype,"AchievementMsgProxy");var ActivityMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(87,e.vf,e),App.BX.addEventListener(110,e.no,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(87,e.vf,e),App.BX.removeEventListener(110,e.no,e)},t.prototype.vf=function(e){if(e){var t=App.ZF.evDayReChgVO;this.oto(e,t),vkG.$d(UtJ.Z_H)}},t.prototype.no=function(e){e&&(App.ZF.timeActivityList=e.time,vkG.$d(UtJ.KP))},t.MN=function(){App.BX.PpQ(83,1)},t.KQ=function(e){App.BX.PpQ(83,2,e)},t.GY=function(e){App.BX.PpQ(87,void 0,void 0,void 0,e)},t}(BQO);__reflect(ActivityMsgProxy.prototype,"ActivityMsgProxy");var AppellMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(79,e.gk,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(79,e.gk,e)},t.prototype.gk=function(e){if(e){e.cap&&(App.AI.totalCap=e.cap);var t,n,i,r=[];for(var a in e)i=parseInt(a),isNaN(i)||(t=e[a],n=XCA.CS(i),n&&(n.value=t.value,n.isact=t.isact,n.date=t.date,n.grade=t.grade,r.push(i)));vkG.$d(UtJ.OC,r)}},t.OR=function(e,t){App.BX.PpQ(78,e,t)},t}(BQO);__reflect(AppellMsgProxy.prototype,"AppellMsgProxy");var ArenaMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(100,e.ve,e),App.BX.addEventListener(103,e.xj,e),App.BX.addEventListener(122,e.ib,e),App.BX.addEventListener(124,e.fw,e),App.BX.addEventListener(125,e.ze,e),App.BX.addEventListener(126,e.ll,e),App.BX.addEventListener(127,e.ci,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(100,e.ve,e),App.BX.removeEventListener(103,e.xj,e),App.BX.removeEventListener(122,e.ib,e),App.BX.removeEventListener(124,e.fw,e),App.BX.removeEventListener(125,e.ze,e),App.BX.removeEventListener(126,e.ll,e),App.BX.removeEventListener(127,e.ci,e)},t.prototype.xj=function(e){App.MB.addRobot(e,RobotVO.arena)},t.prototype.ve=function(e){if(e){var t=App.HB.arenaVo;void 0!=e.myRank&&null!=e.myRank&&(t.myRank=e.myRank||0),void 0!=e.time&&null!=e.time&&(t.time=e.time||0),void 0!=e.count&&null!=e.count&&(t.count=e.count||0),void 0!=e.buy&&null!=e.buy&&(t.buy=e.buy||0);var n=e.porson;if(n){var i=n.length;if(i>0){t.porson?t.porson.length=0:t.porson=[];for(var r=void 0,a=0;i>a;a++)r=GObj.$c(RankVO),this.oto(n[a],r),t.porson.push(r)}}e.window&&e.myRank&&Alert.WK(fvg.GVf("arena11",e.myRank,e.window)),vkG.$d(UtJ.TR)}},t.prototype.ib=function(e){if(e){var t=App.HB.crossArenaVo;this.oto(e,t),App.HB.promptByRound(),vkG.$d(UtJ.EU)}},t.prototype.fw=function(e){e&&vkG.$d(UtJ.ME,e)},t.prototype.ze=function(e){e&&(3!=e.result&&(App.HB.crossArenaVo.result=e.result),vkG.$d(UtJ.ET,e.result))},t.prototype.ll=function(e){var t=this;e&&(App.HB.crossArenaVo.result=0,App.HB.crossArenaVo.face=App.KF.uid<e.uid?StaticData.LEFT_FACE:StaticData.RIGHT_FACE,egret.Tween.removeTweens(t),egret.Tween.get(t).wait(15e3).call(t.ac,t),Alert.WK(fvg.GVf("crossarena27"),void 0,void 0,t.ac,this,void 0,t.th))},t.prototype.ac=function(){egret.Tween.removeTweens(this),Alert.instance.dispose(),App.UY.isCanSwitc(!0)&&(App.VS.closeAll(),App.VS.enterMapOpenUI(StaticData.CROSS_ARENA_MAP_ID,10024,void 0,!1),App.UY.enter(StaticData.CROSS_ARENA_MAP_ID))},t.prototype.th=function(){egret.Tween.removeTweens(this)},t.prototype.ci=function(e){if(e){var t=App.HB.crossArenaVo,n=e.group;t.recordInfo.utime[n]=GApp.timer,t.recordInfo.list[n]=e.record,vkG.$d(UtJ.OV)}},t.EY=function(){App.BX.PpQ(94,void 0)},t.DS=function(e){App.BX.PpQ(96,void 0,e)},t.TD=function(e){App.BX.PpQ(97,void 0,e)},t.CF=function(){App.BX.PpQ(95,void 0)},t.ZQ=function(){App.BX.PpQ(100,void 0)},t.YM=function(){App.BX.PpQ(118,void 0)},t.TU=function(e,t,n){App.BX.PpQ(22003,e,t,n)},t.SW=function(e){App.BX.PpQ(22002,void 0,void 0,void 0,e)},t.SO=function(e,t){App.BX.PpQ(121,void 0,e,t)},t.HQ=function(e){App.BX.PpQ(154,void 0,e)},t}(BQO);__reflect(ArenaMsgProxy.prototype,"ArenaMsgProxy");var AuctionMsgProxy=function(e){function t(){var t=e.call(this)||this;return t.id=!1,t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(229,e.rs,e),App.BX.addEventListener(230,e.hh,e),App.BX.addEventListener(234,e.qv,e),vkG.$a(HUtJ.HEARTBEAT,e.wr,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(229,e.rs,e),App.BX.removeEventListener(230,e.hh,e),App.BX.removeEventListener(234,e.qv,e),vkG.$r(HUtJ.HEARTBEAT,e.wr,e)},t.prototype.qv=function(e){if(e){var t=e.receipt;App.XL.ticketNum=t||0,vkG.$d(UtJ.TW)}},t.prototype.wr=function(){var e=this;if(App.NN&&App.NN.date){var n=3600*App.NN.date.getHours()+60*App.NN.date.getMinutes()+App.NN.date.getSeconds(),i=parseInt(XCA.CG(IDU.MRU)),r=parseInt(XCA.CG(IDU.QW));if(n&&n>=i&&r>=n){if(!e.id){for(var a=App.XL.goodsList.length,o=0;a>o;o++)App.XL.goodsList[o].sta=5;vkG.$d(UtJ.HB)}e.id=!0}else n&&n>r&&(vkG.$r(UtJ.HD,e.wr,e),t.RA())}},t.prototype.rs=function(e){if(e){var t=e[1];App.XL.haveCounts=t}},t.prototype.hh=function(e){var t=this;if(e){App.XL.goodsList.length=0;for(var n=0;n<StaticData.AUCTION_GOODS_NUM;n++){var i=GObj.$c(AuctionGoodsVO);e[n]?(i.tid=0==e[n].sta?StaticData.TID_GOODS_26:e[n].tid,i.sta=e[n].sta,i.id=e[n].id,i.person=e[n].person,i.auctionPrice=e[n].auctionPrice,i.name=e[n].name,i.myprice=e[n].myprice):(i.tid=StaticData.TID_GOODS_26,i.sta=0,i.id=Number.MAX_VALUE),App.XL.goodsList.push(i)}App.XL.goodsList.sort(t.sortByid);for(var r=XCA.JB(),a=(r.length,App.XL.goodsList.length),n=0;a>n;n++){var o=XCA.HL(App.XL.goodsList[n].tid);o&&t.oto(o,App.XL.goodsList[n])}vkG.$d(UtJ.HB)}},t.prototype.sortByid=function(e,t){return e.id<t.id?-1:1},t.RA=function(){App.BX.PpQ(22015,2)},t.JO=function(e,t,n){var i=GObj.$c(AuctionOfferVO);i.id=e,i.auctionPrice=t,i.tid=n,App.BX.PpQ(22015,1,null,null,i)},t}(BQO);__reflect(AuctionMsgProxy.prototype,"AuctionMsgProxy");var CampaignMsgProxy=function(e){function t(){var t=e.call(this)||this;return t.al=!0,t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(16,e.zk,e),App.BX.addEventListener(42,e.mr,e),App.BX.addEventListener(41,e.dn,e),App.BX.addEventListener(135,e.ba,e),App.BX.addEventListener(138,e.js,e),App.BX.addEventListener(152,e.po,e),App.BX.addEventListener(158,e.cv,e),App.BX.addEventListener(159,e.ah,e),App.BX.addEventListener(295,e.at,e),App.BX.addEventListener(296,e.ro,e),App.BX.addEventListener(340,e.gz,e),App.BX.addEventListener(337,e.oq,e),App.BX.addEventListener(341,e.zg,e),App.BX.addEventListener(342,e.cw,e),App.BX.addEventListener(1037,e.qr,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(16,e.zk,e),App.BX.removeEventListener(42,e.mr,e),App.BX.removeEventListener(41,e.dn,e),App.BX.removeEventListener(135,e.ba,e),App.BX.removeEventListener(138,e.js,e),App.BX.removeEventListener(152,e.po,e),App.BX.removeEventListener(158,e.cv,e),App.BX.removeEventListener(159,e.ah,e),App.BX.removeEventListener(295,e.at,e),App.BX.removeEventListener(296,e.ro,e),App.BX.removeEventListener(340,e.gz,e),App.BX.removeEventListener(337,e.oq,e),App.BX.removeEventListener(341,e.zg,e),App.BX.removeEventListener(342,e.cw,e),App.BX.removeEventListener(1037,e.qr,e)},t.prototype.dn=function(e){e&&(App.MB.taleNum=e.mc,App.MB.taleTime=e.at),vkG.$d(UtJ.YY)},t.prototype.mr=function(e){var t=e;if(t){for(var n,i,r=t.length,a=[],o=0;r>o;o++)n=t[o],n.tid&&(i=App.MB.getBossById(n.tid),i&&(this.oto(n,i),i.atktime&&(i.atktime+=StaticData.BOSS_REBIRTH_Delay),a.push(i.tid)));a.length>0&&vkG.$d(UtJ.CH,a)}},t.prototype.ro=function(e){e&&(e.ambit&&(App.MB.eliteBossInfo.ambit=e.ambit),e.level&&(App.MB.eliteBossInfo.level=e.level),e.num>=0&&(App.MB.eliteBossInfo.bossNum=e.num),e.firstPerson&&(App.MB.eliteBossInfo.firstPerson=e.firstPerson),e.firstLeague&&(App.MB.eliteBossInfo.firstLeague=e.firstLeague),e.fastInfo&&(App.MB.eliteBossInfo.fastInfo=e.fastInfo),vkG.$d(UtJ.XIX))},t.prototype.zk=function(e){var t=e;if(t){for(var n,i,r=t.length,a=[],o=0;r>o;o++)n=t[o],n.tid&&(i=App.MB.getBossById(n.tid),i&&(this.oto(n,i),n.atktime&&i.TSF&&(i.atktime=n.atktime+i.TSF.time+StaticData.BOSS_REBIRTH_Delay),a.push(i.tid)));a.length>0&&vkG.$d(UtJ.CH,a)}},t.prototype.ba=function(e){if(e){var t=App.MB.turnupBossInfo;this.oto(e,t),vkG.$d(UtJ.ZC)}},t.prototype.js=function(e){vkG.$d(UtJ.WI)},t.prototype.po=function(e){e&&(App.MB.count=e.count,vkG.$d(UtJ.MU))},t.prototype.cv=function(e){e&&vkG.$d(UtJ.EE,e)},t.prototype.ah=function(e){e&&(isNaN(e.lc)||(App.MB.pbInfo.last_buy_count=e.lc),e.week&&(App.MB.pbInfo.week=e.week),App.MB.pbInfo.bigNames=e.big||{},vkG.$d(UtJ.JI))},t.prototype.at=function(e){if(e){if(e.grade&&(App.MB.vipBossStar=e.grade),e.con_cc>=0&&(App.MB.vipBossTimes=e.con_cc),e.record)for(var t=e.record,n=t.length,i=0;n>i;i++)App.MB.crossRecords.push(t[i]);vkG.$d(UtJ.HS)}},t.prototype.gz=function(e){e&&(App.MB.familyWarInfo.ps=e.ps,vkG.$d(UtJ.KKF))},t.prototype.oq=function(e){e&&(void 0!=e.awardList&&(App.MB.familyWarInfo.awardList=e.awardList),void 0!=e.no1&&(App.MB.familyWarInfo.no1=e.no1),vkG.$d(UtJ.AY))},t.prototype.zg=function(e){e&&(App.MB.familyWarInfo.buy=e.bhc||0,vkG.$d(UtJ.XX))},t.prototype.cw=function(e){e&&(App.MB.familyWarInfo.log=e)},t.prototype.qr=function(e){e&&(App.MB.bossHomeAutoTid=e.autoId)},t.IQ=function(){App.BX.PpQ(84,void 0)},t.AB=function(e,t){App.BX.PpQ(26,void 0,e,t)},t.VG=function(e){App.BX.PpQ(135,e)},t.NU=function(e,t){App.BX.PpQ(155,void 0,e,t)},t.MS=function(){App.BX.PpQ(285,void 0)},t.WQ=function(e){App.BX.PpQ(309,void 0,void 0,void 0,e)},t.HW=function(){App.BX.PpQ(311,void 0)},t.CF=function(e){App.BX.PpQ(1045,1,e)},t}(BQO);__reflect(CampaignMsgProxy.prototype,"CampaignMsgProxy");var CardMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(329,e.vs,e),App.BX.addEventListener(330,e.bw,e),App.BX.addEventListener(331,e.on,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(329,e.vs,e),App.BX.removeEventListener(330,e.bw,e),App.BX.removeEventListener(331,e.on,e)},t.prototype.vs=function(e){e&&(this.oto(e,App.BV.cardInfo),vkG.$d(UtJ.GW))},t.prototype.bw=function(e){e&&(this.oto(e,App.BV.cardWakeInfo),vkG.$d(UtJ.PTT))},t.prototype.on=function(e){e&&(this.oto(e,App.BV.cardGroupInfo),vkG.$d(UtJ.NX))},t.GH=function(e,t){App.BX.PpQ(305,e,t)},t.WJ=function(e,t){App.BX.PpQ(306,e,t)},t.TW=function(e,t){App.BX.PpQ(307,e,t)},t}(BQO);__reflect(CardMsgProxy.prototype,"CardMsgProxy");var ChatMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(21,e.yq,e),App.BX.addEventListener(10003,e.yq,e),App.BX.addEventListener(10005,e.vn,e),App.BX.addEventListener(10006,e.ss,e),App.BX.addEventListener(10009,e.yj,e),App.BX.addEventListener(185,e.jn,e),App.BX.addEventListener(184,e.nj,e),App.BX.addEventListener(186,e.jx,e),App.BX.addEventListener(188,e.gt,e),App.BX.addEventListener(189,e.yc,e),App.BX.addEventListener(190,e.cr,e),App.BX.addEventListener(197,e.dl,e),App.BX.addEventListener(198,e.bp,e),App.BX.addEventListener(199,e.kb,e),App.BX.addEventListener(351,e.sc,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(21,e.yq,e),App.BX.removeEventListener(10003,e.yq,e),App.BX.removeEventListener(10005,e.vn,e),App.BX.removeEventListener(10006,e.ss,e),App.BX.removeEventListener(10009,e.yj,e),App.BX.removeEventListener(185,e.jn,e),App.BX.removeEventListener(184,e.nj,e),App.BX.removeEventListener(186,e.jx,e),App.BX.removeEventListener(188,e.gt,e),App.BX.removeEventListener(189,e.yc,e),App.BX.removeEventListener(190,e.cr,e),App.BX.removeEventListener(197,e.dl,e),App.BX.removeEventListener(198,e.bp,e),App.BX.removeEventListener(199,e.kb,e),App.BX.removeEventListener(351,e.sc,e)},t.prototype.vn=function(e){e&&(App.FQ.horn=e.lfct||0,vkG.$d(UtJ.BJ))},t.prototype.yq=function(e){if(e){var t=App.FQ.getOneChatVo();ObjectUtil.oto(e,t),t.rtime||(t.rtime=App.NN.serverSecond),t.text=Nkz.EL(t.text),App.FQ.addOneChatVo(t)&&vkG.$d(UtJ.IO,t)}},t.prototype.ss=function(e){if(e){var t=App.FQ.getOneChatVo();ObjectUtil.oto(e,t),App.FQ.addOneChatVo(t)&&vkG.$d(UtJ.IO,t)}},t.prototype.yj=function(e){e&&(1==e.c?Alert.WK(fvg.GVf("chat16"),void 0,Alert.EX):2==e.c?Alert.WK(fvg.GVf("chat17"),void 0,Alert.EX):Alert.WK(fvg.GVf("chat18"),void 0,Alert.EX))},t.prototype.sc=function(e){var t=this;if(e){var n;if(e.clickuserid){n=e.clickuserid;var i,r=e.intime;App.FQ.playerInfoList[n]?i=App.FQ.playerInfoList[n]:(i=GObj.$c(OtherPlayerVo),App.FQ.playerInfoList[n]=i),e.player&&(t.oto(e.player,i.basicInfo),i.updateTime.player=r,vkG.$d(UtJ.PO)),e.equip&&(t.oto(e.equip,i.equipInfo),i.updateTime.equip=r,vkG.$d(UtJ.FIU)),e.evilequip&&(t.oto(e.evilequip,i.evilequip),i.updateTime.evilequip=r,vkG.$d(UtJ.FIU)),e.rank&&(t.oto(e.rank,i.rankInfo),i.updateTime.rank=r,vkG.$d(UtJ.ZJ)),e["super"]&&(t.oto(e["super"],i.superInfo),i.updateTime["super"]=r,vkG.$d(UtJ.ZJ)),e.card&&(t.oto(e.card,i.cardInfo),i.updateTime.card=r,vkG.$d(UtJ.IL)),vkG.$d(UtJ.DM)}}},t.prototype.nj=function(e){var t=this;if(e){var n,i,r=App.FQ.redbagInfo,a=e;if(a&&a.length>0)for(var o=0;o<a.length;o++)n=a[o],i=r.getOneRedBagById(n.id),i?t.oto(n,i):r.setOneRedBagById(n.id,n);void 0!=e.list&&delete e.list,t.oto(e,r),vkG.$d(UtJ.JNO,1)}},t.prototype.jn=function(e){if(e){var t=App.FQ.redbagInfo;t.redBagList={};var n,i,r=e;if(r&&r.length>0){n={};for(var a in r){if(r[0].id<=0)break;i=r[a],n[i.id]=i}}t.redBagList=n,vkG.$d(UtJ.JNO)}},t.prototype.jx=function(e){if(e){var t=App.FQ.redbagInfo;void 0!=e.redosrpn&&(t.sysCount=e.redosrpn),void 0!=e.apn&&(t.apn=e.apn),vkG.$d(UtJ.PA)}},t.prototype.gt=function(e){if(e){var t=App.FQ.redbagInfo;e.state&&(t.state=e.state),e.msg&&(t.msg=e.msg),e.vl&&(t.vipGrade=e.vl),vkG.$d(UtJ.HJ)}},t.prototype.yc=function(e){if(e){var t=e,n=App.FQ.redbagInfo;n.myRecords=[],t&&t.length>0&&(n.myRecords=t),vkG.$d(UtJ.TU,1)}},t.prototype.cr=function(e){if(e){var t=e,n=App.FQ.redbagInfo;n.notices=[],t&&t.length>0&&(n.notices=t),vkG.$d(UtJ._W)}},t.prototype.kb=function(e){if(e){var t=e,n=App.FQ.redbagInfo;n.vipNotices=[],t&&t.length>0&&(n.vipNotices=t),vkG.$d(UtJ.IX)}},t.prototype.dl=function(e){if(e){var t=App.FQ.redbagInfo;e.code&&(t.code=e.code),vkG.$d(UtJ.QRG)}},t.prototype.bp=function(e){if(e){var t=App.FQ.redbagInfo,n=e;if(t.message=[],n&&n.length>0)for(var i=0;i<n.length;i++)t.message.push(n[i].message);vkG.$d(UtJ.TU,2)}},t.AU=function(e,t){2==e?App.BX.PpQ(9997,e,void 0,void 0,t):App.BX.PpQ(32,e,void 0,void 0,t)},t.PL=function(e,t){App.BX.PpQ(9995,void 0,e,void 0,t)},t.FJ=function(e){App.BX.PpQ(131,void 0,void 0,void 0,e)},t._N=function(e){App.BX.PpQ(174,void 0,void 0,void 0,e)},t.LG=function(e){App.BX.PpQ(175,void 0,void 0,void 0,e)},t.DC=function(e){App.BX.PpQ(312,void 0,e)},t}(BQO);__reflect(ChatMsgProxy.prototype,"ChatMsgProxy");var CityBattleMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(310,e.qa,e),App.BX.addEventListener(307,e.jj,e),App.BX.addEventListener(308,e.ba,e),App.BX.addEventListener(309,e.uu,e),App.BX.addEventListener(311,e.il,e),App.BX.addEventListener(312,e.pp,e),App.BX.addEventListener(313,e.mk,e),App.BX.addEventListener(315,e.lk,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(310,e.qa,e),App.BX.removeEventListener(307,e.jj,e),App.BX.removeEventListener(308,e.ba,e),App.BX.removeEventListener(309,e.uu,e),App.BX.removeEventListener(311,e.il,e),App.BX.removeEventListener(312,e.pp,e),App.BX.removeEventListener(313,e.mk,e),App.BX.removeEventListener(315,e.lk,e)},t.prototype.il=function(e){e&&(e.a&&(App.XD.cityBattleAllLog=e.a),e.u&&(App.XD.cityBattlePlayerLog=e.u),vkG.$d(UtJ.TE))},t.prototype.pp=function(e){e&&vkG.$d(UtJ.QUY,e)},t.prototype.qa=function(e){if(e){var t=App.XD.cityBattleVo,n=e.w||1;e.st=e.ot+600*(n-1),this.oto(e,t),t.nextTime=e.st+600,vkG.$d(UtJ.GPH)}},t.prototype.uu=function(e){if(e){var t=App.XD.cityBattleRewardVo;this.oto(e,t),vkG.$d(UtJ.CU)}},t.prototype.ba=function(e){if(e){var t=App.XD.cityBattlePlayerVo;this.oto(e,t),vkG.$d(UtJ.VJQ)}},t.prototype.jj=function(e){e&&e.lsecs&&(App.XD.lastReliveTime=e.lsecs,vkG.$d(UtJ.BB))},t.prototype.lk=function(e){if(e){App.XD.start=!1;var t=App.XD.cityBattleResultsVo;t||(t=App.XD.cityBattleResultsVo=GObj.$c(CityBattleResultsVo)),this.oto(e,t),36==App.UY.sceneType&&App.VS.popup(null,KqZ.LL)}},t.prototype.mk=function(e){e&&(App.XD.nodelhpDic=e.hp||{},vkG.$d(UtJ.AU))},t.PE=function(e,t){void 0===t&&(t=0),App.BX.PpQ(299,e,t)},t}(BQO);__reflect(CityBattleMsgProxy.prototype,"CityBattleMsgProxy");var CloakMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(235,e.vq,e),App.BX.addEventListener(236,e.zd,e),App.BX.addEventListener(237,e._p,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(235,e.vq,e),App.BX.removeEventListener(236,e.zd,e),App.BX.removeEventListener(237,e._p,e)},t.prototype.zd=function(e){e&&(this.oto(e,App.ZT.cloakUpStars),vkG.$d(UtJ.ZYV))},t.prototype.vq=function(e){e&&(this.oto(e,App.ZT.cloakFoster),vkG.$d(UtJ.RF))},t.prototype._p=function(e){e&&(this.oto(e,App.ZT.cloakSkillInfo),vkG.$d(UtJ.VID))},t.Q_=function(e,t){App.BX.PpQ(223,e,t)},t.QE=function(){App.BX.PpQ(221,void 0,1)},t.JS=function(){App.BX.PpQ(221,void 0,1,1)},t.PU=function(e){App.BX.PpQ(222,void 0,e)},t.SC=function(e){App.BX.PpQ(224,void 0,e)},t.KZ=function(e){App.BX.PpQ(225,void 0,e)},t}(BQO);__reflect(CloakMsgProxy.prototype,"CloakMsgProxy");var ziI=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(10007,e.gy,e),App.BX.addEventListener(10001,e.jw,e),App.BX.addEventListener(1e4,e.cs,e),App.BX.addEventListener(28,e.ub,e),App.BX.addEventListener(10002,e.jd,e),App.BX.addEventListener(80,e.xx,e),App.BX.addEventListener(47,e.wg,e),App.BX.addEventListener(10004,e.tz,e),App.BX.addEventListener(93,e.kn,e),App.BX.addEventListener(8888,e.sr,e),App.BX.addEventListener(102,e.hf,e),App.BX.addEventListener(123,e.ot,e),App.BX.addEventListener(132,e.ms,e),App.BX.addEventListener(133,e.lx,e),App.BX.addEventListener(136,e.hs,e),App.BX.addEventListener(137,e.wh,e),App.BX.addEventListener(143,e.ij,e),App.BX.addEventListener(157,e.ym,e),App.BX.addEventListener(162,e.hu,e),App.BX.addEventListener(180,e.jj,e),App.BX.addEventListener(222,e.vw,e),App.BX.addEventListener(223,e.bcl,e),App.BX.addEventListener(10010,e.bt,e),App.BX.addEventListener(1014,e.cx,e),App.BX.addEventListener(1030,e.iy,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(10007,e.gy,e),App.BX.removeEventListener(10001,e.jw,e),App.BX.removeEventListener(1e4,e.cs,e),App.BX.removeEventListener(28,e.ub,e),App.BX.removeEventListener(10002,e.jd,e),App.BX.removeEventListener(80,e.xx,e),App.BX.removeEventListener(47,e.wg,e),App.BX.removeEventListener(10004,e.tz,e),App.BX.removeEventListener(93,e.kn,e),App.BX.removeEventListener(8888,e.sr,e),App.BX.removeEventListener(102,e.hf,e),App.BX.removeEventListener(123,e.ot,e),App.BX.removeEventListener(132,e.ms,e),App.BX.removeEventListener(133,e.lx,e),App.BX.removeEventListener(136,e.hs,e),App.BX.removeEventListener(137,e.wh,e),App.BX.removeEventListener(143,e.ij,e),App.BX.removeEventListener(157,e.ym,e),App.BX.removeEventListener(162,e.hu,e),App.BX.removeEventListener(180,e.jj,e),App.BX.removeEventListener(222,e.vw,e),App.BX.removeEventListener(223,e.bcl,e),App.BX.removeEventListener(10010,e.bt,e),App.BX.removeEventListener(1014,e.cx,e),App.BX.removeEventListener(1030,e.iy,e)
},t.prototype.bt=function(e){vkG.$d(UtJ.WGA)},t.prototype.gy=function(e){vkG.$d(UtJ.SE)},t.prototype.kn=function(e){if(e){var t=fvg.GVf.apply(fvg,e);MessageTipManager.instance.show(t)}},t.prototype.tz=function(e){var t=this;QycO.BJR=!0,Alert.WK(fvg.GVf(96),null,Alert.EX,t.hn,this,[96],t.hn)},t.prototype.hn=function(e){window&&window.hitalk_is_game?window.location.reload(!0):window.location.reload(!0)},t.prototype.xx=function(e){if(e){var t=[];for(var n in e)t.push(parseInt(n));for(var i,r=t.length,a=0;r>a;a++){var n=t[a];i=XCA.MF(n),i||(i=GObj.$c(SwitchTemplate),i.id=n,XCA.BTK(i)),this.oto(e[n],i)}vkG.$d(UtJ.KSQ,t)}},t.prototype.wg=function(e){if(e){var t=UsU.redPointInfo;this.oto(e,t),vkG.$d(UtJ.SW)}},t.prototype.cx=function(e){e&&e.mt&&(79==e.mt&&1==e.g||81==e.mt&&1==e.g?MagicBladeActivePopUi.instance.show(e.mt,e.st,e.g):ActivateTipManager.instance.show(e.mt,e.st,e.g))},t.prototype.jd=function(e){App.BX.openChat(App.FQ.ip,App.FQ.port)},t.prototype.ub=function(e){e&&(ClockManager.instance.serverTime=1e3*e.secs),vkG.$d(UtJ.CR)},t.prototype.sr=function(e){if(e){var t=e.c,n=e.r;switch(t){case 1:1==n&&ChapterIncomeBar.instance.show(2);break;case 2:1==n&&ChapterIncomeBar.instance.show(3);break;case 3:2==n&&vkG.$d(UtJ._B,n);break;case 4:var i=fvg.GVf("platform18_"+(1==n?1:2));Alert.WK(i,void 0,Alert.EX);break;case 5:2==n&&vkG.$d(UtJ.PC,n)}}},t.prototype.hf=function(e){e&&(44===e.type&&App.MB.bossHomeAutoTid===e.p1&&(App.MB.bossHomeAutoMapId=App.MB.getMapIdById(e.p1),this.uc()),vkG.$d(UtJ._SG,e))},t.prototype.uc=function(){var e=this;1===App.UY.sceneType?(App.MB.autoEnterBossHome(!0),vkG.$r(UtJ.YT,e.uc,e)):vkG.$a(UtJ.YT,e.uc,e)},t.prototype.cs=function(e){var t=this;QycO.BJR=!0,Alert.WK(fvg.GVf(99),null,Alert.EX,t.hn,this,[99],t.hn)},t.prototype.jw=function(e){var t=this;QycO.BJR=!0,Alert.WK(fvg.GVf(97),null,Alert.EX,t.hn,this,[97],t.hn)},t.QO=function(e,t){App.BX.PpQ(23,void 0,e,t)},t.newbie=function(){vkG.$d(UtJ.HK),App.BX.PpQ(50,void 0)},t.newbieReward=function(){var e=this;vkG.$r(UtJ.WGA,e.newbieReward,e),App.BX.isConnected?App.BX.PpQ(1015,void 0):vkG.$a(UtJ.WGA,e.newbieReward,e)},t.MF=function(e,t){App.BX.PpQ(21,void 0,void 0,void 0,e,t)},t.WU=function(e,t){App.BX.PpQ(110,void 0,e,t)},t.YR=function(e,t){App.BX.PpQ(115,void 0,e,void 0,t)},t.PC=function(){App.BX.PpQ(34,void 0)},t.prototype.ot=function(e){if(e){switch(e.res){case 1:break;case 2:case 3:case 4:case 5:case 6:case 7:Alert.WK(LoginManager.instance.getMsgPrompt(e.res),null,Alert.EX);break;case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:Alert.WK(fvg.GVf("rename"+e.res),null,Alert.EX)}vkG.$d(UtJ.HF,1==e.res)}},t.prototype.ms=function(e){if(e)if(App.HD.bulletinInfo.utime=GApp.timer,this.oto(e,App.HD.bulletinInfo),App.HD.bulletinInfo.c=App.HD.bulletinInfo.c.replace(/\\t/g,"	").replace(/\\n/g,"\n"),App.HD.bulletinInfo.f){var t=GObj.$c(BulletinPopUi);t.show()}else vkG.$d(UtJ.LD)},t.prototype.lx=function(e){e&&(App.HD.lanternInfo=e.ee||0,vkG.$d(UtJ.DSC))},t.prototype.hs=function(e){e&&e.islt&&(App.FQ.islt=e.islt)},t.prototype.wh=function(e){e&&vkG.$d(UtJ.DR,e.res)},t.prototype.ij=function(e){e&&App.VX.openFrameByType(pba.DZ,e)},t.prototype.hu=function(e){e&&(this.oto(e,App.HD.gangTreasureInfo),App.HD.gangTreasureInfo.utime=GApp.timer,vkG.$d(UtJ.FI))},t.prototype.jj=function(e){},t.prototype.vw=function(e){if(e){var t=e.type;switch(t){case 11001:this.oto(e,App.JUY.collHallInfo),vkG.$d(UtJ.OB)}}},t.prototype.bcl=function(e){if(e){var t=e.type;switch(t){case 11001:case 11002:vkG.$d(UtJ.KF,e)}}},t.MS=function(){App.BX.PpQ(128,void 0,void 0)},t.OE=function(e){App.BX.PpQ(129,void 0,e)},t.YP=function(e){App.BX.PpQ(137,void 0,void 0,void 0,e)},t.prototype.ym=function(e){if(e){var t=XCA.allTemplateData?XCA.allTemplateData.configtemp:{};this.oto(e,t),vkG.$d(UtJ.UH)}},t.JZ=function(){App.BX.PpQ(146,void 0)},t.DY=function(e){App.BX.PpQ(156,void 0,e)},t.VR=function(e,t){App.BX.PpQ(22011,e,t)},t.BR=function(e,t){App.BX.PpQ(22013,void 0,t,void 0,e)},t.BZ=function(e){App.BX.PpQ(210,void 0,e)},t.GY=function(e,t){App.BX.PpQ(211,void 0,e,t)},t.ZO=function(e){App.BX.PpQ(212,void 0,e)},t.YK=function(e){App.BX.PpQ(228,void 0,e,void 0,void 0)},t.JJ=function(e){App.BX.PpQ(229,void 0,e,void 0,void 0)},t.OG=function(e){App.BX.PpQ(1048,void 0,e,void 0,void 0)},t.VX=function(e){App.BX.PpQ(22002,void 0,void 0,void 0,void 0)},t.prototype.xk=function(e){e&&(this.oto(e,App.HD.eliminateInfo),vkG.$d(UtJ.RMY))},t.prototype.dw=function(e){e&&(this.oto(e,App.HD.eliminateInfo),vkG.$d(UtJ.K_))},t.prototype.qt=function(e){e&&(App.HD.eliminateInfo.bags=e.items,vkG.$d(UtJ.SVO))},t.HH=function(e,t){},t.UM=function(){},t.UZ=function(e){},t.HD=function(){},t.LN=function(e){},t.prototype.iy=function(e){if(e){for(var t in e)App.OO.ffmListDic[t]=e[t];vkG.$d(UtJ.SWL)}},t}(BQO);__reflect(ziI.prototype,"ziI");var ConsMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(160,e.vb,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(160,e.vb,e)},t.prototype.vb=function(e){if(e){var t=App.ME.getConsInfo();void 0!=e.cap&&(App.ME.totalCap=e.cap),e.rootnode&&(App.ME.havecons=e.rootnode),void 0!=e.afternode&&(App.ME.lewcons=App.ME.lincons=e.afternode),e[1]&&(App.ME.grade=e[1]),e.cons&&(App.ME.havecons=e.cons),void 0!=e["con_"+ConsType.VS]&&(t.haveDict[ConsType.VS]=e["con_"+ConsType.VS]),void 0!=e["con_"+ConsType.MV]&&(t.haveDict[ConsType.MV]=e["con_"+ConsType.MV]),void 0!=e["con_"+ConsType.JZ]&&(t.haveDict[ConsType.JZ]=e["con_"+ConsType.JZ]),void 0!=e["con_"+ConsType.BI]&&(t.haveDict[ConsType.BI]=e["con_"+ConsType.BI]),void 0!=e["con_"+ConsType.FZ]&&(t.haveDict[ConsType.FZ]=e["con_"+ConsType.FZ]),vkG.$d(UtJ.QU)}},t._G=function(e){App.BX.PpQ(150,void 0,e)},t.VE=function(e){App.BX.PpQ(151,void 0,null,null,e)},t.JD=function(e){App.BX.PpQ(152,void 0,null,null,e)},t}(BQO);__reflect(ConsMsgProxy.prototype,"ConsMsgProxy");var CrossHarryMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(171,e.ep,e),App.BX.addEventListener(170,e.mx,e),App.BX.addEventListener(169,e.rw,e),App.BX.addEventListener(168,e.wb,e),App.BX.addEventListener(172,e.wv,e),App.BX.addEventListener(175,e.yk,e),App.BX.addEventListener(179,e.zq,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(171,e.ep,e),App.BX.removeEventListener(170,e.mx,e),App.BX.removeEventListener(169,e.rw,e),App.BX.removeEventListener(168,e.wb,e),App.BX.removeEventListener(172,e.wv,e),App.BX.removeEventListener(175,e.yk,e),App.BX.removeEventListener(179,e.zq,e)},t.prototype.wv=function(e){e&&(App.IB.start=!0,App.IB.road=e.road,vkG.$d(UtJ.PX))},t.prototype.yk=function(e){e&&(App.IB.advanceDic=e.atk||{},App.IB.nodelhpDic=e.hp||{},vkG.$d(UtJ.GOA))},t.prototype.wb=function(e){e&&(App.IB.lastReliveTime=e.lsecs,vkG.$d(UtJ.NY))},t.prototype.zq=function(e){e&&(App.IB.reliveCd=e.t||StaticData.HARRY_RELIVE_TIME)},t.prototype.rw=function(e){if(e){App.IB.start=!1;var t=App.IB.harryResultsVo;t||(t=App.IB.harryResultsVo=GObj.$c(CrossHarryResultsVO)),this.oto(e,t),101==App.UY.sceneType&&App.VS.popup(null,KqZ.HV)}},t.prototype.mx=function(e){if(e){var t=App.IB.harryScoreVo;this.oto(e,t),vkG.$d(UtJ.PRD)}},t.prototype.ep=function(e){var t=this;if(e){var n=App.IB.harryVo,i=n.winner;t.oto(e,n),e.winner&&(t.oto(e.winner,i),i.sex=e.winner.head),n.winner=i,n.winner&&(App.IB.defFid=n.winner.fid),vkG.$d(UtJ.DOU)}},t.NQ=function(){App.BX.PpQ(164,void 0)},t.WC=function(e,t){App.BX.PpQ(22009,e,t)},t}(BQO);__reflect(CrossHarryMsgProxy.prototype,"CrossHarryMsgProxy");var EmailMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(22,e.ue,e),App.BX.addEventListener(23,e.pd,e),App.BX.addEventListener(24,e.cj,e),App.BX.addEventListener(25,e.am,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(22,e.ue,e),App.BX.removeEventListener(23,e.pd,e),App.BX.removeEventListener(24,e.cj,e),App.BX.removeEventListener(25,e.am,e)},t.prototype.ue=function(e){if(e){var t=e;this.cg(t),vkG.$d(UtJ.NL)}},t.prototype.pd=function(e){if(e){var t=e,n=this.cg(t,!0);vkG.$d(UtJ.UV,n)}},t.prototype.cj=function(e){if(e){var t=e;this.cg(t),vkG.$d(UtJ.NL)}},t.prototype.am=function(e){if(e){for(var t,n,i=e,r=i.length,a=[],o=0;r>o;o++)t=i[o],n=App.AL.getEmailInfoByEid(t.eid),n&&(a.push(n.eid),App.AL.deleteEmailInfo(n.eid));vkG.$d(UtJ.YK,a)}},t.prototype.cg=function(e,t){void 0===t&&(t=!1);for(var n,i,r=[],a=e.length,o=0;a>o;o++)n=e[o],i=App.AL.getEmailInfoByEid(n.eid),i||(i=GObj.$c(EmailInfo),i.eid=n.eid,i.etype=n.etype||1,App.AL.addEmailInfo(i)),ObjectUtil.oto(n,i),i.requested=t,r.push(i.eid);return r},t.NQ=function(e){App.BX.PpQ(30,void 0,e)},t.RQ=function(e,t,n){void 0===t&&(t=void 0),void 0===n&&(n=void 0),App.BX.PpQ(31,e,t,n)},t}(BQO);__reflect(EmailMsgProxy.prototype,"EmailMsgProxy");var ExploreMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(207,e.__exploreAreaHandler,e),App.BX.addEventListener(208,e.__exploreRouteHandler,e),App.BX.addEventListener(209,e.__exploreResultHandler,e),App.BX.addEventListener(211,e.__buyPPResultHandler,e),App.BX.addEventListener(210,e.__businessGoodsHandler,e),App.BX.addEventListener(212,e.__resetPosHandler,e),App.BX.addEventListener(213,e.__buyPPResultHandler,e),App.BX.addEventListener(225,e.sh,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(207,e.__exploreAreaHandler,e),App.BX.removeEventListener(208,e.__exploreRouteHandler,e),App.BX.removeEventListener(209,e.__exploreResultHandler,e),App.BX.removeEventListener(211,e.__buyPPResultHandler,e),App.BX.removeEventListener(210,e.__businessGoodsHandler,e),App.BX.removeEventListener(212,e.__resetPosHandler,e),App.BX.removeEventListener(213,e.__buyPPResultHandler,e),App.BX.removeEventListener(225,e.sh,e)},t.prototype.sh=function(e){e&&(App.WW.currentPP=e.pp,vkG.$d(UtJ.DBA))},t.prototype.__awardPreviewHandler=function(e){if(e){App.WW.finalAward=[];for(var t in e){var n=GObj.$c(nlwj);n.tid=parseInt(t),n.count=e[t],App.WW.finalAward.push(n)}vkG.$d(UtJ.CFZ)}},t.prototype.__resetPosHandler=function(e){e&&(App.WW.currentPP=e.pp,App.WW.mySite=e.sn,App.WW.bossHp=e.hpper,vkG.$d(UtJ.RZW))},t.prototype.__businessGoodsHandler=function(e){if(e){App.WW.businessGoodsIds.length=0;for(var t in e)App.WW.businessGoodsIds.push(e[t]);vkG.$d(UtJ.GAH)}},t.prototype.__buyPPResultHandler=function(e){e&&(App.WW.currentPP=e.pp,vkG.$d(UtJ.RZW))},t.prototype.__exploreResultHandler=function(e){if(e){for(var t in e)if(App.WW.resultId=e.id,App.WW.currentPP=e.pp,App.WW.mySite=e.sn,App.WW.resultAward=[],e.goods)for(var n in e.goods){var i=GObj.$c(nlwj);i.tid=parseInt(n),i.count=e.goods[n],App.WW.resultAward.push(i)}vkG.$d(UtJ.WNM)}},t.prototype.__exploreRouteHandler=function(e){e&&(App.WW.currentTypes=e.id,App.WW.mySite=e.sn,App.WW.currentPP=e.pp,App.WW.bossHp=e.hpper||1,App.WW.autoBuyPP=e.atpp,vkG.$d(UtJ.FZ))},t.prototype.__exploreAreaHandler=function(e){e&&(App.WW.currentArea=e.myArea)},t.LB=function(){App.BX.PpQ(190,1,null)},t.SR=function(e){App.BX.PpQ(190,2,e)},t.BG=function(){App.BX.PpQ(192,1,null)},t.MC=function(e){App.BX.PpQ(192,2,e)},t.BS=function(e){App.BX.PpQ(191,null,null,e)},t.GF=function(e){App.BX.PpQ(191,null,null,null,e)},t.PA=function(e){App.BX.PpQ(194,null,e)},t.JT=function(){App.BX.PpQ(193,null)},t.ZQ=function(){App.BX.PpQ(196,null)},t.JP=function(e){App.BX.PpQ(213,null,e)},t.EH=function(){return App.WW.currentPP>0||1!=App.WW.autoBuyPP?void 0:App.BG.jkU.point<ExploreTypeConst.HQ?void MessageTipManager.instance.show(fvg.GVf("8")):void App.BX.PpQ(214,null)},t}(BQO);__reflect(ExploreMsgProxy.prototype,"ExploreMsgProxy");var FamilyMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(333,e.ik,e),App.BX.addEventListener(334,e.un,e),App.BX.addEventListener(335,e.io,e),App.BX.addEventListener(336,e.en,e),App.BX.addEventListener(332,e.s_,e),App.BX.addEventListener(347,e.jh,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(333,e.ik,e),App.BX.removeEventListener(334,e.un,e),App.BX.removeEventListener(335,e.io,e),App.BX.removeEventListener(336,e.en,e),App.BX.removeEventListener(332,e.s_,e),App.BX.removeEventListener(347,e.jh,e)},t.prototype.jh=function(e){e&&(e.fj&&e.fj.length>0&&(App.XW.familyInfo.fj=e.fj,vkG.$d(UtJ.TD)),e.fa&&e.fa.length>0&&(App.XW.familyInfo.fa=e.fa,vkG.$d(UtJ.OVN)),e.fmb&&e.fmb.length>0&&(App.XW.familyInfo.fmb=e.fmb,vkG.$d(UtJ.PMD)))},t.prototype.en=function(e){e&&(isNaN(e)||(App.XW.familyInfo.tp=e,vkG.$d(UtJ.BGK)))},t.prototype.ik=function(e){e&&(e.pd=parseInt(e.pd),this.oto(e,App.XW.familyInfo),vkG.$d(UtJ.TA))},t.prototype.un=function(e){if(e)switch(e){case 1:MessageTipManager.instance.show(fvg.GVf("family22"));break;case 2:MessageTipManager.instance.show(fvg.GVf("family23"));break;case 3:MessageTipManager.instance.show(fvg.GVf("family24"));break;case 4:MessageTipManager.instance.show(fvg.GVf("family25"));break;case 5:MessageTipManager.instance.show(fvg.GVf("family26"));break;case 6:MessageTipManager.instance.show(fvg.GVf("family27"));break;case 7:App.XW.familyInfo.id=0,MessageTipManager.instance.show(fvg.GVf("family29")),vkG.$d(UtJ.UI,e);break;case 11:App.XW.familyInfo.id=0,MessageTipManager.instance.show(fvg.GVf("fmaily39")),vkG.$d(UtJ.UI,e);break;case 13:App.XW.familyInfo.id=0,MessageTipManager.instance.show(fvg.GVf("family77")),vkG.$d(UtJ.UI,e);break;case 8:MessageTipManager.instance.show(fvg.GVf("family33"));break;case 9:MessageTipManager.instance.show(fvg.GVf("family38"));break;case 10:MessageTipManager.instance.show(fvg.GVf("family34"));break;case 12:MessageTipManager.instance.show(fvg.GVf("family41"))}},t.prototype.io=function(e){e&&(this.oto(e,App.XW.familyInfo),vkG.$d(UtJ.MD))},t.prototype.s_=function(e){e&&(this.oto(e,App.XW.familyInfo),vkG.$d(UtJ.ZL))},t.AT=function(e,t,n,i){App.BX.PpQ(308,e,t,n,i)},t}(BQO);__reflect(FamilyMsgProxy.prototype,"FamilyMsgProxy");var FunnyMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(91,e.mt,e),App.BX.addEventListener(92,e.la,e),App.BX.addEventListener(116,e.tf,e),App.BX.addEventListener(117,e.fb,e),App.BX.addEventListener(118,e.wy,e),App.BX.addEventListener(119,e.tn,e),App.BX.addEventListener(120,e.mb,e),App.BX.addEventListener(121,e.ka,e),App.BX.addEventListener(139,e.rc,e),App.BX.addEventListener(140,e.dx,e),App.BX.addEventListener(146,e.ad,e),App.BX.addEventListener(147,e.dt,e),App.BX.addEventListener(148,e.up,e),App.BX.addEventListener(149,e.iu,e),App.BX.addEventListener(161,e.lw,e),App.BX.addEventListener(219,e.ir,e),App.BX.addEventListener(218,e.qs,e),App.BX.addEventListener(224,e.bj,e),App.BX.addEventListener(226,e.pq,e),App.BX.addEventListener(263,e.jd,e),App.BX.addEventListener(292,e.wg,e),App.BX.addEventListener(344,e.__luckEggDropHandler,e),App.BX.addEventListener(343,e.jn,e),App.BX.addEventListener(345,e.lx,e),App.BX.addEventListener(346,e.xp,e),App.BX.addEventListener(350,e.qe,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(91,e.mt,e),App.BX.removeEventListener(92,e.la,e),App.BX.removeEventListener(116,e.tf,e),App.BX.removeEventListener(117,e.fb,e),App.BX.removeEventListener(118,e.wy,e),App.BX.removeEventListener(119,e.tn,e),App.BX.removeEventListener(120,e.mb,e),App.BX.removeEventListener(121,e.ka,e),App.BX.removeEventListener(139,e.rc,e),App.BX.removeEventListener(140,e.dx,e),App.BX.removeEventListener(146,e.ad,e),App.BX.removeEventListener(147,e.dt,e),App.BX.removeEventListener(148,e.up,e),App.BX.removeEventListener(149,e.iu,e),App.BX.removeEventListener(161,e.lw,e),App.BX.removeEventListener(219,e.ir,e),App.BX.removeEventListener(218,e.qs,e),App.BX.removeEventListener(224,e.bj,e),App.BX.removeEventListener(226,e.pq,e),App.BX.removeEventListener(263,e.jd,e),App.BX.removeEventListener(292,e.wg,e),App.BX.removeEventListener(344,e.__luckEggDropHandler,e),App.BX.removeEventListener(343,e.jn,e),App.BX.removeEventListener(345,e.lx,e),App.BX.removeEventListener(346,e.xp,e),App.BX.removeEventListener(350,e.qe,e)},t.prototype.qe=function(e){},t.prototype.mt=function(e){if(e){var t=e.allAct;if(t){e.index||App.MG.clear();for(var n,i,r,a=0,o=t;a<o.length;a++)i=o[a],n=App.MG.findFunnyVoById(i.id),r=!1,n||(n=GObj.$c(FunnyVo),r=!0),n.type=i.type,ObjectUtil.oto(i,n),r&&App.MG.addFunnyVoData(n);e.secs&&(ClockManager.instance.serverTime=1e3*e.secs),vkG.$d(UtJ.AW)}}},t.prototype.la=function(e){if(e){var t=e.allAct;if(t){for(var n,i,r=[],a=0,o=t;a<o.length;a++)i=o[a],i&&(n=App.MG.findFunnyVoById(i.id),n&&(ObjectUtil.oto(i,n),-1==r.indexOf(n.id)&&r.push(n.id)));vkG.$d(UtJ.PP,r)}}},t.prototype.tf=function(e){e&&(this.oto(e,App.MG.treasureData),vkG.$d(UtJ.IU,1))},t.prototype.fb=function(e){e&&(App.MG.treasureData.selfRecords=e,vkG.$d(UtJ.IU,2))},t.prototype.wy=function(e){e&&(App.MG.treasureData.crossRecords=e,vkG.$d(UtJ.IU,3))},t.prototype.tn=function(e){e&&(this.oto(e,App.MG.rechargeTreasurData),vkG.$d(UtJ.SQ,1))},t.prototype.mb=function(e){e&&(App.MG.rechargeTreasurData.selfRecords=e,vkG.$d(UtJ.SQ,2))},t.prototype.ka=function(e){e&&(App.MG.rechargeTreasurData.crossRecords=e,vkG.$d(UtJ.SQ,3))},t.prototype.ad=function(e){e&&(this.oto(e,App.MG.magicData),vkG.$d(UtJ.SH,1))},t.prototype.up=function(e){e&&(App.MG.magicData.selfRecords=e,vkG.$d(UtJ.SH,2))},t.prototype.dt=function(e){e&&(App.MG.magicData.crossRecords=e,vkG.$d(UtJ.SH,3))},t.prototype.iu=function(e){e&&vkG.$d(UtJ.AF,e.p4)},t.prototype.jd=function(e){e&&(isNaN(e.stage)||(App.MG.peopleIndex=e.stage),vkG.$d(UtJ.KS,1))},t.prototype.wg=function(e){e&&(App.MG.TreasureGoods=e,vkG.$d(UtJ.VPP))},t.prototype.rc=function(e){if(e){var t=e.award,n=[];if(t&&t.length>0)for(var i=void 0,r=void 0,a=0;a<t.length;a++)i=GObj.$c(nlwj),r=t[a],i.tid=r.t,i.count=r.c,n.push(i);vkG.$d(UtJ.VU,n)}},t.prototype.dx=function(e){e&&(App.HD.holyEggInfo=e,vkG.$d(UtJ.QC))},t.prototype.lw=function(e){e&&(App.HD.godOfWealthRecord.utime=GApp.timer,App.HD.godOfWealthRecord.record=e,vkG.$d(UtJ.SV))},t.prototype.ir=function(e){if(e){var t=e.levels,n=[];if(t&&t.length>0)for(var i=void 0,r=void 0,a=0;a<t.length;a++)i=GObj.$c(nlwj),r=t[a],i.tid=r.id,i.count=r.count||0,i.p1=r.quality||3,n.push(i);vkG.$d(UtJ.NS,n)}},t.prototype.pq=function(e){e&&(e.flag||vkG.$d(UtJ.NS,[],e.grade))},t.prototype.qs=function(e){if(e){var t=e,n=App.MG.treasuryNotices;n=[],t&&t.length>0&&(App.MG.treasuryNotices=t),vkG.$d(UtJ.YGK)}},t.prototype.bj=function(e){if(e){var t=e;t&&t.length>0&&(App.MG.treasuryReports=t),vkG.$d(UtJ.MG)}},t.LR=function(e,t){App.BX.PpQ(86,void 0,null,t,e)},t._P=function(e){App.BX.PpQ(99,null,null,null,e)},t.OL=function(){App.BX.PpQ(283,null)},t.prototype.__luckEggDropHandler=function(e){if(e){var t=e,n=[];if(t&&t.length>0)for(var i=void 0,r=void 0,a=0;a<t.length;a++)i=GObj.$c(nlwj),r=t[a],i.tid=r.id,i.count=r.count,n.push(i);vkG.$d(UtJ.IF,n)}},t.prototype.jn=function(e){e&&(App.WV.personalRecord=e,vkG.$d(UtJ.QN))},t.prototype.lx=function(e){e&&(App.WV.crossRecord=e,vkG.$d(UtJ.RCH))},t.prototype.xp=function(e){e&&(App.MG.mergeChargeInfo=e,vkG.$d(UtJ.R_M))},t.XW=function(e,t){App.BX.PpQ(1039,e,t)},t}(BQO);__reflect(FunnyMsgProxy.prototype,"FunnyMsgProxy");var GoalMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(89,e.ha,e),App.BX.addEventListener(90,e.pp,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(89,e.ha,e),App.BX.removeEventListener(90,e.pp,e)},t.prototype.ha=function(e){if(e){App.AT.crs!=e.crs&&App.AT.init(),App.AT.crs=e.crs||1,App.AT.currDay=e.index;for(var t,n,i=e.data,r=i.length,a=0;r>a;a++)t=App.AT.getGoalDayInfoByDay(a),t||(t=GObj.$c(GoalDayInfo),App.AT.addGoalDayInfoByDay(a,t)),n=i[a],this.oto(n,t);vkG.$d(UtJ.FPF)}},t.prototype.pp=function(e){if(e){var t=App.AT.getGoalDayInfoByDay(e.index-1);t&&(t.rank=e.rank||0,t.data=e.data||null,t.arg=e.arg||0,t.extDesc=e.extDesc||"",vkG.$d(UtJ.TIF))}},t.LN=function(e,t){App.BX.PpQ(85,e,t)},t}(BQO);__reflect(GoalMsgProxy.prototype,"GoalMsgProxy");var GoodsMsgProxy=function(e){function t(){var t=e.call(this)||this;return t.ix=!0,t._changeProperties=[null],t.tw={},t.tw[0]=!0,t.tw[1]=!0,t.tw[2]=!0,t.tw[3]=!0,t.tw[4]=!0,t.tw[5]=!0,t.tw[6]=!0,t.tw[7]=!0,t.uz=[],t.oe=[],t.ts=[],t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(2,e["if"],e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(2,e["if"],e)},t.prototype["if"]=function(e){var t=this;if(e instanceof Array){t.beginChange(),App.FK.resetUpdateCount();var n=e,i=n.length;i>0&&!this[0]&&(this[0]=[]);var r,a,o;t.uz.splice(0,t.uz.length),t.oe.splice(0,t.oe.length),t.ts.splice(0,t.ts.length);for(var s=!1,p=0;i>p;p++){r=n[p],r.id>0&&this[0].indexOf(r.id)<0&&this[0].push(r.id),o=App.FK.getnlwjByGoodsId(r.id);var l=r.op||0;if(l>0)if(a=r.count,r.id&&o&&(a=r.count-o.count),1==l){if(o){App.FK.deletenlwjByGoodsId(r.id),t.xt(o.btype)&&t.hp(o.tid,o.count,0),Iwrv.MF==QNV.masterType(o.tid)&&(s=!0);continue}}else 2==l||5==l?2==l&&vkG.$d(UtJ.GC,r.tid,a):4==l?App.MB.addCampGoods(r.tid,a):8==l?(a=r.count,o&&(a=r.count-o.count),t.oe.push({tid:r.tid,count:a})):9==l&&(a=r.count,o&&(a=r.count-o.count),t.ts.push({tid:r.tid,count:a}));else a=r.count,o&&(a=r.count-o.count),t.uz.push({tid:r.tid,count:a});!o&&r.id>0?(a=r.count,o=GObj.$c(nlwj),o.btype=r.btype,App.FK.setnlwjByGoodsId(r.id,o)):a=r.id?r.count-o.count:r.count,!t.tw[l]&&a>0&&!t.ix&&App.FK.addNewGoodsDelay(r.tid,a),o&&(o.btype!=r.btype?(t.xt(r.btype)?t.hp(r.tid,0,r.count):t.hp(r.tid,o.count,0),App.FK.deletenlwjByGoodsId(o.id),o.btype=r.btype,App.FK.setnlwjByGoodsId(o.id,o)):t.xt(r.btype)&&t.hp(r.tid,o.count,r.count),t.oto(r,o))}t.commitChange(),App.FK.commitUpdateCount(),!t.ix&&t.uz.length>0&&vkG.$d(UtJ.KE,t.uz),!t.ix&&t.oe.length>0&&vkG.$d(UtJ._FG,t.oe),!t.ix&&t.ts.length>0&&App.VS.popup(null,NewGoodsEffectPopUI,void 0,t.ts),t.ix&&(t.ix=!1),s&&vkG.$d(UtJ.XY_)}},t.prototype.xt=function(e){switch(e){case 1:case 10:return!0}return!1},t.prototype.commitChange=function(){this[0]&&this[0].length>0&&vkG.$d(UtJ.DV,this[0])},t.prototype.hp=function(e,t,n){var i=this;t!=n&&(i.goodsCount[e]||(i.goodsCount[e]=0),i.goodsCount[e]=i.goodsCount[e]+(n-t))},t.TI=function(e,t){SocketManager.instance.PpQ(2,0,e,t)},t.BB=function(e,t){SocketManager.instance.PpQ(3,0,e,t)},t.QA=function(e,t,n){var i=[301,302,303,304];if(QNV.isSpiritEquipGoods(n))SocketManager.instance.PpQ(4,e,8,t);else if(10==e)SocketManager.instance.PpQ(4,e,9,t);else if(i.indexOf(QNV.VS(n))>=0){var r=XCA.FR(n);if(!r||!r.p7)return;var a=parseInt(r.p7.split(",")[1]);OfficialMsgProxy.BI(a,3,1)}else QNV.EO(n)?SocketManager.instance.PpQ(4,e,12,t):QNV.JI(n)?SocketManager.instance.PpQ(4,e,13,t):SocketManager.instance.PpQ(4,e,2,t)},t.TR=function(e){SocketManager.instance.PpQ(5,0,void 0,void 0,e)},Object.defineProperty(t.prototype,"goodsCount",{get:function(){return App.FK.goodsCountDic},enumerable:!0,configurable:!0}),t.JD=function(e){SocketManager.instance.PpQ(8,0,void 0,void 0,e)},t.YL=function(e){SocketManager.instance.PpQ(127,0,void 0,void 0,e)},t.AK=function(e,t){App.BX.PpQ(132,void 0,e,t)},t.NT=function(e){App.BX.PpQ(173,void 0,void 0,void 0,e)},t.WI=function(e){App.BX.PpQ(134,void 0,e)},t.WE=function(e){App.BX.PpQ(1020,void 0,e)},t.HF=function(e){App.BX.PpQ(1019,void 0,e)},t}(BQO);__reflect(GoodsMsgProxy.prototype,"GoodsMsgProxy");var HarryMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(106,e.ye,e),App.BX.addEventListener(108,e.ew,e),App.BX.addEventListener(111,e.lo,e),App.BX.addEventListener(113,e.jw,e),App.BX.addEventListener(112,e.pq,e),App.BX.addEventListener(107,e.qp,e),App.BX.addEventListener(114,e.cc,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(106,e.ye,e),App.BX.removeEventListener(108,e.ew,e),App.BX.removeEventListener(111,e.lo,e),App.BX.removeEventListener(113,e.jw,e),App.BX.removeEventListener(112,e.pq,e),App.BX.removeEventListener(107,e.qp,e),App.BX.removeEventListener(114,e.cc,e)},t.prototype.qp=function(e){App.MT.start=!0,vkG.$d(UtJ.DSF)},t.prototype.pq=function(e){e&&(App.MT.lastReliveTime=e.lsecs,vkG.$d(UtJ.JW))},t.prototype.jw=function(e){if(e){App.MT.start=!1;var t=App.MT.harryResultsVo;t||(t=App.MT.harryResultsVo=GObj.$c(HarryResultsVO)),this.oto(e,t),10==App.UY.sceneType&&App.VS.popup(null,KqZ.GR)}},t.prototype.lo=function(e){if(e){if(e.boxv&&(App.MT.harryBoxRes=e.boxv),e.dbval){var t=App.MT.harryVo;t.dbval=e.dbval}vkG.$d(UtJ.KU)}},t.prototype.ew=function(e){if(e){var t=App.MT.harryScoreVo;this.oto(e,t),vkG.$d(UtJ.OH)}},t.prototype.ye=function(e){var t=this;if(e){var n=App.MT.harryVo,i=n.winner;t.oto(e,n),e.winner&&(t.oto(e.winner,i),i.sex=e.winner.head),n.winner=i,n.winner&&(App.MT.defFid=n.winner.fid),vkG.$d(UtJ.RN)}},t.prototype.cc=function(e){e&&vkG.$d(UtJ.ZFT,e)},t.VE=function(e){App.BX.PpQ(107,void 0,e)},t.OX=function(){App.BX.PpQ(108,void 0)},t}(BQO);__reflect(HarryMsgProxy.prototype,"HarryMsgProxy");var HiddenWeaponMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(300,e.sh,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(300,e.sh,e)},t.prototype.sh=function(e){if(e){var t,n,i=App.OX.hwInfo,r=[];for(var a in e)t=parseInt(a),isNaN(t)||(n=i[t],!n&&(n=i[t]={}),this.oto(e[a],n),r.push(t));vkG.$d(UtJ.WTM,r)}},t.HK=function(e){App.BX.PpQ(294,void 0,e)},t.GC=function(e,t){App.BX.PpQ(293,e,t)},t.XI=function(e,t,n){App.BX.PpQ(295,void 0,e,t,n)},t.DV=function(e){App.BX.PpQ(296,void 0,e)},t}(BQO);__reflect(HiddenWeaponMsgProxy.prototype,"HiddenWeaponMsgProxy");var HoroskopMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(317,e.xc,e),App.BX.addEventListener(318,e.tc,e),App.BX.addEventListener(324,e.ky,e),App.BX.addEventListener(320,e.me,e),App.BX.addEventListener(321,e.qo,e),App.BX.addEventListener(325,e.mv,e),App.BX.addEventListener(319,e.nn,e),App.BX.addEventListener(326,e.zp,e),App.BX.addEventListener(327,e.pb,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(317,e.xc,e),App.BX.removeEventListener(318,e.tc,e),App.BX.removeEventListener(324,e.ky,e),App.BX.removeEventListener(320,e.me,e),App.BX.removeEventListener(321,e.qo,e),App.BX.removeEventListener(325,e.mv,e),App.BX.removeEventListener(319,e.nn,e),App.BX.removeEventListener(326,e.zp,e),App.BX.removeEventListener(327,e.pb,e)},t.prototype.me=function(e){e&&(this.oto(e,App.OF.generalEliminate),vkG.$d(UtJ.LBI))},t.prototype.qo=function(e){e&&(this.oto(e,App.OF.generalEliminate),vkG.$d(UtJ.QY))},t.prototype.mv=function(e){e&&(this.oto(e,App.OF.generalEliminate),vkG.$d(UtJ.IV))},t.prototype.xc=function(e){e&&(this.oto(e,App.OF.eliminateInfo),vkG.$d(UtJ.K_))},t.prototype.zp=function(e){if(e){if(this.oto(e,App.OF.eliminateInfo),2==App.OF.eliminateInfo.code||3==App.OF.eliminateInfo.code){var t=GObj.$c(HoroskopSettlementPopUi);t.loU(App.OF.eliminateInfo.code,1),t.show()}vkG.$d(UtJ.RT)}},t.prototype.pb=function(e){if(e){if(this.oto(e,App.OF.generalEliminate),2==App.OF.generalEliminate.code||3==App.OF.generalEliminate.code){var t=GObj.$c(HoroskopSettlementPopUi);t.loU(App.OF.generalEliminate.code,2),t.show()}vkG.$d(UtJ.VGD)}},t.prototype.ky=function(e){e&&(this.oto(e,App.OF.eliminateInfo),vkG.$d(UtJ.SVO))},t.prototype.tc=function(e){e&&(this.oto(e,App.OF.eliminateInfo),vkG.$d(UtJ.RMY))},t.prototype.nn=function(e){e&&e.bcd&&(App.OF.eliminateInfo.bcd=e.bcd,vkG.$d(UtJ.ARQ))},t.CS=function(e,t,n){App.BX.PpQ(300,e,t,n)},t.KT=function(e,t,n){App.BX.PpQ(304,e,t,n)},t}(BQO);__reflect(HoroskopMsgProxy.prototype,"HoroskopMsgProxy");var IndulgeMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(82,e.fy,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(82,e.fy,e)},t.prototype.fy=function(e){if(e){var t=App.JA.indulgeVO||GObj.$c(IndulgeVo);t.isInAAS=1===e.isInAAS,t.initTime=e.t,t.time=GApp.timer,t.isWrite=1===e.alreadyadu,t.age=e.age||18,vkG.$d(UtJ.NA)}},t.QK=function(e){void 0===e&&(e=-1),App.BX.PpQ(148,void 0,e)},t}(BQO);
__reflect(IndulgeMsgProxy.prototype,"IndulgeMsgProxy");var KnightMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(134,e.pf,e),App.BX.addEventListener(141,e.j_,e),App.BX.addEventListener(217,e.ew,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(134,e.pf,e),App.BX.removeEventListener(141,e.j_,e),App.BX.removeEventListener(217,e.ew,e)},t.prototype.j_=function(e){if(e){e.cap&&(App.JUY.bondsCap=e.cap);var t,n=[];for(var i in e)App.JUY.bondsInfos[i]=e[i],t=parseInt(i),isNaN(t)||n.push(t);vkG.$d(UtJ.LN,n)}},t.prototype.pf=function(e){if(e){e.cap&&(App.JUY.totalCap=e.cap);var t,n=[];for(var i in e)t=parseInt(i),isNaN(t)||(App.JUY.knightInfos[t]=e[i],n.push(t));vkG.$d(UtJ.ZT,n)}},t.prototype.ew=function(e){if(e){e.cap&&(App.JUY.collKnightCap=e.cap);var t,n=[];for(var i in e)t=parseInt(i),isNaN(t)||(App.JUY.collKnightInfo[t]=e[i],n.push(t));vkG.$d(UtJ.ZR,n)}},t.TI=function(e){App.BX.PpQ(130,void 0,e)},t.OP=function(e){App.BX.PpQ(136,void 0,e)},t.BW=function(e){App.BX.PpQ(204,void 0,e)},t}(BQO);__reflect(KnightMsgProxy.prototype,"KnightMsgProxy");var LuckyDrawMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(242,e.uc,e),App.BX.addEventListener(241,e.t_,e),App.BX.addEventListener(243,e.ah,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(242,e.uc,e),App.BX.removeEventListener(241,e.t_,e),App.BX.removeEventListener(243,e.ah,e)},t.prototype.uc=function(e){e&&(App.GY.crossRecord=e,vkG.$d(UtJ.YR,3))},t.prototype.t_=function(e){e&&(App.GY.personalRecord=e,vkG.$d(UtJ.YR,2))},t.prototype.ah=function(e){e&&(e.levels&&(App.GY.levels=e.levels),e.endTime&&(App.GY.endTime=e.endTime),vkG.$d(UtJ.YR,1))},t.VU=function(e){App.BX.PpQ(230,void 0,e)},t}(BQO);__reflect(LuckyDrawMsgProxy.prototype,"LuckyDrawMsgProxy");var MagicBladeProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1007,e.m_,e),App.BX.addEventListener(1008,e.yn,e),App.BX.addEventListener(1010,e.yp,e),App.BX.addEventListener(1009,e.uj,e),App.BX.addEventListener(1017,e.wa,e),App.BX.addEventListener(1018,e.ff,e),App.BX.addEventListener(1019,e.na,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1007,e.m_,e),App.BX.removeEventListener(1008,e.yn,e),App.BX.removeEventListener(1010,e.yp,e),App.BX.removeEventListener(1009,e.uj,e),App.BX.removeEventListener(1017,e.wa,e),App.BX.removeEventListener(1018,e.ff,e),App.BX.removeEventListener(1019,e.na,e)},t.prototype.m_=function(e){e&&(this.oto(e,App.FX.advancedvo),e[1]&&(App.FX.advancedvo.g=e[1]),vkG.$d(UtJ.RCV))},t.prototype.yn=function(e){if(e){for(var t in e)App.FX.risingstarvo.starArr[t]=e[t];vkG.$d(UtJ.TCN)}},t.prototype.yp=function(e){e&&(App.FX.fateInfo=e,vkG.$d(UtJ.OE))},t.prototype.uj=function(e){e&&(App.FX.awakenInfo=e,vkG.$d(UtJ.CV))},t.prototype.wa=function(e){e&&(this.oto(e,App.FX.magicFairyStarInfo),vkG.$d(UtJ.ZK))},t.prototype.ff=function(e){e&&(this.oto(e,App.FX.magicFairyUpInfo),vkG.$d(UtJ.XF))},t.prototype.na=function(e){e&&(this.oto(e,App.FX.magicFairyFetterInfo),vkG.$d(UtJ.ZW_))},t.BR=function(e){App.BX.PpQ(1006,e,1)},t.NX=function(e){App.BX.PpQ(1007,1,e)},t.HL=function(e){App.BX.PpQ(1008,1,1,e)},t.OG=function(e){App.BX.PpQ(1009,1,e)},t.OD=function(){App.BX.PpQ(1010,1,99)},t.CK=function(e,t){App.BX.PpQ(1011,e,t)},t.HG=function(e){App.BX.PpQ(1022,1,e)},t.JL=function(e,t){App.BX.PpQ(1023,e,t)},t.XD=function(e){App.BX.PpQ(1024,1,e)},t}(BQO);__reflect(MagicBladeProxy.prototype,"MagicBladeProxy");var MapMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(30,e.ye,e),App.BX.addEventListener(31,e.tb,e),App.BX.addEventListener(94,e.pz,e),App.BX.addEventListener(32,e.re,e),App.BX.addEventListener(38,e.xy,e),App.BX.addEventListener(36,e.rt,e),App.BX.addEventListener(44,e.nu,e),App.BX.addEventListener(45,e.wn,e),App.BX.addEventListener(40,e.zs,e),App.BX.addEventListener(98,e.jn,e),App.BX.addEventListener(34,e.qq,e),App.BX.addEventListener(37,e.ur,e),App.BX.addEventListener(46,e._y,e),App.BX.addEventListener(174,e.ks,e),App.BX.addEventListener(316,e.vz,e),App.BX.addEventListener(1001,e.rd,e),App.BX.addEventListener(1035,e.hq,e),App.BX.addEventListener(1038,e.wd,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(30,e.ye,e),App.BX.removeEventListener(31,e.tb,e),App.BX.removeEventListener(94,e.pz,e),App.BX.removeEventListener(32,e.re,e),App.BX.removeEventListener(38,e.xy,e),App.BX.removeEventListener(36,e.rt,e),App.BX.removeEventListener(44,e.nu,e),App.BX.removeEventListener(45,e.wn,e),App.BX.removeEventListener(40,e.zs,e),App.BX.removeEventListener(98,e.jn,e),App.BX.removeEventListener(34,e.qq,e),App.BX.removeEventListener(37,e.ur,e),App.BX.removeEventListener(46,e._y,e),App.BX.removeEventListener(174,e.ks,e),App.BX.removeEventListener(316,e.vz,e),App.BX.removeEventListener(1001,e.rd,e),App.BX.removeEventListener(1035,e.hq,e),App.BX.removeEventListener(1038,e.wd,e)},t.prototype.jn=function(e){if(e){var t,n=e.type||1;switch(n){case 1:t=fvg.GVf(36);break;case 2:t=fvg.GVf("crossarena29")}usable(t)&&Alert.WK(t,null,Alert.EX,App.UY.enterChapter,App.UY,null,App.UY.enterChapter)}},t.prototype.rd=function(e){var t=e;if(t){for(var n,i,r=[],a=t.length,o=0;a>o;o++)i=t[o],n=GObj.$c(RobotVO),this.oto(i,n),n.type=6,r.push(n);vkG.$d(UtJ.JK,r)}},t.prototype.zs=function(e){vkG.$d(UtJ.ZW,e)},t.prototype._y=function(e){App.MB.realmBox=e,vkG.$d(UtJ.RD,e)},t.prototype.wn=function(e){vkG.$d(UtJ.FE,e)},t.prototype.vz=function(e){var t=e?e.type||0:0;vkG.$d(UtJ.QA,t)},t.prototype.nu=function(e){var t=e?e.r||0:0;vkG.$d(UtJ.JC,t)},t.prototype.ur=function(e){vkG.$d(UtJ.AA,e)},t.prototype.rt=function(e){vkG.$d(UtJ.QO,e)},t.prototype.hq=function(e){(e.firstAtkBelong||e.belongUid)&&vkG.$d(UtJ.XE,e)},t.prototype.wd=function(e){(e.firstAtkBelong||e.belongUid)&&vkG.$d(UtJ.SY,e)},t.prototype.xy=function(e){e&&(App.MB.realmAp=e.ap||0,App.MB.ymgAvgPass=e.l||0,App.PQ.state=e.team||0,e.mapid&&vkG.$d(UtJ.II,e))},t.prototype.qq=function(e){var t=e;if(t){var n=t.length;if(!(0>=n)){for(var i,r,a,o=[],s=0;n>s;s++)r=t[s],r&&(i=GObj.$c(NodeVO),i.id=r.tid,i.index=r.p4,i.name=r.name,i.model=r.model,i.x=r.x,i.y=r.y,i.nodeType=r.type,i.state=r.state,i.rtime=r.rtime,i.p1=r.p1,i.icon=r.icon,i.road=r.road||0,i.rehprate=r.rehprate||0,a=GObj.$c(DnQ),a.init(),r.aid&&a.setAttrTemp(XCA.YV(r.aid)),r.attr&&this.oto(r.attr,a),r.hp&&(a.hp=r.hp,a.lefthp=r.hp),i.attr=a,o.push(i));vkG.$d(UtJ.QG,o)}}},t.prototype.ye=function(e){vkG.$d(UtJ.JQ,e)},t.prototype.tb=function(e){var t=this,n=e;if(n){for(var i,r,a=[],o=n.length,s=0;o>s;s++)r=n[s],r.type&&3==r.type?(i=GObj.$c(RobotVO),t.oto(r,i),i.type=6):(i=GObj.$c(RoleVO),t.oto(r,i),i.type=1),i.attr=GObj.$c(DnQ),i.attr.init(),t.oto(r.attr,i.attr),i.attr.ograde=r.ograde||0,a.push(i);vkG.$d(UtJ.FY,a)}},t.prototype.ks=function(e){vkG.$d(UtJ.AS)},t.prototype.pz=function(e){vkG.$d(UtJ.TP,e)},t.prototype.re=function(e){vkG.$d(UtJ.PR,e.uid,e.path)},t.PU=function(){App.BX.PpQ(1001,void 0)},t.ER=function(){App.BX.PpQ(10007,void 0)},t.AV=function(e,t,n,i){App.BX.PpQ(10005,void 0,e,t,n,i&&i.length>0?i:void 0)},t.NI=function(e,t,n,i){App.BX.PpQ(41,void 0,e,t,n,i)},t.KN=function(e,t){App.BX.PpQ(10004,void 0,e,void 0,t)},t.L_=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=void 0),App.BX.PpQ(6,2,e,t,n)},t.PR=function(){App.BX.PpQ(10006,void 0)},t.ED=function(){App.BX.PpQ(10008,void 0)},t}(BQO);__reflect(MapMsgProxy.prototype,"MapMsgProxy");var AjJ=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(68,e.gd,e),App.BX.addEventListener(66,e.nj,e),App.BX.addEventListener(67,e.xq,e),App.BX.addEventListener(73,e.vz,e),App.BX.addEventListener(75,e.xj,e),App.BX.addEventListener(74,e._z,e),App.BX.addEventListener(77,e.wj,e),App.BX.addEventListener(70,e.wh,e),App.BX.addEventListener(84,e.ea,e),App.BX.addEventListener(104,e.bn,e),App.BX.addEventListener(105,e.ke,e),App.BX.addEventListener(142,e.qf,e),App.BX.addEventListener(144,e.b_,e),App.BX.addEventListener(204,e.ls,e),App.BX.addEventListener(205,e.wx,e),App.BX.addEventListener(232,e.we,e),App.BX.addEventListener(233,e.is,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(68,e.gd,e),App.BX.removeEventListener(66,e.nj,e),App.BX.removeEventListener(67,e.xq,e),App.BX.removeEventListener(73,e.vz,e),App.BX.removeEventListener(75,e.xj,e),App.BX.removeEventListener(74,e._z,e),App.BX.removeEventListener(77,e.wj,e),App.BX.removeEventListener(70,e.wh,e),App.BX.removeEventListener(84,e.ea,e),App.BX.removeEventListener(104,e.bn,e),App.BX.removeEventListener(105,e.ke,e),App.BX.removeEventListener(142,e.qf,e),App.BX.removeEventListener(144,e.b_,e),App.BX.removeEventListener(204,e.ls,e),App.BX.removeEventListener(205,e.wx,e),App.BX.removeEventListener(232,e.we,e),App.BX.removeEventListener(233,e.is,e)},t.prototype.ke=function(e){e&&(App.XB.dutyRankInfo=e,vkG.$d(UtJ.FQ))},t.prototype.bn=function(e){if(e){var t=App.XB.info;this.oto(e,t),vkG.$d(UtJ.AL)}},t.prototype.ea=function(e){e&&(App.XB.dayfeat=e.dayfeat,vkG.$d(UtJ.YL))},t.prototype.wh=function(e){vkG.$d(UtJ.AZ,e)},t.prototype.wj=function(e){App.MB.addRobot(e,RobotVO.martialart_provoke)},t.prototype._z=function(e){if(e&&e.op){var t=App.XB.shop;if(1==e.op&&e.ntime&&(App.XB.shopTime=e.ntime,t={}),e.data)for(var n=e.data.length,i=0;n>i;i++){var r=e.data[i],a=t[r.shopid];a?this.oto(r,a):t[r.shopid]=r}App.XB.shop=t,vkG.$d(UtJ.QZA)}},t.prototype.xj=function(e){vkG.$d(UtJ.NP,e)},t.prototype.vz=function(e){vkG.$d(UtJ.TV,e)},t.prototype.xq=function(e){var t=App.XB.memberList;this.oto(e,t),t.fid&&vkG.$d(UtJ.CT)},t.prototype.nj=function(e){var t=App.XB.info;this.oto(e,t),t.fid&&vkG.$d(UtJ.XW)},t.prototype.gd=function(e){if(e&&!(e.length<5)){var t=e.shift();vkG.$d(UtJ.R_,t,e)}},t.prototype.qf=function(e){e&&(this.oto(e,App.XB.godSkillInfo),vkG.$d(UtJ.RTW))},t.prototype.b_=function(e){e&&(this.oto(e,App.XB.godSkillEnch),vkG.$d(UtJ.AV))},t.prototype.ls=function(e){e&&(this.oto(e,App.XB.godSkillInterInfo),vkG.$d(UtJ.BH))},t.prototype.wx=function(e){e&&(this.oto(e,App.XB.godSkillInterEnch),vkG.$d(UtJ.ITK))},t.prototype.we=function(e){e&&(this.oto(e,App.XB.godSkillJinguInfo),vkG.$d(UtJ.CK))},t.prototype.is=function(e){e&&(this.oto(e,App.XB.godSkillJinguEnch),vkG.$d(UtJ.FU))},t.RD=function(){App.BX.PpQ(75,void 0)},t.QJ=function(e){App.BX.PpQ(74,2,e)},t.KN=function(e){void 0===e&&(e=2),App.BX.PpQ(74,1,e)},t.VA=function(e){App.BX.PpQ(73,void 0,e)},t.NW=function(e){App.BX.PpQ(71,void 0,e)},t.A_=function(e){App.BX.PpQ(72,void 0,e)},t.XW=function(e){void 0===e&&(e=0),App.BX.PpQ(69,void 0,e)},t.WN=function(){App.BX.PpQ(70,void 0)},t.YU=function(e){App.BX.PpQ(66,void 0,e)},t.JN=function(e){App.BX.PpQ(67,void 0,e)},t.OM=function(e){App.BX.PpQ(64,void 0,e)},t.SU=function(e){App.BX.PpQ(63,void 0,e)},t.RE=function(){App.BX.PpQ(65,void 0)},t.QD=function(e){App.BX.PpQ(62,void 0,e)},t.OK=function(){App.BX.PpQ(80,void 0)},t.PC=function(){App.BX.PpQ(101,void 0)},t.KP=function(){App.BX.PpQ(102,void 0)},t.AI=function(e,t){App.BX.PpQ(103,e,t)},t.IX=function(e){App.BX.PpQ(109,void 0,e)},t.IY=function(e){App.BX.PpQ(138,e)},t.FJ=function(e){App.BX.PpQ(139,void 0,e)},t.YE=function(e){App.BX.PpQ(184,e)},t.CA=function(e){App.BX.PpQ(185,void 0,e)},t.BQ=function(e){App.BX.PpQ(153,void 0,e)},t.OU=function(e){App.BX.PpQ(219,e)},t.VH=function(e){App.BX.PpQ(220,void 0,e)},t}(BQO);__reflect(AjJ.prototype,"AjJ");var MineMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(191,e.as,e),App.BX.addEventListener(192,e.vp,e),App.BX.addEventListener(193,e.rb,e),App.BX.addEventListener(194,e.px,e),App.BX.addEventListener(195,e.lb,e),App.BX.addEventListener(196,e._v,e),App.BX.addEventListener(200,e.lv,e),App.BX.addEventListener(299,e.lx,e),App.BX.addEventListener(298,e.bx,e),App.BX.addEventListener(301,e.re,e),App.BX.addEventListener(302,e.cb,e),App.BX.addEventListener(305,e.lap,e),App.BX.addEventListener(303,e.okv,e),App.BX.addEventListener(304,e._lh,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(191,e.as,e),App.BX.removeEventListener(192,e.vp,e),App.BX.removeEventListener(193,e.rb,e),App.BX.removeEventListener(194,e.px,e),App.BX.removeEventListener(195,e.lb,e),App.BX.removeEventListener(196,e._v,e),App.BX.removeEventListener(200,e.lv,e),App.BX.removeEventListener(299,e.lx,e),App.BX.removeEventListener(298,e.bx,e),App.BX.removeEventListener(301,e.re,e),App.BX.removeEventListener(302,e.cb,e),App.BX.removeEventListener(305,e.lap,e),App.BX.removeEventListener(303,e.okv,e),App.BX.removeEventListener(304,e._lh,e)},t.prototype.as=function(e){if(e){var t=App.XQS.mineMainInfo;this.oto(e,t),App.XQS.my_mine_count=App.XQS.mineMainInfo.occupy,vkG.$d(UtJ.VS)}},t.prototype.vp=function(e){if(e){var t=e.aid||0;if(t>0){var n=App.XQS.mineAreaDic[t];n||(App.XQS.mineAreaDic[t]=n={id:0,fid:0}),n.id=t,void 0!=e.fid&&(n.fid=e.fid),delete e.aid,delete e.fid;var i=void 0,r=void 0;for(i in e)r=App.XQS.mineNodeDic[i],r?this.oto(e[i],r):App.XQS.mineNodeDic[i]=e[i];vkG.$d(UtJ.SD,t)}}},t.prototype.rb=function(e){if(e){var t=e.id||0;if(t>0){var n=App.XQS.mineNodeDic[t];n?this.oto(e,n):App.XQS.mineNodeDic[t]=e,vkG.$d(UtJ.DI,t)}}},t.prototype.px=function(e){var t=this;if(e){var n=App.XQS.myMineInfo;void 0!=e.award&&(t.oto(e.award,n.award),delete e.award),t.oto(e,n),App.XQS.mineMainInfo.occupy=n.my.length,App.XQS.mineMainInfo.hcount=n.help.length,App.XQS.my_mine_count=App.XQS.mineMainInfo.occupy,vkG.$d(UtJ.WL)}},t.prototype.lb=function(e){if(e){var t=e.code||0;t>0&&App.TT.show(fvg.GVf("mine55_"+t))}},t.prototype._v=function(e){if(e){var t=GObj.$c(MineBattleFrame,e);t.show()}},t.prototype.lv=function(e){e&&(App.XQS.logInfoDic=e,vkG.$d(UtJ.HNT))},t.MV=function(){App.BX.PpQ(177,void 0)},t.CH=function(e){App.BX.PpQ(178,void 0,e)},t.KW=function(e,t){App.BX.PpQ(179,void 0,e,t)},t.QI=function(e){App.BX.PpQ(180,void 0,e)},t.ID=function(){App.BX.PpQ(181,void 0)},t.CP=function(e,t){App.BX.PpQ(22014,e,t)},t.prototype.lx=function(e){if(e){var t=App.XQS.mineBeautyMainInfo;this.oto(e,t),App.XQS.my_beauty_mine_count=App.XQS.mineBeautyMainInfo.myoccupy,vkG.$d(UtJ.ZQ)}},t.prototype.re=function(e){if(e){var t=e.aid||0;if(t>0){var n=App.XQS.mineBeautyAreaDic[t];n||(App.XQS.mineBeautyAreaDic[t]=n={id:0,fid:0}),n.id=t,void 0!=e.fid&&(n.fid=e.fid),delete e.aid,delete e.fid;var i=void 0,r=void 0;for(i in e)r=App.XQS.mineBeautyNodeDic[i],r?this.oto(e[i],r):App.XQS.mineBeautyNodeDic[i]=e[i];vkG.$d(UtJ.UJ,t)}}},t.prototype.okv=function(e){if(e){var t=e.id||0;if(t>0){var n=App.XQS.mineBeautyNodeDic[t];n?this.oto(e,n):App.XQS.mineBeautyNodeDic[t]=e,vkG.$d(UtJ.IP,t)}}},t.prototype.cb=function(e){var t=this;if(e){var n=App.XQS.myBeautyMineInfo;void 0!=e.award&&(t.oto(e.award,n.award),delete e.award),t.oto(e,n),App.XQS.mineBeautyMainInfo.occupy=n.my.length,App.XQS.mineBeautyMainInfo.hcount=n.help.length,App.XQS.my_beauty_mine_count=App.XQS.mineBeautyMainInfo.occupy,vkG.$d(UtJ.YNK)}},t.prototype.bx=function(e){if(e){var t=e.code||0;t>0&&App.TT.show(fvg.GVf("mine55_"+t))}},t.prototype.lap=function(e){if(e){var t=GObj.$c(MineBeautyBattleFrame,e);t.show()}},t.prototype._lh=function(e){e&&(App.XQS.logBeautyInfoDic=e,vkG.$d(UtJ.X_))},t.UQ=function(){App.BX.PpQ(289,void 0)},t.ED=function(e){App.BX.PpQ(289,void 0,e)},t.EH=function(e,t,n){App.BX.PpQ(290,void 0,e,n,t)},t.XD=function(){App.BX.PpQ(181,void 0)},t.TZ=function(e){App.BX.PpQ(291,void 0,e)},t.ZJ=function(e){App.BX.PpQ(22016,e)},t}(BQO);__reflect(MineMsgProxy.prototype,"MineMsgProxy");var OfficialMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(216,e.ec,e),App.BX.addEventListener(306,e.qb,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(216,e.ec,e),App.BX.removeEventListener(306,e.qb,e)},t.prototype.ec=function(e){e&&(this.oto(e,App._B.offiInfo),vkG.$d(UtJ.HX))},t.prototype.qb=function(e){if(e){if(e.scap_)for(var t in e.scap_)App._B.battleCapDict[t]=e.scap_[t];this.oto(e,App._B.battleEquipInfo),vkG.$d(UtJ.WF)}},t.NL=function(){App.BX.PpQ(202,void 0,1)},t.UW=function(){App.BX.PpQ(203,void 0)},t.BI=function(e,t,n){App.BX.PpQ(297,t,e,void 0,n)},t}(BQO);__reflect(OfficialMsgProxy.prototype,"OfficialMsgProxy");var NXr=function(e){function t(){var t=e.call(this)||this;return t.ev=!0,t.gc=!0,t.ap=!0,t._changeProperties=[!1,!1,!1,!1,0,!1,!1,!1,!1,!1,!1,!1,!1,!1],t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1,e.mp,e),App.BX.addEventListener(5,e.zw,e),App.BX.addEventListener(6,e.nl,e),App.BX.addEventListener(13,e.em,e),App.BX.addEventListener(14,e.ya,e),App.BX.addEventListener(15,e.bn,e),App.BX.addEventListener(12,e.sy,e),App.BX.addEventListener(26,e.sj,e),App.BX.addEventListener(35,e.ij,e),App.BX.addEventListener(43,e.xb,e),App.BX.addEventListener(50,e.yx,e),App.BX.addEventListener(83,e.vx,e),App.BX.addEventListener(81,e.ld,e),App.BX.addEventListener(86,e.dc,e),App.BX.addEventListener(95,e.yj,e),App.BX.addEventListener(97,e.cd,e),App.BX.addEventListener(26,e.qn,e),App.BX.addEventListener(130,e.ww,e),App.BX.addEventListener(53,e.nm,e),App.BX.addEventListener(150,e.kz,e),App.BX.addEventListener(165,e.fj,e),App.BX.addEventListener(216,e.dh,e),App.BX.addEventListener(231,e.ts,e),App.BX.addEventListener(238,e.vz,e),App.BX.addEventListener(239,e.ui,e),App.BX.addEventListener(1039,e.mq,e),App.BX.addEventListener(244,e.to,e),App.BX.addEventListener(328,e.ke,e),App.BX.addEventListener(1006,e.iu,e),App.BX.addEventListener(1011,e.tz,e),App.BX.addEventListener(71,e.zx,e),App.BX.addEventListener(1016,e.jv,e),App.BX.addEventListener(1032,e.xx,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1,e.mp,e),App.BX.removeEventListener(5,e.zw,e),App.BX.removeEventListener(6,e.nl,e),App.BX.removeEventListener(13,e.em,e),App.BX.removeEventListener(14,e.ya,e),App.BX.removeEventListener(15,e.bn,e),App.BX.removeEventListener(12,e.sy,e),App.BX.removeEventListener(26,e.sj,e),App.BX.removeEventListener(35,e.ij,e),App.BX.removeEventListener(43,e.xb,e),App.BX.removeEventListener(50,e.yx,e),App.BX.removeEventListener(83,e.vx,e),App.BX.removeEventListener(81,e.ld,e),App.BX.removeEventListener(86,e.dc,e),App.BX.removeEventListener(95,e.yj,e),App.BX.removeEventListener(97,e.cd,e),App.BX.removeEventListener(26,e.qn,e),App.BX.removeEventListener(130,e.ww,e),App.BX.removeEventListener(53,e.nm,e),App.BX.removeEventListener(150,e.kz,e),App.BX.removeEventListener(165,e.fj,e),App.BX.removeEventListener(216,e.dh,e),App.BX.removeEventListener(231,e.ts,e),App.BX.removeEventListener(238,e.vz,e),App.BX.removeEventListener(239,e.ui,e),App.BX.removeEventListener(1039,e.mq,e),App.BX.removeEventListener(244,e.to,e),App.BX.removeEventListener(328,e.ke,e),App.BX.removeEventListener(1006,e.iu,e),App.BX.removeEventListener(1011,e.tz,e),App.BX.removeEventListener(71,e.zx,e),App.BX.removeEventListener(1016,e.jv,e),App.BX.removeEventListener(1032,e.xx,e)},t.prototype.jv=function(e){if(!isNaN(e)){var t=e;App.KF.vipcard=t,vkG.$d(UtJ.KV)}},t.prototype.zx=function(e){e&&(StaticData.HIDE_OTHER_EFFECT=1===e[SetKey.KN],StaticData.AUTO_FAKE_SKILL=1===e[SetKey.HI])},t.prototype.tz=function(e){e&&(e[1]&&(App.EO.vipInfo.vipGrade=e[1]),isNaN(e.award)||(App.EO.vipInfo.rewardState=e.award),void 0!=e.fvipGp&&null!=e.fvipGp&&(App.EO.vipInfo.chargeGp=e.fvipGp),vkG.$d(UtJ.IK))},t.prototype.iu=function(e){if(!isNaN(e)){var t=e;App.KF.rewardState=t,vkG.$d(UtJ.T_)}},t.prototype.ke=function(e){e&&(this.oto(e,PlayerManager.instance.jkU),vkG.$d(UtJ.PJ))},t.prototype.vx=function(e){if(e){var t=PlayerManager.instance.jkU,n=!1;e.apid>=0&&App.KF.apid!=e.apid&&(n=!0),this.oto(e,t),vkG.$d(UtJ.FA),n&&vkG.$d(UtJ.ZB)}},t.prototype.mp=function(e){var t=this;t.beginChange();var n=PlayerManager.instance.jkU;isNaN(e.gunfu)||(QycO._A=!!e.gunfu),e.name&&n.name!=e.name&&(this[0]=!0),void 0!=e.grade&&n.grade!=e.grade&&(this[1]=!0),void 0!=e.gold&&n.gold!=e.gold&&(this[2]=!0),void 0!=e.point&&n.point!=e.point&&(this[2]=!0),void 0!=e.gp&&n.gp!=e.gp&&(this[3]=!0),e.chapter&&n.chapter!=e.chapter&&(this[6]=!0),e.allcharge&&(App.XT.vipInfo.chargeGp=e.allcharge,n.allcharge!=e.allcharge&&(this[7]=!0)),e.monthcharge&&(App.KF.monthcharge=e.monthcharge),e.award&&n.award!=e.award&&(this[9]=!0),e.cul&&n.cul!=e.cul&&(this[12]=!0),void 0!=e.obgp&&n.obgp!=e.obgp&&(this[13]=!0),void 0!=e.lighting&&n.lighting!=e.lighting&&(this[17]=!0),void 0!=e.ushr&&n.ushr!=e.ushr&&(this[18]=!0),void 0!=e.uscr&&n.uscr!=e.uscr&&(this[19]=!0),isNaN(e.canCharge)||n.canCharge===e.canCharge||(n.canCharge=e.canCharge,vkG.$d(UtJ.TM),console.log("canCharge:canCharge="+e.canCharge)),t.oto(e,n),n.init(),t.commitChange(),App.VX.reportedLogin(1)},t.prototype.zw=function(e){var t=this;if(e){t.beginChange();var n=PlayerManager.instance.playerAttrsInfo;e.cap&&e.cap!=n.cap&&(this[4]=int(e.cap-n.cap)),t.oto(e,n),t.commitChange(),App.VX.reportedLogin(2),vkG.$d(UtJ.FP)}},t.prototype.nl=function(e){var t=this;if(e){var n,i,r=[],a=App.BG.stageBoxState;for(var o in e)-1!=o.indexOf("seg_")&&(i=o.split("_"),n=parseInt(i[1]),i.length<=2?a[n]=e[o]:a[n+"_"+i[2]]=e[o],r.push(n),delete e[o]);t.beginChange();var s=PlayerManager.instance.jkU;e.sp&&e.sp!=s.sp&&(this[5]=!0),e.acvalue&&e.acvalue!=s.acvalue&&(this[11]=!0),e.acbox&&e.acbox!=s.acbox&&(this[10]=!0),e.happy_clear!=s.happy_clear&&(this[14]=!0),e.hcccp!=s.hcccp&&(this[15]=!0),e.fpjt!=s.fpjt&&(this[16]=!1),void 0!=e.charm&&s.charm!=e.charm&&(this[20]=!0),t.oto(e,s),t.commitChange(),r.length>0&&vkG.$d(UtJ.PT,r)}},t.prototype.em=function(e){if(e){var t=App.BG.turnupInfo;if(e[0]){var n=parseInt(e[0]);n!==t.grade&&(t.grade=n,vkG.$d(UtJ.SS))}e.cap&&(t.cap=e.cap),e.v1>=0&&(t.cond_prog_1=e.v1),e.v2>=0&&(t.cond_prog_2=e.v2),e.v3>=0&&(t.cond_prog_3=e.v3),e.v4>=0&&(t.cond_prog_4=e.v4),e.trial>=0&&(t.trial=e.trial),vkG.$d(UtJ.IYL)}},t.prototype.to=function(e){e&&(this.oto(e,App.BG.shopValueInfo),vkG.$d(UtJ.KI))},t.prototype.dh=function(e){e&&(this.oto(e,App.BG.officialInfo),vkG.$d(UtJ.QR))},t.prototype.ya=function(e){if(e){var t=[];for(var n in e)App.BG.speciaEquipInfo[n]=parseInt(e[n]),t.push(parseInt(n));vkG.$d(UtJ.NM,t)}},t.prototype.bn=function(e){if(e){var t=[];for(var n in e)isNaN(parseInt(n))||(App.BG.eightDoorsInfo[n]=parseInt(e[n]),t.push(parseInt(n)));App.BG.eightDoorsCap=e.cap||0,vkG.$d(UtJ.RV,t)}},t.prototype.sy=function(e){var t=this;if(e){var n,i=App.BG.superEquipInfo;for(var r in e)n=!1,isNaN(parseInt(r))?i[r]=e[r]:(i[r]||t.ev||(n=!0),i[r]=parseInt(e[r]),n&&1==i[r]&&t.lh(parseInt(r)));(e.use||0==e.use)&&(App.BG.superEquipUse=e.use),t.ev=!1;var a=App.BG.superequipCastingInfo;for(var r in e)isNaN(parseInt(r))||(a[r]||(a[r]=GObj.$c(SuperequipCastingInfo,parseInt(r))),a[r].grade=parseInt(e[r]));vkG.$d(UtJ.NH)}},t.prototype.ts=function(e){if(e){var t=App.BG.spectrumInfo;for(var n in e)t[n]=e[n];vkG.$d(UtJ.BF)}},t.prototype.yj=function(e){var t=this;if(e){var n,i=App.BG.fashionInfo;for(var r in e)n=!1,isNaN(parseInt(r))?i[r]=e[r]:(i[r]||t.gc||(n=!0),i[r]=parseInt(e[r]),n&&1==i[r]&&t.tw(parseInt(r)));(e.use||0==e.use)&&(App.BG.fashionUse=e.use),vkG.$d(UtJ.TS),t.gc=!1}},t.prototype.cd=function(e){e&&(this.oto(e,App.BG.rechargeCount),vkG.$d(UtJ.MO))},t.prototype.lh=function(e){},t.prototype.tw=function(e){},t.prototype.sj=function(e){var t=this;if(e){if(e[1]){var n=e[1],i=App.XT.vipInfo.vipGrade;App.XT.vipInfo.vipGrade=n,n!==i&&t.ap===!1&&(App.NG.reportVipLevel(),VipActiveEffect.LS(2,n)),t.ap=!1}e.award&&(App.XT.vipInfo.rewardState=e.award),void 0!=e.vip_gp&&null!=e.vip_gp&&(App.XT.vipInfo.extraGp=e.vip_gp),vkG.$d(UtJ.HA),App.VX.reportedLogin(4)}},t.prototype.ij=function(e){var t=this;e&&(t.beginChange(),e.days&&e.days!=App.KF.days&&(this[8]=!0),e.award&&e.award!=App.KF.award&&(this[9]=!0),t.oto(e,App.KF),t.commitChange())},t.prototype.xb=function(e){if(e){switch(this.oto(e,App.BG.OffLineVo),App.KF.offlineStatic){case 0:App.KF.offlineStatic=1;break;case 1:break;case 2:(0!=e.t1||0!=e.t2||0!=e.t3)&&(App.KF.offlineStatic=1)}App.KF.offlineTime=App.NN.serverTime,vkG.$d(UtJ.IQ)}},t.IJ=function(e){App.BX.PpQ(1035,e)},t.prototype.yx=function(e){e&&App.NG.dealChargeInfo(e)},t.prototype.qn=function(e){e&&(e.award2&&(App.XT.isget=e.award2),vkG.$d(UtJ.DK))},t.prototype.ld=function(e){e&&(e.rv&&(App.VX.rewardState=e.rv),e.lst&&(App.VX.preShareTime=e.lst),e.hlrt&&(App.VX.lastRewarCount=e.hlrt),e.qqMiniStar&&(App.VX.qqMiniStar=e.qqMiniStar,vkG.$d(UtJ.FH)),e.qqcode&&(App.VX.qqcode=e.qqcode),e.birthday&&(App.VX.birthday=e.birthday),vkG.$d(UtJ.XO))},t.prototype.vz=function(e){if(e){e.use&&(App.KF.currentHead=e.use);for(var t in e)isNaN(parseInt(t))||(App.KF.head[t]=e[t]);vkG.$d(UtJ.EGW)}},t.prototype.ui=function(e){if(e){e.use&&(App.KF.currentFrame=e.use);for(var t in e)isNaN(parseInt(t))||(App.KF.frame[t]=e[t]);vkG.$d(UtJ.EGW)}},t.prototype.mq=function(e){if(e){e.use&&(App.KF.currentBubble=e.use);for(var t in e)isNaN(parseInt(t))||(App.KF.bubble[t]=e[t]);vkG.$d(UtJ.EGW)}},t.prototype.dc=function(e){e&&vkG.$d(UtJ.OYZ,e)},t.prototype.ce=function(e){e&&(App.BG.stageBoxState[e.t]=e.s,vkG.$d(UtJ.PT,e.t))},t.prototype.ww=function(e){if(e){var t=e.t||0;App.VX.wanba_gift_reult=e.r,App.VX.openFrameByType(pba.BW,t)}},t.prototype.kz=function(e){e&&(this.oto(e,App.VX.wbShareData),vkG.$d(UtJ.SVA))},t.prototype.nm=function(e){e&&(App.HD.sendOver=!0,vkG.$d(UtJ.XA))},t.prototype.xx=function(e){e&&(this.oto(e,App.RK._redEnvelopesInfo),vkG.$d(UtJ.HBA))},t.prototype.fj=function(e){if(e){var t=App.BG.superequipCastingInfo;for(var n in e)if(0==n.indexOf("w_")){var i=parseInt(n.split("_")[1]);t[i]||(t[i]=GObj.$c(SuperequipCastingInfo,i)),t[i].handlerMsg(e[n])}vkG.$d(UtJ.RPR)}},t.prototype.commitChange=function(){this[0]&&vkG.$d(UtJ.SI),this[1]&&vkG.$d(UtJ.ND),this[2]&&vkG.$d(UtJ.IN),this[3]&&vkG.$d(UtJ.HL),this[4]&&vkG.$d(UtJ.OK,this[4]),this[5]&&vkG.$d(UtJ.ES),this[6]&&vkG.$d(UtJ.JD),this[7]&&vkG.$d(UtJ.HA),this[8]&&vkG.$d(UtJ.XJ),this[9]&&vkG.$d(UtJ.OY),this[10]&&vkG.$d(UtJ.I_),this[11]&&vkG.$d(UtJ.TB),this[12]&&vkG.$d(UtJ.DC),this[13]&&vkG.$d(UtJ.GU),this[14]&&vkG.$d(UtJ.UL),this[15]&&vkG.$d(UtJ.SK),this[17]&&vkG.$d(UtJ.DT),this[18]&&vkG.$d(UtJ.FLN),this[19]&&vkG.$d(UtJ.APK),this[20]&&vkG.$d(UtJ.XQ)},t.GD=function(){App.BX.PpQ(18,void 0)},t._K=function(e){App.BX.PpQ(19,void 0,e)},t.SI=function(e){App.BX.PpQ(20,void 0,e)},t.GR=function(e){App.BX.PpQ(37,1,e)},t.YW=function(){App.BX.PpQ(37,2)},t.KQ=function(e){App.BX.PpQ(17,void 0,e)},t.KX=function(e,t){App.BX.PpQ(105,void 0,e,t)},t.TK=function(e){App.BX.PpQ(91,1,e)},t.MC=function(){App.BX.PpQ(91,2)},t.XH=function(e){App.BX.PpQ(90,void 0,e)},t.II=function(e,t){App.BX.PpQ(92,void 0,e,t)},t.QV=function(e){App.BX.PpQ(29,void 0,e)},t.PJ=function(e){App.BX.PpQ(1012,void 0,e)},t.MX=function(e){App.BX.PpQ(1017,void 0,e)},t.SW=function(e){App.BX.PpQ(40,void 0,e)},t.BP=function(e){App.NG.sendCreatChare(e)},t.ON=function(e){App.BX.PpQ(79,e)},t.UJ=function(e){App.BX.PpQ(81,e)},t.GV=function(){App.BX.PpQ(89,void 0)},t.XZ=function(){App.BX.PpQ(29,void 0,10001)},t.RF=function(e){App.BX.PpQ(122,void 0,e)},t.RI=function(e){App.BX.PpQ(124,void 0,e)},t.EM=function(e){App.BX.PpQ(125,void 0,e)},t.UC=function(){App.BX.PpQ(126,void 0)},t.FT=function(e){App.BX.PpQ(157,void 0,e)},t.OR=function(e,t,n){App.BX.PpQ(161,void 0,e,t,n)},t.VP=function(e,t){App.BX.PpQ(162,void 0,e,t)},t.HE=function(e){App.BX.PpQ(218,void 0,e)},t.ZKA=function(e,t){App.BX.PpQ(187,e,t)},t.IU=function(e,t){App.BX.PpQ(208,void 0,e,t)},t.CG=function(e,t){App.BX.PpQ(209,void 0,e,t)},t.MR=function(e,t){var n={};n[e]=t?1:0,App.BX.PpQ(68,void 0,null,null,n)},t.EZ=function(){App.BX.PpQ(1018,void 0)},t.NI=function(e){App.BX.PpQ(1021,void 0,e)},t.XB=function(e,t,n){App.BX.PpQ(1041,e,t,0,n)},t.OI=function(e){var t=e?1:0;console.log(":"+t),App.BX.PpQ(1047,t)},t.GZ=function(e,t){App.BX.PpQ(1050,void 0,void 0,void 0,e,t)},t.IS=function(e){if(e){if(28===e.conditionList[0].value)return void(App.DE.supremeCardVO.isWeek?(t.XB(2,5),msgTip(fvg.GVf("red_envelopes44"))):t.BP({total_fee:2800,subject:5,param3:1}));if(0===e.status){var n=e.conditionList[0].value;t.BP({total_fee:100*n,subject:4,param3:e.id})}else if(2==e.status){var i=!!App.RK.redEnvelopesInfo["el_"+e.id];i?msgTip(fvg.GVf("oneyuan02")):(t.XB(2,4,e.id),msgTip(fvg.GVf("red_envelopes44")))}else FunnyMsgProxy.LR(e.id)}},t}(BQO);__reflect(NXr.prototype,"NXr");
var PreviewMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(96,e.fa,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(96,e.fa,e)},t.prototype.fa=function(e){if(e){var t=e.open;if(t&&!(t.length<=0)){for(var n=App.KF.openDict,i=0,r=t;i<r.length;i++){var a=r[i];n[a]=!0}vkG.$d(UtJ.PCK)}}},t.PP=function(e){App.BX.PpQ(89,void 0,e)},t}(BQO);__reflect(PreviewMsgProxy.prototype,"PreviewMsgProxy");var PurgatoryMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(903,e.qb,e),App.BX.addEventListener(904,e.pq,e),App.BX.addEventListener(906,e.ap,e),App.BX.addEventListener(907,e.qn,e),App.BX.addEventListener(909,e.pi,e),App.BX.addEventListener(912,e.ho,e),App.BX.addEventListener(911,e.kf,e),App.BX.addEventListener(913,e.z_,e),App.BX.addEventListener(914,e.od,e),App.BX.addEventListener(908,e.ct,e),App.BX.addEventListener(910,e.ea,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(903,e.qb,e),App.BX.removeEventListener(904,e.pq,e),App.BX.removeEventListener(906,e.ap,e),App.BX.removeEventListener(907,e.qn,e),App.BX.removeEventListener(909,e.pi,e),App.BX.removeEventListener(912,e.ho,e),App.BX.removeEventListener(911,e.kf,e),App.BX.removeEventListener(913,e.z_,e),App.BX.removeEventListener(914,e.od,e),App.BX.removeEventListener(908,e.ct,e),App.BX.removeEventListener(910,e.ea,e)},t.prototype.qb=function(e){var t=this;if(e){App.HP.noteamInfoList=[],App.HP.playerList=[],App.HP.status=e.status;for(var n in e.teamMap){var i={};t.oto(e.teamMap[n],i),App.HP.noteamInfoList.push(i)}App.HP.teamId=e.myTeamInfo.teamId||0,App.HP.mapId=e.myTeamInfo.mapId||0,App.HP.captain=e.myTeamInfo.captain||0,App.HP.totalCap=e.myTeamInfo.totalCap||0,App.HP.buff=e.myTeamInfo.buff||0;for(var r=e.myTeamInfo.playerList.length,a=0;r>a;a++){var o={};t.oto(e.myTeamInfo.playerList[a],o),App.HP.playerList.push(o)}vkG.$d(UtJ.UNQ)}},t.prototype.pq=function(e){if(e){var t="";switch(e.result){case 4:t="purgatory11";break;case 5:t="purgatory15";break;case 6:t="purgatory12";break;case 11:App.HP.applyList=[],vkG.$d(UtJ.EJ),t="purgatory13";break;case 14:t="purgatory14";break;case 19:t="purgatory54";break;case 21:t="purgatory18";break;case 22:t="purgatory19";break;case 23:t="purgatory52";break;case 24:t="purgatory56"}usable(t)&&MessageTipManager.instance.show(fvg.GVf(t))}},t.prototype.ap=function(e){if(e){App.HP.canInviteList=[];for(var t=e.playerList?e.playerList.length:0,n=0;t>n;n++){var i={};this.oto(e.playerList[n],i),App.HP.canInviteList.push(i)}vkG.$d(UtJ.YH)}},t.prototype.qn=function(e){var t=this;if(e){App.HP.beInvitedList=[];for(var n in e){var i=e[n];t.oto(e[n],i),App.HP.beInvitedList.push(i)}t.lo()}},t.prototype.lo=function(){var e=this;1===App.UY.sceneType?(App.HP.beInvitedList.length>0&&App.UY.isCanSwitc()&&App.VS.popup(null,PurgatoryTeamTips),vkG.$r(UtJ.YT,e.lo,e)):vkG.$a(UtJ.YT,e.lo,e),vkG.$d(UtJ.GT)},t.prototype.pi=function(e){if(e){App.HP.applyList=[];for(var t in e){var n=e[t];this.oto(e[t],n),App.HP.applyList.push(n)}vkG.$d(UtJ.EJ)}},t.prototype.ho=function(e){e&&e.mapId&&e.mapId>0&&(App.HP.isScene=!0,App.VS.closeAll(),App.UY.enter(e.mapId))},t.prototype.kf=function(e){e&&(this.oto(e,App.HP.fightCountInfo),vkG.$d(UtJ.OL))},t.prototype.z_=function(e){e&&(this.oto(e,App.HP.layerInfo),vkG.$d(UtJ.LFX))},t.prototype.od=function(e){if(e){var t=fvg.GVf("purgatory76_"+e.r,e.name);Alert.WK(t)}},t.prototype.ct=function(e){e&&(App.HP.fcsLe=e.le,App.HP.limitTime=e.limitTime,rRcz.IL())},t.prototype.ea=function(e){e&&(App.HP.cardPos=e.pos,App.HP.goodsArr=e.items,App.HP.bigAwardIndex=e.bigAward,vkG.$d(UtJ.RX_))},t.FW=function(e,t,n,i){App.BX.PpQ(22031,e,t,n,i)},t.FS=function(e,t){App.BX.PpQ(10032,e,t)},t.UG=function(){App.BX.PpQ(819,void 0)},t.VD=function(){App.BX.PpQ(22032,void 0)},t}(BQO);__reflect(PurgatoryMsgProxy.prototype,"PurgatoryMsgProxy");var PvpMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1020,e.ih,e),App.BX.addEventListener(1021,e.ok,e),App.BX.addEventListener(1023,e.ju,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1020,e.ih,e),App.BX.removeEventListener(1021,e.ok,e),App.BX.removeEventListener(1023,e.ju,e)},t.prototype.ju=function(e){if(e){for(var t,n=e.awards,i=[],r=0,a=n;r<a.length;r++){var o=a[r];t=GObj.$c(nlwj),this.oto(o,t),i.push(t)}vkG.$d(UtJ.F_,i,1==e.r?!0:!1)}},t.prototype.ih=function(e){if(e){var t=App.CG.pvpVo;this.oto(e,t),vkG.$d(UtJ.XYJ)}},t.prototype.ok=function(e){if(e){var t=GObj.$c(RobotVO);ObjectUtil.oto(e,t),t.attr=GObj.$c(DnQ),t.attr.init(),ObjectUtil.oto(e.attr,t.attr),t.attr.ograde=e.ograde||0,t.type=6,t.ver=e.type,t.ret=RobotVO.pvp,t.mustwin=App.JP.mirrorMustwin(App.BG.playerAttrsInfo,t),t.sex=e.head,vkG.$d(UtJ.WBQ,t),App.VS.enterMapOpenUI(StaticData.MIRROR_MAP_ID,10143,null,!1)}},t.AG=function(){App.BX.PpQ(1027,void 0)},t.BP=function(e){App.BX.PpQ(1028,void 0,e)},t.RT=function(e,t){void 0===t&&(t=!0),App.BX.PpQ(1030,void 0,e,t?1:2)},t.MH=function(e){App.BX.PpQ(1026,void 0,e)},t.OC=function(){App.BX.PpQ(1025,void 0)},t}(BQO);__reflect(PvpMsgProxy.prototype,"PvpMsgProxy");var RaidMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(99,e.mw,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(99,e.mw,e)},t.prototype.mw=function(e){e&&(e.cul&&(App.BM.cul=e.cul),e.gold&&(App.BM.gold=e.gold),e.gp&&(App.BM.exp=e.gp),e.count&&(App.BM.count=e.count),vkG.$d(UtJ.AO))},t.GN=function(e){App.BX.PpQ(93,e)},t}(BQO);__reflect(RaidMsgProxy.prototype,"RaidMsgProxy");var RankMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(18,e.ks,e),App.BX.addEventListener(109,e.zh,e),App.BX.addEventListener(176,e.hk,e),App.BX.addEventListener(1005,e.mq,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(18,e.ks,e),App.BX.removeEventListener(109,e.zh,e),App.BX.removeEventListener(176,e.hk,e),App.BX.removeEventListener(1005,e.mq,e)},t.prototype.ks=function(e){if(!e.type)return void trace("ret rank list errot");var t=e.type,n=App.PV.getData(t);if(n?GObj.$d(n.list):(n=GObj.$c(RankListVO),n.type=t,App.PV.add(n)),n.type=t,n.score=e.score||0,n.order=e.order||0,n.rtime=GApp.timer,e.rank){for(var i,r=e.rank.length||0,a=0;r>a;a++)i=GObj.$c(RankVO),i.rank=a+1,this.oto(e.rank[a],i),i.type=t,n.list.push(i);vkG.$d(UtJ.TT,n)}},t.prototype.zh=function(e){e&&(e.rtime=GApp.timer,App.PV.addGeneralRank(e),vkG.$d(UtJ.ZGT,e.rankType))},t.prototype.mq=function(e){e&&(e.rtime=GApp.timer,App.PV.addAchievementRank(e),vkG.$d(UtJ.GI,e))},t.prototype.hk=function(e){e&&(e.actskill&&(App.PV.rankVsArr[FDG.JV]=e.actskill),e.passkill&&(App.PV.rankVsArr[FDG.VI]=e.passkill),e.superequip&&(App.PV.rankVsArr[FDG.HX]=e.superequip),e.fashion&&(App.PV.rankVsArr[FDG.FE]=e.fashion),e.beauty&&(App.PV.rankVsArr[FDG.BA]=e.beauty),e.hero&&(App.PV.rankVsArr[FDG.NO]=e.hero),e.rune&&(App.PV.rankVsArr[FDG.VY]=e.rune),e.official&&(App.PV.rankVsArr[FDG.JD]=e.official),e.townmagic&&(App.PV.rankVsArr[FDG.IR]=e.townmagic),vkG.$d(UtJ.ZX))},t.IU=function(e){App.BX.PpQ(25,void 0,void 0,void 0,e)},t.EI=function(e){App.BX.PpQ(106,null,null,null,e)},t}(BQO);__reflect(RankMsgProxy.prototype,"RankMsgProxy");var RechargeGiftMsgproxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1002,e.pw,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1002,e.pw,e)},t.prototype.pw=function(e){e&&((e.cgcp||0==e.cgcp)&&(App.RG.rechargeState=e.cgcp,vkG.$d(UtJ.BM)),e.vpcp&&(App.RG.packState=e.vpcp,vkG.$d(UtJ.WU)),e.vpcb&&(App.RG.zeroGiftGet=e.vpcb,vkG.$d(UtJ.WU)),(e.getCgcp||0==e.getCgcp)&&(App.RG.rechargeGetState=e.getCgcp,vkG.$d(UtJ.RFT)),(e.rechargeValue||0==e.rechargeValue)&&(App.RG.rechargeValue=e.rechargeValue,vkG.$d(UtJ.AC)))},t.AQ=function(e,t){App.BX.PpQ(1002,e,t)},t.AB=function(e,t){App.BX.PpQ(879,e,t)},t}(BQO);__reflect(RechargeGiftMsgproxy.prototype,"RechargeGiftMsgproxy");var RetinueMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(151,e.lg,e),App.BX.addEventListener(1027,e.dy,e),App.BX.addEventListener(1022,e.cv,e),App.BX.addEventListener(1033,e.xi,e),App.BX.addEventListener(294,e.la,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(151,e.lg,e),App.BX.removeEventListener(1027,e.dy,e),App.BX.removeEventListener(1022,e.cv,e),App.BX.removeEventListener(1033,e.xi,e),App.BX.removeEventListener(294,e.la,e)},t.prototype.cv=function(e){e&&this.hj(32,e)},t.prototype.xi=function(e){e&&this.hj(89,e)},t.prototype.hj=function(e,t){var n=App.JS.getRetinueSkillInfoByType(e);n&&(t[1]&&(n.retinueSkill[1]=t[1]),t[2]&&(n.retinueSkill[2]=t[2]),t[3]&&(n.retinueSkill[3]=t[3]),t[4]&&(n.retinueSkill[4]=t[4]),t[5]&&(n.retinueSkill[5]=t[5]),t[6]&&(n.retinueSkill[6]=t[6]),t[7]&&(n.retinueSkill[7]=t[7]),vkG.$d(UtJ.XY,e))},t.BB=function(e,t){void 0===t&&(t=1),87==e?App.BX.PpQ(1029,void 0,t):91==e&&App.BX.PpQ(1042,void 0,t)},t.prototype.lg=function(e){e&&this.mc(32,e)},t.prototype.dy=function(e){e&&this.mc(89,e)},t.prototype.mc=function(e,t){var n=App.JS.getRetinueInfoByType(e);if(n){if(t.use&&n.dataInitDone){var i=!1;for(var r in n.sgradeDict)if(r==t.use){i=!0;break}if(!i){var a=t.use,o=(n.sgradeDict[a]||0,t["skg_"+a]||0);if(1==o){var s=n.stempDict[t.use],p=parseInt(s.cost),l=XCA.FR(p),c=toChars(l.icon),u=GObj.$c(fHq);u.type=e,u.data=kLM.YG(c),u.data=parseInt(s.cost),u.name=s.name,u.quality=gLw.GM(s.tid)}}}t.cap&&(n.cap=t.cap),t.use&&(n.use=t.use),t[1]&&(n.grade=t[1]),t.snum_1&&(n.snum=t.snum_1),t.gp_1&&(n.gp=t.gp_1);var d;for(var g in n.stempDict)d=n.stempDict[g],d&&(t["skg_"+g]&&(n.sgradeDict[g]=t["skg_"+g],RetinueManager.instance.setSkinGrade(d.tid,t["skg_"+g])),t["skcap_"+g]&&(n.scapDict[g]=t["skcap_"+g]));n.dataInitDone=!0,vkG.$d(UtJ.BP,e)}},t.NT=function(e){32==e?App.BX.PpQ(142,1,1):89==e&&App.BX.PpQ(1036,1,1)},t.KT=function(e){32==e?App.BX.PpQ(142,1,1,1):89==e&&App.BX.PpQ(1036,1,1,1)},t.EC=function(e,t){32==e?App.BX.PpQ(143,2,t):89==e&&App.BX.PpQ(1037,2,t)},t.YO=function(e){32==e?App.BX.PpQ(143,1,1):89==e&&App.BX.PpQ(1037,1,1)},t.EE=function(e,t){32==e?App.BX.PpQ(144,3,t):89==e&&App.BX.PpQ(1038,3,t)},t.GL=function(e,t){32==e?App.BX.PpQ(144,2):89==e&&App.BX.PpQ(1038,2)},t.CA=function(e,t){32==e?App.BX.PpQ(145,void 0,1,1):89==e&&App.BX.PpQ(1043,void 0,1,1)},t.QS=function(e,t){App.BX.PpQ(1034,void 0,e,t)},t.BD=function(e,t){App.BX.PpQ(284,t,e)},t.prototype.la=function(e){if(e){var t=RetinueManager.instance.getRetinueInfoByType(32);if(t){if(e.cap&&(t.spiritCap=e.cap),e.exp)for(var n in e.exp)t.spiritDict[n]=e.exp[n];vkG.$d(UtJ.DDI)}}},t}(BQO);__reflect(RetinueMsgProxy.prototype,"RetinueMsgProxy");var RevelryMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(626,e.bl,e),App.BX.addEventListener(802,e.vu,e),App.BX.addEventListener(1015,e.vt,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(626,e.bl,e),App.BX.removeEventListener(802,e.vu,e),App.BX.removeEventListener(1015,e.vt,e)},t.prototype.vu=function(e){e&&(App.KP.upgradeRewStateDict.award_state_0=e.get_status_0||0,App.KP.upgradeRewStateDict.award_state_1=e.get_status_1||0,vkG.$d(UtJ.KWI))},t.prototype.vt=function(e){e&&(App.KP.chapterRewStateDict.award_state_0=e.get_status_0||0,App.KP.chapterRewStateDict.award_state_1=e.get_status_1||0,vkG.$d(UtJ.KWI))},t.prototype.bl=function(e){if(e){if(e[1]){for(var t in e[1])App.KP.setbossState(parseInt(t),e[1][t]);vkG.$d(UtJ.LX)}if(e[5]&&(App.KP.martailState=e[5],vkG.$d(UtJ.ZEI)),e[6]&&(App.KP.harryState=e[6],vkG.$d(UtJ.ZEI)),e[7]){for(var t in e[7])App.KP.setRevelryBossState(parseInt(t),e[7][t]);vkG.$d(UtJ.VFN)}if(e["1_key"]){for(var t in e["1_key"])App.KP.setbossAwardCount(parseInt(t),e["1_key"][t]);vkG.$d(UtJ.LX)}if(e._multiboss>=0&&(App.KP.killMultiBossCount=e._multiboss,vkG.$d(UtJ.VFN)),e["8_key"]){for(var t in e["8_key"].le)App.KP.setPointRewStateDict(parseInt(t),e["8_key"].le[t]);App.KP.revelryPointCnt=e["8_key"].num,vkG.$d(UtJ.MXL)}if(e["9_key"]){for(var t in e["9_key"].le)App.KP.setJadeRewStateDict(parseInt(t),e["9_key"].le[t]);App.KP.revelryJadeCnt=e["9_key"].num,vkG.$d(UtJ.MXL)}if(e["10_key"]){for(var t in e["10_key"].le)App.KP.setTresureRewStateDict(parseInt(t),e["10_key"].le[t]);App.KP.revelryTresureCnt=e["10_key"].num,vkG.$d(UtJ.MXL)}vkG.$d(UtJ.ZEI)}},t.PU=function(e,t){void 0===t&&(t=null),App.BX.PpQ(604,e,t)},t.DW=function(){App.BX.PpQ(765,null)},t.YB=function(){App.BX.PpQ(1016,null)},t}(BQO);__reflect(RevelryMsgProxy.prototype,"RevelryMsgProxy");var RewardHallMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(27,e.rt,e),App.BX.addEventListener(48,e.dl,e),App.BX.addEventListener(51,e.wf,e),App.BX.addEventListener(49,e.ng,e),App.BX.addEventListener(240,e.sv,e),App.BX.addEventListener(1003,e.jz,e),App.BX.addEventListener(1025,e.qx,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(27,e.rt,e),App.BX.removeEventListener(48,e.dl,e),App.BX.removeEventListener(51,e.wf,e),App.BX.removeEventListener(49,e.ng,e),App.BX.removeEventListener(240,e.sv,e),App.BX.removeEventListener(1003,e.jz,e),App.BX.removeEventListener(1025,e.qx,e)},t.prototype.qx=function(e){e&&(e.time&&(App.CC.sviptime=e.time),e.award&&(App.CC.svipaward=e.award),vkG.$d(UtJ.KRG))},t.IB=function(e){App.BX.PpQ(1033,void 0,e)},t.prototype.rt=function(e){e&&(e.sc>=0&&(App.CC.signCount=e.sc),e.sd>=0&&(App.CC.todaySign=e.sd),e.bq>=0&&(App.CC.resignCount=e.bq),vkG.$d(UtJ.JP))},t.IQ=function(e){App.BX.PpQ(35,e)},t.prototype.dl=function(e){e&&(e.award&&(App.CC.loginaward=e.award),e.days&&(App.CC.logindays=e.days),vkG.$d(UtJ.KUB))},t.JF=function(e){App.BX.PpQ(46,void 0,e)},t.prototype.wf=function(e){e&&(e.time&&(App.CC.onlinetime=e.time),e.award&&(App.CC.onlineaward=e.award),vkG.$d(UtJ.DL))},t.VV=function(e){App.BX.PpQ(49,void 0,e)},t.prototype.sv=function(e){e&&(App.CC.isWeeklyCard=e.acted,App.CC.receive=e.receive,e.currentDay&&(App.CC.weekDay=e.currentDay),vkG.$d(UtJ.RA))},t.prototype.jz=function(e){e&&(isNaN(e.bc)||(App.CC.bc=e.bc),e.alog&&(App.CC.log=e.alog),e.et&&(App.CC.et=e.et),vkG.$d(UtJ.BZ))},t.RL=function(){App.BX.PpQ(226,void 0,void 0)},t.prototype.ng=function(e){e&&(e.buy&&(App.CC.bankbuy=e.buy),e.gold&&(App.CC.bankgold=e.gold),e.grow&&(App.CC.bankgrow=e.grow),vkG.$d(UtJ.VVN))},t.WO=function(e){App.BX.PpQ(1003,e)},t.PP=function(e,t,n){App.BX.PpQ(47,e,t,n)},t}(BQO);__reflect(RewardHallMsgProxy.prototype,"RewardHallMsgProxy");var RuneMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(115,e._z,e),App.BX.addEventListener(128,e.ew,e),App.BX.addEventListener(164,e.gs,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(115,e._z,e),App.BX.removeEventListener(128,e.ew,e),App.BX.removeEventListener(164,e.gs,e)},t.prototype._z=function(e){e&&(e.rune&&(App.XV.runegrade=e.rune),void 0!=e.r&&(App.XV.runeCount=10-e.r),void 0!=e.p&&(App.XV.pointCount=10-e.p),vkG.$d(UtJ.FD))},t.prototype.ew=function(e){if(e&&e.runes){for(var t=e.runes,n=t.length,i=0;n>i;i++)App.XV.addRuneGoods(t[i]);vkG.$d(UtJ.UN)}},t.prototype.gs=function(e){if(void 0!=e){App.XV.attrArr.length=0;for(var t=0;t<e.length;t++)App.XV.attrArr.push(e[t]);vkG.$d(UtJ.OI)}},t.prototype.jn=function(e){},t.ZU=function(e){},t.HS=function(e,t){App.BX.PpQ(111,void 0,e,t)},t.TV=function(e){App.BX.PpQ(112,void 0,e)},t.KK=function(e,t,n){App.BX.PpQ(113,e,t,void 0,n)},t.CP=function(e,t,n){App.BX.PpQ(114,e,t,void 0,n)},t.KT=function(e,t){App.BX.PpQ(119,e,void 0,void 0,t)},t.KW=function(e,t){App.BX.PpQ(120,e,void 0,void 0,t)},t.XU=function(e,t,n){App.BX.PpQ(159,void 0,e,t,n)},t.QA=function(e){App.BX.PpQ(160,e)},t.VW=function(e,t){App.BX.PpQ(197,void 0,e,t)},t.OX=function(e,t,n){App.BX.PpQ(198,e,t,n)},t}(BQO);__reflect(RuneMsgProxy.prototype,"RuneMsgProxy");var ShopMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(19,e.yq,e),App.BX.addEventListener(20,e.ag,e),App.BX.addEventListener(1013,e.us,e),App.BX.addEventListener(1026,e.vx,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(19,e.yq,e),App.BX.removeEventListener(20,e.ag,e),App.BX.removeEventListener(1013,e.us,e),App.BX.removeEventListener(1026,e.vx,e)},t.prototype.yq=function(e){if(e){for(var t,n,i=e,r=i.length,a=0;r>a;a++)t=i[a],n=App.IQ.getShopGoodsByShopId(t.shopid),n&&(n.buyCount=t.buyc||0);vkG.$d(UtJ.UO)}},t.prototype.ag=function(e){if(e){if(3==e.op)return void(App.IQ.blackRefreshCount=e.freshc||0);1==e.op&&(App.IQ.blackRefreshTime=e.lastft||0,App.IQ.blackRefreshCount=e.freshc||0,App.IQ.blackGoodsDic={},App.IQ.blackSellGoods=null);for(var t,n=e.data,i=0;i<n.length;i++)t=n[i],App.IQ.blackGoodsDic[t.shopid]=t.buyc||0;vkG.$d(UtJ.LL)}},t.prototype.us=function(e){if(e){if(3==e.op)return void(App.IQ.mysteriousShopCount=e.freshc||0);1==e.op&&(App.IQ.mysteriousShopCount=e.freshc||0,App.IQ.mysteriousGoodsDic={},App.IQ.mysteriousShopArr=null);for(var t,n=e.data,i=0;i<n.length;i++)t=n[i],App.IQ.mysteriousGoodsDic[t.shopid]=t.buyc||0;vkG.$d(UtJ.QP)}},t.prototype.vx=function(){var e=App.IQ.allShopnlwj;for(var t in e){var n=e[t];n.buyCount=0}vkG.$d(UtJ.UO)},t.LR=function(e,t){App.BX.PpQ(27,1,e,t)},t.LY=function(e){App.BX.PpQ(27,2,e?1:2)},t.NR=function(e,t){App.BX.PpQ(27,3,e,t)},t.ZY=function(e){App.BX.PpQ(1014,1,e?2:1)},t.JU=function(e,t){App.BX.PpQ(1014,2,e,t)},t}(BQO);__reflect(ShopMsgProxy.prototype,"ShopMsgProxy");var SkillMsgProxy=function(e){function t(){var t=e.call(this)||this;return t.ga=!0,t.nc=!0,t._changeProperties=[null,null,null,null],t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(7,e.yf,e),App.BX.addEventListener(8,e.qd,e),App.BX.addEventListener(9,e.qu,e),App.BX.addEventListener(17,e.ej,e),App.BX.addEventListener(52,e.dz,e),App.BX.addEventListener(76,e.ve,e),App.BX.addEventListener(145,e.ws,e),App.BX.addEventListener(206,e.yc,e),App.BX.addEventListener(1024,e.tu,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(7,e.yf,e),App.BX.removeEventListener(8,e.qd,e),App.BX.removeEventListener(9,e.qu,e),App.BX.removeEventListener(17,e.ej,e),App.BX.removeEventListener(52,e.dz,e),App.BX.removeEventListener(76,e.ve,e),App.BX.removeEventListener(145,e.ws,e),App.BX.removeEventListener(206,e.yc,e),App.BX.removeEventListener(1024,e.tu,e)},t.prototype.yf=function(e){var t=this;if(e){t.beginChange(),e.cap&&(App.JO.actCap=e.cap);var n,i,r,a;for(i in e)if(isNaN(parseInt(i)))i.indexOf("cag_")>=0&&(r=i.split("_"),App.JO.knightExtInfo[r[1]]=e[i],n=App.JO.getActSkillInfoBySonType(r[1]),n&&(n.extGrade=App.JO.knightExtInfo[r[1]]||0));else{if(PlayerSKillAI.instance.isFakeBigSkill(parseInt(i))){var o=App.JO.fakeBigArr;o||(o=[]),o.push(parseInt(i)),App.JO.fakeBigArr=o}a=!1,n=App.JO.getActSkillInfoBySonType(i),n||(a=!0,n=GObj.$c(ActSkillInfo),n.masType=1,n.subType=parseInt(i),App.JO.addActSkillinfo(n)),n.grade=e[i],n.extGrade=App.JO.knightExtInfo[i]||0,this[0]||(this[0]=[]),this[0].push(parseInt(i)),a&&1==n.grade&&!t.ga&&t.no(n)}t.commitChange(),t.ga=!1}},t.prototype.no=function(e){if(e&&App.KF.newbie){var t=e.upgradeTemp;if(t){var n=e.masType,i=GObj.$c(fHq);i.type=1===n?fHq.IB:fHq.XW,i.data=t.tid,i.name=t.name,i.quality=gLw.GM(t.tid);var r=GObj.$c(FuncOpenView);r.show(i)}}},t.prototype.qd=function(e){var t=this;if(e){t.beginChange();var n,i,r,a;for(i in e)a=[],a=i.split("_"),a.length>=2&&(i=a[1]),isNaN(parseInt(i))||(n=SkillManager.instance.getPasSkillInfoBySonType(i),r=!1,n||(r=!0,n=GObj.$c(ActSkillInfo),n.masType=2,n.subType=parseInt(i),SkillManager.instance.addPasSkillinfo(n)),a.length>=2?n.gp=e["gp_"+i]:n.grade=e[i],this[1]||(this[1]=[]),this[1].push(parseInt(i)),r&&1==n.grade&&!t.nc&&t.no(n));e.cap&&(App.JO.pasCap=e.cap),t.commitChange(),t.nc=!1}},t.prototype.qu=function(e){var t=this;e&&(t.beginChange(),e[1]&&e[1]!=SkillManager.instance.tendonsGrade&&(this[2]=e[1]-SkillManager.instance.tendonsGrade),App.JO.tendonsGrade=e[1]||0,App.JO.tendonsCap=e.cap||0,t.commitChange())},t.prototype.ws=function(e){if(e){var t;for(var n in e)t=parseInt(n),isNaN(t)||(App.JO.beastGradeDict[t]=e[n]||0);e.cap&&(App.JO.beastCap=e.cap||0),vkG.$d(UtJ.CF)}},t.prototype.yc=function(e){e&&(this.oto(e,App.JO.beastStarDict),vkG.$d(UtJ.GK))},t.prototype.ej=function(e){var t=this;if(e){t.beginChange(),this[3]=[];for(var n in e)isNaN(parseInt(n))||(App.JO.skillmapActive[n]=e[n],this[3].push(parseInt(n)));t.commitChange()}},t.prototype.dz=function(e){if(e){var t=e[1];if(t){for(var n=0;n<t.length;n++)App.JO.skillInalyInfo[n]=t[n];vkG.$d(UtJ.A_)}}},t.prototype.ve=function(e){e&&(e.gr&&(App.JO.realmGrade=e.gr),e.va&&(App.JO.realmGp=e.va),vkG.$d(UtJ.OD))},t.prototype.commitChange=function(){this[0]&&vkG.$d(UtJ.CJ,this[0]),this[1]&&vkG.$d(UtJ.AVM,this[1]),this[2]&&vkG.$d(UtJ.IZC,this[2]),this[3]&&vkG.$d(UtJ.QB,this[3]),App.JO.fakeBigArr&&vkG.$d(UtJ.YG,App.JO.fakeBigArr)},t.prototype.tu=function(e){e&&(this.oto(e,App.JO.petInfo),vkG.$d(UtJ.JA))},t.PU=function(e,t){SocketManager.instance.PpQ(12,void 0,e,t)},t.SI=function(e,t){SocketManager.instance.PpQ(195,e,t)},t.DX=function(e){SocketManager.instance.PpQ(14,void 0,e)},t.LL=function(e){SocketManager.instance.PpQ(141,void 0,e)},t.CD=function(e,t){App.BX.PpQ(188,e,t)},t.VZ=function(e){App.BX.PpQ(189,void 0,e)},t.NP=function(e){App.BX.PpQ(24,void 0,e)},t.QX=function(e,t){App.BX.PpQ(54,1,e,t)},t.EH=function(){App.BX.PpQ(54,2)},t.WH=function(){SocketManager.instance.PpQ(12,1)},t.LR=function(e){App.BX.PpQ(1031,1,e)},t.MU=function(e){App.BX.PpQ(1032,void 0,e)},t}(BQO);__reflect(SkillMsgProxy.prototype,"SkillMsgProxy");var SocietyMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(59,e.hz,e),App.BX.addEventListener(60,e._n,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(59,e.hz,e),App.BX.removeEventListener(60,e._n,e)},t.prototype.hz=function(e){e&&(e.cs&&(App.VP.currStar=e.cs),e.gs&&(App.VP.rewardIndex=e.gs),vkG.$d(UtJ.N_))},t.prototype._n=function(e){if(e){var t,n,i=[];for(t in e)isNaN(parseInt(t))||(n=e[t],n.id=parseInt(t),i.push(n.id),App.VP.addSocietyInfoById(n.id,n));vkG.$d(UtJ.SF,i)}},t.OG=function(e,t){App.BX.PpQ(58,e,t)},t.TE=function(){App.BX.PpQ(59,void 0)},t}(BQO);__reflect(SocietyMsgProxy.prototype,"SocietyMsgProxy");var SpiritLakeMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(371,e._u,e),App.BX.addEventListener(372,e._p,e),App.BX.addEventListener(373,e.jq,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(371,e._u,e),App.BX.removeEventListener(372,e._p,e),App.BX.removeEventListener(373,e.jq,e)},t.prototype._u=function(e){e&&(e&&ObjectUtil.oto(e,App.QOR.spLakeDic),vkG.$d(UtJ.IDA))},t.prototype.jq=function(e){e[1]&&(App.QOR.spLakeCount=e[1]),vkG.$d(UtJ.IDA)},t.prototype._p=function(e){e&&(e&&ObjectUtil.oto(e,App.QOR.spSkillDic),vkG.$d(UtJ.UF))},t.ML=function(e,t){App.BX.PpQ(320,e,t)},t.LD=function(e,t){App.BX.PpQ(321,e,t)},t.EM=function(e,t,n){App.BX.PpQ(322,e,t,n)},t}(BQO);__reflect(SpiritLakeMsgProxy.prototype,"SpiritLakeMsgProxy");var SpiritMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(221,e.zj,e),App.BX.addEventListener(220,e.rl,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(221,e.zj,e),App.BX.removeEventListener(220,e.rl,e)},t.prototype.rl=function(e){if(e){if(void 0!=e.cap&&(App.RM.intensifyCap=e.cap),e.grade)for(var t in e.grade)App.RM.intensifyInfo[t]=e.grade[t];vkG.$d(UtJ.ED)}},t.prototype.zj=function(e){e&&(App.RM.spiritAllCap=e.capSum||0,App.RM.spiritIntendifyCap=e.stCap||0,vkG.$d(UtJ.XH))},t.prototype.ii=function(e){if(e){var t,n=App.RM.intensifyInfo;for(t in e)isNaN(parseInt(t))||(n[2100+parseInt(t)]=e[t]);e.cap&&(App.RM.intensifyCap=e.cap)}},t.ZC=function(e){App.BX.PpQ(205,void 0,e)},t.HG=function(e){App.BX.PpQ(206,void 0,e)},t.AM=function(e){App.BX.PpQ(206,void 0,void 0,void 0,e)},t.BL=function(){App.BX.PpQ(207,void 0)},t.prototype.rg=function(e){e&&(e[1]&&(App.RM.intensifyMaster=e[1]),e.scap_1&&(App.RM.intensifyMasCap=e.scap_1))},t}(BQO);__reflect(SpiritMsgProxy.prototype,"SpiritMsgProxy");var StoreMsgProxy=function(e){function t(){var t=e.call(this)||this;return t._changeProperties=[null],t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(10,e.gy,e),App.BX.addEventListener(11,e.dq,e),App.BX.addEventListener(33,e.yr,e),App.BX.addEventListener(173,e.nq,e),App.BX.addEventListener(1031,e.ec,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(10,e.gy,e),App.BX.removeEventListener(11,e.dq,e),App.BX.removeEventListener(33,e.yr,e),App.BX.removeEventListener(173,e.nq,e),App.BX.removeEventListener(1031,e.ec,e)},t.prototype.gy=function(e){if(e){var t,n=App.HG.intensifyInfo;for(t in e)isNaN(parseInt(t))||(n[2e3+parseInt(t)]=e[t]);e.cap&&(App.HG.intensifyCap=e.cap),vkG.$d(UtJ.HG)}},t.prototype.dq=function(e){if(e){var t,n=App.HG.upstarInfo;for(t in e)isNaN(parseInt(t))||(n[2e3+parseInt(t)]=e[t]);e.cap&&(App.HG.upstarCap=e.cap),vkG.$d(UtJ.MF)}},t.prototype.nq=function(e){if(e){var t,n=App.HG.castingGoldInfo;for(t in e)isNaN(parseInt(t))||(n[2e3+parseInt(t)]=e[t]);e.cap&&(App.HG.castingGoldCap=e.cap),vkG.$d(UtJ.VW)}},t.prototype.yr=function(e){e&&(e[1]&&(App.HG.intensifyMaster=e[1]),e[2]&&(App.HG.gemMaster=e[2]),e[3]&&(App.HG.upstarMaster=e[3]),e[4]&&(App.HG.spiritMaster=e[4]),e[5]&&(App._B.battleMaster=e[5]),e[7]&&(App.HG.godSuitMaster=e[7]),e[8]&&(App.HG.fairySuitMaster=e[8]),e.scap_1&&(App.HG.intensifyMasCap=e.scap_1),e.scap_2&&(App.HG.gemMasCap=e.scap_2),e.scap_3&&(App.HG.upstarMasCap=e.scap_3),e.scap_4&&(App.HG.spiritMasCap=e.scap_4),e.scap_5&&(App._B.battleMasCap=e.scap_5),e.scap_7&&(App.HG.godsuitCap=e.scap_7),e.scap_8&&(App.HG.fairySuitCap=e.scap_8),vkG.$d(UtJ.OU))},t.prototype.ec=function(e){e&&vkG.$d(UtJ.TUS)},t.KG=function(e){App.BX.PpQ(15,void 0,e)},t.CJ=function(e){App.BX.PpQ(15,void 0,void 0,void 0,e)},t.BP=function(e,t){App.BX.PpQ(16,void 0,e,t)},t.QD=function(e,t){App.BX.PpQ(11,void 0,void 0,e,t)},t.UP=function(e){App.BX.PpQ(22,void 0,e)},t.QS=function(e,t){App.BX.PpQ(10,void 0,e,t)},t.KH=function(e,t,n){App.BX.PpQ(9,e,t,n)},t.AD=function(e){App.BX.PpQ(163,void 0,e)},t.OP=function(e,t,n){App.BX.PpQ(1040,e,t,0,n)},t}(BQO);__reflect(StoreMsgProxy.prototype,"StoreMsgProxy");var SupremeMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(29,e.ea,e),App.BX.addEventListener(1012,e.va,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(29,e.ea,e),App.BX.removeEventListener(1012,e.va,e)},t.prototype.ea=function(e){e&&(e.o1&&(App.DE.supremeVO.isSilver=e.o1),e.o2&&(App.DE.supremeVO.isGold=e.o2),e.o3&&(App.DE.supremeVO.isPoint=e.o3),e.c1&&(App.DE.supremeVO.isgetSilver=e.c1),e.c2&&(App.DE.supremeVO.isgetGold=e.c2),e.c3&&(App.DE.supremeVO.isgetPoint=e.c3),vkG.$d(UtJ.NB))},t.prototype.mq=function(){App.DE.supremeVO.isSilver&&ChapterIncomeBar.instance.show(1)},t.ME=function(e,t){App.BX.PpQ(36,e,t)},t.prototype.va=function(e){e&&(e.isGetWeek&&(App.DE.supremeCardVO.isgetWeek=e.isGetWeek),e.isGetMonthTime&&(App.DE.supremeCardVO.isgetMonth=e.isGetMonthTime),e.isGetForever&&(App.DE.supremeCardVO.isgetForever=e.isGetForever),e.isGetExp&&(App.DE.supremeCardVO.isGetExpCard=e.isGetExp),e.weekDays&&(App.DE.supremeCardVO.isWeekTime=e.weekDays),e.monthTimeDays&&(App.DE.supremeCardVO.isMonthTime=e.monthTimeDays),e.foreverDays&&(App.DE.supremeCardVO.isForeverTime=e.foreverDays),e.expDays&&(App.DE.supremeCardVO.isExpCardTime=e.expDays),e.weekTotalGet&&(App.DE.supremeCardVO.weekTotalGet=e.weekTotalGet),e.monthTotalGet&&(App.DE.supremeCardVO.monthTotalGet=e.monthTotalGet),vkG.$d(UtJ.HX_))},t.WB=function(e){App.BX.PpQ(1013,void 0,e)},t}(BQO);__reflect(SupremeMsgProxy.prototype,"SupremeMsgProxy");var SwordTombMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1028,e.re,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1028,e.re,e)},t.prototype.re=function(e){e&&(App.DX.bestName=e.maxName||fvg.GVf("462"),App.DX.bestScore=e.maxLevel||0,App.DX.sweepCount=e.mop||0,App.DX.curFloor=(e.level||0)+1,vkG.$d(UtJ.JOW))},t.VH=function(){App.BX.PpQ(1044,1)},t}(BQO);__reflect(SwordTombMsgProxy.prototype,"SwordTombMsgProxy");var TaiyiMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;
App.BX.addEventListener(322,e.aw,e),App.BX.addEventListener(323,e.vd,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(322,e.aw,e),App.BX.removeEventListener(323,e.vd,e)},t.prototype.aw=function(e){e&&(this.oto(e,App.HL.taiyiInfo),vkG.$d(UtJ.YX))},t.prototype.vd=function(e){e&&(this.oto(e,App.HL.taiyiMasterInfo),vkG.$d(UtJ.EDC))},t.NM=function(e,t){App.BX.PpQ(301,e,t)},t.WT=function(e,t){App.BX.PpQ(303,e,t)},t.SJ=function(e,t,n){App.BX.PpQ(302,e,t,n)},t}(BQO);__reflect(TaiyiMsgProxy.prototype,"TaiyiMsgProxy");var TaskMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(4,e.xl,e),App.BX.addEventListener(88,e.am,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(4,e.xl,e),App.BX.removeEventListener(88,e.am,e)},t.prototype.xl=function(e){for(var t,n,i=e.length,r=0,a=0;i>a;a++)if(n=e[a],!(n.tid<=0||n.taskType<=0))switch(r|=1<<n.taskType,n.taskType){case 1:t=App.QA.taskVo,t.tid=n.tid,t.pro=n.pro,t.taskTemplate=n,t.taskType=n.taskType;var o=XCA.BY(t.tid);o&&(t.taskTemplate.vid=o.vid,t.taskTemplate.detail=o.detail);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:t=App.QA.getTaskByIdAndType(n.tid,n.taskType),!t&&(t=GObj.$c(TaskVO)),t.tid=n.tid,t.taskType=n.taskType,t.pro=n.pro,t.isComp=n.isComp,App.QA.updateTask(t)}(2&r)>0&&vkG.$d(UtJ.ER),(4&r)>0&&vkG.$d(UtJ.WSU),(8&r)>0&&vkG.$d(UtJ.BI),(16&r)>0&&vkG.$d(UtJ.MV),(32&r)>0&&vkG.$d(UtJ.PQI),(64&r)>0&&vkG.$d(UtJ.PE),(128&r)>0&&vkG.$d(UtJ.RZ),(256&r)>0&&vkG.$d(UtJ._S)},t.prototype.am=function(e){if(e){e.my&&(App.QA.myrank=e.my),App.QA.rankInfo.splice(0,App.QA.rankInfo.length);for(var t=0;20>t;t++)if(e[t]){var n=new Object;n.name=e[t].name,n.level=e[t].chapter,n.diaInfo=e[t].diaInfo,App.QA.rankInfo.push(n)}vkG.$d(UtJ._O)}},t.EJ=function(e){App.BX.PpQ(7,void 0,e)},t.KE=function(e){App.BX.PpQ(25,void 0,e,void 0,"main")},t}(BQO);__reflect(TaskMsgProxy.prototype,"TaskMsgProxy");var TeamCopyMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(57,e.qy,e),App.BX.addEventListener(62,e.tq,e),App.BX.addEventListener(55,e.zy,e),App.BX.addEventListener(63,e.de,e),App.BX.addEventListener(72,e.ku,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(57,e.qy,e),App.BX.removeEventListener(62,e.tq,e),App.BX.removeEventListener(55,e.zy,e),App.BX.removeEventListener(63,e.de,e),App.BX.removeEventListener(72,e.ku,e)},t.prototype.ku=function(e){App.MB.ymgOverTime=App.NN.serverSecond+StaticData.YMG_TOTAL_TIME,vkG.$d(UtJ.AB)},t.prototype.de=function(e){e&&(App.MB.ymgMvpName=e.name,App.MB.ymgMvpHead=e.head,App.MB.ymgMvpHeads=e.heads,App.VS.popup(null,ResultsYmgPopUi))},t.prototype.zy=function(e){e&&(App.MB.ymgPass=e.le,vkG.$d(UtJ.EP,e.le))},t.prototype.tq=function(e){if(e){var t=App.MB.numDict;t||(App.MB.numDict=t={});for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r){r.ctl&&(App.MB.ymgRecord=r.ctl,delete r.ctl),r.mctl&&(App.MB.ymgMvpRecord=r.mctl,delete r.mctl);for(var a in r)t[a]=r[a]}}vkG.$d(UtJ.LO)}},t.prototype.qy=function(e){vkG.$d(UtJ.XL,e)},t.EK=function(e){App.HP.isScene||(App.HP.isScene=!1,PurgatoryMsgProxy.FW(8,App.KF.uid,110)),App.BX.PpQ(57,void 0,e)},t.BR=function(){App.BX.PpQ(10010,void 0)},t.IE=function(e){App.BX.PpQ(55,e)},t}(BQO);__reflect(TeamCopyMsgProxy.prototype,"TeamCopyMsgProxy");var TeamMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(153,e.ov,e),App.BX.addEventListener(154,e.ow,e),App.BX.addEventListener(155,e.xu,e),App.BX.addEventListener(156,e.jm,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(153,e.ov,e),App.BX.removeEventListener(154,e.ow,e),App.BX.removeEventListener(155,e.xu,e),App.BX.removeEventListener(156,e.jm,e)},t.prototype.ov=function(e){if(e){var t=e;App.PQ.noTeamPlayers=t,vkG.$d(UtJ.CG)}},t.prototype.ow=function(e){e&&(App.PQ.teamList=e,vkG.$d(UtJ.VM))},t.prototype.xu=function(e){e&&(e.tid>0?this.oto(e,App.PQ.myTeam):App.PQ.myTeam.reset(),vkG.$d(UtJ.CN))},t.prototype.jm=function(e){if(e){var t=fvg.GVf("teammsg"+e.s);usable(t)&&App.TT.show(t)}},t.JM=function(){App.BX.PpQ(10014,void 0)},t.FW=function(e){App.BX.PpQ(10015,void 0,e)},t.JI=function(e,t){App.BX.PpQ(10016,void 0,e,t)},t.PJ=function(e,t){App.BX.PpQ(10017,void 0,e,void 0,t)},t.VG=function(e){App.BX.PpQ(10018,void 0,e)},t.LL=function(e){App.BX.PpQ(10019,void 0,e)},t.YE=function(){App.BX.PpQ(10020,void 0)},t.JZ=function(e){App.BX.PpQ(149,void 0,e)},t}(BQO);__reflect(TeamMsgProxy.prototype,"TeamMsgProxy");var TownMagicMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(1040,e.js,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(1040,e.js,e)},t.prototype.js=function(e){e&&(App.DA.bestName=e.maxName||fvg.GVf("462"),App.DA.bestScore=e.maxLevel||0,App.DA.sweepCount=e.mop||0,App.DA.curFloor=(e.level||0)+1,vkG.$d(UtJ.HW))},t.HC=function(){App.BX.PpQ(1049,1)},t}(BQO);__reflect(TownMagicMsgProxy.prototype,"TownMagicMsgProxy");var TreasureMsgProxy=function(e){function t(){var t=e.call(this)||this;return t.gi=!0,t}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(177,e.li,e),App.BX.addEventListener(178,e.fj,e),App.BX.addEventListener(181,e.fu,e),App.BX.addEventListener(187,e.cf,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(177,e.li,e),App.BX.removeEventListener(178,e.fj,e),App.BX.removeEventListener(181,e.fu,e),App.BX.removeEventListener(187,e.cf,e)},t.prototype.li=function(e){if(e){for(var t,n=e,i=0;i<n.length;i++)for(var r in n[i])parseInt(r)>0&&(t=GObj.$c(nlwj),t.tid=parseInt(r),t.count=n[i][r],App.OG.addTreasureGoods(t));vkG.$d(UtJ.UEB)}},t.prototype.fj=function(e){var t=this;if(e){var n,i=App.OG.treasureInfo;for(var r in e)n=!1,isNaN(parseInt(r))?i[r]=e[r]:(i[r]||t.gi||(n=!0),i[r]=parseInt(e[r]),n&&1==i[r]&&t.az(parseInt(r)));vkG.$d(UtJ._A),t.gi=!1}},t.prototype.az=function(e){},t.prototype.fu=function(e){if(e){e.cap&&(App.JUY.bondsCap=e.cap);var t=App.OG.bindInfo;for(var n in e)isNaN(parseInt(n))?t[n]=e[n]:t[n]=parseInt(e[n]);vkG.$d(UtJ.SU)}},t.prototype.cf=function(e){e&&(App.OG.forgeCount=e.t||0,vkG.$d(UtJ.UEB))},t.RP=function(e,t){App.BX.PpQ(186,e,t)},t.VV=function(e){App.BX.PpQ(168,void 0,e)},t.QM=function(e){App.BX.PpQ(167,void 0,e)},t.YH=function(e){App.BX.PpQ(169,void 0,e)},t.RS=function(e){App.BX.PpQ(170,void 0,e)},t}(BQO);__reflect(TreasureMsgProxy.prototype,"TreasureMsgProxy");var ValentinesMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(348,e.nw,e),App.BX.addEventListener(349,e.jv,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(348,e.nw,e),App.BX.removeEventListener(349,e.jv,e)},t.prototype.jv=function(e){e&&(App.MA.valentinesVo.bigpreview=e.bigpreview,vkG.$d(UtJ.WVV))},t.prototype.nw=function(e){e&&(e.layer&&(App.MA.valentinesVo.layer=e.layer),e.position?App.MA.valentinesVo.position=e.position:App.MA.valentinesVo.position=0,e.preview&&(App.MA.valentinesVo.preview=e.preview),e.roll?App.MA.valentinesVo.roll=e.roll:App.MA.valentinesVo.roll=0,vkG.$d(UtJ.DQB))},t}(BQO);__reflect(ValentinesMsgProxy.prototype,"ValentinesMsgProxy");var VolverMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(228,e.ox,e),vkG.$a(UtJ.YXZ,e.kr,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(228,e.ox,e)},t.prototype.ox=function(e){e&&(e.award&&(App.UZ.loginaward=e.award),e.days&&(App.UZ.logindays=e.days),e.close?App.UZ.isVolver=!0:0==e.close&&(App.UZ.isVolver=!1),e.first?App.UZ.isFirst=!0:0==e.first&&(App.UZ.isFirst=!1),vkG.$d(UtJ.YXZ))},t.prototype.kr=function(){},t.QJ=function(e){App.BX.PpQ(216,void 0,e)},t.UL=function(){App.BX.PpQ(217,void 0,void 0,void 0)},t}(BQO);__reflect(VolverMsgProxy.prototype,"VolverMsgProxy");var WealthDishMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(39,e.jr,e),App.BX.addEventListener(54,e.gy,e),App.BX.addEventListener(523,e.hw,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(39,e.jr,e),App.BX.removeEventListener(54,e.gy,e),App.BX.removeEventListener(523,e.hw,e)},t.prototype.gy=function(e){if(e){var t,n,i;for(var r in e)if(t=e[r],n=parseInt(r),i=App.UU.getWealthdishVO(n),t&&i){ObjectUtil.oto(t,i),i.hasInfo=!0;var a=t;if(a instanceof Array){var o=i.notices,s=o.length||0,p=a.length||0;s+p>10&&(p>10&&(a.length=10,p=10),p=10-p,s>p&&(s-=p,o.splice(0,s))),i.notices=a.concat(o)}}vkG.$d(UtJ.ABT)}},t.prototype.jr=function(e){if(e){var t,n,i;for(var r in e)t=e[r],n=parseInt(r),i=App.UU.getWealthdishVO(n),t&&i&&(ObjectUtil.oto(t,i),i.hasInfo=!0);vkG.$d(UtJ.PNM)}},t.prototype.hw=function(e){if(e)if(App.UU.skipTenEffect){for(var t=[],n=void 0,i=0,r=e.length;r>i;i++){n=GObj.$c(nlwj);for(var a in e[i])n.tid=parseInt(a),n.count=e[i][a];t.push(n)}vkG.$d(UtJ.KE,t)}else{var o=GObj.$c(CardDrawEffect,e);o.show()}},t.TG=function(e){App.BX.PpQ(775,e)},t}(BQO);__reflect(WealthDishMsgProxy.prototype,"WealthDishMsgProxy");var WulinLeagueMsgProxy=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.addEvent=function(){var e=this;App.BX.addEventListener(275,e.qk,e),App.BX.addEventListener(276,e.lp,e),App.BX.addEventListener(277,e.ea,e),App.BX.addEventListener(285,e.td,e),App.BX.addEventListener(286,e.fc,e),App.BX.addEventListener(287,e.wn,e),App.BX.addEventListener(288,e.xg,e),App.BX.addEventListener(260,e.no,e),App.BX.addEventListener(261,e.vo,e),App.BX.addEventListener(290,e.dt,e),App.BX.addEventListener(278,e.bn,e),App.BX.addEventListener(293,e._y,e),App.BX.addEventListener(279,e.fm,e)},t.prototype.removeEvent=function(){var e=this;App.BX.removeEventListener(275,e.qk,e),App.BX.removeEventListener(276,e.lp,e),App.BX.removeEventListener(277,e.ea,e),App.BX.removeEventListener(285,e.td,e),App.BX.removeEventListener(286,e.fc,e),App.BX.removeEventListener(287,e.wn,e),App.BX.removeEventListener(288,e.xg,e),App.BX.removeEventListener(260,e.no,e),App.BX.removeEventListener(261,e.vo,e),App.BX.removeEventListener(290,e.dt,e),App.BX.removeEventListener(278,e.bn,e),App.BX.removeEventListener(293,e._y,e),App.BX.removeEventListener(279,e.fm,e)},t.prototype.qk=function(e){if(e){var t=(e.length,[]);for(var n in e)1==e[n].type&&(App.JG.masterInfo=e[n]),6==e[n].type&&(App.JG.flagInfo=e[n]),t.push(e[n]);var i=App.JG.memberList.memberList;this.oto(t,i),vkG.$d(UtJ.EJG)}},t.prototype.lp=function(e){if(e&&e.list){var t=[],n=(e.list.length,e.list);for(var i in n)n[i]&&t.push(n[i]);App.JG.plist=t,vkG.$d(UtJ.DP)}},t.prototype.ea=function(e){e&&vkG.$d(UtJ.KW)},t.prototype.td=function(e){e&&(App.JG.practiceInfo=e,vkG.$d(UtJ.VY))},t.prototype.fc=function(e){if(e){var t=App.JG.stuntInfo;for(var n in e)t[n]=e[n];vkG.$d(UtJ.OZ)}},t.prototype.wn=function(e){if(e){var t=App.JG.stuntSkillInfo;for(var n in e)t[n]=e[n];vkG.$d(UtJ.KT)}},t.prototype.xg=function(e){e&&(e.cap&&(App.JG.knackCap=e.cap),vkG.$d(UtJ.XB))},t.prototype.no=function(e){e&&(this.oto(e,App.JG.wuShenTowerInfo),vkG.$d(UtJ.RU))},t.prototype.vo=function(e){e&&(this.oto(e,App.JG.wuShenPlunderInfo),vkG.$d(UtJ.MR))},t.prototype.dt=function(e){if(e){var t,n,i=App.SMF.currBuffer;for(n in e)t=parseInt(n),isNaN(t)||(App.SMF.updateBuffer(t,e[n]),i&&void 0!=i[n]&&delete i[n]);if(i)for(n in i)t=parseInt(n),isNaN(t)||App.SMF.deleteBuffer(t);App.SMF.currBuffer=e,vkG.$d(UtJ.IUY)}},t.prototype.bn=function(e){e&&(this.oto(e,App.JG.wuLinTreasuryInfo),App.JG.wuShenTowerInfo.score=App.JG.wuLinTreasuryInfo.score,vkG.$d(UtJ.FN))},t.prototype.fm=function(e){e&&e.msg&&vkG.$d(UtJ.NOT,e.msg)},t.prototype._y=function(e){e&&(e.day&&(App.JG.openDay=e.day),vkG.$d(UtJ.BC))},t.VD=function(e,t,n){App.BX.PpQ(265,void 0,e,t,n)},t.UC=function(){App.BX.PpQ(274,void 0)},t.ZL=function(e,t,n){App.BX.PpQ(275,e,t,n)},t.YQ=function(e){App.BX.PpQ(276,void 0,e)},t.Y_=function(e,t){App.BX.PpQ(277,void 0,e,t)},t.BZ=function(){App.BX.PpQ(278,void 0)},t.GC=function(e){App.BX.PpQ(279,void 0,e)},t.FO=function(){App.BX.PpQ(252,void 0)},t.AC=function(){App.BX.PpQ(255,void 0)},t.ZA=function(e){App.BX.PpQ(22017,void 0,e)},t.LJ=function(){App.BX.PpQ(254,void 0)},t.VZ=function(e){App.BX.PpQ(257,void 0,e)},t.RX=function(e){App.BX.PpQ(281,void 0,e)},t.BB=function(e){App.BX.PpQ(267,void 0,e)},t.XB=function(e){App.BX.PpQ(268,void 0,e)},t.NO=function(){App.BX.PpQ(259,void 0)},t.MF=function(e){App.BX.PpQ(269,void 0,void 0,void 0,e)},t.EH=function(e){App.BX.PpQ(286,void 0,e)},t}(BQO);__reflect(WulinLeagueMsgProxy.prototype,"WulinLeagueMsgProxy");var App=function(){function e(){}return e.GH=function(t){e._init_||(e._init_=!0,$windowInit(),$dataInit(),GConfig.init(t),$classRegiste(),e.HA=GApp.enterFrameMgr,e.NN=GApp.clockMgr,e.YX=GApp.stageMgr,e.EB=GApp.loaderMgr,e.VV=GApp.avatarLayer,e.VS=UIManager.instance,e.IG=UISet.instance,e.BX=SocketManager.instance,e.YE=BQOManager.instance,e.UY=SceneManager.instance,e.FT=alvJ.instance,e.GP=ViewSetManager.instance,e.AJ=FakeRedPointManager.instance,e.FT.init(t),GApp.layer=e.FT,e.HD=CommonManager.instance,e.WD=SpeedupManager.instance,e.TE=GApp.iconCache,e.BL=MouseRollManager.instance,e.BG=PlayerManager.instance,e.KF=e.BG.jkU,e.ZF=ActivityManager.instance,e.PV=RankManager.instance,e.FQ=ChatManager.instance,e.XT=SvipManager.instance,e.EO=VipManager.instance,e.AL=EmailManager.instance,e.DE=SupremeManager.instance,e.UU=WealthDishManager.instance,e.PD=SoundManager.instance,e.AI=AppellManager.instance,e.JA=IndulgeManager.instance,e.VX=pba.instance,e.MG=FunnyManager.instance,e.VM=DynamicManager.instance,e.AT=GoalManager.instance,e.HB=ArenaManager.instance,e.BM=RaidManager.instance,e.MT=HarryManager.instance,e.XV=RuneManager.instance,e.OG=TreasureManager.instance,e.JG=WulinLeagueManager.instance,e.HL=TaiyiManager.instance,e.WV=LuckEggManager.instance,e.MA=ValentinesManager.instance,e.QOR=SpiritLakeManager.instance,e.RG=RechargeGiftManager.instance,e.EJ=AchievementManager.instance,e.FX=MagicBladeManager.instance,e.KP=RevelryManager.instance,e.HP=PurgatoryManager.instance,e.CG=PvpManager.instance)},e.CN=function(){(e._init_||!e._load_over_)&&(e._load_over_=!0,$configDataInit(),$mapInit(),$frameRegiste(),$redRegiste(),$messageProxyInit(),e.OZ=ConfigManager.instance,e.UZ=VolverManager.instance,e.IQ=ShopManager.instance,e.FK=GxD.instance,e.QA=TaskManager.instance,e.MZ=BattleManager.instance,e.JO=SkillManager.instance,e.HG=_NR.instance,e.MB=CampaignManager.instance,e.NN=ClockManager.instance,e.CC=RewardHallManager.instance,e.KB=UIEffectFactory.instance,e.VP=SocietyManager.instance,e.DX=SwordTombManager.instance,e.DA=TownMagicManager.instance,e.XB=MartialArtManager.instance,e.JP=GObj.$c(GeneralCompute),e.JUY=KnightManager.instance,e.PI=ComposeManager.instance,e.JS=RetinueManager.instance,e.PQ=TeamManager.instance,e.ME=ConsManager.instance,e.IB=CrossHarryManager.instance,e.XD=CityBattleManager.instance,e.XQS=MineManager.instance,e.WW=ExploreManager.instance,e._B=OfficialManager.instance,e.RM=SpiritManager.instance,e.XL=AuctionManager.instance,e.ZT=CloakManager.instance,e.GY=LuckyDrawManager.instance,e.SMF=BuffManager.instance,e.BC=TipManager.instance,e.OX=HiddenWeaponManager.instance,e.OF=HoroskopManager.instance,e.XW=FamilyManager.instance,e.BV=CardManager.instance,e.SMF=BuffManager.instance,e.TT=MessageTipManager.instance,ActivateTipManager.instance,MagicBladeActivePopUi.instance,e.NG=HitalkSDKManager.instance,e.CW=ShuraManager.instance,e.RK=RedEnvelopesManager.instance,e.OO=FFMountainManager.instance,e.NG.init(),$barToolsInit())},e}();__reflect(App.prototype,"App");var AppellTemplate=function(){function e(){}return e.SZ=function(e){return int(e/100)%10},e.GH=function(e){return int(e/1e5)},e.ZT=function(e){return int(e/1e3)%100},e.TN=function(e){return int(e/1e3)},e.LB=function(e){return int(e%100)},e}();__reflect(AppellTemplate.prototype,"AppellTemplate");var AuctionTemplate=function(){function e(){}return e}();__reflect(AuctionTemplate.prototype,"AuctionTemplate");var BuffAttrTemplate=function(){function e(){}return e}();__reflect(BuffAttrTemplate.prototype,"BuffAttrTemplate");var BuffTemplate=function(){function e(){}return e}();__reflect(BuffTemplate.prototype,"BuffTemplate");var CampaignTemplate=function(){function e(){}return e}();__reflect(CampaignTemplate.prototype,"CampaignTemplate");var ComposeTemplate=function(){function e(){}return e}();__reflect(ComposeTemplate.prototype,"ComposeTemplate");var EveryDayActivityTemp=function(){function e(){this.chapter=0,this.reborn=0}return e}();__reflect(EveryDayActivityTemp.prototype,"EveryDayActivityTemp");var QNV=function(){function e(){}return e.masterType=function(e){return int(e/1e8)},e.sonType=function(e){return int(e/1e5)},e.VS=function(e){return int(e/1e5)%1e3},e.PA=function(e){return int(e/1e3)},e.OV=function(e){return int(e%100)},e.OJ=function(e){if(e>0){var t=this.sonType(e);return t>3300&&3400>t}return!1},e.ZT=function(e){if(e>0){var t=int(e/100);return 5005014==t||5005024==t}return!1},e.isSpiritEquipGoods=function(e){if(e>0){var t=this.sonType(e);return t>=Iwrv.UT&&t<=Iwrv.QH}return!1},e.EO=function(e){if(e>0){var t=this.sonType(e);return t>=Iwrv.CW&&t<=Iwrv.KG}return!1},e.JI=function(e){if(e>0){var t=this.sonType(e);return t>=Iwrv.QA&&t<=Iwrv.GD}return!1},e.WG=function(e){var t=this;if(!e||t.masterType(e.tid)!=Iwrv.CL)return fvg.GVf("public046");if(!t.isSpiritEquipGoods(e.tid))return e.needgrade>0&&e.needgrade>App.KF.grade?fvg.GVf("public031"):e.step>0&&e.step>App.BG.turnupInfo.grade?fvg.GVf("public045"):void 0},e}();__reflect(QNV.prototype,"QNV");var HoroskopChallengeTemplate=function(){function e(){}return e}();__reflect(HoroskopChallengeTemplate.prototype,"HoroskopChallengeTemplate");var PasinlayAttrTemplate=function(){function e(){}return e.prototype.init=function(){var e=this;e.ass=0,e.p1=0,e.p2=0,e.co=0,e.cr=0,e.scr=0,e.scd=0,e.sd=0,e.ap=0,e.h=0,e.s=0,e.pd=0},e.JD=function(e,t){return e.ass+=t.ass||0,e.p1+=t.p1||0,e.p2+=t.p2||0,e.co+=t.co||0,e.cr+=t.cr||0,e.scr+=t.scr||0,e.scd+=t.scd||0,e.sd+=t.sd||0,e.ap+=t.ap||0,e.h+=t.h||0,t.s&&(e.s=e.s>t.s?e.s:t.s),e.pd+=t.pd||0,e},e}();__reflect(PasinlayAttrTemplate.prototype,"PasinlayAttrTemplate");var RandomTemplate=function(){function e(){}return e}();__reflect(RandomTemplate.prototype,"RandomTemplate");var SocietyTemplate=function(){function e(){}return e}();__reflect(SocietyTemplate.prototype,"SocietyTemplate");var SuiteTemplate=function(){function e(){}return e}();__reflect(SuiteTemplate.prototype,"SuiteTemplate");var SwitchTemplate=function(){function e(){}return e}();__reflect(SwitchTemplate.prototype,"SwitchTemplate");var TaskTemplate=function(){function e(){}return e}();__reflect(TaskTemplate.prototype,"TaskTemplate");var XCA=function(){function e(){}return Object.defineProperty(e,"allTemplateData",{get:function(){return this._allTemplateData},set:function(e){var t=this;t._allTemplateData=e,t._allTemplateData&&(t.AQS=GObj.$c(UpgradeTempCate),t.AQS.setup(t._allTemplateData.upgradetemp))},enumerable:!0,configurable:!0}),e.FR=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.itemtemp?t.allTemplateData.itemtemp[e]:null},e.YV=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.attrtemp?t.allTemplateData.attrtemp[e]:null},e.EN=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.randomtemp?t.allTemplateData.randomtemp[e]:null},e.BY=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.tasktemp?t.allTemplateData.tasktemp[e]:null},e.ES=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.oneboss?t.allTemplateData.oneboss[e]:null},e.EA=function(){var e=this;if(e.onebossList)return e.onebossList;if(e.onebossList=[],e.allTemplateData&&e.allTemplateData.oneboss){var t=void 0;for(var n in e.allTemplateData.oneboss)t=e.allTemplateData.oneboss[n],e.onebossList.push(t)}return e.onebossList.sort(e.templateSort),e.onebossList},e.UT=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.vipboss?t.allTemplateData.vipboss[e]:null},e.ZN=function(){var e=this;if(e.vipbossList)return e.vipbossList;if(e.vipbossList=[],e.allTemplateData&&e.allTemplateData.vipboss){var t=void 0;for(var n in e.allTemplateData.vipboss)t=e.allTemplateData.vipboss[n],e.vipbossList.push(t)}return e.vipbossList.sort(e.templateSort),e.vipbossList},e.UR=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.wlmeliteboss?t.allTemplateData.wlmeliteboss[e]:null},e.LK=function(){var e=this;if(e.elitebossList)return e.elitebossList;if(e.elitebossList=[],e.allTemplateData&&e.allTemplateData.wlmeliteboss){var t=void 0;for(var n in e.allTemplateData.wlmeliteboss)t=e.allTemplateData.wlmeliteboss[n],e.elitebossList.push(t)}return e.elitebossList.sort(e.templateSort),e.elitebossList},e.EH=function(){var e=this;if(e.realmTemp)return e.realmTemp;if(e.allTemplateData&&e.allTemplateData.warboss)for(var t in e.allTemplateData.warboss)return e.realmTemp=e.allTemplateData.warboss[t],e.realmTemp;return e.realmTemp},e.FE=function(){var e=this;if(e.bosshomeTemp)return e.bosshomeTemp;if(e.bosshomeTemp=[],e.allTemplateData&&e.allTemplateData.bosshomeboss){var t=void 0;for(var n in e.allTemplateData.bosshomeboss)t=e.allTemplateData.bosshomeboss[n],e.bosshomeTemp.push(t)}return e.bosshomeTemp.sort(e.templateSort),e.bosshomeTemp},e.ZI=function(){var e=this;if(e.flybossTemp)return e.flybossTemp;if(e.flybossTemp=[],e.allTemplateData&&e.allTemplateData.flyswordboss){var t=void 0;for(var n in e.allTemplateData.flyswordboss)t=e.allTemplateData.flyswordboss[n],e.flybossTemp.push(t)}return e.flybossTemp.sort(e.templateSort),e.flybossTemp},e.IE=function(){var e=this;if(e.townbossTemp)return e.townbossTemp;if(e.townbossTemp=[],e.allTemplateData&&e.allTemplateData.townmagicboss){var t=void 0;for(var n in e.allTemplateData.townmagicboss)t=e.allTemplateData.townmagicboss[n],e.townbossTemp.push(t)}return e.townbossTemp.sort(e.templateSort),e.townbossTemp},e.JB=function(){var e=this;if(e.auctionList)return e.auctionList;if(e.auctionList=[],e.allTemplateData&&e.allTemplateData.auctiontemp){var t=void 0;for(var n in e.allTemplateData.auctiontemp)t=e.allTemplateData.auctiontemp[n],e.auctionList.push(t)}return e.auctionList},e.HL=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.auctiontemp?t.allTemplateData.auctiontemp[e]:null},e.CZ=function(){var e=this;if(e.buffList)return e.buffList;if(e.buffList=[],e.allTemplateData&&e.allTemplateData.bufftemp){var t=void 0;for(var n in e.allTemplateData.bufftemp)t=e.allTemplateData.bufftemp[n],e.buffList.push(t)}return e.buffList},e.SZ=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.bufftemp?t.allTemplateData.bufftemp[e]:null},e.LV=function(){var e=this;if(e.buffAttrList)return e.buffAttrList;if(e.buffAttrList=[],e.allTemplateData&&e.allTemplateData.buffattrtemp){var t=void 0;for(var n in e.allTemplateData.buffattrtemp)t=e.allTemplateData.buffattrtemp[n],e.buffAttrList.push(t)}return e.buffAttrList},e.LY=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.buffattrtemp?t.allTemplateData.buffattrtemp[e]:null},e.RZ=function(e){var t=this;if(t.buffTempList=[],t.allTemplateData&&t.allTemplateData.buffattrtemp){var n=void 0;for(var i in t.allTemplateData.bufftemp)n=t.allTemplateData.bufftemp[i],n.pt==e&&t.buffTempList.push(n)}return t.buffTempList},e.XG=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.multiboss?t.allTemplateData.multiboss[e]:null},e.OE=function(){var e=this;if(e.talebossList)return e.talebossList;if(e.talebossList=[],e.allTemplateData&&e.allTemplateData.multiboss){var t=void 0;for(var n in e.allTemplateData.multiboss)t=e.allTemplateData.multiboss[n],e.talebossList.push(t)}return e.talebossList.sort(e.templateSort),e.talebossList},e.NM=function(){var e=this;if(e.explorebossList)return e.explorebossList;if(e.explorebossList=[],e.allTemplateData&&e.allTemplateData.jianghuexplorebosstemp){var t=void 0;for(var n in e.allTemplateData.jianghuexplorebosstemp)t=e.allTemplateData.jianghuexplorebosstemp[n],e.explorebossList.push(t)}return e.explorebossList.sort(e.templateSort),e.explorebossList},e.FH=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.mtcamp?t.allTemplateData.mtcamp[e]:null},e.PW=function(){var e=this;if(e.mtcampList)return e.mtcampList;if(e.mtcampList=[],e.allTemplateData&&e.allTemplateData.mtcamp){var t=void 0;for(var n in e.allTemplateData.mtcamp)t=e.allTemplateData.mtcamp[n],e.mtcampList.push(t)}return e.mtcampList.sort(e.templateSort),e.mtcampList},e.MW=function(){var e=this;if(e.turnupbossList)return e.turnupbossList;if(e.turnupbossList=[],e.allTemplateData&&e.allTemplateData.turnupboss){var t=void 0;for(var n in e.allTemplateData.turnupboss)t=e.allTemplateData.turnupboss[n],e.turnupbossList.push(t)}return e.turnupbossList.sort(e.templateSort),e.turnupbossList},e.MQ=function(){var e=this;if(e.wushenBossList)return e.wushenBossList;e.wushenBossList=[];var t=e.allTemplateData?e.allTemplateData.wulinboss:null;if(t)for(var n in t)e.wushenBossList.push(t[n]);return e.wushenBossList},e.BR=function(){var e=this;if(e.everyDayActivityList)return e.everyDayActivityList;if(e.everyDayActivityList=[],e.allTemplateData&&e.allTemplateData.everydayactivitytemp){var t=void 0;for(var n in e.allTemplateData.everydayactivitytemp)t=e.allTemplateData.everydayactivitytemp[n],1==t.type&&e.everyDayActivityList.push(t)}return e.everyDayActivityList.sort(e.dailySort),e.everyDayActivityList},e.DD=function(){var e=this;if(e.limitActivityList)return e.limitActivityList;if(e.limitActivityList=[],e.allTemplateData&&e.allTemplateData.everydayactivitytemp){var t=void 0;for(var n in e.allTemplateData.everydayactivitytemp)t=e.allTemplateData.everydayactivitytemp[n],2==t.type&&e.limitActivityList.push(t)}return e.limitActivityList.sort(e.dailySort),e.limitActivityList},e.GW=function(e){var t=this;if(t.otherCampDict)return t.otherCampDict[e];if(t.otherCampDict=[],t.allTemplateData&&t.allTemplateData.othercamp){var n=void 0;for(var i in t.allTemplateData.othercamp)n=t.allTemplateData.othercamp[i],t.otherCampDict[n.type]=n}return t.otherCampDict[e]},e.AE=function(){var e=this;if(e.exploreTempList&&e.exploreTempList.length>0)return e.exploreTempList;if(e.exploreTempList=[],e.allTemplateData&&e.allTemplateData.jianghuexploregametemp){var t=[];for(var n in e.allTemplateData.jianghuexploregametemp)t.push(e.allTemplateData.jianghuexploregametemp[n]);e.exploreTempList=t}return e.exploreTempList},e.BU=function(){var e=this;if(e.exploreResultList&&e.exploreResultList.length>0)return e.exploreResultList;if(e.exploreResultList=[],e.allTemplateData&&e.allTemplateData.jianghuexploregameresulttemp){var t=[];for(var n in e.allTemplateData.jianghuexploregameresulttemp){var i=GObj.$c(ExploreResultVo);i.id=n,i.content=e.allTemplateData.jianghuexploregameresulttemp[n],t.push(i)}e.exploreResultList=t}return e.exploreResultList},e.DG=function(e,t){var n=this;return n.allTemplateData&&n.allTemplateData.previewtemp?n.allTemplateData.previewtemp[e+QycO.SY+t]||"":QycO.OK},e.RE=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.previewtemp?t.allTemplateData.previewtemp[e]||"":QycO.OK},e.CG=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.configtemp?t.allTemplateData.configtemp[e]||"":QycO.OK},e.MF=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.permissiontemp?t.allTemplateData.permissiontemp[e]:null},e.BTK=function(e){var t=this;e&&t.allTemplateData&&t.allTemplateData.permissiontemp&&(t.allTemplateData.permissiontemp[e.id]=e)},e.CS=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.appelltemp?t.allTemplateData.appelltemp[e]:null},e.RW=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.forgetemp?t.allTemplateData.forgetemp[e]:null},e.QT=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.suitetemp?t.allTemplateData.suitetemp[e]:null},e.templateSort=function(e,t){return e.tid<t.tid?-1:1},e.dailySort=function(e,t){return parseInt(e.sort)<parseInt(t.sort)?-1:1},e.UJ=function(){var e=this;if(e.challengeList)return e.challengeList;if(e.challengeList=[],e.allTemplateData&&e.allTemplateData.challengetemp){var t=void 0;for(var n in e.allTemplateData.challengetemp)t=e.allTemplateData.challengetemp[n],e.challengeList.push(t)}return e.challengeList.sort(e.challengeSort),e.challengeList},e.ANA=function(e){var t=this;return t.allTemplateData&&t.allTemplateData.challengetemp?t.allTemplateData.challengetemp[e]:null},e.challengeSort=function(e,t){return parseInt(e.id)<parseInt(t.id)?-1:1},e.WH=function(){var e=this;if(e.familyWarList)return e.familyWarList;e.familyWarList=[];var t=e.allTemplateData?e.allTemplateData.familywar:QycO.BE;for(var n in t)e.familyWarList.push(t[n]);return e.familyWarList},e.MSJ=function(){var e=this;return e.allTemplateData&&e.allTemplateData.spiritboss?e.allTemplateData.spiritboss:null},e.CR=function(){var e=this;if(e.psBossList)return e.psBossList;if(e.psBossList=[],e.allTemplateData&&e.allTemplateData.godspiritboss){var t=void 0;for(var n in e.allTemplateData.godspiritboss)t=e.allTemplateData.godspiritboss[n],e.psBossList.push(t)}return e.psBossList.sort(e.templateSort),e.psBossList},e.TM=function(e){var t=this;t.allTemplateData&&t.allTemplateData.configtemp&&t.allTemplateData.configtemp[e]&&delete t.allTemplateData.configtemp[e]},e.VV=function(){var e=this;if(e.ffmList)return e.ffmList;if(e.ffmList=[],e.allTemplateData&&e.allTemplateData.newserverboss){var t=void 0;for(var n in e.allTemplateData.newserverboss)t=e.allTemplateData.newserverboss[n],e.ffmList.push(t)}return e.ffmList.sort(e.templateSort),e.ffmList},e}();__reflect(XCA.prototype,"XCA");var Templates=function(){function e(){}return e}();__reflect(Templates.prototype,"Templates");var gLw=function(){function e(){}return e.GM=function(e){var t=XCA.AQS.getGradeTempByTId(e);return t?t.qua||int(e/1e3)%10:1},e.DM=function(e){return int(e/1e9)},e.RO=function(e){return int(e/1e6)},e.IQ=function(e){return int(e/1e6)%1e3},e.WZ=function(e){return int(e%1e6/1e3)
},e.FJ=function(e){return int(e%1e3)},e.getIconIdByTid=function(e){return int(e/1e4)},e.QY=function(e){return kLM.UC(this.getIconIdByTid(e))},e._X=function(e,t){return e.sort<t.sort?-1:1},e}();__reflect(gLw.prototype,"gLw");var UpgradeTempCate=function(){function e(){}return e.prototype.setup=function(e){var t=this;if(e){t.oc={};var n,i,r,a,o,s;for(n in e)i=gLw.DM(parseInt(n)).toString(),r=gLw.IQ(parseInt(n)).toString(),a=gLw.FJ(parseInt(n)).toString(),o=t.oc[i],o||(o={},t.oc[i]=o),s=o[r],s||(s={},o[r]=s),s.hasOwnProperty(a)&&errorNull("UpgradeTempCatekey, tid:"+n),s[a]=e[n]}},e.prototype.getGradeTempByTId=function(e){var t=gLw.DM(e),n=gLw.IQ(e),i=gLw.FJ(e);return this.UFA(t,n,i)},e.prototype.UFA=function(e,t,n){var i=this.getGradeTempByMasTypeAndSubType(e,t);return i?i[n]:null},e.prototype.oVs=function(e){var t=this.oc[e];return t?t:null},e.prototype.getGradeTempByMasTypeAndSubType=function(e,t){var n=this.oVs(e);return n?n[t]:null},e}();__reflect(UpgradeTempCate.prototype,"UpgradeTempCate");var MouseButton=function(e){function t(){var t=e.call(this)||this;return App.BL.add(t),t}return __extends(t,e),t.prototype.dispose=function(){App.BL.remove(this)},t}(eui.Button);__reflect(MouseButton.prototype,"MouseButton");var TextElement=function(){function e(){}return Object.defineProperty(e.prototype,"text",{get:function(){return this.oa},set:function(e){this.oa=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this.of},set:function(e){this.of=e},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;GObj.$d(e.of),e.of=null},e}();__reflect(TextElement.prototype,"TextElement",["egret.ITextElement"]);var UIFilter=function(){function e(){}return e.SN=function(){var e=this;return null==e._grayFilter&&(e._grayFilter=new egret.ColorMatrixFilter([.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0])),e._grayFilter},e.HR=function(){var e=this;if(null==e._darkFilter){var t=[];t=t.concat([.3,0,0,0,0]),t=t.concat([0,.3,0,0,0]),t=t.concat([0,0,.3,0,0]),t=t.concat([0,0,0,1,0]),e._darkFilter=new egret.ColorMatrixFilter(t)}return e._darkFilter},e._G=function(){var e=this;if(null==e._redFilter){var t=[];t=t.concat([1,0,0,0,0]),t=t.concat([0,1,0,0,0]),t=t.concat([0,0,1,0,0]),t=t.concat([0,0,0,1,0]),e._redFilter=new egret.ColorMatrixFilter(t)}return e._redFilter},e.VV=function(){var e=this;if(null==e._lightingFilter){var t=[];t=t.concat([1.71,0,0,0,-10.885]),t=t.concat([0,1.71,0,0,-10.885]),t=t.concat([0,0,1.71,0,-10.885]),t=t.concat([0,0,0,1,0]),e._lightingFilter=new egret.ColorMatrixFilter(t)}return e._lightingFilter},e}();__reflect(UIFilter.prototype,"UIFilter");var YTU=function(){function e(){}return e.BW="bigbggroup_json",e.TJ="magicweapon_json",e.RQ="role_json",e.QD="rolepop_json",e.UA="bag_json",e.G_="card_json",e.JG="store_json",e.OE="skill_json",e.UE="rune_json",e.R_="smelting_json",e.PG="renown_json",e.NY="god_json",e.YM="task_json",e.VH="wulin_json",e.BJ="chat_json",e.PT="recharge_json",e.ZE="vip_json",e.DD="preview_json",e.KF="arena_json",e.UX="taiyi_json",e.BR="family_json",e.IH="family2_json",e.AZ="familywar_json",e.CA="society_1_json",e.OJ="explore_json",e.CP="exploremap_json",e.ME="mine_json",e.OT="mine_1_json",e.NM="mine_2_json",e.TR="mine_3_json",e.WE="harry_json",e.DI="crossharry_json",e.DH="spirit_json",e.EQ="beauty_json",e._X="hiddenweapon_json",e.IZ="immortalequip_json",e.VN="official_json",e.YL="elitechallenge_json",e.KY="boss_json",e.QA="shura_json",e.WW_="teamcopy_json",e._V="bosshome_json",e.XJ="pavilion_json",e.PVI="stunt_json",e.GV="zhenwu_json",e.KI="wulintreasury_json",e.J_="wushentower_json",e.RC="martialart_1_json",e.BU="martialart_2_json",e.TD="martialart_3_json",e.JP="martialart_4_json",e.FP="godskill_json",e.YA="campaign_json",e.QFP="immortall_json",e.LG="pet_json",e.MJ="rebate_json",e.WK="treasury_json",e.UF="story_json",e.QK="offline_json",e.TP="email_json",e.MI="shop_json",e.DS="alltogethergift_json",e.WY="auction_json",e.EH="bank_json",e.ST="beast_json",e.H_="bindphone_json",e.ZUD="bluediamond_json",e.SH="cloak_json",e.ED="collecthall_json",e.AN="collectranking_json",e.TU="cons_json",e.WA="continuecharge_json",e.OY="core_json",e.XG="pvp_json",e.JJ="crossarena_json",e.KZ="crossarenatop_json",e.TW="crossharrymap_json",e.GB="dailyactivity_json",e.TN="damage_json",e.HP="die_json",e.VV="drop_json",e.SS="evdayrechg_json",e.PB="fashion_json",e.WO="firstcharge_json",e.AM="frame_json",e.MR="frameact_json",e.IC="framehd_json",e.IL="funny_json",e._H="game_json",e.VJ="gangtreasure_json",e.UVP="treasure_json",e.CI="girl_json",e.OU="goal_json",e.UG="hardsociety_json",e.OV="harrybox_json",e.ACW="harrymap_json",e.FQ="citybattlemap_json",e.JEP="harrytotal_json",e.YI="holyegg_json",e.MM="horoskopframe_json",e.EX="indulge_json",e.QN="intoworld_json",e.ND="knight_json",e.WD="landingseven_json",e.CY="loading_json",e.ZD="luckegg_json",e.PI="luckydraw_json",e.EE="magicdisk_json",e.AQ="maintoolbar_json",e.JA="map_json",e.QL="match_json",e.FK="multiplayer_json",e.IY="newbie_json",e.QX="novicearrow_json",e.DM="packs_json",e.CF="privilege_json",e.FG="privilege_1_json",e.ZL="qzonecover_json",e.KC="rank_json",e.JW="results_json",e.XX="rewardhall_json",e.GK="rwbs_json",e.WJ="selectrole_json",e.CJ="selectroleii_json",e.DG="selectserver_json",e.WP="setting_json",e.SK="soaring_json",e.LM="straightbuy_json",e.DU="superequip_json",e.YR="supreme_json",e.KH="supremeart_json",e.RX="teamcopymap_json",e._B="treasurehunting_json",e.B_="txblue_json",e.EIV="valentines_json",e.LO="vippre_json",e.UT="volver_json",e.JI="volveresp_json",e.XR="wanbashare_json",e.DR="wealthdish_json",e.CZ="wulinsupreme_json",e.GM="rechargegift_json",e.DO="vow_json",e.FM="achievement_json",e.OSO="magicblade_json",e.MT="magicblade2_json",e.XSO="magicfairy_json",e.GW="oneyuanbuy_json",e.JZ="eightdoors_json",e.ZM="four_json",e.RL="hangup_json",e.LX="growreward_json",e.DY="smelting_json",e.YD="changename_json",e.UD="greatsaint_json",e.LLE="svipiv_json",e.YUG="newrevelry_json",e.MG="vipcard_json",e.QM="monkeykingcard_json",e.GN="godsuit_json",e.TDM="purgatory_json",e.HI_="collection_json",e.GL="collectionpack_json",e.NB="windowpack_json",e.JRB="carnival_json",e.QF="storeup_json",e.YE="redenvelopes_json",e.RE="oneyuan_json",e.SF="directbuy_json",e.ML="fightanimation_json",e.RM="swordraids_json",e.LD="flysword_json",e.DB="ffmountain_json",e.JX="subscribe_json",e.NA="activationpop_json",e.IXW="style_json",e.NP="spirits_json",e.PZY="townmagic_json",e.PP="supervip_json",e.ZH="qqcustomer_json",e.DK="directcrash_json",e}();__reflect(YTU.prototype,"YTU");var KqZ=function(){function e(){}return e.ZM=1,e.CI=2,e.NW=3,e.QF="DynamicFrame",e.QA="NewFunnyFrame",e.NI="MagicWeaponFrame",e.YY="StoreFrame",e.AS="BagFrame",e.CT="RoleFrame",e.BT="SkillFrame",e.WM="ImmortallFrame",e.YU="ShopFrame",e.QG="RankFrame",e.KW="EmailFrame",e.YD="GodFrame",e.JG="TaskFrame",e.ZK="BossFrame",e.PI="BossHomeFrame",e.PT="CampaignFrame",e.XW="ChatFrame",e.XA="ArenaFrame",e.AG="SuperequipFrame",e.AN="RechargeVipFrame",e.CE="SupremeFrame",e.EK="RewardHallFrame",e.MM="WealthDishFrame",e.GH="CorRecord",e.SW="LandingSevenFrame",e.VI="BankFrame",e.FV="FightingWinPopUi",e.ON="FightingLosePopUi",e.RB="HangUpPopUi",e._S="SelectServerFrame",e.HG="SelectRoleFrame",e.AF="SelectRoleFrameII",e.TXC="IntoWorldFrame",e.GI="MultipplayerFrame",e.LR="TeamCopyFrame",e.IV="TeamCopyMap",e.TC="GodSpiritMap",e.AY="MartialArtFrame",e.WO="MartialArtSelfFrame",e.CJ="MartialArtProvokeFrame",e.QO="RechargeGiftFrame",e.PN="VowFrame",e.IT="AchievementFrame",e.HW="IndulgeTipsFrame",e.BA="EvDayReChgFrame",e.IC="PreviewFrame",e.XF="VippreFrame",e.MX="GoalFrame",e.CM="FunnyFrame",e.TFP="FashionFrame",e.YP="PacksFrame",e.PMR="HarryFrame",e.ZD="HarryMap",e.OT="NewBieFrame",e.FS="MartialArtLeaderFrame",e.RQ="AllTogetherGiftFrame",e.CZ="GrilFrame",e.AV="CrossArenaTopFrame",e.UQ="SoaringFrame",e.KLU="KnightFrame",e.DR="RebateFrame",e.HC="GodSkillFrame",e._A="BeastFrame",e.CX="MagicDiskFrame",e.LB="RetinueFrame",e.ER="WbFirstShareFrame",e.GP="WbShareFrame",e.YC="ShareFrame",e.SL="StraightBuyFrame",e.YO="ConsFrame",e.US="GangTreasureFrame",e.IE="QzoneCoverFrame",e.RK="CrossHarryFrame",e.CK="CrossHarryMap",e.HV="ResultsCrossHarryFrame",e.LL="ResultsCityBattleFrame",e.FQ="DefendMap",e.UT="BindPhoneFrame",e.GY="TreasureFrame",e.MR="OfficialFrame",e.QN="OfficialRankFrame",e.JB="CloakFrame",e.QB="HardSocietyFrame",e.HJU="DailyActivityFrame",e.MH="MineFrame",e.ZC="TreasuryFrame",e.GF="CollectionPopUi",e.YT="CollectHallFrame",e.GE="VolverFrame",e.BF="AuctionFrame",e.WL="GameSetFrame",e.RG="FunnyLuckyDrawFrame",e.DC="WuLinLeagueFrame",e.RZ="ZhenwuFrame",e.KU="PavilionFrame",e.XG="WushenTowerFrame",e.AB="StuntFrame",e.PO="WulinTreasuryFrame",e.MI="TreasureHuntingFrame",e.OO="EliteChallengeFrame",e.XD="EliteCheckpointFrame",e.XH="EliteLastBossFrame",e.FK="BlueDiamondFrame",e.DF="HiddenWeaponFrame",e.FZ="CityBattleRankFrame",e.OAO="HoroskopGeneralFrame",e.FC="FamilyFrame",e.OL="FamilyCreateFrame",e.LK="CardFrame",e.AK="ValentinesFrame",e.HO="ValentinesSortFrame",e.PC="ContinueChargeFrame",e.LM="SpiritLakeView",e.V_="ThreeWorldFrame",e.ZN="BulletinFrame",e.FF="OfflineRevenuePopUi",e.IS="HarryTotalPopUi",e.UW="HarryboxPopUi",e.MO="FunnyluckyRecordFrame",e.GR="ResultsHarryFrame",e.XX="MagicBladeFrame",e.PY="ImplementFrame",e.KJ="BeautysFrame",e.JM="FirstChargeFrame",e.TE="GreatSaintFrame",e.TOO="SvipIVGoodsFrame",e.EN="newrevelryFrame",e.NZ="VipCardFrame",e.SZQ="CarnivalFrame",e.TO="FunnyFestivlActFrame",e.DA="DirectFrame",e.O_="FFMountainFrame",e.MU="FlySwordFrame",e.XU="StyleFrame",e.UL="YuanShenFrame",e.KA="CityBattleScoreRewardPopUi",e.YW="LuckEggPopUi",e.KS="OneYuanBuyPopui",e.TI="EightDoorsPopUi",e.MQ="FourPopUi",e.HT="MartialartMatchPopUi",e.VB="GrowRewardPopUi",e.NC="SmeltingPopUi",e.PR="ChangeNamesPopUi",e.MS="GodSuitFrame",e.QL="FirstChargePopUi",e.QWM="RaidPopUi",e.TK="CollectionPackPopUi",e.JS="WindowPackPopUi",e.SQ="SuperVipFrame",e.RL="QQCustomerPopUi",e.HM="DirectCrashPopUi",e}();__reflect(KqZ.prototype,"KqZ");var LRJ=function(){function e(){}return e.WS=function(e,t,n,i,r){void 0===t&&(t="attrType1"),void 0===n&&(n=0),void 0===i&&(i=!1),void 0===r&&(r={});var a=XCA.YV(e);return this.getAttrStringArrByAttrTemp(a,t,n,i,r)},e.getAttrStringArrByAttrTemp=function(e,t,n,i,r){void 0===t&&(t="attrType1"),void 0===n&&(n=0),void 0===i&&(i=!1),void 0===r&&(r={});var a=[];if(!e)return[];var o,s,p=xxf.UK,l="",c=0;for(var u in p)if(void 0!=e[u]){if("atk"==u){o=e[u],isNaN(n)||(o=Math.round(o+o*n));continue}if("atkmax"==u){s=e[u],isNaN(n)||(s=Math.round(s+s*n));continue}c=e[u],n>0&&(c=Math.round(c+c*n)),i?a.push(fvg.GVf(t,c)):a.push(fvg.GVf(t,r[u]?r[u]:p[u],c))}var d="";isNaN(o)&&isNaN(s)||(!isNaN(o)&&o>0&&!isNaN(s)&&s>0?(c=Math.round((o+s)/2),d=i?fvg.GVf(t,c):fvg.GVf(t,r["atk|atkmax"]?r["atk|atkmax"]:fvg.GVf("attr01"),c)):!isNaN(o)&&o>0&&(isNaN(s)||0==s)?(c=o,d=i?fvg.GVf(t,o):fvg.GVf(t,fvg.GVf("public052"),o)):(isNaN(o)||0==o)&&!isNaN(s)&&s>0?(c=s,d=i?fvg.GVf(t,s):fvg.GVf(t,fvg.GVf("public053"),s)):d=i?fvg.GVf(t,"0"):fvg.GVf(t,r["atk|atkmax"]?r["atk|atkmax"]:fvg.GVf("attr01"),"0"),a.unshift(d)),p=xxf.IM;for(var u in p)e[u]&&(l=i?fvg.GVf(t,e[u]/10+"%"):fvg.GVf(t,r[u]?r[u]:p[u],e[u]/10+"%"),a.push(l));return a},e.KG=function(e,t,n,i,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0),void 0===r&&(r=1);var a=XCA.YV(e);if(!a)return null;var o=xxf.UK,s="",p=0;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=o[l]+" +0":n?s+=fvg.GVf("skill006"):(p=a[l],isNaN(i)||(p=Math.round(p+p*i)),s+=o[l]+" +"+Math.round(p*r)));o=xxf.IM;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),s+=t?o[l]+" +0%":n?fvg.GVf("skill006"):o[l]+" +"+a[l]/10*r+"%");return s},e.JN=function(e,t,n,i,r){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0),void 0===r&&(r=1);var a=XCA.YV(e);if(!a)return null;var o=xxf.UK,s="",p=0;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),t?s+=" +0":n?s+=fvg.GVf("skill006"):(p=a[l],isNaN(i)||(p=Math.round(p+p*i)),s+=" +"+p*r));o=xxf.IM;for(var l in o)a[l]&&(s.length>0&&(s+="\n"),s+=t?0/0:n?fvg.GVf("skill006"):" +"+a[l]/10*r+"%");return s},e.IG=function(e,t){var n=XCA.YV(e);if(!n)return null;var i=xxf.UK,r="";for(var a in i)n[a]&&(r.length>0&&(r+="  "),r+=i[a]+" +"+n[a]*t);return r},e.RQ=function(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===i&&(i=0);var r=XCA.YV(e);if(!r)return null;var a=xxf.UK,o="",s=0;for(var p in a)r[p]&&(o.length>0&&(o+="\n"),t?o+=a[p]+fvg.GVf("wushen37"," 0"):n?o+=fvg.GVf("skill006"):(s=r[p],isNaN(i)||(s=Math.round(s+s*i)),o+=a[p]+" "+fvg.GVf("wushen37",s)));a=xxf.IM;for(var p in a)r[p]&&(o.length>0&&(o+="\n"),o+=t?a[p]+fvg.GVf("wushen37"," 0%"):n?fvg.GVf("skill006"):a[p]+" "+fvg.GVf("wushen37",r[p]/10+"%"));return o},e.JS=function(e,t,n,i,r){void 0===t&&(t=1),void 0===n&&(n=!0),void 0===i&&(i=!1),void 0===r&&(r=1);var a=XCA.YV(e);if(!a)return null;var o,s=xxf.UK,p=new Array;for(var l in s)a[l]&&(o=new AttrDataItem,o.attrType=AttrDataItem.ZV,o.attrKey=l,o.attrName=s[l],o.attrValue=a[l]*t*r,o.text=s[l]+"  +"+a[l]*t,p.push(o));s=xxf.IM;var c=n?"%":"";for(var l in s)a[l]&&(o=new AttrDataItem,o.attrType=AttrDataItem.GH,o.attrKey=l,o.attrName=s[l],o.attrValue=a[l]/10*r+c,o.text=s[l],p.push(o));return p},e.OK=function(e,t){var n=XCA.YV(e);if(!n)return null;var i=xxf.UK,r="";for(var a in i)n[a]&&(r.length>0&&(r+="\n"),r+=i[a]+"+"+n[a]*t);return r},e.FN=function(e){for(var t=GObj.$c(AttributeTemplate),n=0;n<e.length;n++)for(var i in e[n])(xxf.UK[i]||xxf.IM[i]||"p1"==i)&&(t[i]?t[i]+=e[n][i]:t[i]=e[n][i]);return t},e.XS=function(e,t){if(void 0===t&&(t="#007f09"),!e||e.length<=0)return null;for(var n=e.split("\n"),i=QycO.OK,r=QycO.OK,a=QycO.OK,o=QycO.OK,s=n.length,p=0;s>p;p++)a=n[p],a.indexOf("+")&&(i=a.substring(0,a.indexOf("+")),r=a.substring(a.indexOf("+"),a.length),o.length>0&&a&&(o+="\n"),o+=fvg.GVf("attrType3",i,t,r));return o},e.DV=function(e,t){var n=e[1],i=t[1];return n>i?1:i>n?-1:void 0},e}();__reflect(LRJ.prototype,"LRJ");var CondHelp=function(){function e(){}return e.WC=function(e,t){switch(e){case 1:return t<=App.KF.grade;case 2:return t<=App.BG.turnupInfo.grade;case 3:return t<=App.KF.chapter;case 4:return t<=App.XT.vipInfo.vipGrade;case 5:return t<=App.XW.familyInfo.g;case 6:return t<=kpd.FZ()}return!1},e.AH=function(e,t){var n=""+t;switch(e){case 2:n=App.JP.getTurnupName(t)}return fvg.GVf("cond"+e,n)},e}();__reflect(CondHelp.prototype,"CondHelp");var kpd=function(){function e(){}return e.HE=function(e){if(!e)return"00:00:00";var t=int(e/3600),n=QycO.OK;n+=10>t?"0"+t:t,n+=":";var i=int(e%3600/60);n+=10>i?"0"+i:i,n+=":";var r=e%60;return n+=10>r?"0"+r:r},e.TV=function(e){var t=QycO.OK,n=int(e/60);t+=10>n?"0"+n:n,t+=":";var i=e%60;return t+=10>i?"0"+i:i},e.formatDateBySec=function(e,t){void 0===t&&(t=!0);var n=this,i="";if(e>0){n.dateObj.setTime(1e3*e);var r=n.formatSingle(n.dateObj.getFullYear()),a=n.formatSingle(n.dateObj.getMonth()+1),o=n.formatSingle(n.dateObj.getDate()),s=n.formatSingle(n.dateObj.getHours()),p=n.formatSingle(n.dateObj.getMinutes()),l=n.formatSingle(n.dateObj.getSeconds());i=r+"-"+a+"-"+o,t&&(i+=" "+s+":"+p+":"+l)}return i},e.XS=function(e){var t=this,n="";if(e>0){t.dateObj.setTime(1e3*e);var i=t.formatSingle(t.dateObj.getHours()),r=t.formatSingle(t.dateObj.getMinutes());n=fvg.GVf("public096",i,r)}return n},e.RZ=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=this,r="";if(e>0){i.dateObj.setTime(1e3*e);var a=i.formatSingle(i.dateObj.getMonth()+1),o=i.formatSingle(i.dateObj.getDate()),s=i.formatSingle(i.dateObj.getHours()),p=i.formatSingle(i.dateObj.getMinutes()),l=i.formatSingle(i.dateObj.getSeconds());t&&(r=i.dateObj.getFullYear()+"-"),n&&(r+=a+"-"+o+" "),r+=s+":"+p+":"+l}return r},e.WX=function(e,t){void 0===t&&(t=!1);var n=this,i="";if(e>0){n.dateObj.setTime(1e3*e);var r=n.formatSingle(n.dateObj.getMonth()+1),a=n.formatSingle(n.dateObj.getDate()),o=n.formatSingle(n.dateObj.getHours()),s=n.formatSingle(n.dateObj.getMinutes()),p=n.formatSingle(n.dateObj.getSeconds());t&&(i=n.dateObj.getFullYear()+"."),i+=r+"."+a,i+=" "+o+":"+s+":"+p}return i},e.BR=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=this,r="";if(e>0){i.dateObj.setTime(1e3*e);var a=i.formatSingle(i.dateObj.getMonth()+1),o=i.formatSingle(i.dateObj.getDate()),s=i.formatSingle(i.dateObj.getHours()),p=i.formatSingle(i.dateObj.getMinutes()),l=i.formatSingle(i.dateObj.getSeconds());t&&(r=i.dateObj.getFullYear()+fvg.GVf("public039")),r+=a+fvg.GVf("public040")+o+fvg.GVf("public041"),n&&(r+=" "+s+":"+p+":"+l)}return r},e.YW=function(e){var t="00:00:00";if(e>0){var n=int(e/86400);if(n>0){var i=int(e%86400/3600),r=int(e%86400%3600/60);t=fvg.GVf("public049",n,i,r)}else t=this.formatDateBySec5(e)}return t},e.LR=function(e){var t="";if(e>0){var n=int(e/86400),i=int(e%86400/3600);t=n>0?fvg.GVf("public102",n,i):0>=n&&i>0?fvg.GVf("public103",i):this.formatDateBySec5(e)}return t},e.formatDateBySec5=function(e){var t=this,n="00:00:00";if(e>0){var i=int(e%86400);if(i>0){var r=t.formatSingle(int(i/3600)),a=t.formatSingle(int(i%3600/60)),o=t.formatSingle(int(i%3600%60));n=r+":"+a+":"+o}}return n},e.QC=function(e,t,n,i){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===i&&(i=!1);var r=this,a=[];if(e>0){if(r.dateObj.setTime(1e3*e),t){var o=r.formatSingle(r.dateObj.getHours());a.push(o)}if(n){var s=r.formatSingle(r.dateObj.getMinutes());a.push(s)}if(i){var p=r.formatSingle(r.dateObj.getSeconds());a.push(p)}}return a.join(":")},e.formatSingle=function(e){return 10>e?"0"+e:e.toString()},e.UE=function(){var e=this;return e.dateObj.setTime(App.NN.serverTime),e.dateObj.setHours(0),e.dateObj.setMinutes(0),e.dateObj.setSeconds(0),e.dateObj.getTime()/1e3},e.DC=function(){var e=864e5,t=App.NN.date.getTime(),n=App.KF.openServerTime,i=Math.ceil((t-n)/e);return i},e.FZ=function(){var e=864e5,t=App.NN.date.getTime(),n=this.getOpenServerZeroClock(),i=Math.ceil((t-n)/e);return Math.max(i,0)},e.NE=function(e){var t=864e5,n=this.curDateZeroClock(),i=Math.ceil((n-e)/t);return i},e.getOpenServerZeroClock=function(){var e=App.KF.openServerTime;return e-(e+288e5)%864e5},e.curDateZeroClock=function(){return App.NN.serverTime-(App.NN.serverTime+288e5)%864e5},e.PM=function(){var e=App.NN.date,t=3600*e.getHours()+60*e.getMinutes()+e.getSeconds();return int(t)},e.WB=function(e,t,n){if(isNaN(e)||isNaN(t)||isNaN(n))return!1;if(e>this.dateObj.getFullYear()||1900>e)return!1;if(t>12||1>t)return!1;if(1>n||n>31)return!1;if((4==t||6==t||9==t||11==t)&&n>30)return!1;if(2==t){if(n>29)return!1;if((e%100==0&&e%400!=0||e%4!=0)&&n>28)return!1}return!0},e.WV=function(e){var t=int(e/100),n=e%100;return this.curDateZeroClock()+36e5*t+6e4*n},e.CD=function(e){var t=int(e/100),n=e%100,i="";return 10>t&&(i+="0"),i+=toChars(t),i+=":",10>n&&(i+="0"),i+=toChars(n)},e.hour_scc=3600,e.dateObj=new Date,e}();__reflect(kpd.prototype,"kpd");var DrawUtil=function(){function e(){}return e.ET=function(e,t,n,i){return i||(i=GObj.$c(egret.Shape)),i.graphics.clear(),i.graphics.beginFill(11592447,1),i.graphics.moveTo(0,0),i.graphics.lineTo(n,0),i.graphics.drawArc(0,0,n,(e-90)*Math.PI/180,(t-90)*Math.PI/180),i.graphics.lineTo(0,0),i.graphics.endFill(),i},e}();__reflect(DrawUtil.prototype,"DrawUtil");var FigureHelps=function(){function e(){}return e.NW=function(e,t,n){if(void 0===n&&(n=!0),e&&t){var i=t.s||"",r=("undefined"!=typeof t.s,usable(t.b)?t.b+i:n?GConfig.AVATAR_DEFAULT+i:""),a=usable(t.w)?t.w+StaticData.SEX_BOY:n?GConfig.AVATAR_DEFAULT+StaticData.SEX_BOY:"",o=usable(t.c)?t.c+StaticData.SEX_BOY:"";e.updatePart(r,irK.PART_BODY),e.updatePart(a,irK.PART_WEAPON),e.updatePart(o,irK.PART_WING)}},e.TS=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1);var i,r=StaticData.AVATAR_OFFSET[e]||{x:0,y:0};switch(e){case 33:i={},i.b=FigureType.UJ+t;break;case 54:i={},i.c=FigureType.KA+t,i.s=App.KF.sex||1;break;case 24:i={},i.b=FigureType.EL+t,i.s=App.KF.sex||1;break;case 40:i={},i.b=FigureType.XS+t;break;case 64:i={},i.b=FigureType.BW+t;break;case 22:i={},i.b=FigureType.IZ+n;break;case 88:i={},i.b=FigureType.IZ+t;break;case 79:var a=XCA.AQS.UFA(79,1,1);if(!a)break;var o=Math.ceil(n/10)==n/10&&n>0&&n<a.maxgrade?n/10+1:Math.ceil(n/10);if(i={},a=XCA.AQS.UFA(79,1,o),!a||!a.p5)break;i.w=a.p5;break;case 80:case 81:var a=XCA.AQS.UFA(e,t,n);if(!a||!a.p5)break;i={},i.w=a.p5;break;case 89:i={},i.w=FigureType.GS+t;break;case 90:i={},i.w=FigureType.GS+t}return{part:i,offset:r}},e}();__reflect(FigureHelps.prototype,"FigureHelps");var GeneralCompute=function(){function e(){this.tg=.001,this.ej=.01,this.yj=1,this.cm=.8,this.wn=2e-5,this.iw=.75,this.fz=.1,this.rr=2e-5,this.mp=.5,this.uh=.8,this.ns()}return e.prototype.ns=function(){var e=this;e.al={},e.al[1]=e.rs,e.al[2]=e.jl,e.al[3]=e.rs,e.al[4]=e.rs,e.al[5]=e.rs},e.prototype.rs=function(e,t){return t?e:0},e.prototype.jl=function(e,t){return t?0:-1*e},Object.defineProperty(e.prototype,"lcrh",{get:function(){var e=this;return e.ij||(e.ij=parseInt(XCA.CG(IDU._P))||0),e.ij},enumerable:!0,configurable:!0}),e.prototype.seniorDamage=function(e,t){var n=(e.ograde||0)-(t.ograde||0);if(!n)return 0;var i=Math.min(Math.abs(n),App._B.minDiff),r=i*App._B.damageRate;return 0>n&&(r*=-1),r},e.prototype.critRate=function(e,t,n,i){var r=this;return r.fz+r.iw*r.wn*(e-t)/(r.wn*Math.abs(e-t)+1)+n*r.tg-i*r.tg},e.prototype.dodgeRate=function(e,t,n,i){var r=this;return r.mp*r.rr*(e-t)/(r.rr*Math.abs(e-t)+1)+n*r.tg-i*r.tg},e.prototype.getHNRate=function(e,t,n,i){var r=this,a=1;return i&&i.ap>0&&(a=1-i.ap*r.tg),r.cm*r.yj*(e*a-t)/(r.yj*Math.abs(e*a-t)+n)},e.prototype.getFlyHNRate=function(e,t,n,i){var r=this,a=1;return a=1-i*r.tg,r.cm*r.yj*(e*a-t)/(r.yj*Math.abs(e*a-t)+n)},e.prototype.bigSkilldamage=function(e,t,n,i,r){if(void 0===r&&(r=null),!e)return null;if(!r)return e.v=0,e.fere=0,e.rare=0,e.flysword=0,e.r=0,e;var a=n.lefthp/n.maxhp<=.5?t.wlhhr:0,o=i.isboss?t.wlbr:0,s=t.wlhp*this.tg*t.maxhp;s+=t.wldef*this.tg*t.def,s+=t.wldodge*this.tg*t.dodge,s+=t.wlhit*this.tg*t.hit;var p=this.getHNRate(n.def,t.redef,t.atk),l=Math.pow(t.atk,.95)*r.p1+(r.p2+s)*(1+t.wlir*this.tg+a*this.tg+o*this.tg);return l=l*(1-p)*Math.max(1+t.imprate*this.tg-n.decrate*this.tg,.1),(1&i.iscrit)>0&&(l*=1.5+t.wlch*this.tg),t.hurtadd>0&&(l=int(l*(1+t.hurtadd*this.tg))),l*=this.waverate,l=!l||1>l?1:int(l),e.v=l,e},e.prototype.damageCreate=function(e,t,n,i,r){void 0===r&&(r=null);var a=this;return e?(e.c=0,r?r.isFakeBigSkill?(e.c=2048,e.v=a.getBigSD(t,n,r,i)):e.v=a.getSD(t,n,r,i):e.v=a.getAD(t,n,i),e.fere=a.getFereAD(e,t,n,r,i),e.v+=e.fere,e.rare=a.getRareAD(t,n,r,i),e.v+=e.rare,e.flysword=a.getFlyswordAD(t,n,r,i),e.v+=e.flysword,e.r=0,(32&i.isspike)>0&&(e.r=-1*int(n.atk*n.darktwo*a.tg)),(64&i.isspike)>0&&(e.e=e.v,e.v=1),e):null},e.prototype.getAD=function(e,t,n){var i=this,r=i.getExcellCoe(e,t,n),a=i.getExcellDamage(e,t,n),o=i.getFoucsAtk(e,t,n),s=i.getFoucsDamage(e,t,n),p=i.getHNRate(t.def,e.redef,e.atk),l=Math.pow(o,i.uh)*(1-p)*(1+e.imprate*i.tg)/(1+t.decrate*i.tg)*r+a+s+(e.ratk-(t.inres||0));(1&n.iscrit)>0&&(l*=1.5+e.crdamrate*i.tg),(2&n.iscrit)>0&&(l*=1.5+e.exn*i.tg);var c=l,u=n.isspike||0;if(u>0&&((1&u)>0&&(l+=e.lefthp/e.maxhp>=.7?e.lfh*(1+e.darkone*i.tg):e.lfh),(2&u)>0&&(l+=t.maxhp*(Math.max((e.lh||0)-(t.darkthree||0),0)*i.tg)),(4&u)>0&&(l+=e.lfh*i.lcrh*i.tg)),e.hurtadd>0&&(l=int(l*(1+e.hurtadd*i.tg))),(n.isboss||0)>0&&(l=int(l*(1+e.sword*i.tg))),(4&n.iscrit)>0){var d=e.pfh;e.pfc5*i.tg>=Math.random()?d+=5*e.pfh:e.pfc2*i.tg>=Math.random()&&(d+=2*e.pfh),d+=e.dodge*e.pfdef*i.tg,l+=d}return n.senior&&(l+=l*n.senior*i.tg),l+=i.getBuffDamage(e.buffs,t.buffs),u>0&&((8&u)>0&&(l-=t.it),(16&u)>0&&(l-=t.it),(32&u)>0&&(l=0),(128&u)>0&&(l+=c*(.2+e.evcardatkpvp*i.tg))),(8&n.iscrit)>0&&(l+=l*(.2+e.assaultratio*i.tg)),(16&n.iscrit)>0&&(l+=l*((.05+e.evcardatkpve)*i.tg*(n.isfwboss?10:1))),l*=i.waverate,l=!l||1>l?1:int(l),QycO.BP?QycO.BP:l},e.prototype.getSD=function(e,t,n,i){var r=this,a=r.getExcellCoe(e,t,i),o=r.getExcellDamage(e,t,i),s=r.getFoucsAtk(e,t,i),p=r.getFoucsDamage(e,t,i),l=e.crdamrate+e.actcritharm,c=0,u=n.p1,d=n.p2;n.pasAttr&&(l+=(n.pasAttr.scd||0)*r.tg,c+=(n.pasAttr.sd||0)*r.tg,u+=n.pasAttr.p1||0,d+=n.pasAttr.p2||0);var g=r.getHNRate(t.def,e.redef,e.atk,n.pasAttr),v=Math.pow(s,r.uh)*u*r.tg+d;v=v*(1-g)*(1+e.imprate*r.tg)/(1+t.decrate*r.tg)*(1+e.actatk*r.tg)*a+o+p+(e.ratk-(t.inres||0)),PlayerSKillAI.instance.isFakeBigSkill(n.id)&&(v*=1+e.ushrate*r.tg),(1&i.iscrit)>0&&(v*=1.5+l*r.tg),(2&i.iscrit)>0&&(v*=1.5+e.exn*r.tg);var h=v,m=i.isspike||0;if(m>0&&((1&m)>0&&(v+=e.lefthp/e.maxhp>=.7?e.lfh*(1+e.darkone*r.tg):e.lfh),(2&m)>0&&(v+=t.maxhp*(Math.max((e.lh||0)-(t.darkthree||0),0)*r.tg)),(4&m)>0&&(v+=e.lfh*r.lcrh*r.tg)),e.hurtadd>0&&(v=int(v*(1+e.hurtadd*r.tg))),(i.isboss||0)>0&&(v=int(v*(1+e.sword*r.tg))),(4&i.iscrit)>0){var f=e.pfh;e.pfc5*r.tg>=Math.random()?f+=5*e.pfh:e.pfc2*r.tg>=Math.random()&&(f+=2*e.pfh),f+=e.dodge*e.pfdef*r.tg,v+=f}return i.senior&&(v+=v*i.senior*r.tg),v+=r.getBuffDamage(e.buffs,t.buffs),m>0&&((8&m)>0&&(v-=t.it),(16&m)>0&&(v-=t.it),(32&m)>0&&(v=0),(128&m)>0&&(v+=h*(.2+e.evcardatkpvp*r.tg))),(16&i.iscrit)>0&&(v+=v*((.05+e.evcardatkpve)*r.tg*(i.isfwboss?10:1))),v=10>v?10:int(v),QycO.BP?QycO.BP:v},e.prototype.getBigSD=function(e,t,n,i){var r=this,a=App.FX.getMagicGrade(),o=n.p1,s=n.p2,p=0;i&&i.isboss&&(p=e.ustoboss/1e3);var l=r.getHNRate(t.def,e.redef,e.atk,n.pasAttr),c=r.getExcellDamage(e,t,i),u=r.getExcellCoe(e,t,i),d=r.getFoucsDamage(e,t,i),g=r.getFoucsAtk(e,t,i),v=s*a+Math.pow(g,.8)*(o/1e3*(a>=3?1:0));return v=v*(1-l)*(1+e.imprate*r.tg+p)/(1+t.decrate*r.tg)*u+c+d+(e.ratk-(t.inres||0)),v=10>v?10:int(v)},e.prototype.getFereAD=function(e,t,n,i,r){var a=GApp.timer,o=StaticData.SKILL_INFO_COMMON[0].time||200,s=o*(10-t.feresd),p=0;if(s&&s>0&&a>=t.fereNextTime){t.fereNextTime=a+s,p=this.getFereDamage(e,t,n,i,r);var l=App.JS.getRetinueInfoByType(32);l.sgradeDict&&l.sgradeDict[1]||(p=0)}return p},e.prototype.getRareAD=function(e,t,n,i){var r=GApp.timer,a=StaticData.SKILL_INFO_COMMON[0].time||200,o=15*a,s=0;return o&&o>0&&r>=e.rareNextTime&&(e.rareNextTime=r+o,s=this.getRareDamage(e,t,n,i),App.JO.realmGrade||(s=0)),s},e.prototype.getFlyswordAD=function(e,t,n,i){var r=GApp.timer,a=StaticData.SKILL_INFO_COMMON[0].time||200,o=25*a,s=0;if(o&&o>0&&r>=e.flyswordNextTime){e.flyswordNextTime=r+o,s=this.getFlyswordDamage(e,t,n,i);var p=App.JS.getRetinueInfoByType(89);p.sgradeDict&&p.sgradeDict[1]||(s=0)}return s},e.prototype.fereCrit=function(e){var t=(e.ferecrit||0)*this.tg;return t>=Math.random()?!0:!1},e.prototype.getCritNum=function(e,t){var n=1;return t&&(n=1.5+e.ferecrith*this.tg),n},e.prototype.getAddFereDamage=function(e){var t=this,n=e.crit*e.ferecritodampre*t.tg+e.hit*e.ferehittodampre*t.tg+e.redef*e.ferepietodampre*t.tg+e.def*e.feredeftodampre*t.tg;return n},e.prototype.getFereKillDamage=function(e,t,n){var i=e.l,r=i/(n.hp||0)<.3?t.feretoweakdampre*this.tg:0;return r},e.prototype.getFereEmmDamage=function(e,t,n){var i=e.l,r=i/(n.hp||0)>.7?t.ferefulldampre*this.tg:0;return r},e.prototype.getFereBossDamage=function(e,t){var n=t?e.feretobossdam*this.tg:0;return n},e.prototype.getFereDamage=function(e,t,n,i,r){var a,o=this,s=o.fereCrit(t),p=o.getCritNum(t,s),l=o.getAddFereDamage(t),c=o.getFereKillDamage(e,t,n),u=o.getFereEmmDamage(e,t,n),d=o.getFereBossDamage(t,r&&r.isboss>0),g=o.getFoucsAtk(t,n,r);i&&(a=i.pasAttr);var v=o.getHNRate(n.def,t.redef,t.atk,a),h=Math.pow(g+t.feregj,o.uh)*(1-v)*(1+t.fereatk*o.tg+c+u+d)*p+l;return int(h)},e.prototype.getRareDamage=function(e,t,n,i){var r,a=this,o=a.getFoucsAtk(e,t,i);n&&(r=n.pasAttr);var s=a.getHNRate(t.def,e.redef,e.atk,r),p=2*Math.pow(o+e.rareanimalsatk,a.uh)*(1-s)*(1+e.rareanimalsimprate*a.tg);return int(p)},e.prototype.getFlyswordDamage=function(e,t,n,i){var r=this,a=r.getFoucsAtk(e,t,i),o=r.getFlyHNRate(t.def,e.redef,e.atk,e.bladeredef),s=r.getFlyswrodCrit(e,t),p=3*Math.pow(a+e.bladedam*(1+e.bladeatkrate*r.tg),r.uh)*(1-o)*(1+e.bladedamrate*r.tg)*s+e.bladedam;return int(p)},e.prototype.getFlyswrodCrit=function(e,t){var n=Math.min(.5,e.bladecrit*this.tg-(t.bladecrit||0)/2);return n>=Math.random()?2:1},e.prototype.getBuffDamage=function(e,t){var n=this,i=App.SMF.mapTypeAttr,r=0;if(!i||0==i.length)return r;var a,o;for(a in e)-1!=i.indexOf(parseInt(a))&&(o=n.al[a],o&&e[a]&&(r+=o(e[a],!0)));for(a in t)-1!=i.indexOf(parseInt(a))&&(o=n.al[a],o&&t[a]&&(r+=o(t[a],!1)));return r},e.prototype.bigSkillP1=function(e,t,n){var i=this;e=e||0,t=t||0,n=n||1;var r=e*i.tg+(n-1)*t*i.tg;return r},e.prototype.bigSkillP2=function(e,t,n){e=e||0,t=t||0,n=n||1;var i=int((n-1)/25),r=e+i*(i+1)/2*t+(n-1-25*i)*t/25*(i+1);return r},e.prototype.skillp2=function(e,t){if(!e||1>t)return 0;var n=int((t-1)/25),i=e.p3||0;return n=e.p2+i*n*(n+1)/2+(t-25*n-1)*(i/25)*(n+1),n=i>=125?5*int(n/5):int(n)},e.prototype.isCrit=function(e,t,n,i){var r=this,a=(e.crit,r.critRate(e.crit,t.recr,e.critrate,t.recrate));return n&&(a+=n.scr||0),i&&(a+=(e.actcritrate||0)*r.tg),a>=Math.random()?!0:!1},e.prototype.bigSkillCrit=function(e){var t=(e.wlcr||0)*this.tg;return t>=Math.random()?!0:!1},e.prototype.isExCrit=function(e,t){var n=(e.exr-t.reex)*this.tg;return n>=Math.random()},e.prototype.isSpike=function(e,t){var n=GApp.timer;if(t>0&&5e3>n-t)return!1;var i=(e.lr||0)*this.tg;return i>=Math.random()},e.prototype.isCloakAppend=function(e,t){if((e.pfh||0)<=0)return!1;var n=GApp.timer,i=600-(e.pfcd||0);return n-t>=100*i?!0:!1},e.prototype.isSpikeCrit=function(e){var t=(e.lc||0)*this.tg;return t>=Math.random()},e.prototype.isLgnore=function(e,t){if(t>0&&GApp.timer-t<5e3)return!1;var n=(e.il||0)*this.tg;return n>=Math.random()},e.prototype.isLgnoreCrit=function(e){var t=(e.ix||0)*this.tg;return t>=Math.random()},e.prototype.isLgnoreAny=function(e,t){var n=((t.iy||0)-(e.darkfour||0))*this.tg;return n>=Math.random()},e.prototype.isRuneBodyCare=function(e,t,n){if(n>0&&GApp.timer-n<15e3)return!1;var i=Math.min((t.bpp||0)*this.tg,.2);return i>=Math.random()},e.prototype.isEvcardproPve=function(e,t,n){if(t>0&&GApp.timer-t<3e3)return!1;var i=Math.min(.5,e.evcardpropve*(n?2.5:1)*this.tg);return i>=Math.random()},e.prototype.isEvcardproPvp=function(e,t){var n=Math.min(.5,(e.evcardpropvp-t.evcardpropvp)/2*this.tg);return n>=Math.random()},e.prototype.isDodge=function(e,t){var n=this.dodgeRate(t.dodge,e.hit,t.dorate,e.hitrate);if(e.cap>0&&t.cap>0&&e.cap>t.cap){var i=1/Math.pow(e.cap/t.cap,1.5)*n;n=GMath.random(i,n)}return n>=Math.random()?!0:!1},e.prototype.isExcell=function(e,t){var n=this,i=e.zhitrate*n.tg-t.zhitdamdkl*n.tg;return i>=Math.random()},e.prototype.getExcellCoe=function(e,t,n){var i=1,r=(32&n.iscrit)>0;return r&&(i=(1e3+e.zhitdamrate)/(1e3+t.zhitdamjsl)),i},e.prototype.getExcellDamage=function(e,t,n){var i=0,r=(32&n.iscrit)>0;return r&&(i=e.zhitdam/(1e3+t.zhitdamjsl)),i},e.prototype.isFoucs=function(e,t){var n=this,i=e.hhitrate*n.tg-t.hhitdamdkl*n.tg;return i>=Math.random()},e.prototype.getFoucsAtk=function(e,t,n){var i=e.atk*(.2*Math.random()+.9),r=(64&n.iscrit)>0;return r&&(i=1.1*e.atk*(1e3+e.hhitdamrate)/(1e3+t.hhitdamjsl)),i},e.prototype.getFoucsDamage=function(e,t,n){var i=0,r=(64&n.iscrit)>0;
return r&&(i=e.hhitdam/(1+t.hhitdamjsl*this.tg)),i},e.prototype.cooldown=function(e,t){return t=t||0,e=Math.max(2500,1e3*e*(1-t*this.tg))},e.prototype.bigSkillCooldown=function(e,t){return t=t||0,e=Math.max(2e4,e*(1-t*this.tg))},e.prototype.linkCD=function(e,t,n){return e=int(e/(n/t)*1e3)},e.prototype.suckHp=function(e,t,n){var i=this;return int(e*t*i.tg*(1-n*i.tg))},e.prototype.revertHpPas=function(e,t){if(!t||!t.h)return 0;var n=int(e.maxhp*t.h*this.tg);return n},e.prototype.reboundDemage=function(e,t){return int(e*t)},Object.defineProperty(e.prototype,"waverate",{get:function(){return.95+.1*Math.random()},enumerable:!0,configurable:!0}),e.prototype.mirrorMustwin=function(e,t){return e&&t&&t.cap&&t.cap>=2*e.cap?!0:!1},e.prototype.npcAttr=function(e,t,n,i,r){return void 0===r&&(r=0),1>=n?t:(e.hp=t.hp*Math.pow(r,n-i),e.atk=t.atk*Math.pow(r,n-i),e.def=t.def,e.decrate=t.decrate,e)},e.prototype.bossAttr=function(e,t,n,i,r){return void 0===r&&(r=0),1>=n?t:(e.hp=t.hp*Math.pow(r,n-i),e.atk=t.atk*Math.pow(r,n-i),e.def=t.def,e.decrate=t.decrate,e)},e.prototype.npcAttrYmg=function(e){var t=parseInt(XCA.CG(IDU.PE).split(",")[1]),n=XCA.YV(t),i=n.atk,r=n.hp,a=n.def,o=GObj.$c(DnQ);return o.init(),20>=e?(o.atk=i*Math.pow(1.184611,e-1),o.hp=r*Math.pow(1.184611,e-1),o.def=a*Math.pow(1.184611,e-1)):e>=21&&30>=e?(o.atk=25*i*Math.pow(1.301166,e-20),o.hp=25*r*Math.pow(1.301166,e-20),o.def=25*a*Math.pow(1.301166,e-20)):e>=31&&40>=e?(o.atk=250*i*Math.pow(1.243762,e-30),o.hp=250*r*Math.pow(1.243762,e-30),o.def=250*a*Math.pow(1.243762,e-30)):e>=41&&50>=e?(o.atk=2500*i*Math.pow(1.264799,e-40),o.hp=2500*r*Math.pow(1.264799,e-40),o.def=2500*a*Math.pow(1.264799,e-40)):e>=51&&(o.atk=25e3*i*Math.pow(1.264799,e-50),o.hp=25e3*r*Math.pow(1.264799,e-50),o.def=25e3*a*Math.pow(1.264799,e-50)),o},e.prototype.bossAttrYmg=function(e){var t=parseInt(XCA.CG(IDU.PE).split(",")[0]),n=XCA.YV(t),i=n.atk,r=n.hp,a=n.def,o=GObj.$c(DnQ);return o.init(),20>=e?(o.atk=i*Math.pow(1.184611,e-1),o.hp=r*Math.pow(1.184611,e-1),o.def=a*Math.pow(1.184611,e-1)):e>=21&&30>=e?(o.atk=25*i*Math.pow(1.301166,e-20),o.hp=25*r*Math.pow(1.301166,e-20),o.def=25*a*Math.pow(1.301166,e-20)):e>=31&&40>=e?(o.atk=250*i*Math.pow(1.243762,e-30),o.hp=250*r*Math.pow(1.243762,e-30),o.def=250*a*Math.pow(1.243762,e-30)):e>=41&&50>=e?(o.atk=2500*i*Math.pow(1.264799,e-40),o.hp=2500*r*Math.pow(1.264799,e-40),o.def=2500*a*Math.pow(1.264799,e-40)):e>=51&&(o.atk=25e3*i*Math.pow(1.264799,e-50),o.hp=25e3*r*Math.pow(1.264799,e-50),o.def=25e3*a*Math.pow(1.264799,e-50)),o},e.prototype.ymgOutput1=function(e){return e?2*e:0},e.prototype.ymgOutput2=function(e){return e?int(25e3*e):0},e.prototype.ymgOutput3=function(e){return e?50+int(2*(e-1)):0},e.prototype.harryExp=function(e,t){if(!t)return 0;if(t.tsecs&&!(t.tsecs<=0)){var n=t.tsecs/3600;return int((3600+180*(e-1))*Math.min(48,n)+Math.max(0,n-48))}},e.prototype.harryGold=function(e,t){if(!t)return 0;var n=t.tsecs||0;if(t.tsecs&&!(t.tsecs<=0)){var i=n/3600,r=25e3*(t.kct||0),a=5e5*(t.kpt||0),o=1e6*(t.kdt||0);return int((3600+180*(e-1))*Math.min(48,i)+Math.max(0,i-48))+r+a+o}},e.prototype.harryCul=function(e,t){if(!t)return 0;var n=t.tsecs||0;if(t.tsecs&&!(t.tsecs<=0)){var i=n/3600,r=5e3*(t.kct||0),a=1e5*(t.kpt||0),o=2e5*(t.kdt||0);return int((1800+90*(e-1))*Math.min(48,i)+Math.max(0,i-48))+r+a+o}},e.prototype.crossHarryExp=function(e,t){if(!t)return 0;if(t.tsecs&&!(t.tsecs<=0)){var n=t.tsecs/3600;return int((3600+180*(e-1))*Math.min(48,n)+Math.max(0,n-48))}},e.prototype.crossHarryGold=function(e,t){if(!t)return 0;var n=t.tsecs||0;if(t.tsecs&&!(t.tsecs<=0)){var i=n/3600,r=25e3*(t.kct||0),a=5e5*(t.kpt||0),o=1e6*(t.kdt||0);return int((3600+180*(e-1))*Math.min(48,i)+Math.max(0,i-48))+r+a+o}},e.prototype.crossHarryCul=function(e,t){if(!t)return 0;var n=t.tsecs||0;if(t.tsecs&&!(t.tsecs<=0)){var i=n/3600,r=5e3*(t.kct||0),a=1e5*(t.kpt||0),o=2e5*(t.kdt||0);return int((1800+90*(e-1))*Math.min(48,i)+Math.max(0,i-48))+r+a+o}},e.prototype.getTurnupGrade=function(e){if(0>=e)return 0;var t;return t=e>45?int(8.8)+1+(e-45):int((e-1)/5)+1},e.prototype.getTurnupName=function(e){var t="";if(e>45)t=fvg.GVf("public058",e-45);else{var n=int((e-1)/5)+1,i=(e-1)%5+1;t=fvg.GVf("public052",n,i)}return t},e.prototype.getTurnupNameChong=function(e){return[int((e-1)/5)+1,(e-1)%5+1]},e.prototype.getTurnupNameNoSon=function(e){var t="";if(e>45)t=fvg.GVf("public058",e-45);else{var n=int((e-1)/5)+1;t=fvg.GVf("public059",n)}return t},e.prototype.getNameByTurnup=function(e){return 0>=e?"":e>9?fvg.GVf("public058",e-9):fvg.GVf("public059",e)},e.prototype.chapterOutputGold=function(e){return int(5e3+10*(e-1))},e.prototype.chapterOutputExp=function(e){return int(5e4+100*(e-1))},e.prototype.ymgSkipPass=function(e,t){return int(e+2+.1*Math.max(0,t-e))},e.prototype.getSpecialEquipNeedCount=function(e){var t=.01,n=.01,i=1.044245,r=750,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getSpecialEquipAttr=function(e,t){var n=.01,i=.01,r=1.044245,a=.008341,o=15e3,s=.955286,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getSpecialAttr=function(e,t){var n=e*(1+.1*(t-1));return n},e.prototype.getUpgradeCount=function(e){var t=.01,n=.01,i=1.016139,r=750,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getKnightCardAttr=function(e,t,n){var i,r,a=.01,o=.01,s=1.016139,p=15e3,l=.95075;switch(n){case 3:i=667e-6,r=.921879;break;case 4:i=667e-6,r=.921866;break;case 5:i=667e-6,r=.921866;break;case 6:i=667e-6,r=.921869;break;case 7:i=667e-6,r=.921869}var c=a*(1-Math.pow(s,t))/(1-s)+o/(1-s)*(t-(1-Math.pow(s,t))/(1-s)),u=e*(r+i*Math.pow(c*p,l));return Math.round(u)},e.prototype.getEightDoorsNeedCount=function(e){var t=.05,n=.05,i=1.010557,r=500,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getEightDoorsAttr=function(e,t){var n=.05,i=.05,r=1.010557,a=.075035,o=400,s=.864498,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getKnightCollectionCount=function(e){var t=.1,n=.1,i=1.010557,r=750,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getKnightCollectionAttr=function(e,t){var n=.1,i=.1,r=1.010557,a=2e-5,o=15e3,s=.956644,p=.977916,l=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),c=e*parseFloat((p+a*Math.pow(l*o,s)).toFixed(4));return Math.round(c)},e.prototype.getShopRefreshGold=function(e,t){var n=0;switch(t){case 12:n=20;break;case 4:n=50}return n},e.prototype.getFighting=function(e,t,n,i,r,a,o,s,p,l,c,u,d,g){return Math.round(5*((e||0)+.05*(n||0)+5*((t||0)+(c||0)+(i||0)+(r||0)+(a||0)+(o||0)+(u||0)+(d||0))+(s||0)))+(g||0)},e.prototype.getFightingByArryTem=function(e){var t=this.getFighting(e.atk,e.def,e.hp,e.crit,e.recr,e.dodge,e.hit,e.feregj,e.lfh,e.it,e.redef,e.ratk,e.inres,e.p5);return Math.round(t)},e.prototype.getNeedEisByGrade=function(e){var t=4e-5,n=4e-5,i=1.006738,r=5e4,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getSuperequipNeedCount=function(e){return 1},e.prototype.getBeautyNeedExe=function(e){var t=.002,n=.001,i=1.001966,r=5e3,a=10*r*(t*(1-Math.pow(i,e))/(1-i)+n/(1-i)*(e-(1-Math.pow(i,e))/(1-i)));return 10*Math.round(a/10)},e.prototype.getBeautyNeedCount=function(e){return 1},e.prototype.getBeautyAttribyGrade=function(e,t){var n=.002,i=.001,r=1.001966,a=2e-4,o=1e5,s=.962523,p=.967204,l=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),c=e*(p+a*Math.pow(l*o,s));return Math.round(c)},e.prototype.getBeautySpiritAttriByGrade=function(e,t){var n=e*t;return n},e.prototype.getCloakNeedCount=function(e){var t=.004,n=.004,i=1.00023,r=5e3,a=10*r*(t*(1-Math.pow(i,e))/(1-i)+n/(1-i)*(e-(1-Math.pow(i,e))/(1-i)));return 10*int(Math.round(a/10))},e.prototype.getCloakAttr=function(e,t){var n=.004,i=.004,r=1.00023,a=2e-4,o=2e5,s=.965139,p=.873264,l=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),c=e*(p+a*Math.pow(l*o,s));return Math.round(c)},e.prototype.getCloakSkillCount=function(e,t){return int((t.p2||0)+e*(t.p3||0)/10)},e.prototype.getPasSkillNeedCount=function(e){var t=.01,n=.01,i=1.016139,r=100,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getActSkillNeedCount=function(e,t){var n=.001,i=.001,r=1.00023,a=1e7;switch(t){case 3:a=1e7;break;case 4:a=15e6;break;case 5:a=225e5;break;case 6:a=3375e4}var o=a*(n*Math.pow(r,e)+i*(1-Math.pow(r,e))/(1-r));return o=500*Math.round(o/500)},e.HE=function(e){var t=0,n=0,i=0,r=0,a=2e7;100>=e?(t=0,n=0,i=1e-4,r=1.037063):e>100&&200>=e?(t=100,n=.1,i=.00369173,r=1.005859):e>200&&300>=e?(t=200,n=.6,i=.00667929,r=1.014691):e>300&&400>=e?(t=300,n=2.1,i=.02841616,r=1.004079):e>400&&500>=e?(t=400,n=5.6,i=.0426522,r=1.003134):e>500&&999>=e&&(t=500,n=10.6,i=.05848389,r=1.005952);var o=a*(n+i*(1-Math.pow(r,e-t))/(1-r));return o=Math.round(o)},e.prototype.getSkillDetailsAttr=function(e,t,n){var i,r,a=.01,o=.01,s=1.016139,p=45e3,l=.943271;switch(e){case 3:i=.0015,r=.522845;break;case 4:i=.0015,r=.522606;break;case 5:i=.0015,r=.522725;break;case 6:i=.0015,r=.522725}var c=a*(1-Math.pow(s,t))/(1-s)+o/(1-s)*(t-(1-Math.pow(s,t))/(1-s)),u=n*(r+i*Math.pow(c*p,l));return Math.round(u)},e.prototype.getActSkillNeedAttr=function(e,t,n){var i,r,a=.001,o=.001,s=1.00023,p=400,l=.94355;switch(n){case 3:i=.039337,r=.98343;break;case 4:i=.039728,r=.983265;break;case 5:i=.029773,r=.987459;break;case 6:i=.019932,r=.991604}var c=a*(1-Math.pow(s,t))/(1-s)+o/(1-s)*(t-(1-Math.pow(s,t))/(1-s)),u=e*(r+i*Math.pow(c*p,l));return Math.round(u)},e.prototype.getTendonsNeedGold=function(e){var t=.001,n=.001,i=1.001011,r=1e6,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return a=500*Math.round(a/500)},e.prototype.getTendonsAttr=function(e,t){var n=.001,i=.001,r=1.001011,a=.83055,o=1250,s=.832053,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getBloodPoolNeedExp=function(e){return Math.floor(200*(.1*(1-Math.pow(1.009943,e+1))/(1-1.009943)+.05/(1-1.009943)*(e+1-(1-Math.pow(1.009943,e+1))/(1-1.009943))))},e.prototype.getBloodPoolMaxUse=function(e){return 5>e?5:25*Math.floor(e/5)},e.prototype.getBeastNeedCount=function(e){var t=.1,n=.1,i=1.010557,r=750,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getBeastAttr=function(e,t,n){var i,r,a=.1,o=.1,s=1.010557,p=15e3,l=.957167;switch(e){case 3:i=25e-5,r=.725856;break;case 4:i=25e-5,r=.725856;break;case 5:i=25e-5,r=.725848;break;case 6:i=25e-5,r=.725848}var c=a*(1-Math.pow(s,t))/(1-s)+o/(1-s)*(t-(1-Math.pow(s,t))/(1-s)),u=n*(r+i*Math.pow(c*p,l));return Math.round(u)},e.prototype.getTreasureNeedCount=function(e){return 1},e.prototype.getTreasureUpNeedCount=function(e,t){var n=.04,i=.04,r=1.016139,a=750;switch(t){case aKF.WO:a=750;break;case aKF.BN:a=1e3;break;case aKF.JN:a=1250;break;case aKF.PU:a=1500}var o=10*a*(n*(1-Math.pow(r,e))/(1-r)+i/(1-r)*(e-(1-Math.pow(r,e))/(1-r)));return Math.round(o)},e.prototype.getTreasureUpAttr=function(e,t,n){var i,r,a=.04,o=.04,s=1.016139,p=15e3,l=.955237;switch(e){case 3:i=4e-4,r=.819766;break;case 4:i=4e-4,r=.819766;break;case 5:i=4e-4,r=.819757;break;case 6:i=4e-4,r=.819757}var c=a*(1-Math.pow(s,t))/(1-s)+o/(1-s)*(t-(1-Math.pow(s,t))/(1-s)),u=n*(r+i*Math.pow(c*p,l));return Math.round(u)},e.prototype.getBeastUpstarNeed=function(e,t,n){return int(e+int(n/5)*t)},e.prototype.getRuneSurmountGP=function(e){return 10*(750*Math.pow(e,2)+2e3)},e.prototype.getBooksNeedCount=function(e,t,n){return(t||0)*(e+1)+(n||0)},e.prototype.getStudyNeedCount=function(e,t,n,i){t=t||0,n=n||0,i=i||0;var r=e,a=r+1-10*int(r/10)-1;a=a*(a+1)/2;var o=(r+1-10*int(r/10))*t+a*n+i;return 10*o},e.prototype.getSuperequipUseMax=function(e,t){return t*e||1},e.prototype.getFashionUseMax=function(e,t){return t*e||1},e.prototype.getFashionArrte=function(e,t){return Math.round(e*t)},e.prototype.getWushenOccAward=function(e,t,n){return int(t*(1+(e-1)/(n/1e3)))},e.prototype.getPracticeUpNeedCount=function(e,t){return 9*e},e.prototype.getPracticeUpNeedGp=function(e,t,n,i){var r=.002,a=.002,o=.998924,s=750,p=10*s*(r*(1-Math.pow(o,e))/(1-o)+a/(1-o)*(e-(1-Math.pow(o,e))/(1-o)));return Math.round(p)},e.prototype.getPracticeUpAttr=function(e,t){var n=.002,i=.002,r=.998924,a=.038557,o=15e3,s=.9572,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getStuntUpNeedCount=function(e,t,n,i){var r=Math.floor(t/100*Math.pow(n/1e5,e)+i/1e5*(1-Math.pow(n/1e5,e))/(1-n/1e5));return r},e.prototype.getSpiritMaterialsCount=function(e,t){var n=(e.p1,e.p2),i=e.p3,r=e.p4,a=r/100*Math.pow(n/1e5,t)+i/1e5*(1-Math.pow(n/1e5,t))/(1-n/1e5);return Math.floor(a)},e.prototype.getEliteBossRewardNum=function(e,t,n){return 0},e.prototype.getHwUpgradeNeedCount=function(e,t){if(!t)return 0;var n=(t.p5||"").split(QycO.XP),i=(parseInt(n[0])||0)/1e6,r=(parseInt(n[1])||0)/1e6,a=(parseInt(n[2])||0)/1e6,o=(parseInt(n[3])||0)/1e6,s=(parseInt(n[4])||0)/1e6,p=Math.round(s*o*(i*Math.pow(r,e)+a*(1-Math.pow(r,e))/(1-r)));return p},e.prototype.getHwUpstageAttr=function(e,t){var n={};if(t){var i=void 0;for(var r in xxf.UK)i=t[r],i&&(n[r]=i*e);for(var r in xxf.IM)i=t[r],i&&(n[r]=i)}return n},e.prototype.getHwUpgradeAttr=function(e,t,n){var i={};if(t){var r=(parseInt(n[0])||0)/1e6,a=(parseInt(n[1])||0)/1e6,o=(parseInt(n[2])||0)/1e6,s=(parseInt(n[3])||0)/1e6,p=(parseInt(n[4])||0)/1e6,l=parseInt(n[5])||0,c=(parseInt(n[6])||0)/1e6,u=r*(1-Math.pow(a,e))/(1-a)+o/(1-a)*(e-(1-Math.pow(a,e))/(1-a)),d=s*Math.pow(u*l,p),g=void 0;for(var v in xxf.UK)g=t[v],g&&(i[v]=50*Math.round(g*(c+d)/50))}return i},e.prototype.getGoodsCount1=function(e,t){return Math.ceil(e*t/1e4)},e.prototype.getTaiyiUpgradeNum=function(e){var t=.02,n=.02,i=1.04344,r=750,a=10*r*(t*(1-Math.pow(i,e))/(1-i)+n/(1-i)*(e-(1-Math.pow(i,e))/(1-i)));return 10*Math.round(a/10)},e.prototype.getTaiyiUpgradeArrt=function(e,t){var n=.02,i=.02,r=1.04344,a=.004255,o=15e3,s=.9572,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getTaiyiAdvanceNum=function(e,t){var n=e.p5.split(","),i=parseInt(n[0]),r=parseInt(n[1]),a=parseInt(n[2]);return i*int(t/a)+r},e.prototype.getTaiyiAdvanceArrt=function(e,t){var n=e*t;return Math.round(n)},e.prototype.getArrtbyAttrid=function(e,t,n){var i,r=XCA.YV(e),a="";if(r){for(i in xxf.UK)r[i]&&(a+=fvg.GVf("skill004",xxf.UK[i],n(r[i],t)),a+="\n");for(i in xxf.IM)r[i]&&(a+=fvg.GVf("skill004",xxf.IM[i],(n(r[i],t)/10).toFixed(1)+"%"),a+="\n");return a}},e.prototype.getCardUpgradeConsume=function(e,t){var n,i=.1,r=.1,a=1.010557;switch(t){case aKF.WO:n=750;break;case aKF.BN:n=1e3;break;case aKF.JN:n=1250;break;case aKF.PU:n=1500}var o=10*n*(i*(1-Math.pow(a,e))/(1-a)+r/(1-a)*(e-(1-Math.pow(a,e))/(1-a)));return 10*Math.round(o/10)},e.prototype.getCardUpgradeAttr=function(e,t,n){var i,r,a=.1,o=.1,s=1.010557,p=15e3,l=.957155;switch(n){case aKF.WO:i=2e-4,r=.780698;break;case aKF.BN:i=2e-4,r=.780698;break;case aKF.JN:i=16e-5,r=.824559;break;case aKF.PU:i=16e-5,r=.824559;break;case aKF.KY:i=16e-5,r=.824559}var c=a*(1-Math.pow(s,t))/(1-s)+o/(1-s)*(t-(1-Math.pow(s,t))/(1-s)),u=e*(r+i*Math.pow(c*p,l));return Math.round(u)},e.prototype.getBattleEquipUpgradeConsume=function(e){var t=1,n=1,i=1.002609,r=15,a=10*r*(t*(1-Math.pow(i,e))/(1-i)+n/(1-i)*(e-(1-Math.pow(i,e))/(1-i)));return Math.round(a)},e.prototype.getBattleEquipAttr=function(e,t){var n=1,i=1,r=1.002609,a=96e-6,o=15e3,s=.961936,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getIntensifyAttr=function(e,t){var n=4e-5,i=4e-5,r=1.006738,a=18.572853,o=400,s=.70655,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.prototype.getGodSkillConsume=function(e){var t=.002,n=.002,i=.998924,r=750,a=10*r*(t*(1-Math.pow(i,e))/(1-i)+n/(1-i)*(e-(1-Math.pow(i,e))/(1-i)));return a},e.prototype.getGodSkillAttr=function(e,t){var n=.1,i=.1,r=1.010557,a=912e-6,o=15e3,s=.9572,p=n*(1-Math.pow(r,t))/(1-r)+i/(1-r)*(t-(1-Math.pow(r,t))/(1-r)),l=e*a*Math.pow(p*o,s);return Math.round(l)},e.GU=function(e){var t=0;return t=25>=e?100*e:50>=e?2500+105*(e-25):60>=e?5125+550*(e-50):10625+575*(e-60)},e.prototype.getFettersAttr=function(e,t){var n=.01,i=.01,r=1.016139,a=667e-6,o=15e3,s=.95075,p=.921866,l=n*(1-Math.pow(r,e))/(1-r)+i/(1-r)*(e-(1-Math.pow(r,e))/(1-r)),c=t*(p+a*Math.pow(l*o,s));return Math.round(c)},e.prototype.getFettersConsume=function(e){var t=.01,n=.01,i=1.016139,r=1250,a=r*(t*Math.pow(i,e)+n*(1-Math.pow(i,e))/(1-i));return Math.round(a)},e.prototype.getMagicBladeAdvancedAttr=function(e,t){var n=.004,i=.002,r=1.091575,a=5e-4,o=2e3,s=.804958,p=.996364,l=n*(1-Math.pow(r,e))/(1-r)+i/(1-r)*(e-(1-Math.pow(r,e))/(1-r)),c=t*(p+a*Math.pow(l*o,s));return Math.round(c)},e.prototype.getConsume=function(e,t){var n=.004,i=.002,r=1.091575,a=2e5,o=t?t:1,s=int(a*(n*Math.pow(r,e)+i*(1-Math.pow(r,e))/(1-r)));return 500*Math.round(s/500)*o},e.prototype.getImmUpSkillCount=function(e,t){if(!e||0>=t)return null;var n=e.p1+(t-1)*t/2*e.p2;return n},e._P=function(e,t){var n,i=.02,r=.02,a=1.04344;switch(t){case 3:n=500;break;case 4:n=750;break;case 5:n=1e3;break;case 6:n=2e3}var o=n*(i*(1-Math.pow(a,e))/(1-a)+r/(1-a)*(e-(1-Math.pow(a,e))/(1-a)));return Math.floor(o)},e.VO=function(e,t){var n,i,r=.02,a=.02,o=1.04344,s=1e4,p=.933511;switch(t){case 3:n=.006,i=.158;break;case 4:n=.006,i=.157;break;case 5:n=.006,i=.1565;break;case 6:n=.0048,i=.3252}var l=r*(1-Math.pow(o,e))/(1-o)+a/(1-o)*(e-(1-Math.pow(o,e))/(1-o)),c=i+n*Math.pow(l*s,p);return c},e.VZ=function(e){return App.MB.baseAddition*(e-1)/10||0},e}();__reflect(GeneralCompute.prototype,"GeneralCompute");var LgRe=function(){function e(){}return e.UQ=function(e,t){e&&(e.textFlow=this.txtParser.parser(t))},e.OQ=function(e){return usable(e)?this.txtParser.parser(e):[]},e.GY=function(e,t){var n=[],i="";usable(t)&&(n=this.txtParser.parser(t));for(var r=0,a=n.length;a>r;r++)i+=n[r].text;var o=egret.sys.measureText(i,e.fontFamily,e.size,e.bold,e.italic);return o},e.txtParser=new egret.HtmlTextParser,e}();__reflect(LgRe.prototype,"LgRe");var NumberUtil=function(){function e(){}return e.FF=function(e,t){void 0===t&&(t=1);var n=this;return e>=n.num9?fvg.GVf("public024",GMath.toFixed(e/n.num9,t)):e>=n.num5?fvg.GVf("public025",GMath.toFixed(e/n.num5,t)):GMath.toFixed(e,t).toString()},e.NM=function(e){var t=this;if(e=e||0,e>=t.num9){var n=GMath.toFixed(e/t.num9,1);return fvg.GVf("public024",n)}if(e>=t.num5){var n=e;return n=e>=t.num7?int(e/t.num5):GMath.toFixed(e/t.num5,1),fvg.GVf("public025",n)}return e.toString()},e.DB=function(e){var t=this;if(e=e||0,e>=t.num9){var n=GMath.toFixed(e/t.num9,1);return fvg.GVf("public024",n)}if(e>=t.num5){var n=e;return n=e>=t.num8?int(e/t.num5):GMath.toFixed(e/t.num5,1),fvg.GVf("public025",n)}return e.toString()},e.YT=function(e){var t=this;if(e=e||0,e>=t.num9){var n=int(e/t.num9);return fvg.GVf("public024",n)}if(e>=t.num5){var n=e;return n=int(e>=t.num8?e/t.num5:e/t.num5),fvg.GVf("public025",n)}return e.toString()},e.IB=function(e,t){if(e<=Math.pow(2,31)-1)return e>>t&1;var n=e.toString(2),i=n.length;if(0>i-t-1)return 0;var r=n.charAt(i-t-1);return parseInt(r)},e.GB=function(e){var t=["","","","","","","","","",""],n=e%10,i=int(e/10)%10,r=int(e/100),a="";if(r>0){var o=r;a+=t[o]+""}if(i>0){var o=1===i||r>0?0:i;a+=t[o]+""}if(n>0){var o=n;a+=t[o]}return a},e.num9=1e8,e.num8=1e7,e.num7=1e6,e.num6=1e5,e.num5=1e4,e}();__reflect(NumberUtil.prototype,"NumberUtil");var UsU=function(){function e(){}return Object.defineProperty(e,"redPointInfo",{get:function(){return e._redPointInfo||(e._redPointInfo={}),e._redPointInfo},enumerable:!0,configurable:!0}),e.WH=function(){var e=App.BG.turnupInfo,t=e.grade;if(t<MaxLevel.TURNUP_MAX_LEVEL){var n=XCA.AQS.UFA(7,1,t+1);if(!n)return!1;if(!n)return!1;for(var i=n.p5.split("|"),r=void 0,a=[],o=[],s=0;s<i.length;s++)r=i[s].split(","),a.push(parseInt(r[0])),o.push(parseInt(r[1]));return o[0]&&e.cond_prog_1<o[0]?!1:o[1]&&e.cond_prog_2<o[1]?!1:o[2]&&e.cond_prog_3<o[2]?!1:o[3]&&e.cond_prog_4<o[3]?!1:!0}return!1},e.GN=function(){if(App.KF.chapter<StaticData.EIGHTDOORS_CH)return!1;for(var e,t,n=App.FK.hsx(StaticData.TID_GOODS_5),i=Iwrv.YJ,r=0;r<i.length;r++)if(e=App.BG.eightDoorsInfo[i[r]%1e3]||0,t=App.JP.getEightDoorsNeedCount(e),n>=t&&e<MaxLevel.EIGHT_DOORS_MAX_LEVEL)return!0;return!1},e.ZL=function(){for(var e,t=Iwrv.YJ,n=0;n<t.length;n++)if(e=App.FK.searchMoreEquip(t[n]))return!0;return!1},e.DH=function(){if(App.KF.chapter<StaticData.SPECIAL_CH)return!1;for(var t=1;4>=t;t++)if(e.UV(t))return!0;return!1},e.LD=function(){var e=App.MG.oneYuanBuy;return e&&e.isExist?1!=e.bagList[0].status?!1:!0:!1},e.WA=function(e){var t=App.MG.directVo;if(!t||!t.isExist)return!1;var n=t.getBagDataBySort(e);return n?1!=n.status?!1:!0:!1},e.UV=function(e){if(App.KF.chapter<StaticData.SPECIAL_CH)return!1;var t=App.BG.speciaEquipInfo[e]||0,n=XCA.AQS.UFA(8,e,1),i=parseInt(n.cost),r=App.JP.getSpecialEquipNeedCount(t),a=App.FK.hsx(i);return a>=r&&t<MaxLevel.SPECIAL_EQUIP_MAX_LEVEL},e.UW=function(){return e.ZL()?!0:e.DH()?!0:e.GN()?!0:e.VU()?!0:e.WF()?!0:e.XJ()?!0:e.GC()?!0:e.SY()?!0:e.ZD()?!0:e.QS()?!0:e.OT()?!0:!1},e.QY=function(){return e.UW()?!0:e.KX()?!0:e.RA()?!0:e.AR()?!0:!1},e.BO=function(){return e.ZK()?!0:e.NL()?!0:!1},e.ZK=function(){for(var e,t=App.FK.getGoodsListByTypes([Iwrv.GK],1),n=t.length,i=0;n>i;i++)if(e=t[i],CanUseBoxTip.NC(e))return!0;return!1},e.AS=function(){for(var e,t,n,i=(App.BG.jkU.gold,App.FK.hsx(StaticData.TID_GOODS_2)),r=XCA.AQS.UFA(4,1,1),a=0;a<Iwrv.YJ.length;a++)if(n=Iwrv.YJ[a],t=App.HG.intensifyInfo[n],e=App.JP.getNeedEisByGrade(t),t<r.maxgrade&&i>=e)return!0;return!1},e.XT=function(){if(App.KF.chapter<StaticData.GEM_CH)return!1;for(var t=App.FK.getGoodsListByTypes([Iwrv.PF],1),n=App.FK.getGoodsListByTypes([Iwrv.PF],5),i=Iwrv.YJ,r=0;r<i.length;r++)for(var a=1;4>=a;a++)if(e.GK(t,n,i[r],a))return!0;return!1},e.GK=function(t,n,i,r){var a,o;for(o=0;o<n.length;o++)if(int(n[o].p1/10)==int(i%1e3)&&int(n[o].p1%10)==r){a=n[o];break}for(o=0;o<t.length;o++)if(t[o].subType==r&&(!a||a.goodsGrade<t[o].goodsGrade))return!0;return e.RE(a)},e.RE=function(e){return e?e.p1>0?App.FK.hsx(e.TSF.tid)>0:e.count>=2:!1},e.IH=function(){if(App.KF.chapter<StaticData.STARUP_CH)return!1;for(var t=0;t<Iwrv.YJ.length;t++)if(e.NY(Iwrv.YJ[t]))return!0;return!1},e.NY=function(e){var t=App.HG.upstarInfo,n=t[e]||0;if(n<MaxLevel.UPSTAR_MAX_LEVEL){if(n>10){var i=Math.floor(n/10)-1,r=StaticData.TID_STARS[i]||0,a=App.FK.hsx(r);if(a>0)return!0}n+=1;var o=XCA.AQS.UFA(5,1,n);if(!o)return!1;var s=o.cost.split(","),p=parseInt(s[0]),l=parseInt(s[1]),c=App.FK.hsx(p);return c>=l}return!1},e.KM=function(){if(App.BG.turnupInfo.turnupNum<StaticData.SPIRIT_CH)return!1;for(var t,n=Iwrv.QL,i=n.length,r=0;i>r;r++)if(t=App.FK.Fkl(8,n[r]),t&&t.length>0&&e.OI(Iwrv.QL[r]))return!0;return!1},e.OI=function(e){var t=App.RM.intensifyInfo,n=t[e]||0;if(n<MaxLevel.SPIRIT_INTENIFY_MAX_LEVEL){n+=1;var i=XCA.AQS.UFA(49,1,1);if(!i)return!1;var r=i.cost.split(","),a=parseInt(r[0]),o=App.FK.hsx(a),s=App.JP.getNeedEisByGrade(n);return o>=s}return!1},e.PZ=function(){if(App.KF.chapter<StaticData.SUPEREQUIP_CH)return!1;var t,n,i,r,a,o,s,p,l,c=XCA.AQS.oVs(12),u=App.FK.hsx(StaticData.TID_GOODS_9),d=App.FK.hsx(StaticData.TID_GOODS_19);for(var g in c){if(t=c[g][1],r=App.BG.superEquipInfo[g]||0,n=App.FK.hsx(parseInt(t.cost)),i=App.JP.getSuperequipNeedCount(r),n>=i&&r<t.maxgrade)return!0;if(a=gLw.IQ(t.tid),o=App.BG.superEquipInfo["f_"+a]||0,s=t.p2*r||1,rRcz.SS(80,!1)&&(p=App.BG.superEquipInfo["sf_"+a]||0,l=App.JP.getSuperequipUseMax(r,t.p1),r>0)){if(s>o&&u>0)return!0;if(l>p&&d>0)return!0}}return e.LH()?!0:!1},e.LH=function(){var t,n,i=App.BG.superequipCastingInfo;for(t in i)if(n=e.YT(t))return n;return!1},e.NB=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.BG.spectrumInfo[t]||0,i=XCA.AQS.UFA(50,t,n||1);if(!i)return!1;if(n>=i.maxgrade)return!1;var r=[];i.p6&&(r=i.p6.split(","));var a,o=XCA.AQS.UFA(50,t,n+1),s=0;if(o)for(var p=0;p<r.length;p++)a=App.BG.superEquipInfo[parseInt(r[p])]||0,a>=o.p2&&s++;if(n>0){var l=[];if(i.cost&&(l=i.cost.split(",")),l.length>=2&&s>=r.length){var c=App.FK.hsx(parseInt(l[0])||StaticData.TID_TREASURE_ID_2),u=parseInt(l[1]);if(c>=u&&n<i.maxgrade)return!0}}else if(s>=r.length)return!0;return!1},e.QE=function(){var t=XCA.AQS.oVs(50);if(t){var n,i={};for(var r in t)n=t[r][1],i[1]||(i[1]=[]),i[1].push(n);var a=i[1],o=a.length;if(0>=o)return!1;for(var s=0;o>s;s++)if(e.NB(a[s]))return!0;return!1}},e.GQ=function(e){var t,n,i,r,a=e,o=App.FK.hsx(StaticData.TID_GOODS_9);return t=gLw.IQ(a.tid),n=App.BG.superEquipInfo[t]||0,i=App.BG.superEquipInfo["f_"+t]||0,r=a.p2*n||1,n>0&&r>i&&o>0?!0:!1},e.KB=function(){for(var e,t=App.JO.skillInalyInfo,n=App.JO.openGradeArr,i=App.JO.openVipArr,r=0,a=0,o=0;o<t.length;o++)-1==t[o]?(App.KF.grade>=parseInt(n[o])||App.XT.vipInfo.vipGrade>=parseInt(i[o]))&&r++:0==t[o]?r++:(e=XCA.AQS.UFA(1,t[o],1),a=Math.max(a,e.sort));var s=App.JO.getCanWithActSkillList();if(!r){for(var o=0;o<s.length;o++)if(e=XCA.AQS.UFA(1,s[o],1),e&&e.sort<a&&s[o]<500)return!0;return!1}return r>0&&s.length>0},e.QI=function(){if(App.VX.wbShare&&!App.XT.vipInfo.vipGp)return!1;for(var t=0;t<MaxLevel.SVIP_MAX_LEVEL;t++)if(e.VC(t))return!0;return!1},e.VC=function(e){var t=App.XT.vipInfo.rewardState,n=App.XT.vipInfo.vipGrade;return n>=e&&0==(t&1<<e)},e.WY=function(){if(App.VX.wbShare&&!App.EO.vipInfo.vipGp)return!1;if(e.ZG())return!0;for(var t=0;t<MaxLevel.VIP_MAX_GRADE;t++)if(e.ZO(t))return!0;return!1},e.ZG=function(){for(var e=(MaxLevel.VIP_MAX_GRADE,App.EO.vipInfo.vipGrade),t=[],n=XCA.CG(IDU.LU).split(QycO.XP),i=n.length,r=0;i>r;r++){var a=n[r];t.push(a)}var o=t[e-1],s=App.KF.chapter;return s>=o?!0:!1},e.ZO=function(e){var t=App.EO.vipInfo.rewardState,n=App.EO.vipInfo.vipGrade;return n>e&&0==(t&1<<e)},e.YD=function(){for(var e=App.CC.loginaward,t=App.CC.logindays,n=1;t>=n;n++)if(0==(e&1<<n-1))return!0;return!1},e.JA=function(){for(var e=XCA.CG(IDU.OI),t=e.split(","),n=App.CC.onlineaward,i=0;i<t.length;i++){var r=parseInt(t[i]);App.CC.onlinetime;if(App.CC.onlinetime>=r&&0==(n&1<<i))return!0}return!1},e.DO=function(){for(var e=XCA.CG(IDU.QY),t=e.split(","),n=App.CC.svipaward,i=0;i<t.length;i++){var r=parseInt(t[i]);App.CC.sviptime;if(App.CC.sviptime>=r&&App.XT.vipGrade>=1&&0==(n&1<<i))return!0}return!1},e.F_X=function(){for(var e,t=XCA.CG(IDU.OI),n=t.split(","),i=n.length,r=App.CC.onlinetime+App.NN.onlineTime,a=0;i>a;a++)if(e=parseInt(n[a]),e>r)return!0;return!1},e.AW=function(){for(var e,t=XCA.CG(IDU.QY),n=t.split(","),i=n.length,r=App.CC.sviptime+App.NN.onlineTime,a=0;i>a;a++)if(e=parseInt(n[a]),e>r&&App.XT.vipGrade>=1)return!0;return!1},e.FY=function(){if(!App.CC.todaySign)return!0;var e=App.FK.hsx(StaticData.TID_GOODS_3);return App.CC.resignCount>0&&e>0?!0:!1},e.ZP=function(){var e=App.CC.receive,t=App.CC.isWeeklyCard;return!e&&t?!0:!1},e.XZ=function(e){for(var t=App.AT.getTaskByTypes(e),n=0;n<t.length;n++)if(!t[n].isComp&&t[n].pro>=t[n].taskTemplate.maxValue)return!0;return!1},e.MO=function(){if(App.KF.chapter<StaticData.TEAM_YMG_CH)return!1;var e=App.MB.getNumByType(22);return e&&e>0},e.VU=function(){if(App.KF.chapter<StaticData.TENDONS_CH)return!1;var e=SkillManager.instance.tendonsGrade;if(e>=MaxLevel.TENDONS_MAX_LEVEL)return!1;var t=XCA.AQS.UFA(3,1,1);if(t){var n=(parseInt(t.cost),App.JP.getTendonsNeedGold(e));if(App.KF.gold>=n)return!0}return!1},e.NJ=function(t){if(void 0===t&&(t=0),App.KF.chapter<StaticData.BOSS_CH||3==t&&(!App.XB.info.fid||App.KF.chapter<StaticData.CAMPAIGN_CH))return!1;if(0==t&&e.ZW())return!0;if(4==t&&e.PC())return!0;var n;if(1==t)n=App.MB.oneBossList;else if(2==t)n=App.MB.taleBossList;else if(3==t)App.XB.info.fid>0&&(n=App.MB.mtcampList);else{if(4==t)return e.PC()?!0:!1;n=App.MB.oneBossList.concat(App.MB.taleBossList),App.XB.info.fid>0&&(n=n.concat(App.MB.mtcampList))}if(n)for(var i=n.length,r=void 0,a=0;i>a;a++)if(r=n[a],CondHelp.WC(r.TSF.con,r.TSF.conval)&&r.h>0&&(r.atktime||0)-ClockManager.instance.serverSecond+2<=0)if(App.MB.oneBossList.indexOf(r)>=0||App.MB.mtcampList.indexOf(r)>=0){if(r.atkno>0)return!0}else if(App.MB.taleBossList.indexOf(r)>=0)return App.MB.taleNum>0;return!1},e.OIV=function(){var e=App.MT.harryVo.dbval;return 0==e},e.PC=function(){var t;App.XT.vipInfo.vipGrade;if(t=App.MB.vipBossList)for(var n=t.length,i=void 0,r=0;n>r;r++)if(i=t[r],CondHelp.WC(i.TSF.con,i.TSF.conval)){if(e.PA())return!0;if(i.h>0&&(i.atktime||0)-ClockManager.instance.serverSecond+2<=0&&App.MB.vipBossList.indexOf(i)>=0&&i.atkno>0)return!0}return!1},e.PA=function(){if(App.MB.vipBossStar>=MaxLevel.SVIP_MAX_LEVEL)return!1;var e=XCA.CG(IDU.TNO),t=e.split("|");if(t){var n=t[App.MB.vipBossStar],i=parseInt(n.split(",")[0]),r=parseInt(n.split(",")[1]);return App.KF.grade>=r&&App.MB.vipBossTimes>=i&&App.MB.vipBossStar<MaxLevel.SVIP_MAX_LEVEL?!0:!1}},e.EA=function(){if(!rRcz.SS(70,!1)||App.KF.chapter<StaticData.CROSS_HARRY_CH||!App.XB.info.fid)return!1;var e=App.IB.harryVo.dbval||0;return 0==e},e.AO=function(){return!rRcz.SS(74,!1)||App.KF.chapter<StaticData.MINE_CH||!App.XQS.mine_processing?!1:App.XQS.my_mine_count<App.XQS.max_hold_count},e.EG=function(){return!rRcz.SS(91,!1)||App.KF.chapter<StaticData.MINE_BEAUTY||!App.XQS.mine_beauty_processing?!1:App.XQS.my_beauty_mine_count<1},e.OX=function(){return App.KF.chapter<StaticData.SMELTING_CH?!1:App.BG.emptyEquipBagSize<20},e.ZJ=function(){var e,t=App.QA.getTaskListByType(3);for(var n in t)if(e=t[n],e&&e.pro>=e.taskTemplate.maxValue&&0==e.isComp)return!0;return!1},e.LRU=function(t,n){switch(t){case StoreItemView.ZS:var i=(App.BG.jkU.gold,App.FK.hsx(StaticData.TID_GOODS_2)),r=XCA.AQS.UFA(4,1,1),a=void 0,o=void 0;if(o=App.HG.intensifyInfo[n],a=App.JP.getNeedEisByGrade(o),o<r.maxgrade&&i>=a)return!0;break;case StoreItemView.CY:for(var s=App.FK.getGoodsListByTypes([Iwrv.PF],1),p=App.FK.getGoodsListByTypes([Iwrv.PF],5),l=(Iwrv.YJ,1);4>=l;l++)if(e.GK(s,p,n,l))return!0;break;case StoreItemView.DX:return e.NY(n);case StoreItemView.HD:var c=e.QR(n);if(c)return c;var u=e.SE(n);return u}return!1},e.KX=function(){var e=App.XB.info;if(App.KF.chapter<StaticData.RENOWN_CH||!e.fid)return!1;var t=!1,n=e.fgrade||1;if(n<MaxLevel.PRESTIGE_MAX_LEVELA){var i=XCA.AQS.UFA(21,1,n+1);if(!i)return!1;
for(var r=(i.p6||"").split("|"),a=void 0,o=[],s=[],p=0;p<r.length;p++)a=r[p].split(","),o.push(parseInt(a[0])),s.push(parseInt(a[1]));t=!0,s[0]&&e.v1<s[0]?t=!1:s[1]&&e.v2<s[1]?t=!1:s[2]&&e.v3<s[2]&&(t=!1)}return t||0==App.XB.dayfeat},e.RF=function(e){var t,n,i,r;return t=e,n=gLw.IQ(t.tid),i=App.BG.fashionInfo[n]||0,i>=t.maxgrade?!1:(r=App.FK.hsx(parseInt(t.cost))||0,r>0)},e.WF=function(){var t,n,i,r,a,o,s,p,l,c=XCA.AQS.oVs(24),u=(App.FK.hsx(StaticData.TID_GOODS_8),App.FK.hsx(StaticData.TID_GOODS_7)),d=App.FK.hsx(StaticData.TID_GOODS_20);for(var g in c)if(t=c[g][1],n=gLw.IQ(t.tid),r=App.FK.hsx(parseInt(t.cost))||0,i=App.BG.fashionInfo[n]||0,s=c[g][1],i||!(s.p3>0)||App.FK.hsx(parseInt(s.cost))){if(e.TX(t))return!0;if(i<t.maxgrade&&r>0)return!0;if(rRcz.SS(81,!1)&&(a=App.BG.fashionInfo["snum_"+n]||0,o=t.p2*i||1,p=App.BG.fashionInfo["sanum_"+n]||0,l=App.JP.getFashionUseMax(i,parseInt(t.crits)),i>0)){if(o>a&&u>0)return!0;if(l>p&&d>0)return!0}}return!1},e.RU=function(e){var t,n,i,r,a=e,o=App.FK.hsx(StaticData.TID_GOODS_7);return t=gLw.IQ(a.tid),n=App.BG.fashionInfo[t]||0,i=App.BG.fashionInfo["snum_"+t]||0,r=a.p2*n||1,n>0&&r>i&&o>0?!0:!1},e.EQ=function(){var e=App.XT.vipInfo.vipGrade,t=App.BM.count,n=50*Math.pow(2,t);if(App.KF.point<n)return!1;var i=XCA.CG(IDU.PO),r=0,a=parseInt(i),o=App.XT.getPrivilegeByVipGradeAndType(e,19)||0;return a+=o,r=a-App.BM.count,0>=r?!1:!0},e.YC=function(){return e.VD()?!0:e.EB()?!0:e.XD()?!0:e.NJ(3)?!0:e.OIV()?!0:!1},e.VD=function(){var t=App.XB.info;if(t.foct&&t.foct>0)return!0;var n=t.boxv||0;if(t.score&&t.score>0)for(var i=0;3>i;i++)if(!(n&1<<i)&&App.XB.provokeScoreList[i]<=t.score)return!0;return e.KX()?!0:!1},e.XD=function(){var e=App.XB.info,t=e.gct||0;return e&&t>0},e.EB=function(){var t=App.XB.memberList.status||1;if(2==t){var n=App.XB.info.duty_chall||0;if(n>0)return!0}if(3==t){var i=App.XB.info.act||0;if(i>0)return!0}return e.CVF()?!0:!1},e.CVF=function(){var e=App.XB.memberList.dumap[MartialArtOfficial.off1]||0,t=App.XB.memberList.assetc||0;return 2!=App.XB.memberList.status&&t>0&&e==App.KF.uid},e.VE=function(){var e,t=App.QA.getTaskListByType(2);for(var n in t)if(e=t[n],e.pro>=e.taskTemplate.maxValue&&0==e.isComp)return!0;for(var i,r=App.KF.acvalue||0,a=StaticData.MARTIALT_ACVALUE_LIST.indexOf(App.KF.acbox||0),o=StaticData.MARTIALT_ACVALUE_LIST.length,s=0;o>s;s++)if(i=StaticData.MARTIALT_ACVALUE_LIST[s],r>=i&&!(a>=s))return!0;return!1},e.WI=function(){return App.KF.chapter<StaticData.SKILL_CH?!1:e.WPZ()?!0:e.PW()?!0:!1},e.WPZ=function(){return e.HP()?!0:e.KB()?!0:!1},e.HP=function(){var e,t,n=App.KF.cul,i=App.JO.actSkillInfos;for(var r in i){var a=parseInt(r);if(!(App.JO.skillInalyInfo.indexOf(a)<0)&&(t=i[r],e=App.JP.getActSkillNeedCount(t.grade,t.upgradeTemp.qua),t.grade<MaxLevel.ACT_MAX_LEVEL&&t.grade<App.JO.actSkillLimit&&n>=e&&parseInt(r)<500))return!0}return!1},e.V_=function(){var t=XCA.AQS.oVs(2);if(t){var n=void 0,i=void 0;for(n in t)if(i=t[n][1],i&&e.EC(i)||e.WA(2))return!0}return!1},e.EC=function(e){if(e){var t=gLw.IQ(e.tid),n=SkillManager.instance.getPasSkillInfoBySonType(t.toString()),i=n?n.grade:0,r=n?n.gp:0;if(i<MaxLevel.PAS_MAX_LEVEL){var a=App.JP.getPasSkillNeedCount(i),o=GxD.instance.hsx(parseInt(e.cost));return o+r>=a}}return!1},e.NI=function(){return App.KF.chapter<StaticData.SHOP_CH?!1:e.MI()?!0:e.CQ()?!0:!1},e.MI=function(){return e.redPointInfo[RedPointType.AS]>0},e.CQ=function(){if(App.KF.chapter<StaticData.COMPOSITE_CH)return!1;for(var e=App.IQ.getEquipShopGoods(),t=GObj.$c(nlwj),n=App.IQ.getMoneyByMoneyType(4),i=0;i<e.length;i++)if(t.tid=e[i].itemid,n>=e[i].price&&App.FK.compareWearEquip(t))return!0;return!1},e.WB=function(){return e._TQ()?!0:e.BJ()?!0:!1},e.BIJ=function(){return e.EA()?!0:e.AO()?!0:!1},e.ZU=function(){var e=App.CG.pvpVo;if(!e)return!1;var t=e.successCount||0;if(0>=t)return!1;var n=App.GP.getOpenUIDataTvoByVid(10143);if(!rRcz.openViewCheck(n,!1))return!1;var i=XCA.CG(IDU.SP);if(!usable(i))return!1;var r=i.split(StringConst.SF);if(r){var a=r.length;if(a>0)for(var o=0;a>o;o++){var s=parseInt(r[o]);if(s>t)return!1;var p=!!(e.boxStatus&1<<o);if(!p)return!0}}return!1},e._TQ=function(){if(App.KF.chapter<StaticData.ARENA_CH)return!1;var e=App.HB.arenaVo.count||0;return e>0},e.BJ=function(){if(App.KF.chapter<StaticData.CROSS_ARENA_CH)return!1;for(var e=App.HB.crossArenaVo,t=App.BG.stageBoxState[8]||0,n=App.HB.crossArenaVo.victory,i=e.winCountArr.length,r=!1,a=0;i>a;a++)if(0==(t&1<<a)&&n>=parseInt(e.winCountArr[a]||"0")){r=!0;break}return r||1==e.status&&1!=e.tt&&e.count>0},e.IV=function(){return e.EE()?!0:e.EE(500)?!0:!1},e.EE=function(e){var t;t=500==e?App.AL.gmEmailArray:App.AL.emailArray;for(var n=t.length,i=0;n>i;i++)if(t[i]&&t[i].hasannex)return!0;return!1},e.VI=function(){var e=App.FK.hsx(StaticData.TID_RUNE_ID),t=App.XV.getConsumptionCount()||[],n=0,i=App.FK.hsx(StaticData.TID_GOODS_38);return t.length>0&&(n=t[0]),e>=n||i>=1?!0:!1},e.BD=function(){for(var t=Iwrv.LN,n=0;n<t.length;n++)if(e.UN(t[n]))return!0;return!1},e.UN=function(t){for(var n,i=App.FK.LHp(6),r=0;r<i.length;r++)if(i[r].sonType==t){n=i[r];break}return n?e.TE(n):e.RP(t)},e.TE=function(e){for(var t,n=App.XV.allRunesList,i=n.length,r=0;i>r;r++)if(t=n[r],t.sonType==e.sonType){if(t.quality>e.quality)return!0;if(t.quality==e.quality&&App.XV.getAttCP(t,t.p3)>App.XV.getAttCP(e,e.p3))return!0}return!1},e.RP=function(e){for(var t,n=App.XV.allRunesList,i=n.length,r=0;i>r;r++)if(t=n[r],t.sonType==e)return!0;return!1},e.J_=function(e){for(var t,n=App.FK.LHp(6),i=0;i<n.length;i++)if(n[i].sonType==e.sonType){t=n[i];break}return t?e.quality>t.quality||e.quality==t.quality&&App.XV.getAttCP(e,e.p3)>App.XV.getAttCP(t,t.p3):!0},e.TZ=function(){for(var t,n=(App.FK.hsx(StaticData.TID_RUNE_ID),App.FK.LHp(6)),i=n.length,r=0;i>r;r++)if(t=n[r],e.MG(t))return!0;return!1},e.MG=function(e){if(e){if(e.p3>=MaxLevel.RUNE_SURMOUNT_LEVEL&&e.quality>=aKF.KY)return!1;var t=App.FK.hsx(StaticData.TID_RUNE_ID);if(e.quality>=aKF.KY&&e.quality>=aKF.KY)return t>=1;var n=void 0;e.quality>=aKF.KY?n=10:(n=e.p1%10,e.p1>0&&0==n&&(n=10));var i=e.quality>=aKF.PU?!0:!1,r=i&&e.p3>=App.XV.getGrade(e)&&n>=(e.TSF?e.TSF.p4:0),a=int(App.JP.getRuneSurmountGP(0)/10);return r&&t>=a}return!1},e.PW=function(){return e.VI()?!0:e.BD()?!0:e.TZ()?!0:!1},e.CX=function(){return App.KF.chapter<StaticData.KNIGHT_CH?!1:e.OCQ()?!0:e.VW()?!0:!1},e.OCQ=function(){return e.LST()?!0:e._QK()?!0:!1},e.LST=function(){for(var t,n=App.JUY.getKnightByQuality(aKF.MM),i=n.length,r=0;i>r;r++)if(t=n[r],e.ZE(t))return!0;return!1},e.ZE=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.JUY.knightInfos[t]||0,i=App.JUY.getGradeTempByType(t),r=XCA.AQS.UFA(27,t,n+1),a=0;if(r){var o=r.cost.split(",");return a=App.FK.hsx(parseInt(o[0])),a>=parseInt(o[1])}if(n>=i.maxgrade)return!1;a=App.FK.hsx(StaticData.TID_KNIGHT_SOUL);var s=App.JP.getUpgradeCount(n+1);return a>=s},e.VW=function(){var t,n=XCA.AQS.oVs(48);for(var i in n)if(t=n[i][1],e.PO(t))return!0},e.PO=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.JUY.collKnightInfo[t]||0,i=App.JUY.getTempByCollType(t),r=XCA.AQS.UFA(48,t,n+1),a=0;if(r){var o=r.cost.split(",");return a=App.FK.hsx(parseInt(o[0])),a>=parseInt(o[1])}if(n>=i.maxgrade)return!1;a=App.FK.hsx(StaticData.TID_KNIGHT_SOUL);var s=App.JP.getKnightCollectionCount(n);return a>=s},e.FC=function(){if(App.KF.chapter<StaticData.COMPOSITE_CH)return!1;for(var t=Iwrv.YJ,n=0;n<t.length;n++){if(e.QR(t[n]))return!0;if(e.SE(t[n]))return!0}return!1},e.QR=function(e){var t=App.FK.Fkl(12,e)[0];if(t){var n=App.PI.getComposeByMat(t.tid)[0];if(n){var i=XCA.FR(n.nmat);if(QNV.WG(i))return!1;var r=App.FK.hsx(n.mat2),a=n.ct2;return a&&a>r?!1:(r=App.FK.hsx(n.mat3),a=n.ct3,a&&a>r?!1:(r=App.KF.gold,a=n.gold,a&&a>r?!1:(r=App.KF.point,a=n.p,a&&a>r?!1:!0)))}}return!1},e.WT=function(e){var t=App.FK.Fkl(12,e)[0],n=XCA.CG(IDU.EX).split(QycO.XP);if(!t&&n.indexOf(toChars(e))>=0)return!1;var i;if(t&&t.quality==aKF.KY)i=App.PI.getComposeByMat(t.tid)[0];else{var r=App.PI.getTidByColorEquipSubType(e);i=XCA.RW(r)}var a;if(i){if(a=XCA.FR(i.nmat),!a||QNV.WG(a))return!1;var o=App.FK.hsx(i.mat2),s=i.ct2;return s&&s>o?!1:!0}return!1},e.ZD=function(){return App.KF.chapter<StaticData.SPIRIT_CH?!1:e.VX()||e.KM()?!0:!1},e.VX=function(){if(App.KF.chapter<StaticData.SPIRIT_CH)return!1;for(var t=Iwrv.QL,n=0;n<t.length;n++)if(e.YA(t[n]))return!0;return!1},e.YA=function(e){var t,n=App.FK.Fkl(8,e)[0];if(n)t=App.PI.getSpiritComposeByMat(n.tid)[0];else{var i=App.RM._equipComTemp[e];t=XCA.RW(i)}if(n&&!t)return!1;if(t){var r=App.FK.hsx(t.mat2),a=t.ct2;return r>=a}return!1},e.QB=function(e){var t=App.FK.getEquipIwrv(e),n=App.FK.Fkl(2,t)[0],i=0;if(!(n&&n.quality>=aKF.KY))return!1;i=n.TSF.step;var r=0,a=App.FK.getRoleSpiritWearEquip()[e];return a&&(r=a.TSF.step),i>=r?!0:!1},e.ZW=function(){if(App.KF.chapter<StaticData.TURNUP_BOSS_CH)return!1;var e=App.MB.turnupBossInfo;if(!e||!e.bossDic)return!1;var t=e.getBossInfoById(e.challengeBossId);return t&&!t.die&&e.rbac>0},e.SE=function(e){var t=App.FK.Fkl(2,e)[0];if(!t)return!1;if(t.quality<aKF.KY)return!1;var n=App.HG.castingGoldInfo[e],i=App.HG.turnUpLVMaxCastingGoldLv[t.TSF.step];if(n==i)return!1;var r=Math.ceil((n+1)/10),a=XCA.AQS.UFA(37,1,r);if(!a)return!1;var o=App.FK.hsx(parseInt(a.cost)),s=a.p5.split("|"),p=n%10,l=parseInt(s[p].split(",")[1]);return l>o?!1:!0},e.MT=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.JUY.bondsInfos[t]||0;if(n>=e.maxgrade)return!1;var i;e.p6&&(i=e.p6.split(","));for(var r,a=0,o=i.length,s=0,p=0;o>p;p++)r=App.JUY.knightInfos[i[p]]||0,s++,r>=n+1&&a++;if(s>a)return!1;var l=0,c=1,u=App.JUY.getGradeTempByType1(t);u=u?u:e;var d=XCA.AQS.UFA(28,t,n+1);return d?(l=App.FK.hsx(StaticData.TID_BONDS_SOUL),c=App.JUY.getUpgradeCount1(u.cost,n)):(l=App.FK.hsx(StaticData.TID_KNIGHT_SOUL),c=App.JP.getUpgradeCount(n+1)),l>=c},e._QK=function(){var t=App.JUY.getBondsByQuality(aKF.MM),n=t.length;if(0>=n)return!1;for(var i,r=!1,a=0;n>a;a++)if(i=t[a],e.MT(i)){r=!0;break}return r},e.NL=function(){for(var t,n=App.PI.getComposeByType(1),i=n.length,r=0;i>r;r++)if(t=n[r],t&&e.LX(t))return!0;return!1},e.LX=function(e){if(!e)return!1;var t,n=!0,i=!0,r=!0,a=!0;return e.mat1&&e.ct1&&(t=App.FK.hsx(e.mat1),n=t>=e.ct1),e.mat2&&e.ct2&&(t=App.FK.hsx(e.mat2),i=t>=e.ct2),e.mat3&&e.ct3&&(t=App.FK.hsx(e.mat3),r=t>=e.ct3),e.matl4&&e.ct4&&(t=App.FK.hsx(e.matl4),a=t>=e.ct4),n&&i&&r&&a},e.XG=function(){if(e.GJ())return!0;if(e.AVA())return!0;var t=(App.XB.godSkillInfo[1]||0)+(App.XB.godSkillInterInfo[2]||0),n=XCA.CG(IDU.UI)||"0";return t<parseInt(n)?!1:e.BS()?!0:!1},e.GJ=function(){var t=App.XB.godSkillInfo[1]||0,n=App.XB.getOuterTempByGrade(t),i=XCA.AQS.UFA(29,1,t+1);if(t<n.maxgrade)if(i){var r=App.XB.godSkillInfo.otav||0;if(r>=(i.p1||0))return!0}else{var a=App.FK.hsx(parseInt(n.cost));if(a>=1)return!0}var o=XCA.AQS.oVs(30);for(var s in o)if(e.SC(o[s][1]))return!0;return!1},e.AVA=function(){if(App.KF.chapter<StaticData.GOD_SKILL_INTER_CH)return!1;var t=App.XB.godSkillInterInfo[2]||0,n=App.XB.getOuterTempByGrade(t),i=XCA.AQS.UFA(42,2,t+1);if(t<n.maxgrade)if(i){var r=App.XB.godSkillInfo.itav||0;if(r>=(i.p1||0))return!0}else{var a=App.FK.hsx(parseInt(n.cost));if(a>=1)return!0}var o=XCA.AQS.oVs(43);for(var s in o)if(e.DZ(o[s][1]))return!0;return!1},e.SC=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.XB.godSkillEnch[t]||0,i=App.XB.godSkillInfo[1]||0,r=App.XB.getOuterTempByGrade(i);i=i>0&&r?r.sort:0;var a=App.XB.getEnchLimitGrade(t,i,e.p5),o=App.FK.hsx(parseInt(e.cost)),s=e.p1||0;return a>n&&o>=s},e.DZ=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.XB.godSkillInterEnch[t]||0,i=App.XB.godSkillInterInfo[2]||0,r=App.XB.getInterTempByGrade(i);i=i>0&&r?r.sort:0;var a=App.XB.getEnchLimitGrade(t,i,e.p5),o=App.FK.hsx(parseInt(e.cost)),s=e.p1||0;return a>n&&o>=s},e.EV=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.JO.beastGradeDict[t]||0,i=0,r=0;return n>0?(r=App.FK.hsx(StaticData.TID_BEAST_ID),i=App.JP.getBeastNeedCount(n)):(r=App.FK.hsx(parseInt(e.cost)),i=1),n<MaxLevel.BEAST_MAX_LEVEL&&r>=i},e.ED=function(){var t=XCA.AQS.oVs(31);for(var n in t)if(e.EV(t[n][1]))return!0;return!1},e.YGY=function(){var t=XCA.AQS.oVs(44);for(var n in t)if(e.WQ(t[n][1]))return!0;return!1},e.WQ=function(e){if(e){var t=gLw.IQ(e.tid);if((App.JO.beastGradeDict[t]||0)>0){var n=App.JO.beastStarDict[t]||0;if(n<e.maxgrade){var i=Nkz.LI(e.p5),r=0,a=0,o=0,s=0;return i[n+1]>0?(o=App.JO.beastGradeDict[t]||0,s=App.JO.getBeastGradeByStar(n+1),r=App.FK.hsx(parseInt(e.cost)),a=i[n+1]):(r=App.FK.hsx(StaticData.TID_GOODS_17),a=1),o>=s&&r>=a}}return!1}},e.UXR=function(){return e.ED()?!0:e.YGY()?!0:!1},e.F_=function(){return App.KF.chapter<StaticData.OFFICIAL_CH?!1:e.ANN(App.BG.officialInfo[1]||0)?!0:!1},e.MOE=function(){var e=App._B.getCurrCanWearEquipSontype();return!e||e.length<=0?!1:!0},e.ZM=function(){for(var t=1;4>=t;t++)if(e.HTB(t))return!0;return!1},e.HTB=function(e){var t=App._B.battleEquipInfo[""+e];if(0>=t)return!1;var n=XCA.AQS.UFA(65,e,2);if(!n)return!1;var i=n.maxgrade;if(t>=i)return!1;var r=(n.p5.split(","),App._B.battleEquipInfo["gp_"+e]-App.JP.getBattleEquipUpgradeConsume(t)),a=App.JP.getBattleEquipUpgradeConsume(t+1),o=(a-r)/10,s=App.FK.hsx(parseInt(n.cost));return s>=o?!0:!1},e.GU=function(){return App.KF.chapter<StaticData.OFFICIAL_CH?!1:e.ANN(App.BG.officialInfo[1]||0)?!0:e.HR()?!0:!1},e.HR=function(){return App.KF.chapter<StaticData.OFFICIAL_CH?!1:(!App.BG.officialInfo.isUse||0==App.BG.officialInfo.isUse)&&(App.BG.officialInfo[1]||0)>0?!0:!1},e.HN=function(){return e.HR()||e.F_()||e.MOE()?!0:!1},e.ZT=function(){return e.TQ()||e.KH()||e.DR()||e.LP()||e.WA(3)?!0:!1},e.TI=function(e){var t=RetinueManager.instance.getRetinueInfoByType(e);if(!t)return!1;var n=XCA.AQS.UFA(e,1,t.grade+1);if(!n)return!1;var i=parseInt(n.cost)||0,r=App.FK.hsx(i);return r>0?!0:!1},e.TD=function(e){var t=RetinueManager.instance.getRetinueInfoByType(e);if(!t)return!1;if(!t.stempDict)return!1;var n,i,r,a,o;for(var s in t.stempDict)if(n=t.stempDict[s],n&&(i=gLw.IQ(n.tid),r=t.sgradeDict[i]||0,a=n.needgp||0,o=App.FK.hsx(parseInt(n.cost))||0,o>0&&0>a&&0>=r))return!0;return!1},e.TQ=function(){return e.TI(32)},e.SM=function(){return App.KF.chapter<StaticData.BEAUTY_CH?!1:e.TD(32)},e.VY=function(e){var t=RetinueManager.instance.getRetinueInfoByType(32),n=t?t.openSkinTypes:[];if(0==n.length)return!1;var t=RetinueManager.instance.getRetinueInfoByType(e);if(!t)return!1;var i=XCA.AQS.UFA(e,1,t.grade||1);if(!i||!i.p1)return!1;var r=i.p1||0,a=t.maxPill||0,o=t.snum||0,s=App.FK.hsx(r);return a>o&&s>0?!0:!1},e.DR=function(){return App.KF.chapter<StaticData.BEAUTY_CH?!1:e.VY(32)},e.LP=function(){if(App.KF.chapter<StaticData.BEAUTY_CH)return!1;var e=RetinueManager.instance.getRetinueInfoByType(32),t=XCA.AQS.UFA(32,1,e.grade||1),n=parseInt(t.cost)||0,i=App.FK.hsx(n),r=e.openSkinTypes;return 0==r.length&&i>0?!0:void 0},e.NU=function(){if(App.KF.chapter<StaticData.BEAUTY_CH)return!1;var e,t,n,i,r,a=RetinueManager.instance.getRetinueInfoByType(32),o=XCA.AQS.oVs(33);for(var s in o)if(e=o[s][1],e&&-1==e.needgp&&(t=a.sgradeDict[s],n=App.FK.hsx(parseInt(e.cost)),i=App.JP.getBeautyNeedCount(t),r=e.maxgrade,n>=i&&r>t))return!0;return!1},e.CK=function(){if(App.KF.chapter<StaticData.SWORD_CH)return!1;var e,t,n,i,r,a=RetinueManager.instance.getRetinueInfoByType(89),o=XCA.AQS.oVs(90);for(var s in o)if(e=o[s][1],e&&-1==e.needgp&&(t=a.sgradeDict[s],n=App.FK.hsx(parseInt(e.cost)),i=App.JP.getBeautyNeedCount(t),r=e.maxgrade,n>=i&&r>t))return!0;return!1},e.GB=function(){return e.TI(89)},e.IA=function(){return e.GB()||e.QG()||e.QQW()||e.LN()||e.WA(5)?!0:!1},e.QG=function(){var t=XCA.AQS.oVs(91);if(!t)return!1;var n=0;for(var i in t){n++;var r=t[i];if(r&&e.BU(89,n,r[1]))return!0}return!1},e.QQW=function(){return App.KF.chapter<StaticData.SWORD_CH?!1:e.VY(89)},e.LN=function(){if(App.KF.chapter<StaticData.SWORD_CH)return!1;var e=RetinueManager.instance.getRetinueInfoByType(89),t=XCA.AQS.UFA(89,1,e.grade||1),n=parseInt(t.cost)||0,i=App.FK.hsx(n),r=e.openSkinTypes;return 0==r.length&&i>0?!0:void 0},e.XI=function(){if(App.KF.chapter<StaticData.PALACEBOSS_CH)return!1;var e=App.FK.hsx(StaticData.KILL_BOSS_TOKEN);if(0>=e)return!1;var t=App.MB.pbInfo.openInfo,n=App.NN.date,i=3600*n.getHours()+60*n.getMinutes()+n.getSeconds();return i>=t.st&&i<t.st+t.ct?!0:!1},e.QN=function(){return e.XI()?!0:!1},e.VF=function(e){if(e&&e.bagList)for(var t=e.bagList,n=void 0,i=void 0,r=0;r<t.length;r++)if(i=t[r],n=i.conditionList?i.conditionList[0]:null,2!=i.status&&n){var a=n.p1,o=n.p2;if(App.XT.vipGrade>=a&&App.KF.point>=o)return!0}return!1},e.ETU=function(e,t){var n=App.BG.superequipCastingInfo[e];if(!n)return!1;var i=n.getOpenCount();if(t>i)return!1;var r,a,o,s,p=n.gemInfo,l=p[t].type,c=p[t].grade,u=n.getMaxLvByGemType(l);if(0!=l)return r=XCA.AQS.UFA(39,l,1),r&&usable(r.p6)?(a=r.p6.split(","),c==a.length?!1:c==u?!1:(o=parseInt(a[c]),s=App.FK.hsx(parseInt(r.cost)),o>s?!1:!0)):!1;for(var d=n.getRemainGemType(),g=0;g<d.length;g++)if(r=XCA.AQS.UFA(39,d[g],1),a=r.p6.split(","),o=parseInt(a[c]),s=App.FK.hsx(parseInt(r.cost)),s>=o)return!0;return!1},e.YT=function(t){for(var n,i=1;4>=i;i++)if(n=e.ETU(t,i))return n;return n},e.XJ=function(){return e.BL(1)||e.CNM()||e.JK()?!0:!1},e.FV=function(e){if(!e)return!1;var t,n,i,r=App.FK.hsx(StaticData.TID_TREASURE_ID_2);return t=gLw.IQ(e.tid),n=App.OG.treasureInfo[t]||0,0>=n?(i=App.FK.hsx(parseInt(e.cost))||0,i>0):n>=e.maxgrade?!1:r>=1},e.TAM=function(e){if(!e)return!1;var t,n,i;t=gLw.IQ(e.tid),i=App.OG.treasureInfo["s_"+t];var r=GObj.$c(nlwj);r.tid=parseInt(e.cost),r.count=App.OG.getUpstarCountByStarGrade(i);var a=App.FK.hsx(r.tid);return n=App.OG.treasureInfo[t]||0,0>=n||i>=e.p2?!1:a>=r.count?!0:!1},e.BL=function(t){var n,i,r,a,o,s=App.OG.getTreasureByQuality(t),p=App.FK.hsx(StaticData.TID_TREASURE_ID_2);for(var l in s)if(n=s[l],i=gLw.IQ(n.tid),a=App.FK.hsx(parseInt(n.cost))||0,r=App.OG.treasureInfo[i]||0,0>=r){if(a>0)return!0}else if(r>0&&r<n.maxgrade){var c=gLw.GM(n.tid);if(o=App.JP.getTreasureUpNeedCount(r,c),p>=1)return!0;if(e.TAM(n))return!0}return!1},e.JK=function(){var e=App.FK.hsx(StaticData.TID_TREASURE_ID),t=App.OG.getForgeNeedCountByCount(1)||1;return e>=t},e.ZQ=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.OG.bindInfo[t]||0,i=XCA.AQS.UFA(41,t,n||1);if(!i)return!1;if(n>=i.maxgrade)return!1;var r=[];i.p6&&(r=i.p6.split(","));var a,o=XCA.AQS.UFA(41,t,n+1),s=0;if(o)for(var p=0;p<r.length;p++)a=App.OG.treasureInfo[parseInt(r[p])]||0,a>=o.p2&&s++;if(n>0){var l=[];if(i.cost&&(l=i.cost.split(",")),l.length>=2&&s>=r.length){var c=App.FK.hsx(parseInt(l[0])||StaticData.TID_TREASURE_ID_2),u=parseInt(l[1]);if(c>=u&&n<i.maxgrade)return!0}}else if(s>=r.length)return!0;return!1},e.CNM=function(){var t=App.OG.getBindByQuality(aKF.MM),n=t.length;if(0>=n)return!1;for(var i=0;n>i;i++)if(e.ZQ(t[i]))return!0;return!1},e.WN=function(){return e.HW(RedPointType.KU)||e.HW(RedPointType.OD)||e.HW(RedPointType.AQ)?!0:!1},e.HW=function(t){return e.redPointInfo[t]>0},e.LTD=function(){var t,n=App.FQ.redbagInfo,i=n.redBagList;for(var r in i)if(t=i[r],t&&e.NP(t))return!0;return!1},e.NP=function(e){var t=App.FQ.redbagInfo,n=t.sysCount,i=(e.cd||0)<=0?2:1,r=(e.maon||0)>0?2:1,a=(e.remain||0)>0?0:3;if(e&&1==e.type){if(0>=n)return!1;if(2==r)return!1;if(1==r&&1==i&&0==a)return!0}return!1},e.TX=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.BG.fashionInfo[t]||0;if(n<e.maxgrade)return!1;var i=App.BG.fashionInfo["spirit_"+t]||0;if(i>=MaxLevel.FASHION_FIXSOUL_LEVEL)return!1;var r=App.FK.hsx(StaticData.TID_GOODS_8);return r>=1?!0:!1},e.ANN=function(e){var t=XCA.AQS.UFA(47,1,e+1);if(!t)return!1;var n=App._B.offiInfo.otav||0,i=t.needgp;return n>=i?!0:!1},e.GW=function(e){if(!rRcz.SS(80,!1))return!1;var t,n,i,r,a=e,o=App.FK.hsx(StaticData.TID_GOODS_19);return t=gLw.IQ(a.tid),n=App.BG.superEquipInfo[t]||0,i=App.BG.superEquipInfo["sf_"+t]||0,r=App.JP.getSuperequipUseMax(n,a.p1),n>0&&r>i&&o>0?!0:!1},e.UR=function(e){if(!rRcz.SS(81,!1))return!1;var t,n,i,r,a=e,o=App.FK.hsx(StaticData.TID_GOODS_20);return t=gLw.IQ(a.tid),n=App.BG.fashionInfo[t]||0,i=App.BG.fashionInfo["sanum_"+t]||0,r=App.JP.getFashionUseMax(n,parseInt(a.crits)),n>0&&r>i&&o>0?!0:!1},e.MJ=function(){for(var e=App.UZ.loginaward,t=App.UZ.logindays,n=1;t>=n;n++)if(0==(e&1<<n-1))return!0;return!1},e.UAP=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.XB.godSkillJinguEnch[t]||0,i=App.XB.godSkillJinguInfo[3]||0,r=App.XB.getInterTempByGrade(i);i=i>0&&r?r.sort:0;var a=App.XB.getEnchLimitGrade(t,i,e.p5),o=App.FK.hsx(parseInt(e.cost)),s=e.p1||0;return a>n&&o>=s},e.BS=function(){var t=(App.XB.godSkillInfo[1]||0)+(App.XB.godSkillInterInfo[2]||0),n=XCA.CG(IDU.UI)||"0";if(t<parseInt(n))return!1;var i=App.XB.godSkillJinguInfo[3]||0,r=App.XB.getOuterTempByGrade(i),a=XCA.AQS.UFA(51,3,i+1);if(i<r.maxgrade)if(a){var o=App.XB.godSkillJinguInfo.atav||0;if(o>=(a.p1||0))return!0}else{var s=App.FK.hsx(parseInt(r.cost));if(s>=1)return!0}var p=XCA.AQS.oVs(52);for(var l in p)if(e.UAP(p[l][1]))return!0;return!1},e.GC=function(){return e.MQ()?!0:e.VR_()?!0:e.VJ()?!0:!1},e.MQ=function(){var t=XCA.AQS.UFA(53,1,1);if(!t)return!1;var n=App.ZT.fosterGrade,i=0,r=0;return n>0?(i=1,r=App.FK.hsx(t.cost)):(i=1,r=App.FK.hsx(StaticData.TID_CLOCK_1)),n<t.maxgrade&&r>=i||e.WA(4)},e.VR_=function(){if(!App.ZT.fosterGrade)return!1;var t=XCA.AQS.oVs(54);if(!t)return!1;var n;for(var i in t)if(n=t[i][1],e.NK(n))return!0;return!1},e.NK=function(e){if(!e)return!1;var t=App.ZT.getCloakUpstar(gLw.IQ(e.tid)),n=App.FK.hsx(e.cost);return t<e.maxgrade&&n>0},e.VJ=function(){var t=XCA.AQS.oVs(55);if(!t)return!1;var n;for(var i in t)if(n=t[i][1],e.EWC(n))return!0;return!1},e.EWC=function(e){if(!e)return!1;if(App.ZT.fosterGrade<e.p1)return!1;var t=App.ZT.getCloakSkillGrade(gLw.IQ(e.tid));if(t>=e.maxgrade||t>=App.ZT.skillLimit)return!1;var n=App.JP.getCloakSkillCount(t,e),i=App.FK.hsx(e.cost);return i>=n},e.TM=function(){return e.OK()?!0:!1},e.OK=function(){var e=App.JG.wuShenTowerInfo;if(e.my_storey>=App.JG.maxStorey)return!1;var t=(e.et||0)-App.NN.serverSecond<=0;if((e.my_storey||0)+1==e.storey)return e.num>0&&!t;if(t){var n=App.NN.date,i=n.getHours();if(i>=0&&10>i)return!1}return!0},e.CMI=function(){var e=App.MB.eliteBossInfo.ambit||1,t=App.MB.eliteBossInfo.level||1,n=App.MB.eliteBossInfo.bossNum||0;if(4==e&&1==n)return!0;var i=App.JG.wuShenTowerInfo,r=(i.et||0)-App.NN.serverSecond<=0;if(!r){var a=XCA.CG(IDU.MM),o=Nkz.LI(a),s=parseInt(o[4*(e-1)+t]);if(i.storey-1>=s)return!0}return!1},e.DVE=function(){var e,t=App.QA.getTaskListByType(6);for(var n in t)if(e=t[n],e.pro>=e.taskTemplate.maxValue&&0==e.isComp)return!0;for(var i,r=App.JG.wuShenTowerInfo,a=r.act||0,o=r.award||0,s=App.JG.taskActList,p=0;p<s.length;p++)if(i=parseInt(s[p])||0,a>=i&&0==(o&1<<p))return!0;return!1},e.UWO=function(){var e=App.JG.wuShenPlunderInfo;return(e.c||0)>0},e.UU=function(){var e=App.JG.plist||[],t=e.length||0;if(0>=t)return!1;for(var n,i=!1,r=0;t>r;r++)if(n=e[r],!n.status||0==n.status){i=!0;break}return i},e.BOK=function(){var e=XCA.CG(IDU.ZW);if(!e)return!1;for(var t=e.split(","),n=App.KF.point,i=0;i<e.length;i++){var r=(parseInt(t[i]),App.RG.zeroGiftGet&1<<i);if(0==r&&n>=parseInt(t[i]))return!0}return!1},e.BER=function(){return!1},e.BQ=function(e){return!1},e.TU=function(){var t=XCA.CZ(),n=t.length,i=!1;if(0>=n)return i;for(var r=0;n>r;r++)if(e.BQ(t[r])){i=!0;break}return i},e.QK=function(){for(var e,t=App.JG.wuLinTreasuryInfo,n=t.is||0,i=t.count||0,r=App.JG.getTreasuryCon,a=0;a<r.length;a++)if(e=parseInt(r[a])||0,i>=e&&0==(n&1<<a))return!0;var o=App.JG.wuShenTowerInfo.score||0;r=App.JG.treasuryNeed;for(var a=0;a<r.length;a++)if(e=parseInt(r[a])||0,o>=e)return!0;return!1},e.UO=function(e){var t=App.JG.practiceGrade,n=App.JG.getPracticeTempGrade(t);if(n&&t>=n.maxgrade)return!1;if(!e)return!1;var i=App.FK.hsx(e.tid);return i>0},e.IJ=function(){var t=App.JG.practiceGrade;if(0>=t){var n=App.BG.turnupInfo.grade;if(n>=StaticData.TURNUP_LV)return!0}else for(var i=XCA.CG(IDU.RT),r=i.split("|"),a=r.length||0,o=void 0,s=void 0,p=0;a>p;p++)if(o=r[p].split(","),o.length>=1&&(s=GObj.$c(nlwj),s.tid=parseInt(o[0]),e.UO(s)))return!0;return!1},e.NA=function(e){if(!e)return!1;var t=GObj.$c(nlwj),n=gLw.IQ(e.tid),i=App.JG.stuntInfo[n]||0;if(i>=e.maxgrade)return!1;t.tid=StaticData.TID_STUNTS[n-1],t.count=App.JP.getStuntUpNeedCount(i,e.p2||0,e.p3||0,e.p4||0);var r=App.FK.hsx(t.tid||0);return r>=t.count},e.UY=function(){var t=App.JG.getStunt(),n=t.length;if(0>=n)return!1;for(var i,r,a,o=t[0],s=o.p6.split(","),p=s.length,l=0;p>l;l++)if(i=parseInt(s[l]),r=App.JG.stuntInfo[i]||0,a=XCA.AQS.UFA(57,i,1),a&&e.NA(a))return!0;return!1},e.WE=function(e,t){var n;if(t)n=App.PI.getKnackComposeByMat(t.tid)[0];else{var i=App.JG.getKnackTemp[e];n=XCA.RW(i)}if(t&&!n)return!1;var r=App.JG.haveOrHigherGrade(t,e);if(r&&r.tid>0)return!0;if(n){var a=App.FK.hsx(n.mat2),o=n.ct2;return a>=o}return!1},e.GV=function(){for(var t,n=Iwrv.XWV,i=n.length,r=0;i>r;r++)if(t=App.JG.getCurrTypeKnackBySonType(n[r]),e.WE(n[r],t))return!0;return!1},e.IE=function(){return e.IJ()?!0:e.UY()?!0:e.GV()?!0:!1},e.KV=function(){var t=App.KF.fid,n=App.BG.turnupInfo.turnupNum;return!t||n<StaticData.WULIN_LEAGUE_LV||!App.JG.openDay?!1:e.TM()?!0:e.QK()?!0:e.UU()?!0:e.IE()?!0:e.TU()?!0:e.CMI()?!0:!1},e.RIB=function(){for(var t=Iwrv.AF,n=[2,4,8,10,12,15],i=0;i<t.length;i++)if(e.JJ(t[i])&&n[i]<=App.VP.currStar)return!0;return!1},e.JJ=function(e){var t=App.FK.Fkl(11,e)[0];if(t&&t.TSF.step>=MaxLevel.BEAUTY_SPIRIT_GRADE)return!1;var n=App.FK.hsx(StaticData.TID_GOODS_34);return n>0?!0:!1},e.EJ=function(){if(App.KF.chapter<StaticData.HIDDEN_WEAPON_CH)return!1;var t=App.OX.getHWByQuality(aKF.MM);for(var n in t)if(e.VS(t[n]))return!0;return!1},e.VS=function(t){return t?e.FI(t)?!0:e.YK(t)?!0:!1:!1},e.FI=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.OX.hwInfo[t]||QycO.BE,i=XCA.AQS.UFA(64,t,1);if(i){var r=App.FK.hsx(i.cost),a=1;if((n.s||0)<i.maxgrade&&r>=a)return!0}return!1},e.YK=function(e){if(!e)return!1;var t=gLw.IQ(e.tid),n=App.OX.hwInfo[t]||QycO.BE,i=App.FK.hsx(e.cost),r=App.JP.getHwUpgradeNeedCount(n.g||0,e);return n.s>0&&(n.g||0)<e.maxgrade&&i>=r},e.UE=function(){for(var e=App.HD.eliminateInfo.award||0,t=[0,0,0,0],n=App.HD.eliminateInfo.s||0,i=0;i<t.length;i++)if(n>=t[i]&&0==(e&1<<i))return!0;return!1},e.KCJ=function(){return!rRcz.SS(93,!1)||App.BG.turnupInfo.grade<StaticData.YUANSHEN_TU?!1:(App.HD.eliminateInfo.count||0)>0?!0:e.UE()?!0:!1},e.SY=function(){return(e.HK()||e.BYH()||e.PZI()||e.YP())&&App.KF.chapter>=StaticData.TAIYI},e.HK=function(){for(var e,t,n,i,r,a=0;4>a;a++){e=10+a+1,t=App.HL.taiyiMasterInfo["g_"+e]||0;var o=XCA.AQS.UFA(67,e,1);if(!o)return;if(n=o.maxgrade,n>t&&(i=parseInt(o.cost),r=App.FK.hsx(i),r>=App.JP.getTaiyiAdvanceNum(o,t)))return!0}return!1},e.BYH=function(){var e,t,n,i=App.HL.taiyiInfo;e=i.g_1||0;var r=XCA.AQS.UFA(66,1,1);return r?e>=r.maxgrade?!1:(t=parseInt(r.cost),n=App.FK.hsx(t),n>0?!0:!1):!1},e.PZI=function(){var e=App.HL.taiyiInfo.g_1||0,t=App.HL.taiyiInfo.gat_1||0,n=XCA.AQS.UFA(66,1,1);if(n){var i=0==e?1:e,r=n.p2*i||1,a=App.FK.hsx(StaticData.TID_GOODS_49);return e>0?r>t&&a>0:!1}},e.YP=function(){var e=App.HL.taiyiInfo.g_1||0,t=App.HL.taiyiInfo.gat2_1||0,n=XCA.AQS.UFA(66,1,1);if(n){var i=0==e?1:e,r=n.p3*i||1,a=App.FK.hsx(StaticData.TID_GOODS_50);return e>0?r>t&&a>0:!1}},e.E_=function(){if(!rRcz.SS(96,!1))return!1;if(App.BG.turnupInfo.grade<App.XW.getOpenTurnGrade())return!1;var t=App.XW.familyInfo.id||0;return 0>=t?!1:e.AU()?!0:e.TO()?!0:!1},e.AU=function(){return e.checkFamilyTaskStagePoint()?!0:e.HTD()?!0:!1},e.checkFamilyTaskStagePoint=function(){for(var e=XCA.CG(IDU.DY).split(","),t=App.XW.familyInfo.tp||0,n=e.length,i=0;n>i;i++){var r=parseInt(e[i]);if(t>=r&&0==(App.XW.familyInfo.tk&1<<i))return!0}return!1},e.HTD=function(){var e=App.QA.getTaskListByType(7);for(var t in e){var n=e[t];if(!n||!n.taskTemplate)return!1;if(n.pro>=n.taskTemplate.maxValue&&0==n.isComp)return!0}return!1},e.TO=function(){if(1!=App.XW.familyInfo.pd)return!1;var e=[];return e=App.XW.familyInfo.al,e&&e.length>0?!0:!1},e.XLO=function(){return e.US_()?!0:!1},e.US_=function(){var t=XCA.AQS.oVs(71);if(!t)return!1;for(var n in t){var i=t[n][1];if(e.UK(i))return!0}return!1},e.UK=function(t){return e.YV(t)?!0:e.FBN(t)?!0:e.YI(t)?!0:!1
},e.YV=function(t){for(var n=App.BV.cardInfo||{},i=t.p5.split(","),r=i.length,a=0;r>a;a++){var o=parseInt(i[a]),s=XCA.AQS.UFA(69,o,1),p=n[o]||0;if(e.PL(p,s))return!0}return!1},e.PL=function(e,t){if(!t)return!1;var n=t.maxgrade;if(e>=n)return!1;var i=0>=e?parseInt(t.cost):StaticData.TID_GOODS_52,r=App.FK.hsx(i);return r>=1?!0:!1},e.FBN=function(t){for(var n=App.BV.cardWakeInfo||{},i=App.BV.cardInfo||{},r=t.p5.split(","),a=0;a<r.length;a++){var o=parseInt(r[a]),s=XCA.AQS.UFA(70,o,1),p=i[o]||0;if(!(0>=p)){var l=n[o]||0;if(e.LW(l,s))return!0}}return!1},e.LW=function(e,t){if(!t)return!1;var n=App.BV.cardInfo||{},i=gLw.IQ(t.tid),r=n[i]||0;if(0>=r)return!1;var a=t.maxgrade;if(e>=a)return!1;var o=parseInt(t.p5.split(",")[e]),s=parseInt(t.cost),p=App.FK.hsx(s);return p>=o?!0:!1},e.YI=function(e){if(!e)return!1;var t=App.BV.cardGroupInfo||{},n=gLw.IQ(e.tid),i=t[n]||0,r=e.p5.split(","),a=App.BV.getAllGradeByType(r),o=parseInt(e.p6.split(",")[i]);if(0>=i){var s=App.BV.getActiveNumByType(r);if(s>=r.length/2&&a>=o)return!0}else if(App.BV.getAllGradeByType(r)>=parseInt(e.p6.split(",")[i]))return!0;return!1},e.EN=function(){for(var t=!1,n=1;5>=n&&!(t=e.GI(n));n++);return e.YX()||e.OH()||t?!0:!1},e.YX=function(){if(!rRcz.SS(105,!1))return!1;var e=XCA.AQS.UFA(76,1,1),t=App.QOR.spLakeDic[1]||0,n=0;if(e){if(t>=(e.maxgrade||999))return!1;e.cost&&(n=App.FK.hsx(parseInt(e.cost)))}return n>0},e.OH=function(){if(!rRcz.SS(105,!1))return!1;for(var e=(App.QOR.spLakeDic[1]||0,0),t=0;5>=t;t++)e+=App.QOR.spSkillDic[t]||0;var n=XCA.AQS.UFA(78,1,1),i=SpiritlLakeUtils.TQ(n,e),r=0,a=App.QOR.spLakeCount||0;if(a>=i)return!1;if(n){if(a>=(n.maxgrade||1e3))return!1;n.cost&&(r=App.FK.hsx(parseInt(n.cost)))}return r>0},e.GI=function(e){if(!rRcz.SS(105,!1))return!1;var t=App.QOR.spLakeDic[1]||0;if(0>=t)return!1;var n=App.QOR.spSkillDic[e]||0,i=XCA.AQS.UFA(77,e,1);if(i&&t>=i.p1){if(n>=i.maxgrade)return!1;var r=App.FK.hsx(parseInt(i.cost)),a=SpiritlLakeUtils.HH(i,e);return r>=a}return!1},e.AG=function(e){var t=App.QOR.spLakeDic[1]||0;if(0>=t)return!1;var n=App.QOR.spSkillDic[e]||0,i=XCA.AQS.UFA(77,e,1);if(i&&t>=i.p1){if(0>=n)return!0;var r=App.FK.hsx(parseInt(i.cost)),a=SpiritlLakeUtils.HH(i,e);return r>=a}return!1},e.TTM=function(e){void 0===e&&(e=0);var t=App.FK.hsx(StaticData.TID_GOODS_36),n=!1;switch(e){case 0:n=t>=StaticData.FUNNYTREASURE_1||t>=StaticData.FUNNYTREASURE_10;break;case 1:n=t>=StaticData.FUNNYTREASURE_1;break;case 10:n=t>=StaticData.FUNNYTREASURE_10}return n},e.HX=function(){var t=XCA.CG(IDU.MN);return!rRcz.SS(108,!1)||kpd.FZ()<parseInt(t)||!App.EJ.achievementVo.ps?!1:e.CE()?!0:e.BZ()?!0:!1},e.CE=function(){for(var e=App.EJ.achievementVo,t=e.g,n=e.sa?!0:!1,i=e.as,r=n?App.EJ.achievementConfig[0]:App.EJ.achievementConfig[4],a=1;r>=a;a++)if(t>=a){if(!i[a+"_0"])return!0;if(n&&!i[a+"_1"])return!0}return!1},e.BZ=function(){var e,t,n=App.EJ.taskList;for(e in n)if(t=n[e],t.taskTemplate&&t&&!t.isComp&&(!t.taskTemplate.p1||App.EJ.achievementVo.sa)&&t.pro>=t.taskTemplate.maxValue)return!0;return!1},e.VP=function(){return e.AK()?!0:e.RKF()?!0:e.BX()?!0:e._A()?!0:void 0},e.AK=function(){return e.KZ(10)?!0:e.IFE()?!0:e.WM()?!0:e.FE()?!0:e.WA(1)?!0:void 0},e.KZ=function(e){var t,n=App.FX.advancedvo.g||0,i=0;if(0>=n)return i=App.FK.hsx(StaticData.TID_GOODS_68),i>=1;if(!e)return!1;if(t=XCA.AQS.oVs(79)[1][1],!t)return!1;var r=App.JP.getConsume(App.FX.advancedvo.g),a=App.FX.currentExp(App.FX.advancedvo.g),o=App.JP.getConsume(App.FX.advancedvo.g,a),s=App.KF.gold;return i=e>1?o:r,s>=i&&App.FX.advancedvo.g<t.maxgrade},e.IFE=function(){var e=App.FX.advancedvo.g||0;if(!e)return!1;var t=App.FK.hsx(StaticData.TID_GOODS_66);if(!t)return!1;var n=App.FX.swallowDanNumber,i=App.FX.advancedvo.gat_1;return n>i},e.FE=function(){var e,t,n=XCA.AQS.UFA(79,1,1),i=n.p6.split(",");return!App.KF.lighting&&(e=parseInt(i[0]),t=App.FK.hsx(e),t>0)?!0:!App.KF.uscr&&(e=parseInt(i[1]),t=App.FK.hsx(e),t>0)?!0:!App.KF.ushr&&(e=parseInt(i[2]),t=App.FK.hsx(e),t>0)?!0:!1},e.WM=function(){var e=XCA.AQS.UFA(81,99,1);if(!e)return!1;var t=gLw.IQ(e.tid),n=App.FX.awakenInfo[t]||0;if(n>=e.maxgrade)return!1;var i=XCA.AQS.UFA(81,99,n+1),r=App.FK.hsx(i.cost);return r>0},e.RKF=function(){return e.SH(0)},e.SH=function(t){for(var n,i,r=App.FX.getQua(t),a=App.FX.getQuaData(r),o=a.length,s=0;o>s;s++)if(n=a[s]){if(i=gLw.IQ(n.tid),(0==t||t==aKF.KY)&&e.WM())return!0;if(e.XW(i))return!0}return!1},e.XW=function(e){var t=XCA.AQS.UFA(80,e,1);if(!t)return!1;var n=App.FX.risingstarvo.starArr[e]||0;if(n>=t.maxgrade)return!1;var i=App.FK.hsx(t.cost);return i>0},e.BX=function(){var t,n,i=XCA.AQS.oVs(82);for(var r in i)if(t=i[r][1])return n=gLw.IQ(t.tid),e.XL(n)?!0:!1;return!1},e.XL=function(e){if(e>1)return!1;var t=XCA.AQS.UFA(82,e,1);if(!t)return!1;var n=App.FX.fateInfo[e]||0;if(n>=t.maxgrade)return!1;for(var i,r,a,o,s=t.p6.split(QycO.XP),p=s[n],l=t.p5.split(QycO.PK),c=l.length,u=0,d=0;c>d;d++){if(i=l[d].split(QycO.XP),a=null,r=null,i.length<2?(r=XCA.allTemplateData.appelltemp[i[0]],o=r.grade):(a=XCA.AQS.getGradeTempByMasTypeAndSubType(parseInt(i[0]),parseInt(i[1]))[1],o=App.FX.getSkinGrade(parseInt(i[0]),parseInt(i[1]))),!a&&!r)return!1;o>=parseInt(p)&&u++}return u>=c},e._S=function(){for(var e=App.MG.treasuryList,t=e.length,n=!1,i=0;t>i;i++)e[i].isExist&&(n=!0);if(!n)return!1;var r=App.FK.hsx(StaticData.TID_GOODS_23);return r>0},e.YKC=function(){var e=XCA.CG(IDU.YL).split(StringConst.RA),t=App.CC.bc==e.length?e.length-1:App.CC.bc,n=e[t].split(QycO.XP),i=App.KF.point;return e.length==App.CC.bc?!1:i>=parseInt(n[1])&&App.XT.vipGrade>=parseInt(n[0])},e.PB=function(){var e=App.KF.rewardState,t=XCA.CG(IDU.QX);if(!t)return!1;var n=t.split(QycO.PK),i=n.length,r=i===e;return!r},e.EO=function(){if(!rRcz.SS(107,!1))return!1;var e=App.CC.et,t=e-App.NN.serverSecond,n=XCA.CG(IDU.YL).split(StringConst.RA);return t>0&&n.length!==App.CC.bc?!0:!1},e.TLD=function(){return!0},e.WSD=function(){var e=XCA.CG("open_carnival_boss"),t=JSON.parse(e)||{};for(var n in t){var i=App.CW.getSubBossByTid(parseInt(n)),r=CondHelp.WC(i.TSF.con,i.TSF.conval),a=void 0;if(r){var o=i.atktime-App.NN.serverSecond+2;a=0>o&&App.MB.taleNum>0?!0:!1}else a=!1;if(this.checkRevelryBossAwardCount(parseInt(n))&&a)return!0}return!1},e.checkRevelryBossAwardCount=function(e){var t=XCA.CG("open_carnival_boss"),n=JSON.parse(t)||{};return 2==App.KP.getbossState(e)?!1:0==n[e].sum?!0:App.KP.getbossAwardCount(e)<n[e].sum},e.AC=function(){var e=XCA.CG("open_carnival_bosshappy"),t=App.KP.killMultiBossCount;if(!e)return!1;for(var n in e){var i=App.KP.getRevelryBossState(parseInt(n));if(t>=e[n].c&&0==i)return!0}return!1},e.IU=function(){if(!rRcz.SS(1030,!1))return!1;var e=XCA.CG("new_server_1"),t=App.KP.revelryPointCnt||0;if(!e)return!1;for(var n in e){var i=App.KP.getPointRewState(parseInt(n))||0;if(t>=e[n].target&&0==i)return!0}return!1},e.PBX=function(){if(!rRcz.SS(1032,!1))return!1;var e=XCA.CG("new_server_3"),t=App.KP.revelryTresureCnt||0;if(!e)return!1;for(var n in e){var i=App.KP.getTresureRewState(parseInt(n))||0;if(t>=e[n].target&&0==i)return!0}return!1},e.ZX=function(e){var t=XCA.CG("new_server_"+e).split(QycO.XP),n=0,i=0,r=0;switch(e){case 4:i=App.KP.upgradeRewStateDict.award_state_0,r=App.KP.upgradeRewStateDict.award_state_1,n=App.KF.grade;break;case 5:i=App.KP.chapterRewStateDict.award_state_0,r=App.KP.chapterRewStateDict.award_state_1,n=App.KF.chapter}for(var a=0,o=t.length;o>a;a++){var s={},p=!1,l=!1;if(s.index=a,s.level=parseInt(t[a]),p=1===(i>>s.index&1),l=!p&&n>=s.level)return l;if(p=1===(r>>a&1),l=!p&&n>=s.level&&App.DE.supremeCardVO.isExpCard)return l}},e.KLJ=function(e){var t=XCA.CG(IDU.BT+StringConst.PF+e).split(","),n=t.length,i=App.UU.getWealthdishVO(e).award,r=App.UU.getWealthdishVO(e).score;return i==n?!1:r>=parseInt(t[i])?!0:!1},e.MZ=function(){return App.HP.beInvitedList.length>0?!0:!1},e.EF=function(){return App.HP.applyList.length>0?!0:!1},e.AY=function(e){var t=App.FK.Fkl(13,e)[0],n=XCA.CG(IDU.EC).split(QycO.XP);if(!t&&n.indexOf(toChars(e))>=0)return!1;var i;if(t&&t.quality==aKF.KY)i=App.PI.getFairysuitComposeByMat(t.tid)[0];else{var r=App.PI.getTidByFairySuitEquipSubType(e);i=XCA.RW(r)}var a;if(i){if(a=XCA.FR(i.nmat),!a||QNV.WG(a))return!1;var o=App.FK.hsx(i.mat2),s=i.ct2;return s&&s>o?!1:!0}return!1},e.checkResolveImmEqui=function(){for(var e=App.FK.LHp(1),t=e.length,n=0;t>n;n++)if(e[n].TSF&&e[n].TSF.resolve&&e[n].TSF.qua==aKF.KY&&App.PI.resolveDic[e[n].TSF.tid])return!0;return!1},e.RA=function(){var e=this;return e.checkMoreColorEquipRedPoint()||e.checkComposeiteByAllType()||e.checkResolveColorEqui()||e.checkAllgodSuitCast()},e.checkComposeiteByAllType=function(){for(var t=Iwrv.MA.length,n=0;t>n;n++)if(e.WT(Iwrv.MA[n]))return!0;return!1},e.checkResolveColorEqui=function(){for(var e=App.FK.LHp(1),t=e.length,n=0;t>n;n++)if(e[n].TSF&&e[n].TSF.resolve&&e[n].TSF.qua==aKF.KY&&App.PI.resolveDic[e[n].TSF.tid])return!0;return!1},e.checkAllgodSuitCast=function(){for(var e=0;e<Iwrv.MA.length;e++){var t=Iwrv.MA[e],n=App.FK.Fkl(12,t)[0];if(!n||n.TSF.step<2)return!1}return!1},e.checkMoreColorEquipRedPoint=function(){for(var e,t=Iwrv.MA,n=0;n<t.length;n++)if(e=App.FK.searchMoreEquip(t[n],!0))return!0;return!1},e.AR=function(){var e=this;return e.checkMoreImmEquipResPoint()||e.checkComposeImmByAllType()||e.checkResolveImmEqui()},e.checkMoreImmEquipResPoint=function(){for(var e,t=Iwrv.SA,n=0;n<t.length;n++)if(e=App.FK.searchMoreEquip(t[n],!1,!0))return!0;return!1},e.checkComposeImmByAllType=function(){for(var t=Iwrv.SA.length,n=0;t>n;n++)if(e.AY(Iwrv.SA[n]))return!0;return!1},e.VLF=function(){return e.RA()?!0:e.AR()?!0:!1},e.KH=function(){var t=XCA.AQS.oVs(87);if(!t)return!1;var n=0;for(var i in t){n++;var r=t[i];if(r&&e.BU(32,n,r[1]))return!0}return!1},e.BU=function(e,t,n){if(!n)return!1;var i=App.JS.getRetinueSkillInfoByType(e),r=i.retinueSkill[t]||0;if(r>=MaxLevel.IMM_SKILL_MAX_LEVEL)return!1;if(n.needgrade>0){var a=App.JS.getRetinueGrade(e)||0,o=App.JS.getNeedGrade(r+1,n);if(o>a)return!1;var s=App.JP.getImmUpSkillCount(n,r),p=GxD.instance.hsx(parseInt(n.cost))||0;return s>p?!1:!0}if(t>5){var l=gLw.DM(n.tid),c=App.BC.createTipsVo(l,e,n,t+1),u=parseInt(c.skillTemp.cost),d=App.FK.getGoodsIdByTid(u)>0;return d}return!1},e.DM=function(){return e.TD(32)||e.NU()},e.WOI=function(){return e.TD(89)||e.CK()},e.XBV=function(){if(App.KF.chapter<StaticData.IMM_EQUIP)return!1;for(var e=Iwrv.WB,t=0;t<e.length;t++){var n=Nkz.ZD(XCA.CG(IDU.EO)),i=App.BG.turnupInfo.grade<parseInt(n[t]);if(i)break;var r=App.FK.Fkl(14,e[t])[0],a=App.FK.searchMoreImmFreEquip(e[t]);if(a)return!0;var o=void 0;if(r)o=App.PI.getTemplatesByMatId(r.tid);else{var s=App.PI.getTidByImmEquipSubType(e[t]);o=App.PI.getTemplatesByNmatId(s)}var p=void 0;if(o&&(p=GxD.instance.hsx(o.mat2),o.ct2<=p))return!0}return!1},e._A=function(){return e.MNF()?!0:e.ABO()?!0:e.NRR()?!0:void 0},e.MNF=function(){var t=XCA.AQS.oVs(85);for(var n in t){var i=t[n][1];if(e.HU(i))return!0}return!1},e.HU=function(e){if(e){var t=gLw.IQ(e.tid),n=App.FX.getMagicFairyGradeByType(t);if(0>=n)return!1;var i=App.FX.getMagicFairyGradeByType(t);if(i>=e.maxgrade)return!1;var r=parseInt(e.cost),a=GeneralCompute._P(i,e.qua),o=Math.floor(a/10),s=App.FK.hsx(r);return s>=o}},e.ABO=function(){var t=XCA.AQS.oVs(84);for(var n in t){var i=t[n][1];if(e.KBI(i))return!0}return!1},e.KBI=function(e){if(e){var t=gLw.IQ(e.tid),n=App.FX.getMagicFairyStarByType(t);if(n>=e.maxgrade)return!1;var i=parseInt(e.cost),r=App.FK.hsx(i);return r>=1}},e.NRR=function(){var t=XCA.AQS.oVs(86);for(var n in t){var i=t[n][1],r=gLw.IQ(i.tid),a=App.FX.getMagicFairyFetter(r);if(!(a>0)){var o=i.cost.split(",");if(e.HM(o))return!0}}return!1},e.HM=function(e){for(var t=0,n=e.length,i=0;n>i;i++){var r=parseInt(e[i]);if(0==i){var a=App.FX.risingstarvo.starArr[r]||0;a>0&&t++}else{var a=App.FX.getMagicFairyStarByType(r);a>0&&t++}}return t>=n},e.LQ=function(){if(!App.GP.getOpenStateByVid(10145))return!1;var e=App.OZ.getDataByName(IDU.BN);return App.KF.chapter<e?!1:App.HP.fightCountInfo.bigAwardCount+App.HP.fightCountInfo.helpCount>0},e.CL=function(e){var t;switch(e){case 10056:t=App.MG.carnivalChapterList;break;case 10058:t=App.MG.carnivalBeautyList;break;case 10057:t=App.MG.carnivalMagicList;break;case 10059:t=App.MG.carnivalFightList;break;case 10060:t=App.MG.carnivalTeamList;break;case 10062:t=App.MG.carnivalTeam2List;break;case 10063:t=App.MG.carnivalTownList}if(!t)return!1;for(var n,i=t,r=0;r<i.bagList.length;r++)if(n=i.bagList[r],n.haveFinish>=n.totalFinish&&1==n.status)return!0;return!1},e.MM=function(t){var n=XCA.AQS.oVs(2);if(n){var i=void 0,r=void 0;for(i in n)if(r=n[i][1],r&&t==r.qua&&e.EC(r))return!0}return!1},e.OWZ=function(){var e=(XCA.CG(IDU.MS)||"").split(","),t=App.VP.currStar;if(App.VP.rewardIndex<e.length){var n=parseInt(e[App.VP.rewardIndex]);return t>=n}return!1},e.DBE=function(){var e=XCA.AQS.oVs(88);for(var t in e){var n=e[t][1],i=gLw.IQ(n.tid);if(!(100>=i)){var r=App.JO.getPetStarByType(i);if(!(r>=n.maxgrade)){var a=usable(n.cost)?parseInt(n.cost):0,o=App.FK.hsx(a);if(o>0)return!0}}}return!1},e.KU=function(){var e=!App.DE.supremeCardVO.isgetWeek&&App.DE.supremeCardVO.isWeek,t=!App.DE.supremeCardVO.isgetMonth&&App.DE.supremeCardVO.isMonth;return e||t?!0:!1},e.KS=function(){return!App.DE.supremeCardVO.isGetExpCard&&App.DE.supremeCardVO.isExpCard?!0:!1},e._Z=function(){return e.JA()?!0:e.DO()?!0:void 0},e.OT=function(){var e=XCA.allTemplateData.appelltemp;for(var t in e){var n=e[t];if(n.canup&&(n.grade||0)<MaxLevel.APPELL_MAX_LEVEL){var i=App.FK.hsx(n.canup);if(i>0)return!0}}return!1},e.CJ=function(e){var t=XCA.CG(IDU.HR),n=t[e],i=n.itemId,r=n.costItem1,a=App.FK.hsx(i);return a>=r?!0:!1},e.MR=function(t){if(!App.HG.storeUpLvDict[t])return!1;var n=App.HG.storeUpLvDict[t];for(var i in n)if(e.X_(t,parseInt(i)))return!0;return!1},e.X_=function(e,t){for(var n=Iwrv.YJ.length,i=!1,r=0;n>r;r++)if(i=App.HG.storeUpPointDict[e+"_"+t+"_"+Iwrv.YJ[r]]||!1)return i;return!1},e.AZP=function(){for(var t in App.HG.storeUpLvDict)if(e.MR(parseInt(t)))return!0;return!1},e._R=function(){return e.WV()?!0:e.GO()?!0:!1},e.WV=function(){if(!rRcz.SS(114,!1))return!1;if(kpd.DC()>=8)return!1;var e=!App.RK._redEnvelopesInfo["m_"+kpd.DC()];return e},e.GO=function(){if(!rRcz.SS(115,!1))return!1;if(!App.MG.oneYuanInfo)return!1;for(var e,t,n=App.MG.oneYuanInfo.bagList.length,i=0;n>i;i++)if(t=App.MG.oneYuanInfo.bagList[i].sort,kpd.FZ()==t){e=App.MG.oneYuanInfo.bagList[i];break}return e?0==e.status:!1},e.BQE=function(){if(!App.MG.oneYuanInfo)return!1;for(var e,t,n=App.MG.oneYuanInfo.bagList.length,i=0;n>i;i++)if(t=App.MG.oneYuanInfo.bagList[i].sort,kpd.FZ()==t){e=App.MG.oneYuanInfo.bagList[i];break}return e?1==e.status:!1},e.QDV=function(){var e,t=XCA.AQS.oVs(60),n=!1,i=!1;for(var r in t){e=gLw.IQ(t[r][1].tid);var a=App.FK.hsx(t[r][1].cost);if(!App.KF.head[e]&&a>0){n=!0,i=!0;break}}return i&&n},e.LS=function(){var e,t=XCA.AQS.oVs(61),n=!1,i=!1;for(var r in t){e=gLw.IQ(t[r][1].tid);var a=App.FK.hsx(t[r][1].cost);if(!App.KF.frame[e]&&a>0){n=!0,i=!0;break}}return i&&n},e.KG=function(){var e,t=XCA.AQS.oVs(92),n=!1,i=!1;for(var r in t){e=gLw.IQ(t[r][1].tid);var a=App.FK.hsx(t[r][1].cost);if(!App.KF.bubble[e]&&a>0){n=!0,i=!0;break}}return i&&n},e.QS=function(){return e.QDV()?!0:e.LS()?!0:e.KG()?!0:!1},e.IOT=function(){var e=0===App.DA.sweepCount&&1!==App.DA.curFloor;return e},e.RL=function(){var e=0===App.DX.sweepCount&&1!==App.DX.curFloor;return e},e}();__reflect(UsU.prototype,"UsU");var Nkz=function(){function e(){}return e.TY=function(e){var t=this;return t.bys.clear(),t.bys.writeUTFBytes(e),t.bys.length},e.randomText=function(e){e=e||0;for(var t=0,n=QycO.OK;e>t;)t++,n+=String.fromCharCode(int(GMath.random(22222,33333)));return n},e.randomAz=function(e,t){if(void 0===t&&(t=!1),!e)return QycO.OK;var n=0,i=QycO.OK;for(t&&(i=String.fromCharCode(int(GMath.random(65,90))),e-=1);e>n;)n++,i+=String.fromCharCode(int(GMath.random(97,122)));return i},e.EK=function(e){e=e||0;for(var t=0,n=QycO.OK;e>t;)t++,n+=String.fromCharCode(int(GMath.random(33,126)));return n},e.randomPack=function(e){var t=StringConst.TL.length,n=GMath.randomInt(1,t)-1,i=StringConst.TL[n];return t=StringConst.YM.length,n=GMath.randomInt(1,t)-1,i+=StringConst.YM[n]},e.PT=function(){var e=this,t=(QycO.OK,Math.random());if(.5>=t)return e.randomPack();if(.7>t){var n=int(GMath.random(2,6));return e.randomText(n)}var n=int(GMath.random(4,8));return e.randomAz(n,!0)},e.QT=function(e){var t=this;t.numstrs||(t.numstrs=fvg.GVf("public007").split(","));var n="";return 10>=e?n=t.numstrs[e-1]:20>e?n=t.numstrs[9]+t.numstrs[e%10-1]:100>e?(n=t.numstrs[int(e/10)-1]+t.numstrs[9],e%10!=0&&(n+=t.numstrs[e%10-1])):100==e?n=t.numstrs[int(e/100)-1]+t.numstrs[10]:e>100&&1e3>e&&(n=t.numstrs[int(e/100)-1]+t.numstrs[10],10>e%100?n+=t.numstrs[11]+t.numstrs[e%100-1]:(n+=t.numstrs[int(e%100/10)-1]+t.numstrs[9],e%10!=0&&(n+=t.numstrs[e%10-1]))),n},e.PI=function(e){if(!e||0==e.length)return[];for(var t,n,i=[],r=e.split("|"),a=0;a<r.length;a++)t=r[a].split(","),2==t.length&&(n=GObj.$c(nlwj),n.tid=parseInt(t[0]),n.count=parseInt(t[1]),i.push(n));return i},e.XT=function(e){if(!e||0==e.length)return 0;for(var t,n=0,i=/[\x00-\xff]/,r=0;r<e.length;r++)t=e.charAt(r),n+=i.test(t)?1:2;return n},e.LI=function(e){if(!e)return null;for(var t=e.split(QycO.PK),n=t.length,i={},r=0;n>r;r++){var a=t[r].split(QycO.XP);a&&a.length>=2&&(i[a[0]]=a[1])}return i},e.EW=function(e){if(!e)return null;for(var t=e.split(QycO.PK),n=t.length,i=[],r=0;n>r;r++){var a=t[r].split(QycO.XP);a&&a.length>=2&&i.push(a)}return i},e.EL=function(e){return usable(e)?(e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;")):""},e.MJ=function(e,t){return e.length>t&&(e=e.substr(0,t)+".."),e},e.ZD=function(e){if(!e)return null;for(var t,n=e.split(QycO.PK),i=n.length,r=0;i>r;r++)var t=n[r].split(QycO.XP);return t},e.RA=function(e,t,n){var i=toChars(e);return t=t||1e9,n=n||1e7,e>=t?i=int(e/1e8)+"y":e>=n&&(i=int(e/1e4)+"w"),i},e.YL=function(e,t,n,i){void 0===t&&(t=2);var r=toChars(e);return n=n||1e9,i=i||1e7,e>=n?r=fvg.GVf("public024",(e/1e8).toFixed(t)):e>=i&&(r=fvg.GVf("public025",(e/1e4).toFixed(t))),r},e.GA=function(e,t,n){var i=toChars(e);return i=i.replace(/\./g,"d")},e.WG=function(e){return e&&0!=e.trim().length&&"NULL"!=e.trim().toUpperCase()&&"UNDEFINED"!=e.trim().toUpperCase()?!0:!1},e._A=function(e){return e&&0!=e.trim().length&&"NULL"!=e.trim().toUpperCase()&&"UNDEFINED"!=e.trim().toUpperCase()?!1:!0},e.bys=new egret.ByteArray,e}();__reflect(Nkz.prototype,"Nkz");var rRcz=function(){function e(){}return e.O_=function(e,t,n){if(void 0===t&&(t=!0),!e)return!1;var i=e.openData;return this.openViewCheck(i,t,n)},e.openViewCheck=function(t,n,i){if(void 0===n&&(n=!0),!t)return!0;var r=t.switchid||0;if(r){var a=e.SS(r,!1),o=fvg.GVf("public032");if(!a)return e.setFailMsg(i,o),n&&msgTip(o),!1}var s=t.chapter||0;if(App.KF.chapter<s){var o=fvg.GVf("public068",s);return n&&msgTip(o),e.setFailMsg(i,o),!1}var p=t.vip||0;if(p>App.XT.vipInfo.vipGrade){var o=fvg.GVf("public069",p);return n&&msgTip(o),e.setFailMsg(i,o),!1}var l=t.daynum||0;if(l>kpd.FZ()){var o=fvg.GVf("public070",l);return n&&msgTip(o),e.setFailMsg(i,o),!1}var c=t.turnup||0;if(c>App.BG.turnupInfo.grade){var o=fvg.GVf("public087",App.JP.getTurnupName(c));return n&&msgTip(o),e.setFailMsg(i,o),!1}var u=t.fid||0;if(u&&0===App.XB.info.fid){var o=fvg.GVf("public083");return n&&msgTip(o),e.setFailMsg(i,o),!1}var d=t.famid||0;if(d&&isNaN(App.XW.familyInfo.id||void 0)){var o=fvg.GVf("public085");return n&&msgTip(o),e.setFailMsg(i,o),!1}var g=t.ograde||0;if(g>(App.BG.officialInfo[1]||0)){var o=fvg.GVf("public084",g);return n&&msgTip(o),e.setFailMsg(i,o),!1}return!0},e.setFailMsg=function(e,t){e&&(e.text=t)},e.YU=function(){},e.MF=function(){var t=!!App.MG.getFirstChargeState();t?App.VS.open(10089):e.SZ()},e.SZ=function(){App.VS.popup(null,FirstChargePopUi)},e.TS=function(){App.VS.open(10110)},e.DD=function(){App.VS.open(KqZ.CE)},e.QE=function(){App.VS.open(10120)},e.ES=function(){e.SS(28)&&App.VS.open(KqZ.VI)},e.IX=function(){return App.VS.openMain(KqZ.MM)},e.BH=function(){App.VS.popup(void 0,OneYuanBuyPopui)},e.SS=function(e,t){if(void 0===t&&(t=!0),110===e||111===e||112===e)return!0;var n=XCA.MF(e);if(n){var i=App.NN.serverSecond,r=!!n.open&&i>=(n.start||0)&&i<(n.end||0);return t&&!r&&MessageTipManager.instance.show(fvg.GVf("public032")),r}return!1},e.XX=function(){App.VS.open(KqZ.BA)},e.XT=function(){App.VS.open(10091)},e.OC=function(){App.VS.popup(null,KqZ.GF)},e.RX=function(){App.VS.popup(null,AttentionPopUi)},e.WP=function(){App.VS.popup(null,SharePopUi)},e._V=function(){pba.instance.openFrameByType(pba.UJ)},e.SE=function(){},e.SJ=function(){TopToolsBar.instance.checkFunny()?App.VS.open(KqZ.CM):TopToolsBar.instance.updateBtnByType(TopToolsBar.JF)},e.NC=function(){TopToolsBar.instance.checkPacks()?App.VS.open(KqZ.YP):TopToolsBar.instance.updateBtnByType(TopToolsBar.VN)},e.XR=function(){TopToolsBar.instance.checkAllTogetherGift()?App.VS.open(KqZ.RQ):TopToolsBar.instance.updateBtnByType(TopToolsBar.FZ)},e.WD=function(){App.VS.open(KqZ.XF)},e.SC=function(t){var n=this;switch(t){case 1:App.VS.open(10003);break;case 2:e.VH();break;case 5:TopToolsBar.instance.checkFunny()?App.VS.open(KqZ.CM):App.VS.open(10042);break;case 3:e.VH();break;case 4:App.VS.open(10048);break;case 6:App.VS.open(10040);break;case 7:App.VS.open(10122);break;case 8:App.VS.open(10012);break;case 9:App.VS.open(10012);break;case 10:e.IV();break;case 11:App.VS.open(10034);break;case 12:App.VS.open(10035);break;case 13:App.VS.open(10051);break;case 14:e.XG();break;case 15:App.VS.open(10002);break;case 16:App.VS.open(10009);break;case 17:n.openKnight();break;case 18:n.openRune();case 21:App.VS.open(10122);break;case 22:App.VS.open(10018);break;case 23:App.VS.open(10007)}},e.KJ=function(t){switch(t){case 1:e.VH();break;case 5:e.TM();break;case 2:App.VS.open(10033);break;case 3:App.VS.open(10034);break;case 4:App.VS.open(10035);break;case 6:App.VS.open(10040);break;case 7:case 10:App.VS.open(10012);break;case 8:case 11:App.VS.open(10003);break;case 9:App.VS.open(10011);break;case 12:App.VS.open(10051);break;case 13:e.XG();break;case 14:e.IV();break;case 15:App.VS.open(10051);break;case 16:App.VS.open(KqZ._A);break;case 17:case 23:App.VS.open(10004);break;case 18:case 24:App.VS.open(10018);break;case 19:case 25:App.VS.open(10122);break;case 20:case 26:App.VS.open(10002);break;case 21:e.LD();break;case 22:case 27:App.VS.open(10014);break;case 28:e.TM()}},e.NR=function(){App.VS.open(10068)},e.JW=function(){App.VS.open(10069)},e.IV=function(){return e.SS(4)?App.KF.chapter<StaticData.EIGHTDOORS_CH?void MessageTipManager.instance.show(fvg.GVf("public044",StaticData.EIGHTDOORS_CH)):void App.VS.popup(10009,EightDoorsPopUi):void 0},e.BG=function(){return e.SS(6)?App.KF.chapter<StaticData.SPECIAL_CH?void MessageTipManager.instance.show(fvg.GVf("public044",StaticData.SPECIAL_CH)):void App.VS.popup(10009,FourPopUi):void 0},e.XG=function(){return App.KF.chapter<StaticData.TENDONS_CH?void MessageTipManager.instance.show(fvg.GVf("public044",StaticData.TENDONS_CH)):void App.VS.popup(10009,TendonsPopUi)},e.CA=function(){App.VS.open(KqZ.CZ)},e.US=function(){App.VS.open(KqZ.UQ)},e.openKnight=function(){App.VS.open(10014)},e.FC=function(){App.VS.openMain(10018)},e.LD=function(){App.VS.open(10070)},e.openRune=function(){App.VS.open(10013)},e.LR=function(){App.VS.open(10002)},e.NG=function(){App.VS.open(10028)},e.KT=function(){},e.IG=function(){App.VS.open(KqZ.DR)},e.ZB=function(){App.VS.open(KqZ.CX)},e.SK=function(){doExtraAction("qbTopicCircle",{open_id:App.BG.openId},null)},e.OR=function(){App.VS.open(10052)},e.QM=function(){App.VS.open(10039)},e.ZG=function(){App.VS.open(10024)},e.OM=function(){App.VX.wbShare&&(App.XT.vipInfo.vipGp||0!=(1&App.XT.vipInfo.rewardState)?App.VS.open(KqZ.GP):App.VS.open(KqZ.ER))},e.NRG=function(){},e.SOT=function(){App.VS.open(KqZ.YU)},e.M_=function(){ziI.MF("open_carnival"),ziI.MF("BossFrame"),App.VS.open(KqZ.EN)},e.NP=function(e){void 0===e&&(e=5),App.VS.open(KqZ.SZQ)},e.QP=function(e){void 0===e&&(e=0),App.VM.openDynamicFrame(e)},e.LH=function(){TxMiniClientFrame.LC&&!TxMiniClientFrame.LC.destory?(TxMiniClientFrame.LC.dispose(),TxMiniClientFrame.LC=null):(TxMiniClientFrame.LC=GObj.$c(TxMiniClientFrame),TxMiniClientFrame.LC.show())},e.XN=function(){TxPetCandyFrame.AZ&&!TxPetCandyFrame.AZ.destory?(TxPetCandyFrame.AZ.dispose(),TxPetCandyFrame.AZ=null):(TxPetCandyFrame.AZ=GObj.$c(TxPetCandyFrame),TxPetCandyFrame.AZ.show())},e.RDN=function(){App.VS.open(KqZ.US)},e.PG=function(){App.VS.open(KqZ.IE)},e.LN=function(){App.VS.open(KqZ.HJU)},e.IC=function(){App.VX.wanbaActiveExtension&&doExtraAction("wanbaActiveExtension",{open_id:App.BG.openId},null)},e.FT=function(){App.VS.popup(null,RealNamePopUi)},e.WC=function(){App.VS.open(KqZ.UT)},e.openCrossHarry=function(){return App.VS.open(10030)},e.XU=function(){App.VS.open(10040,{tabType:1})},e.BW=function(){App.VS.open(10040,{tabType:2})},e.UU=function(){return App.VP.currStar<StaticData.HARD_SOCIETY_STAR?void App.TT.show(fvg.GVf("hardsociety1")):void App.VS.open(KqZ.QB)},e.BV=function(){App.VS.open(10004)},e.UG=function(){},e.GM=function(){App.VS.open(10007)},e.ZQB=function(){App.VS.openMain(10009)},e.LX=function(){App.VS.open(10077)},e.XC=function(e){if(void 0===e&&(e=1),0==e&&kpd.FZ()>StaticData.RECHARGEGIFT_DAY2)return void msgTip(fvg.GVf("public035"));if(1==e){var t=XCA.CG(IDU.S_);if(kpd.FZ()>parseInt(t))return void msgTip(fvg.GVf("public035"))}TopToolsBar.instance.checkFreeShop()?App.VS.open(10115):TopToolsBar.instance.updateBtnByType(TopToolsBar.UT)},e.EA=function(){App.VS.open(10116)},e.YW=function(){App.VS.open(10117)},e.IT=function(t){switch(t){case StaticData.DAILY_ACTIVITY_1:App.VS.open(10047);break;case StaticData.DAILY_ACTIVITY_7:App.VS.open(10023);break;case StaticData.DAILY_ACTIVITY_8:App.VS.open(10025);break;case StaticData.DAILY_ACTIVITY_9:App.VS.open(10026);break;case StaticData.DAILY_ACTIVITY_10:App.VS.open(10038);break;case StaticData.DAILY_ACTIVITY_11:App.VS.open(10167);break;case StaticData.DAILY_ACTIVITY_12:App.VS.open(10051);break;case StaticData.DAILY_ACTIVITY_13:App.VS.open(10028);break;case StaticData.DAILY_ACTIVITY_14:App.VS.open(10048);break;case StaticData.DAILY_ACTIVITY_15:App.VS.open(10039);break;case StaticData.DAILY_ACTIVITY_16:App.VS.open(10024);break;case StaticData.DAILY_ACTIVITY_17:this.openCrossHarry();break;case StaticData.DAILY_ACTIVITY_18:App.VS.open(10049);break;case StaticData.DAILY_ACTIVITY_19:App.VS.open(10024);break;case StaticData.DAILY_ACTIVITY_20:App.VS.open(10039);break;case StaticData.DAILY_ACTIVITY_21:e.HL();break;case StaticData.DAILY_ACTIVITY_22:e.YH();break;case StaticData.DAILY_ACTIVITY_23:e.ZC();break;case StaticData.DAILY_ACTIVITY_24:App.VS.open(10031);break;case StaticData.DAILY_ACTIVITY_25:App.VS.open(10032);break;case StaticData.DAILY_ACTIVITY_26:e.EO();break;case StaticData.DAILY_ACTIVITY_27:App.VS.open(10055)}},e.ZC=function(){return App.VS.open(10029)},e.TK=function(){App.VX.qqLiveFuLi&&(QQLiveFuliFrame.QG&&!QQLiveFuliFrame.QG.destory?(QQLiveFuliFrame.QG.dispose(),QQLiveFuliFrame.QG=null):(QQLiveFuliFrame.QG=GObj.$c(QQLiveFuliFrame),QQLiveFuliFrame.QG.show()))},e.AF=function(){App.VS.open(KqZ.ZC)},e.AG=function(){App.VS.open(KqZ.BF)},e.BR=function(){App.VS.open(KqZ.YT)},e.BQ=function(e){e>0?App.VS.popup(KqZ.YT,CollectCapRankingPopUi,void 0,"defaultIndex",e):App.VS.popup(KqZ.YT,CollectCapRankingPopUi)},e.EFZ=function(){App.VS.open(KqZ.GE)},e.WH=function(){App.VS.popup(null,FunnyLuckyDrawPopUi)},e.TO=function(){App.VS.open(KqZ.MI)},e.XW=function(){App.VX.activity1111Status&&doExtraAction("qzoneAct1111",{open_id:App.BG.openId},null)},e.JXQ=function(){App.VX.qqEgameFuLi&&(QQGameFuliFrame.JH&&!QQGameFuliFrame.JH.destory?(QQGameFuliFrame.JH.dispose(),QQGameFuliFrame.JH=null):(QQGameFuliFrame.JH=GObj.$c(QQGameFuliFrame),QQGameFuliFrame.JH.show()))},e.HL=function(){return App.JG.openDay?void App.VS.open(10057):void App.TT.show(fvg.GVf("wulinleague8"))},e.WL=function(e){var t,n;return StaticData.nfg&&(t=App.KF.chapter,n=StaticData.nfg[e]||0,n>t)?(MessageTipManager.instance.show(fvg.GVf("public044",n)),!1):!0},e.NBK=function(e){e&&App.VS.popup(10067,WushenPlunderFrame),App.VS.open(10067)},e.FN=function(){return App.JG.openDay?void App.VS.open(10065):void App.TT.show(fvg.GVf("wulinleague8"))},e.YH=function(){App.VS.open(10083)},e.EO=function(){App.VS.open(10084)},e.ON=function(){App.VS.open(KqZ.QG)},e.SI=function(){return e.SS(93,!1)?App.KF.chapter<StaticData.TAIYI?void MessageTipManager.instance.show(fvg.GVf("public044",StaticData.TAIYI)):void App.VS.popup(10009,TaiyiPopUi):void MessageTipManager.instance.show(fvg.GVf("public027"))},e.VJ=function(){App.VS.open(10014)},e.EF=function(){App.VS.popup(null,LuckEggPopUi)},e.IM=function(){return App.MG.getValentinesFunny()?void App.VS.open(10114):void MessageTipManager.instance.show(fvg.GVf("public035"))},e.KO=function(e){return App.MG.getValentinesFunny()?void(e?App.VS.openObiterClose(KqZ.HO,e):App.VS.open(KqZ.HO)):void MessageTipManager.instance.show(fvg.GVf("public035"))},e.PP=function(){return App.MG.getValueChargeRewardFunny()?void App.VS.open(KqZ.PC):void MessageTipManager.instance.show(fvg.GVf("public035"))
},e.FG=function(e){void 0===e&&(e=0),App.VS.popup(10020,SmeltingPopUi,null,e)},e.ZBL=function(e){void 0===e&&(e=0),App.VS.popup(null,BondsPopUi,null,e)},e.TW=function(){App.VS.open(10122)},e.GQ=function(){App.VS.open(10069)},e.OG=function(e){if(TopToolsBar.instance.updateBtnByType(e)){var t=TopToolsBar.instance.getBtnByType(e);App.VS.popup(null,TopButtonGroupPopUi,null,TopToolsBar.instance.localToGlobal(t.x+t.parent.x+t.width/2,t.y+t.parent.y),e)}},e.QF=function(){(App.XB.info.fid||0)>0?App.VS.open(10046):App.VS.open(10082)},e.YA=function(){App.VS.popup(10046,MartialArtDonationPopUi)},e.VH=function(){RightToolsBar.instance.openRaidFrame()},e.KG=function(){App.VS.openMain(10143)},e.FJ=function(){App.VS.popup(10053,FamilyMessagePopUi)},e.TM=function(){App.VS.open(10050)},e.IL=function(){if(41==SceneManager.instance.sceneType){var e=GObj.$c(PurgatoryFlipCardsView);e.show()}},e.KM=function(){App.VS.open(10104)},e.PW=function(){App.VS.popup(null,KqZ.VB)},e.PT=function(){App.VS.open(10122)},e.AA=function(){var t;e.SS(115,!1)&&(t=1),e.SS(118,!1)&&(t=2),App.VS.popup(null,OneYuanGiftPackagePopUi,void 0,t)},e.SA=function(){var e=App.MG.directVo;if(e)for(var t=0;6>t;t++){var n=e.getBagDataBySort(t+1);if(n){var i=10154+t,r=!(2==n.status)&&App.GP.getOpenStateByVid(i);if(r)return void App.VS.open(i)}}},e.MP=function(){App.VS.popup(null,RedEnvelopesPopUi)},e.NO=function(){App.VS.popup(null,SubscribePopUi)},e.ZR=function(){var t=e.SS(1034);return kpd.FZ()>App.OO.getCurrEndDay(App.OO.currType)||!t?(msgTip(fvg.GVf("public035")),void TopToolsBar.instance.updateBtnByType(TopToolsBar.AT)):void App.VS.open(KqZ.O_)},e.JX=function(){OurRealNameFrame.XC=GObj.$c(OurRealNameFrame),OurRealNameFrame.XC.show()},e.IU=function(){App.VS.popup(null,KqZ.TK)},e.DX=function(){App.VS.popup(null,KqZ.JS)},e.LO=function(){App.NG.goCustomerService()},e.QN=function(){App.VS.popup(null,KqZ.RL)},e.SP=function(){App.VS.popup(null,KqZ.SQ)},e.NQA=function(){App.VS.popup(null,KqZ.HM)},e}();__reflect(rRcz.prototype,"rRcz");var TestUtils=function(e){function t(t){var n=e.call(this,t)||this;return n.skinName=RRUU.$s(n.id),n}return __extends(t,e),t.prototype.initView=function(){var e=this;e.ii=-1,e.descTxt.text=fvg.GVf("platform19"),e.rewardData=GObj.$c(eui.ArrayCollection),e.rewardGroup.dataProvider=e.rewardData,e.rewardGroup.itemRenderer=GoodsItemRenderer},t.prototype.initEvent=function(){var t=this;e.prototype.initEvent.call(this),t.receiveBtn.addEventListener(eui.tep,t.pk,t),vkG.$a(UtJ.XO,t.mw,t)},t.prototype.removeEvent=function(){var t=this;e.prototype.removeEvent.call(this),t.receiveBtn.removeEventListener(eui.tep,t.pk,t),vkG.$r(UtJ.XO,t.mw,t)},t.prototype.initData=function(){var t=this;e.prototype.initData.call(this);for(var n=XCA.RE(pba.XK),i=Nkz.PI(n),r=0;r<i.length;r++)t.rewardData.source.push(i[r]);t.rewardData.refresh(),t.mw()},t.prototype.mw=function(){var e=this,t=256&App.VX.rewardState;if(-1!=e.ii&&t!=e.ii&&Alert.WK(fvg.GVf("wanbagift1"),void 0,Alert.EX),e.ii=t,e.getedImg.visible=t>0,e.receiveBtn.visible=!e.getedImg.visible,!e.getedImg.visible){var n=App.VX.wanbaCoverStatus;1==n?(e.receiveBtn.label=fvg.GVf("evChg03"),e.receiveBtn.icon=StaticData.GHj):(e.receiveBtn.label=fvg.GVf("platform20"),e.receiveBtn.icon=null)}},t.prototype.pk=function(e){this.receiveBtn.icon?NXr.ON(pba.YT):doExtraAction("wanbaCover",{open_id:App.BG.openId,cover_id:130746},null)},t.prototype.dz=function(e){if(!e)return 0;var t=e.length;if(1>t)return 0;var n=e[0].length;if(1>n)return 0;for(var i=[],r=0;t>r;r++){i[r]=[];var a=r-1>=0?i[r-1][0]:0;i[r][0]=e[r][0]+a}for(var o=1;n>o;o++)i[0][o]=e[0][o]+i[0][o-1];for(var s=1;t>s;s++)for(var p=e[s],l=1;n>l;l++){var c=p[l];i[s][l]=Math.min(i[s-1][l],i[s][l-1])+c}return i[t-1][n-1]},t.prototype.dispose=function(){var t=this;t.removeEvent(),GObj.$d(t.descTxt),t.descTxt=null,GObj.$d(t.receiveBtn),t.receiveBtn=null,GObj.$d(t.getedImg),t.getedImg=null,t.rewardGroup&&(t.rewardGroup.dataProvider=null,GObj.$d(t.rewardGroup)),t.rewardGroup=null,t.rewardData=null,e.prototype.dispose.call(this)},t}(BaseFrame);__reflect(TestUtils.prototype,"TestUtils");var kQr=function(e){function t(){var t=e.call(this)||this;return t.enabelSelect=!0,t.forceCallBack=!1,t.fe=-1,t.wm=[],t.gj=[],t.dc=null,t.eo(),t}return __extends(t,e),t.prototype.cwA=function(e,t,n){var i=this;e&&-1==i.wm.indexOf(e)&&(e.$autoSelected=!1,e.addEventListener(eui.tep,i.mj,i),i.wm.push(e),t?i.gj.push(i.qd[t]):i.gj.push(null))},t.prototype.cwAAt=function(e,t,n){var i=this;e&&-1==i.wm.indexOf(e)&&(e.$autoSelected=!1,e.addEventListener(eui.tep,i.mj,i),i.wm.splice(t,0,e),n?i.gj.splice(t,0,i.qd[n]):i.gj.splice(t,0,null))},t.prototype.mj=function(e){var t=this,n=e.currentTarget;return t.fv(t.wm.indexOf(n))?void((!n.viewDat||rRcz.O_(n.viewDat))&&(t.selectedIndex=t.wm.indexOf(n))):msgTip(fvg.GVf("public066"))},t.prototype.fv=function(e){var t=this;if(t.gj[e]){var n=t.gj[e];return n.func.call(this,n.param)}return!0},t.prototype.eo=function(){this.qd=[]},t.prototype.tt=function(e){return App.BG.jkU.chapter<e?(msgTip(fvg.GVf("public065")),!1):!0},t.prototype.cp=function(e){return msgTip(fvg.GVf("public066")),!1},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this.fe},set:function(e){var t=this;if(t.enabelSelect){var n=t.fe!=e;if(-1==e)t.dc&&(t.dc.selected=!1),t.fe=e,t.dc=null;else{var i=t.wm[e];i&&!i.selected&&(t.dc&&(t.dc.selected=!1),i.selected=!0,t.fe=e,t.dc=i)}(n||t.forceCallBack)&&t.dispatchEvent(new egret.Event(egret.Event.CHANGE))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LuO",{get:function(){return this.dc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currButtonNum",{get:function(){return this.wm.length},enumerable:!0,configurable:!0}),t.prototype.getButtonByIndex=function(e){var t=this;return e>=0&&e<t.wm.length?t.wm[e]:null},t.prototype.getIndexByButton=function(e){return this.wm.indexOf(e)},t.prototype.removeAllButton=function(){for(var e=this,t=0;t<e.wm.length;t++)e.wm[t].removeEventListener(eui.tep,e.mj,e);e.wm.splice(0,e.wm.length)},t.prototype.dispose=function(){var e=this;e.removeAllButton(),e.dc=null,e.wm=null},t}(egret.EventDispatcher);__reflect(kQr.prototype,"kQr");var TrundlePlugin=function(){function e(){var t=this;t.lm=1,t.ir=1,t.kg=0,t.mc=0,t.rw=0,t.rz=0,t.rp=0,t.nh=0,t.vg=e.VU}return e.prototype.start=function(e,t){void 0===e&&(e=0),void 0===t&&(t=500);var n=this;n.rp>0||(n.rp=1,n.kg=e,n.rw=0==n.kg?n.lm:n.kg-1,n.jq=t,n.a_=!1,n.ge=GApp.timer,n.by&&n.by.call(n.dw,n.kg,n.rw),App.HA.registeEnterFrame(n.wq,n))},e.prototype.run=function(e,t,n){void 0===t&&(t=5),void 0===n&&(n=100);var i=this;if(!(i.rp>1)){var r=1!=i.rp;i.rp=2,i.nh=e||0,i.mc=i.kg,i.ir=t,i.jq=n,i.a_=!1,i.ge=GApp.timer,r&&App.HA.registeEnterFrame(i.wq,i)}},e.prototype.stop=function(){var e=this;App.HA.unRegisteEnterFrame(e.wq,e),e.rp=0,e.rz=0},e.prototype.wq=function(){var t=this;t.rp&&(t.oe=GApp.timer,t.oe-t.ge<t.jq||(t.ge=t.oe,t.rw=t.kg,t.vg==e.VU?t.kg++:t.kg--,t.kg>=t.lm?t.kg=0:t.kg<0&&(t.kg=t.lm-1),2==t.rp&&t.kg==t.mc&&t.rz++,2==t.rp&&t.rz>=t.ir&&t.kg==t.nh&&(t.stop(),t.a_=!0),t.by&&t.by.call(t.dw,t.kg,t.rw,t.a_)))},Object.defineProperty(e.prototype,"maxIndex",{get:function(){return this.lm},set:function(e){this.lm=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLoop",{get:function(){return this.ir},set:function(e){this.ir=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FiZ",{get:function(){return this.kg},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currLoop",{get:function(){return this.rz},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.vg},set:function(e){this.vg=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"runing",{get:function(){return 2==this.rp},enumerable:!0,configurable:!0}),e.prototype.addCallBackFunction=function(e,t){var n=this;n.by=e,n.dw=t},e.prototype.dispose=function(){var e=this;e.stop(),e.by=null,e.dw=null},e.DE=1,e.VU=2,e}();__reflect(TrundlePlugin.prototype,"TrundlePlugin");var IoG=function(){function e(){}return e.EZ=function(){return HitalkSDKManager.isHidePayUI},e.XB=function(t,n){void 0===n&&(n=t.visible),t.visible=n&&!e.EZ()},e}();__reflect(IoG.prototype,"IoG");var AchievementVo=function(){function e(){var e=this;e.g=0,e.gp=0,e.cgp=0,e.as={},e.sa=0,e.sc=1,e.et=0,e.ps=0}return e}();__reflect(AchievementVo.prototype,"AchievementVo");var ArenaVO=function(){function e(){}return e}();__reflect(ArenaVO.prototype,"ArenaVO");var CrossArenaVO=function(){function e(){var e=this;e.period=0,e.stage=1,e.cro1v1_score=0,e.count=0,e.buy=0,e.victory=0,e.support=0,e.status=1,e.time=0,e.tt=0,e.group=[],e.recordInfo={utime:[],list:[]},e.ladder_time=73800,e.finals_time=43200}return Object.defineProperty(e.prototype,"roundSupport",{get:function(){var e=this,t=Math.pow(10,e.round||1);return int(e.support%t/(t/10))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxCount",{get:function(){var e=this;return e.dm||(e.dm=parseInt(XCA.CG(IDU.B_))||0),e.dm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxBuy",{get:function(){var e=this;return e.ns||(e.ns=parseInt(XCA.CG(IDU.YK))||0),e.ns},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buyPoint",{get:function(){var e=this;return e.vx||(e.vx=parseInt(XCA.CG(IDU.UV))||0),e.vx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreArr",{get:function(){var e=this;return e.mf||(e.mf=XCA.CG(IDU.RW).split(",")),e.mf},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winCountArr",{get:function(){var e=this;return e.yp||(e.yp=XCA.CG(IDU.BM).split(",")),e.yp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetScore",{get:function(){var e=this;return e.stage<e.scoreArr.length?parseInt(e.scoreArr[e.stage]):0},enumerable:!0,configurable:!0}),e.prototype.getStageByScore=function(e){for(var t=this.scoreArr,n=0,i=0;i<t.length;i++)e>=parseInt(t[i])&&(n=i);return n+1},e.prototype.getSelfInfo=function(){var e=this;if(!e.group||!e.group.length)return-1;for(var t,n=0;n<e.group.length;n++)if(t=e.group[n],t&&t.o&&t.o.length)for(var i=0;i<t.o.length;i++)if(t.o[i].u==App.KF.uid)return i;return-1},e.prototype.getSelfGroup=function(){var e=this;if(!e.group||!e.group.length)return null;for(var t,n=0;n<e.group.length;n++)if(t=e.group[n],t&&t.o&&t.o.length)for(var i=0;i<t.o.length;i++)if(t.o[i].u==App.KF.uid)return t;return null},e.prototype.getStandByUid=function(e){var t=this;return t.mstand?t.mstand[e]||0:0},e}();__reflect(CrossArenaVO.prototype,"CrossArenaVO");var AuctionGoodsVO=function(){function e(){this.sta=0}return e}();__reflect(AuctionGoodsVO.prototype,"AuctionGoodsVO");var AuctionOfferVO=function(){function e(){}return e}();__reflect(AuctionOfferVO.prototype,"AuctionOfferVO");var nlwj=function(){function e(){this.id=0,this.tid=0,this.count=0,this.btype=0,this.p1=0,this.p2=0,this.p3=0,this.p4=0,this.p5=[],this.p6=[]}return Object.defineProperty(e.prototype,"TSF",{get:function(){var e=this;return e.tid?XCA.FR(e.tid):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){var e=this.TSF;return e?e.name:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canWear",{get:function(){return QNV.WG(this.TSF)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"masterType",{get:function(){var e=this;return e.tid?QNV.masterType(e.tid):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sonType",{get:function(){var e=this;return e.tid?QNV.sonType(e.tid):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subType",{get:function(){var e=this;return e.tid?QNV.VS(e.tid):0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){var e=this.TSF;return e?e.qua||1:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){var e=this;return e.tid?kLM.FU(e.TSF.icon):""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"goodsGrade",{get:function(){var e=this;return e.tid?QNV.OV(e.tid):0},enumerable:!0,configurable:!0}),e}();__reflect(nlwj.prototype,"nlwj");var BuffInfo=function(){function e(){var e=this;e.et={},e.oz=0,e.so=0}return Object.defineProperty(e.prototype,"tid",{get:function(){return this.oz},set:function(e){var t=this;t.oz=e,t.jj()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grade",{get:function(){return this.so||0},set:function(e){var t=this;t.so=e,t.hw()},enumerable:!0,configurable:!0}),e.prototype.jj=function(){var e=this;e.oz>0&&(e.qj=XCA.SZ(e.oz)),e.qj&&(e.sh=XCA.LY(e.oz))},e.prototype.hw=function(){var e=this;if(e.sh){ObjectUtil.clearObjectKey(e.et);for(var t=void 0,n=void 0,i=0;i<e.sh.length;i++)t=e.sh[i],t&&(n=e.et[t.bst]||0,e.et[t.bst]=(t.bv||0)*e.grade+n)}},Object.defineProperty(e.prototype,"buffMasType",{get:function(){var e=this;return e.qj?e.qj.pt||0:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buffTemp",{get:function(){return this.qj},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attrs",{get:function(){return this.et},enumerable:!0,configurable:!0}),e.prototype.destory=function(){var e=this;return e.oz=0,e.so=0,e.qj=null,e.sh&&(e.sh.length=0),e.sh=null,ObjectUtil.clearObjectKey(e.et),e.et=null,!0},e}();__reflect(BuffInfo.prototype,"BuffInfo");var mLq=function(){function e(){this.buyno=0,this.h=100}return Object.defineProperty(e.prototype,"TSF",{get:function(){return this.hz},set:function(e){this.hz=e},enumerable:!0,configurable:!0}),e}();__reflect(mLq.prototype,"mLq");var TurnupBossInfo=function(){function e(){var e=this;e.rbac=0,e.rbab=0,e.rbkt=0,e.bs={}}return Object.defineProperty(e.prototype,"maxCount",{get:function(){var e=this;return e.gr(),e.lr},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buyDamage",{get:function(){var e=this;return e.gr(),e._e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"buyDamagePoint",{get:function(){var e=this;return e.gr(),e.dh},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revivalTime",{get:function(){var e=this;return e.gr(),e.rs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"revivelPoint",{get:function(){var e=this;return e.gr(),e.pm},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hurtRate",{get:function(){var e=this;return e.gr(),e.xx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){var e=this;return e.gr(),e.bt},enumerable:!0,configurable:!0}),e.prototype.gr=function(){var e,t=this;if(t.lr||(e=(XCA.CG(IDU.TJ)||"").split(","),e.length&&(t.lr=parseInt(e[0])||0,t._e=parseInt(e[1])||0,t.dh=parseInt(e[2])||0,t.rs=parseInt(e[3])||0,t.pm=parseInt(e[4])||0,t.xx=parseInt(e[7])||0)),!t.bt&&(e=(XCA.CG(IDU.AV)||"11,13,15,17,19").split(","),e.length)){t.bt=[];for(var n=0;n<e.length;n++)t.bt.push(parseInt(e[n]))}},Object.defineProperty(e.prototype,"bossDic",{get:function(){return this.bs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"boss",{set:function(e){var t=this;if(e&&0!=e.length)for(var n,i=e.length,r=0;i>r;r++)n=e[r],t.bs[n.bid]?ObjectUtil.oto(n,t.bs[n.bid]):t.bs[n.bid]=n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"challengeBossId",{get:function(){var e,t=this;for(var n in t.bs)if(e=t.bs[n],e.rban)return e.bid;return 0},enumerable:!0,configurable:!0}),e.prototype.getBossInfoById=function(e){var t,n=this;for(var i in n.bs)if(t=n.bs[i],t.bid==e)return t;return null},Object.defineProperty(e.prototype,"stageScore",{get:function(){var e=this;if(!e.sd){e.sd=[];for(var t=XCA.CG(IDU.NO).split(","),n=0;n<t.length;n++)e.sd.push(parseInt(t[n]))}return e.sd},enumerable:!0,configurable:!0}),e}();__reflect(TurnupBossInfo.prototype,"TurnupBossInfo");var ChatItemData=function(){function e(){}return e}();__reflect(ChatItemData.prototype,"ChatItemData");var ChatVO=function(){function e(){this.reset()}return e.prototype.reset=function(){var e=this;e.op=0,e.uid=0,e.openid=QycO.OK,e.head=0,e.vip=0,e.name=QycO.OK,e.card=0,e.text=QycO.OK,e.gid=0,e.upid=0,e.rtime=0,e.read=!1,e.urt=0,e.fname=QycO.OK,e.fquality=0,e.textFormat=QycO.OK,e.bname=QycO.OK,e.name1=QycO.OK,e.bqua=0,e.diaLv=0,e.diaType=0,e.apid=0,e.apid1=0,e.duty=0,e.duty1=0,e.fid=0,e.fgrade=0,e.fid1=0,e.fgrade1=0,e.ho=0,e.heads=1,e.usehf=1,e.bubble=1,e.item=null},e}();__reflect(ChatVO.prototype,"ChatVO");var RedBagInfo=function(){function e(){this.msg="0",this.code=0,this.isSend=!1;var e=this;e.cs={},e.myRecords=[],e.message=[]}return Object.defineProperty(e.prototype,"redBagList",{get:function(){return this.cs},set:function(e){this.cs=e},enumerable:!0,configurable:!0}),e.prototype.getOneRedBagById=function(e){return this.cs[e]},e.prototype.setOneRedBagById=function(e,t){parseInt(e)<=0||(this.cs[e]=t)},Object.defineProperty(e.prototype,"sysMaxCount",{get:function(){var e=this;return!e.fw&&e.db(),e.fw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"oneMaxCount",{get:function(){var e=this;return!e.hx&&e.db(),e.hx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sendVipGrade",{get:function(){var e=this;return e.kp||(e.kp=App.XT.getMinVipGradeByType(23)),e.kp},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sendCount",{get:function(){var e=this,t=App.XT.vipGrade;return e.kd=App.XT.getPrivilegeByVipGradeAndType(t,23),e.kd},enumerable:!0,configurable:!0}),e.prototype.db=function(){var e=this,t=XCA.CG(IDU.KX)||"10, 5",n=t.split(QycO.XP);e.fw=parseInt(n[0]),e.hx=parseInt(n[1])},e.prototype.showEndTime=function(e){var t=this;if(t.hk||(t.hk=XCA.CG(IDU.SX)||"1800,3600,3600,5400"),!t.lt){t.lt={};var n=t.hk.split(QycO.XP);t.lt[1]=parseInt(n[1])||3600,t.lt[2]=parseInt(n[3])||5400}return t.lt?t.lt[e]||1:1},Object.defineProperty(e.prototype,"sendPointArr",{get:function(){var e=this;if(!e.qk){for(var t=XCA.CG(IDU.UP)||"2000,80,100|5000,160,125|10000,160,250|20000,320,250",n=t.split(QycO.PK),i=[],r=[],a=0;a<n.length;a++)r=n[a].split(QycO.XP),r.length>0&&i.push(r[0]);e.qk=i}return e.qk},enumerable:!0,configurable:!0}),e.prototype.getCostPointByCount=function(e){var t=this;if(t.mc||(t.mc=XCA.CG(IDU.UP)||"2000,80,100|5000,160,125|10000,160,250|20000,320,250"),!t.oi){t.oi={};for(var n=t.mc.split(QycO.PK),i=[],r=0;r<n.length;r++)i=n[r].split(QycO.XP),i.length>=3&&(t.oi[i[0]]=i[2])}return t.oi?t.oi[e]||0:0},Object.defineProperty(e.prototype,"playerRedbBagCount",{get:function(){var e,t=0,n=this.redBagList;for(var i in n)e=n[i],e&&2==e.type&&t++;return t},enumerable:!0,configurable:!0}),e}();__reflect(RedBagInfo.prototype,"RedBagInfo");var CityBattlePlayerVo=function(){function e(){}return e}();__reflect(CityBattlePlayerVo.prototype,"CityBattlePlayerVo");var CityBattleResultsVo=function(){function e(){}return e}();__reflect(CityBattleResultsVo.prototype,"CityBattleResultsVo");var CityBattleRewardVo=function(){function e(){}return e}();__reflect(CityBattleRewardVo.prototype,"CityBattleRewardVo");var CityBattleScoreVo=function(){function e(){}return e}();__reflect(CityBattleScoreVo.prototype,"CityBattleScoreVo");var CityBattleVo=function(){function e(){}return e}();__reflect(CityBattleVo.prototype,"CityBattleVo");var ConsVO=function(){function e(){var e=this;e.grade=0,e.cap=0,e.haveDict={}}return e}();__reflect(ConsVO.prototype,"ConsVO");var DamageDataVO=function(){function e(){this.atkx=0,this.atky=0,this.delay=0}return e.prototype.recycle=function(){var e=this;e.atkx=0,e.atky=0},e}();__reflect(DamageDataVO.prototype,"DamageDataVO",["DamageDataTvo","ICache"]);var EmailInfo=function(){function e(){this.requested=!1}return e}();__reflect(EmailInfo.prototype,"EmailInfo");var EvDayReChgVO=function(){function e(){var e=this;e.r=0,e.cd=0,e.hr=0}return e}();__reflect(EvDayReChgVO.prototype,"EvDayReChgVO");var ExploreResultVo=function(){function e(){}return e}();__reflect(ExploreResultVo.prototype,"ExploreResultVo");var ExploreTempVo=function(){function e(){}return e}();__reflect(ExploreTempVo.prototype,"ExploreTempVo");var SingleSelectItemVo=function(){function e(){}return e}();__reflect(SingleSelectItemVo.prototype,"SingleSelectItemVo");var FunnyBagData=function(){function e(){var e=this;e.status=0,e.ci=[],e.pr=[]}return Object.defineProperty(e.prototype,"rewardList",{get:function(){return this.pr},set:function(e){var t=this;t.pr=[];for(var n,i=e.length,r=0;i>r;r++)n=GObj.$c(FunnyRewardData),ObjectUtil.oto(e[r],n),t.pr.push(n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionList",{get:function(){return this.ci},set:function(e){var t=this;t.ci=[];for(var n,i=e.length,r=0;i>r;r++)n=GObj.$c(FunnyConditionData),ObjectUtil.oto(e[r],n),t.ci.push(n)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bagTitle",{get:function(){var e=this;if(e.ci.length<=0)return"";var t=e.ci[0],n="";switch(e.funnyType){case 10003:n=fvg.GVf("funnyTitle10003");break;case 10015:case 10016:n=t.value==t.p2?t.p1?fvg.GVf("funnyTitle10015_2",t.p1):fvg.GVf("funnyTitle10015_1"):fvg.GVf("funnyTitle10015_3");break;case 10017:case 10029:var i=XCA.FR(t.p4);n=fvg.GVf("funnyTitle10017",i?i.name:"",t.value);break;case 10042:n=fvg.GVf("funny44",t.p1);break;default:n=fvg.GVf("funnyTitle"+e.funnyType,t.value)}return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionType",{get:function(){var e=this;return e.ci.length>0?e.ci[0].type:0},enumerable:!0,configurable:!0}),e.prototype.getConditionGoods=function(){var e=this;if(e.tq)return e.tq;if(e.tq=[],10003==e.funnyType){var t=e.ci[0];if(t)for(var n=void 0,i=1;6>=i;i+=2)t["p"+i]&&(n=GObj.$c(nlwj),n.tid=t["p"+(i+1)],n.count=t["p"+i],e.tq.push(n))}return e.tq},e}();__reflect(FunnyBagData.prototype,"FunnyBagData");var FunnyConditionData=function(){function e(){}return e}();__reflect(FunnyConditionData.prototype,"FunnyConditionData");var FunnyRewardData=function(){function e(){}return e}();__reflect(FunnyRewardData.prototype,"FunnyRewardData");var FunnyVo=function(){function e(){this.mp=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return this.lo},set:function(e){var t=this;if(e!=t.lo){t.lo=e;for(var n=t.mp.length,i=0;n>i;i++)t.mp[i].funnyType=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bagList",{get:function(){var e=this;return 10015==e.lo||10016==e.lo?e.mu():e.mp},set:function(e){for(var t=this,n=e.length,i=0;n>i;i++){var r=t.yx(e[i].id);r||(r=GObj.$c(FunnyBagData),t.mp.push(r),r.funnyType=t.type),ObjectUtil.oto(e[i],r)}t.mp.sort(t.wt)},enumerable:!0,configurable:!0}),e.prototype.mu=function(){for(var e,t,n=this,i=[],r=0;r<n.mp.length;r++)e=n.mp[r],t=e.conditionList[0],t&&(t.value==n.p1||t.value==n.p1+1&&!t.p1)&&(t.p2=n.p1,i.push(e));return i},e.prototype.yx=function(e){for(var t=this,n=t.mp.length,i=0;n>i;i++)if(t.mp[i].id==e)return t.mp[i];return null},Object.defineProperty(e.prototype,"hasReceiveBag",{get:function(){var e=this;if(10018==e.type)return App.MG.treasureData.hasRedPoint;if(10021==e.type)return App.MG.rechargeTreasurData.hasRedPoint;if(10036==e.type)return UsU.VF(e);for(var t=e.bagList.length,n=void 0,i=0;t>i;i++)if(n=e.bagList[i],1==n.status)return!0;return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExist",{get:function(){var e=this,t=ClockManager.instance.serverSecond;return e.showStart<=t&&e.showEnd>=t+5},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpired",{get:function(){var e=ClockManager.instance.serverSecond;return this.endTime<=e},enumerable:!0,configurable:!0}),e.prototype.wt=function(e,t){var n=2!=e.status?e.status+2:1,i=2!=t.status?t.status+2:1;return n==i?e.sort<t.sort?-1:1:n>i?-1:1},e.prototype.xf=function(e,t){return e.sort<t.sort?-1:1},e.prototype.getBagDataBySort=function(e){for(var t=this,n=t.mp.length,i=0;n>i;i++)if(t.mp[i].sort==e)return t.mp[i];return null},e}();__reflect(FunnyVo.prototype,"FunnyVo");var TreasureData=function(){function e(e){var t=this;t.type=e,t.charge=0,t.score=0,t.levels=[],t.selfRecords=[],t.crossRecords=[],t.crossTime=0,t.prompt=!1,t.hb=0}return Object.defineProperty(e.prototype,"canReceiveStageBox",{get:function(){var e=this;return 10018==e.type?!e.isReceived&&e.score>=e.targetScore:10021==e.type?!e.isReceived&&e.charge>=e.targetScore:!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasRedPoint",{get:function(){var e=this,t=!1;return 10018==e.type?t=App.FK.hsx(StaticData.TID_GOODS_10)>0:10021==e.type&&(t=e.score>=e.onePrice),e.canReceiveStageBox||t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targetScore",{get:function(){var e=this,t=0,n=e.getFunnyId();10018==e.type?t=App.BG.stageBoxState["6_"+n]||0:10021==e.type&&(t=App.BG.stageBoxState["7_"+n]||0);for(var i=-1,r=e.scoreArr.length,a=0;r>a;a++)if(0==(t&1<<a)){i=a;break}return-1==i?0:parseInt(e.scoreArr[i])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReceived",{get:function(){var e=this,t=0,n=e.getFunnyId();10018==e.type?t=App.BG.stageBoxState["6_"+n]||0:10021==e.type&&(t=App.BG.stageBoxState["7_"+n]||0);var i=e.scoreArr.length-1;return(t&1<<i)>0},enumerable:!0,configurable:!0}),e.prototype.getFunnyId=function(){for(var e=App.MG.funnyList,t=e.length,n=0;t>n;n++)if(e[n].type==this.type&&e[n].isExist)return e[n].id;return""},Object.defineProperty(e.prototype,"scoreArr",{get:function(){var e=this;if(!e.u_){var t="";10018==e.type?t=XCA.CG(IDU.SO):10021==e.type&&(t=XCA.CG(IDU.HA)),e.u_=t.split(",")}return e.u_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"onePrice",{get:function(){var e=this;if(!e.hb)if(10018==e.type){var t=XCA.CG(IDU.OZ);e.hb=parseInt(t.split(",")[1])||0}else 10021==e.type&&(e.hb=parseInt(XCA.CG(IDU.WZ))||6);return e.hb},enumerable:!0,configurable:!0}),e}();__reflect(TreasureData.prototype,"TreasureData");var GoalDayInfo=function(){function e(){}return e}();__reflect(GoalDayInfo.prototype,"GoalDayInfo");var GoalRankInfo=function(){function e(){}return e}();__reflect(GoalRankInfo.prototype,"GoalRankInfo");var HarryPlateNoticeVO=function(){function e(){}return e}();__reflect(HarryPlateNoticeVO.prototype,"HarryPlateNoticeVO");var HarryResultsVO=function(){function e(){}return e}();__reflect(HarryResultsVO.prototype,"HarryResultsVO");var HarryScoreVO=function(){function e(){}return e}();__reflect(HarryScoreVO.prototype,"HarryScoreVO");var HarryVO=function(){function e(){this.winner=GObj.$c(RoleVO)}return e}();__reflect(HarryVO.prototype,"HarryVO");var CrossHarryResultsVO=function(){function e(){}return e}();__reflect(CrossHarryResultsVO.prototype,"CrossHarryResultsVO");var CrossHarryScoreVO=function(){function e(){}return e}();__reflect(CrossHarryScoreVO.prototype,"CrossHarryScoreVO");var CrossHarryVO=function(){function e(){this.winner=GObj.$c(RoleVO)}return e}();__reflect(CrossHarryVO.prototype,"CrossHarryVO");var IndulgeVo=function(){function e(){this.totalTime=-1,this.isInAAS=!1,this.initTime=0,this.time=0,this.isWrite=!1,this.age=18}return e}();__reflect(IndulgeVo.prototype,"IndulgeVo");var LoginErrorType=function(){function e(){}return e.OL=1,e.OA=2,e.T_=3,e.SW=4,e.KX=5,e.NY=6,e.AH=7,e.TO=8,e.YQ=9,e._N=10,e.CB=11,e.ZW=1e3,e.NG=1001,e.IM=1002,e.CC=1003,e.DK=1004,e.JU=1005,e.PH=1006,e.HB=1007,e.FP=1008,e.QP=1009,e}();__reflect(LoginErrorType.prototype,"LoginErrorType");var AdvancedVo=function(){function e(){var e=this;e.g=0,e.cap=0,e.gp_1=0,e.gat_1=0,e.use=0}return e}();__reflect(AdvancedVo.prototype,"AdvancedVo");var RisingStarVo=function(){function e(){var e=this;e.starArr={},e.cap=0}return e}();__reflect(RisingStarVo.prototype,"RisingStarVo");var MartialArtAvatarInfo=function(){function e(){this.stg=0}return e}();__reflect(MartialArtAvatarInfo.prototype,"MartialArtAvatarInfo");var MartialArtInfoVO=function(){function e(){this.duty_today_buy=0;var e=this;e.fid=0,e.qtime=0,e.act=0,e.fm=0,e.gct=0,e.duty=0,e.feats=0,e.fgrade=0,e.score=0,e.boxv=0,e.foct=0,e.fobct=0,e.foclt=0,e.tscore=0,e.v1=0,e.v2=0,e.v3=0}return e}();__reflect(MartialArtInfoVO.prototype,"MartialArtInfoVO");var MartialArtListVO=function(){function e(){this.fid=0,this.fv={},this.bact={},this.filog=[],this.dk={},this.jp=[],this.status=1,this.dutytime=0,this.avatars={},this.fgrade=1,this.bz=!1,this.assetc=0,this.tj={},this.win=0,this.iffirst=0,this.stg=0}return Object.defineProperty(e.prototype,"mids",{get:function(){return this.dk},set:function(e){if(e&&this.dk!=e){this.bz=!1;for(var t in e)this.dk[t]=e[t];this.jp.length=0;var n;for(t in this.dk)n=this.dk[t],n&&(n.dutyId=0),this.jp.push(this.dk[t]);if(this.fv){var i;for(i in this.fv){var r=this.fv[i];n=this.dk[r],n&&(n.dutyId=parseInt(i))}}}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dumap",{get:function(){var e=this;return e.fv?e.fv:{}},set:function(e){var t=this;if(t.fv=e,t.bz=!1,t.dk&&t.fv){var n,i=void 0;for(n in t.fv){var r=t.fv[n];i=t.dk[r],i&&(i.dutyId=parseInt(n))}}},enumerable:!0,configurable:!0}),e.prototype.onsoft=function(e,t){return e.dutyId&&t.dutyId?e.dutyId<t.dutyId?-1:1:e.dutyId||t.dutyId?e.dutyId>t.dutyId?-1:1:e.cap>=t.cap?-1:1},Object.defineProperty(e.prototype,"memberList",{get:function(){var e=this;return e.jp?(e.bz||(e.jp.sort(e.onsoft),e.bz=!0),e.jp):(e.jp=[],e.jp)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chairmanVo",{get:function(){var e=this;if(!e.dk||!e.fv)return null;var t;for(t in e.fv)if(parseInt(t)==MartialArtOfficial.off1)return e.dk[e.fv[t]];return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"elite",{get:function(){return this.hg||[]},set:function(e){this.hg=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assetu",{get:function(){return this.tj||{}},set:function(e){this.tj=e},enumerable:!0,configurable:!0}),e}();__reflect(MartialArtListVO.prototype,"MartialArtListVO");var MartialArtLogVO=function(){function e(){}return e}();__reflect(MartialArtLogVO.prototype,"MartialArtLogVO");var MartialArtMemberVO=function(){function e(){}return e}();__reflect(MartialArtMemberVO.prototype,"MartialArtMemberVO");var MartialartProvokeLogVO=function(){function e(){}return e}();__reflect(MartialartProvokeLogVO.prototype,"MartialartProvokeLogVO");var MartialArtShopVO=function(){function e(){}return e}();__reflect(MartialArtShopVO.prototype,"MartialArtShopVO");var MartialArtVO=function(){function e(){}return e}();__reflect(MartialArtVO.prototype,"MartialArtVO");var fHq=function(){function e(){}return e.QC=1,e.IB=2,e.XS=3,e.OP=4,e.MM=5,e.XW=6,e}();__reflect(fHq.prototype,"fHq");var MXy=function(){function e(){var e=this;e.offsetX=0,e.offsetY=0,e.waitTime=6,e.parentC=App.FT.uiLayer,e.transparent=!0,e.autoClick=!0,e.txtDir=1}return e.prototype.setCallBack=function(e,t){var n=this;
n.callBack=e,n.thisObj=t},e.prototype.clear=function(){var e=this;e.Fuu=null,e.txt=null,e.txtDir=1,e.callBack=null,e.thisObj=null,e.parentC=null},e}();__reflect(MXy.prototype,"MXy");var OtherBasicVo=function(){function e(){}return e}();__reflect(OtherBasicVo.prototype,"OtherBasicVo");var OtherCardVo=function(){function e(){this.gb()}return e.prototype.gb=function(){var e=this;e.hck=GObj.$c(OtherKnightVo),e.ev=GObj.$c(OtherTianLongVo)},e}();__reflect(OtherCardVo.prototype,"OtherCardVo");var OtherKnightVo=function(){function e(){this.za()}return e.prototype.za=function(){var e=this;e.yx={},e.yxstep={}},e}();__reflect(OtherKnightVo.prototype,"OtherKnightVo");var OtherPlayerVo=function(){function e(){this.bs()}return e.prototype.bs=function(){var e=this;e.playerUid=0,e.basicInfo=GObj.$c(OtherBasicVo),e.equipInfo={},e.evilequip={},e.rankInfo=GObj.$c(OtherRankVo),e.superInfo=GObj.$c(OtherSuperVo),e.cardInfo=GObj.$c(OtherCardVo),e.updateTime=[],e.illusInfo={}},e}();__reflect(OtherPlayerVo.prototype,"OtherPlayerVo");var OtherRankVo=function(){function e(){}return e}();__reflect(OtherRankVo.prototype,"OtherRankVo");var OtherSuperVo=function(){function e(){this.tp()}return e.prototype.tp=function(){var e=this;e.sw={count:0,cap:0},e.sc={count:0,cap:0},e.sf={count:0,cap:0},e.cp={count:0,cap:0},e.tu={count:0,cap:0},e.zoo={count:0,cap:0},e.ec={count:0,cap:0},e.hc={count:0,cap:0}},e}();__reflect(OtherSuperVo.prototype,"OtherSuperVo");var OtherTianLongVo=function(){function e(){this.o_()}return e.prototype.o_=function(){var e=this;e.quality={},e.EVquality={}},e}();__reflect(OtherTianLongVo.prototype,"OtherTianLongVo");var PalaceBossInfo=function(){function e(){this.bigNames=[],this.week=1;var e=this;e.ux(),e.last_buy_count=0}return e.prototype.ux=function(){var e=this;vkG.$a(UtJ.UH,e.un,e)},e.prototype.un=function(){var e=this;e.vd=null,e.open_time_arr,e.dv=0,e.kill_boss_token_point,e.ts=0,e.max_buy_count},Object.defineProperty(e.prototype,"openInfo",{get:function(){for(var e,t=App.NN.date,n=3600*t.getHours()+60*t.getMinutes()+t.getSeconds(),i=this.open_time_arr,r=0;r<i.length;r++)if(e=i[r],n<e.st||n>=e.st&&n<e.st+e.ct)return e;return i[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"open_time_arr",{get:function(){var e=this;if(!e.vd){e.vd=[];for(var t=XCA.CG(IDU.OP)||"43200,3600|64800,3600",n=t.split(QycO.PK),i=void 0,r=void 0,a=0;a<n.length;a++)i=n[a].split(QycO.XP),r={},r.st=parseInt(i[0]),r.ct=parseInt(i[1]),e.vd.push(r);e.vd.sort(e.md)}return e.vd},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"kill_boss_token_point",{get:function(){var e=this;return e.dv||(e.dv=parseInt(XCA.CG(IDU.VL)||"250")),e.dv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max_buy_count",{get:function(){var e=this;return e.ts||(e.ts=parseInt(XCA.CG(IDU.YA)||"10")),e.ts},enumerable:!0,configurable:!0}),e.prototype.md=function(e,t){return e.st<=t.st?-1:1},e}();__reflect(PalaceBossInfo.prototype,"PalaceBossInfo");var OfflineVo=function(){function e(){}return e}();__reflect(OfflineVo.prototype,"OfflineVo");var PlatformInfo=function(){function e(){var e=this;e.platform="",e.payUnit="",e.payRate=10,e.serverGroup="",e.pcUrl="",e.enterGameGift=!1,e.loginPicture=""}return e}();__reflect(PlatformInfo.prototype,"PlatformInfo");var xxf=function(e){function t(){var t=e.call(this)||this;return t.hprev=0,t.interval=0,t.negdefrate=0,t.neghitrate=0,t.cdrate=0,t.gpimprate=0,t.init(),t}return __extends(t,e),Object.defineProperty(t.prototype,"feretime",{get:function(){return this.qr},set:function(e){this.qr=e},enumerable:!0,configurable:!0}),t.UK={atk:"",def:"",hp:"",crit:"",recr:"",dodge:"",hit:"",hprev:"",redef:"",interval:"",lfh:"",it:"",feretime:"",feregj:"",wlhhr:"Hp",wlbr:"boss",bpt:"",zhitdam:"",hhitdam:"",ratk:"",inres:"",rareanimalsatk:"",bladedam:"",bladeredef:"",bladeatk:"",lv5_atk:"5",lv5_hp:"5",lv5_def:"5",lv5_redef:"5",lv5_crit:"5",lv5_recr:"5",lv5_dodge:"5",lv5_hit:"5"},t.IM={imprate:"",decrate:"",critrate:"",recrate:"",dorate:"",hitrate:"",crdamrate:"",negdefrate:"",neghitrate:"",cdrate:"",hpdrainrate:"",rebdrate:"",gpimprate:"",actatk:"",actcritrate:"",actcritharm:"",fereatk:"",lr:"",lc:"",lh:"",il:"",ix:"",iy:"",exr:"",exn:"",reex:"",darkone:"",darktwo:"",darkthree:"",darkfour:"",sword:"BOSS",wlch:"",wlcr:"",wlir:"",wlcct:"",wlhp:"",wldef:"",wldodge:"",wlhit:"",bpp:"",assaultratio:"",evcardpropve:"",evcardatkpve:"",evcardpropvp:"",evcardatkpvp:"",equip1imprate:"",equip2imprate:"",equip3imprate:"",equip4imprate:"",equip5imprate:"",equip6imprate:"",equip7imprate:"",equip8imprate:"",hhitrate:"",hhitdamrate:"",hhitdamdkl:"",hhitdamjsl:"",zhitrate:"",zhitdamrate:"",zhitdamdkl:"",zhitdamjsl:"",uscdrate:"",ushrate:"",rareanimalsimprate:"",ferecrith:"",ferecrit:"",ferepietodampre:"",feredeftodampre:"",ferecritodampre:"",ferehittodampre:"",ferefulldampre:"70%",feretoweakdampre:"30%",bladeatkrate:"",bladedamrate:"",bladecrit:"",rise_atk:"",rise_hp:"",rise_def:"",rise_redef:"",rise_crit:"",rise_recr:"",rise_dodge:"",rise_hit:""},t}(DnQ);__reflect(xxf.prototype,"xxf");var PlayerVO=function(){function e(){this.ssite=QycO.OK,this.rewardState=0,this.vipcard=0,this.apid=0,this.fid=0,this.duty=0,this.fgrade=0,this.within=0,this.stg=0,this.happy_clear=0,this.cr=!1;var e=this;e.uid=0,e.name="",e.grade=0,e.point=0,e.gold=0,e.sex=0,e.gp=0,e.speed="",e.sp=0,e.chapter=1,e.acvalue=0,e.acbox=0,e.chbox=0,e.allcharge=0,e.monthcharge=0,e.days=0,e.award=0,e.openDict={},e.extreme=0,e.obgp=0,e.head={},e.frame={},e.bubble={},e.currentHead=0,e.currentFrame=0,e.currentBubble=0,e.happy_clear=0,e.et={},e.hcccp=0,e.fpjt=0,e.ushr=0,e.uscr=0,e.charm=0,e.offlineStatic=0,e.offlineTime=0,e.skipStory=!1,e.canCharge=!0}return Object.defineProperty(e.prototype,"sex",{get:function(){return StaticData.SEX_BOY},set:function(e){this.oc=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(e){this._b=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"c",{get:function(){return this._c},set:function(e){this._c=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fere",{get:function(){return this._fere},set:function(e){this._fere=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rare",{get:function(){return this._rare},set:function(e){this._rare=e},enumerable:!0,configurable:!0}),e.prototype.init=function(){var e=this;e.cr||(e.cr=!0,vkG.$d(UtJ.SO))},Object.defineProperty(e.prototype,"isGM",{get:function(){return 1==this.urt},enumerable:!0,configurable:!0}),e}();__reflect(PlayerVO.prototype,"PlayerVO");var TurnupInfo=function(){function e(){var e=this;e.grade=0,e.cap=0,e.cond_prog_1=0,e.cond_prog_2=0,e.cond_prog_3=0,e.cond_prog_4=0,e.trial=0}return Object.defineProperty(e.prototype,"turnupNum",{get:function(){return App.JP.getTurnupGrade(this.grade)},enumerable:!0,configurable:!0}),e}();__reflect(TurnupInfo.prototype,"TurnupInfo");var GeneralRankVo=function(){function e(){}return e}();__reflect(GeneralRankVo.prototype,"GeneralRankVo");var GeneralRankData=function(){function e(){}return e}();__reflect(GeneralRankData.prototype,"GeneralRankData");var RankListVO=function(){function e(){this.list=[]}return e}();__reflect(RankListVO.prototype,"RankListVO");var RankVO=function(){function e(){this.rank=1,this.stg=0,this.heads=1,this.usehf=1}return Object.defineProperty(e.prototype,"head",{get:function(){return this.nx||"1"},set:function(e){this.nx=e},enumerable:!0,configurable:!0}),e}();__reflect(RankVO.prototype,"RankVO");var RedEnvelopesInfo=function(){function e(){var e=this;e.sb=0,e.tm=0,e.nesm=0,e.ibgb=0,e.bgtp=0,e.gtm=0,e.negm=0,e.xjhbc=0,e.xjhbm=0,e.m_1=0,e.m_2=0,e.m_3=0,e.m_4=0,e.m_5=0,e.m_6=0,e.m_7=0}return e}();__reflect(RedEnvelopesInfo.prototype,"RedEnvelopesInfo");var RetinueVO=function(){function e(){var e=this;e.grade=0,e.cap=0,e.snum=0,e.spiritCap=0,e.sgradeDict={},e.scapDict={},e.stempDict={},e.dataInitDone=!1,e.spiritDict={},e.retinueSkill={}}return Object.defineProperty(e.prototype,"maxPill",{get:function(){var e,t,n=this,i=0;App.JS.getRetinueInfoByType(32);for(e in n.sgradeDict)if(t=n.stempDict[e]){var r=App.JS.getSkinGrade(t.tid);i+=t.p1*r||0}return i+=App.OX.getBeautyPill()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"openSkinTypes",{get:function(){var e=[];for(var t in this.sgradeDict)-1==e.indexOf(t)&&e.push(t);return e},enumerable:!0,configurable:!0}),e}();__reflect(RetinueVO.prototype,"RetinueVO");var Shopnlwj=function(){function e(){this.buyCount=0}return Object.defineProperty(e.prototype,"isDiscount",{get:function(){return(this.discount||0)<100},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLimit",{get:function(){return this.limitCount>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canBuyCount",{get:function(){var e=this;return e.isLimit?e.limitCount-e.buyCount:999},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"limitCount",{get:function(){var e=this;return e.smbc?e.smbc:e.dmbc?e.dmbc:e.wmbc?e.wmbc:0},enumerable:!0,configurable:!0}),e}();__reflect(Shopnlwj.prototype,"Shopnlwj");var ActSkillInfo=function(){function e(){this.cv=0}return Object.defineProperty(e.prototype,"masType",{get:function(){return this.cc},set:function(e){this.cc=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subType",{get:function(){return this.yj},set:function(e){this.yj=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grade",{get:function(){return this.og||0},set:function(e){this.og=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extGrade",{get:function(){return this.ou||0},set:function(e){this.ou=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalGrade",{get:function(){var e=this;return e.grade+e.extGrade},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sonType",{get:function(){var e=this;return 1e3*e.cc+e.yj},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gp",{get:function(){return this.cv||0},set:function(e){this.cv=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"upgradeTemp",{get:function(){var e=this;return XCA.AQS.UFA(e.cc,e.yj,1)},enumerable:!0,configurable:!0}),e.NA=function(e,t){var n=Math.floor((e-1)/10),i=t.p2+t.p3*n*(n+1)/2+(e-10*n)*(t.p3/10)*(n+1);return 50*Math.floor(i/50)},e}();__reflect(ActSkillInfo.prototype,"ActSkillInfo");var SocietyInfo=function(){function e(){var e=this;e.id=0,e.gr=0,e.or=0,e.li=0}return e}();__reflect(SocietyInfo.prototype,"SocietyInfo");var SpecialInfo=function(){function e(){}return e}();__reflect(SpecialInfo.prototype,"SpecialInfo");var storeVo=function(){function e(){}return e}();__reflect(storeVo.prototype,"storeVo");var StoryInfo=function(){function e(){}return e.GY=function(e){var t=this;t._list={},t._list2={};var n,i,r,a,o,s;for(s in e)n=e[s],i=n.nvalue||0,r=n.type||0,a=n.trg||0,o=r+"_"+i+"_"+a,null!=t._list[s]&&errorNull("error: Story.jsonname>>> "+s),t._list[s]=n,t._list2[o]=s},e.PB=function(e){return this._list[e]},e._D=function(e,t,n){var i=e+"_"+t+"_"+n;return this._list2[i]},e.prototype.setStoryData=function(t){var n=this;n.cleanUp();var i=e.PB(t);return i?(n.qj=i.type,n.ww=i.stype,n.dx=i.trg,n.ay=i.nodes,n.mi=t,!0):!1},e.prototype.getNextInfo=function(){var e=this;return e.ih=e.ay[e.sk],e.sk++,e.ih},Object.defineProperty(e.prototype,"curType",{get:function(){var e=this;return null==e.ih?-1:e.ih.type},enumerable:!0,configurable:!0}),e.prototype.cleanUp=function(){this.ay=[],this.sk=0,this.mi=null,this.ih=null},Object.defineProperty(e.prototype,"scene",{get:function(){return this.ww},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trg",{get:function(){return this.dx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.qj},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currNameId",{get:function(){return this.mi},enumerable:!0,configurable:!0}),e}();__reflect(StoryInfo.prototype,"StoryInfo");var SuperequipCastingInfo=function(){function e(e){this.an=!1;var t=this,n=XCA.AQS.UFA(38,e,1);if(!n)return void errorNull("upgrade ");t["if"](n),t.grade=App.BG.superEquipInfo[e],t.name=n.name,t.gemInfo={};for(var i=1;4>=i;i++){var r=GObj.$c(SuperequipGemInfo);r.grade=0,r.type=0,t.gemInfo[i]=r}}return e.prototype["if"]=function(e){var t=this,n=e.p5.split("|"),i=e.p6.split("|");t.inlayType=[],t.holeLimit=[],t.inlayMaxLv=[],n[0].split(",").forEach(function(e){t.holeLimit.push(parseInt(e))}),n[1].split(",").forEach(function(e){t.inlayType.push(parseInt(e))});var r=function(e){var n=[];i[e].split(",").forEach(function(e){n.push(parseInt(e))}),t.inlayMaxLv.push(n)};for(var a in i)r(a)},e.prototype.getGemGrade=function(e){var t,n=this;for(t in n.gemInfo)if(e==n.gemInfo[t].type)return n.gemInfo[t].grade;return 0},e.prototype.getOpenCount=function(){for(var e=this,t=e.holeLimit,n=0,i=0;i<t.length&&e.grade>=t[i];i++)n++;return n},e.prototype.getMaxLvByGemType=function(e){var t=this,n=t.inlayType.indexOf(e);return t.inlayMaxLv[t.grade-1][n]},e.prototype.getMaxLv=function(e){var t=XCA.AQS.UFA(39,e,1),n=[];return t.p6.split(",").forEach(function(e){n.push(parseInt(e))}),n.length},e.prototype.getRemainGemType=function(){for(var e=this,t=[],n=1;4>=n;n++)-1!=e.inlayType.indexOf(e.gemInfo[n].type)&&t.push(e.gemInfo[n].type);for(var i=[],n=0;n<e.inlayType.length;n++)-1==t.indexOf(e.inlayType[n])&&i.push(e.inlayType[n]);return i},e.prototype.gemUpgradeCondition=function(e,t){for(var n,i=this,r=i.inlayType.indexOf(e),a=0;a<i.inlayMaxLv.length;a++)if(i.inlayMaxLv[a][r]==t){n=a+1;break}return n},e.prototype.handlerMsg=function(e){var t=this;for(var n in e){var i=parseInt(n.split("_")[1]),r=e[n];t.gemInfo[i].grade=r.sg,t.gemInfo[i].type=r.s}},e.prototype.getFight=function(){var e=this,t=GObj.$c(AttributeTemplate);t.p1=0;for(var n=1;4>=n;n++)if(0!=e.gemInfo[n].type&&0!=e.gemInfo[n].grade){var i=XCA.AQS.UFA(39,e.gemInfo[n].type,1);if(i){var r=XCA.YV(i.attrid+e.gemInfo[n].grade);r&&(t.p1+=r.p1)}}return e.us=t.p1,e.us},e}();__reflect(SuperequipCastingInfo.prototype,"SuperequipCastingInfo");var SuperequipGemInfo=function(e){function t(){return e.call(this)||this}return __extends(t,e),t}(Object);__reflect(SuperequipGemInfo.prototype,"SuperequipGemInfo");var SupremeCardVO=function(){function e(){var e=this;e.isgetWeek=!1,e.isgetMonth=!1,e.isgetForever=!1,e.isGetExpCard=!1,e.isWeekTime=0,e.isMonthTime=0,e.isForeverTime=0,e.isExpCardTime=0,e.weekTotalGet=0,e.monthTotalGet=0}return Object.defineProperty(e.prototype,"isWeek",{get:function(){var e=this;return e.isWeekTime>0||99999==e.isWeekTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isMonth",{get:function(){var e=this;return e.isMonthTime>0||99999==e.isMonthTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isForever",{get:function(){return this.isForeverTime>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isExpCard",{get:function(){return this.isExpCardTime>0},enumerable:!0,configurable:!0}),e}();__reflect(SupremeCardVO.prototype,"SupremeCardVO");var SupremeVO=function(){function e(){var e=this;e.isSilver=!1,e.isGold=!1,e.isPoint=!1,e.isgetSilver=!1,e.isgetGold=!1,e.isgetPoint=!1,e.isactivationSuccess=0}return e}();__reflect(SupremeVO.prototype,"SupremeVO");var TaskVO=function(){function e(){this.tid=0,this._pro=0,this.taskType=0}return Object.defineProperty(e.prototype,"pro",{get:function(){return this._pro},set:function(e){this._pro=e},enumerable:!0,configurable:!0}),e}();__reflect(TaskVO.prototype,"TaskVO");var MyTeamInfo=function(){function e(){}return Object.defineProperty(e.prototype,"tid",{get:function(){return this.qh},set:function(e){this.qh=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"captainId",{get:function(){return this.kh},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ps",{get:function(){return this.ix||[]},set:function(e){var t=this;if(t.ix=e,t.ix)for(var n=0;n<t.ix.length;n++)if(t.ix[n].iscap){t.kh=t.ix[n].uid;break}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"psnum",{get:function(){var e=this;return e.ix?e.ix.length:0},enumerable:!0,configurable:!0}),e.prototype.reset=function(){var e=this;e.qh=0,e.kh=0,e.ix=null},Object.defineProperty(e.prototype,"isCaptain",{get:function(){return App.KF.uid==this.kh},enumerable:!0,configurable:!0}),e}();__reflect(MyTeamInfo.prototype,"MyTeamInfo");var TeamInfo=function(){function e(){}return e}();__reflect(TeamInfo.prototype,"TeamInfo");var TeamPlayerInfo=function(){function e(){}return e}();__reflect(TeamPlayerInfo.prototype,"TeamPlayerInfo");var TipsVo=function(){function e(){}return e}();__reflect(TipsVo.prototype,"TipsVo");var TipsAdvancedVo=function(){function e(){}return e}();__reflect(TipsAdvancedVo.prototype,"TipsAdvancedVo");var SoulTipVo=function(){function e(){}return e}();__reflect(SoulTipVo.prototype,"SoulTipVo");var BigSkillTipVo=function(){function e(){}return e}();__reflect(BigSkillTipVo.prototype,"BigSkillTipVo");var BigSkillPTipVo=function(){function e(){}return e}();__reflect(BigSkillPTipVo.prototype,"BigSkillPTipVo");var WildTipVo=function(){function e(){}return e}();__reflect(WildTipVo.prototype,"WildTipVo");var AttrMediansVo=function(){function e(){}return e}();__reflect(AttrMediansVo.prototype,"AttrMediansVo");var QuaMediansVo=function(){function e(){}return e}();__reflect(QuaMediansVo.prototype,"QuaMediansVo");var BigSkillVo=function(){function e(){}return e}();__reflect(BigSkillVo.prototype,"BigSkillVo");var MediansVo=function(){function e(){}return e}();__reflect(MediansVo.prototype,"MediansVo");var GodWillSkillVo=function(){function e(){}return e}();__reflect(GodWillSkillVo.prototype,"GodWillSkillVo");var SkinTalentVo=function(){function e(){}return e}();__reflect(SkinTalentVo.prototype,"SkinTalentVo");var ValentinesVo=function(){function e(){this.position=0,this.layer=0,this.roll=0,this.preview="",this.bigpreview=""}return e}();__reflect(ValentinesVo.prototype,"ValentinesVo");var SvipInfo=function(){function e(){var e=this;e.vipGrade=0,e.rewardState=0,e.chargeGp=0,e.extraGp=0}return Object.defineProperty(e.prototype,"vipGp",{get:function(){var e=this;return e.chargeGp+e.extraGp},enumerable:!0,configurable:!0}),e}();__reflect(SvipInfo.prototype,"SvipInfo");var VipInfo=function(){function e(){var e=this;e.vipGrade=0,e.rewardState=0,e.chargeGp=0,e.extraGp=0}return Object.defineProperty(e.prototype,"vipGp",{get:function(){return this.chargeGp},enumerable:!0,configurable:!0}),e}();__reflect(VipInfo.prototype,"VipInfo");var VowLogInfo=function(){function e(){}return e}();__reflect(VowLogInfo.prototype,"VowLogInfo");var WealthDishVO=function(){function e(){var e=this;e.hasInfo=!1,e.hasClickOne=!1,e.hasClickTen=!1,e.score=0,e.award=0,e.notices=[],e.records=[],e.first=0,e.count=10,e.layer=1,e.ar_items=[],e.minimum=10,e.totalneed=100,e.jpCount=0}return e.prototype.hasGetreward=function(e){for(var t=this,n=0;n<t.ar_items.length;n++)if(t.ar_items[n]==e)return!0;return!1},e}();__reflect(WealthDishVO.prototype,"WealthDishVO");var PavilionVo=function(){function e(){this.id=0,this.fid=1,this.type=0,this.status=0,this.level=0,this.point=0}return e}();__reflect(PavilionVo.prototype,"PavilionVo");var WulinLeagueListVo=function(){function e(){this.sz={},this.bc=[],this.avatars={},this.qh={}}return Object.defineProperty(e.prototype,"mids",{get:function(){return this.sz},set:function(e){if(e&&this.sz!=e){for(var t in e)this.sz[t]=e[t];this.bc.length=0;var n;for(t in this.sz)n=this.sz[t],this.bc.push(this.sz[t])}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"memberList",{get:function(){var e=this;return e.bc?e.bc:(e.bc=[],e.bc)},enumerable:!0,configurable:!0}),e}();__reflect(WulinLeagueListVo.prototype,"WulinLeagueListVo");var WulinMemberVo=function(){function e(){this.type=0,this.id=0,this.sex=1,this.cap=0,this.name="",this.faction="",this.vip=0,this.status=0,this.heads=1,this.stg=0,this.b="",this.w="",this.ssite="",this.league_name="",this.c="",this.usehf=1}return e}();__reflect(WulinMemberVo.prototype,"WulinMemberVo"),window.LoginManager=LoginManager,window.EffectSheetCache=EffectSheetCache,window.LoaderManager=LoaderManager;